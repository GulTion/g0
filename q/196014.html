<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::196014</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>023</td><td>Vyxal 3 R</td><td>240410T185418Z</td><td><a href="https://codegolf.stackexchange.com/questions/196014/substitute-unprintable-ascii-characters/272482#272482">pacman25</a></td></tr>
<tr d-ix="1"><td>092</td><td>Red</td><td>191118T124126Z</td><td><a href="https://codegolf.stackexchange.com/questions/196014/substitute-unprintable-ascii-characters/196030#196030">Galen Iv</a></td></tr>
<tr d-ix="2"><td>066</td><td>JavaScript Node.js</td><td>191118T080244Z</td><td><a href="https://codegolf.stackexchange.com/questions/196014/substitute-unprintable-ascii-characters/196021#196021">Arnauld</a></td></tr>
<tr d-ix="3"><td>036</td><td>Ruby p</td><td>191120T062847Z</td><td><a href="https://codegolf.stackexchange.com/questions/196014/substitute-unprintable-ascii-characters/196128#196128">Value In</a></td></tr>
<tr d-ix="4"><td>078</td><td>Zsh</td><td>191118T035841Z</td><td><a href="https://codegolf.stackexchange.com/questions/196014/substitute-unprintable-ascii-characters/196017#196017">GammaFun</a></td></tr>
<tr d-ix="5"><td>075</td><td>C gcc</td><td>191118T074446Z</td><td><a href="https://codegolf.stackexchange.com/questions/196014/substitute-unprintable-ascii-characters/196020#196020">ErikF</a></td></tr>
<tr d-ix="6"><td>024</td><td>Retina 0.8.2</td><td>191118T005847Z</td><td><a href="https://codegolf.stackexchange.com/questions/196014/substitute-unprintable-ascii-characters/196016#196016">Neil</a></td></tr>
<tr d-ix="7"><td>069</td><td>Python 3</td><td>191118T083958Z</td><td><a href="https://codegolf.stackexchange.com/questions/196014/substitute-unprintable-ascii-characters/196022#196022">Jitse</a></td></tr>
<tr d-ix="8"><td>024</td><td>Jelly</td><td>191118T085226Z</td><td><a href="https://codegolf.stackexchange.com/questions/196014/substitute-unprintable-ascii-characters/196024#196024">Nick Ken</a></td></tr>
<tr d-ix="9"><td>027</td><td>Perl 5 pC Mutf8</td><td>191118T084614Z</td><td><a href="https://codegolf.stackexchange.com/questions/196014/substitute-unprintable-ascii-characters/196023#196023">Nahuel F</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-3" rel="nofollow noreferrer">Vyxal 3</a> <code>R</code>, 23 bytes</h1>
<pre><code>₃8Q8QṪ⸠~ᵃ$+Z₆v~!$;&amp;TO\ŀ
</code></pre>
<p><a href="https://vyxal.github.io/latest.html#WyJSIiwiMTI3ek/huKIiLCLigoM4UThR4bmq4rigfuG1gyQrWuKChnZ+ISQ7JlRPXFzFgCIsIiIsIiIsIjMuNC4yIl0=" rel="nofollow noreferrer">Try it Online!</a></p>
<p>i tried</p>
</div>
<div id="pu1" class="pu"><h1><a href="http://www.red-lang.org" rel="nofollow noreferrer">Red</a>, <s>94</s> 92 bytes</h1>

<pre><code>func[s][n: charset[not{&#9;
}#" "-#"~"]parse s[any[p: change n(to sp p/1 % 94 + 9216)| skip]]s]
</code></pre>

<p><a href="https://tio.run/##LctNCsIwGIThtTnFmCIoItIiSnsC125DFqVNtFi@hCQiUuvVY/92w8O8TtXxpmohmS4Q9Ysq4aWgAtWjdF4FQSZ0K9YnHPyQ8B@XdnR4UdJH2OlHdwXaBgNvYY8pNshP2CPP0vPuC/9srJReRqesKgMIaXYRsK4hoTFUnGNuSUo2chhoGdDorqptDXsb19brfnENPvFqZh7/" rel="nofollow noreferrer" title="Red – Try It Online">Try it online!</a></p>

<p>A port or @Arnauld's 74-byte <a href="https://codegolf.stackexchange.com/a/196021/75681">JavaScript solution</a>, don't forget to upvote his answer!</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://nodejs.org" rel="noreferrer">JavaScript (Node.js)</a>, <s> 67 </s> 66 bytes</h1>
<p><em>Saved 1 byte thanks to @Grimmy</em></p>
<pre class="lang-javascript prettyprint-override"><code>s=&gt;s.replace(/[^ -~ \n]/g,c=&gt;(B=Buffer)([226,144,B(c)[0]%94+128]))
</code></pre>
<p><sup>includes a literal <kbd>TAB</kbd></sup></p>
<p><a href="https://tio.run/##Dc69DoIwGIXhWa7iWwxf0wJCiD/BMuAlOCImTW0Rgy1p0cXorWOn551OzkO8hZdumObE2JtaNF88r33q1DQKqTBrr5D8VhfTZT2TvMaGNy@tlSPYFsWW5WXJGpSk3XTrQ0nzYt8Rsmjr0AOHOGZggnkVOAaLXShKCXwiAA@Uw3l2g@lT7ezzdBfuFE6gIVX0jaQ13o4qHW2PGn2Y/QM" rel="noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>How?</h3>
<p>We match all characters that are:</p>
<pre><code>   +-------&gt; neither printable
   |  +----&gt; nor a tabulation
   |  | +--&gt; nor a linefeed
  / \ | |
[^ -~\t\n]
</code></pre>
<p>and replace them with the UTF-8 sequence <span class="math-container">\$[226, 144, (n\bmod94)+128]\$</span>, where <span class="math-container">\$n\$</span> is the ASCII code of the original character.</p>
<p>This is equivalent to generating the code point <span class="math-container">\$(n\bmod94)+9216\$</span>. But given the length of the corresponding JS method names, that would be <s>74</s> 73 bytes in plain ES6:</p>

<pre class="lang-javascript prettyprint-override"><code>s=&gt;s.replace(/[^ -~ \n]/g,c=&gt;String.fromCharCode(c.charCodeAt()%94+9216))
</code></pre>
<p><a href="https://tio.run/##bY5Ba8JAFITPza94FUp2iW6IlBaxK0gu3hU8NC0sm01MWd@TfYsX0b@e7sGTCAPfMDDD/JmzYRuGU5whtW7s9Mh6xSq4kzfWifL7F2a3lwZ/yn5q9Wobw4C96gId64MJdeoIq@zdrqOQb4v3YjGvPqQcOwqCQUOeTwETq2XCV@L8M7mikHDJABgKDc92US6za2YJmbxTnnrRCZbyIZlsnPfUxD0F3742uDsMDElIEWIwyOnF0bVgIhjv1ST9@gc" rel="noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a> <code>-p</code>, 36 bytes</h1>

<p><code>\0</code> should really be a null byte but I was having trouble getting it in the code, oh well.</p>

<p>Input in STDIN should be the direct bytes but I put in some boilerplate code to make it more readable and obvious that they were the test cases.</p>



<pre class="lang-ruby prettyprint-override"><code>$_.tr!"\0-&#8;&#11;-&#31;&#127;","␀-␈␋-␟␡"
</code></pre>

<p><a href="https://tio.run/##ZY49CsJAEIVb0UO4GVK6Yce/aKG1N7BZCIkmEAgm5EdipaVgkxuIV8tBXF8gIGjx8Zhhv9mXV8HF2J7YiPDsJ8L2MDhlbpFWcjCS4ytNqG1usm3ubfNAPNvmRSarykLEkbAdsRVsSNccgUOf4U/@7WhIuzBJUl0rd5/mydHCBgODKZiBOViAZfcIrAA@UAHAEdUdUwAOw2E4DIfhMByGw3B4DXwQ9AWP3zJuV0Tn9E6zMk5PhZHZBw" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.zsh.org/" rel="nofollow noreferrer">Zsh</a>, <s>83 79</s> 78 bytes</h1>

<p><em>-4 bytes by changing to a recursive solution, (-0 from bugfix,) -1 by abusing unquoted empty parameters expanding to 0 words</em></p>



<pre class="lang-sh prettyprint-override"><code>&lt;&lt;&lt;${1+"${(#)$((x=#1,x&gt;126?x+9122:(x&lt;9)^(x&lt;11)^(x&lt;32)?x+9216:x))}`$0 ${1:1}`"}
</code></pre>

<p><s><a href="https://tio.run/##HY3BCsIwEETv@YqF5rBLpbArVBoT/RNBosV4sGAuwZJvj0kuMwxvmPnFV1mRsKzbFzyg3jEaQ5wpjq6GgTRicoM/pAvLfE3jwiIGk13oVpW521GoIeHZJKKsrLU6FlKqz26PJ4QP7DxNLKd8hnv0IYwO@0HDuVWhxnc97zSXPw" rel="nofollow noreferrer">Try it online!</a>
<a href="https://tio.run/##ZY7BDoIwEETvfMUGemhDQ9yiNdSiH2IwEJSIRpoIhyrpt1fgiJfdZN7szH77u28oo15rTUZUMRlpxAilNo@Q2yMKebJxhkIoanXGLtNEXFYq2IwESmUZc2FJNjBHoCtD51kQNOYNtbneoO1gxCRBsXcHqPq6beOcLkUzdrN1uqQPpdhCz8hTLBwARDAYA6@q@8CU9uzBdDC0Zu1PBZdp4day3PJs9y9nkk@vFM7/AA" rel="nofollow noreferrer" title="Zsh – Try It Online">Try it online!</a>
</s>
<a href="https://tio.run/##ZY7BDoIwEETvfMUGemhDQ9yiNdSiH2IwEJSIRpoIhyrpt2PhiJfdZN7szH77@9RQRietNRkxDslII0YotXmE3B5RyJONMxRCUaszdvETcVmpYDMSKJVlzJVkAz5BoStDN7EgaMwbanO9QdvBiEmCYu8OUPV128Y5XXpm7Garv6QPpdhCz8hTLBwARDAYA6@q@4BPe/ZgOhhas/angsu0cGtZbnm2@5czyf0rhZt@" rel="nofollow noreferrer" title="Zsh – Try It Online">Try it online!</a></p>

<p>In arithmetic contexts, <code>#1</code> is the code of the first character of <code>$1</code>. We use it 7 times, so <code>x=#1,</code> saves us 2 bytes. There may be a more compact way to do <code>(x&lt;9)^(x&lt;11)^(x&lt;32)</code>.</p>

<p>The <code>${1+foo}</code> expands to <code>foo</code> <em>unless</em> <code>$1</code> is undefined, providing our recursive base case. The <code>"`$0 ${1:1}`"</code> is the actual recursive call. When an empty parameter is unquoted, it is removed from the word list, thus causing the final recursion be run with zero arguments.</p>

<p>Running strings longer than about 35 characters with the recursive solution causes TIO to complain: "fork failed: resource temporarily unavailable". However, with usual resource limits on a desktop, there shouldn't be a problem.</p>

<p><strong>Potential changes:</strong></p>

<ul>
<li>With the flag <code>-oCPRECEDENCES</code>, <code>&lt;</code> binds more tightly than <code>^</code>, which would save 6 bytes by removing parentheses.</li>
<li>With the flag <code>-oEXTENDEDGLOB</code>, we gain access to backreferences using <code>(#m)</code> and the <code>$MATCH</code> parameter. An approach like Arnauld's Javascript answer could be used, but it ends up being longer than the purely arithmetic approach.</li>
<li>I also tried a transliterate solution, but the larger codepoints of the control pictures grew the bytecount too quickly.</li>
</ul>
</div>
<div id="pu5" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, <strike>119</strike> <strike>109</strike> <strike>108</strike> <strike>89</strike> 75 bytes</h1>
<p>Thanks to ceilingcat and Arnauld for the suggestions.</p>
<p>Like my original submission, the UTF-8 code sequence is largely hard-coded, but instead of using string literals an integer is used instead. This takes advantage of the fact that the LSB of an integer (on a little-endian processor) is the first byte stored in memory, and <code>0</code> MSB bytes map to <code>NUL</code> which terminates the string. For unprintable characters that map to the control pictures, three bytes are used to represent the value; one byte is used for everything else.</p>
<p>One trick which I use is to force the comparison of a contiguous range of values to zero so that I can use unsigned comparisons. This wraps around any values below the range to high values, allowing me to use a single compare (the <code>d-9U&gt;1</code>, which is true for x&lt;9 or x&gt;10.)</p>

<pre class="lang-c prettyprint-override"><code>d;f(char*s){for(;d=*s++;printf(&amp;d))d=d&gt;126|d&lt;32&amp;d-9U&gt;1?d%94&lt;&lt;16|8425698:d;}
</code></pre>
<p><a href="https://tio.run/##ZZBNT8JAEIbv/RVrjaS7BdMtUFq3xasH4o14EA9lp4UmlZJuURLgr1veKmqihyfzkX1mJqsHK63bllTu6HVaC8MPeVU7ihJhXFdt62LT5E6POKeEptIPjhQP/R4NovlU3tNNNIpjGRzDkT8OovCO1Km9Lja63FHGYtNQUd2up5aFKew1LTbOW1UQZweLsW4dE@b5JekqxuzFXuZAX2L2J/7r2f0v7yEry2qx9yZPVV3S1XcbHQl8MAQjMAZB9xKEAKu8JcA4rxvrATgSjoQj4Ug4Eo6EI@HICKRgeTmVfs@a/Jy0qC/Z43w2Q3LqMyGaxCgLxef/MtEott01xrFtzlnuiMZ1ubJO7YfOy3Rl2sH7GQ" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
<h2>Original version (89 bytes)</h2>
<p>As C doesn't handle UTF-8 natively, I output the hard-coded prefix bytes and compute the trailing byte (which is the only byte that requires changing) if I need to print a control picture glyph. Other than that, it's a pretty standard string-processing function.</p>

<pre class="lang-c prettyprint-override"><code>d;f(char*s){for(;d=*s++;printf(d&gt;126|d&lt;32&amp;d-9U&gt;1?&quot;\xE2\x90%c&quot;:&quot;%2$c&quot;,d%94+128,d));}
</code></pre>
<p><a href="https://tio.run/##ZZBNT8JAEIbv/RXrKqa7LaZTEKgL9WTigXgjHqyHskuhSaWkW5QE@evUt4qa6OHJfGSfmcnq7lLrpjEqc/UqraQV@6ysXGUm0nqe2lT5us5cE1M4eDfjXnhputEsplue7O7CZBcFHc1veCe80Nw3najvUTjyjRDq0Jzna11szYKNbW3y8moVOw6msZc0X7uvZW4E2zuMtWuZtE/Pk7ZiDJMpA/oUF3/ivx73v7z7RVGUyS4YPpZVYc6@2@gQwLFBD/TBNRi0L8EIYFUwBxgXtGMDAIfgEByCQ3AIDsEhOBSBFMxPp5rfs4Y/JyXVKXuYTadIDj6Tsp5Y5aD4/Gcma8U229q6nAvBMlfWnieUc2iOOivSpW26bx8" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language/a950ad7d925ec9316e3e2fb2cf5d49fd15d23e3d" rel="nofollow noreferrer">Retina 0.8.2</a>, <s>27</s> 24 bytes</h1>

<pre><code>T`&#1;-&#31;&#127;`␁-␟␡`[^&#9;\n]
</code></pre>

<p><a href="https://tio.run/##VY5ZasJwGMSJu1bctS4xiQfIFXz2AIIPLkSoD4WgIL5LWjdQdLTVLlYlV5uLpOlfBMvAD@b7GGaGvdFzv@s4dUPS1bFBWDpxIWyj2Qm3@m3HUWVVcSWg6VVNvH8Ez3f8ZyO1nmkOgo3B0Hyq/IWEJ@bXS0TyeH3@QDAUfYjFE8lUOpPNPeYLxZJcVtTxtcQiXohXYkJMiZkbJhbEilgSa2JDgNgSO@KNeCf2xIH4ID6JL@KbOIqlp9s0@xc" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> <code>T</code>ransliterates the unprintables to the appropriate control pictures, but the tabs and newlines are excluded (for a 3-byte saving). Note: No CRs in the test cases because I don't know how to demonstrate them in TIO. Code would probably work with nulls with the obvious adjustments for the same byte count, but I don't know how to test that either.</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 69 bytes</h1>



<pre class="lang-python prettyprint-override"><code>lambda s:s.translate({i%128:i%34+9216for i in{*range(-1,32)}-{9,10}})
</code></pre>

<p><a href="https://tio.run/##PYyxDsIgFAB3vwKHBtC2KcWobeLuH7h0QVvsMwgNMGgI344kRm@@u@XtZ6N5kqchKfG8jgK53tXeCu2U8BMJULD22EPBd9uuZXtpLAIEOmyycp9IxUre0liFrmRNjDQtFrQnkmBcPwxocpstAfrL0LfKS5pZ/eXzpJQZXs3hYqwa15jS9AE" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 24 bytes</h1>

<pre><code>32R;Ø⁷’ḟ9ḟ⁵ż%94+⁽ ḥƊ$ỌFy
</code></pre>

<p><a href="https://tio.run/##AVQAq/9qZWxsef//MzJSO8OY4oG34oCZ4bifOeG4n@KBtcW8JTk0K@KBvSDhuKXGiiThu4xGef874oCcIC0@IOKAnTvDhwoxMjjhuLZzOOG7jMOH4oKsWf8" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>

<p>A monadic link taking a Jelly string and returning a Jelly string with the desired substitutions.</p>
</div>
<div id="pu9" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a>  (<code>-pC -Mutf8</code>), 27 bytes</h1>

<p>same as Neil's retina solution</p>



<pre class="lang-perl prettyprint-override"><code>y;&#1;-&#8;&#11;-&#31;&#127;;␁-␈␋-␟␡
</code></pre>

<p><a href="https://tio.run/##VY7LSsNQGISprbYk0tp6qdpL6lY4ZiUIATduunHtCzSCEExI2oWrEm8VlDpaq/VOXm0epKfHEwTlh/mZgWG@wA29XRnZLbG/s23bjjxzMqJgCqvvELEgbohb9b6JREqrbjXVaVGNls4/tH790X/WaLue5@eP/NDrbP2UtCcGaWJk5rK5@YV8YdEslpbKleWV1bXq@sZmrd5oWv10JCbOiQvikrgirlVZg90pNmJI3BMgHohHYkQ8EWPimXghJsQr8Ua8a9LPX7Rk6gfdE/80kiI4kOKw1z3emwE" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/196014/">196014</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




