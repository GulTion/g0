<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::266553</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>154</td><td>Python</td><td>231107T082151Z</td><td><a href="https://codegolf.stackexchange.com/questions/266553/produce-the-shortest-suffix-for-an-almost-arbitrary-string/266556#266556">bsoelch</a></td></tr>
<tr d-ix="1"><td>038</td><td>Charcoal</td><td>231107T081343Z</td><td><a href="https://codegolf.stackexchange.com/questions/266553/produce-the-shortest-suffix-for-an-almost-arbitrary-string/266555#266555">Neil</a></td></tr>
<tr d-ix="2"><td>127</td><td>JavaScript Node.js</td><td>231107T124649Z</td><td><a href="https://codegolf.stackexchange.com/questions/266553/produce-the-shortest-suffix-for-an-almost-arbitrary-string/266564#266564">Arnauld</a></td></tr>
<tr d-ix="3"><td>267</td><td>Scala</td><td>231107T112855Z</td><td><a href="https://codegolf.stackexchange.com/questions/266553/produce-the-shortest-suffix-for-an-almost-arbitrary-string/266558#266558">138 Aspe</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 154 bytes</h1>
<pre class="lang-python prettyprint-override"><code>def f(s,q=&quot;&quot;,Q=[]):
 while(i:=0)+sum((i:=i+1)*ord(c)for c in s+q)%1000:Q=[q+c for c in&quot;._&quot;+ascii_letters+digits]+Q;q=Q.pop()
 return q
from string import*
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=VZDPSsNAEMbveYphobDbrSVRipKSkwe9BgQPUopkd9uBTWb_TBBfRS-96Dv5Nka0Qm7f9_tmmOF7_wyvfKThdPoY2V3cfL0Z68DJvIqNEKu2edqpuoCXI3orsW5KpfPYyx-JulJLSkZ2ylGCDnCArKNaVGVZ1tNm1B2cE7HeC_2cO8S9t8w2ZW3wgJx3ut3Gpl0HClIVkCyPaYBYuEQ9ZE44HAD7QImXfx_2YYIsnRRCqeLfGGNm_sFmnoF76z3BIyU_H7y82lxX1QzdkrF35N0Ef4-e6_kG" rel="nofollow noreferrer">Attempt This Online!</a></p>
<hr />
<h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 159 bytes</h1>
<p><em>without using imports</em></p>
<pre class="lang-python prettyprint-override"><code>def f(s,q=&quot;&quot;,Q=[],l={*map(chr,range(46,123))}-{*&quot;/:;&lt;=&gt;?@[\\]^`&quot;}):
 while(i:=0)+sum((i:=i+1)*ord(c)for c in s+q)%1000:Q=[q+c for c in l]+Q;q=Q.pop()
 return q
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=VZDLSsQwGIX3fYoQEJImo82MNzpGBRe6LQguZioOTWIDaW5NERnmSVw4G30n38YRdaC7_3znwDn8b5_-NbXObrcfQ1KT8693IRVQqKeBQ0grvqip4eu8W3nUtJHGlX2W6PiUsukM481kncOjcn7BL6-uF8tl_fgEN7jMwEurjUS65AUm_dChn1MThnMXBWqwchE0QFvQk4APWFEU5a4pkAbsHVOTah54deidRzgDUaYhWhD-ZnY-apuQQhBinO2FEGKk72WfRuBOGuPAg4tmHJzOTs4YG6EbJ-StM2oHf0v_f_QN" rel="nofollow noreferrer">Attempt This Online!</a></p>
<hr />
<h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 147 bytes</h1>
<p><em>returns the full string</em></p>
<pre class="lang-python prettyprint-override"><code>def f(s,Q=[]):
 while(i:=0)+sum((i:=i+1)*ord(c)for c in s)%1000:Q=[s+c for c in&quot;._&quot;+ascii_letters+digits]+Q;s=Q.pop()
 return s
from string import*
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=VZBNSsRAEIX3OUURELqndUgUUSJZudBtQHAhwyDp7pmCTqqpqiCew6Wb2eidvI0RHSG79z5e_fDeP_Or7mk8HD4mjWfXX28-RIhGTrv2aWObAl72mILBpq2sk2kwPxJdbVfE3vQ2EkMPOILYk7qqqmaeE9fDkZfrbemepUfcpqAaWJzHHapsXHcjbbfOlI0tgINOPG8pItMAoozjDnDIxLr6e23IM1QTTVlaW_wb7_3CPwTRBbgPKRE8Eqdl8Pzi8qquF-iWfLijFGf4e_TYyzc" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 38 bytes</h1>
<pre><code>⊞υωＦυ¿¬ⅈ¿﹪ΣＥ⁺θι×⊕λ℅κφＦΣ⟦αβ⭆χκ._⟧⊞υ⁺ικι
</code></pre>
<p><a href="https://tio.run/##NY7BDsIgEETvfsXG05Kg0XOPHoyHapN6MDGmwQKWdAtKQT8faY3HmZ15O20nfOsEpVTFscPI4cOKhXYeMDIwGvDoAl6QsZ8qnYzksI4DluKJFcURXxwM43A2gxrxYFuvBmWDkkjZPXlprCDsMyFLnTkzfSJcBYc7hzp4Yx8Tbrvh0OfUct0sbzn53zS/MdONFaBoVFDlSkDDipR2Tqpm70in1Zu@" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>⊞υωＦυ
</code></pre>
<p>Start a breadth-first search with an empty suffix.</p>
<pre><code>¿¬ⅈ
</code></pre>
<p>Check that a solution hasn't yet been found.</p>
<pre><code>¿﹪ΣＥ⁺θι×⊕λ℅κφ
</code></pre>
<p>If the input plus current suffix is not a multiple of <code>1000</code>, then:</p>
<pre><code>ＦΣ⟦αβ⭆χκ._⟧
</code></pre>
<p>Loop over all valid characters.</p>
<pre><code>⊞υ⁺ικ
</code></pre>
<p>Append the character to the suffix and add this to the list of suffixes to check.</p>
<pre><code>ι
</code></pre>
<p>But if it is then output the suffix as the solution.</p>
<p>Would be only 36 bytes to output the full string:</p>
<pre><code>⊞υＳＦυ¿¬ⅈ¿﹪ΣＥι×⊕λ℅κφＦΣ⟦αβ⭆χκ._⟧⊞υ⁺ικι
</code></pre>
<p><a href="https://tio.run/##NY7LCsIwEEX3fsXgagJRdN2lC@miWqgLQaTEJrWh06Tk4e/H1OLyDvecO90gXGcFpVRHP2DkUJo5hiY4bd7IWLHprQOMDHQPeLEB7/m6psrKSBabOGElZtQcbnpSHkvTOTUpE5REYhyuTmojCMcM5thn/CddwIfg8OKw7i2W44HDmFvbfbt95ub/rZqiXyaypABFXkGdkYCaFSmdrFTt2VKfdh/6Ag" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 127 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>s=&gt;{for(S=n=&quot;&quot;,B=Buffer;B(s+S).map(c=&gt;t+=c*++i,i=t=0),t%1e3|!/^[\w.]*$/.test(S);S=g(n++))g=n=&gt;n?B([n&amp;127])+g(n&gt;&gt;7):&quot;&quot;;return S}
</code></pre>
<p><a href="https://tio.run/##dY6xDoIwFEV3v0IbNX0WUXQwkbya4OAHdERMCLQEg61pqw7qtyODk8H1nJuTe87vuStsffVzbUrZKmwd8qcylgrUSEiQYHJTSto4oY4JCC/5lRbIPcNixlgd1OhxCYGfRHL9Gi1O6fERZrPxIvTSeSogFlhRzRhA1QW53iU01dNotcmAdYLzDWwJia30N6uH4t0WRjvTyLAxFVWUEIDBDyrLsofuu/89@GAa9Wf9Ve0H" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>Or <strong><a href="https://tio.run/##dc6xDoIwFIXh3adQoqaXIoIOJJJbExx8AEbEhEBLMNiStuigPjsyOBldv/8M51LcClPqprMrqSo@CBwMsodQmkgMvASTXgiuvRolshTlviaSsQhoQjK5DDdRDjsTJ2RkSgH8a9GREpmlWLqUNl6DFgPw7CLk2@dsfc5Odz9352vfcmNJCjHEmttey2n6GkoljWq536qaCOI4AJMvqqrqhx7G5z/4qFrxZ/1Jwxs" rel="nofollow noreferrer">121 bytes</a></strong> if we can return the full string instead of just the suffix.</p>
</div>
<div id="pu3" class="pu"><h1><a href="http://www.scala-lang.org/" rel="nofollow noreferrer">Scala</a>, 267 bytes</h1>
<p>A port of <a href="https://codegolf.stackexchange.com/a/266556/110802">@bsoelch's Python answer</a> in Scala.</p>
<hr />
<p>267 bytes, it can be golfed much more. Golfed version. <a href="https://tio.run/##bY5tT8IwFIW/71fUJSatW5YNRXSkJogvoIAir84YUrcCJWUbbRXdst8@B6gfDJ/Ovc85ufdIn3CSR28L6ivQJiwEqQZAQKdgWSyQiJl0QU0I8vXSU4KFs1fkgkHIFMDbJABxQRUP4RTqOkL/UZ9KtQc3KOcRGEWCB3vc0nG54jg7I8s3ZaZQurv/5upnwLpuMrcZKmybXbfFpPptiDuMm/wvZtlO6fikfFo5O69d1q@ub24bzbv7Vrvz8Nh96vUHw9H42dMRTrUPIoCHu9WNJni11TFmhXIwxNzglopa0ZqKOpFUW88ZpxBKI0HWksRwUrhFHWQlLB4xNW@GAf3cOKlfxKFvLhC@gAvDQUd@Zsn35aFj2/YBtlHqYc8KRBRDBxnGcHstMSaomhR8TklQHWM705Isz/Jv" rel="nofollow noreferrer">Try it online!</a></p>
<pre class="lang-scala prettyprint-override"><code>def f(s:String,q:String=&quot;&quot;,i:Int=0,Q:List[String]=Nil,l:String=&quot;.0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;)={
var Z=Q;var z=q;var X=i;val V=l+l.toLowerCase
while((s+z).map(_.toInt).zipWithIndex.map{case(c,j)=&gt;(j+1)*c}.sum%1000!=0){Z=Z.drop(1)++V.map(z+_);z=Z.head;X=0}
z}
</code></pre>
<p>Ungolfed version. <a href="https://tio.run/##bZHrT8IwFMW/81ccl5i0siwbvkkwQXyh@EBAfMSQuhWoKRtsU3yEvx3vHhBi@NTe3z2nPbeNXKHFfB68vUs3xrVQPn4LgCf7GFHBRDiIyqiGofh@acWh8gevvIyOr2JUUiUwJhprn/WZYXD@H7VlFK/BF1LrAN0g1N6abml7d99xssaskOfpM0qSZTAxWWwphmGYUGXU/SSTbaJZRkNF8SIvwaRk3IRedVm2U9re2d3bPzisHtdOTs/OL@qXV43rm9u75n2r3XnoPj49G3zFks37KTR0I5jKkJBGEdqKg7SuiUjmkhDNGzklQXMJJhmYLIHKgErBdKi0BGMRHZgouTUSY9ajo2kubv2ocVfFw7rvya@kg1@4dBuYS7P7HkflCIw25HY4tuBiZkUfI2zCsW0bG/QwPM@PZTRaLC8MxowsxWI@VHpvmrWIHs8dkxXHUAovx/kEdlrOCgtl@muz@fwP" rel="nofollow noreferrer">Try it online!</a></p>
<pre class="lang-scala prettyprint-override"><code>object Main {
  def main(args: Array[String]): Unit = {
    println(f(&quot;&quot;))
    println(f(&quot;Test&quot;))
    println(f(&quot;Hello World&quot;))
    println(f(&quot;235711&quot;))
  }

  def f(s: String, q: String = &quot;&quot;, i: Int = 0, Q: List[String] = List(), l: String = &quot;.0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;): String = {
    val lLower = l + l.toLowerCase
    var QNew = Q
    var qNew = q
    var iNew = i
    while ((s + qNew).map(_.toInt).zipWithIndex.map { case (c, ind) =&gt; (ind + 1) * c }.sum % 1000 != 0) {
      QNew = QNew.drop(1) ++ lLower.map(qNew + _)
      qNew = QNew.head
      iNew = 0
    }
    qNew
  }
}
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/266553/">266553</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




