<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::26561</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>5841</td><td>Lazy K</td><td>220603T234106Z</td><td><a href="https://codegolf.stackexchange.com/questions/26561/confound-my-attempts-to-solve-the-halting-problem/248185#248185">Esolangi</a></td></tr>
<tr d-ix="1"><td>4376</td><td>brainfuck</td><td>180103T123014Z</td><td><a href="https://codegolf.stackexchange.com/questions/26561/confound-my-attempts-to-solve-the-halting-problem/152406#152406">Jo King</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>Lazy K, <s>5891</s> <s>5861</s> 5841 bytes</h1>
<pre><code>````ssk``s``si``s``si`ks``s``si`kk``s``si``s``si`ks``s``si``s``si`ks``s``si`kk`k
s``s``si``s``si`ks``s``si``s``si`ks``s``si`kk`ks``s``si``s``si`ks``s``si`kk``s``
si`ks``s``si``s``si`ks``s``si``s``si`ks`ki``s``si`kk``s``si``s``si``s``si`ks`ki`
`s``si`ks``s``si`kk``s``si``s``si`ks``s``si``s``si`ks``s``si`kk`ks``s``si``s``si
`ks``s``si`kk``s``si`ks``s``si``s``si`ks``s``si``s``si`ks`ki``s``si`kk``s``si``s
``si`ks`ki`kk``s``si`kk`ki``s``si``s``si`ks``s``si`kk`kk``s``si``s``si`ks``s``si
`kk`kk``s``si``s``si`ks``s``si``s``si`ks``s``si`kk`ks``s``si``s``si`ks``s``si`kk
``s``si`ks`ki`kk``s``si``s``si`ks``s``si`kk`kk``s``si``s``si`ks``s``si``s``si`ks
``s``si`kk`ks``s``si``s``si`ks``s``si`kk`kk``s``si``s``si`ks``s``si`kk`ks``s``si
``s``si`ks``s``si`kk``s``si`ks`ki`kk``s``si`kk``s``si``s``si`ks``s``si`kk`kk``s`
`si`ks``s``si`kk``s``si``s``si`ks``s``si``s``si`ks``s``si`kk`ks``s``si``s``si`ks
``s``si`kk`kk``s``si``s``si`ks``s``si`kk`ks``s``si``s``si`ks``s``si`kk``s``si`ks
`ki`kk``s``si`kk`kk``s``si`kk``s``si``s``si`ks``s``si``s``si`ks``s``si`kk`ks``s`
`si``s``si`ks``s``si`kk`kk``s``si``s``si`ks``s``si`kk`ks``s``si``s``si`ks``s``si
`kk``s``si`ks`ki``s``si``s``si``s``si`ks`ks``s``si`ks``s``si``s``si`ks``s``si``s
``si`ks``s``si``s``si`ks``s``si``s``si`ks`ki``s``si`kk``s``si``s``si`ks``s``si``
s``si`ks`ki`ki`kk``s``si`kk`ki``s``si`kk``s``si`kk``s``si`kk`ki``s``si`kk``s``si
`kk`ks``s``si`kk`kk``s``si`kk`kk``s``si``s``si`ks`ki`ki``s``si`kk`kk``s``si``s``
si`ks``s``si`kk`kk``s``si``s``si`ks``s``si``s``si`ks``s``si``s``si`ks``s``si``s`
`si`ks``s``si``s``si`ks``s``si``s``si`ks``s``si``s``si`ks`ki``s``si`kk``s``si``s
``si`ks``s``si`kk``s``si`ks``s``si`kk``s``si``s``si`ks``s``si`kk`kk``s``si``s``s
i`ks``s``si`kk`kk``s``si``s``si`ks``s``si`kk`kk``s``si``s``si`ks``s``si`kk`kk`kk
``s``si``s``si`ks``s``si`kk``s``si`ks``s``si`kk``s``si`ks``s``si`kk``s``si``s``s
i`ks``s``si`kk``s``si`ks``s``si``s``si`ks`ki``s``si`kk``s``si``s``si``s``si`ks``
s``si``s``si``s``si`ks``s``si``s``si`ks`ki`ki``s``si``s``si`ks`ks`ks``s``si``s``
si`ks``s``si`kk`ks`kk``s``si``s``si`ks`ki``s``si``s``si`ks`ki`ki``s``si``s``si`k
s``s``si``s``si`ks``s``si`kk`ks`kk`ki`kk``s``si``s``si`ks``s``si``s``si`ks``s``s
i`kk`ks``s``si``s``si`ks``s``si``s``si`ks``s``si`kk`ks``s``si``s``si`ks``s``si`k
k`kk``s``si``s``si`ks``s``si`kk`ks``s``si``s``si`ks``s``si`kk``s``si`ks``s``si`k
k``s``si``s``si`ks``s``si`kk`ks`kk``s``si``s``si`ks``s``si`kk``s``si`ks`ki`kk``s
``si`kk``s``si``s``si`ks``s``si`kk``s``si`ks`ki`kk``s``si`kk``s``si`kk``s``si``s
``si`ks``s``si``s``si`ks``s``si``s``si`ks``s``si``s``si`ks``s``si``s``si`ks`ki``
s``si`kk``s``si`kk`ki``s``si`kk``s``si`kk``s``si`kk``s``si``s``si`ks`ki``s``si`k
k``s``si``s``si`ks`ks``s``si``s``si`ks``s``si``s``si`ks`ki``s``si``s``si`ks`ks``
s``si`kk`ki``s``si``s``si`ks`ks``s``si``s``si`ks``s``si``s``si`ks`ks`ks``s``si``
s``si`ks`ks``s``si``s``si`ks``s``si``s``si`ks`ks`ks``s``si``s``si`ks`ks``s``si`k
k`ki``s``si`kk``s``si`kk``s``si``s``si`ks`ki``s``si`kk``s``si``s``si`ks``s``si``
s``si`ks`ki``s``si``s``si`ks`ks``s``si``s``si``s``si`ks`ks`ki``s``si``s``si`ks`k
s``s``si`kk`ki``s``si``s``si`ks`ks``s``si``s``si`ks``s``si``s``si`ks`ks`ks``s``s
i``s``si``s``si`ks`ks`ki``s``si``s``si`ks`ks``s``si`kk`ki``s``si`kk``s``si``s``s
i`ks`ki``s``si`kk``s``si``s``si`ks``s``si``s``si`ks``s``si``s``si``s``si`ks`ks`k
i``s``si``s``si`ks`ks``s``si``s``si`ks`ks``s``si`kk`ki`ks``s``si``s``si`ks``s``s
i``s``si`ks`ks``s``si``s``si`ks``s``si``s``si`ks`ki`ks`ks``s``si``s``si`ks``s``s
i``s``si`ks`ks``s``si``s``si`ks`ks``s``si`kk`ki``s``si``s``si`ks`ks``s``si`kk`ki
``s``si`kk``s``si``s``si`ks``s``si``s``si`ks``s``si`kk`ks``s``si``s``si`ks``s``s
i`kk`kk``s``si``s``si`ks``s``si`kk`ks``s``si``s``si`ks``s``si`kk``s``si`ks`ki``s
``si``s``si`ks``s``si`kk`kk``s``si``s``si`ks`ki``s``si`kk``s``si``s``si`ks``s``s
i`kk`ks`kk``s``si`kk`kk``s``si`kk`ki``s``si`kk`ki``s``si`kk`ki``s``si`kk`ki``s``
si`kk`ki``s``si`kk``s``si``s``si``s``si`ks`ki``s``si`ks``s``si`kk``s``si``s``si`
ks``s``si`kk``s``si`ks``s``si``s``si`ks`ki``s``si`kk``s``si``s``si``s``si`ks``s`
`si``s``si`ks`ki`ki``s``si``s``si`ks`ki`ki``s``si``s``si`ks``s``si``s``si`ks``s`
`si`kk`ks`kk`ki`kk``s``si``s``si`ks`ki`ki``s``si`kk``s``si`kk``s``si``s``si``s``
si`ks`ki`ki``s``si``s``si`ks`ki`ki``s``si`kk``s``si`kk``s``si`kk`ki``s``si``s``s
i`ks``s``si``s``si`ks``s``si`kk`ks``s``si``s``si`ks``s``si`kk``s``si`ks`ki``s``s
i``s``si`ks``s``si`kk``s``si`ks``s``si``s``si`ks`ki``s``si``s``si`ks``s``si``s``
si`ks`ki``s``si``s``si`ks``s``si``s``si`ks`ki``s``si`kk`ks``s``si`kk`ks``s``si`k
k`kk``s``si``s``si`ks``s``si``s``si`ks``s``si``s``si`ks``s``si``s``si`ks``s``si`
`s``si`ks``s``si``s``si`ks`ki``s``si`kk``s``si``s``si`ks``s``si``s``si`ks``s``si
`kk`ks``s``si``s``si`ks``s``si``s``si`ks``s``si`kk`ks``s``si``s``si`ks``s``si`kk
`kk``s``si``s``si`ks``s``si`kk`ks``s``si``s``si`ks``s``si`kk``s``si`ks``s``si`kk
``s``si``s``si`ks``s``si`kk``s``si`ks``s``si`kk`kk``s``si``s``si`ks``s``si`kk``s
``si`ks``s``si`kk`kk``s``si``s``si`ks``s``si`kk``s``si`ks``s``si`kk`kk``s``si``s
``si`ks``s``si`kk``s``si`ks``s``si`kk`kk``s``si``s``si`ks``s``si`kk``s``si`ks``s
``si`kk`kk``s``si``s``si`ks``s``si`kk`ks``s``si``s``si`ks``s``si`kk``s``si`ks`ki
``s``si``s``si`ks``s``si`kk``s``si`ks``s``si``s``si`ks`ki``s``si`kk`ks``s``si`ks
``s``si``s``si`ks`ki``s``si``s``si`ks``s``si``s``si`ks`ki``s``si`kk`ks``s``si`kk
`ki``s``si``s``si`ks``s``si`kk``s``si`ks`ki`kk``s``si`kk``s``si``s``si`ks``s``si
`kk``s``si`ks`ki`kk``s``si`kk``s``si`kk``s``si``s``si`ks``s``si``s``si`ks``s``si
``s``si`ks``s``si``s``si`ks``s``si``s``si`ks`ki``s``si`kk``s``si`kk`ki``s``si`kk
``s``si`kk``s``si`kk``s``si``s``si`ks`ki``s``si`kk`ks``s``si`kk``s``si`kk``s``si
``s``si`ks`ki``s``si`kk`ki``s``si`kk``s``si``s``si`ks`ki``s``si`kk`kk``s``si`kk`
`s``si``s``si`ks``s``si`kk``s``si`ks``s``si``s``si`ks`ki``s``si`kk`kk`kk``s``si`
kk`ki``s``si`kk`ki``s``si`kk`ki``s``si`kk`ki``s``si`kk`ki``s``si`kk``s``si`kk`ki
i
</code></pre>
<p>Line breaks added for clarity.</p>
<p>This program is written in, and is capable of parsing, only the Unlambda-syntax subset of Lazy K; that is:</p>
<pre><code>program ::= &quot;s&quot; | &quot;k&quot; | &quot;i&quot; | &quot;`&quot; program program.
</code></pre>
<p>It expects input to be encoded in the standard format for Lazy K: an input stream is a pair whose first element is a Church numeral, representing the first byte of the stream, and whose second element is the remaining input stream. However, the <em>output</em> is expected to be only a single Church numeral rather than a full output stream.</p>
<h2>The parsing part</h2>
<p>If we look at the character codes for the relevant bits of Lazy K syntax, we notice something interesting:</p>
<ul>
<li><code>s</code> is 115, or 1 mod 6;</li>
<li><code>k</code> is 107, or 5 mod 6;</li>
<li><code>i</code> is 105, or 3 mod 6;</li>
<li><code>`</code> is 96, or 0 mod 6.</li>
</ul>
<p>If we assume the input program is part of the relevant subset, we can distinguish application using only a parity test, and then distinguish the combinators from each other using remainder mod 3.</p>
<p>Doing these tests effectively in combinatory logic requires a little cleverness, though.</p>
<ul>
<li><strong>mod 2</strong>: the idea is to find terms <code>a</code>, <code>b</code>, and <code>f</code> such that <code>f a = b</code> and <code>f b = a</code>, and then call <code>N f a</code> and examine the result. Traditionally the Church booleans are used for <code>a</code> and <code>b</code> and <code>f</code> is <code>not</code>, but <code>not</code> is annoyingly difficult to encode in SKI. Instead, I did an automated search for terms that would work, and it came up with this:
<ul>
<li><code>S I K I     = I (K I)       = K I</code>;</li>
<li><code>S I K (K I) = K I (K (K I)) = I</code>.</li>
</ul>
</li>
<li><strong>mod 3</strong>: similarly, we find distinct terms <code>a</code>, <code>b</code>, <code>c</code>, <code>f</code> with <code>f a = b</code>, <code>f b = c</code>, <code>f c = a</code>. A search yielded:
<ul>
<li><code>S (S I I) K I         = I I (K I)                 = K I</code>;</li>
<li><code>S (S I I) K (K I)     = K I (K I) (K (K I))       = K (K I)</code>;</li>
<li><code>S (S I I) K (K (K I)) = K (K I) (K (K I)) (K ...) = I</code>.</li>
</ul>
</li>
</ul>
<p>Given these, we can write a fairly conventional recursive-descent parser:</p>
<pre><code>parse : stream -&gt; (term, stream)
parse (c, rest) =
  match (c mod 2)

    0 -&gt; let (f, rest') = parse rest
         let (x, rest'') = parse rest'
         (f x, rest'')

    1 -&gt; ((match (c mod 3)
           0 -&gt; I
           1 -&gt; S
           2 -&gt; K), rest)
</code></pre>
<h2>The quining part</h2>
<p>This is the fun part. One of the most important parts of any quine is figuring out a data format to represent the encoded form of the program. This ends up being the largest source of overhead since it essentially multiplies the program's length.</p>
<p>The representation I went with involves a lambda that substitutes its argument for every application in the encoded term, but leaves combinators unchanged. For example, the SKI-term <code>(S S) (K I)</code> would be encoded as:</p>
<pre><code>λf. f (f S S) (f K I)
</code></pre>
<p>In terms of SKI, the encoding looks like this:</p>
<pre><code>[e] denotes the encoded form of the expression e:

[S]   = (K S)
[K]   = (K K)
[I]   = (K I)
[a b] = S (S I [a]) [b]
</code></pre>
<p>This encoding introduces 3x overhead for combinators and 7x overhead for applications. There are about equally many applications and combinators in any Lazy K term, so this encoding has ~5x overhead. There are other encodings which are more efficient than this. For example, @msullivan's <a href="https://github.com/msullivan/LazyK/blob/master/eg/quine.lazy" rel="nofollow noreferrer">quine</a> uses a representation which exploits the fact that top-level terms are applied together to have just 1.5x overhead. However, this approach has several disadvantages. It supports only the S and K combinators, making the body of the quine more verbose. It relies on going outside of the Unlambda subset of the syntax, so I would need to make the parser more complex. Finally, it lacks a very useful feature of my representation: it can be trivially &quot;interpreted&quot; into the term it represents by passing <code>I</code> as the argument, avoiding the need to store both the encoded and decoded form of the quine payload. Nevertheless, the savings from using a more efficient representation like this are so large that it would probably be worth doing.</p>
<p>Finally there is the task of stringifying the encoded quine to obtain the source code and passing it to the parsed input term. For this we need to construct the Church numerals 96, 105, 107, and 115. For golfing purposes I was able to find terms which are much more efficient than the constructions given in the <a href="https://github.com/msullivan/LazyK/blob/master/prelude-numbers.scm" rel="nofollow noreferrer">standard library</a>: <code>96</code> is reduced from 63 bytes to 45, <code>105</code> is reduced from 81 bytes to 57, <code>107</code> is reduced from 91 bytes to 69, and <code>115</code> is reduced from 89 bytes to 57. I obtained these using alternative representation of numbers which can be easily converted to and from Church numerals. This representation admits much more compact definitions of <code>succ</code> and <code>+</code>, and only slightly less compact definitions of <code>*</code> and <code>^</code>.</p>
<p>Also, there is the problem of traversing the encoded form of the program to build up the stringified form. For this, we effectively need <code>f x y</code> to be able to distinguish the cases when its arguments are combinators and when its arguments are further applications of <code>f</code>. We accomplish this using a helper function:</p>
<pre><code>helper(x) = x (K I) (K (K (λt. t foo))) (K (λt. t baz)) (λt. t bar) t
</code></pre>
<p>This evaluates to <code>t foo</code>, <code>t bar</code>, and <code>t baz</code> when passed <code>S</code>, <code>K</code>, and <code>I</code> as arguments respectively, but you can also pass <code>(λ a b c d e. something else)</code> to distinguish applications. This kind of function is unfortunately relatively cumbersome when encoded in SKI, but I haven't found anything better. We use a <a href="https://en.wikipedia.org/wiki/Difference_list" rel="nofollow noreferrer">difference list</a> to accumulate the stringified representations, since it makes it very cheap to append (just function composition) and doesn't require modification to work with infinite streams.</p>
<h2>Further golfing</h2>
<p>How to improve this:</p>
<ul>
<li>Use a better data representation, even though this comes at the cost of easy interpretation.</li>
<li>Find a more efficient way to distinguish the <code>S</code>, <code>K</code>, and <code>I</code> combinators. If a better way exists, it's too large for my search program to find it as-is, so I would need to make it more efficient somehow or make assumptions to reduce the search space.</li>
<li>Find more efficient representations of each of the numbers. 96 in particular feels like it could be improved a lot, although it's probably also too large for the search program.</li>
<li>Better optimize <code>parse</code>, since it has some room for improvement.</li>
</ul>
<p>The Lazier code used to generate this program can be found <a href="https://github.com/Reconcyl/eso/blob/main/lazyk/main.scm" rel="nofollow noreferrer">here</a>.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/TryItOnline/brainfuck" rel="noreferrer">brainfuck</a>, <s>6013</s> <s>4877</s> 4376 bytes</h1>

<p>Edit: -1136 bytes. Switched to a better way of generating the data for the quine</p>

<p>Edit2: -501 bytes. Revisited my self-interpreter and cut it down a couple of hundred bytes</p>

<pre><code>-&gt;++&gt;++++&gt;+&gt;++&gt;+++&gt;&gt;++++&gt;&gt;++++&gt;&gt;+++&gt;&gt;++++&gt;&gt;+++&gt;&gt;++&gt;++&gt;++&gt;++&gt;++&gt;++&gt;++&gt;++&gt;++&gt;++&gt;++++&gt;+++++&gt;+&gt;++&gt;++&gt;++&gt;++&gt;++&gt;++&gt;&gt;+++&gt;+&gt;++&gt;++&gt;++++&gt;+&gt;+++&gt;+&gt;++++&gt;+&gt;+++&gt;+&gt;++&gt;&gt;&gt;+++++&gt;++++&gt;++++&gt;&gt;+++&gt;&gt;++++&gt;&gt;+++&gt;&gt;++&gt;++&gt;++&gt;++&gt;++&gt;++&gt;++&gt;++++&gt;+++++&gt;+&gt;++&gt;++&gt;++&gt;++&gt;++&gt;++&gt;&gt;+++&gt;+&gt;++&gt;++++&gt;+&gt;+++&gt;+&gt;++++&gt;+&gt;+++&gt;+&gt;++&gt;&gt;&gt;+++++&gt;+++&gt;&gt;+++&gt;+&gt;+++++&gt;+++++&gt;++++&gt;&gt;++&gt;+&gt;++&gt;++&gt;++&gt;++&gt;++&gt;++&gt;+++&gt;&gt;++&gt;++&gt;&gt;++++&gt;&gt;+++&gt;++&gt;++&gt;++&gt;++&gt;++&gt;++++&gt;+++++&gt;&gt;++&gt;++&gt;++&gt;+&gt;+++&gt;&gt;++++&gt;&gt;++&gt;++&gt;++&gt;&gt;++&gt;++&gt;++&gt;&gt;++&gt;++&gt;++&gt;&gt;++&gt;++&gt;++&gt;++&gt;++&gt;++&gt;&gt;++&gt;++&gt;++&gt;++&gt;++&gt;++&gt;&gt;++&gt;++&gt;++&gt;&gt;++&gt;++&gt;++&gt;++&gt;&gt;++&gt;++&gt;++&gt;++&gt;++++&gt;+&gt;+++&gt;&gt;+++++&gt;+++&gt;&gt;++&gt;&gt;+++++&gt;&gt;&gt;++&gt;&gt;++&gt;++&gt;++&gt;&gt;+++++&gt;+++++&gt;&gt;&gt;++&gt;++&gt;++++&gt;+&gt;+++&gt;+&gt;+&gt;++++&gt;+&gt;+++&gt;+&gt;+&gt;++++&gt;+&gt;+++&gt;&gt;++++&gt;++++&gt;++++&gt;&gt;+++&gt;&gt;&gt;++++&gt;&gt;+++&gt;&gt;&gt;++++&gt;&gt;+++&gt;+&gt;++++&gt;+++++&gt;&gt;&gt;++&gt;+&gt;+&gt;+++&gt;+&gt;++++&gt;+&gt;+++&gt;+&gt;+&gt;++++&gt;+&gt;+++&gt;+&gt;+&gt;++++&gt;+&gt;+++&gt;&gt;+++++&gt;+++&gt;&gt;++++&gt;&gt;+++&gt;&gt;&gt;++++&gt;&gt;+++&gt;&gt;&gt;++++&gt;&gt;+++&gt;&gt;&gt;++++&gt;+++++&gt;+&gt;+&gt;++&gt;++++&gt;+&gt;+++&gt;+&gt;++&gt;&gt;&gt;++++&gt;&gt;+++&gt;&gt;+++&gt;+&gt;+&gt;++++&gt;++++&gt;+++++&gt;&gt;++&gt;+&gt;+++&gt;+&gt;+++&gt;&gt;&gt;++++&gt;&gt;+++&gt;&gt;++++&gt;++++&gt;+++++&gt;+&gt;++&gt;&gt;+++&gt;&gt;+++&gt;+&gt;+&gt;++++&gt;+&gt;+++&gt;+&gt;+&gt;++++&gt;+&gt;+++&gt;+&gt;+&gt;++++&gt;+&gt;+++&gt;&gt;+++&gt;&gt;&gt;&gt;++++&gt;&gt;+++&gt;&gt;&gt;++++&gt;&gt;+++&gt;+&gt;++++&gt;++++&gt;+++++&gt;+++&gt;+&gt;+++&gt;&gt;&gt;&gt;++++++&gt;++++&gt;&gt;++&gt;++&gt;++&gt;++&gt;++&gt;++&gt;++&gt;++++&gt;+&gt;+++++&gt;+++++&gt;+++++&gt;+++++&gt;+++++&gt;+++++&gt;&gt;+++++&gt;+++&gt;++&gt;+&gt;+++++&gt;++++&gt;&gt;+++&gt;&gt;++++&gt;+&gt;++&gt;+&gt;++&gt;&gt;&gt;&gt;&gt;+++&gt;+&gt;+&gt;+&gt;+++++&gt;++++&gt;&gt;+++&gt;&gt;++++&gt;+&gt;++&gt;+&gt;++&gt;&gt;&gt;&gt;&gt;+++&gt;+&gt;+&gt;+&gt;+++++&gt;++++&gt;&gt;+++&gt;&gt;++++&gt;+&gt;++&gt;+&gt;++&gt;&gt;&gt;&gt;&gt;+++&gt;+&gt;+&gt;+&gt;+++++&gt;++++&gt;&gt;+++&gt;&gt;++++&gt;+&gt;+++++&gt;+&gt;++&gt;++&gt;++&gt;&gt;&gt;&gt;&gt;+++&gt;+&gt;+&gt;+&gt;+++++&gt;+++++&gt;+++++&gt;+++++&gt;+++++&gt;+++++&gt;+++++&gt;+++++&gt;+++++&gt;+++++&gt;+++++&gt;+++++&gt;+++++&gt;+++++&gt;++++&gt;&gt;+++&gt;&gt;++++&gt;+&gt;++&gt;++&gt;+&gt;++&gt;&gt;&gt;&gt;&gt;+++&gt;+&gt;+&gt;+&gt;+++++&gt;+++++&gt;++++&gt;&gt;+++&gt;&gt;++++&gt;+&gt;+++++&gt;+&gt;++&gt;++&gt;++&gt;++&gt;++&gt;++&gt;++&gt;&gt;&gt;&gt;&gt;+++&gt;+&gt;+&gt;++&gt;++&gt;++&gt;++&gt;++++&gt;+++++&gt;+&gt;+++++&gt;+++++&gt;+++++&gt;+++++&gt;+++++&gt;+++++&gt;&gt;+++&gt;++&gt;+&gt;++&gt;++++&gt;&gt;+++&gt;&gt;++++&gt;+&gt;++&gt;++&gt;+&gt;++&gt;&gt;&gt;&gt;&gt;+++&gt;+&gt;+&gt;+&gt;+++++&gt;+++++&gt;++++&gt;&gt;+++&gt;&gt;++++&gt;+&gt;+++++&gt;+&gt;++&gt;&gt;&gt;&gt;&gt;+++&gt;+&gt;+&gt;+++++&gt;+&gt;++++&gt;++&gt;+++&gt;+&gt;++++&gt;&gt;+++&gt;&gt;++++++&gt;+++&gt;&gt;&gt;&gt;++&gt;+&gt;+&gt;+&gt;+&gt;+++++&gt;++++&gt;+&gt;+++&gt;&gt;++++&gt;+++++&gt;++++&gt;+&gt;+&gt;+++&gt;&gt;++++&gt;+&gt;++&gt;++++&gt;&gt;+++&gt;&gt;&gt;++++&gt;+&gt;+++&gt;+&gt;+&gt;++++&gt;&gt;&gt;++&gt;++++&gt;+&gt;+&gt;++++&gt;+&gt;+++&gt;+&gt;+&gt;+++++&gt;++++&gt;&gt;&gt;+++&gt;+&gt;++++&gt;&gt;&gt;&gt;&gt;++++&gt;&gt;+++&gt;&gt;++&gt;+&gt;+&gt;++++&gt;+&gt;+++&gt;+&gt;+++&gt;+&gt;+++++&gt;++++&gt;&gt;&gt;+++&gt;+&gt;++++&gt;&gt;&gt;&gt;&gt;++++&gt;&gt;+++&gt;&gt;+++++&gt;+&gt;+&gt;++++&gt;+&gt;+++&gt;+&gt;+++&gt;+&gt;++&gt;++&gt;++++&gt;+++++&gt;&gt;&gt;++&gt;+&gt;+&gt;+++&gt;&gt;&gt;++++&gt;&gt;+++&gt;&gt;+++&gt;+&gt;+++&gt;+&gt;++++&gt;+&gt;+++&gt;&gt;+++++&gt;+&gt;+++&gt;&gt;+++++&gt;++++&gt;+&gt;+&gt;+++&gt;&gt;++++&gt;+&gt;++&gt;++&gt;++++&gt;&gt;+++&gt;&gt;&gt;++++&gt;+&gt;+&gt;+++&gt;&gt;++++&gt;+&gt;+&gt;++&gt;++++&gt;+&gt;+&gt;++++&gt;+&gt;+++&gt;&gt;++++&gt;+++++&gt;+&gt;+&gt;++&gt;&gt;&gt;+++&gt;&gt;+++++&gt;+++++&gt;++++&gt;+&gt;+&gt;+++&gt;&gt;++++&gt;++++&gt;&gt;+++&gt;&gt;++&gt;+&gt;+&gt;++++&gt;+&gt;+++&gt;+&gt;+++&gt;&gt;++&gt;++++&gt;+&gt;+&gt;+++&gt;&gt;++++&gt;++++&gt;&gt;+++&gt;&gt;+++++&gt;+&gt;+&gt;++++&gt;+&gt;+++&gt;+&gt;+++&gt;&gt;++&gt;++++&gt;&gt;+++&gt;&gt;+++&gt;+++&gt;+&gt;+&gt;++++&gt;+&gt;+++&gt;&gt;+++++&gt;+++++&gt;+&gt;+++&gt;&gt;+++++&gt;++++&gt;+&gt;+&gt;+++&gt;&gt;++++&gt;++++&gt;&gt;+++&gt;&gt;&gt;+++++++&gt;+&gt;+&gt;+&gt;++++&gt;+&gt;+++&gt;+&gt;+++&gt;&gt;+++++&gt;++++&gt;+&gt;+&gt;+++&gt;&gt;++++&gt;++++&gt;&gt;+++&gt;&gt;&gt;+++++&gt;+&gt;+&gt;+&gt;++++&gt;+&gt;+++&gt;+&gt;+++&gt;&gt;+++++&gt;++++&gt;+&gt;+&gt;+++&gt;&gt;++++&gt;++++&gt;&gt;+++&gt;&gt;&gt;++++++&gt;+&gt;+&gt;+&gt;++++&gt;+&gt;+++&gt;+&gt;+&gt;+&gt;++++&gt;+&gt;+++&gt;+&gt;++++&gt;+&gt;+++&gt;&gt;++++&gt;++++&gt;&gt;+++&gt;&gt;++++&gt;&gt;+++&gt;&gt;&gt;&gt;++++&gt;&gt;+++&gt;&gt;&gt;++&gt;+&gt;+&gt;+&gt;++++&gt;+&gt;+++&gt;+&gt;+&gt;+&gt;++++&gt;+&gt;+++&gt;+&gt;++++&gt;+&gt;+++&gt;&gt;+++++&gt;+++&gt;&gt;++++&gt;&gt;+++&gt;&gt;++++&gt;&gt;+++&gt;&gt;&gt;++++&gt;+&gt;+++&gt;+&gt;+++&gt;&gt;+++++&gt;++++&gt;+&gt;+&gt;+++&gt;&gt;++++&gt;++++&gt;&gt;+++&gt;&gt;&gt;++&gt;+&gt;+&gt;+&gt;++++&gt;+&gt;+++&gt;+&gt;+++&gt;&gt;+++++&gt;++++&gt;+&gt;+&gt;+++&gt;&gt;++++&gt;++++&gt;&gt;+++&gt;&gt;&gt;&gt;++++&gt;&gt;&gt;+++&gt;&gt;++++&gt;+&gt;+&gt;+&gt;++++&gt;+&gt;+&gt;+++&gt;+&gt;++&gt;&gt;&gt;&gt;++++&gt;&gt;&gt;+++&gt;&gt;+++++&gt;+++&gt;&gt;++++&gt;+++++&gt;+++&gt;+&gt;+&gt;++&gt;++++&gt;+&gt;++++&gt;+++++&gt;&gt;&gt;++&gt;+&gt;+&gt;+++&gt;+&gt;+++&gt;+&gt;++++&gt;+++++&gt;&gt;&gt;++&gt;+&gt;+&gt;+++&gt;+&gt;++++&gt;+&gt;+++&gt;+&gt;+++&gt;&gt;+++++&gt;++++&gt;+&gt;+&gt;+++&gt;&gt;++++&gt;++++&gt;&gt;+++&gt;&gt;++&gt;++&gt;++++&gt;+++++&gt;+++++&gt;&gt;++++&gt;+++++&gt;+&gt;+&gt;++&gt;&gt;&gt;+++&gt;&gt;+++&gt;++&gt;+&gt;+&gt;+++++&gt;++++&gt;++&gt;++&gt;+&gt;+&gt;+++&gt;+&gt;++++&gt;+++++&gt;&gt;&gt;&gt;++++&gt;&gt;&gt;+++&gt;&gt;++&gt;+&gt;+&gt;+&gt;++++&gt;+&gt;+&gt;+++&gt;+&gt;+++&gt;+&gt;++++&gt;+&gt;+++&gt;+&gt;+++&gt;+&gt;++&gt;++&gt;++&gt;++&gt;++&gt;++&gt;++&gt;++&gt;&gt;&gt;++++&gt;++&gt;+&gt;+&gt;+++++&gt;&gt;&gt;+++&gt;&gt;+++&gt;&gt;&gt;++++&gt;++++[&lt;+]&gt;[&gt;[&gt;]&gt;[&gt;]&gt;++++++++++[-&lt;++++++&gt;]&lt;++[&lt;]&lt;[&lt;]&lt;+&gt;&gt;-[[&gt;]&gt;[&gt;]&gt;+++++++[-&lt;++++++&gt;]&lt;+[&lt;]&lt;[&lt;]&lt;+&gt;&gt;-]&gt;]&lt;--[&gt;+&lt;++++++]&gt;++&gt;[&gt;]+++++[-&gt;+++&lt;]&gt;[&gt;+++&gt;+++&gt;+++&gt;++++++&gt;++++++&gt;+++&gt;++++&gt;++++[&lt;]&gt;-]&gt;+&gt;-&gt;&gt;+&gt;+++&gt;--&gt;&gt;++[&lt;]&lt;&lt;[&lt;]&lt;&lt;[&lt;]&gt;[[[&gt;]&gt;&gt;[&gt;]&gt;&gt;[&gt;]&lt;[-&gt;&gt;+&lt;&lt;]&lt;[&lt;]&lt;&lt;[&lt;]&lt;&lt;[&lt;]&gt;-]&gt;[&gt;]&gt;&gt;[&gt;]&gt;&gt;[&gt;]&gt;&gt;[-&lt;&lt;+[&lt;]&lt;+&gt;&gt;[&gt;]&gt;]&lt;&lt;[[-&gt;+&lt;]&lt;]&gt;&gt;[&gt;]&gt;[[-&lt;+&gt;]&gt;]&lt;&lt;[&lt;]&lt;&lt;[&lt;]&lt;&lt;[&lt;]&gt;]&gt;&gt;&gt;[&gt;]&gt;&gt;[&gt;]&lt;[[-]&lt;]&gt;&gt;&gt;,[&gt;+++++++[&lt;------&gt;-]+&lt;-[&gt;]&gt;[&lt;+&lt;+&gt;&gt;&gt;&gt;]&lt;&lt;&lt;-[&gt;]&gt;[&lt;+&lt;+&gt;&gt;&gt;&gt;]&lt;&lt;&lt;-[&gt;]&gt;[&lt;+&lt;+&gt;&gt;&gt;&gt;]&lt;&lt;&lt;-[&gt;]&gt;[&lt;-&lt;+++&gt;&gt;&gt;&gt;]&lt;&lt;&lt;--------------[&gt;]&gt;[&lt;++&lt;+&gt;&gt;&gt;&gt;]&lt;&lt;&lt;--[&gt;]&gt;[&lt;-&lt;+++++++&gt;&gt;&gt;&gt;]&lt;&lt;++++[-&lt;------&gt;]+&lt;+[&gt;]&gt;[&lt;++&lt;+&gt;&gt;&gt;&gt;]&lt;&lt;&lt;--[&gt;]&gt;[&lt;-&lt;+&gt;&gt;&gt;&gt;]&lt;&lt;-&lt;[+]&lt;[&gt;]&gt;,]&gt;&gt;&gt;+&lt;&lt;&lt;&lt;-[&lt;]&gt;[-[&lt;&lt;]&gt;[&lt;+[&gt;]&gt;&gt;[&lt;]&lt;&lt;[&gt;&gt;+[&lt;&lt;[&lt;]&lt;&lt;-[&gt;&gt;]&lt;[&gt;&gt;&gt;&gt;[&gt;]&gt;+&lt;&lt;[&lt;]&lt;]&lt;-[&gt;&gt;]&lt;[&gt;&gt;&gt;&gt;[&gt;]&gt;-&lt;&lt;[&lt;]&lt;]&lt;++[-&gt;&gt;+&lt;&lt;]&gt;&gt;[&gt;]&gt;]&lt;]&lt;[&lt;]&gt;-&lt;]&gt;-[&lt;&lt;]&gt;[&lt;++[&gt;]&gt;&gt;[&lt;&lt;]&gt;[&lt;&lt;+[&lt;&lt;[&lt;]&gt;[-&lt;&lt;+&gt;&gt;]&gt;--[&lt;&lt;]&gt;[[&gt;]&gt;+&lt;&lt;[&lt;]&lt;]&gt;+[&lt;&lt;]&gt;[[&gt;]&gt;-&lt;&lt;[&lt;]&lt;]&gt;+[&gt;]&gt;]]&lt;&lt;[&lt;]&gt;--&lt;]&gt;-[&lt;&lt;]&gt;[[&gt;]&gt;&gt;.&lt;&lt;&lt;[&lt;]&lt;]&gt;-[&lt;&lt;]&gt;[[&gt;]&gt;&gt;-&lt;&lt;&lt;[&lt;]&lt;]&gt;-[&lt;&lt;]&gt;[[&gt;]&gt;&gt;,&lt;&lt;&lt;[&lt;]&lt;&lt;&lt;[&lt;]&lt;[&lt;]&gt;[[&gt;]&gt;[&gt;]&gt;&gt;&gt;[&gt;]&gt;&gt;+&lt;&lt;&lt;[&lt;]&lt;&lt;&lt;[&lt;]&lt;[&lt;]&gt;-]&gt;[&gt;]&gt;[&gt;]&gt;&gt;[&lt;]&lt;]&gt;-[&lt;&lt;]&gt;[[&gt;]&gt;&gt;+&lt;&lt;&lt;[&lt;]&lt;]&gt;-[&lt;&lt;]&gt;[[&gt;]&gt;&gt;&gt;[&gt;&gt;]&gt;[&lt;&lt;&lt;[&lt;&lt;]&lt;+&gt;&gt;&gt;[&gt;&gt;]&gt;-]&gt;[-]&lt;&lt;+[&lt;[-&gt;&gt;+&lt;&lt;]&lt;]&lt;[-&gt;&gt;+&lt;&lt;]&lt;[&lt;]&lt;]&gt;-[&lt;&lt;]&gt;[[&gt;]&gt;++[--&gt;[-&lt;&lt;+&gt;&gt;]&gt;]+&lt;&lt;-[++&lt;&lt;]&lt;[-&gt;&gt;&gt;[&gt;&gt;]&gt;+&lt;&lt;&lt;[&lt;&lt;]&lt;]&lt;[&lt;]&lt;]&lt;++++++++&gt;&gt;[+&lt;&lt;-&gt;&gt;]&gt;]&gt;&gt;[]
</code></pre>

<p><strong><a href="https://tio.run/##rVdbbuQgEDwQQ06A6iKIj@xKkaJI@Yi055/QPLuhwczOOB5iQ1NUP8F/ft4/vz/@/f263y1MvBD/6DbIr70dHvd3aRqcuCEHyktp@QtQUVpzyuSYwNnqYCK8zevrDMBWW7JtaKxT6thRNk9nXTtJqbrRDFBfMaEyNVTA2W5siHdAdffiWdoPfSmo6@uvg48vlsQQWprtxpyBYMrdDUZjCu8xhjW8Q/1wYkJmCE5JBPoi0Sb3ai3Hn6YJxVn0AUOcrMXHqH9g9nMr7QFe2y7oXK6/VkNO3ZXRMy9jzIydAZ/grQMocdzKseEBuHZlThd0SqsK1bvHrK05x22npKmsnRdAL0BhDsKYmCPVAUpOxrRbXFfjFzCfS68siiyAsMScVVkqzQJvItbD6EB1vkuudr5H48HskKButGPq4LToLJk85ValukgNhrwGLk96rBosNkteSmCk6Ia1DJ0LL0jHK7dSqy7rPi9oAE68wGrwdrbIjMHeunvBi8X6SDtaWS8Ey5Kv@O6/0oTvB4t0WX4I7D49cF6kr1Yw2H5sPabxU3uOwf6oww/BbMvGfNikxjsT4ONfSD/TLm9dYRociQVHvzjZ@kFYSHLBEDus9TBlnGb0iT59zzqCYsdOfqRlPYUrUcnIBhbFNJae0iCtRv@IAXziido4T2Ku0GsNYQm52FiX9TC5gwSJbOwpIp5ULiMCLI6zBb1NM26@WSoSpCsuap1NSC45BQTVe2qyy@6FHOsXVxNi431i6awOrMRIzjB4dW7vJg29CbfQwgY5vJyrXogeSc5ItoGtA2R5MWJWIx60sE1uIQFHzk@dkUGKuObZsABIHkVymHG2gBBkQjENlxTM8xAELoWbq5E1UW8xR4FCbc04nx3RZI0y39syNYdTqxCVc40ysn0UIpJltrOQBEiquIFeaxhQKKIEZmVATub9UdWyeigUyRQ1PLIZqn1zKBRWZraGDc2VufVN154g3OFdqiRjwh9g3@b4sMH1uIOPgDY5mdYI9/vNv93CLw" rel="noreferrer" title="brainfuck – Try It Online">Try it online!</a></strong> The input here is a simple cat program (<code>,[.,]</code>) which will print the program itself.</p>

<p>"Return 0" is defined by ending the program on a cell with value 0.</p>

<p>A unholy combination of two programs I've written in the past, a quine and a self-interpreter. First section is the quine part, which takes the data and populates the tape with the the data generation followed by the source code. Next is the self-interpreter, which takes <strong>your program</strong> and runs it. This is pretty much a unchanged copy of a normal self interpreter, except that instead of taking input directly, it gets input from the beginning of the data section, setting the cell to 0 if there is no more input. Finally, end on the current cell of <strong>your program</strong> and run <code>[]</code>. If the returned value was 0, <strong>my program</strong> will end on zero. If it is anything else, it will run an infinite loop. If <strong>your program</strong> runs forever, <strong>my program</strong> will run forever.</p>

<h2>How It Works:</h2>

<h3>Part 1: Data Generation</h3>

<pre><code>-&gt;++&gt;++++&gt; ....... &gt;+++++&gt;&gt;&gt;+++&gt;&gt;+++&gt;&gt;&gt;++++&gt;+++
</code></pre>

<p>This part makes up the data section of the quine, and is by far the majority of the code at 3270 bytes. The beginning <code>-</code> is a marker for the beginning of the data. Each <code>&gt;+++</code> represents a character of the code after this section. </p>

<pre><code>Number of Pluses
0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 |
&gt; | &lt; | + | ] | [ | - | , | . |
</code></pre>

<h3>Part 2: Generate the data section using the data</h3>

<pre><code>+[&lt;+]&gt;

[
    Add a right arrow
    &gt;[&gt;]&gt;[&gt;]&gt;(10++++++++++)[-&lt;(6++++++)&gt;]&lt;++[&lt;]&lt;[&lt;]
    &lt;+&gt;&gt;-
    Add the right amount of pluses
    [
        [&gt;]&gt;[&gt;]&gt;(7+++++++)[-&lt;(6++++++)&gt;]&lt;+[&lt;]&lt;[&lt;]&lt;+&gt;&gt;-
    ]
    &gt;
]
Add the beginning minus
&lt;--[&gt;+&lt;++++++]&gt;++
</code></pre>

<p>This uses the data from part one to add the characters that are used to generate the data to the code section. It adds a <code>&gt;</code> to the end of the code section and that cell's value many pluses.</p>

<h3>Part 3: Generate the rest of the code using the data</h3>

<pre><code>Initialises the 8 characters of brainfuck
&gt;[&gt;]+++++[-&gt;+++&lt;]&gt;[&gt;+++&gt;+++&gt;+++&gt;++++++&gt;++++++&gt;+++&gt;++++&gt;++++[&lt;]&gt;-]
&gt;+&gt;-&gt;&gt;+&gt;+++&gt;--&gt;&gt;++[&lt;]&lt;&lt;[&lt;]&lt;&lt;[&lt;]&gt;

Tape looks like:
data 0 0 code 0 0 characters

Runs through the data destructively and adds the represented symbol to the code section
[
    [
        For each plus in this cell
            Shift the gap in the characters over one
        [&gt;]&gt;&gt;[&gt;]&gt;&gt;[&gt;]&lt;[-&gt;&gt;+&lt;&lt;]
        &lt;[&lt;]&lt;&lt;[&lt;]&lt;&lt;[&lt;]&gt;-
    ]
    Navigate to character
    &gt;[&gt;]&gt;&gt;[&gt;]&gt;&gt;[&gt;]&gt;&gt;
    Copy the character to the end of the code section
    [-&lt;&lt;+[&lt;]&lt;+&gt;&gt;[&gt;]&gt;]

    Shift the symbol section over one
    &lt;&lt;[[-&gt;+&lt;]&lt;]
    &gt;&gt;[&gt;]&gt;[[-&lt;+&gt;]&gt;]

    Navigate to next byte of data
    &lt;&lt;[&lt;]&lt;&lt;[&lt;]&lt;&lt;[&lt;]&gt;
]

Remove characters
&gt;&gt;[&gt;]&gt;&gt;[&gt;]&lt;[[-]&lt;]
</code></pre>

<p>Destroys the data section and adds the rest of the source code to the code section</p>

<h3>Part 4: Get inputted program</h3>

<pre><code>&gt;&gt;&gt;,
[
    &gt;(7+++++++)[&lt;(6------)&gt;-]+&lt;-
    [&gt;]&gt;
    [plus &lt;+&lt;+&gt;&gt;&gt;&gt;]&lt;&lt;&lt;
    -[&gt;]&gt;
    [comma &lt;+&lt;+&gt;&gt;&gt;&gt;]&lt;&lt;&lt;
    -[&gt;]&gt;
    [minus &lt;+&lt;+&gt;&gt;&gt;&gt;]&lt;&lt;&lt;
    -[&gt;]&gt;
    [dot &lt;-&lt;+++&gt;&gt;&gt;&gt;]&lt;&lt;&lt;
    (14--------------)[&gt;]&gt;
    [left &lt;++&lt;+&gt;&gt;&gt;&gt;]&lt;&lt;&lt;
    --[&gt;]&gt;
    [right &lt;-&lt;+++++++&gt;&gt;&gt;&gt;]&lt;&lt;
    (29++++[-&lt;------&gt;]+&lt;+)
    [&gt;]&gt;
    [start loop &lt;++&lt;+&gt;&gt;&gt;&gt;]&lt;&lt;&lt;
    --[&gt;]&gt;
    [end loop &lt;-&lt;+&gt;&gt;&gt;&gt;]&lt;&lt;
    -&lt;[+]&lt;[&gt;]&gt;,
]
</code></pre>

<p>Gets the inputted program. Removes non-brainfuck characters and represents each character with a number:</p>

<pre><code>1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 |
] | [ | . | - | , | + | &gt; | &lt; |
</code></pre>

<p>Represents the end of the program with <code>255</code>.</p>

<h3>Part 5: Interpreting the input</h3>

<pre><code>Initialise simulated tape
&gt;&gt;&gt;+&lt;&lt;&lt;&lt;-

[&lt;]&gt;
[
    -[&lt;&lt;]&gt;
    [end loop
        co 0 0 0 e:  _1 0 0 0 1 ?
        Check if current cell is one
        &lt;+[&gt;]&gt;&gt;[&lt;]&lt;&lt;
        co 0 0 1 e _1: 0 0 !0 1
        or
        co 0 0 1 e _1 0: 0 0 1
        [ If current cell is one navigate to corresponding start loop
            Create counter
            &gt;&gt;+
            [
                co 0 0 de _1 0 c: !0 1
                checks if next instruction is an end loop
                &lt;&lt;[&lt;]&lt;&lt;-
                [&gt;&gt;]&lt;
                c !0 0: 0 de _1 0 c !0 1
                or
                c: 0 0  0 de _1 0 c !0 1
                [&gt;&gt;&gt;&gt;[&gt;]&gt;+&lt;&lt;[&lt;]&lt;] Add one to counter if it is
                checks if start loop
                &lt;-[&gt;&gt;]&lt;
                c !0 0: 0 de _1 0 c !0 1
                or
                c: 0 0  0 de _1 0 c !0 1
                [&gt;&gt;&gt;&gt;[&gt;]&gt;-&lt;&lt;[&lt;]&lt;] Subtract one from counter if it is
                c ? 0: 0 de _1 0 c !0 1
                Adds two to counteract checks and move to the next instruction
                &lt;++[-&gt;&gt;+&lt;&lt;]
                &gt;&gt;[&gt;]&gt;
                c 0 0 ode _1 0 c: !0 1
                End on the counter
                    If the counter is 0 then we have reached the corresponding bracket
            ]
            c 0 0 2 de _1 0 0: !0 1 0
            &lt;
        ]
        c 0 0 1?2 de _1 0: 0 0 1 0
        Subtract one from current instruction
            This executes the start loop code next but that does nothing
        &lt;[&lt;]&gt;-&lt;
    ]
    &gt;-[&lt;&lt;]&gt;
    [start loop
        c 0 0 0 de:  _1 0 0 ? 1
        &lt;++[&gt;]&gt;&gt;[&lt;&lt;]&gt;
        c 0 0 2 de _1 0 0 0 1:
        or
        c 0 0 2 de _1 0 0: !0 1
        [ If current cell is 0 navigate to corresponding end loop
            Initialise counter
            &lt;&lt;+
            c 0 0 ode _1 0 c: 0 1
            [ While counter is not 0
                Transfer current instruction over (first instruction is guaranteed to be start loop)
                &lt;&lt;[&lt;]&gt;[-&lt;&lt;+&gt;&gt;]&gt;
                co 0 0 de _1 0 c: 0 1
                Check if start loop
                --[&lt;&lt;]&gt;
                co 0 0: !0 e _1 0 c 0 1
                or
                co 0 0 0 e _1 0 c 0 1
                [[&gt;]&gt;+&lt;&lt;[&lt;]&lt;] Add one to counter if so
                checks if end loop
                &gt;+[&lt;&lt;]&gt;
                co 0 0: !0 e _1 0 c 0 1
                or
                co 0 0 0 e:  _1 0 c 0 1
                [[&gt;]&gt;-&lt;&lt;[&lt;]&lt;] Subtract one from counter if so
                Add one to counteract checks and navigate to counter
                &gt;+[&gt;]&gt;
                co 0 0 de _1 0 c: 0 1
                End on counter
                    If counter is 0 then we have reached the corresponding end loop
            ]
            co 0 1 e _1 0 0: 0 1
        ]
        co 0 0 2?1 e _1 0 0: ? 1
        Subtract two from the current instruction to bring it back up to the right value
        &lt;&lt;[&lt;]&gt;--&lt;
    ]
    3 of these are pretty self explanatory
    Navigate to the current cell and execute the instruction on it
    &gt;-[&lt;&lt;]&gt;
    [output
        [&gt;]&gt;&gt;.&lt;&lt;&lt;[&lt;]&lt;
    ]
    &gt;-[&lt;&lt;]&gt;
    [minus
        [&gt;]&gt;&gt;-&lt;&lt;&lt;[&lt;]&lt;
    ]
    &gt;-[&lt;&lt;]&gt;
    [input
        Reset current cell
        [&gt;]&gt;&gt;, (no more input so this is set to 0)
        co 0 0 0 e:  _1 0 0 0: 1 b 1 a 0 d 1 e 1 f
        Navigate to start of code section
        &lt;&lt;&lt;[&lt;]&lt;&lt;&lt;[&lt;]&lt;[&lt;]&gt;
        d: ata 0 co 0 0 0 e _1 0 0 0 1 b
        or
        0: co 0 0 0 e _1
        Transfer next instruction to current cell
        [[&gt;]&gt;[&gt;]&gt;&gt;&gt;[&gt;]&gt;&gt;+&lt;&lt;&lt;[&lt;]&lt;&lt;&lt;[&lt;]&lt;[&lt;]&gt;-]
        0: ata 0 co 0 0 0 e _1 0 0 d 1 b
        or
        0: co 0 0 0 e _1
        Navigate back to the normal spot
        &gt;[&gt;]&gt;[&gt;]&gt;&gt;[&lt;]&lt;
    ]
    &gt;-[&lt;&lt;]&gt;
    [plus
        [&gt;]&gt;&gt;+&lt;&lt;&lt;[&lt;]&lt;
    ]
    &gt;-[&lt;&lt;]&gt;
    [right
        Simulated tape looks like:
            a b c: d e f
        co 0 0 0 e:  _1 0 0 c 1 b 1 a 0 d 1 e 1 f
        Navigate to value of cell to the right
        [&gt;]&gt;&gt;&gt;[&gt;&gt;]&gt;
        co 0 0 0 e _1 0 0 c 1 b 1 a 0 d: 1 e 1 f
        Transfer it to temporary cell
        [&lt;&lt;&lt;[&lt;&lt;]&lt;+&gt;&gt;&gt;[&gt;&gt;]&gt;-]
        co 0 0 0 e _1 d 0 c 1 b 1 a 0 0: 1 e 1 f
        Pop extra marker if it exists from the right cells and add one to the left
        &gt;[-]&lt;&lt;+
        co 0 0 0 e _1 d 0 c 1 b 1 a 1: 0 0 e 1 f
        Transfer all left cells over 2 cells
        [&lt;[-&gt;&gt;+&lt;&lt;]&lt;]&lt;[-&gt;&gt;+&lt;&lt;]
        co 0 0 0 e _1 0: 0 d 1 c 1 b 1: a 0 e 1 f
        Navigate back to normal spot
        &lt;[&lt;]&lt;
    ]
    &gt;-[&lt;&lt;]&gt;
    [left
        Simulated tape looks like:
            a b c: d e f
        co 0 0 0: e _1 0 0 c 1 b 1 a 0 d 1 e 1 f
        Add temporary marker
        [&gt;]&gt;++
        co 0 0 0 e _1 0 2: c 1 b 1 a 0 d 1 e 1 f
        Remove temporary marker and transfer all left cells over two
        [--&gt;[-&lt;&lt;+&gt;&gt;]&gt;]
        co 0 0 0 e _1 c 0 b _1 a _1 0 0: d 1 e 1 f
        Add marker to right cells remove marker from left cells and reset left cell's markers
        +&lt;&lt;-[++&lt;&lt;]&lt;
        co 0 0 0 e _1 c: 0 b 1 a 0 0 1 d 1 e 1 f
        Transfer current cell to to right cells
        [-&gt;&gt;&gt;[&gt;&gt;]&gt;+&lt;&lt;&lt;[&lt;&lt;]&lt;]
        co 0 0 0 e _1 0: 0 b 1 a 0 c 1 d 1 e 1 f
        Navigate back to normal spot
        &lt;[&lt;]&lt;
    ]
    Add 8 to reverse checks
    &lt;(8++++++++)&gt;&gt;

    Execute next instruction
    [+&lt;&lt;-&gt;&gt;]&gt;
]
</code></pre>

<p>Interprets the program. The only difference from a normal one is that the input is taken from the beginning of the code section instead of the input.</p>

<h3>Part 6: Halt if return is not 0</h3>

<pre><code>&gt;&gt;[]
</code></pre>

<p>Navigate to the ending cell of <strong>your program</strong> and run an infinite loop if the return is not 0. If it is 0, exit the loop and end on that same 0.</p>

<h2>Test Inputs:</h2>

<p><a href="https://tio.run/##xVZbrtwgDF2Qh64AeSOIj7ZSpapSP67U9U9tMME2jzC3IzUzsYjjx@HYEL59fP35@8ef77@ez4AA9GchI6yPXbrh/i/iCmf@aF/Ig0j9gNiiXOIUyTGAs@yoTLSs@ecIUGVrAZYwldJOsQfZjM5UO0ubuONv8IZICvq0kptHnNZ0MbYsYY@Gr2aEoXf246t/Jo2CfmGgQaqLigrG0MO@UWfxDueHJxQqIkA7mXZe9OnQ/DOpE1gfM23sPKrp/idrt02s3N4rR8g3qI@ww2oe683xrKZodsw3Y7dITcvqBlZLWTUvTgrs95muHpH7VW/XF6Jz9hbKTjkNn6jx8/JSANjF8J8SvUnO9ilY7I5uq1zwNaXMmq04m@yr6JPOU9@TiQeecOuseNp9RU7YcizZZeGznwZ5Q4h5DFyfhXanL//J@VRswM1J8/Nz/Teu9KrECW36KDDYTvef8SixPta8cOw5ndG4@cPtmsRxozNKD9MRsaLsZicbP2QwYEGcHddShIyJfrnccF0pRGn@HNksR77JNyRnbCy1YSZFCAlB3rMHO4oX@0eO1I8/oI9WSiNQM8cEDCgEBB6VlLEJTAUeNhET20RB1c1CRmNHIsQKH6qCDRkkacQk8UzljQlG71XCFIoHPtLFENHAF2WFGEqoCLGUnyK8oilUXzpziYv20U7QHaVogokgwdZXVCEmoNmR9sGzI04ZFTNOMhb/ykFhhQySMESRmBYUkqCqs9eHpi@9UWrWCpFryfhuqVqu8hQlV60hcjAx1AkLItGFruMMrSlUihL/S2x2Whum2odoq0xNn3p3wGAhXXjxZiPCNA8ybTzpyMpSnqLhWCEXLq6ed@1vAjHNoTNGbUAVgWobWlBoafJVnNZKiR2KJ43z8/kX" rel="noreferrer">Always returns 0 (halts and returns 0)</a></p>

<pre><code>(empty program)
</code></pre>

<p><a href="https://tio.run/##xVZbrtwgDF2Qh64AeSOIj7ZSpapSP67U9U9tMME2jzC3IzUzsYjjx@HYEL59fP35@8ef77@ez4AA9GchI6yPXbrh/i/iCmf@aF/Ig0j9gNiiXOIUyTGAs@yoTLSs@ecIUGVrAZYwldJOsQfZjM5UO0ubuONv8IZICvq0kptHnNZ0MbYsYY@Gr2aEoXf246t/Jo2CfmGgQaqLigrG0MO@UWfxDueHJxQqIkA7mXZe9OnQ/DOpE1gfM23sPKrp/idrt02s3N4rR8g3qI@ww2oe683xrKZodsw3Y7dITcvqBlZLWTUvTgrs95muHpH7VW/XF6Jz9hbKTjkNn6jx8/JSANjF8J8SvUnO9ilY7I5uq1zwNaXMmq04m@yr6JPOU9@TiQeecOuseNp9RU7YcizZZeGznwZ5Q4h5DFyfhXanL//J@VRswM1J8/Nz/Teu9KrECW36KDDYTvef8SixPta8cOw5ndG4@cPtmsRxozNKD9MRsaLsZicbP2QwYEGcHddShIyJfrnccF0pRGn@HNksR77JNyRnbCy1YSZFCAlB3rMHO4oX@0eO1I8/oI9WSiNQM8cEDCgEBB6VlLEJTAUeNhET20RB1c1CRmNHIsQKH6qCDRkkacQk8UzljQlG71XCFIoHPtLFENHAF2WFGEqoCLGUnyK8oilUXzpziYv20U7QHaVogokgwdZXVCEmoNmR9sGzI04ZFTNOMhb/ykFhhQySMESRmBYUkqCqs9eHpi@9UWrWCpFryfhuqVqu8hQlV60hcjAx1AkLItGFruMMrSlUihL/S2x2Whum2odoq0xNn3p3wGAhXXjxZiPCNA8ybTzpyMpSnqLhWCEXLq6ed@1vAjHNoTNGbUAVgWobWlBoafJVnNZKiR2KJ43z8wl/AQ" rel="noreferrer">Always returns 1 (runs forever)</a></p>

<pre><code>+
</code></pre>

<p><a href="https://tio.run/##xVZbrtwgDF2Qh64AeSOIj7ZSpapSP67U9U9tMME2jzC3IzUzsYjjx@HYEL59fP35@8ef77@ez4AA9GchI6yPXbrh/i/iCmf@aF/Ig0j9gNiiXOIUyTGAs@yoTLSs@ecIUGVrAZYwldJOsQfZjM5UO0ubuONv8IZICvq0kptHnNZ0MbYsYY@Gr2aEoXf246t/Jo2CfmGgQaqLigrG0MO@UWfxDueHJxQqIkA7mXZe9OnQ/DOpE1gfM23sPKrp/idrt02s3N4rR8g3qI@ww2oe683xrKZodsw3Y7dITcvqBlZLWTUvTgrs95muHpH7VW/XF6Jz9hbKTjkNn6jx8/JSANjF8J8SvUnO9ilY7I5uq1zwNaXMmq04m@yr6JPOU9@TiQeecOuseNp9RU7YcizZZeGznwZ5Q4h5DFyfhXanL//J@VRswM1J8/Nz/Teu9KrECW36KDDYTvef8SixPta8cOw5ndG4@cPtmsRxozNKD9MRsaLsZicbP2QwYEGcHddShIyJfrnccF0pRGn@HNksR77JNyRnbCy1YSZFCAlB3rMHO4oX@0eO1I8/oI9WSiNQM8cEDCgEBB6VlLEJTAUeNhET20RB1c1CRmNHIsQKH6qCDRkkacQk8UzljQlG71XCFIoHPtLFENHAF2WFGEqoCLGUnyK8oilUXzpziYv20U7QHaVogokgwdZXVCEmoNmR9sGzI04ZFTNOMhb/ykFhhQySMESRmBYUkqCqs9eHpi@9UWrWCpFryfhuqVqu8hQlV60hcjAx1AkLItGFruMMrSlUihL/S2x2Whum2odoq0xNn3p3wGAhXXjxZiPCNA8ybTzpyMpSnqLhWCEXLq6ed@1vAjHNoTNGbUAVgWobWlBoafJVnNZKiR2KJ43z8/mQ1ULd8Rc" rel="noreferrer">Returns all input added together, mod 256 (returns 211, so it runs forever)</a></p>

<pre><code>,[[-&gt;+&lt;],]&gt;
</code></pre>

<p><a href="https://tio.run/##xVbdqhwhDH6Vc3kOWUt7WZC8iHjRFgql0ItCn3@baNTEv3FPFzq7I04mP59fYsavv7/8@PX9z7ef97tDAPrzIDPMj23spvu/DNWd@aN9IQ8y6gfE4qUOp0iOAZxFR6Wixxx/jgBVtOJgCVMJ7RKbk83sTLTTtIEb/gJv8KSgTzO5ecRpThdzyxI2b/hoRBhqZz@v9TMpFOw3BhqkOqmoYAw13BfqzN/h@vCEQkUEaCNTzos6HYp/NuoA1sYsGxuParn/SbtrEyuz544j5AvUR9hhtY51czzLKZqO@WTsFqkpWV3Aaiur4sVJgvs@08Qj8n7X2/2F2Bn3GkpPGQ2fqPHz8pAD2PnoPyW6Sc76FCy6Y9cqF3xNKbNqK84mfRX7oPPQ12TigSVcGiuedl@RE7Y6luy26KOfOnmCi7kPXJ@Fdqev/pPzLt@Am5Pm@9f6b1zpXYkT2vRRYNCd9p/xKLE@1jxw7Dld0dj84XJP4tjojLCH2RGxouyik40fMhiwIM6Oa8FDxEC/mG6oV3Beij96Voueb7J1oVM2mloxksC5gCDv2YINxYrtPXtqxx/QRyslEaiRfQI6FAIcz1JIXwYMCR6WwQfW8YKqqbmIRo8G5zN8yAJWZJAkEZXAK5U3xhm9VwGDSxZ4C5UhooEvigreJVcefEo/eXhEkqiuMnOJibbRRtAMJWmCiSDB1lZEzgeg1ZH0xqsjThkVM06jT/aZg8QKKQRhiDwxLSgkQRbHXu6KPNVGyllJRMwp47uEKrHSk5dYOYfIzkRRB0yIROaajCOUolAhkv8PvuhpqZtKbyLNYyjy0KoDBg2pwsqb9QjTOMi08aI9C1N6koR9uZi4qDXflb9xxDS7xhiVAWUEsq4rTqGEiTU5pZQCGyRLmsf7ncqdCuP1c@0gb@T79dPH1lLe0nakQmIz4PrjvZJQczXwPC@BNzkrkv7Ly18" rel="noreferrer">Returns 0 if the last two characters of a code are an infinite loop (<code>[]</code>) (<strong>your program</strong> returns 0 when given <strong>my program</strong>, therefore <strong>my program</strong> halts)</a></p>

<pre><code>,[&gt;,]&gt;(9+++++++++)[-&lt;(10++++++++++)&gt;]&lt;[-&lt;-&lt;-&gt;&gt;]+&lt;---[[-]&gt;[-]&lt;]&lt;-[[-]&gt;&gt;[-]&lt;&lt;]&gt;+&gt;[-&lt;-&gt;]&lt;    
</code></pre>

<h3>Fun Fact for those who are still reading</h3>

<p>If the input for this program is the source code of this program, then it will start recursing, repeatedly creating self-interpreters that run this program and then give it the same program again. This gives me some interesting ideas on creating actual recursive programs in brainfuck. Instead of checking the return value and starting an infinite loop as in this question, the return value can be saved and acted upon. A simple example would be a factorial program that goes</p>

<pre><code>If cell1 == 0:
    Get input into cell1
If cell1 == 1 or cell1 == 0:
    Return 1
Else:
    Initialise self-interpreter-quine function
    Pass cell1-1 into cell1 of the function
    Run function
    Multiply cell1 by the return value
    Return cell1
</code></pre>

<p>Of course, this is a completely insane way of coding brainfuck, given that running recursing self-interpreters will increase the runtime exponentially.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/26561/">26561</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




