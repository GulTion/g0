<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::168362</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>065</td><td>Ruby</td><td>180711T124043Z</td><td><a href="https://codegolf.stackexchange.com/questions/168362/black-box-trigonometry/168407#168407">Asone Tu</a></td></tr>
<tr d-ix="1"><td>073</td><td>R</td><td>180711T174759Z</td><td><a href="https://codegolf.stackexchange.com/questions/168362/black-box-trigonometry/168418#168418">digEmAll</a></td></tr>
<tr d-ix="2"><td>310</td><td>C gcc with lm</td><td>180711T115439Z</td><td><a href="https://codegolf.stackexchange.com/questions/168362/black-box-trigonometry/168406#168406">ErikF</a></td></tr>
<tr d-ix="3"><td>085</td><td>Python 3.6.5 on Linux</td><td>180711T214912Z</td><td><a href="https://codegolf.stackexchange.com/questions/168362/black-box-trigonometry/168429#168429">nthistle</a></td></tr>
<tr d-ix="4"><td>072</td><td>JavaScript Node.js</td><td>180713T143834Z</td><td><a href="https://codegolf.stackexchange.com/questions/168362/black-box-trigonometry/168515#168515">l4m2</a></td></tr>
<tr d-ix="5"><td>039</td><td>Perl 6</td><td>180713T133057Z</td><td><a href="https://codegolf.stackexchange.com/questions/168362/black-box-trigonometry/168512#168512">Phil H</a></td></tr>
<tr d-ix="6"><td>066</td><td>JavaScript</td><td>180710T225454Z</td><td><a href="https://codegolf.stackexchange.com/questions/168362/black-box-trigonometry/168387#168387">Shaggy</a></td></tr>
<tr d-ix="7"><td>019</td><td>Dyalog APL</td><td>180712T181653Z</td><td><a href="https://codegolf.stackexchange.com/questions/168362/black-box-trigonometry/168484#168484">dzaima</a></td></tr>
<tr d-ix="8"><td>172</td><td>C gcc</td><td>180711T194005Z</td><td><a href="https://codegolf.stackexchange.com/questions/168362/black-box-trigonometry/168424#168424">LambdaBe</a></td></tr>
<tr d-ix="9"><td>090</td><td>Python</td><td>180710T210844Z</td><td><a href="https://codegolf.stackexchange.com/questions/168362/black-box-trigonometry/168381#168381">mbomb007</a></td></tr>
<tr d-ix="10"><td>070</td><td>JavaScript</td><td>180710T211712Z</td><td><a href="https://codegolf.stackexchange.com/questions/168362/black-box-trigonometry/168382#168382">Etheryte</a></td></tr>
<tr d-ix="11"><td>086</td><td>Wolfram Language Mathematica</td><td>180710T213320Z</td><td><a href="https://codegolf.stackexchange.com/questions/168362/black-box-trigonometry/168385#168385">JungHwan</a></td></tr>
<tr d-ix="12"><td>nan</td><td>HP 49G RPL</td><td>180710T194838Z</td><td><a href="https://codegolf.stackexchange.com/questions/168362/black-box-trigonometry/168376#168376">Jason</a></td></tr>
<tr d-ix="13"><td>075</td><td>Perl 6</td><td>180710T191519Z</td><td><a href="https://codegolf.stackexchange.com/questions/168362/black-box-trigonometry/168372#168372">Sean</a></td></tr>
<tr d-ix="14"><td>099</td><td>Python 3.6.4 on Linux</td><td>180710T183436Z</td><td><a href="https://codegolf.stackexchange.com/questions/168362/black-box-trigonometry/168371#168371">orlp</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, <s>71</s> <s>67</s> 65 bytes</h1>

<pre class="lang-ruby prettyprint-override"><code>-&gt;g{Math.methods.find{g[0.5]==Math.send(_1,0.5)rescue p}||:acosh}
</code></pre>
<p><a href="https://tio.run/##ZZA7a8MwFIV3/4qzKYFGdMkSUDN1KiXgNQ1FteVch0Qyegwlym93rzS4hW767neOXj59fc@Dmjcv5/u7jiRvJpLrgxxG298z5fPxWW5PSlUZjO1X9MSTtTehSwbTI@ed7lygxzylGCAAjBYbuBR5mXHTsSPRFNmIwIrDiNpCFyhV6IJMVBwVSdVS1VQ9CRmm6xil0R2hd8hDsrkBJj/aCAbpLylEbJeZ4FsIJg@F4fjndStOr08yus@whL28/qvnWl8OgFK81x7i8Cawg3ht20P7m9h/2Ib/Z/4B" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a> (2 extra bytes because TIO doesn't support <code>_1</code> syntax)</p>
<h3>Non-competing but if <code>Math</code> worked like <code>CMath</code> (which it should), then this could be 57 bytes</h3>
<pre class="lang-ruby prettyprint-override"><code>-&gt;g{Math.methods.find{g[0.5]==Math.send(_1,0.5)rescue p}}
</code></pre>
<p><a href="https://tio.run/##ZZA9T8MwEIZ3/4p3cytRi6ULkumAmBCqlLVUyCROz6h1gj8GVPe3h3OGgMRi@7nnzudzyB/fU7Bf2QUL2V5MIileeYXGU92F6PW0eTxdK6iLTTR0UfXOd9dC5XS4V9uj1rOM1ncruuPIOtjYZovxdpvGnCIkAOexwZATHwu4UcudqhQysmqHiGQ8TAVTyVRkouqoSpotzZpmT1LF8eySsqYldANKn30RwBicT2BQ4TPHhO0Sk/wKyRR4wv7wZ6oVZ6@PKg3vcUkO6vyvvMzlSwNozXftIPcvEg@Qz02zb34zdm9e8L9MPw" rel="nofollow noreferrer">Try it online!</a> (2 extra bytes because TIO doesn't support <code>_1</code> syntax)</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, 73 bytes</h1>

<pre class="lang-r prettyprint-override"><code>function(b)Find(function(x)get(x)(1i)==b(1i),apropos('(sin|cos|tan)h?$'))
</code></pre>
<p><a href="https://tio.run/##PYtLCoAwDET3nkMwATceoLjzHvFT001abAUX3r22kLrJI29mrmxNtrdsyXmBFRcnO/z/g@eRyoXJoTFrxUjh8sFHGCA6eTcf30SCPPcDYrZVYmeh@IoaFZBaUk3qi2Zts9a59bkNuC0Y8wc" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>
<p>For the moment (R v3.5) it works.<br />
If in a future R version it will be added a function matching this regex, then who knows :P</p>
<ul>
<li>-4 bytes thanks to @Giuseppe</li>
<li>-9 bytes thanks to @JayCe</li>
<li>-2 bytes using <code>Find</code> instead of <code>for</code></li>
</ul>
</div>
<div id="pu2" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a> with <code>-lm</code>, <s>374</s> <s>346</s> <s>324</s> 310 bytes</h1>
<p>Thanks to Giacomo Garabello and ceilingcat for the suggestions.</p>
<p>I was able to save a bit more space by having a helper macro do token-pasting in addition to my original macro which does stringizing.</p>
<p>In the tests, I used a couple of non-library trig functions to confirm the validity of the results. As the results between the library and non-library functions weren't <em>exactly</em> the same floating-point value, I compared the difference of the results against a small value ε instead of using equality.</p>

<pre class="lang-c prettyprint-override"><code>#import&lt;math.h&gt;
#define q(f)f,#f,
#define _(f,g)q(f##sin##g)q(f##cos##g)q(f##tan##g)
#define p for(i=0;i&lt;24;i+=2)!j[i]
typedef double(*z)(double);*y[]={_(,)_(a,)_(,h)_(a,h)};i,x;*f(z g){int j[24]={x=0};char*c;for(double w;x++&lt;9;)p&amp;isnan(w=((z)y[i])(x))-isnan(g(x))|fabs(w-g(x))&gt;1E-9?j[i]=1:0;p?c=y[i+1]:0;g=c;}
</code></pre>
<p><a href="https://tio.run/##bVFdc5swEHznV1zDTEcC0RonL4kgfuqv8Hg8ikCgDF9BIsZ2@eulJ3A8fejLabW6u10WGRVSzrOv667tbVILW/4oXz0/y5VucvggiirmK3ZnjkSxgiLv@0Y3vn/DsjV3bMXC30c6UG1PdLrhOtk@cR2mW/rtfa8Pnj13OTZB1g5vVU6CCyUrpDw47w/p9UgYPRLhCisXVNKJazbyQJELFPSqGwvv@@0TNo/pZuKyFH0guVNcV8GJj2GYPHPafdemEQ05pYRc6BkNUDJSGq1s4fBvJd4MOUXL5TX@FT3vnNE0ftnwbidTHArjA16KVPIJY2tkNWQ5JMZmunXJeTfV@nzEHL48jBSuHkCf26FvAIPD/T8xMzy4N/07JPCx/P9Y1aKt0Hz0lozBGMZ0nXUJ1AJXfrY6WwcuoIZGmv0BUrg6OQYoxm6mGIiFEgsnFsapLk1YkSjZ3cvaV66NeLiEYOKo4oS1Ay5zCAz3EH/9atBJ/Ig1DFdLAAbNKLIaw@j5QnaDNcTszMtD0@JXWFk@LC@TN81/pKpEYeaoqufo9Bc" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
</div>
<div id="pu3" class="pu"><h1>Python 3.6.5 on Linux, <s>90</s> 85 bytes</h1>

<pre class="lang-py prettyprint-override"><code>h=hash;lambda f:h(f(.0869))%3%2*"a"+"tscaionns"[h(f(.14864))%3::3]+h(f(.511))%5%2*"h"
</code></pre>

<p>This builds upon <a href="https://codegolf.stackexchange.com/a/168371/81278">orlp's answer</a>; but instead of finding 1 magic number, we find 3! This basically just saves bytes by avoiding putting the string literals for "sin", "cos", and "tan" multiple times, instead building the answer one part at a time.</p>

<p>The first magic number is used to determine whether it's one of the "arc" trigonometric functions, prepending an "a" accordingly, the second for whether it's one of the "sin", "cos", or "tan" based functions, selecting the appropriate string, and the third for whether it's one of the hyperbolic functions, appending a "h" accordingly.</p>

<p>Like orlp's answer, it uses the functions from Python's built-in <code>cmath</code> module as input.</p>

<p><em>Saved 5 bytes by using slice indexing into the middle string</em></p>

<h2>Finding the Magic Numbers</h2>

<p>For completeness, here's (more or less) the script I used to find these magic numbers. I mostly just worked straight in a python terminal, so the code is messy, but it gets the job done.</p>

<pre class="lang-py prettyprint-override"><code>import cmath
fns = [(fn, getattr(cmath, fn)) for fn in ["sin","cos","tan","asin","acos","atan","sinh","cosh","tanh","asinh","acosh","atanh"]]

count_length = lambda num, modulus, base_modulus : len(str(num).rstrip('0').lstrip('0')) + (1 + len(str(modulus)) if modulus != base_modulus else 0)

min_length = float("inf")
min_choice = None
for modulus in range(2,10):
   for i in range(1,100000):
      num = i/100000.
      is_valid = True
      for fn in fns:
         val = hash(fn[1](num))%modulus%2
         if (val == 0 and fn[0][0]=="a") or (val == 1 and fn[0][0]!="a"):
            is_valid = False
      if is_valid:
         length = count_length(num, modulus, 2)
         if length &lt; min_length:
            min_length = length
            min_choice = (modulus,num)
print(min_choice)

min_length = float("inf")
min_choice = None
for modulus in range(3,10):
   for i in range(100000):
      num = i/100000.
      mapping = {}
      is_valid = True
      for fn in fns:
         fn_type = "sin" if "sin" in fn[0] else "cos" if "cos" in fn[0] else "tan"
         val = hash(fn[1](num))%modulus%3
         if val in mapping and mapping[val] != fn_type:
            is_valid = False
            break
         mapping[val] = fn_type
      if is_valid:
         length = count_length(num, modulus, 3)
         if length &lt; min_length:
            min_length = length
            min_choice = (modulus, num, mapping)
print(min_choice)

min_length = float("inf")
min_choice = None
for modulus in range(2,10):
   for i in range(1,100000):
      num = i/100000.
      is_valid = True
      for fn in fns:
         val = hash(fn[1](num))%modulus%2
         if (val == 0 and fn[0][-1]=="a") or (val == 1 and fn[0][-1]!="a"):
            is_valid = False
      if is_valid:
         length = count_length(num, modulus, 2)
         if length &lt; min_length:
            min_length = length
            min_choice = (modulus,num)
print(min_choice)
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 72 bytes</h1>



<pre class="lang-javascript prettyprint-override"><code>f=&gt;eval('for(s=i=0;!s||s(.8)+s!=f(.8)+s;i++)s=Math[t=i.toString(30)];t')
</code></pre>

<p><a href="https://tio.run/##Jcy9CoMwEADgV6ku3qENQpeCnKNbp45FSLD@nMSceKGT755Cu33Tt7qP0@HgPV6DvMfUUZqoHT/OQzHJAUpMdZPpeSqYO5aa0fRHw2WJSg8Xl1ckNlGe8eAww63GvokFpkGCih@NlxlyN4guudHdc7SVNZvbYaO2g1@w9YhmFQ62ulhMXw" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/nxadm/rakudo-pkg" rel="nofollow noreferrer">Perl 6</a>, 39 bytes</h1>



<pre class="lang-perl6 prettyprint-override"><code>{i.^methods.first({try $^a.(i)==.(i)})}
</code></pre>

<p><a href="https://tio.run/##JcfBCoQgGEXhvU9xiRAFcTmbsEcphP5QGGtQNyI@uyWzOR/nR/H76aFwMr16vQXK7j6SPn1MWdQcC@bNauGlMaNNtr6w844QPPlLYdS92P8NnERlAJIt0JcNpCaYFZPiJOZdLqz1Bw" rel="nofollow noreferrer" title="Perl 6 – Try It Online">Try it online!</a></p>

<p>By the looks of things, one of the few to use introspection. <code>i</code> here is the complex number, whose value is unique for each trig function, so by iterating through all the methods we can find the matching method and implicitly spit out its name. The <code>try</code> is needed as some (unwanted) methods have the a different signature.</p>
</div>
<div id="pu6" class="pu"><h1>JavaScript, <s>76</s> <s>67</s> 66 bytes</h1>
<p>Not pretty but I went far too far down the rabbit hole with this over a few beers to <em>not</em> post it. Derived independently from Nit's solution.</p>
<pre><code>b=&gt;Object.getOwnPropertyNames(M=Math).find(x=&gt;M[x](.8)+M==b(.8)+M)
</code></pre>
<p><a href="https://tio.run/##Jc1LDoMgFIXhrTSOIKWMO7nugNq5MeGKqBh5REhrV08Lnfw5yTc4G74wqsOEdHN@0nmGPELbjZtWiS86dW/3PHzQR/o80OpIBAhMK@WzcRM5oRX9ORB@p1cBMP4Hzcq76HfNd7@QBpWPrGRlGI2r@c2ErmZlxSsXrVisUMNj2E2STHKLgVhoZ1LueztQyjdvnGQXSfMX" rel="nofollow noreferrer">Try it online</a></p>
<ul>
<li>Saved 6 bytes thanks to <a href="https://codegolf.stackexchange.com/users/17602/">Neil</a></li>
<li>Saved 1 bye thanks to <a href="https://codegolf.stackexchange.com/users/76323/l4m2">l4m2</a></li>
</ul>
</div>
<div id="pu7" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">Dyalog APL</a>, <s>25</s> <s>21</s> 19 bytes</h1>



<pre class="lang-apl prettyprint-override"><code>(8-(2○⍨8-⍳15)⍳⎕2)∘○
</code></pre>

<p><a href="https://tio.run/##SyzI0U2pTMzJT///qKM97b@Gha6G0aPp3Y96V1joPurdbGiqCSQf9U010nzUMQMoAVL2P43LEMLjSuMygrOM4SxTOMsMzjKHsw6tN0RiGyGxjZHYpkhsMyQ21BwA" rel="nofollow noreferrer" title="APL (Dyalog Unicode) – Try It Online">Try it online!</a></p>

<p>-3 thanks to <a href="https://codegolf.stackexchange.com/users/71256/h-pwiz">H.PWiz</a><br>
-2 thanks to <a href="https://codegolf.stackexchange.com/users/24908/ngn">ngn</a></p>

<p>Goes trough all the required trig functions (which in APL are <code>1 2 3 5 6 7 ¯1 ¯2 ¯3 ¯5 ¯6 ¯7○2</code>) plus some more things (this goes trough <code>-7..7</code>), finds which one matches <code>input○2</code>, and outputs that "with" <code>○</code>, which outputs as <code>num∘○</code></p>
</div>
<div id="pu8" class="pu"><h1><a href="https://gcc.gnu.org/" rel="noreferrer">C (gcc)</a>, <s>178</s> 172 bytes</h1>



<pre class="lang-c prettyprint-override"><code>double d;_;f(double(*x)(double)){d=x(0.9247);_=*(int*)&amp;d%12;puts((char*[]){"acosh","sinh","asinh","atanh","tan","cosh","asin","sin","cos","atan","tanh","acos"}[_&lt;0?-_:_]);}
</code></pre>

<p><a href="https://tio.run/##Xc7RasIwFAbg@z5FqExyyipVBNmi80FEwlnSmkIbpU1BKH31xdS0LniT/z/JxyEivQhhrbx2v1VOJOOsoH6gyR2mCtDLw51mq6/NdgeMHxJaapPAUn6sN@zWmZZSobBJTmfoYxTXVsWfcVvqMXBOg8904c7JjI@e@rvJefYE4@Vw4vvsmPJvfgY22EWpRdXJnOxrNGqlfiL3G1JjqSmQPiKEFNRtBOar2zBXt3SuGAgMCL4ZFSIVqtcQqhD9myY3XaNJxqIhsn@iqPDS2rSqHw" rel="noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>

<h1>Old but cool: <a href="https://gcc.gnu.org/" rel="noreferrer">C (gcc)</a>, 194 bytes</h1>



<pre class="lang-c prettyprint-override"><code>double d;_;f(double(*x)(double)){char n[]="asinhacoshatanh";d=x(0.9247);_=*(int*)&amp;d%12;_=(_&lt;0?-_:_);n[(int[]){10,5,5,0,14,10,4,4,9,14,0,9}[_]]=0;puts(n+(int[]){5,1,0,10,11,6,0,1,6,10,11,5}[_]);}
</code></pre>

<p><a href="https://tio.run/##XY/haoMwFEb/@xShYyNxscSiGy51exCRcBu1ETQdGqEgvvqyiHML44ZwPnI@yJXRVUprq9t06WpUccEbvAUc3skPEjJLBQPSRZkfYGy1AnkbFRjQ6sCr/I7ZMTslr4SLPMStNiF5qh7jk4tYnNlHJN4E4bpYn4qSzDGjqRtG44Q6TtxkKzOaLYUoy5zxz8mMWD/vjZTGq@5OTF9WcveW0rVB@GIfWi27qarRuQejjuo9cF3UQ6sxQXOAEGqw@zrhG7oFdnRr7AieAZ4C/xzlS8q3foNv@dKfM9RmGjRiPFgC@yWbDq6jjbr@Gw" rel="noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>

<p>The <code>-lm</code> switch in TIO is merely to test. If you could write a <em>perfect</em>
implementation of the standard trig functions you would get the right answer.</p>

<h2>Explanation</h2>

<p>The idea was to find some input value such that when I interpret the outputs of
each of the trig functions as integers they have different remainders modulo 12.
This will allow them to be used as array indices.</p>

<p>In order to find such an input value I wrote the following snippet:</p>

<pre class="lang-c prettyprint-override"><code>#include &lt;math.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;stdio.h&gt;
#include &lt;time.h&gt;

// Names of trig functions
char *names[12] = {"sin","cos","tan","asin","acos","atan","sinh","cosh","tanh","asinh","acosh","atanh"};

// Pre-computed values of trig functions
double data[12] = {0};

#define ABS(X) ((X) &gt; 0 ? (X) : -(X))

// Performs the "interpret as abs int and modulo by" operation on x and i
int tmod(double x, int i) {
    return ABS((*(int*)&amp;x)%i);
}

// Tests whether m produces unique divisors of each trig function
// If it does, it returns m, otherwise it returns -1
int test(int m) {
    int i,j;
    int h[12] = {0}; // stores the modulos

    // Load the values
    for (i = 0; i &lt; 12; ++i)
        h[i] = tmod(data[i],m);

    // Check for duplicates
    for (i = 0; i &lt; 12; ++i)
        for (j = 0; j &lt; i; ++j)
            if (h[i] == h[j])
                return -1;

    return m;
}

// Prints a nicely formatted table of results
#define TEST(val,i) printf("Value: %9f\n\tsin      \tcos      \ttan      \n  \t%9f\t%9f\t%9f\na \t%9f\t%9f\t%9f\n h\t%9f\t%9f\t%9f\nah\t%9f\t%9f\t%9f\n\n\tsin      \tcos      \ttan      \n  \t%9d\t%9d\t%9d\na \t%9d\t%9d\t%9d\n h\t%9d\t%9d\t%9d\nah\t%9d\t%9d\t%9d\n\n",\
        val,\
        sin(val), cos(val), tan(val), \
        asin(val), acos(val), atan(val),\
        sinh(val), cosh(val), tanh(val),\
        asinh(val), acosh(val), atanh(val),\
        tmod(sin(val),i), tmod(cos(val),i), tmod(tan(val),i), \
        tmod(asin(val),i), tmod(acos(val),i), tmod(atan(val),i),\
        tmod(sinh(val),i), tmod(cosh(val),i), tmod(tanh(val),i),\
        tmod(asinh(val),i), tmod(acosh(val),i), tmod(atanh(val),i))

// Initializes the data array to the trig functions evaluated at val
void initdata(double val) {
    data[0] = sin(val);
    data[1] = cos(val);
    data[2] = tan(val);
    data[3] = asin(val);
    data[4] = acos(val);
    data[5] = atan(val);
    data[6] = sinh(val);
    data[7] = cosh(val);
    data[8] = tanh(val);
    data[9] = asinh(val);
    data[10] = acosh(val);
    data[11] = atanh(val);
}

int main(int argc, char *argv[]) {
    srand(time(0));

    // Loop until we only get 0-&gt;11
    for (;;) {
        // Generate a random double near 1.0 but less than it
        // (experimentally this produced good results)
        double val = 1.0 - ((double)(((rand()%1000)+1)))/10000.0;
        initdata(val);
        int i = 0;
        int m;

        // Find the smallest m that works
        do {
            m = test(++i);
        } while (m &lt; 0 &amp;&amp; i &lt; 15);

        // We got there!
        if (m == 12) {
            TEST(val,m);
            break;
        }
    }

    return 0;
}
</code></pre>

<p>If you run that (which needs to be compiled with -lm) it will spit out that with
a value of 0.9247 you get unique values.</p>

<p>Next I reinterpeted as integers, applied modulo by 12, and took the absolute
value. This gave each function an index. They were (from 0 -> 11): acosh, sinh,
asinh, atanh, tan, cosh, asin, sin, cos, atan, tanh, acos.</p>

<p>Now I could just index into an array of strings, but the names are very long and
very similar, so instead I take them out of slices of a string.</p>

<p>To do this I construct the string "asinhacoshatanh" and two arrays. The first
array indicates which character in the string to set to the null terminator,
while the second indicates which character in the string should be the first
one. These arrays contain: 10,5,5,0,14,10,4,4,9,14,0,9 and
5,1,0,10,11,6,0,1,6,10,11,5 respectively.</p>

<p>Finally it was just a matter of implementing the reinterpretation algorithm
efficiently in C. Sadly I had to use the double type, and with exactly 3 uses,
it was quicker to just use <code>double</code> three times then to use <code>#define D double\nDDD</code>
by just 2 characters. The result is above, a description is below:</p>

<pre class="lang-c prettyprint-override"><code>double d;_;                                 // declare d as a double and _ as an int
f(double(*x)(double)){                      // f takes a function from double to double
    char n[]="asinhacoshatanh";             // n is the string we will manipulate
    int a[]={10,5,5,0,14,10,4,4,9,14,0,9};  // a is the truncation index
    int b[]={5,1,0,10,11,6,0,1,6,10,11,5};  // b is the start index
    d=x(0.9247);                            // d is the value of x at 0.9247
    _=*(int*)&amp;d%12;                         // _ is the remainder of reinterpreting d as an int and dividing by 12
    _=(_&lt;0?-_:_);                           // make _ non-negative
    n[a[_]]=0;                              // truncate the string
    puts(n+b[_]);}                          // print the string starting from the correct location
</code></pre>

<p>Edit: Unfortunately just using a raw array is actually shorter, so the code becomes much simpler. Nonetheless the string slicing was fun. In theory an appropriate argument might actually come up with the right slices on its own with some math.</p>
</div>
<div id="pu9" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python</a>, <s>108</s> <s>94</s> 90 bytes</h1>
<p>Compares the result of the input function to the results of all of the functions for the value <code>.2</code>.</p>
<pre class="lang-python prettyprint-override"><code>from cmath import*
lambda f:[w for w in globals()if w[-1]in'shn'and eval(w)(.2)==f(.2)][0]
</code></pre>
<p><a href="https://tio.run/##PYwxbsMwDEXn8BQEMlgKkKLOaMBjvOYArgfakSIhMiVIStWc3rWNogM//ycfGd7ZeL4sXfu1OJrHO6Fu@oLaRyxoGR/Oj@SSkFZj6c/1YLlKhiviO6pvcqJI8XGRbau3NvSfA@joZ5xmygbtHHzMp@W4/bMcXhkAirFOYd3AIcd3E6LljJ3Yt0JKOKifSYWM11t3jXG9o4SqGaOi50LJsgGafIK/WlMm3sXA5lYCNgz2yT9vfgE" rel="nofollow noreferrer"><strong>Try it online</strong></a></p>
<p><em>-14 bytes by <a href="https://codegolf.stackexchange.com/users/53748/jonathan-allan">Jonathan Allen</a></em><br />
<em>-4 bytes by <a href="https://codegolf.stackexchange.com/users/47120/rod">Rod</a></em></p>
</div>
<div id="pu10" class="pu"><h1>JavaScript, <s>108</s> 70 bytes</h1>

<p>I haven't tried golfing in pure Javascript in ages, so I'm sure there's stuff to improve here.</p>



<pre class="lang-javascript prettyprint-override"><code>t=&gt;Object.getOwnPropertyNames(m=Math).find(f=&gt;m[f](.9,0)+''==t(.9)+'')
</code></pre>

<p>Pretty straightforward, checks every function on the <code>Math</code> prototype against an arbitrary value (0.9, many other values probably work) and compares with the result of the black box function.<br>
Tested in Google Chrome, will break if the input black box function is not one of the trigs.</p>

<p>Cut off a ton of bytes thanks to Shaggy and Neil.</p>

<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>const answer = t=&gt;Object.getOwnPropertyNames(m=Math).find(f=&gt;m[f](.9,0)+''==t(.9)+'');
const tests = [Math.sin, Math.cos, Math.tan, Math.asin, Math.acos, Math.atan, Math.sinh, Math.cosh, Math.tanh, Math.asinh, Math.acosh, Math.atanh];

tests.forEach(test =&gt; console.log(test + ' yields ' + answer(test)));</code></pre>
</div>
</div>
</p>
</div>
<div id="pu11" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, 86 bytes</h1>

<pre><code>#&amp;@@Nearest[a=Join[a={Sin,Cos,Tan,Sinh,Cosh,Tanh},InverseFunction/@a];#@2&amp;/@a-&gt;a,#@2]&amp;
</code></pre>

<p><a href="https://tio.run/##jZHPaoQwEMbveQohILomiF6XXSylhZRSFtqbZCGI23jYCGp7WfbeZ@jj9UXsTLL2j67benAmyff7ZjLZq06Xe9VVhep3q6CnfpY9lKop2y5Xq7u6MhAOj5Vh13XLnpRhkGtcaFzpIxPmtWza8vbFFF1VmzhTckmz1IeErxWDVPp9uCSbpjJdTvl6l1EJpwdC0JagL0FjYp2JtcYN@F81hdVAtDKIVun29XCghxNIiAhutgEXNOQQIYRx6jNv/AULDxy8RUgGeXRJjnoohPqp/9gBedBDPyd/ClJOZ5x/9qMHIPoPgDcfVfhmJ6TryAL39XMuaPTx9h4knG7TUMZi5tJu0ghtqjiNhDdlR6SDTsNCNU94KuKAcgF1UnH@Mdz7DcjJPzrnP2lO/6aA4ckf1NfkHJZIjgncR@LMZ9uzDDn2nw" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
</div>
<div id="pu12" class="pu"><h1>HP 49G RPL, 88.0 bytes excluding 10 byte program header</h1>

<p>Another solution using complex numbers! Enter and execute it in COMPLEX, APPROX mode. Takes the function on the stack.</p>

<pre><code>2. SWAP EVAL { SIN COS TAN ASIN ACOS ATAN SINH COSH TANH ASINH ACOSH ATANH }
DUP 1. &lt;&lt; 2. SWAP EVAL &gt;&gt; DOLIST ROT - ABS 0. POS GET
</code></pre>

<p>(the newlines don't matter)</p>

<p>For the constant 2.0, all twelve trig functions are defined in the complex plane, so we just evaluate all twelve and see which one matches. This time, the iterative solution is longer (111.5 bytes) because of the stack shuffling needed to get it. RPL, as far as I know, doesn't let you break out of a loop early.</p>
</div>
<div id="pu13" class="pu"><h1><a href="http://perl6.org/" rel="noreferrer">Perl 6</a>, 75 bytes</h1>

<pre><code>-&gt;&amp;f {([X~] ("","a"),&lt;sin cos tan&gt;,("","h")).min({abs(f(2i)-&amp;::($_)(2i))})}
</code></pre>

<p><a href="https://tio.run/##LY1BCoMwEEWvMgwSMhBddNGFVM9RKCVMxRChxmLahYT06mlq3HyGx@PNa1yf5zRvIMzHDdCluhcGgrxdv3eQiAoZSV385GBYPLzZ9WrHFomaeXIy8MNLI08T1aJtZaXpf1OkmDxvgKHSjeN5jND1EPYvlY4IZllB5K4Ckct5czsvF8SFcYGZ2eLZItrDtIdqD9emHw" rel="noreferrer" title="Perl 6 – Try It Online">Try it online!</a></p>

<p>As it happens, all twelve of the functions to be discriminated amongst are built-in and all take complex arguments.</p>

<p><code>[X~] ("", "a"), &lt;sin cos tan&gt;, ("", "h")</code> generates all twelve function names by reducing the three input lists with cross-product-concatenation.  Given those, <code>.min(...)</code> finds the one which the smallest difference from the input function at <code>2i</code>.</p>
</div>
<div id="pu14" class="pu"><h1>Python 3.6.4 on Linux, 99 bytes</h1>

<p>Bit of a silly answer, but:</p>

<pre class="lang-py prettyprint-override"><code>lambda f:"asinh acos cos cosh atan atanh tan sin asin tanh sinh acosh".split()[hash(f(.029))%19%12]
</code></pre>

<p>Requires the trigonometric functions to be one out of the built-in <code>cmath</code> module for complex in/output.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/168362/">168362</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




