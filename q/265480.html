<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::265480</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>125</td><td>JavaScript Node.js</td><td>230925T192448Z</td><td><a href="https://codegolf.stackexchange.com/questions/265480/do-you-win-a-numeric-mahjong/265488#265488">l4m2</a></td></tr>
<tr d-ix="1"><td>122</td><td>Charcoal</td><td>230925T115524Z</td><td><a href="https://codegolf.stackexchange.com/questions/265480/do-you-win-a-numeric-mahjong/265482#265482">Neil</a></td></tr>
<tr d-ix="2"><td>143</td><td>JavaScript ES6</td><td>230925T135320Z</td><td><a href="https://codegolf.stackexchange.com/questions/265480/do-you-win-a-numeric-mahjong/265485#265485">Arnauld</a></td></tr>
<tr d-ix="3"><td>041</td><td>05AB1E</td><td>230925T115608Z</td><td><a href="https://codegolf.stackexchange.com/questions/265480/do-you-win-a-numeric-mahjong/265483#265483">Command </a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 125 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>f=(A,e,k,n)=&gt;1/n&amp;&amp;!{'1,1':1,'0,0':1}['B-!!()+:\|',[e-k,k-n]]?0:A+A?A.some((C,j)=&gt;f(A.filter(B=&gt;j--),C,...1/n?[]:[e,k])):e==+k
</code></pre>
<p><a href="https://tio.run/##hZDNUoMwEMfvPEXaQ0mmC/JRaUsn7dCOPIGe0hyYGmwLBgdQp6M@O6bEIurBmd8mmd3N7n/3mLwk1a48PNWWLO5FE9MmpTgCARlIQpfulRyNBm@mC64ZumA64Kj7g5lrazDAZBxu301gwsogsyTnKyeMxtEqsqviUWC8gaOqkeLITg95LUq8psujZRHYgG3bqvaK8ZCpXpyQUFA6zppdIasiF3ZePOAhuy2f6/2JD8nCYAZCzAHkcDi/5vM5oO/D9fyJPnXYBeRd8DuXSpm2rusLMxUGFKgqv/75LZMLOjtoUSWmXXaH1@@o0UlnzX9RMW7YaVHeJLs9ThBdov7oMU4IUVMbP/axlSxO8qq3kC8dnRy/1Tntz9Np05PMWtxAm@9pCyZn4/9okuIV3R1k7XtRWSanViNZNJ8" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>Besides tuplets: <code>&amp;&amp; --..// AABBCC [\] ijjkkl mno rst {|}</code></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, <s>128</s> <s>125</s> 122 bytes</h1>
<pre><code>¿⁼²﹪Ｌθ³«≔⟦⟧η≔⟦⟧ζＷ⌊⁻θη«⊞ηι⊞ζ⟦ι№θι⟧»⊞υζＦυ¿⁼¹ＬΦι﹪§κ¹↔³Ｐ¹Ｆη¿⁼³ＬΦι×§λ¹›²↔⁻κ§λ⁰⊞υＥι⟦§λ⁰⁻§λ¹›²↔⁻κ§λ⁰⟧»Ｗ›ηη«⊞⊞⌊⌊№№≔Φ﹪××⁻⁻¹ＥＥＦＰＰＷ∕»
</code></pre>
<p><a href="https://tio.run/##fY/BagIxEIZfpQ/gpdrah1n2IF56KBR8AhdUXOlx697qyQjag7hgNpuAMHuP7zAvkEfY/hMrvRU@SJh8M/Nn/DqajN9Hb11HF84cnYLZB/fta6rowHnBG8Wbndd/13Nwmj9WnFlfew1p9eW1N3KcoeA2W@PFwCWL6nUuLeo6vy0wMh0W9tDON2R4UVAV3FFeFAZGq/q12hKShTRt6ARTtjZS4uwYZwe3lVXqXsvsPw2SSNJPGyS@RRfwGTBbC3nhFaK1ZVuiVcYh1jaiEDKieflJtuuS5LH30I8MIk93niPDyAtI0x8" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Uses the Charcoal code page. Explanation:</p>
<pre><code>¿⁼²﹪Ｌθ³«
</code></pre>
<p>Check that the length is satisfactory.</p>
<pre><code>≔⟦⟧η≔⟦⟧ζＷ⌊⁻θη«⊞ηι⊞ζ⟦ι№θι⟧»
</code></pre>
<p>Count the number of times each number appears in the array.</p>
<pre><code>⊞υζＦυ
</code></pre>
<p>Start a breadth first search with the original list of counts.</p>
<pre><code>¿⁼¹ＬΦι﹪§κ¹↔³Ｐ¹
</code></pre>
<p>If this hand is all sets of <code>3</code> identical numbers except one, then it is a winning hand. Otherwise:</p>
<pre><code>Ｆη
</code></pre>
<p>Loop over all numbers that appeared.</p>
<pre><code>¿⁼³ＬΦι×§λ¹›²↔⁻κ§λ⁰
</code></pre>
<p>Check to see whether this number might be the middle of a run of three.</p>
<pre><code>⊞υＥι⟦§λ⁰⁻§λ¹›²↔⁻κ§λ⁰⟧»
</code></pre>
<p>If so then remove that run and add the result to the list of hands to check.</p>
<pre><code>Ｗ›ηη«⊞⊞⌊⌊№№≔Φ﹪××⁻⁻¹ＥＥＦＰＰＷ∕»
</code></pre>
<p>Filler bytes to satisfy the source layout, wrapped in a <code>while</code> loop whose condition (value greater than itself) can never be true.</p>
</div>
<div id="pu2" class="pu"><h1>JavaScript (ES6), 143 bytes</h1>
<p>An early attempt. This can probably be significantly improved.</p>
<p>Expects an <code>Uint32Array</code>. Returns a Boolean value.</p>

<pre class="lang-javascript prettyprint-override"><code>f=&gt;(q=([v,...f],e=0)=&gt;1/v?[2,4,5].some(t=&gt;(n=1,o=f.filter(i=&gt;n*2&gt;t|i-v-t%2*n||!++n),n*2&gt;t&amp;&amp;q(o,e+(t&lt;3)))):e==1)(f.sort())////!%%&amp;55::&gt;??[]efqpt
</code></pre>
<p><a href="https://tio.run/##nZBdT8MgFIbv@yuYyRa6sW6lH/uSLl64X6BX2ItmgqupsFGsWbL/Xmlxteqd5DmEHF4O7zmvWZWVe5Uf9VTIZ1bvSM1JAk8E0gp5nsdTxMjcJYk/q7YUoxBFqVfKNwa1kQniI0m4x/NCMwVzkogxTvQln1ZTPcRjcbkMJhPhojY9Gp2gRGwC9W3gmrVmhPgu5Kae0tB1Z2YNhsNRFK3XyXZLU8ZPR13vpShlwbxCvsAb@qDe9eGc3rgbhzoA0DkC8xQ1p9VqhcD35uMgtLu99hHAV4IuZSSLNhVdWZprBGJT5de7oCW8YtVxiymx6NQduP@jxYoaz39JndTxuFT32f4AM0AS0O98BwX7AI@50AG@Uyo7w6yZ4cZxfsznSdBdVpS9AX356uwFre9Fv7/Oq@1s2eLHNgJsIw6b@J/J@hM" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>The original function is too slow to validate itself on TIO, so we have to use a slightly optimized version:</p>
<p><a href="https://tio.run/##xY6xboMwFEX3fAWJhPUcjFNIWUgeqB3yB50QA6LPlStiB@NQVeLfqdO9c@94dXXu@ezmbuqdvvnU2HdaL7gqrGBEaGYhpVStIHziWGWHuaZzzliTi2dRtHKyVwIftgYzYVFJpQdPDjRWZp9XftHpnPo435tl2SaJ4eK3ZmwEKygBfz7ykJIQMw4q8JwHzg8h2zhmRVGWVV03Lanx5teBfNQHwQij3d@C/@K2O202vTWTHUgO9gMuYOgretPGH/MX57pveL0rFd4f/g/saf0B" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="noreferrer">05AB1E</a>, <s>47</s> <s>47</s> <s>44</s> 41 bytes</h1>
<pre><code>œʒ3ôDʒ¥J&gt;}gsʒ¥T&gt;SQ}g+3*Ig&gt;Q}ćQ,D¥3›DHUssô
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f//6ORTk4wPb3E5NenQUi@72vRiECPELjiwNl3bWMsz3S6w9kh7oI7LoaXGjxp2uXiEFhcf3vL/f7ShjoKRjoKxjoKJjoJpLAA" rel="noreferrer" title="05AB1E – Try It Online">Try it online!</a>, or <a href="https://tio.run/##yy9OTMpM/V9Waa@koGunoGRfeWjl/6OTT00yPrzF5dSkQ0u97GrTi0GMELvgwNp0bWOtQ@vS7QJrj7QH6rgcWmr8qGGXi0docfHhLf//R0fH6ihEG4IIAx0FAzBHR8FYR8FUR8FcR8ESKmAEQ8YgAUtLS6AUnDA0MjaBkAjVQBOAYqaxsQA" rel="noreferrer">try all test cases (this code can handle in under a minute)</a>.</p>
<p><a href="https://tio.run/##yy9OTMpM/a/0/@jkU5OMD29xOTXp0FIvu9r0YhAjxC44sDZd21jLM90usPZIe6COy6Glxo8adrl4hBYXH97yX@nQtgt7zm09uu9IW3F2bXVZpb2Sgq6dgpI9SKTy8Aqd2v8A" rel="noreferrer">See the codepoints</a></p>
<p>Returns <code>0</code> for true and <code>[]</code> for false.</p>
<h2>Explanation</h2>
<p>The general approach is this: Test for the existence of a permutation such that if we split it to parts of length 3, and then keep all the valid ones and count them, and multiply by 3, we should get 1 plus the length of the original input.</p>
<pre><code>œ       # all permutations
ʒ       # keep those such that:
 3ô      # split to parts of length 3
 D       # duplicate
 ʒ       # keep parts where:
  ¥       # their differences
  J       # joined to a string
  &gt;       # plus one
 }       # (is equal to 1)
 g       # find the length
 s       # swap, so the parts are on top
 ʒ       # keep parts such that:
  ¥      # their differences
  T&gt;     # 11
  S      # [1, 1]
  Q      # [1, 1] is equal to the differences
 }
 g       # take their lengths
 +       # sum the lengths of the two types of parts
 3*      # times 3
 I       # input
 g       # length
 &gt;       # plus one
 Q       # is equal to the number of valid parts times 3
}
ćQ      # test whether the array is empty, by comparing arr[0] == arr[1:]
,        # output - this suppresses implicit output, so the rest of the code doesn't matter
D¥3›DHUssô  # filler to satisfy the self validation requirement
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/265480/">265480</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




