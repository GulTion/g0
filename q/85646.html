<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::85646</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>044</td><td>JavaScript V8</td><td>220627T123625Z</td><td><a href="https://codegolf.stackexchange.com/questions/85646/select-the-word-around-the-given-index-in-a-given-string/249142#249142">thejonym</a></td></tr>
<tr d-ix="1"><td>012</td><td>Jelly</td><td>220627T091158Z</td><td><a href="https://codegolf.stackexchange.com/questions/85646/select-the-word-around-the-given-index-in-a-given-string/249138#249138">Unrelate</a></td></tr>
<tr d-ix="2"><td>116</td><td>APLNARS</td><td>190315T112002Z</td><td><a href="https://codegolf.stackexchange.com/questions/85646/select-the-word-around-the-given-index-in-a-given-string/181549#181549">user5898</a></td></tr>
<tr d-ix="3"><td>030</td><td>Ruby</td><td>190315T103029Z</td><td><a href="https://codegolf.stackexchange.com/questions/85646/select-the-word-around-the-given-index-in-a-given-string/181546#181546">G B</a></td></tr>
<tr d-ix="4"><td>034</td><td>Perl 6</td><td>190315T095412Z</td><td><a href="https://codegolf.stackexchange.com/questions/85646/select-the-word-around-the-given-index-in-a-given-string/181545#181545">Jo King</a></td></tr>
<tr d-ix="5"><td>014</td><td>05AB1E</td><td>190315T092200Z</td><td><a href="https://codegolf.stackexchange.com/questions/85646/select-the-word-around-the-given-index-in-a-given-string/181543#181543">Kevin Cr</a></td></tr>
<tr d-ix="6"><td>042</td><td>JavaScript ES 6</td><td>171214T143534Z</td><td><a href="https://codegolf.stackexchange.com/questions/85646/select-the-word-around-the-given-index-in-a-given-string/150623#150623">l4m2</a></td></tr>
<tr d-ix="7"><td>168</td><td>Javascript using external library</td><td>160719T160413Z</td><td><a href="https://codegolf.stackexchange.com/questions/85646/select-the-word-around-the-given-index-in-a-given-string/85823#85823">applejac</a></td></tr>
<tr d-ix="8"><td>066</td><td>Python 2</td><td>160718T180554Z</td><td><a href="https://codegolf.stackexchange.com/questions/85646/select-the-word-around-the-given-index-in-a-given-string/85684#85684">Cowabung</a></td></tr>
<tr d-ix="9"><td>140</td><td>Python 3</td><td>160718T163246Z</td><td><a href="https://codegolf.stackexchange.com/questions/85646/select-the-word-around-the-given-index-in-a-given-string/85659#85659">atlasolo</a></td></tr>
<tr d-ix="10"><td>019</td><td>Pyke</td><td>160718T172435Z</td><td><a href="https://codegolf.stackexchange.com/questions/85646/select-the-word-around-the-given-index-in-a-given-string/85667#85667">Blue</a></td></tr>
<tr d-ix="11"><td>031</td><td>Ruby</td><td>160719T093336Z</td><td><a href="https://codegolf.stackexchange.com/questions/85646/select-the-word-around-the-given-index-in-a-given-string/85777#85777">Value In</a></td></tr>
<tr d-ix="12"><td>016</td><td>Pyth</td><td>160719T081845Z</td><td><a href="https://codegolf.stackexchange.com/questions/85646/select-the-word-around-the-given-index-in-a-given-string/85770#85770">Anders K</a></td></tr>
<tr d-ix="13"><td>067</td><td>Lua</td><td>160719T074455Z</td><td><a href="https://codegolf.stackexchange.com/questions/85646/select-the-word-around-the-given-index-in-a-given-string/85763#85763">Katenkyo</a></td></tr>
<tr d-ix="14"><td>052</td><td>JavaScript ES6</td><td>160719T011514Z</td><td><a href="https://codegolf.stackexchange.com/questions/85646/select-the-word-around-the-given-index-in-a-given-string/85735#85735">George R</a></td></tr>
<tr d-ix="15"><td>078</td><td>Java 8</td><td>160718T194821Z</td><td><a href="https://codegolf.stackexchange.com/questions/85646/select-the-word-around-the-given-index-in-a-given-string/85703#85703">user5585</a></td></tr>
<tr d-ix="16"><td>022</td><td>Retina</td><td>160718T164445Z</td><td><a href="https://codegolf.stackexchange.com/questions/85646/select-the-word-around-the-given-index-in-a-given-string/85661#85661">FryAmThe</a></td></tr>
<tr d-ix="17"><td>098</td><td>PHP</td><td>160718T163105Z</td><td><a href="https://codegolf.stackexchange.com/questions/85646/select-the-word-around-the-given-index-in-a-given-string/85657#85657">Titus</a></td></tr>
<tr d-ix="18"><td>094</td><td>C gcc</td><td>160718T170448Z</td><td><a href="https://codegolf.stackexchange.com/questions/85646/select-the-word-around-the-given-index-in-a-given-string/85663#85663">orlp</a></td></tr>
<tr d-ix="19"><td>057</td><td>JavaScript ES6</td><td>160718T163006Z</td><td><a href="https://codegolf.stackexchange.com/questions/85646/select-the-word-around-the-given-index-in-a-given-string/85656#85656">Neil</a></td></tr>
<tr d-ix="20"><td>101</td><td>PowerShell v3+</td><td>160718T161507Z</td><td><a href="https://codegolf.stackexchange.com/questions/85646/select-the-word-around-the-given-index-in-a-given-string/85653#85653">AdmBorkB</a></td></tr>
<tr d-ix="21"><td>092</td><td>Clojure</td><td>160718T161818Z</td><td><a href="https://codegolf.stackexchange.com/questions/85646/select-the-word-around-the-given-index-in-a-given-string/85654#85654">cliffroo</a></td></tr>
<tr d-ix="22"><td>007</td><td>V</td><td>160718T150515Z</td><td><a href="https://codegolf.stackexchange.com/questions/85646/select-the-word-around-the-given-index-in-a-given-string/85647#85647">DJMcMayh</a></td></tr>
<tr d-ix="23"><td>015</td><td>MATL</td><td>160718T152224Z</td><td><a href="https://codegolf.stackexchange.com/questions/85646/select-the-word-around-the-given-index-in-a-given-string/85651#85651">Luis Men</a></td></tr>
<tr d-ix="24"><td>104</td><td>C</td><td>160718T152519Z</td><td><a href="https://codegolf.stackexchange.com/questions/85646/select-the-word-around-the-given-index-in-a-given-string/85652#85652">orlp</a></td></tr>
<tr d-ix="25"><td>115</td><td>C</td><td>160718T151911Z</td><td><a href="https://codegolf.stackexchange.com/questions/85646/select-the-word-around-the-given-index-in-a-given-string/85650#85650">owacoder</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://v8.dev/" rel="nofollow noreferrer">JavaScript (V8)</a>, 44 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>(i,x)=&gt;RegExp(`\\w*(?&lt;=.{${i}})`).exec(x)[0]
</code></pre>
<p><a href="https://tio.run/##y0osSyxOLsosKNEts/ifZvtfI1OnQtPWLig13bWiQCMhJqZcS8PexlavWqU6s7ZWM0FTL7UiNVmjQjPaIPZ/QVFmXokGV5qGkY5SYlKyQkpqmpKmDpBvip0PxBC@CYivkJyiAFNgBhZQAApB@IYgviKIx6X5HwA" rel="nofollow noreferrer" title="JavaScript (V8) – Try It Online">Try it online!</a></p>
<p>This is longer than an existing JS solution, but I don't actually understand the approach it uses, and I wrote this prior to seeing that solution. Hopefully this is different enough to be interesting :P</p>
<p>Code explanation, so the same fate is not befallen upon ye</p>
<pre class="lang-none prettyprint-override"><code>(i,x)=&gt;                                 take i (number) and x (string)
       RegExp(`...${i}...`)             construct a regex with i in it
                           .exec(x)[0]  return the first result of that regex on the string

\w*(?&lt;=.{i}) constructed regex
\w*          match an entire word
   (?&lt;=    ) if the end of the word comes after
       .{i}  at least i characters
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 12 bytes</h1>
<pre><code>Żṙe€ØW¬œpƊ.ị
</code></pre>
<p><a href="https://tio.run/##y0rNyan8///o7oc7Z6Y@alpzeEb4oTVHJxcc69J7uLv7/@Hl@pqR//9HKyUmJSukpKYp6SgYxeooIPNN4XwgRpJXSE5RACswgQkoAIWAfDMoXxHMM4wFAA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<p>Port of <a href="https://codegolf.stackexchange.com/a/85770/85334">Anders Kaseorg's Pyth answer</a>.</p>
<pre><code>Ż               Prepend a zero as a buffer between the first and last words,
 ṙ              then rotate left by the index.
       œpƊ      Partition that result around
   €  ¬         elements which are not
  e ØW          word characters,
          .ị    then take the last and first slices
                and smash-print them together.
</code></pre>
<p>Original:</p>
<h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 14 bytes</h1>
<pre><code>xðe€ØW¬Ä÷Ɗ=ị@¥
</code></pre>
<p><a href="https://tio.run/##y0rNyan8/7/i8IbUR01rDs8IP7TmcMvh7ce6bB/u7nY4tPT/4eX6mpH//0crJSYlK6SkpinpKBjF6igg803hfCBGkldITlEAKzCBCSgAhYB8MyhfEcwzjAUA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<pre><code>  e€ØW            For each element, is it a word character?
       Ä          Take the cumulative sum
      ¬           of the negations
        ÷Ɗ        and divide by the original Booleans.
          =       For each value in the result, is it equal to
           ị@¥    the one at the index?
xð                Filter the string to truthy positions.
</code></pre>
</div>
<div id="pu2" class="pu"><h1>APL(NARS), 58 chars, 116 bytes</h1>
<pre><code>{m←⎕A,⎕a,⎕D,'_'⋄↑v⊂⍨m∊⍨v←⍵↓⍨¯1+⍵{⍵≤1:⍵⋄m∊⍨⍵⊃⍺:⍺∇⍵-1⋄⍵+1}⍺}
</code></pre>
<p>⍵{⍵≤1:⍵⋄m∊⍨⍵⊃⍺:⍺∇⍵-1⋄⍵+1}⍺ find where start the string...How to use and test:</p>
<pre><code>  f←{m←⎕A,⎕a,⎕D,'_'⋄↑v⊂⍨m∊⍨v←⍵↓⍨¯1+⍵{⍵≤1:⍵⋄m∊⍨⍵⊃⍺:⍺∇⍵-1⋄⍵+1}⍺}
  2 f 'abc def'
abc
  5 f 'abc def'
def
  2 f 'abc abc'
abc
  4 f 'ab cd ef'
cd
  1 f 'ab!cd'
ab
  6 f 'ab   cd'
cd 
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 30 bytes</h1>



<pre class="lang-ruby prettyprint-override"><code>-&gt;s,n{s[/.{#{n}}\w+/][/\w+$/]}
</code></pre>

<p><a href="https://tio.run/##KypNqvyfZvtf165YJ6@6OFpfr1q5Oq@2NqZcWz82Wh9IqejH1v4vUEiLVk9MUkhOUUhNU9dRMIn9DwA" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>

<p>A different approach, only 1 byte shorter and 3 years later. Why not?</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/nxadm/rakudo-pkg" rel="nofollow noreferrer">Perl 6</a>, 34 bytes</h1>



<pre class="lang-perl6 prettyprint-override"><code>-&gt;\b{&amp;{first *.to&gt;b,m:g/&lt;&lt;\w+&gt;&gt;/}}
</code></pre>

<p><a href="https://tio.run/##K0gtyjH7n1upoJamYPtf1y4mqVqtOi2zqLhEQUuvJN8uSSfXKl3fxiamXNvOTr@29n9xYqVCmoaRpoZSYlKyQkpqmpKmNRdE0BSbIEwlECMETcCCCskpCshKzSCiCkBxhKAhWFARLPQfAA" rel="nofollow noreferrer" title="Perl 6 – Try It Online">Try it online!</a></p>

<p>Anonymous codeblock that takes input curried, like <code>f(n)(string)</code>. </p>

<h3>Explanation:</h3>

<pre class="lang-perl6 prettyprint-override"><code>-&gt;\b{                            }   # Anonymous code block that takes a number
     &amp;{                         }    # And returns another code block that
       first       ,m:g/&lt;&lt;\w+&gt;&gt;/     # Finds the first word in the input
             *.to&gt;b                  # Where the start is after the number
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 14 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>ð«._DžjмS¡Á2£J
</code></pre>
<p>Port of <a href="https://codegolf.stackexchange.com/a/85770/52210"><em>@AndersKaseorg</em>'s Pyth answer</a>.</p>
<p>1-indexed like the challenge test cases.</p>
<p><a href="https://tio.run/##ASYA2f9vc2FiaWX//8OwwqsuX0TFvmrQvFPCocOBMsKjSv//YWIhY2QKNA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/V9Waa@k8KhtkoKSfWVQwv/DGw6t1ot3Obov68Ke4EMLDzcaHVrs9V/nf3S0UmJSskJKapqSjlGsjgIS1xTOBWKErEJyigJI2gTGVwCKKOmYQbmKII4hMgei0NDIWMXUzFzL0kBJxzI2FgA" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>ð«              # Append a space to the (implicit) input-String
  ._            # Rotate this string the (implicit) input-integer amount of times
                #  towards the left
     D          # Duplicate this string
      žjм       # Remove [a-zA-Z0-9_] from the string
         S¡     # Split the rotated string by each of the remaining characters
           Á    # Rotate the resulting list once towards the right
            2£J # And only leave the first two items, joined together
                # (which is output implicitly)
</code></pre>
</div>
<div id="pu6" class="pu"><h1>JavaScript (ES 6), <s>43</s>42 Bytes</h1>

<pre><code>s=&gt;n=&gt;s.replace(/\w*/g,(x,y)=&gt;y&lt;n?s=x:0)&amp;&amp;s
</code></pre>

<h1>JavaScript (ES 3), 65 Bytes</h1>

<pre><code>function(s,n){s.replace(/\w*/g,function(x,y){y&lt;n?s=x:0});alert(s)}
</code></pre>
</div>
<div id="pu7" class="pu"><h2>Javascript (using external library) (168 bytes)</h2>

<pre><code>(n,w)=&gt; _.From(w).Select((x,i)=&gt;({i:i,x:x})).Split((i,v)=&gt;v.x==" ").Where(a=&gt;a.Min(i=&gt;i.i)&lt;=n-1&amp;&amp;a.Max(i=&gt;i.i)&gt;=n-2).First().Select(i=&gt;i.x).Write("").match(/^\w*^\w*/)[0]
</code></pre>

<p>Link to lib:<a href="https://github.com/mvegh1/Enumerable/blob/master/linq.js" rel="nofollow noreferrer">https://github.com/mvegh1/Enumerable/blob/master/linq.js</a></p>

<p>Explanation of code: Library accepts a string, which gets parsed into a char array. It gets mapped to an object storing the index and the char. The sequence is split into subsequences at every occurrence of " ". The subsequences are filtered by checking if the cursor index is contained within the min and max index of the subsequence. Then we take the first subsequence. Then we transform back to just a char array. Then we concatenate all characters with "" as the delimiter. Then we validate against word regex. Then we take the first match.</p>

<p><a href="https://i.stack.imgur.com/9WXAn.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/9WXAn.png" alt="enter image description here"></a></p>
</div>
<div id="pu8" class="pu"><h1>Python 2, <s>70</s> 66 bytes</h1>
<pre><code>import re
f=lambda x,y,r=re.split:r('\W',x[:y])[-1]+r('\W',x[y:])[0]
</code></pre>
<p>Splits the string by non-word separators, once on the original string up to the cursor index, then on the string beginning at the cursor index. Returns the last element of the left split plus the first element of the right split.
Thanks to Leaky Nun for saving 4 bytes!</p>
</div>
<div id="pu9" class="pu"><h2>Python 3, <s>112</s> 140 bytes</h2>

<pre><code>from string import*
p='_'+printable[:62]
def f(s,h,r=''):
 while s[h]in p and h&gt;-1:h-=1
 while h+1&lt;len(s)and s[h]in p:h+=1;r+=s[h]
 return r
</code></pre>

<p>0-indexed.</p>

<p>Seeks backward to the first alphanumeric character from the index, then goes forward to the last alphanumeric character after the index. There's probably a smarter way to do this.</p>

<p><a href="https://repl.it/CdJX/0" rel="nofollow">Try it</a></p>
</div>
<div id="pu10" class="pu"><h2>Pyke, 19 bytes</h2>
<pre><code>#Q;cjmli&lt;i+s)lttjR@
</code></pre>
<p><a href="http://pyke.catbus.co.uk/?code=%23Q%3Bcjmli%3Ci%2Bs%29lttjR%40&amp;input=abc+def+a%0A9" rel="nofollow noreferrer">Try it here!</a></p>
<p>Uses <code>Q;</code> as a no-op to make sure the first input is placed correctly</p>
<pre><code>#          )   -  first where
   c           -       input.split()
    ml         -      map(len, ^)
      i&lt;       -     ^[:i]
        i+     -    ^+[i]
          s    -   sum(^)
            lt - len(^)-2
</code></pre>
</div>
<div id="pu11" class="pu"><h1>Ruby, <s>41</s> 31 bytes</h1>
<p><a href="https://repl.it/Cd3W/1" rel="nofollow noreferrer">Try it online!</a></p>
<p><em>-10 bytes from @MartinEnder</em></p>
<pre><code>-&gt;s,i{s[/\w*(?&lt;=^.{#{i}})\w*/]}
</code></pre>
</div>
<div id="pu12" class="pu"><h1>Pyth, 16 bytes</h1>

<pre><code>+e=:.&lt;+QbE"\W"3h

       Q            first input (string)
      + b           plus newline
    .&lt;   E          rotate left by second input (number)
   :      "\W"3     split on regex \W, non-word characters
  =                 assign to Q
 e                  last element
+              hQ   plus first element
</code></pre>

<p><a href="https://pyth.herokuapp.com/?code=%2Be%3D%3A.%3C%2BQbE%22%5CW%223h&amp;input=3%0A%22foo+bar+baz%22&amp;test_suite=1&amp;test_suite_input=%22abc+def%22%0A2%0A%22abc+def%22%0A5%0A%22abc+abc%22%0A2%0A%22ab+cd+ef%22%0A4%0A%22ab+++cd%22%0A6%0A%22ab%21cd%22%0A1&amp;input_size=2" rel="nofollow">Try it online</a></p>
</div>
<div id="pu13" class="pu"><h2>Lua, <s>71</s> 67 Bytes</h2>



<p>Woohoo, Lua isn't the longest solution! Still one byte behind python, but don't know how to golf this down. Indexes are 1-based. </p>

<p><strong>Thanks to @LeakyNun reminding me the existence of <code>string.match</code>, saved 4 bytes</strong></p>

<pre class="lang-lua prettyprint-override"><code>g,h=...print(g:sub(1,h):match"[%a_]*$"..g:sub(h+1):match("[%a_]+"))
</code></pre>

<h3>Old 71</h3>

<p><strong>Note: the explanations are still based on this one, because it also applies to the new one, but contains some extra informations on <code>gmatch</code></strong></p>

<pre class="lang-lua prettyprint-override"><code>g,h=...print(g:sub(1,h):gmatch"[%a_]*$"()..g:sub(h+1):gmatch"[%a_]*"())
</code></pre>

<h3>Explanation</h3>

<p>First, we unpack the arguments into <code>g</code> and <code>h</code> because they are shorter than <code>arg[x]</code></p>

<pre class="lang-lua prettyprint-override"><code>g,h=...
</code></pre>

<p>Then, we construct our output, which is the concatanation of the part before the cursor and after it.</p>

<p>The first part of the string is </p>

<pre class="lang-lua prettyprint-override"><code>g:sub(1,h)
</code></pre>

<p>We want to find the word at the end of this one, so we use the function <code>string.gmatch</code></p>

<pre class="lang-lua prettyprint-override"><code>:gmatch"[%a_]*$"
</code></pre>

<p>This pattern match <code>0..n</code> times the character set of alphabet+underscore at the end of the string. <code>gmatch</code> returns an iterator on its list of match in the form of a function (using the principle of closure), so we execute it once to get the first part of our word</p>

<pre class="lang-lua prettyprint-override"><code>g:sub(1,h):gmatch"[%a_]*$"()
</code></pre>

<p>We get the second part of our word by the same way</p>

<pre class="lang-lua prettyprint-override"><code>g:sub(h+1):gmatch"[%a_]*"())
</code></pre>

<p>The only difference being we don't have to specify we want to match at the start of the string (using <code>[^%a_]*</code>), as it will be the match returned by the iterator when it's called the first time.</p>
</div>
<div id="pu14" class="pu"><h1>JavaScript (ES6), 52 bytes</h1>

<pre class="lang-js prettyprint-override"><code>(s,n)=&gt;RegExp(`^.{0,${n}}(\\W+|^)(\\w+)`).exec(s)[2]
</code></pre>

<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="true">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>const F = (s,n) =&gt; RegExp(`^.{0,${n}}(\\W+|^)(\\w+)`).exec(s)[2]

class Test extends React.Component {
    constructor(props) {
        super(props);
        const input = props.input || '';
        const index = props.index || 0;
        this.state = {
            input,
            index,
            valid: /\w/.test(input),
        };
    }
    onInput = () =&gt; {
        const input = this.refs.input.value;
        const index = Math.min(+this.refs.index.value, input.length);
        this.setState({
            input,
            index,
            valid: /\w/.test(input),
        });
    }
    render() {
        const {input, index, valid} = this.state;
        return (
            &lt;tr&gt;
                &lt;td&gt;{ this.props.children }&lt;/td&gt;
                &lt;td&gt;
                    &lt;input ref="input" type="text" onInput={this.onInput} value={input} /&gt;
                    &lt;input ref="index" type="number" onInput={this.onInput} min="1" max={input.length} value={index} /&gt;
                &lt;/td&gt; 
                {valid &amp;&amp; [
                    &lt;td&gt;{F(input, index)}&lt;/td&gt;,
                    &lt;td&gt;&lt;pre&gt;{input.slice(0, index)}|{input.slice(index)}&lt;/pre&gt;&lt;/td&gt;,
                ]}
            &lt;/tr&gt;
        );
    }
}

class TestList extends React.Component {
    constructor(props) {
        super(props);
        this.tid = 0;
        this.state = {
            tests: (props.tests || []).map(test =&gt; Object.assign({
                key: this.tid++
            }, test)),
        };
    }
    addTest = () =&gt; {
        this.setState({
            tests: [...this.state.tests, { key: this.tid++ }],
        });
    }
    removeTest = key =&gt; {
        this.setState({
            tests: this.state.tests.filter(test =&gt; test.key !== key),
        });
    }
    
    render() {
        return (
            &lt;div&gt;
                &lt;table&gt;
                    &lt;thead&gt;
                        &lt;th/&gt;
                        &lt;th&gt;Test&lt;/th&gt;
                        &lt;th&gt;Output&lt;/th&gt;
                        &lt;th&gt;Diagram&lt;/th&gt;
                    &lt;/thead&gt;
                    &lt;tbody&gt;
                        {
                            this.state.tests.map(test =&gt; (
                                &lt;Test key={test.key} input={test.input} index={test.index}&gt;
                                    &lt;button onClick={() =&gt; this.removeTest(test.key)} style={{
                                        verticalAlign: 'middle',
                                    }}&gt;-&lt;/button&gt;
                                &lt;/Test&gt;
                            ))
                        }
                    &lt;/tbody&gt;
                    &lt;tfoot&gt;
                        &lt;td/&gt;
                        &lt;td&gt;
                            &lt;button onClick={this.addTest} style={{
                                width: '100%',
                            }}&gt;Add test case&lt;/button&gt;
                        &lt;/td&gt;
                    &lt;/tfoot&gt;
                &lt;/table&gt;
            &lt;/div&gt;
        );
    }
}

ReactDOM.render(&lt;TestList tests={[
    { input: 'abc def', index: 2 },
    { input: 'abc def', index: 5 },
    { input: 'abc abc', index: 2 },
    { input: 'ab cd ef', index: 4 },
    { input: 'ab   cd', index: 6 },
    { input: 'ab!cd', index: 1 },
]} /&gt;, document.body);</code></pre>
<pre class="snippet-code-css lang-css prettyprint-override"><code>input[type="number"] {
  width: 3em;
}
table {
  border-spacing: 0.5em 0;
  border-collapse: separate;
  margin: 0 -0.5em ;
}
td, input {
    font-family: monospace;
}
th {
  text-align: left;
}
tbody {
  padding: 1em 0;
}
pre {
  margin: 0;
}</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.1.0/react.min.js"&gt;&lt;/script&gt;
&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.1.0/react-dom.min.js"&gt;&lt;/script&gt;</code></pre>
</div>
</div>
</p>
</div>
<div id="pu15" class="pu"><h1>Java 8, <s>86</s> 78 bytes</h1>
<pre><code>(s,p)-&gt;{for(String t:s.split(&quot;\\W&quot;))if((p-=t.length()+1)&lt;0)return t;return&quot;&quot;;}
</code></pre>
<p>Ungolfed with test cases:</p>
<pre><code>class Indexer {
    public static String f(String s, int p) {
        for(String t : s.split(&quot;\\W&quot;))
            if((p -= t.length()+1) &lt; 0)
                return t;
        return &quot;&quot;;
    }

    public static void main(String[] args) {
        System.out.println(f(&quot;abc def&quot;,2));
        System.out.println(f(&quot;abc def&quot;,5));
        System.out.println(f(&quot;abc abc&quot;,2));
        System.out.println(f(&quot;ab cd ef&quot;,4));
        System.out.println(f(&quot;ab   cd&quot;,6));
        System.out.println(f(&quot;ab!cd&quot;,1));
    }
}
</code></pre>
<p>Splits the string by non-alphanumeric characters, then keeps subtracting the length of each substring, plus 1, from the specified position, until it becomes negative. Since any repeating non-alphanumerics get represented as empty string, the subtraction logic is significantly easier.</p>
<p>This code isn't extensively tested, so I'd like to see if someone can break this. Also, considering that this is Java code, how is this not the longest answer here? :P</p>
</div>
<div id="pu16" class="pu"><h2>Retina, 22</h2>

<pre>
(1)+¶(?&lt;-1&gt;.)*\b|\W.+

</pre>

<p><a href="http://retina.tryitonline.net/#code=KDEpK8K2KD88LTE-LikqXGJ8XFcuKwo&amp;input=MTExMTEKYWJjIGRlZiBnaGk" rel="nofollow">Try it online!</a> or <a href="http://retina.tryitonline.net/#code=JShHYApTYFxcCl4uKwokKgooMSkrwrYoPzwtMT4uKSpcYnxcVy4rCg&amp;input=MlxhYmMgZGVmCjVcYWJjIGRlZgoyXGFiYyBhYmMKNFxhYiBjZCBlZgo2XGFiICAgY2QKMVxhYiFjZA" rel="nofollow">verify all test cases</a>. The regular program takes the cursor position in unary followed by a newline and then the string. The test suite has additional code to run in per line mode, and uses a <code>\</code> as a delimiter, and it uses decimal, for convenience.</p>

<p>Uses balancing groups to find the cursor position, then backtracks up to a word boundary. Deletes the text up to the word, and then after the word.</p>
</div>
<div id="pu17" class="pu"><h1>PHP, 98 bytes</h1>
<pre><code>function f($s,$p){foreach(preg_split('#\W+#',$s,-1,4)as$m)if($m[1]+strlen($m[0])&gt;=$p)return$m[0];}
</code></pre>
<ul>
<li>splits the string by non-word-characters, remembering their position (<code>4</code> == <code>PREG_SPLIT_OFFSET_CAPTURE</code>), loops through the words until position is reached.</li>
<li>PHP strings are 0-indexed, cursor before character, but may be before or after the word</li>
</ul>
</div>
<div id="pu18" class="pu"><h1>C (gcc), 94 bytes</h1>

<pre><code>f(n,p)char*p;{for(p+=n-1;isalnum(*p)|*p==95&amp;&amp;n--;--p);for(;isalnum(*++p)|*p==95;putchar(*p));}
</code></pre>

<p>Zero-indexed, defines a function taking the index, then the string.</p>
</div>
<div id="pu19" class="pu"><h2>JavaScript (ES6), 57 bytes</h2>

<pre><code>f=(s,n)=&gt;s.slice(0,n).match(/\w*$/)+s.slice(n).match(/\w*/)
</code></pre>

<p>Simply slices the string at the cursor point (which is before the 0-indexed character, which works out the same as after the 1-indexed character), then extracts and concatenates the adjacent word fragments. Even returns a sensible result when the cursor is at the start, end, or nowhere near a word.</p>
</div>
<div id="pu20" class="pu"><h2>PowerShell v3+, <s>103</s> 101 bytes</h2>

<pre><code>param($a,$n)for(;$n[++$a]-match'\w'){}$i=$a--;for(;$n[--$a]-match'\w'-and$a-ge0){}-join$n[++$a..--$i]
</code></pre>

<p>Kind of a goofy solution, but a different approach than others.</p>

<p>Takes input <code>$a</code> as the 0-based index of the string <code>$n</code>. Then, we find the boundaries of our word. While we've not reached the end of the string and/or we're still matching word-characters, we <code>++$a</code>. Then, because of fenceposting, we set <code>$i=$a--</code>. Next, we crawl backwards, decrementing <code>$a</code> until it's either <code>0</code> or we hit a non-word-character. We then slice the input string based on those two demarcations (with some increment/decrements to account for OBOE), and <code>-join</code> it together to produce the result.</p>

<h3>Examples</h3>

<pre><code>PS C:\Tools\Scripts\golfing&gt; .\select-the-word-around-the-index.ps1 2 'This!test'
This

PS C:\Tools\Scripts\golfing&gt; .\select-the-word-around-the-index.ps1 5 'This!test'
test
</code></pre>
</div>
<div id="pu21" class="pu"><h1>Clojure, 92 bytes</h1>

<pre><code>(fn[x k](let[[u i](map #(re-seq #"\w+"(apply str %))(split-at k x))](str(last u)(nth i 0))))
</code></pre>

<p>First, splits input string at position <code>k</code> into two strings. Then for these strings find occurrences of <code>"\w+"</code> and return them as list. Then concatenate the last element of first list and the first element of second list.</p>

<p>See it online: <a href="https://ideone.com/Dk2FIs" rel="nofollow">https://ideone.com/Dk2FIs</a></p>
</div>
<div id="pu22" class="pu"><h1><a href="https://github.com/DJMcMayhem/V" rel="noreferrer">V</a>, <s>10, 9</s> 7 bytes</h1>
<pre><code>À|diwVp
</code></pre>
<p><a href="http://v.tryitonline.net/#code=w4B8ZGl3VnA&amp;input=YWJjIGRlZg&amp;args=NQ" rel="noreferrer">Try it online!</a></p>
<p>This answer uses 1-based indexing.</p>
<p>This could be shorter if we do exactly what the title says: &quot;<em>Select</em> the word around the given index in a string&quot;. We could do</p>
<pre><code>À|viw
</code></pre>
<p>Which literally selects the word, but unfortunately doesn't change the output at all. So we need a little workaround to make it work by cutting it into a register, deleting the rest of the text, then pasting the register back in.</p>
<p>Explanation:</p>
<pre><code>À|          &quot; Jump the position of argument 1
  diw       &quot; (d)elete (i)nside this (w)ord.
     V      &quot; Select this line
      p     &quot; And replace it with the word we just deleted
</code></pre>
</div>
<div id="pu23" class="pu"><h1><a href="https://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, <s>16</s> 15 bytes</h1>
<pre><code>'\w+'5B#XXi&gt;)1)
</code></pre>
<p>Cursor is 1-indexed and after the character (as in the test cases).</p>
<p><a href="http://matl.tryitonline.net/#code=J1x3Kyc1QiNYWGk-KTEp&amp;input=J2FiIGNkIGVmJwo0" rel="nofollow noreferrer">Try it online!</a> Or <a href="http://matl.tryitonline.net/#code=YAonXHcrJzVCI1hYaT4pMSkKRFQ&amp;input=J2FiYyBkZWYnCjIKJ2FiYyBkZWYnCjUKJ2FiYyBhYmMnCjIKJ2FiIGNkIGVmJwo0CidhYiAgIGNkJwo2CidhYiFjZCcKMQ" rel="nofollow noreferrer">verify all test cases</a>.</p>
<pre><code>'\w+'    % Push string to be used as regex pattern
5B#XX    % Take input string implicitly. Apply regex. Push matches and ending indices
i&gt;       % Take input number. Compare with obtained ending indices. Gives true for
         % ending indices that exceed the input number
)        % Use as logical index to select the corresponding matches
1)       % Select the first match. Implicitly display
</code></pre>
</div>
<div id="pu24" class="pu"><h1>C, 104 bytes</h1>

<pre><code>p[99];i,d;main(l){for(scanf("%d",&amp;i);scanf("%[^a-zA-Z0-9_]%[a-zA-Z0-9_]%n",&amp;d,&amp;p,&amp;l),i&gt;l;i-=l);puts(p);}
</code></pre>

<p>Expects the input on stdin to be the 0-based index followed by one space or newline, followed by the string. Maximal length for a word is 99 characters. E.g.:</p>

<pre><code>2 abc def
</code></pre>
</div>
<div id="pu25" class="pu"><h1>C, 115 bytes</h1>
<p>Function <code>f()</code> requires the string and index (1-indexed) as parameters and prints the result to stdout. Cursor should be after the specified character.</p>
<pre><code>f(char*p,int n){char*s=p+n;for(;s&gt;=p&amp;&amp;isalnum(*s)+(*s==95);--s);for(p=s+1;*p&amp;&amp;isalnum(*p)+(*p==95);putchar(*p++));}
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/85646/">85646</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




