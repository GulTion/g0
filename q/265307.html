<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::265307</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>141</td><td>R 4.1</td><td>230918T164439Z</td><td><a href="https://codegolf.stackexchange.com/questions/265307/play-a-game-of-memory/265340#265340">Evargalo</a></td></tr>
<tr d-ix="1"><td>126</td><td>Python3</td><td>230918T120945Z</td><td><a href="https://codegolf.stackexchange.com/questions/265307/play-a-game-of-memory/265333#265333">Ajax1234</a></td></tr>
<tr d-ix="2"><td>025</td><td>Charcoal</td><td>230918T092610Z</td><td><a href="https://codegolf.stackexchange.com/questions/265307/play-a-game-of-memory/265324#265324">Neil</a></td></tr>
<tr d-ix="3"><td>057</td><td>JavaScript Node.js</td><td>230918T053636Z</td><td><a href="https://codegolf.stackexchange.com/questions/265307/play-a-game-of-memory/265308#265308">tsh</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a> 4.1, 141 bytes</h1>

<pre class="lang-r prettyprint-override"><code>b=\(v,x){j=duplicated(v)
ifelse(is.na(v[3]),1,ifelse(j[x],1+b(v[v!=v[x]],x-1),ifelse(j[x+1],2+b(v[v!=v[x+1]],x)-(v[x]==v[x+1]),1+b(v,x+2))))}
</code></pre>
<p><a href="https://tio.run/##TVDbboQgFHz3L@oTRGzi9rV@ycYHRW1ZrVdE3abfbg8wbiSZzJnDcAaYjqNI66WTWvUdM2Ljv4@0XIZWyVxXJTM8UHXVzhVT83uXM3P/yLhIBJqP@5aJJCqob95SQyoTW5zwy36UZOJ2cZAmD4@ZdafocD9EbNGN0/o7hs9YsjAPBYEH40WJsHDgwfTqFoD1zq77RcpCER6EBnXjNA@0c42kLFagAiZAO/BgcW6JlI0gweaV7GHIbZz7SWqH64n5O06cJ1dyr86tMUdhToP080R3yV1wO4nJLd5qE34I33hzC2@PVw7gBv4ZvRV1jfwSdYV6Qs45e8defrnX@Q89/rdgg0gsjZ4mT7Mn7WnxZDytRMfxDw" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>
<h4>Test:</h4>
<pre class="lang-r prettyprint-override"><code>w&lt;-c(&quot;t&quot;,&quot;b&quot;,&quot;i&quot;,&quot;a&quot;,&quot;k&quot;,&quot;t&quot;,&quot;y&quot;,&quot;v&quot;,&quot;n&quot;,&quot;x&quot;,&quot;c&quot;,&quot;u&quot;,&quot;r&quot;,&quot;c&quot;,&quot;z&quot;,&quot;l&quot;,&quot;g&quot;,&quot;w&quot;,&quot;m&quot;,&quot;h&quot;,&quot;j&quot;,&quot;l&quot;,&quot;u&quot;,&quot;o&quot;,&quot;q&quot;,&quot;p&quot;,&quot;q&quot;,&quot;k&quot;,&quot;g&quot;,&quot;s&quot;,&quot;p&quot;,&quot;w&quot;,&quot;s&quot;,&quot;f&quot;,&quot;i&quot;,&quot;d&quot;,&quot;f&quot;,&quot;e&quot;,&quot;d&quot;,&quot;r&quot;,&quot;z&quot;,&quot;m&quot;,&quot;h&quot;,&quot;y&quot;,&quot;e&quot;,&quot;a&quot;,&quot;n&quot;,&quot;x&quot;,&quot;v&quot;,&quot;b&quot;,&quot;o&quot;,&quot;j&quot;)

b(w,1)
</code></pre>
<blockquote>
<p>43</p>
</blockquote>
<h4>Brief explanation:</h4>
<p>b is a recursive function with input:</p>
<ul>
<li>v a vector of characters</li>
<li>x the position of the first unknown element of v</li>
</ul>
<p>It proceeds :</p>
<ul>
<li>If v[x] is duplicated we use one move to remove that pair, and we continue with a shorter vector and one less known element.</li>
<li>If v[x+1] is duplicated we use a second move to remove its pair (but if its twin is v[x]), and we continue with a shorter vector and as many known elements.</li>
<li>Otherwise we use one move to see two more elements.</li>
</ul>
</div>
<div id="pu1" class="pu"><h1>Python3, 126 bytes:</h1>
<pre class="lang-py prettyprint-override"><code>def f(a):
 s,c=[],0
 while a:
  if(v:=a.pop(0))in s:s={*s}-{v}
  else:s={*s,*[v,(K:=a.pop(0))]*(v!=K)}
  c+=1
 return c+len(s)
</code></pre>
<p><a href="https://tio.run/##ZY7BboQgFEX3fgVNFwPWNtN0MzHxC@YTjAtAUEYHERCQyXy71XQz1eU997y8q2bbDvLnovSy1IwDDjHKE2AyWpRVdk6Ab0XPAF4ZEBy6vMBfalDwjJCQwOSmeKTm@flwz1VgvWF/JEtLl8Hri12l0L0VV7R59KP4ToBmdtJyDT2T0KBFaSEt5LBMTxifKoSSf4SQAyPk4DWNuHWiu@35OHrPmNbW7htKAg2OYOy2Bryv0qBfhTiH6GcXnN@fWiJwZ2cnA500jX3j7@2tn4ZRjV1jlDdc1JzVOt7bmWG5fhkOwzCPOITIN778Ag" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 25 bytes</h1>
<pre><code>ＦＬθＭ⊕×⊕﹪ⅈ²№…θ⁻ι﹪ⅈ²§θι→Ｉ⊘ⅈ
</code></pre>
<p><a href="https://tio.run/##VU27DsIwENv5io4XCRZGOqEuIFEJIQbWkFybQJpr86Ll50Ngw4NlWX4IxZ0gbnLuyFVwQtsHBRNjVUsJ4WiFwwFtQAlXPaD/c1qS0RDcgK2rLSvUULQBmkUYbBSNMK2rVtvoQRfxHy68D0crcf6mNPs5u4vuVWD16uz0d4j7AAduUvkqvYI653DX/BmWZGcRnXib/jWoh4k0jdOz9@PLd1p2KN17UAtyO6c7PfImmQ8" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>ＦＬθ
</code></pre>
<p>Loop over the indices of the input.</p>
<pre><code>Ｍ⊕×⊕﹪ⅈ²№…θ⁻ι﹪ⅈ²§θι→
</code></pre>
<p>Calculate how many cards get turned as a result of this card. This is <code>1</code> for the card itself and then a possible further <code>1</code> or <code>2</code> if this card has been seen before depending on whether an even or odd number of cards have been turned so far, except in the odd case where the previous card is the one seen before.</p>
<pre><code>Ｉ⊘ⅈ
</code></pre>
<p>Output the number of turns (which is half of the number of cards turned).</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 57 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>a=&gt;a.map(c=&gt;a[n+=!i|a[c]&amp;i!=c,i=i||a[c]?0:c,c]=1,i=n=0)|n
</code></pre>
<p><a href="https://tio.run/##TdDNcsIgEAfwO0@BlwrTyGhtO/0Y7KlPkWZGgiSSD0gIEpLaZ0@j0dY9/fc3u3vYjDnWcCMru1B6J4aEDoxuGClZhfgYQnVPZ/LIQh7dyRnlgaTyeG4/lm884BFdjaToEh/VYCGFW8AY/KvFYgNXo8TxrTyAEditrEGayiyXeXaVZ1DXbSuEMdZO8gR47Ll3MWNukhfQd75vO@ddO8krsLFkue2c8vxgeF@kbbnPioOuqzpPm6ptErlLxM705b4TTI3ndHZefVyDLbFGlgiTpiqkRfMvNcfnT3hIN9BfeZy@uDu5u2xh/A4sSbT5ZHyPUCgDKCJ8mvgGEHKtGl0IUugUCUgpTFBICJERDv4jBj94@AU" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>We uncover cards from left to right and, for every next card <code>c</code>, with previous uncovered card in this turn <code>i</code>:</p>
<ul>
<li>Count an extra turn (<code>++n</code>) whenever:
<ul>
<li>This is the first card to uncover in this turn (<code>!i</code>): as a new turn;</li>
<li>This is the second card to uncover in this turn (<code>i</code>), AND the card just uncovered in the same turn does not equals to the current one (<code>i!=c</code>), AND the card just uncovered had already seen some time before (<code>a[c]</code>): as we need an extra turn to match these two cards;</li>
</ul>
</li>
<li>Leave this card uncovered for this turn (<code>i=c</code>) whenever:
<ul>
<li>This is the first card to uncover this turn (<code>!i</code>), AND this card is not ever seen before (<code>!a[c]</code>);</li>
</ul>
</li>
<li>Remember the card as a seen card (<code>a[c]=1</code>)</li>
</ul>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/265307/">265307</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




