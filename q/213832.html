<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::213832</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>139</td><td>Scala 3</td><td>240421T110719Z</td><td><a href="https://codegolf.stackexchange.com/questions/213832/output-iso8601-date-string-from-seconds-and-nanoseconds/272701#272701">138 Aspe</a></td></tr>
<tr d-ix="1"><td>042</td><td>Juby</td><td>221010T013816Z</td><td><a href="https://codegolf.stackexchange.com/questions/213832/output-iso8601-date-string-from-seconds-and-nanoseconds/252895#252895">Jordan</a></td></tr>
<tr d-ix="2"><td>101</td><td>Excel</td><td>201020T203659Z</td><td><a href="https://codegolf.stackexchange.com/questions/213832/output-iso8601-date-string-from-seconds-and-nanoseconds/213900#213900">Engineer</a></td></tr>
<tr d-ix="3"><td>063</td><td>Groovy</td><td>201023T155238Z</td><td><a href="https://codegolf.stackexchange.com/questions/213832/output-iso8601-date-string-from-seconds-and-nanoseconds/214028#214028">M. Justi</a></td></tr>
<tr d-ix="4"><td>081</td><td>Python 3.8 prerelease</td><td>201019T170239Z</td><td><a href="https://codegolf.stackexchange.com/questions/213832/output-iso8601-date-string-from-seconds-and-nanoseconds/213833#213833">jaaq</a></td></tr>
<tr d-ix="5"><td>042</td><td>Raku</td><td>201020T204906Z</td><td><a href="https://codegolf.stackexchange.com/questions/213832/output-iso8601-date-string-from-seconds-and-nanoseconds/213903#213903">user0721</a></td></tr>
<tr d-ix="6"><td>078</td><td>JavaScript V8</td><td>201019T211328Z</td><td><a href="https://codegolf.stackexchange.com/questions/213832/output-iso8601-date-string-from-seconds-and-nanoseconds/213837#213837">AZTECCO</a></td></tr>
<tr d-ix="7"><td>050</td><td>Bash + sed</td><td>201019T181030Z</td><td><a href="https://codegolf.stackexchange.com/questions/213832/output-iso8601-date-string-from-seconds-and-nanoseconds/213834#213834">Nahuel F</a></td></tr>
<tr d-ix="8"><td>068</td><td>Groovy</td><td>201020T064306Z</td><td><a href="https://codegolf.stackexchange.com/questions/213832/output-iso8601-date-string-from-seconds-and-nanoseconds/213866#213866">M. Justi</a></td></tr>
<tr d-ix="9"><td>028</td><td>Japt</td><td>201020T092803Z</td><td><a href="https://codegolf.stackexchange.com/questions/213832/output-iso8601-date-string-from-seconds-and-nanoseconds/213876#213876">Shaggy</a></td></tr>
<tr d-ix="10"><td>053</td><td>APL Dyalog Unicode 18.0</td><td>201020T064807Z</td><td><a href="https://codegolf.stackexchange.com/questions/213832/output-iso8601-date-string-from-seconds-and-nanoseconds/213867#213867">Ad&#225;</a></td></tr>
<tr d-ix="11"><td>060</td><td>Perl 5 p MPOSIX+strftime Minteger</td><td>201019T184353Z</td><td><a href="https://codegolf.stackexchange.com/questions/213832/output-iso8601-date-string-from-seconds-and-nanoseconds/213835#213835">Nahuel F</a></td></tr>
<tr d-ix="12"><td>106</td><td>C gcc</td><td>201019T225410Z</td><td><a href="https://codegolf.stackexchange.com/questions/213832/output-iso8601-date-string-from-seconds-and-nanoseconds/213849#213849">Noodle9</a></td></tr>
<tr d-ix="13"><td>091</td><td>Wolfram Language Mathematica</td><td>201019T212818Z</td><td><a href="https://codegolf.stackexchange.com/questions/213832/output-iso8601-date-string-from-seconds-and-nanoseconds/213838#213838">att</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.scala-lang.org/" rel="nofollow noreferrer">Scala 3</a>, 139 bytes</h1>
<p>Golfed version. <a href="https://ato.pxeger.com/run?1=nVLNbtQwEJY47lOMLA6OSCz_5M-ugtQDByQ4dZGQ2h7c3WRJlTirxG0FpU_QR-DSC1x4ovI0TJJdCUoPKyaRE4-_75vPo_n2Y1jZxqqfpyRy3Y3tHTl_vKnbbdd7uLTXlvm6LdlbN3jr_GLRXVyWKw_vbe3gdgGwLitocUNtvxkMHPe9_Xx64vvabc4DAx9c7aFAJEIBrm0DlQGg9F3nNiGMa1C8nuEBFN-vfBXlj_d0CB3mb0d8W-xqs656s-1Wn07KVefWI-SrCJjvZvbRiO2LuqItw3OPlgZKGAmClvXltrGr8rhpKDk7Y_zVSxISEpTNUEJ71LPh6mKYRCgPcVd_KVmLN5JpENzNln69-DhdwA5D2XtKhM51xLNIiKVQRmoTS8ZVnGpNoCigoqnAJ9W5DGFKa66D4C8JybmIuIwkSqRGaSMSluepULMEaiA7y1SSJCHMBzLLn4gIrfMIdaRc8swoZWLFklTk6d5HnidxEsdShTDnU63-0cj4qMHFknMzvYyjOc73RngIuMM4jIncJ8xDeX9WxJ492zHsu15yYeKxaUxPQWDfsn1M_Dn-p_hhjgV_pkcjdeJucaJ84yjBudsJ1Z0bYDv-r3EyEXW32A3Yw8P8_Q0" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre class="lang-scala prettyprint-override"><code>(s,n)=&gt;{val m=Instant.ofEpochSecond(s,n|1).toString;val r=if(m.contains(&quot;.&quot;))m.replaceAll(&quot;\\.0+$&quot;,&quot;&quot;)else m;r.substring(0,r.size.min(26))}
</code></pre>
<p>Ungolfed version. <a href="https://ato.pxeger.com/run?1=nVS7btswFF06-SsuhA4SKjGk3hSQAhkyBGhRoHGnpgNtU7YCmTREOm3a5ku6ZGk_ql_TK9EKHDuDUUqAyMvzuDgi-OuPmYtWJI-Pv7e2jsq_r942643uLNyKO0Fss5bkShkrlJ1M9OxWzi28F42CHxOAhaxhjQtfdEtTwUXXifvP17Zr1PJLUMEn1Vg4H5AOW_uIeqfVMgTlJohy-CccwJ1ooXGWWN2ZE11fbvR8dS3nWi18gwrwE1gAcHYGl8psOwlKKG2GfQOiX2sVfZedhtk9fPgY9S5fG7sCtmdU624trJWLqyfHnTex2rW2h-6k2bYDpgb_kErQ2WIaxveIFwRH0qSTm1bM5UXb-t7NDaFvXnsheF4AsjXyCL6zdZbEbGdm6Man4VhrpVraFVnjD4jz4HkU2oLVIL_NpVyAY4LDD7oPk-EjjJGd9T3GSx7RImJsypIq5lUaE5qkOecenJ_jf8sZPjkv4xCGMqc8CJ5JxJSyiMZRjBJ5lfCKZaQsc5Y4CdRAdlEkWZaF4DbiojwQYZyXEerE8ZQWVZJUaUKynJX52EdZZmmWpnESgqvnPDnSKGivQdmU0mp4CcXmKB0bwQRxheM0JnIPmKfy9h0xsxcTw9z5lLIq7UMjfBgejJGNY-C78T_mp3XM6AsZ9dSBu8EzZFvle3h-d0KNVgY2_XyBJ37SH6sHd43sbpPxVvkH" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre class="lang-scala prettyprint-override"><code>import java.time.Instant

object Main {
  def main(args: Array[String]): Unit = {
    def f(s: Long, n: Long): String = {
      val instant = Instant.ofEpochSecond(s, n | 1)  // Ensure nanoseconds are non-zero by OR-ing with 1
      val formattedInstant = instant.toString
      val result = if (formattedInstant.contains(&quot;.&quot;)) formattedInstant.replaceAll(&quot;\\.0+$&quot;, &quot;&quot;) else formattedInstant
      result.substring(0, result.length.min(26))  // Ensure not to exceed string length
    }

    assert(&quot;1989-07-11T13:29:42.034699&quot; == f(616166982, 34699909))
    assert(&quot;2001-02-21T16:39:15.886139&quot; ==  f(982773555, 886139278))
    assert(&quot;1998-01-22T07:33:43.561869&quot; == f(885454423, 561869693))
    assert(&quot;1970-01-01T00:00:00.000100&quot; ==  f(0, 100000))
    assert(&quot;1970-01-01T00:00:00.000001&quot; ==  f(0, 1000))
    assert(&quot;1970-01-01T00:00:00.000000&quot; ==  f(0, 999))
    assert(&quot;2001-09-09T01:46:39.999999&quot;  ==  f(999999999, 999999999))
    assert(&quot;1970-01-01T00:00:00.000000&quot; ==  f(0, 0))
    assert(&quot;1970-01-01T00:00:00.001000&quot; ==  f(0, 1000000))

    println(&quot;All assertions passed.&quot;)
  }
}
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/cyoce/J-uby" rel="nofollow noreferrer">J-uby</a>, 42 bytes</h1>
<p>Uses <code>-rtime</code> flag to get <code>Time#iso8601</code>.</p>
<pre class="lang-ruby prettyprint-override"><code>~(~(:at&amp;Time)&amp;:nsec)|~:iso8601&amp;6|~:[]&amp;26&amp;0
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m700K740qXJVtJJuUUlmbqpS7CI326WlJWm6Fje16jTqNKwSS9RCgBKaalZ5xanJmjV1VpnF-RZmBoZqZkB2dKyakZmaAUTH7oLSkmIFt2gzQyA0s7Qw0lEwNjGztLQ0sIyFqFiwAEIDAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h2>Explanation</h2>
<pre class="lang-ruby prettyprint-override"><code>~(~(:at &amp; Time) &amp; :nsec) |  # Time.at(secs, nsecs, :nsec), then
~:iso8601 &amp; 6 |             # ISO-8601 w/ 6 fractional digits, then
~:[] &amp; 26 &amp; 0               # Get first 26 chars (drop time zone)
</code></pre>
</div>
<div id="pu2" class="pu"><h1>Excel, <s>102</s> 101 bytes</h1>
<pre><code>=TEXT(25569+A1/86400,&quot;yyy-mm-ddThh:mm:ss&quot;)&amp;SUBSTITUTE(LEFT(TEXT(B1/10^9,&quot;.&quot;&amp;REPT(0,9)),7),&quot;.000000&quot;,)
</code></pre>
<p>Input is seconds in <code>A1</code> and nanoseconds in <code>B1</code>.</p>
<p>There are two major pieces to this:</p>
<hr />
<p><code>TEXT(25569+A1/86400,&quot;yyy-mm-ddThh:mm:ss&quot;)</code><br />
<code>25569</code> is the numerical equivalent of 1970-01-01 in Excel which measures from 1900-01-00 as zero.<br />
<code>A1/86400</code> converts seconds into days.<br />
<code>&quot;yyyy-mm-ddThh:mm:ss&quot;</code> formats the result, giving us the majority of the desired output.</p>
<hr />
<p><code>SUBSTITUTE(LEFT(TEXT(B1/10^9,&quot;.&quot;&amp;REPT(0,9)),7),&quot;.000000&quot;,)</code><br />
<code>TEXT(B1/10^9,&quot;.&quot;&amp;REPT(0,9))</code> converts from an integer of nanoseconds to a decimal of seconds.<br />
<code>LEFT(TEXT(~),7)</code> gives the decimal point with the leading 6 digits.<br />
<code>SUBSTITUTE(LEFT(~),&quot;.000000&quot;,)</code> accounts for a &lt;1,000 nanoseconds by dropping the result.</p>
<hr />
<p>Aside: Given how friendly Excel is with dates, it makes sense - but is still annoying - that it takes more bytes to deal with <code>.000000</code> than it does to deal with <code>1970-01-01T00:00:00</code>. I found alternate approaches with less bytes but they only work if we can round the nanoseconds or display zero values. Alack and alas.</p>
</div>
<div id="pu3" class="pu"><h1><a href="http://groovy-lang.org/" rel="nofollow noreferrer">Groovy</a>, 63 bytes</h1>
<pre><code>f={s,n-&gt;sprintf('%tFT%1$tT.%06d',s*1000L,n/1E3as int)-~/\.0+$/}
</code></pre>
<p><a href="https://tio.run/##ndE9T8MwEAbgnV/hoVFaiN07f8VnqWwwMXpkqQRBLClqIiSE4K@HS4IBgUqlXjJY5zy27s3Dfrd7fhmGZvPaVa287J72j23fLMuiv04FLvqkCvB3ZdWdIwDcVO0ar8y2E/zVSr6vbxVcLNZvw7br7ve9KJECSaglYkITNUWrFRjriUqx2Yhm6ZEfT0GLSkx9AlqdZa4BUIKWmrmPhiI6FYJHkznDujbOOebzhq7Dt0eiIPkIrRPU0ZhojXIeg88@BGedtdqwnzc8mZ@@htEDJoA4vYrH5tE/PYhclRgDgbFx1PMJB/y0/NeXGfzxnJ345ef8@A9QAox2jFDRVDm/XLOf68T7v9bH5h8HPZgfd1bDBw" rel="nofollow noreferrer" title="Groovy – Try It Online">Try it online!</a></p>
<p>A different Groovy approach using format strings (inspired by other similar answers).</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://docs.python.org/3.8/" rel="nofollow noreferrer">Python 3.8 (pre-release)</a> <strike>106</strike>, 81 bytes</h1>

<pre class="lang-python prettyprint-override"><code>lambda a,b:datetime.fromtimestamp(a+b//1e3/1e6).isoformat()
from datetime import*
</code></pre>
<p><a href="https://tio.run/##rZBNasMwEEb3OsWgleSqjk2g1AYdIKtcIFBGWE4E0Q/KZJHTO1JMoNBFFukIMbN48xi@dKNTDNvvlJdZH5YzejMhoDLjhGTJedvOOfo6XAh9EvhhNpvebsv/kq27xDlmjyQkqxw8t8D5FDM1y9ohY5iiZ6iN7rumGeCzZym7QILvQrrSyBUqXp5RNkyaH4jLJ7C/0krMAhUYKYumY1VU6180b0uGYXjDUTKEH3ChxnS0ou/kyKAUgoa6sqbXrk3I5hGhfCDmNfLyrl/Qn9uWOw" rel="nofollow noreferrer" title="Python 3.8 (pre-release) – Try It Online">Try it online!</a></p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/nxadm/rakudo-pkg" rel="nofollow noreferrer">Raku</a>, <strike>46 bytes</strike> 40 chars, 42 bytes</h1>

<pre class="lang-perl6 prettyprint-override"><code>{(~DateTime.new($^a+$^b divⅯ/1e6)).chop}
</code></pre>
<p><a href="https://tio.run/##ddBNSgNBEAXg/ZyiwCAJZtqq/q9u3HmEWQdGnWDAaFBRgujO83gnLzLWpGdwk7zuTdH10fB23fOD77d7OF/DVf8x/7puX7tms@3UY/c@n63ai9nqBu42b7/fP5fU@cVC3d4/7T77XFUv7R7W4EmO56hhCcZ6ZkbOAGdAHLnGUBM1ZJLmZLXCw8YoxYRgnHMiY/RkWIeYRWpEqlHXWqRPhhM5VRZGGaOzzlptRDpP0bNnkw9/cqwFa91gSMYka1RZGCXClCUQDsnDMMiAg0RqENPhKnmVnRMyl@GkFHtESj0jPC6naqYUUvJfjfTKDVKyQzuqvFb9Hw" rel="nofollow noreferrer" title="Perl 6 – Try It Online">Try it online!</a></p>
<p>Saved a few bytes by using a non-digit numeral (which could be replaced by others like <code>൲</code>, but others like <code>𐄢</code> or <code>𑁥</code> add an extra byte), which allowed the space removed after <code>div</code>.  Only trick here was needing to force the round down, and stringify the <code>DateTime</code> to be able to <code>.chop</code>.  There may in fact be a bug here in that Rakudo's implementation rounds up, and if we consider it as such, then it can be further golfed to</p>
<pre class="lang-perl6 prettyprint-override"><code>{(~DateTime.new($^a+$^b/1e9)).chop}
</code></pre>
<p>Which would only be 35 chars/bytes.</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://v8.dev/" rel="nofollow noreferrer">JavaScript (V8)</a>, <s>83  94 ...</s>  78 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>s=&gt;n=&gt;new Date(s*1e3).toJSON(n=0|n/1e3).slice(0,20-!n)+`${n+1e6}`.slice(n?1:7)
</code></pre>
<p><a href="https://tio.run/##bZBNS8QwEIbv/RVj8NDaD2eSNk0C1YsnD3pwb2vBRbqwIllpiy6s@9vXabqCwk4@mfd5J0zeVp@r4bXffIz5pzmum@PQ3Hie3RfcrcYuHq6oU0kxbu@fHh9i3@C3vw6Z4X3z2sWYScwvfJK@XO59Sp0@vJwUf0uuTo5jN4xDs1xq4qGtkZCBKrW1Fi1kgqyxOdY50YKUk9aVssCgizZbMl7XqqoqNhmjSVlZG74LiUg5ylyyTTtlHVXFDEw2Y6qyKkupGK00GW21VeExa3I2SrnA2inlSlXM@uQCZJxwCgjB75CtcXIgLRBdmAXrTP1zhNpnSWZnMgNu@TwXAPsbkP29nzrlP7ILJFdOzRazKNo2itbbPn7vRtjtdrBdQ/jtZB/BlOsbWMcsLLFNwkltEsFHv/HjKZ2KTKSzkgpwz15ACj0vAc@etzTmIs0EyDZJBetJdIiOPw" rel="nofollow noreferrer" title="JavaScript (V8) – Try It Online">Try it online!</a></p>
<ul>
<li>Thanks to @Neil for the great help!</li>
<li>Saved another 5 thanks to @Arnauld</li>
</ul>
</div>
<div id="pu7" class="pu"><h1><a href="https://www.gnu.org/software/bash/" rel="nofollow noreferrer">Bash</a> + sed, <s>37</s>, <s>59</s>, 50 bytes</h1>

<s>
<pre class="lang-bash prettyprint-override"><code>printf '%(%FT%T)T.%06d' $1 $[$2/1000]
</code></pre>
</s>
<pre class="lang-bash prettyprint-override"><code>printf &quot;%(%FT%T)T.%06d&quot; $1 ${2::-3}|sed s/\\.0*$//
</code></pre>
<p><a href="https://tio.run/##PYy9DoJAEIT7e4oNgURNhPtdbrH3CeiAAuUMJAQMkFiIz45nos4U800xc6nndnu0Xe9gcnUDPaxrUUDYQ1WdmhFmt/iy3aduWG4QRLvonEf5Po8jjk0AoYDwKbPsqF7r7BqYk7KM@SFMks1d29E/DG5D4Y1kJSiNRMSJ@ZKmyhgD1qJQJFPLrDXaaC0VGBQWCUkxDoJ/9AUffs/oJ/jTGw" rel="nofollow noreferrer" title="Bash – Try It Online">Try it online!</a></p>
<p>8 bytes saved thanks to @DigitalTrauma</p>
</div>
<div id="pu8" class="pu"><h1><a href="http://groovy-lang.org/" rel="nofollow noreferrer">Groovy</a>, <s>62 60</s> 68 bytes</h1>
<pre><code>f={s,n-&gt;&quot;${java.time.Instant.ofEpochSecond(s,n|1)}&quot;[0..25]-~/\.0+$/}
</code></pre>
<p><a href="https://tio.run/##ndFNS8NAEAbgu79iKYW22N3O7Fd2FurNg2dzUw@htn6AiTShILX@9ThNXBWlFnyTwzCbZ5Od3K2ravPStqv5tp6W8mww3D4Wm0I1D09LdVHWTVE2qlqdP1eL@8vloipvx/zcK052gytQSrsb@Ta7VnA6nO3aoq6X60aMkAJJyCRijiZqilYrMNYTjcR8LlZjj3x5ClpMRdcnoMlJ4hoAJWipmftoKKJTIXg0iTPMMuOcY94v6Cx8eSQKkrfQOocsGhOtUc5j8MmH4KyzVhv2/YIn891nsPeAOUDsbgX8TQAfHkTKVHCXw@VRzzsc8F35px8l8Mvz7MQP38@P/wDlgNHuR6ioS5pfSu/7/PP9n/Wx8@8PenB@3Jm07w" rel="nofollow noreferrer" title="Groovy – Try It Online">Try it online!</a></p>
<h2>Explanation</h2>
<p>The Java <code>ofEpochSecond(epochSecond, nanoAdjustment)</code> method returns the <code>Instant</code> corresponding to the given seconds and nanoseconds (exactly what we want for this challenge).  The nanoseconds are bitwise-ORed with <code>1</code> to ensure we never end up with exactly 0 or 1_000_000 nanoseconds, while still maintaining the same 6-digit rounding behavior.</p>
<p><code>&quot;${...}&quot;</code> converts the <code>Instant</code> to a <a href="https://docs.groovy-lang.org/latest/html/api/groovy/lang/GString.html" rel="nofollow noreferrer"><code>GString</code></a> consisting of the <code>String</code> value of the instant.  The <code>toString</code> representation of an <code>Instant</code> is in ISO-8601 format: &quot;2011-12-03T10:15:30.000000001Z&quot;.  It automatically excludes extra decimal places past 0/3/6 decimal places (seconds/milliseconds/microseconds) if the remaining digits are 0, hence the earlier bitwise-OR.</p>
<p><code>&quot;${value}&quot;[0..25]</code> returns characters 0 through 25 of the string, which is up through the sixth decimal place.</p>
<p><code>-~/\.0+$/</code> subtracts the first instance of the regex pattern <code>\.0+$</code> from the resulting string; namely, a decimal place followed by all zeros, followed by the end of the string.  This will only match if the string ends in <code>.000000</code>, and the code is one character shorter than subtracting <code>'.000000'</code>.</p>
</div>
<div id="pu9" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, <s>32</s> 28 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<p>Takes input as a pair of strings, with the nanoseconds first. Can save (at least) 4 bytes if we can include leading <code>0</code>s with the nanoseconds.</p>
<pre><code>ùT9 ¯6
pU=n g)iÐV*A³ s3 ¯UÄ9
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;code=%2bVQ5IK82CnBVPW4gZylp0FYqQbMgczMgr1XEOQ&amp;input=IjM0Njk5OTA5IgoiNjE2MTY2OTgyIg" rel="nofollow noreferrer">Try it</a></p>
<p>Or, to &quot;translate&quot; that to JavaScript:</p>
<pre><code>U=&gt;V=&gt;(
    U=U.padStart(9,0).slice(0,6),
    U.repeat(U=Math.sign(parseInt(U))).replace(/^/,new Date(V*10**3).toISOString().slice(0,U+19))
)
</code></pre>

<pre><code>ùT9 ¯6\npU=n g)iÐV*A³ s3 ¯UÄ9     :Implicit input of strings U=nanoseconds &amp; V=seconds
ù                                 :Left pad U
 T                                :  With 0
  9                               :  To length 9
    ¯6                            :Slice to length 6
      \n                          :Reassign to U
        p                         :Repeat U
         U=                       :  Reassign to U
           n                      :  Convert to integer
             g                    :  Get sign
              )                   :End repeat
               i                  :Prepend
                Ð                 :  Create Date object from
                 V*               :    V multiplied by
                   A              :    10
                    ³             :    Cubed
                      s3          :  To ISO String
                         ¯U       :  Slice to length U
                           Ä9     :    +19
</code></pre>
</div>
<div id="pu10" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog Unicode)</a> 18.0, 53 <a href="https://codegolf.meta.stackexchange.com/a/9429/43319" title="When can APL characters be counted as 1 byte each?">bytes</a> (<a href="https://github.com/abrudz/SBCS" rel="nofollow noreferrer" title=".dyalog files using a single byte character set">SBCS</a>)</h1>

<p>Full program. Prompts for nanoseconds, then seconds.</p>
<pre class="lang-apl prettyprint-override"><code>(¯7×0=f)↓⊃'%ISO%.ffffff'(1200⌶)20 1⎕DT⎕+1E¯6×f←⌊⎕÷1E3
</code></pre>
<p><a href="https://tio.run/##fVA9SwNBEO3vV2wT9o58sLt3u7cbEASTIpUB01gG4olwmGBsgrFRuRxnLigSzsbKxi6FaMAy90/mj8RJgtE0vt1i581b3ptp98JyZ9AOu6dLiKNaC6KHKyGl0kVIP/K5Vh5j14RA@kJ63XAQnIUhCboXhOsKo30Ck2mtZTVWvyC5sWm53KpW6b4tim6eQfouHYgTSKeLNxuS2xJnrMghfoboyVEQPXbalyfo45QEMgp1fLh2zDM@RJ5A8kroSkTR6OCYdoLzPiVwf4eBvvD@l2z8aUE8ai7txczPM7YXOOiBIWihcXRYqARrUJsLxhqOYIRv5p9Mi7y@mKk8C3AqGCfI5HNed3E/oyVZo2m5njLGMGMpjkcZLayfltaKu0b42kLW910p5bYnFdfKKOOiSnrS84S77eFuEBbbIf6U6LdbbfD7@gY" rel="nofollow noreferrer" title="APL (Dyalog Unicode) – Try It Online">Try it online!</a> (polyfills for <code>⌶</code> and <code>⎕DT</code> because TIO still uses 17.1)</p>
<p><code>⎕÷1E3</code> divide input nanoseconds by 1000</p>
<p><code>f←</code> assign to <code>f</code></p>
<p><code>1E¯6×</code> multiply by 0.000001</p>
<p><code>⎕+</code> add input seconds to that</p>
<p><code>20 1⎕DT</code> convert from UNIX time (seconds since 1970) to Dyalog Date Number (days since 1989-12-31)</p>
<p><code>'%ISO%.ffffff'(1200⌶)</code> format according to ISO with six-digit fractional second precision</p>
<p><code>⊃</code> disclose (because a &quot;string&quot; is an enclosed character vector)</p>
<p><code>(</code>…<code>)↓</code> drop the following number of characters</p>
<p><code>0=f</code> one if <code>f</code> is zero</p>
<p><code>¯7×</code> seven from the rear if so (lit. negative seven multiplied by that)</p>
</div>
<div id="pu11" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> (<code>-p</code> <code>-MPOSIX+strftime</code> <code>-Minteger</code>), <s>55</s>, <s>51</s>, 60 bytes</h1>
<p>Thanks to @Abigail for giving me the idea to change the input format. + 9 bytes to handle the microseconds=0 case.</p>

<s>
<pre class="lang-perl prettyprint-override"><code>$_=(strftime&quot;%FT%T&quot;,gmtime$_).sprintf&quot;.%06d&quot;,&lt;&gt;/1e3
</code></pre>
</s>
<pre class="lang-perl prettyprint-override"><code>$_=(strftime&quot;%FT%T&quot;,gmtime$_).sprintf&quot;.%06d&quot;,&lt;&gt;/1e3;s;\.0+$;
</code></pre>
<p><a href="https://tio.run/##RY5LC8IwEITv@RmhBcW2Js2jWaoeBQ@iYA8ehF5MS6GPkOb3G1NUnGXZbxYGxmjbC@@jer@anW1cN2gcH6u4wkk7LC6q19lsbDe6BmcxkU@c7A5bqlk5l4@MbKLSe0nDSFA5YlwCAAEUTFEwIQRSSlIGeaECCS44zxkSkioJEhgiiJJFXwgn5Jf96E@vybhuGmef9san5@vldrpvfpXDIxTUrbZv" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu12" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, <s>108</s> 106 bytes</h1>
<p>Saved 2 bytes thanks to <a href="https://codegolf.stackexchange.com/users/52904/ceilingcat">ceilingcat</a>!!!</p>

<pre class="lang-c prettyprint-override"><code>#import&lt;time.h&gt;
o[9];f(s,n)long s;{strftime(o,99,&quot;%FT%T&quot;,gmtime(&amp;s));printf((n/=1e3)?&quot;%s.%06d&quot;:&quot;%s&quot;,o,n);}
</code></pre>
<p><a href="https://tio.run/##fVLbbqMwEH3PV1hesYLWUF/AYOjlodr9At6aaFWBSZE2JsI8RBvl27MDhrRR1RoD9pyZ4zOeqcJtVZ3PP9rdvuuH@6Hd6ejtcdW9qE3R@JaY4G9ntsgWRzv0zQj7HVGKYO936ZWYbHeT7acNgmLft2ZofN/cPTAtgifs2cijssY5rDDpgKw4ncEH7V5b4wer4wrBGA2DtsMf@7JBD@goGTxSZZwg@KSpSJKEoCxL4iSOuSCILlMt41RcMxnHJGIJIFVjtGRC8TQjKJEsk0oqIGJ0HO4/sX2mrN5e@xukD3tdDbp2tJipTIU0DRkrmci5ymMe0ekwTBDmlLKQ8pADKnOhcpZE7vwRZUplIThwXtI0FyKPReQkOTSlI0pZSWk@zQjEgcBvUMC/QN/lgF5VUpbHo6LIpYivcuzn5NaHX3x9UM/wJmP8h71YIpqu98fLbk2tDxBFi3l5j2z7T3eNv9xYcDcbbi6WAt3eTt4Bcg2wlM4C09wIE74prmCzwOYTPHce9mri1Sh8RCDcEgT9dnFxzfy@nwsLnJfifsWKfM8GawOceiY4rU7n/w" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
<p>Inputs seconds and nanoseconds as integers and outputs the formatted date/time to <code>stdout</code>.</p>
</div>
<div id="pu13" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, 91 bytes</h1>
<pre><code>DateString[6!3068040+#2,&quot;ISODateTime&quot;]&lt;&gt;If[#&gt;999,&quot;.&quot;&lt;&gt;IntegerString[⌊#/1000⌋,10,6],&quot;&quot;]&amp;
</code></pre>
<p><a href="https://tio.run/##PY6xjsIwDIb3vsUlEssZzmkSN5GOioGF6U4qW9UhQil0aAeUrSoPwPGUvEhJxIG9fP5/@bd7F06@d6E7uLldz1sXfBXO3XCs6UMiGVT4yXNgu@onefuu96z5LndtzUtrLbAVi9MQ/NGf/xfvtyv/Eoh4v/2BQKAGGGsW8290Q82XZbvZ8GZxqQ5uuIzZKBXFJLRAIjZZk0@QjcaQkDYvDEShKKTWOsmahCFLVoIxWmmlcpnkdA4R8MVPSg@@4Fnwpimb5gc" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
<p>Mathematica supports milliseconds, but not microseconds.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/213832/">213832</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




