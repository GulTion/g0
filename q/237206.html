<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::237206</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>036</td><td>Wolfram Language Mathematica</td><td>211113T065523Z</td><td><a href="https://codegolf.stackexchange.com/questions/237206/floating-point-indexof/237258#237258">att</a></td></tr>
<tr d-ix="1"><td>036</td><td>Pip x</td><td>211112T153106Z</td><td><a href="https://codegolf.stackexchange.com/questions/237206/floating-point-indexof/237229#237229">DLosc</a></td></tr>
<tr d-ix="2"><td>057</td><td>Perl 5 + M5.10.0 a</td><td>211114T090929Z</td><td><a href="https://codegolf.stackexchange.com/questions/237206/floating-point-indexof/237286#237286">Dom Hast</a></td></tr>
<tr d-ix="3"><td>063</td><td>C clang</td><td>211112T171439Z</td><td><a href="https://codegolf.stackexchange.com/questions/237206/floating-point-indexof/237236#237236">AZTECCO</a></td></tr>
<tr d-ix="4"><td>042</td><td>Haskell</td><td>211113T043326Z</td><td><a href="https://codegolf.stackexchange.com/questions/237206/floating-point-indexof/237256#237256">xnor</a></td></tr>
<tr d-ix="5"><td>071</td><td>Haskell</td><td>211112T171343Z</td><td><a href="https://codegolf.stackexchange.com/questions/237206/floating-point-indexof/237235#237235">daylily</a></td></tr>
<tr d-ix="6"><td>055</td><td>R</td><td>211112T170851Z</td><td><a href="https://codegolf.stackexchange.com/questions/237206/floating-point-indexof/237234#237234">pajonk</a></td></tr>
<tr d-ix="7"><td>041</td><td>R</td><td>211112T204206Z</td><td><a href="https://codegolf.stackexchange.com/questions/237206/floating-point-indexof/237244#237244">Dominic </a></td></tr>
<tr d-ix="8"><td>059</td><td>Python 3.10</td><td>211112T082036Z</td><td><a href="https://codegolf.stackexchange.com/questions/237206/floating-point-indexof/237207#237207">pxeger</a></td></tr>
<tr d-ix="9"><td>042</td><td>APL+WIN</td><td>211112T193136Z</td><td><a href="https://codegolf.stackexchange.com/questions/237206/floating-point-indexof/237243#237243">Graham</a></td></tr>
<tr d-ix="10"><td>010</td><td>MATL</td><td>211112T101726Z</td><td><a href="https://codegolf.stackexchange.com/questions/237206/floating-point-indexof/237215#237215">Luis Men</a></td></tr>
<tr d-ix="11"><td>050</td><td>Ruby</td><td>211112T114530Z</td><td><a href="https://codegolf.stackexchange.com/questions/237206/floating-point-indexof/237220#237220">G B</a></td></tr>
<tr d-ix="12"><td>075</td><td>Perl 5</td><td>211112T113238Z</td><td><a href="https://codegolf.stackexchange.com/questions/237206/floating-point-indexof/237219#237219">Kjetil S</a></td></tr>
<tr d-ix="13"><td>012</td><td>05AB1E legacy</td><td>211112T092514Z</td><td><a href="https://codegolf.stackexchange.com/questions/237206/floating-point-indexof/237208#237208">Kevin Cr</a></td></tr>
<tr d-ix="14"><td>025</td><td>Charcoal</td><td>211112T104859Z</td><td><a href="https://codegolf.stackexchange.com/questions/237206/floating-point-indexof/237216#237216">Neil</a></td></tr>
<tr d-ix="15"><td>052</td><td>Python 3 + numpy</td><td>211112T094823Z</td><td><a href="https://codegolf.stackexchange.com/questions/237206/floating-point-indexof/237213#237213">loopy wa</a></td></tr>
<tr d-ix="16"><td>045</td><td>JavaScript ES6</td><td>211112T101054Z</td><td><a href="https://codegolf.stackexchange.com/questions/237206/floating-point-indexof/237214#237214">Arnauld</a></td></tr>
<tr d-ix="17"><td>059</td><td>Python 2</td><td>211112T094219Z</td><td><a href="https://codegolf.stackexchange.com/questions/237206/floating-point-indexof/237211#237211">xnor</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, <s>44</s> 36 bytes</h1>
<pre><code>Tr@Clip[Ramp[#2-#]/({##2&amp;@@#,0}-#)]&amp;
</code></pre>
<p><a href="https://tio.run/##dY3NCoJAFIX3PkVwQQquNH@hLYqBXiCsnbgYZEQhRUzaDOOrTyMJudDFtzjn457bqKHSjRrqQrny4p69vL3qLktV02XAIsiPewPAQikBiY3gkIfu3tftkEF0LaVM9Uf3by0hD8dHodrRBEYw9FiLgWECJ@Y0iX/aUTQUOZ4wxgQpQTr38XpP2XrP@XKVk2XaODlvfUi8IASZR3gSQn4zW0KsisC6Lw" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
<p>Input <code>[A, t]</code>. Returns 0-indexed.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/dloscutoff/pip" rel="nofollow noreferrer">Pip</a> <code>-x</code>, 36 bytes</h1>
<pre><code>Yb&gt;=_FIa#y-:$/(-[bMXy]+MN:b&lt;=_FIa)|1
</code></pre>
<p>Takes the array and the number as command-line arguments. <a href="https://ato.pxeger.com/run?1=m724ILNgWbSSboVS7IKlpSVpuhY3VSKT7Gzj3TwTlSt1rVT0NXSjk3wjKmO1ff2skmzAEpo1hhC1UC07opWiDa2NrU2tza0trA0NrA2NYpV0FMxhRgIA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h3>Explanation</h3>
<pre><code>Yb&gt;=_FIa#y-:$/(-[bMXy]+MN:b&lt;=_FIa)|1
       a                              Input array
     FI                               Filter for elements where
 b&gt;=_                                 Input number is greater or equal
Y                                     Yank that list into y

                              FIa     Filter input array for elements where
                          b&lt;=_        Input number is less or equal
                       MN:            Minimum such element
                      +               Plus
               -[    ]                Negative of each of these:
                 b                      Input number
                  MXy                   Max of y (elements &lt;= b)
                                      We now have a list containing two distances:
                                      from the first element larger than b to b,
                                      and to the last element smaller than b
            $/(                  )    Divide the first by the second
                                  |1  If the result was 0 or division by 0,
                                      substitute 1 instead
          -:                          Subtract that result from
        #y                            Length of y (elements &lt;= b)
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> + <code>-M5.10.0 -a</code>, 57 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>$_&gt;&quot;@F&quot;&amp;&amp;$p&lt;=&quot;@F&quot;?say$.-3+(&quot;@F&quot;-$p)/($_-$p):0,$p=$_ for&lt;&gt;
</code></pre>
<p><a href="https://tio.run/##K0gtyjH9/18l3k7JwU1JTU2lwMYWxLIvTqxU0dM11tYA8XRVCjT1NVTiQbSVgY5Kga1KvEJafpGN3f//JkYWXIYGBlxGQGwCxBYGBv/yC0oy8/OK/@sm/tf1NdUzNNAzAAA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
<h2>Explanation</h2>
<p>Naiive approach, but using some Perl var tricks.</p>
<p><code>-a</code> stores the first input value (the target) in <code>@F</code> which, since we know will only be one value, we can access via <code>&quot;@F&quot;</code>. With this we can loop through all other lines of input (<code>for&lt;&gt;</code>) checking if we're greater than the current value and if the <code>$p</code>revious was less than of equal to the target and the current (<code>$_</code>) is greater than the target then we output (<code>say</code>) the current index (<code>$.</code> holds the current, 1-indexed, line of input being processed) plus the ratio of the differences between the current and previous, and previous and target.</p>
</div>
<div id="pu3" class="pu"><h1><a href="http://clang.llvm.org/" rel="nofollow noreferrer">C (clang)</a>, <s>74  71</s> 63 bytes</h1>

<pre class="lang-c prettyprint-override"><code>float r;f(*a,t){for(r=0;*a&lt;t;r++)a++;r-=(*a-t)/(*a-*--a+1e-9);}
</code></pre>
<p><a href="https://tio.run/##jZR9a4MwEMb/91Mcg4HWpE1ifCPrvsg2Rii1FDo7rLBC8avPJcZKZmtqwAje77m75B7c4M1Blru2LQ5HWUMlCn8hUR1cimPlV2siFvKlFlUYBjIMRYXXKozrYKVfC4xlSLc4D0TTfsl96QcXD/ZlDfX2VH@e3z7WF4rybjXCihAd4awRqxVwBvgViBWlOso4gp5gfEywEWFyUIuITG2IEMQIUgQZAkrUYwR0nJG7@VTzkcXHD/J3DSWWIBm1HEVdC8vYYtIxQwwTjZYlydx9sNsiuVuRawX/p6DduChRENMb11tGSH/SzNRgmS2hDgkzErqk3JYwh4QbCVuS1PPAg8I3PtJXBYGA70rlKfyn5@K9fEJQqU9KRQZQnVe5aAbI3BnpAKrro3MSqmmm01w0cLGewDSYDGCCtHemK@vR9agarrKQA701Vq9UnmDzauRIWWaS5BZpTJa50moPXWk9Mhdt7HOlu7k56M45V/qMWCDucBbQ/bOyRxSdlSa/TzXt76Y4yN2pxT9/" rel="nofollow noreferrer" title="C (clang) – Try It Online">Try it online!</a></p>
<ul>
<li><p>Saved 3 thanks to @upkajdt suggestion to use a variable instead of printing it.</p>
</li>
<li><p>Saved 5 thanks for @ths suggestion to make divisor ~0 by adding <em>1e-9</em> to it.</p>
</li>
<li><p>Saved another 3 by using <em>float r</em> instead of <em>int n</em> as index counter.</p>
</li>
</ul>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 42 bytes</h1>

<pre class="lang-hs prettyprint-override"><code>q 0
q p(h:r)t|h&lt;t=1+q h r t|d&lt;-h-p=(t-p)/d
</code></pre>
<p><a href="https://tio.run/##fZDBDoIwEETvfsUcPJTYxlJqRAOf4BcgB6JijdUU2CPfbi3qRRN72MlOXiazWdMM15O1vi33voOcdXDMbPuERlNQmS46GPSg8VgII1zJSLhkefR0GmhAiYpVWtUcWiUcrFJ6WoNX@tt/eMqRcaw41hw5RyrDTDiN0nU8@1OdZT9eRuPxwzZvKoNXk@hJcilfvfl/qGJQB1jPbs3lHj54a9wOrr/cCXNULSwII5jloASFwOvTtX8cWtucBy8Ozj0B" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
<p>Main function is <code>q 0</code>, outputs one-indexed.</p>
<p><strong>43 bytes</strong></p>

<pre class="lang-hs prettyprint-override"><code>l%t|let(h:r)?p|h&lt;t=1+r?h|d&lt;-h-p=(t-p)/d=l?0
</code></pre>
<p><a href="https://tio.run/##fZDBasMwEETv@Yo5JCARicqyStxi4S/oFxgfTGJHoUoQ9h797VXltJcEosMOOzyGWdb18/fgfYx@R4sfiLnPiTdhcTXZYj81bjnV0slgGcnA307WNyqOlu34hoaZZli0rDW6EzCaC7BWm3VNXptH/88LgVLgXeAgUAkUKs2Kiyw95LNP1WX55FU2nj/s44@q5PUqZpVKqXtv9RrqHDQJdptrf7mlD1778IUwXW6ELdoRHoQFzAsQRy1x/3QXf46j789zlMcQfgE" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
</div>
<div id="pu5" class="pu"><h1><a href="https://haskell.org" rel="nofollow noreferrer">Haskell</a>, <sup><s>76</s> <s>73</s></sup> 71  bytes</h1>
<pre class="lang-haskell prettyprint-override"><code>s!x|(t,y:_)&lt;-span(&lt;x)s,u&lt;-last$0:t=fromIntegral(length$t)-1+(x-u)/(y-u)
</code></pre>
<p><a href="https://tio.run/##hY7NCsIwEITvPsUKHhLcappGrFIfwGcQkSDxB2OUJJUWfPeaKOihYA47MDMfy5ykuyitu84Nmyfx2C53tMrcXRpSNdRhXWVaOj9iS7862Nt1bbw6WqmJVuboTyNPs3xMmqymU9IG7a7ybGAF3sqHsk4Buduz8TCB2uxra1sgQ0oHABsgG8G3CIJHi8FyEV2IuOhFPypHKBBmCHOEEiFn4SKRp4B58kN/SVH0I5b6k5y6@AIsRDyKiFIy9p5R/u15ohefftu9AA" rel="nofollow noreferrer">Try it online</a></p>
<p>(I hate explicit conversion (in golfing))</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, <s>57</s> 55 bytes</h1>
<p>Or <strong><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>&gt;=4.1, 48 bytes</strong> by replacing the word <code>function</code> with <code>\</code>.</p>
<p><em>-2 bytes thanks to <a href="https://codegolf.stackexchange.com/users/95126/dominic-van-essen">@Dominic van Essen</a>.</em></p>

<pre class="lang-r prettyprint-override"><code>function(A,t,r=which(A&gt;=t)[1])r-((A-t)/diff(c(0,A)))[r]
</code></pre>
<p><a href="https://tio.run/##fY7BCoMwEETv/YqFXhJYbbKJmB4U8h3iyRL00oKk9POtUQNVGgNZyMzLzI6Tqyb3fnZ@eD2ZRY9j9emHrme2rjxvZMvHjDGbeX57DM6xjgm0nPNmbKfw0sQR5nGFrAZ5CRLpRUEg/VeONC2yRFAIBUKJYBCkmG@g5O/fFFSukD5P2vrK/RpKbQ15cTBENNThnNbQPi6F3VesiJiYDQpDh2GEWDY2MYxMGqOIUS51GtMRU7kopy8" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>
<p>1-indexed.</p>
<p>I couldn't make any built-in linear approximation work, but <s>it doesn't mean that such solution doesn't exist</s> <a href="https://codegolf.stackexchange.com/a/237244/55372">@Dominic van Essen could</a>.</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, 41 bytes</h1>

<pre class="lang-r prettyprint-override"><code>function(A,t)approx(B,seq(B&lt;-c(A,0)),t)$y
</code></pre>
<p><a href="https://tio.run/##fY7BCsIwEETvfsWCHhLYlmSTkggq2D@RYsFLq7WCfn1M2gZsMQ3sHmZeZrZz9dHVr6bqb23Dztjzy/3etW9W4vP6YOUhq7wqOPfO7uNqVjFNHMGvLWQnkJsgkR4UBNJ/5UjTIEsEhVAgGASLIIWfQMnfvynIjJBeT5r6zPwMpaaGvFgYIhpq8VZraB6XwvYjVkRMeIPC0mFZIYaLbQwjm8YoYpRLncZ0xFQujPsC" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>
<p>Almost-trivial use of <code>approx</code> built-in: upvote <a href="https://codegolf.stackexchange.com/a/237234/95126">pajonk's non-trivial R answer</a> instead...</p>
</div>
<div id="pu8" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a> 3.10, <sup><s>79</s> <s>75</s> <s>67</s> <s>65</s></sup> 59 bytes</h1>
<pre>lambda a,t:(t-a[i:=sum(x&lt;t for x in a)])/(a[i]-[0,*a][i])+i</pre>
<p><a href="https://staging.ato.pxeger.com/run?1=fZBBboMwEEXVbU4xyspODR0bp1AS9wTZdUlZOCqoSAQQOCQ9SzeRqvZO7WmKcVRFkaglj2b-vPlj-f2reTOvdXX6yNXz597kXvS9KvVu-6JBMxMT4-mkiFW335Hj2kBet3CEogJNU3pHhl7qJcgWOh0yelucLZ4st7Fc3WQVQRpnrFcbv2vKwpA5eI8wp6umLSpD2ljlZJH1uiQZpewQqzHvKdPbjrTega59RE6d9ennpkukSBlIYW1wlghpi0ER8lpxDJ8lnEHAYMkgZBAx4DhcC_DzxFQ_tP3gn_lxwf3FyiAYLf3lpYZOC67OtK_4M5kiHiwhRwIHTdggbYgQx4dFzkJEE4RwBPe5nCCkI4SPofv8Xw" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Needs Python 3.10 to use <code>:=</code> inside a subscript.</p>
<ul>
<li><code>t-a[0]and</code> guards against the edge case where <code>a</code> has only one element</li>
<li><code>sum(x&lt;t for x in a)</code> finds the index of the first item <code>x</code> where <code>x&lt;t</code></li>
<li><code>(t-a[i]/(a[i+1]-a[i])+i</code> just does the linear interpolation</li>
</ul>
<p>-4 bytes thanks to Kevin Cruijssen</p>
<p>-6 bytes thanks to tsh</p>
<p>-6 bytes thanks to xnor</p>
</div>
<div id="pu9" class="pu"><h1>APL+WIN, 42 bytes</h1>
<p>Prompts for vector followed by integer. 1 indexed.</p>
<pre><code>(m/⍳↑⍴m)+(i-m/v)÷(m←&lt;\(i←⎕)≤v)/v-¯1↓0,v←,⎕
</code></pre>
<p><a href="https://tio.run/##SyzI0U2pTMzJT9dNzkksLs5M/v@ob6qvz6O2CcZcQJanP5BlyPWooz3tv0au/qPezY/aJj7q3ZKrqa2RqZurX6Z5eLtGLlCNTYxGJpACatF81LmkTFO/TPfQesNHbZMNdMqA4jpAif9AU7j@p3GZGIFQGpeRiQKQNjKBM8GihgrGCqYK5goWCoYGCoZGClyGWAQVuIwxRbkMEaYaGyOYBliUYrGJyxIkZmCgYATEJkBsYWAANNICi6gRVlETIwsA" rel="nofollow noreferrer" title="APL (Dyalog Classic) – Try It Online">Try it online! Thanks to Dyalog Classic</a></p>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, 10 bytes</h1>
<pre><code>YYhtfi3$Yn
</code></pre>
<p>Inputs are <em>A</em>, then <em>t</em>. The output is 1-based.</p>
<p><a href="https://tio.run/##y00syfn/PzIyoyQt01glMu///2hDAwMdBSMQYQIiLAwMYrkMjSwA" rel="nofollow noreferrer">Try it online!</a> Or <a href="https://tio.run/##y00syfmf8D8yMqMkLdNYJTLvv0vI/2gTo1guEyOuaCMTHQUQ28gEwQaJG@ooGOsomOoomOsoWOgoGBoAMVDKEKeMOW49SNYYGyOxDXBqwe0AS6CMAZBtBCJMQISFgQHIDgvsEka4JEyMLAA" rel="nofollow noreferrer">verify all test cases</a>.</p>
<h3>Explanation</h3>
<pre><code>YY     % Push infinity
h      % Implicit input: row vector A, of length n. Concatenate. This attaches
       % infinity at the end of the vector. This is necessary because
       % interpolation requires a vector of at least 2 entries. The value
       % infinity is used so that it doesn't interfere with the interpolation
tf     % Duplicate, find. This gives the row vector [1 2 3 ... n+1]
i      % Input: integer number t.
3$Yn   % 3-input linear interpolation. Implicit display
</code></pre>
</div>
<div id="pu11" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 50 bytes</h1>

<pre class="lang-ruby prettyprint-override"><code>f=-&gt;l,n,z=0{a,*l=l;a&lt;n ?1+f[l,n,a]:1.0*(n-a)/a-=z}
</code></pre>
<p><a href="https://tio.run/##KypNqvz/P81W1y5HJ0@nytagOlFHK8c2xzrRJk/B3lA7LRoknhhrZahnoKWRp5uoqZ@oa1tV@79AIS062sQoVgeIucAcIxMQW8fYGMo3NDDQUTACESYgwsLAIBbINLKI/Q8A" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
</div>
<div id="pu12" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a>, 75 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>sub f{($t,$a,$b)=(@_,9e9);$a&lt;=$t&amp;&amp;$t&lt;=$b?($t-$a)/($b-$a):1+f(@_[0,2..$#_])}
</code></pre>
<p><a href="https://tio.run/##jZJLb4JAFIX3/ooTOwrYKw7DWEVLdd@kbrqzxEAKjX2IRZq0Mf52OjO46EOjCcyd3PPdc@5i1mnx2q@qzUeCbGuzklhMLHFCe7qgIA2cMYuvQ1a226xUNZkopMtip2ezRNeRd5kpdM5JuC67WETOrsrywm4Ac/VJERGkQHgDDkS0bwupu0oS8qhUT3k/JI/gE/qEAWFI8Lj6Nen99TgGDjTon@Nosq8OreX7Js3tHxS52bl3Tob473MMDTQqf6NciUIfUh9Dzs3aw9pU1ROoqFHP9eQpVNaocPnAoM5W0W9fNouLgvSDST/XTjhli7Hpgz3lZZjppzTViKPb62K5KrNmqxtsgFZXcFXKEVr@IwA1r66qAzWpbw@rpt4I0NZI340lJrDyFwsjWJ1O5252j9mtVWPP@XJlW2TtAwkq28ySmRw3do3qGw" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
<p>Perl5 versions from 5.32 (TIO has 5.28) got <a href="https://metacpan.org/release/XSAWYERX/perl-5.32.0/view/pod/perldelta.pod#Chained-comparisons-capability" rel="nofollow noreferrer">chained comparisons</a> capability which means <code>$a&lt;=$t&amp;&amp;$t&lt;=$b</code> can be shortened to <code>$a&lt;=$t&lt;=$b</code> and save 4 bytes.</p>
</div>
<div id="pu13" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/tree/fb4a2ce2bce6660e1a680a74dd61b72c945e6c3b" rel="nofollow noreferrer">05AB1E (legacy)</a>, <s>18</s> <s>17</s> <s>13</s> 12 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>-D¹¥/ā+s®›Ïθ
</code></pre>
<p>First input is the list <span class="math-container">\$A\$</span>, second input is <span class="math-container">\$t\$</span>. The output <span class="math-container">\$i\$</span> is 1-based.</p>
<p>-1 byte switching to the legacy version of 05AB1E, where <code>[1]/[]=[1]</code> instead of <code>[]</code>. In the new version of 05AB1E we therefore had to add a <code>1š</code> before the <code>θ</code> to account for single-item input-lists. Unfortunately, <code>d</code> was <code>is_int</code> instead of <code>&gt;=0</code> in the legacy version, so we have to replace it with <code>®›</code> (<code>&gt;-1</code>) instead, netting at -1 byte.</p>
<p><a href="https://tio.run/##yy9OTMpM/f9f1@XQzkNL9Y80ahcfWveoYdfh/nM7/v@PNjQw0FEwAhEmIMLCwCCWy8TIAgA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##MzBNTDJM/V9Waa@k8KhtkoKSfWVCsUvof12XiENL9Y80ahcfWveoYdfh/nM7/utoxvyPjo42MYrVAWGF6GgjEzDLyASZB5Uz1DHWMdUx07HQMTTQMQSKGSIJmyOEzbELG6LYYGyMwjPArscIu7AlRNjAQEfBCESYgAgLAwOQJRY45YzwyJkA5WIB" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>-             # Subtract each value in the first (implicit) input-list from the
              # second (implicit) input-integer
 D            # Duplicate this list
  ¹           # Push the first input-list again
   ¥          # Pop and push its deltas / forward differences
    /         # Divide the items at the same positions in the two lists
     ā        # Push a list in the range [1,length] (without popping)
      +       # Add that to each value in the list
       s      # Swap to get the duplicated list again
        ®›    # Check for each whether it's larger than -1 (non-negative)
          Ï   # Only keep the items at the truthy indices
           θ  # Pop and leave the last item
              # (after which the result is output implicitly)
</code></pre>
</div>
<div id="pu14" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 25 bytes</h1>
<pre><code>ＩΣＥθ∧κ⌈⟦⁰⌊⟦¹∕⁻η§θ⊖κ⁻ι§θ⊖κ
</code></pre>
<p><a href="https://tio.run/##fY0xC8IwEIX/yo0XOKGxiIOT2MWhIDiGDCEJNNhETdPSfx/PunsHx@PxvXd2MNk@zVjrLYdU8GKmgvc5Ym9e@CY4J4cPgt6sIbKrGtYh/bQk6MISnEe25gkHxss1Ob9@k5232UefiucGIcQWZCr8pYTm3eZUq1J7gpbgQHAkkPxPtppPo@tuGT8" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation: Port of @xnor's 64-byte Python solution.</p>
<pre><code>   θ                        Input array
  Ｅ                         Map over elements
     κ                      Current index
    ∧                       Logical And
              η             Input value
             ⁻              Minus
               §θ⊖κ         Previous element
            ∕               Divided by
                    ι       Current element
                   ⁻        Minus
                     §θ⊖κ   Previous element
         ⌊⟦¹                Clamp above to 1
      ⌈⟦⁰                   Clamp below to 0
 Σ                          Take the sum
Ｉ                           Cast to string
                            Implicitly print
</code></pre>
</div>
<div id="pu15" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a> + numpy, 52 bytes</h1>

<pre class="lang-python prettyprint-override"><code>lambda a,t:interp(t,a,argsort(a))
from numpy import*
</code></pre>
<p><a href="https://tio.run/##fY5NbsMgEIX3PsUoK4ioxV9iN5F7gtzA7YK2uLWEAWFqKad3jYmqKJKLxKB58703@Gv8dlbMXfM6GzW8fypQJJ56G3XwKBJFVPgaXYhIYVx0wQ1gfwZ/hX7wi7qf83sT1QjWF50LcIHegvPaIopPmkzNpRy96SPawdML7PA5NB3a60kZpDE@@7BsRIFYXypjPowb9dKt4wljPLeSvxGQPJlp0XKZmkXh8lHJDCtaRkAQOBCoCNQEGF1uAtjNsTWv0lz8418XHO9WCrFGlod7jWZNPJztXP4XskU8J0KuBF00nopMpaZ0/VidI3i9QfBMsJLJDUJmgpe0@gU" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
<p>As <code>a</code>is sorted with no duplicates we can use <code>argsort</code> to save a byte over <code>r_[:len(a)]</code>. Note that the &quot;no duplicates&quot; is important because numpy doesn't use timsort by default but an unstable qsort.</p>
<h1>or (same length)</h1>

<pre class="lang-python prettyprint-override"><code>lambda a,t:interp(t,*unique(a,1))
from numpy import*
</code></pre>
<p><a href="https://tio.run/##fY7dasQgEIXv8xTDXmmwwb9t0l3SJ9g3SHthW0MDRq35gX36NMalLAup4Mic@c4Z/XX8dlYsbf22GNV/fClQZDx1dtTBo5Hkk@1@Jo0UYRhnbXA92Kn3V@h678KYL@m9iWoA67PWBbhAZ8F5bRHFJ03m@lIM3nQjOsDTKxzwOdQtyvWsDNIYn31YN6JArC@UMZ/GDXrttvGMMV4ayd8JSB7NNGu4jM2qcPmoJIZlDSMgCBwJlAQqAoyuNwLs5tibl3Eu/vFvC57vVgqxRRbHe40mTTyc/Vz@F7JHvERCbgRdNR6LjKWidPtYlSJ4tUPwRLCCyR1CJoIXtPwF" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
<p>This uses <code>numpy.unique</code> (which is a nop on <code>a</code> since <code>a</code> has sorted unique values) with the <code>return_index</code> switch set. This returns the indices of the unique values v in the input. As <code>a</code> has sorted unique values this returns 0,1,...,len(a)-1</p>
</div>
<div id="pu16" class="pu"><h1>JavaScript (ES6), 45 bytes</h1>
<p>Expects <code>(t)(A)</code>.</p>

<pre class="lang-javascript prettyprint-override"><code>t=&gt;g=([c,...a],p=0)=&gt;t&gt;c?1+g(a,c):(t-c)/(c-p)
</code></pre>
<p><a href="https://tio.run/##hdLBDsIgDAbgu0/BEWLHoKBDE@aDLB4W1EVjZHGLrz/ZdpIt0gRO/fKXhkf9qTv3vrd99vKX63CzQ2/LxtLKAee8PkNrBbNlX7qT3Da0BseOtM8cy6nLWjY4/@r888qfvqE3qpHRSuOZMbJSeU7E5hegDgA1kFW0AqaEf0BGQIZ@CUQB2QEpgBggUoQz85WEIgVUnID/RAD7CCiVejTfxUQkiYoq3nRyD4vQQ4roBZFoRiRCG46XHi8jxDz0lIImnixlJJd68Q0SBrkohi8" rel="noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu17" class="pu"><h1><a href="https://docs.python.org/2/" rel="noreferrer">Python 2</a>, 59 bytes</h1>

<pre class="lang-python prettyprint-override"><code>f=lambda l,t,p=0:l&lt;[t]and 1+f(l[1:],t,l[0])or(t-p)/(l[0]-p)
</code></pre>
<p><a href="https://tio.run/##fY7RboMgFIbvfYpzV0jRAdLpTN1T7M6ZBSNdTRgapev29N1Bu6Vp4kg44fz/x3/O8O2PvZOXQ/mK1@qPptVgmWdDyQu7r3ytXQtieyC2EkWNhq14TfuR@HigDyR0@Licj501IIoINIMGShj1@a1zw8kTmkyD7TzZQPwMGxphPDgkzKe2RGPfO4Noa75Mi/LLeDIReD2@G/9LNRS2t1gEo5nQxK0YHGyvPXEUk4axcz54DHQzkWtIHBQKexAm3l0qJWsGSoZteFRJFRpUpLpXFkZElWCQMtgxyBjkDATHGwBx/bHmZ8FP//k/D3i8GZmmc2Syu9X4oqV3Zz1X/oWsEU@BUDPBUZOhqFByzufF8iVC5iuEXAiRCLVCqIWQCc9@AA" rel="noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
<p>Outputs one-indexed. Recursively loops through the list element , each time adding <code>1</code> to the eventual index output, until reaching an element that's at least <code>t</code>. Then, outputs the fraction of the way <code>t</code> is between the current element and previous element <code>p</code>. This avoids needing to explicitly track which index we're at.</p>
<p><strong>62 bytes</strong></p>

<pre class="lang-python prettyprint-override"><code>lambda l,t:sum(t&gt;y or(t-x)/(y-x)for x,y in zip([0]+l,l)if x&lt;t)
</code></pre>
<p><a href="https://tio.run/##fY7RboIwFIbveYpzZxsLa0udzKhPsTtmlhLLbFILgTphL89acIsxwSY9yfn/7/zn1L07VZYP5e5jMPJcHCUY4jbt5YzcvoeqQS7u8AvqfS2rBjrSg7bwo2uU08PSEIN1Cd3W4eF60kYB20QgCRSwg0ZeP7WtLw7hpK2NdmgB8R4WOPI7wHpCfUuDpO8rqzx6VJ06evm9uagInGy@lPujCgzLeyyCRrXeLJHPKk0lHbLYJ9WNti54BGTRoltIHBQMW2AqXg254AcCgodraJRzERqvcPGoTAyLckYgJbAisCaQEWDU/wCw28Scvw5@@mR@XPB6tzJNx8hkda/RSUsf3nwu/w@ZI94CIUaCeo2HIkLJKB0Py6YIns0QfCJYwsQMISaCJ3T9Cw" rel="noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
<p>One-indexed. Same idea as the 64-byte code below. Interprets the input as &quot;intervals&quot; <code>(x, y)</code> of two consecutive elements of the list, starting with left endpoint <code>0</code>. The output is the sum over each interval of the fraction of it that's less below <code>t</code>, which is <code>1</code> for intervals fully below <code>t</code> and <code>0</code> for those fully above it.</p>

<pre class="lang-python prettyprint-override"><code>lambda l,t:sum(min(1,max(0,(t-x)/(y-x)))for x,y in zip([0]+l,l))
</code></pre>
<p><a href="https://tio.run/##fY7RboMgFIbvfYpzV0jRAeLqmnVPsTvXLJjiSoJolK52L@9Au6VpYkk4yfn/7/zntBd3bCwfq93HaGRdHiQY4rb9qUa1toiRWg6IEuTiAT@hi68YV00HA7mAtvCjW1TQ/doQg/F4PmqjgG0jkARK2EEnz5/atieHcNK3Rju0gvgNVjjyW8B6Qn1Lg6TvG6s8elCDOnj5vTupCJzsvpT7o0oM61ssgk713qyQz6pMIx2y2Ce1nbYueARk2aNrSBwUDK/AVJyNheB7AoKHa2hUcBEar3Bxr8wMiwpGICWQEdgQyAkw6n8A2HViyd8EP30wPy14vlmZplNkkt1qdNbSu7ecy/9DloiXQIiJoF7joYhQckqnw/I5gucLBJ8JljCxQIiZ4And/AI" rel="noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
<p>The summand is <code>(t-x)/(y-x)</code> clamped between 0 and 1.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/237206/">237206</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




