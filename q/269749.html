<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::269749</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>061</td><td>JavaScript ES6</td><td>240203T153410Z</td><td><a href="https://codegolf.stackexchange.com/questions/269749/double-reduce-a-sequence-of-integers/269750#269750">Arnauld</a></td></tr>
<tr d-ix="1"><td>048</td><td>Haskell</td><td>240203T223911Z</td><td><a href="https://codegolf.stackexchange.com/questions/269749/double-reduce-a-sequence-of-integers/269760#269760">Victor</a></td></tr>
<tr d-ix="2"><td>063</td><td>Python</td><td>240203T181729Z</td><td><a href="https://codegolf.stackexchange.com/questions/269749/double-reduce-a-sequence-of-integers/269754#269754">loopy wa</a></td></tr>
<tr d-ix="3"><td>024</td><td>Charcoal</td><td>240203T194119Z</td><td><a href="https://codegolf.stackexchange.com/questions/269749/double-reduce-a-sequence-of-integers/269758#269758">Neil</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>JavaScript (ES6), 61 bytes</h1>
<p>An implementation of what the function <em>really</em> does, as described in the <em>layman's terms</em> paragraph of the challenge.</p>

<pre class="lang-javascript prettyprint-override"><code>a=&gt;a.map(v=&gt;a=[0,...b].map(k=&gt;1/a&amp;&amp;b.push(v-a-k))&amp;&amp;v,b=[])&amp;&amp;b
</code></pre>
<p><a href="https://tio.run/##VY3LDoIwEEX3fMXEBWmTabXgA2PKzq8gXQwo4osSUX4fR2pMTLo490zu7YUG6qvHuXuq1h@OY21HsjnpO3ViYLDFArXWpZvM1eZmTnFc6u7VN2JQpK5SxvGApS0cQznuigigMAgJQurwE5iWCGuE7JdThBXCBsGY4BaM0/segw2ZyxnfeCBNfj6d6lv2TIbHkr8lFaoqfKQyF7lI1/6xp6oRBDaHyre9vx31zZ9ELUjqiz@3YoYwk1KObw" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Commented</h3>
<pre class="lang-javascript prettyprint-override"><code>a =&gt;              // a[] = input
a.map(v =&gt;        // for each value v in a[]:
  a =             //   update a:
    [0, ...b]     //     for 0 and each value in b[]
    .map(k =&gt;     //     loaded in k:
      1 / a       //       do nothing if this is the 1st iteration,
      &amp;&amp;          //       i.e. a is still the input array (*)
      b.push(     //       otherwise, push in b[]:
        v - a - k //         the current value, minus the previous one,
      )           //         minus k
    )             //     end of inner map()
    &amp;&amp; v,         //     save v in a
  b = []          //   start with b[] = empty array
)                 // end of outer map()
&amp;&amp; b              // return b[]
</code></pre>
<p><em><sub>(*) The input is guaranteed to contain at least 3 integers, as per the challenge rules. So it can't be coerced to a number.</sub></em></p>
<hr />
<h1><a href="https://v8.dev/" rel="nofollow noreferrer">JavaScript (V8)</a>, 92 bytes</h1>
<p>This was an attempt at implementing the definition literally.</p>

<pre class="lang-javascript prettyprint-override"><code>L=&gt;{for(n=1;L[-~(g=Math.log2)(n)];)print((r=k=&gt;~(k-=2**(i=~~g(k)))&amp;&amp;L[i+1]-L[i]-r(k))(n++))}
</code></pre>
<p><a href="https://tio.run/##VY9Bi8IwEIXv/RVzkhmbiEldt0uZ3rx1f0HJIQit3UqVWLyI/et1NIsgBPLeN7w3zJ@/@ss@dOdRX/O54bni8tacAg5siqrWE7b868fD6nhqLeFArqBz6IYRMXDP5YS9ZrtcYsfT1GJPRItFVXepcVo@p8OT4ZCmRPe5qBOA2iiwCjKnnkbURsFWQf72mYIvBd8KjIlsLfL1/oeRRi/hXGZSkNk3z17xH@GijJTZjyYdozou0rlLXLKSo3d@f0APXMINGvRUQDxVxJ3mBw" rel="nofollow noreferrer" title="JavaScript (V8) – Try It Online">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://haskell.org" rel="nofollow noreferrer">Haskell</a>, 48 bytes</h1>
<pre class="lang-haskell prettyprint-override"><code>r a[_]=a
r a(x:y:l)=r(a++[y-x-z|z&lt;-0:a])$y:l
r[]
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 63 bytes</h1>
<pre class="lang-python prettyprint-override"><code>f=lambda l,*L,a=[]:L and f(*L,a=a+[L[0]-l-b for b in[0]+a])or a
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=bVNLTsMwEF2w6ymsrhKwUeyYNEUKrNjlBlEWrkpFpDSJoCCx5hhsuoE7wWmYT2zMJ4rGnpk3b37J6_v0fLgbh-Px7fGwU-XH9a7q3X6zdaKXp7V0VdNe1sINW7FLSHdnTd1krerVRuzGe7ER3QD6mWtT0NxMc4OuGlxinG6HJEsvFwKeTo7V3k3J7ZPrZX3-MPXdIVmqq2Wakn-674ZDApm6tKrGlMmOnycvjZbCSJG3Ql0JVODN2kUDNitFIUXJHkOwzEu8MCqX4kKKFQTqwGGIhmVG0hLQRBItwMBu7a0XgQMcSkcM5uc986qK8-X_QbWv27e6mGuEEkqwQpO5-VV7XG9J7RUkLXVbkMRAjaedTwzNZ53j1nDL-ECnZhUmRSXkRLmeo4DB6DBsS9m5UcWHjVYQ1mN_gTLvM8EUHKgry2cItWHRJGPiOGGMiWNLrxYegB2WYbPzehR_JqoMc1azlcfMQ1UIKdhOfqBTKyShRWu_Cx6ij2KGMHk_ZL8dLGmN4UiKCCKaKTEZohTCFOH-5PxTlaHyaaBksj_ivzkN3szKQxiMEIPgHFngw1vwz_gF" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Takes splatted input. Returns the entire double-reduction.</p>
<h2>How?</h2>
<p>Once one all but ignores the confusing double indexing there is an obvious rather simple recursion.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 24 bytes</h1>
<pre><code>⊞υ⁰ＦＥΦθκ⁻ι§θκ≔⁺υ⁻ιυυＩΦυκ
</code></pre>
<p><a href="https://tio.run/##S85ILErOT8z5/z@gtDhDo1RHwUDTmistv0hBwzexQMMtM6cktUijUEchW1NHwTczr7RYI1NHwbHEMy8ltQIiDgQKjsXFmel5GgE5QPlSJIWlmpogwporoCgzr0TDObG4BGZmKUSv9f//0dFGOgrGOgqmOgrmOgqGhrGx/3XLcgA" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation: Adapted from both @Arnauld's and @loopywalt's answers.</p>
<pre><code>⊞υ⁰
</code></pre>
<p>Start with a list of just <code>0</code>.</p>
<pre><code>ＦＥΦθκ⁻ι§θκ
</code></pre>
<p>Loop over the list of differences of the input array.</p>
<pre><code>≔⁺υ⁻ιυυ
</code></pre>
<p>Subtract all of the elements of the output array from the current difference and then concatenate the result onto the output array.</p>
<pre><code>ＩΦυκ
</code></pre>
<p>Output all but the first element of the output array.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/269749/">269749</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




