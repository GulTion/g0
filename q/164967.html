<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::164967</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>568</td><td>Python3</td><td>240626T023857Z</td><td><a href="https://codegolf.stackexchange.com/questions/164967/are-there-mountain-rings/273812#273812">Ajax1234</a></td></tr>
<tr d-ix="1"><td>161</td><td>Clean</td><td>180518T005757Z</td><td><a href="https://codegolf.stackexchange.com/questions/164967/are-there-mountain-rings/165012#165012">Οurous</a></td></tr>
<tr d-ix="2"><td>038</td><td>Jelly</td><td>180517T171244Z</td><td><a href="https://codegolf.stackexchange.com/questions/164967/are-there-mountain-rings/164975#164975">Mr. Xcod</a></td></tr>
<tr d-ix="3"><td>302</td><td>JavaScript Node.js</td><td>180517T173215Z</td><td><a href="https://codegolf.stackexchange.com/questions/164967/are-there-mountain-rings/164976#164976">l4m2</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>Python3, 568 bytes</h1>
<pre class="lang-py prettyprint-override"><code>E=enumerate
M=[(0,1),(0,-1),(1,0),(-1,0)]
def G(n,d):
 q=[i for i in d if d[i]==n]
 while q:
  v=q.pop(0)
  Q,S=[v],[v]
  for x,y in Q:
   for X,Y in M:
    if d.get(t:=(x+X,y+Y))and d[t]&lt;=n and t not in S:Q+=[t];S+=[t];q=[*{*q}-{t}]
  yield S
def f(b):
 d={(x,y):v for x,r in E(b)for y,v in E(r)}
 for i in{*d.values()}:
  for g in G(i,d):
   e={(x+X,y+Y)for x,y in g for X,Y in M}-{*g}
   if all(d.get(t,0)&gt;i for t in e):
    s,*e=e;q=[s];e={*e}
    for x,y in q:t=[u for X,Y in M+[(-1,-1),(1,1),(1,-1),(-1,1)]if(u:=(x+X,y+Y))in e];q+=t;e-={*t}
    if not e:return 1
</code></pre>
<p><a href="https://tio.run/##hVRNb@IwED2vf8WoFxwIKCYJCXSzt6qnXani0oqNVlQxNBINkAS2qOK3szNjE0BKtbIce958vZkxbA7127rw4015Oj0kuti963Jea/EzmUnPVY6L3z4dyvXw26cjFZlewKMs3MyZCNgmsxwW6xJyyAvIIF9ANsvTJClSAX/f8pWGLZrBPtkONuuN9BwUntxpMtunLm6UyPvDPZD/E5ky8Oy@EPCTAY46WOpa1pNEfvSe3UPvxXHmRYbJ6vR7UgDdayjWNXlNJ0@9BBX3U3Mgye5nd3vsf9ZHynjI9SqDKVeykK9UR5Z8SiThTPaWT0mBHlBJ4sHdG7F0jqIp97ObDfbz1U5X0jlObCVLMnyUuWkPgKbAlvFVpcubKpFZd3kUptL5aiVttdjvH6a9XJc2IaFyuzrRVFaV3mOCrmbf605uJ3Uy290k6c1ognae5stCn6Q0X8jddXMpHXaul9T3uo8p6uN5EtRkPSl1vSsLUKdKQQJ3d3cigAhGEEIsRjAEHxSEePPxTrcINRHEMBJkWw2tk2ID3HgbsQndIkQiCBiLITg7@VdOSlAG394JFVVg9ZQrBptRUIAAk9COkJFCHWlJCiHgW4hRQpSIAiUNULLEiAhGoRgjvLM162LctGJBsSkmkY0N1dBSCbkpRkXpfEskYCo@tyTkBsVMw4SNUPI5ZGwtFZ4KF6ULwayIY5rSR5BwZ0IPVIQ79ASfI5ZvcOMQNb00VSpBZ8CjoJM6419hFzuuL26GHloD0zxyumDWuRnQuElqF4fl/R@MkyrP@vtgFz8CxQ/Btz26xc52xl81/gEvn8fKUmMb3GBnO@M/PNNHdmiCGn7jOAkcBYwBFLYaUyN3JIFsQqFwdhGoGNQYhp4Y4ovBjuATwFmbZ81/Q/X6z@t6Xmaywt/4N/vjms267/ONzIvahXxQbVZ5LR0nbf5uF/mq1qX8tS60C5U16PwuOmgkxKZER7mQl9DKcZwWeNgO@@1w0A6H7fDoAnf6nW7gtRlF7b5xOzxuh5X3Bf5F1YrKPv0D" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/Ourous/curated-clean-linux" rel="nofollow noreferrer">Clean</a>, <s>224</s> ... 161 bytes</h1>

<pre><code>import StdEnv,StdLib
p=prod
~ =map
^ =reverse o$
@ =transpose o~(^o^)
$l=:[h:t]|h&gt;1=l=[1: $t]
$e=e
?m=p[p(~p(limit(iterate(@o@)(~(~(\a|a&gt;b=2=0))m))))\\n&lt;-m,b&lt;-n]
</code></pre>

<p><a href="https://tio.run/##RZBNi8IwEIbv@RWB7aGFFKzaD8Soh93DgjePtYVY4xpoPohRdkH60zc7aRfMMJN5eJPJS7qeM@WlPt97jiUTygtptHX44M4f6kFg24sTMtRYfUYDppIZ1GJq@YPbG8c6QjtMnWXqZnTgIW51m6Cop6v6unLN87rJaE/rbIUj16CIU462kpraxIOJeyGFi4Xjljke7/QuiQeII3uyzYnO6SxJZALreFTrVJLTOlWNPzhmHXoDu86Kb0xxXZckJxUJtSRVQ@qKLCHmY5bABclADycmzkEJfU4WJB@5gD6Duhx5AVrIEjjMC9MKoPHOv15Bhgh6eCnML0JtGjB3uavOCa3A3hbRF06m/W936dnXzaefe//@o5gU3QTTh/v06vPZTP4B" rel="nofollow noreferrer" title="Clean – Try It Online">Try it online!</a></p>

<p>Defines the function <code>? :: [[Int]] -&gt; Int</code>, returning <code>0</code> if there is an ring, and <code>1</code> otherwise.</p>

<p>Works by turning the matrix into <code>2</code>s for mountains and <code>0</code>s for valleys, then floods in with <code>1</code>s until the result stops changing. If any <code>0</code>s still exist for any mountain height, the product will be <code>0</code>.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 38 <a href="https://github.com/DennisMitchell/jellylanguage/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>

<pre><code>Ẇ€Z$⁺Ẏµ,ZẈ&gt;2ẠµƇµḊṖZƊ⁺FṀ&lt;,Z.ịḊṖ$€Ɗ€ƊȦ)Ṁ
</code></pre>

<p><a href="https://tio.run/##lVO9TsMwEN77FB66IFmoju06SIiRh0iUkQX1BdiAgVZFYmRmYmKtRMNWpIrXcF8knO8nTls6IFmn@PPn777zXW5vZrO7rovt0@7xoxrvHtrYvmxWuort4qqI7dtmtZ1vVvFzGdev1XYJhOu4vr/U1Xn8eiZ4DFfhJIWf9zM47b7nsOu6eqRUXTutglZTrbxWZaNVDZ@FVlYrAxgDFjEBApIhlnCxaTTqGGGlmFhGVEMGAh5DdJkBIu5Ix6Rz8mCZiiiTyEGJUmwlsUjKoQ2KgQswyKYLAnskEeBR3zNMvsmeYzgXRwVwSso3RYylMrvESAvZ5IucUOmllOSlD/2RmLSDelwuyUoLfO5MKcX0yQPDVtKWeyIGdwaXmPSo4AdNDn1z/ASoIQU/wb7g95RQBPYYuaf92xl@B4uZZVhoRx2xfzL2NVg432FW3zzROWJk1YGOkTcwbNDIwBcZ@BeDhS2m4pVn2uTJtoMmnGQMNLKwk2XzIDJ8eM2dYgw0Dnvl8u9PU3ABlqjHyVwqO1lNzpFn0jgB0wDVALdAbpGmP712mt80mPCjj5pf" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>

<p>Outputs <strong>1</strong> if the matrix contains mountain ranges, <strong>0</strong> otherwise.</p>

<h2>How it works (slightly outdated)</h2>

<p>I may be able to shorten the code a bit, so this section will probably undergo heavy editing.</p>

<p><strong>The helper link</strong></p>

<pre><code>,Z.ịḊṖ$€Ɗ€ – Helper link. Let S be the input matrix.
,Z         – Pair S with its transpose.
        Ɗ€ – For each matrix (S and Sᵀ), Apply the previous 3 links as a monad.
  .ị       – Element at index 0.5; In Jelly, the ị atom returns the elements at
             indices floor(x) and ceil(x) for non-integer x, and therefore this
             returns the 0th and 1st elements. As Jelly is 1-indexed, this is the
             same as retrieving the first and last elements in a list.
    ḊṖ$€   – And for each list, remove the first and last elements.
</code></pre>

<p>For example, given a matrix in the form:</p>

<pre><code>A(1,1) A(1,2) A(1,3) ... A(1,n)
A(2,1) A(2,2) A(2,3) ... A(2,n)
A(3,1) A(3,2) A(3,3) ... A(3,n)
...
A(m,1) A(m,2) A(m,3) ... A(m,n)
</code></pre>

<p>This returns the arrays (the order doesn't matter):</p>

<pre><code>A(1,2), A(1,3), ..., A(1,n-1)
A(m,2), A(m,3), ..., A(m,n-1)
A(2,1), A(3,1), ..., A(m-1,1)
A(2,n), A(3,n), ..., A(m-1,n)
</code></pre>

<p>Long story short, this generates the outermost rows and columns, with the corners removed.</p>

<p><strong>The main link</strong></p>

<pre><code>Ẇ€Z$⁺Ẏµ,ZẈ&gt;2ẠµƇµḊṖZƊ⁺FṀ&lt;ÇȦ)Ṁ – Main link. Let M be the input matrix.
Ẇ€                           – For each row of M, get all its sublists.
  Z$                         – Transpose and group into a single link with the above.
    ⁺                        – Do twice. So far, we have all contiguous sub-matrices.
     Ẏ                       – Flatten by 1 level.
      µ      µƇ              – Filter-keep those that are at least 3 by 3:
       ,Z                      – Pair each sub-matrix S with Sᵀ.
         Ẉ                     – Get the length of each (no. rows, no. columns).
          &gt;2                   – Element-wise, check if it's greater than 2.
            Ạ                  – All.
               µ          )  – Map over each sub-matrix S that's at least 3 by 3
                ḊṖ           – Remove the first and last elements.
                  ZƊ         – Zip and group the last 3 atoms as a single monad.
                    ⁺        – Do twice (generates the inner cells).
                     FṀ      – Flatten, and get the maximum.
                       &lt;Ç    – Element-wise, check if the results of the helper
                               link are greater than those in this list.
                         Ȧ   – Any and all. 0 if it is empty, or contains a falsey
                               value when flattened, else 1.
                           Ṁ – Maximum.
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 302 bytes</h1>



<pre class="lang-javascript prettyprint-override"><code>a=&gt;a.some((b,i)=&gt;b.some((n,j)=&gt;(Q=(W=(i,j,f)=&gt;[a.map((b,I)=&gt;b.map((t,J)=&gt;I==i&amp;J==j)),...a+0].reduce(A=&gt;A.map((b,I)=&gt;b.map((t,J)=&gt;f(I)(J)&amp;&amp;(A[I-1]||b)[J]|(A[I+1]||b)[J]|b[J-1]|b[J+1]|t))))(i,j,I=&gt;J=&gt;a[I][J]&lt;=n)).some((b,i)=&gt;b.some((d,j)=&gt;d&amp;&amp;!i|!j|!Q[i+1]|b[j+1]==b.b))&lt;!/0/.test(W(0,0,I=&gt;J=&gt;!Q[I][J]))))
</code></pre>

<p><a href="https://tio.run/##fVJNb@IwEL37V5gL2CKkMbFJKtWRuCAll6qnHrJIJJCuElGCSHbVA/@dnZkYCtLuxnLGM/P85stN8bvotqf62M8O7a66rOylsEnhd@1nJUTp1dImpdMOXgOaeLPi3Yraa7wPUPPC/yyOCE0JSkrvZaCk1tbjzNpGSs/3/WIarP1Ttfu1rcTSJst/3vsQqRSZHI/FMk9nan0@lzLP1mdUp99qmWfoBIHGXsJHWaU2yaCEPF0D6sUepPxrNTuqZjcej@rzqDmP3vJ6SnQNCGtLv5TyZfQUPPl91fXiXQRe4LgBS@QY8rJ6fbVfNtm2h67dV/6@/SlW4svvjvu6F5Mfh4mk2nqb9Fcjd7Zjceqq1b4tKHkGTGITcs0ND1nIFZ@D1PBXJEO@4GbjYJpHqPKYLRAGEAOnkMCGReCJeMwXV7giF2ym6FpEpwgsEddkiyHuA1xRCiGj89WBxDF39AzvYH64IwivwIde1AzXdIJaICFDUTEOVMdcLhgbWJBjAWdCky@GjStmyI2cmF98TcJQ7YMRA4UuBU1JhFS5oT7ElMBAGIEWElnskAqkojbHwDIsvBvd2mACriLYJmAkF6SzOztA7yc/meE3ubVxqFMxlJr6P8wXzne2G@57usa5hsZpegDmjuIBrrhbxESb/de2uT02t2jWiuYdur482tza3L1S7dLSVIe@gfSDzeE2Dy3R9Fqx189cQT8hCuQH8SCwYQpGE3EVc/XM5wGbw1OAcmHCMEp8opc/" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>

<p>Checks if flowing from a point can't reach the border, while border can walk to every point</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/164967/">164967</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




