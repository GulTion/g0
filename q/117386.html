<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::117386</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>nan</td><td></td><td>240703T093743Z</td><td><a href="https://codegolf.stackexchange.com/questions/117386/google-autocomplete-fun/273904#273904">Deepak K</a></td></tr>
<tr d-ix="1"><td>071</td><td>Vim 8 + unimpaired.vim</td><td>170424T015037Z</td><td><a href="https://codegolf.stackexchange.com/questions/117386/google-autocomplete-fun/117402#117402">Brian Mc</a></td></tr>
<tr d-ix="2"><td>068</td><td>Zsh + coreutils + w3m</td><td>170423T220647Z</td><td><a href="https://codegolf.stackexchange.com/questions/117386/google-autocomplete-fun/117392#117392">Dennis</a></td></tr>
<tr d-ix="3"><td>111</td><td>R</td><td>170424T203855Z</td><td><a href="https://codegolf.stackexchange.com/questions/117386/google-autocomplete-fun/117513#117513">Billywob</a></td></tr>
<tr d-ix="4"><td>115</td><td>PowerShell</td><td>170424T081037Z</td><td><a href="https://codegolf.stackexchange.com/questions/117386/google-autocomplete-fun/117415#117415">Andrei O</a></td></tr>
<tr d-ix="5"><td>122</td><td>Groovy</td><td>170424T173848Z</td><td><a href="https://codegolf.stackexchange.com/questions/117386/google-autocomplete-fun/117484#117484">Magic Oc</a></td></tr>
<tr d-ix="6"><td>103</td><td>Python + requests</td><td>170423T214152Z</td><td><a href="https://codegolf.stackexchange.com/questions/117386/google-autocomplete-fun/117389#117389">ovs</a></td></tr>
<tr d-ix="7"><td>111</td><td>C#</td><td>170424T110334Z</td><td><a href="https://codegolf.stackexchange.com/questions/117386/google-autocomplete-fun/117421#117421">FatalMer</a></td></tr>
<tr d-ix="8"><td>127</td><td>C#</td><td>170424T144102Z</td><td><a href="https://codegolf.stackexchange.com/questions/117386/google-autocomplete-fun/117459#117459">TheLetha</a></td></tr>
<tr d-ix="9"><td>109</td><td>JavaScript</td><td>170424T001112Z</td><td><a href="https://codegolf.stackexchange.com/questions/117386/google-autocomplete-fun/117399#117399">bren</a></td></tr>
</table>
<div id="pu0" class="pu"><p>Google Autocomplete can be quite entertaining! Here are a few fun ways to use it:</p>
<p>Predictive Search Game:</p>
<p>Type the beginning of a phrase like &quot;Why do dogs&quot; and note the funniest or most surprising suggestions.
Autocomplete Stories:</p>
<p>Begin with a phrase like &quot;Once upon a time,&quot; choose an autocomplete suggestion, and keep going to create a quirky story.
Autocomplete Challenges:</p>
<p>Compete with friends to see who can come up with the funniest or most bizarre search completions.
Learning Trends:</p>
<p>Discover trending questions and topics by typing &quot;How to&quot; or &quot;What is.&quot;
Try these and enjoy the unexpected results!</p>
</div>
<div id="pu1" class="pu"><h1>Vim 8 + <a href="https://github.com/tpope/vim-unimpaired" rel="nofollow noreferrer">unimpaired.vim</a>, <strike>93</strike> <strike>89</strike> <strike>85</strike> <strike>70</strike> <strike>73</strike> 71 bytes</h1>

<ul>
<li>-4 bytes thanks to tsh</li>
<li>-2 bytes thanks to Ian Emnace</li>
<li>-2 bytes thanks to FatalMerlin</li>
<li>-1 byte thanks to tsh/ckjbgames</li>
</ul>



<pre><code>:s/ /+/g
D:e http://google.us/complete/search?client=gma&amp;q="
d3f";D]yy
</code></pre>

<p>As a bonus, the last bytes look like they're winking at you <code>;D</code> Since this contains non-printing characters, the explanation contains substitutions (and I've replaced the pre-querystring part of the url with <code>[url]</code>, for brevity):</p>

<pre><code>:s/ /+/g&lt;CR&gt;D:e [url]?client=gma&amp;q=&lt;C-R&gt;"&lt;CR&gt;d3f";D]yy
:s/ /+/g&lt;CR&gt;                                           " Replace spaces with +
            D                                          " Delete and yank result
             :e                                        " Type :e ('edit' command) and a space
                [url]?client=gma&amp;q=                    " Type the url, except the query
                                   &lt;C-R&gt;"              " Paste from the default register
                                         &lt;CR&gt;          " Execute the command, which opens the response
                                                       "   in a new buffer
                                             d3f"      " Delete through the first three quotation marks
                                                       "   This deletes everything before the suggestion
                                                 ;     " Repeat motion; this jumps to the next \"
                                                  D    " Delete everything from there, leaving only the suggestion
                                                   ]yy " unimpaired.vim C string unescape to handle escaped '
</code></pre>

<p>As far as running goes, it works fine if you save it to a file named <code>script</code> and run with <code>vim -s script input.txt</code> on macOS, at least. It doesn't work if you add <code>-u NONE</code>, but it works fine if my <code>.vimrc</code> is empty. I assume it is using something from the system <code>.vimrc</code> to make the URL stuff work. This means, however, that it doesn't work in V, so no TIO link.</p>

<p>Some more test cases:</p>

<pre><code>'what' =&gt; 'whataburger'
'what ' =&gt; 'what time is it' (Seriously? People Google that?)
</code></pre>

<hr>

<p>What I really need is a way to open a URL with spaces in it. Replacing them with <code>+</code> first is just too many bytes!</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.zsh.org/" rel="nofollow noreferrer">Zsh</a> + coreutils + w3m, <s>88</s> <s>71</s> 68 bytes</h1>

<pre class="lang-zsh prettyprint-override"><code>echo `w3m "google.com/complete/search?client=gma&amp;q=$*"|cut -d\" -f4`
</code></pre>

<p>Switching from Bash to Zsh saved 3 bytes.</p>

<p><em>Thanks to @FatalMerlin for the shorter URL, saving 17 bytes!</em></p>

<h3>Sample run</h3>

<pre><code>$ zsh complete.sh how to
how to make slime
$ zsh complete.sh dont you
don't you forget about me
$ zsh complete.sh don\'t you
don't you worry child
</code></pre>
</div>
<div id="pu3" class="pu"><h2>R, 111 bytes</h2>

<p>Long time since I last came here but giving it a shot:</p>

<pre><code>jsonlite::fromJSON(readLines(url(paste0("http://google.com/complete/search?client=gma&amp;q=",scan(,"")))))[[2]][1]
</code></pre>

<p>Using the package <code>jsonlite</code> to convert the string fetched from <code>readLines()</code> into a list object.</p>

<p>Subsequently extract the second element, e.g (gives a warning that we don't have to care about):</p>

<pre><code>&gt; jsonlite::fromJSON(readLines(url(paste0("http://google.com/complete/search?client=gma&amp;q=",scan(,"")))))[[2]][1]
1: "how to"
2: 
    Read 1 item
[[1]]
[1] "how to make slime"

Warning message:
    In readLines(url(paste0("http://google.com/complete/search?client=gma&amp;q=",  :
                                incomplete final line found on 'http://google.com/complete/search?client=gma&amp;q=how to'
</code></pre>
</div>
<div id="pu4" class="pu"><h1>PowerShell, <strike>133</strike> 115 bytes</h1>
<pre><code>([net.webclient]::new().downloadstring(&quot;http://google.com/complete/search?client=gma&amp;q=$_&quot;)|convertfrom-json)[1][0]
</code></pre>
<p><strong>Sample run</strong></p>
<p><strong>Windows CMD command line:</strong></p>
<pre><code>powershell.exe -c &quot;'code golf l'|%{([net.webclient]::new().downloadstring(&quot;&quot;&quot;&quot;http://google.com/complete/search?client=gma&amp;q=$_&quot;&quot;&quot;&quot;)|convertfrom-json)[1][0]}&quot;
</code></pre>
<p><strong>PowerShell console:</strong></p>
<pre><code>'code golf l'|%{([net.webclient]::new().downloadstring(&quot;http://google.com/complete/search?client=gma&amp;q=$_&quot;)|convertfrom-json)[1][0]}
</code></pre>
</div>
<div id="pu5" class="pu"><h1>Groovy, 122 bytes</h1>
<pre><code>{Eval.me(new URL(&quot;http://suggestqueries.google.com/complete/search?client=chrome&amp;q=&quot;+it).text.split(&quot;,\\{&quot;)[0]+&quot;]&quot;)[1][0]}
</code></pre>
<p>Basically:</p>
<ol>
<li><p>Get the text from the end-point.</p>
</li>
<li><p>Remove the part with the brackets at the end, this isn't valid syntax.</p>
</li>
<li><p>Parse the remaining bit as a groovy array.</p>
</li>
<li><p>Grab the second element of the result array.</p>
</li>
</ol>
<p><a href="https://i.sstatic.net/3Wf35.png" rel="nofollow noreferrer"><img src="https://i.sstatic.net/3Wf35.png" alt="enter image description here" /></a></p>
</div>
<div id="pu6" class="pu"><h1>Python + <a href="http://docs.python-requests.org/en/master/" rel="nofollow noreferrer">requests</a> <s>121</s> <s>117</s> 103 bytes</h1>



<pre class="lang-python prettyprint-override"><code>from requests import*
lambda s:get("http://google.com/complete/search?client=gma&amp;q="+s).json()[1][0][0]
</code></pre>
</div>
<div id="pu7" class="pu"><h1>C#, <strike>192</strike> <strike>112</strike> 111 Bytes</h1>

<p>Saved 80 Bytes thanks to @TheLethalCoder. Thanks for reformatting my code, I didn't know it was allowed to just leave off the surrounding Class and Method Body :)</p>

<p>Saved another Byte by replacing <code>gma</code> by <code>hp</code>, as it doesn't matter for the parsing and there is just some gibberish before the response body.</p>

<p>I litterally brute-forced the API to find <code>gma</code> and <code>hp</code>.
</p>

<pre><code>s=&gt;new System.Net.WebClient().DownloadString("http://google.com/complete/search?client=hp&amp;q="+s).Split('"')[3];
</code></pre>
</div>
<div id="pu8" class="pu"><h2>C#, 127 bytes</h2>

<pre><code>s=&gt;new System.Net.WebClient().DownloadString("http://suggestqueries.google.com/complete/search?client=gma&amp;q="+s).Split('"')[3];
</code></pre>

<p>Complete and formatted version:</p>

<pre><code>static void Main()
{
    System.Func&lt;string, string&gt; f = s =&gt;
        new System.Net.WebClient()
                      .DownloadString("http://suggestqueries.google.com/complete/search?client=gma&amp;q="+s)
                      .Split('"')[3];

    System.Console.WriteLine(f("you"));
    System.Console.ReadLine();
}
</code></pre>
</div>
<div id="pu9" class="pu"><h1>JavaScript, 109 Bytes</h1>

<pre><code>q=&gt;fetch("//suggestqueries.google.com/complete/search?client=chrome&amp;q="+q).then(r=&gt;r.json()).then(r=&gt;r[1][0])
</code></pre>

<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" rel="noreferrer"><code>Promise</code></a>, you gotta love it, but man is it verbose! This answer uses <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API" rel="noreferrer"><code>fetch()</code></a>, a promise-based fetch API present in modern browsers. Promises work by establishing handlers for async actions at the beginning, like callbacks, but better. The <code>.then()</code> takes a function which will be called with the result of the async action. <code>.then(r=&gt;r.json())</code> uses the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Body/json" rel="noreferrer"><code>.json()</code></a> response method to convert the text array to a manipulable variable, the second <code>.then()</code> just pulls the first response.</p>

<p>Usage:</p>

<pre><code>S = q=&gt;fetch("//suggestqueries.google.com/complete/search?client=chrome&amp;q="+q).then(r=&gt;r.json()).then(r=&gt;r[1][0])

S("node.js").then(console.log); // Prints the result to the debug console
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/117386/">117386</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




