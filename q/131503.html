<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::131503</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>093</td><td>Bash</td><td>240726T135229Z</td><td><a href="https://codegolf.stackexchange.com/questions/131503/is-it-a-weak-prime/274456#274456">Themooni</a></td></tr>
<tr d-ix="1"><td>052</td><td>R</td><td>240726T105056Z</td><td><a href="https://codegolf.stackexchange.com/questions/131503/is-it-a-weak-prime/274455#274455">pajonk</a></td></tr>
<tr d-ix="2"><td>076</td><td>R</td><td>240726T071436Z</td><td><a href="https://codegolf.stackexchange.com/questions/131503/is-it-a-weak-prime/274450#274450">int 21h </a></td></tr>
<tr d-ix="3"><td>056</td><td>JavaScript Node.js</td><td>240726T083830Z</td><td><a href="https://codegolf.stackexchange.com/questions/131503/is-it-a-weak-prime/274453#274453">l4m2</a></td></tr>
<tr d-ix="4"><td>015</td><td>Husk</td><td>201010T162303Z</td><td><a href="https://codegolf.stackexchange.com/questions/131503/is-it-a-weak-prime/212274#212274">Razetime</a></td></tr>
<tr d-ix="5"><td>047</td><td>Regex most flavors</td><td>190329T172858Z</td><td><a href="https://codegolf.stackexchange.com/questions/131503/is-it-a-weak-prime/182430#182430">Grimmy</a></td></tr>
<tr d-ix="6"><td>081</td><td>Python 2</td><td>170904T043332Z</td><td><a href="https://codegolf.stackexchange.com/questions/131503/is-it-a-weak-prime/141514#141514">miles</a></td></tr>
<tr d-ix="7"><td>064</td><td>Julia 0.6</td><td>170710T051234Z</td><td><a href="https://codegolf.stackexchange.com/questions/131503/is-it-a-weak-prime/131681#131681">Tanj</a></td></tr>
<tr d-ix="8"><td>022</td><td>braingasm</td><td>170710T174539Z</td><td><a href="https://codegolf.stackexchange.com/questions/131503/is-it-a-weak-prime/131782#131782">daniero</a></td></tr>
<tr d-ix="9"><td>098</td><td>JavaScript</td><td>170710T023910Z</td><td><a href="https://codegolf.stackexchange.com/questions/131503/is-it-a-weak-prime/131670#131670">traktor</a></td></tr>
<tr d-ix="10"><td>078</td><td>GNU APL 1.2</td><td>170709T142212Z</td><td><a href="https://codegolf.stackexchange.com/questions/131503/is-it-a-weak-prime/131630#131630">Arc676</a></td></tr>
<tr d-ix="11"><td>013</td><td>MATL</td><td>170708T170932Z</td><td><a href="https://codegolf.stackexchange.com/questions/131503/is-it-a-weak-prime/131516#131516">Luis Men</a></td></tr>
<tr d-ix="12"><td>154</td><td>JavaScript ES6</td><td>170708T200434Z</td><td><a href="https://codegolf.stackexchange.com/questions/131503/is-it-a-weak-prime/131544#131544">Евгений </a></td></tr>
<tr d-ix="13"><td>092</td><td>Python 2</td><td>170708T211633Z</td><td><a href="https://codegolf.stackexchange.com/questions/131503/is-it-a-weak-prime/131555#131555">Chas Bro</a></td></tr>
<tr d-ix="14"><td>120</td><td>Python 2.7</td><td>170708T213816Z</td><td><a href="https://codegolf.stackexchange.com/questions/131503/is-it-a-weak-prime/131557#131557">Joe Habe</a></td></tr>
<tr d-ix="15"><td>041</td><td>Perl 6</td><td>170708T210521Z</td><td><a href="https://codegolf.stackexchange.com/questions/131503/is-it-a-weak-prime/131554#131554">Sean</a></td></tr>
<tr d-ix="16"><td>149</td><td>Python 3</td><td>170708T185426Z</td><td><a href="https://codegolf.stackexchange.com/questions/131503/is-it-a-weak-prime/131536#131536">wrymug</a></td></tr>
<tr d-ix="17"><td>069</td><td>PHP</td><td>170708T204038Z</td><td><a href="https://codegolf.stackexchange.com/questions/131503/is-it-a-weak-prime/131547#131547">J&#246;r</a></td></tr>
<tr d-ix="18"><td>042</td><td>Maxima</td><td>170708T175357Z</td><td><a href="https://codegolf.stackexchange.com/questions/131503/is-it-a-weak-prime/131529#131529">rahnema1</a></td></tr>
<tr d-ix="19"><td>053</td><td>Octave</td><td>170708T174717Z</td><td><a href="https://codegolf.stackexchange.com/questions/131503/is-it-a-weak-prime/131528#131528">rahnema1</a></td></tr>
<tr d-ix="20"><td>084</td><td>Octave</td><td>170708T165141Z</td><td><a href="https://codegolf.stackexchange.com/questions/131503/is-it-a-weak-prime/131510#131510">Steadybo</a></td></tr>
<tr d-ix="21"><td>015</td><td>Pyth</td><td>170708T172204Z</td><td><a href="https://codegolf.stackexchange.com/questions/131503/is-it-a-weak-prime/131522#131522">Erik the</a></td></tr>
<tr d-ix="22"><td>009</td><td>Jelly</td><td>170708T164951Z</td><td><a href="https://codegolf.stackexchange.com/questions/131503/is-it-a-weak-prime/131508#131508">Jonathan</a></td></tr>
<tr d-ix="23"><td>017</td><td>05AB1E</td><td>170708T170342Z</td><td><a href="https://codegolf.stackexchange.com/questions/131503/is-it-a-weak-prime/131514#131514">Erik the</a></td></tr>
<tr d-ix="24"><td>007</td><td>Jelly</td><td>170708T165341Z</td><td><a href="https://codegolf.stackexchange.com/questions/131503/is-it-a-weak-prime/131511#131511">PurkkaKo</a></td></tr>
<tr d-ix="25"><td>009</td><td>Jelly</td><td>170708T164144Z</td><td><a href="https://codegolf.stackexchange.com/questions/131503/is-it-a-weak-prime/131506#131506">Erik the</a></td></tr>
<tr d-ix="26"><td>024</td><td>Mathematica</td><td>170708T164123Z</td><td><a href="https://codegolf.stackexchange.com/questions/131503/is-it-a-weak-prime/131505#131505">Martin E</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.gnu.org/software/bash/" rel="nofollow noreferrer">Bash</a>, 93 bytes</h1>
<pre class="lang-bash prettyprint-override"><code>n()(for((i=$1;`factor $i|wc -w`&gt;2;i+=$2)){
:;}
echo $i)
((`n $[$1+2] 2`+`n $[$1-2] -2`&gt;2*$1))
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=TU9BboMwELz7FSPVCnYRB-O0bkBU_UeEZIfiBiUCCag4AC_phUP6od76m5pAJQ6r3dnd2dn5up1Mc55ulnH2_dna4OU3LV1tq5qxIqEi1tZkbVWDFkOXIej0axgXfkJDznsSxSPJs3PlppwwpkvQIxV-mCLU_ooCh4LQ0R6p4HwV-eHkQUoFKSSelIjQ5ebiWkpCqL3CQakIJ3M1ZZa_g5VVe9-YWeqAvYtnISM0bV2VH9t5Zpq8SRg2x7G9ig2fE2cTBQr3aH8nHt_SMe4JVk-IoO2cd7ul5c0iHoZhhf-6nibj4myalvwH" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>uses coreutils' <code>factor</code>.</p>
<p>Use as bash script or body of a bash function, takes in n as first argument and exit code is set truthy if n is a weak prime, falsey otherwise.</p>
<p>explanation:</p>
<pre class="lang-bash prettyprint-override"><code>n()(                                      #define a new function called n
    for((i=$1;`factor $i|wc -w`&gt;2;i+=$2)){ #a for loop that finds the next prime after $1, moving in steps of $2
:;} #(notice this allows for finding previous primes too by setting $2 to -2.)
echo $i) #echo the found prime, end function declaration
((`n $[$1+2] 2`+`n $[$1-2] -2`&gt;2*$1)) #test if prevPrime(n) + nextPrime(n) &gt; 2n, using our function and feeding it n+2,2 and n-2,-2 as parameters.
#implicit: function or script exit code is set as the exit code of the last command.
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, 52 bytes</h1>
<pre class="lang-r prettyprint-override"><code>`?`=\(n,i=1,k=n+i)`if`(sum(!k%%2:k)&lt;2,i&lt;0,n?(i&lt;0)-i)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=XY9BCsIwEEX3niIuCglOoUmbppGGXsRFRAiE2lKsXXgWN1XwEt7E2zhDiwsXyf8Z3v9D7o_L_AzuNV1DWn0K33h34D1EJ6F1_S4KH4Pn49TxbZskat-KWkGsM-gbjiLSKNbsezwOw_nGTzwHZoBJFGmBKdRcAitQC5yX6A36io4VwILY_KIamKacpgKilERc0VOVVEQzTU5bvMrM_BUQLom2BONGSSiS6A1tRm-pPCNwjS8_mOdFvw" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, <a href="https://ato.pxeger.com/run?1=LYxRCoJAFEW3Mn0I8-ANNKOlxUy0AVegBkMyqKhIKtpa-rEPF9VuemEfl3M5F-7r_VhWx7Rg6zg4EX3ilLc4G3Vubwpzk5fOcavFnDS26-onT3kF_djwXeV5M2iFM2QAeTJpMRXlveDWmBayCxkhs__pNbYdd1iX_cB9ZCEySZAnZIroS2QBMSB_pB5Sj36hXe6RHQC2n2XZ-AU" rel="nofollow noreferrer"><s>77</s></a> 76 bytes</h1>
<ul>
<li>-1 byte thanks to <a href="https://codegolf.stackexchange.com/users/64121/ovs">ovs</a></li>
</ul>
<pre class="lang-r prettyprint-override"><code>\(n,x=2:n^2,d=diff(a&lt;-x[mapply(\(j)sum(!j%%x)&lt;2,x)]))d[w&lt;-match(n,a)]&gt;d[w-1]
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=LYxRCoJAGISvsj0I-8O_0K6WFmt0gDqBGizJkqIiqbSdpZftwUN1m_6wh-EbZph5ve9-tkwLNk-jFcnnlPMOXar23UVhmZaVtdxo4bLW9H3z5DmvYZhavqqDwIFW6KAAKLOHFq0ZrzdaGygOFAhZ_D-PZ9Nzi001jDxEFiOTBLlDpoihRBYRI8q35GPyyU_UyzWyDcDy4_3CLw" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Outputs <code>TRUE</code> for the weak primes, <code>FALSE</code> for the non-weak and a <code>NA</code> for the composite numbers.</p>
<p>Ungolfed and commented:</p>
<pre><code>\(n){

# construct a vector from 2 to n^2,
# which includes the next prime number
x &lt;- 2:n^2                       

# find the prime numbers: 
m &lt;- mapply(\(j)sum(!j%%x)&lt;2, x) 

# subset to the prime numbers only
a &lt;- x[m]                        

# calculate a vector of the differences 
d &lt;- diff(a)                    

# find the position of n in the vector of the primes 
w &lt;- match(n,a)                 

# compare two differences
d[w] &gt; d[w-1]                    
}
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 56 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>f=(x,i=1)=&gt;P(e=x+i)?i&lt;0:f(x,(i&lt;0)-i)
P=x=&gt;e%--x?P(x):x&lt;2
</code></pre>
<p><a href="https://tio.run/##FYpBCsIwEADvviIXIYsbMS0ilm77hdzFQ6mJpNSstCr7@5ieZhhmGn7DOi7x/TGJHz7nQFowkgXqnPYkhwh9bE9NKFkXARNh50io83tjpHdaoJG2yoEXpdP3pTioW4U1nvGC1qKt0Ra53kGNnFae/XHm53aiChsA8h8" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>Nothing</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a>, 15 bytes</h1>
<pre><code>&gt;D¹Σ§e₁←₁→
ḟṗt¡
</code></pre>
<p><a href="https://tio.run/##yygtzv7/387l0M5ziw8tT33U1PiobQKYnMT1cMf8hzunlxxa@P//f2MA" rel="nofollow noreferrer" title="Husk – Try It Online">Try it online!</a></p>
</div>
<div id="pu5" class="pu"><h1>Regex (most flavors), 47 bytes</h1>

<pre><code>^(?=(x*)(?!(x+)(\2\2x)+$)\1)x+(?!(xx+)\4+$)\1\1
</code></pre>

<p><a href="https://tio.run/##TY3BTsJAFEX37yuAmPAeleK0haHUgZULNix0aTWZwFBGh2kzHaEifjtWEhMXN7k55yb3TR5kvXa68sO60hvl9qV9V58XJ6w6dh5V8dBUiCcxHw0ur7gQ2AwIF11sAsI8yqOGghvKGTXBlbY4T64kZ5fB6EShL5@807ZACmuj1wont8OEKDvutFGIRjglN0ZbhURdYT@Moa9CmLCujPbYH/Yp01tEK4rQKFv4Hc2j81nXK7lCLSrparW0HovnuxeiP6H@CztnCzb71eR3rjz2lvYgjd50nLSFmnV6gcm2pcNM3wuV6SCg9rDX9EKnKiU9agr30q936IjWpa1Lo0JTFi3Pvi8RxDAGDowBi4G1JYUohiiFmEHMIWGQxJBwGLe7FCYMJhw4Ax4DT2EawzSFlEOasjb8Bw" rel="nofollow noreferrer">Try it online!</a></p>

<p>Takes input in unary. Outputs a match for weak primes, no match for non-weak primes. Works in ECMAScript, Perl, PCRE, Python, Ruby.</p>

<p>Explanation:</p>

<p>Let N be the input, A the closest prime &lt; N, and B the closest prime > N. The main difficulty of a regex approach to this challenge is that we can’t represent numbers greater than the input, like B. Instead, we find the smallest b such that 2b + 1 is prime and 2b + 1 > N, which ensures 2b + 1 = B.</p>

<pre><code>(?=
  (x*)              # \1 = N - b, tail = b
  (?!(x+)(\2\2x)+$) # Assert 2b + 1 is prime
  \1                # Assert b ≥ \1 (and thus 2b + 1 &gt; N)
)
</code></pre>

<p>Then, note that we don’t actually need to find A. As long as <em>any</em> prime &lt; N is closer to N than B, N is a weak prime.</p>

<pre><code>x+                  # tail iterates over integers &lt; N
(?!(xx+)\4+$)       # assert tail is prime
\1\1                # assert tail ≥ 2 * \1 (and thus tail + B &gt; 2N)
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, 81 bytes</h1>



<pre class="lang-python prettyprint-override"><code>n=input()
a=b=c=i=2;p=1
while b&lt;n:
 p*=i;i+=1
 if p*p%i:a,b,c=b,c,i
print a+c&gt;2*b
</code></pre>

<p><a href="https://tio.run/##DchBCoAgEEbhvadwE5S5yRZBNt1FpeiHmIYwotObi7f4nnz5uNiVwgSWJ7edChQpEch5oUG9B85Nx4VnpcUQPPp6NfYqaTAHG22imoWSG5x16NPqTCxlGn8" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>

<p>Uses Wilson's theorem for the primality test.</p>
</div>
<div id="pu7" class="pu"><h1>Julia 0.6, 64 bytes</h1>

<pre><code>g(x,i)=0∉x%(2:x-1)?1:1+g(x+i,i);x-&gt;g(x,1)&amp;(g(x-1,-1)&lt;g(x+1,1))
</code></pre>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/daniero/braingasm" rel="nofollow noreferrer">braingasm</a>, <s>23</s> 22 bytes</h1>

<p>Prints <code>1</code> for weak primes and <code>0</code> for not weak.</p>

<pre><code>;&gt;0$+L[-&gt;+&gt;2[&gt;q[#:Q]]]
</code></pre>

<p>Walkthrough:</p>

<pre><code>;                       Read a number to cell 0
 &gt;0$+                   Go to cell 1 and copy the value of cell 0
     L                  Make the tape wrap around after cell 1
      [              ]  Loop:
       -&gt;+&gt;               Decrease cell 1 and increase cell 0
           2[       ]     Twice do:
             &gt;              Go to the other cell
              q[   ]        If it's prime:
                #:Q         Print the current cell number and quit
</code></pre>
</div>
<div id="pu9" class="pu"><h1>JavaScript, 98 bytes</h1>
<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>let test = _=&gt;(o.innerHTML=f(+prime.value))
let f= 

n=&gt;{P=n=&gt;{for(i=n,p=1;--i&gt;1;)p=p&amp;&amp;n%i};a=b=n;for(p=0;!p;P(--a));for(p=0;!p;P(++b));return n-a&lt;b-n}</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>Enter Prime: &lt;input id="prime"&gt;
&lt;button type="button" onclick="test()"&gt;test if weak&lt;/button&gt;
&lt;pre id="o"&gt;&lt;/pre&gt;</code></pre>
</div>
</div>
</p>
<p><strong>Less Golphed</strong></p>
<pre><code>n=&gt;{
   P=  // is a Prime greater than 1, result in p
       n=&gt;{
           for(i=n,p=1;--i&gt;1;)
               p=p&amp;&amp;n%i
       };

   a=b=n; // initialize lower and upper primes to n
   for(p=0;!p;P(--a)); // find lower,
   for(p=0;!p;P(++b)); // find upper,
   return n-a&lt;b-n // is weak result
}
</code></pre>
<p>Note the test code does <em>not</em> check the input &quot;prime&quot; is actually a prime.</p>
</div>
<div id="pu10" class="pu"><h1>GNU APL 1.2, 78 bytes</h1>
<pre><code>∇f N
X←(R←(~R∊R∘.×R)/R←1↓⍳N×2)⍳N
(|R[X-1]-N)&lt;|R[X+1]-N
∇
</code></pre>
<p><code>∇f N</code> declares a function that takes an argument.</p>
<p><code>(~R∊R∘.×R)/R←1↓⍳N×2</code> gives a list of all the primes from 2 to twice the argument. I'm assuming that the next prime is less than twice the original. If this is untrue, <code>N*2</code> gives N squared and takes the same number of bytes (hopefully that's big enough to exceed the next prime). <a href="https://en.wikipedia.org/wiki/APL_(programming_language)#Prime_numbers" rel="nofollow noreferrer">(See Wikipedia's explanation for how the prime-finding works)</a></p>
<p><code>X←(R←(...))⍳N</code> assigns that list to vector <code>R</code> (overwriting its previous contents), finds the index of the original prime <code>N</code> in that list, and then assigns that index to <code>X</code>.</p>
<p><code>|R[X-1]-N</code> computes the difference between the previous prime (because <code>R</code> contains the primes, the <code>X-1</code>th element is the prime before <code>N</code>) and <code>N</code> and then takes the absolute value (APL operates right-to-left).</p>
<p><code>|R[X+1]-N</code> does the same, but for the next prime.</p>
<p><code>(|R[X-1]-N)&lt;|R[X+1]-N</code> prints 1 if the previous prime is closer to the original than the next prime and 0 otherwise. Parentheses are needed for precedence.</p>
<p><code>∇</code> ends the function.</p>
</div>
<div id="pu11" class="pu"><h1><a href="https://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, 13 bytes</h1>

<pre><code>qZq0)G_Yq+GE&gt;
</code></pre>

<p>This outputs <code>1</code> if weak, <code>0</code> otherwise. </p>

<p><a href="https://tio.run/##y00syfn/vzCq0EDTPT6yUNvd1e7/f3NjAA" rel="nofollow noreferrer" title="MATL – Try It Online">Try it online!</a></p>

<h3>Explanation</h3>

<pre><code>q      % Implicit input, Subtract 1
Zq     % Vector of primes up to that
0)     % Get last one
G      % Push input again
_Yq    % Next prime
+      % Add
G      % Push input
E      % Multiply by 2
&gt;      % Greater than? Implicit display
</code></pre>
</div>
<div id="pu12" class="pu"><h1>JavaScript ES6, <s>162</s> 154 bytes</h1>
<p>8 bytes save based on <em>Jörg Hülsermann</em>'s trick &quot;print nothing in one case&quot;. No need to <code>?&quot;Y&quot;:&quot;N&quot;</code> after <code>one&lt;two</code></p>
<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>var isWeak=

a=&gt;{p=[2];i=0;f=d=&gt;{j=p[i];l:while(j++){for(x=0;p[x]*p[x]&lt;=j;x++){if(j%p[x]==0){continue l}}return p[++i]=j}};while(p[i]&lt;a+1){f()};return a*2&lt;p[i]+p[i-2]}

[43,//true
53,//false
7901,//false
7907,//true
1299853,//true
1299869//false
].forEach(n=&gt;{console.log(n,isWeak(n))})</code></pre>
</div>
</div>
</p>
</div>
<div id="pu13" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, <s>122</s> <s>108</s> <s>103</s> <s>94</s> 92 bytes</h1>



<pre class="lang-python prettyprint-override"><code>def a(n):
 r=[2];x=2
 while r[-1]&lt;=n:x+=1;r+=[x]*all(x%i for i in r)
 return sum(r[-3:])&gt;3*n
</code></pre>

<p><a href="https://tio.run/##jZLNattQEIX3foqBUrATFaw7c/XjVH2CLrsTWhiqYFFHDrJD3Kd355tAKGSThefOj@fcc47u89/L4TSn2@33@Cj79bzZrWTp@jQ8XLu0ktfDdBxl6b@Vw/du3l3vu/Jhue/663C3Px7X16@TPJ4WmWSaZdn46nh5WWY5vzytfUl3w@aH3s2352V6Gs8/x/P512E/V3krnfSpEC0kF1IXUpb@86okbwtJnic/1fvqPfPTvGeeZ7Z8Vnmv8rr2s/Ze7b3Gz8bPFpwtoFtQt1G23EOZKDWujIyBETK9TK/if6CXddBi2jBtI9CLO1rIwj4FZZBTCgGUICe4pxyBKcipYgDxVNMDOTWh2YNCVwFV6CqmaDgBXbUImIMTihUKU4WpwlSBUnxQSBpGGPINby2FmRGwFJIW5gJqkDS8NZgayAaoNWTIN0RnjM2AZvAy8jNSc3wjUDIAGakZqRmpGZTcxifkG0KtQm@F1KqMjAH8KovAwOphtfJnNF@k/@/NfXxYE8942gzyRV7H/Z@3nc9uzqfL@zZ5INz@AQ" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>

<p>Uses Pietu's idea... and then saved 28 bytes by golfing shorter prime list iterators; then 2 more by replacing <code>-3*n&gt;0</code> with <code>&gt;3*n</code> (d'oh!) </p>
</div>
<div id="pu14" class="pu"><h2>Python 2.7 - 120 bytes</h2>

<pre><code>from math import*
i=lambda x:factorial(x-1)%x==x-1
def f(n,c):return 1 if i(n-c)&gt;i(n+c) else 0 if i(n+c)&gt;0 else f(n,c+1)
</code></pre>

<p>Since python doesn't have a built-in is prime function, we can use Wilson's theorem to get a nice short prime checker. Wilson's theorem states that a number is prime if and only if (n-1)! is congruent to -1 mod(n). Hence the function i will return 1 if the number is prime and 0 if it's not. Following that the f function will determine if the next prime from that number occurs first when incremented down rather than incremented up. If neither of the incremented numbers prime, it's just recursively called again.</p>

<p>Some example I/O</p>

<pre><code>f(3,1)
1
f(15,1)
0
</code></pre>
</div>
<div id="pu15" class="pu"><h1><a href="http://perl6.org/" rel="nofollow noreferrer">Perl 6</a>, 41 bytes</h1>

<pre><code>{[&gt;] map -&gt;\n{$_+n,*+n...&amp;is-prime},1,-1}
</code></pre>

<p><a href="https://tio.run/##NclLCoAgFAXQrdxBSB999IEmUhupEAcWQYrYKMS1GwTNDhxvwjVm@4DtmHJc5g1We4h5dbFQjeN144iInbfw4bQm8Y6LLmWJWz84gvGI@LMsVAXGsH9IHANR37Yyvw" rel="nofollow noreferrer" title="Perl 6 – Try It Online">Try it online!</a></p>

<p><code>$_</code> is the argument to the function.  The mapping function <code>-&gt; \n { $_ + n, * + n ... &amp;is-prime }</code> takes a number <code>n</code> and returns a sequence of numbers <code>$_ + n, $_ + 2*n, ...</code> that ends when it reaches a prime number.  Mapping this function over the two numbers <code>1</code> and <code>-1</code> produces a sequence of two sequences; the first starts with <code>$_ + 1</code> and ends with the first prime number greater than <code>$_</code>, and the second starts with <code>$_ - 1</code> and ends with the first prime number less than <code>$_</code>.  <code>[&gt;]</code> reduces this two-element list with the greater-than operator, returning true if the first sequence is greater (ie, longer) than the second.</p>
</div>
<div id="pu16" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 149 bytes</h1>



<pre class="lang-python prettyprint-override"><code>f=lambda n,k=1,P=1:n*[0]and P%k*[k]+f(n-P%k,k+1,P*k*k)
def a(n):p=f(n);return p.index(n)in filter(lambda i:p[i]-p[i-1]&lt;p[i+1]-p[i],range(1,len(p)-1))
</code></pre>

<p><a href="https://tio.run/##fZHLboMwEEX3@QoUqZLNI@rYBie0/EP2iIUroLVMJghRqVWUb6eeqstONoA5vneO5fl7/bii3raxmdzlrXcJ5qGB/NxAjWn73Dnsk/NTSNvQZaPAIn7nIYsb0pAGueuHMXECZT03kcqXZVg/F0zmg8d@@Ip/PCajn9ZhEX/9vp5b3xXxUUD3Gl8Z/K66fHH4PgjIpwHFLAuQcpsXj6vY3@717b4/jNfl4lahcieUlHL3L9WRapaWkZYstZFalgJEDMBzGg38bKB6eNB/In5iuaJ@xfcryis@r8lf8/6a/DTvZyhv@LwhP8P7Geo3fH9J@fLB3dH5Sv58FflVvF9F8yt@vqW85fOW/CzvZ8nP8n5Hyh8pv/0A" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>

<p>I'm using a prime generating function (top line) taken from <a href="https://codegolf.stackexchange.com/a/70027/70097">this old stack exchange answer.</a></p>
</div>
<div id="pu17" class="pu"><h1><a href="https://php.net/" rel="noreferrer">PHP</a>, 69 bytes</h1>

<p>prints one for weak prime and nothing for not weak prime
</p>

<pre class="lang-php prettyprint-override"><code>for(;!$t;$t=$d&lt;2)for($n=$d=$argn+$i=-$i+$w^=1;$n%--$d;);echo$n&lt;$argn;
</code></pre>

<p><a href="https://tio.run/##K8go@G9jX5BRwKWSWJSeZ6tkbqxk/T8tv0jDWlGlxFqlxFYlxcZIEySgkgdk24KVaatk2uqqZGqrlMfZGlqr5Knq6qqkWGtapyZn5Kvk2YDVWP//DwA" rel="noreferrer" title="PHP – Try It Online">Try it online!</a></p>
</div>
<div id="pu18" class="pu"><h1>Maxima, 42 bytes</h1>

<pre class="lang-maxima prettyprint-override"><code>f(n):=is(n-prev_prime(n)&lt;next_prime(n)-n);
</code></pre>
<p><a href="https://tio.run/##y02syMxN/P8/TSNP08o2s1gjT7egKLUsvqAoMzcVKGaTl1pRAufp5mla/@cC8vJKNNI0DA01Na0RPGMUnjkKzxLE@w8A" rel="nofollow noreferrer" title="Maxima – Try It Online">Try it online!</a></p>
</div>
<div id="pu19" class="pu"><h1>Octave, 53 bytes</h1>

<pre class="lang-matlab prettyprint-override"><code>@(n)diff(list_primes(h=nnz(primes(n))+1)(h-2:h),2)&gt;0
</code></pre>
<p><a href="https://tio.run/##y08uSSxL/f/fQSNPMyUzLU0jJ7O4JL6gKDM3tVgjwzYvr0oDysnT1NQ21NTI0DWyytDUMdK0M/ifZpuYV2zNlaZhaKgJIo3BpDmYtNT8DwA" rel="nofollow noreferrer" title="Octave – Try It Online">Try it online!</a></p>
</div>
<div id="pu20" class="pu"><h1>Octave, <s>93</s> 84 bytes</h1>

<p><em>Thanks to @LuisMendo and @rahnema1 for saving bytes!</em></p>

<pre><code>function r=f(x);i=j=x;do--i;until(i&lt;1|isprime(i));do++j;until(isprime(j));r=x-i&lt;j-x;
</code></pre>

<p><a href="https://tio.run/##TY1BCsIwFET3OcVHKCS0gdalaW7iRpoEJ9RUaqpZePeYBgVn998M7y9TvDxtzm4LU8QSaNWOJ6GgvU7KLFJCbSFi5hiHNx73FTfLIUTp2tb/ui/3ha86SYxeJpVtMAz6qBh7XTFb2h193wtGJXDE/3yV7SkkRMcPjTlRY87h0BE6cvVnHe3WKtBoB8XKmT8" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu21" class="pu"><h1>Pyth, 15 bytes</h1>
<pre><code>&gt;-fP_ThQfPT_tQy
</code></pre>
<p><a href="http://pyth.herokuapp.com/?code=%3E-fP_ThQfPT_tQy&amp;test_suite=1&amp;test_suite_input=73&amp;debug=0" rel="nofollow noreferrer">Try it here.</a></p>
<p>Uses Pietu1998's algorithm.</p>
</div>
<div id="pu22" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 9 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>

<pre><code>ḤÆRạÞ⁸ḊḢ&gt;
</code></pre>

<p>Returns <code>1</code> for weak and <code>0</code> for not weak or balanced (returns <code>1</code> for an input of <code>2</code>)</p>

<p><strong><a href="https://tio.run/##ASEA3v9qZWxsef//4bikw4ZS4bqhw57igbjhuIrhuKI@////NTM" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>

<h3>How?</h3>

<pre><code>ḤÆRạÞ⁸ḊḢ&gt; - Link: prime number &gt; 2, p
Ḥ         - double -&gt; 2*p
 ÆR       - yield primes between 2 and 2*p inclusive
     ⁸    - chain's left argument, p
    Þ     - sort by:
   ạ      -   absolute difference (i.e. distance from p)
      Ḋ   - dequeue (removes p from the list, since it has distance zero)
       Ḣ  - head (gives us the nearest, if two the smallest of the two)
        &gt; - greater than p?
</code></pre>
</div>
<div id="pu23" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, 17 bytes</h1>

<pre><code>[&lt;Dp#]¹[&gt;Dp#]+¹·›
</code></pre>

<p><a href="https://tio.run/##MzBNTDJM/f8/2salQDn20M5oOxCtfWjnoe2PGnb9/29uDAA" rel="nofollow noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>

<p>Uses Pietu1998's algorithm.</p>
</div>
<div id="pu24" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="noreferrer">Jelly</a>, 7 bytes</h1>

<pre><code>Æn+Æp&gt;Ḥ
</code></pre>

<p><a href="https://tio.run/##y0rNyan8//9wW5724bYCu4c7lvz//9/Q0BgA" rel="noreferrer" title="Jelly – Try It Online">Try it online!</a></p>

<h3>Explanation</h3>

<pre><code>           See if
Æn         the next prime
  +Æp      plus the previous prime
     &gt;Ḥ    is greater than 2n
</code></pre>

<p>As a bonus, changing <code>&gt;</code> to  <code>=</code> or <code>&lt;</code> checks for balanced and strong primes, respectively.</p>
</div>
<div id="pu25" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 9 bytes</h1>

<pre><code>Æp;;ÆnI&lt;/
</code></pre>

<p><a href="https://tio.run/##y0rNyan8//9wW4G19eG2PE8b/f///5sbAwA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
</div>
<div id="pu26" class="pu"><h2>Mathematica, 24 bytes</h2>

<pre><code>n=NextPrime;2#+n@-#&lt;n@#&amp;
</code></pre>

<p>The <code>NextPrime</code> built-in can be (ab?)used to compute the previous prime by feeding it a negative argument.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/131503/">131503</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




