<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::41375</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>004</td><td>Vyxal D > Vyxal D</td><td>240208T224820Z</td><td><a href="https://codegolf.stackexchange.com/questions/41375/generalized-quine-generator/269922#269922">emanresu</a></td></tr>
<tr d-ix="1"><td>013</td><td>CJam → CJam</td><td>170624T152857Z</td><td><a href="https://codegolf.stackexchange.com/questions/41375/generalized-quine-generator/128174#128174">jimmy230</a></td></tr>
<tr d-ix="2"><td>011</td><td>RProgN 2</td><td>170622T072111Z</td><td><a href="https://codegolf.stackexchange.com/questions/41375/generalized-quine-generator/127820#127820">ATaco</a></td></tr>
<tr d-ix="3"><td>041</td><td>Haskell expressions → Haskell expressions</td><td>170622T075545Z</td><td><a href="https://codegolf.stackexchange.com/questions/41375/generalized-quine-generator/127822#127822">Anders K</a></td></tr>
<tr d-ix="4"><td>009</td><td>Jelly → 7</td><td>170622T084909Z</td><td><a href="https://codegolf.stackexchange.com/questions/41375/generalized-quine-generator/127826#127826">user6213</a></td></tr>
<tr d-ix="5"><td>015</td><td>Jelly → Underload</td><td>170622T080758Z</td><td><a href="https://codegolf.stackexchange.com/questions/41375/generalized-quine-generator/127824#127824">user6213</a></td></tr>
<tr d-ix="6"><td>033</td><td>Charcoal → Perl 5</td><td>170622T074738Z</td><td><a href="https://codegolf.stackexchange.com/questions/41375/generalized-quine-generator/127821#127821">user6213</a></td></tr>
<tr d-ix="7"><td>016</td><td>Source = Target = CJam</td><td>141110T194745Z</td><td><a href="https://codegolf.stackexchange.com/questions/41375/generalized-quine-generator/41376#41376">Martin E</a></td></tr>
<tr d-ix="8"><td>066</td><td>Source = Target = JavaScript</td><td>141118T053513Z</td><td><a href="https://codegolf.stackexchange.com/questions/41375/generalized-quine-generator/41608#41608">Jacob</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-2" rel="nofollow noreferrer">Vyxal</a> <code>D</code> -&gt; Vyxal <code>D</code>, 4 bytes</h1>
<pre><code>\IpI
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2&amp;c=1#WyJEIiwiIiwiXFxJcEkiLCIiLCJcImBoZWxsb2Ar4bmYXCIiXQ==" rel="nofollow noreferrer">Try it Online!</a> The D flag is necessary due to vyxal decompressing non-ASCII strings by default.</p>
<pre><code>  p  # Prepend
\I   # &quot;I&quot;
   I # Quote and prepend to itself
</code></pre>
<p>For example, with the input <code>&quot;`hello`+Ṙ&quot;</code> (append &quot;hello&quot; and reverse) this outputs <code>`I\`hello\`+Ṙ`I`hello`+Ṙ</code>, which:</p>
<pre><code>`I\`hello\`+Ṙ`           # &quot;I`hello`+Ṙ&quot;
              I          # Quote and prepend to self, obtaining source code
               `hello`+  # Append &quot;hello&quot;
                       Ṙ # Reverse
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://sourceforge.net/p/cjam" rel="nofollow noreferrer">CJam</a> → CJam, 13 bytes</h1>

<pre><code>{`"_~"+7}_~qt
</code></pre>

<p><a href="https://tio.run/##S85KzP3/vzpBKb5OSdu8Nr6usOT//2CtcFUA" rel="nofollow noreferrer" title="CJam – Try It Online">Try it online!</a></p>

<p>The input <code>Q</code> should be a code snippet that modifies the only string in the stack. <code>Q</code> is read from stdin.</p>

<h3>Example</h3>

<p>Input:</p>

<pre><code>S*W%
</code></pre>

<p>It adds a space between every two characters, and reverses the string.</p>

<p>Output:</p>

<pre><code>{`"_~"+S*W%}_~
</code></pre>

<p>Output of the generalized quine:</p>

<pre><code>~ _ } % W * S + " ~ _ " ` {
</code></pre>

<h3>Explanation</h3>

<pre><code>{`"_~"+7}_~      e# Evaluate a generalized quine in CJam that only appends a 7.
q                e# Read the input.
t                e# Replace the 7th character (0-based) with the input.
</code></pre>

<p>It firstly evaluates the quine, so we can get its string representation without unnecessary double quotes. Then replace the payload with the input.</p>

<p>It could be <code>{`"_~"+ }_~7qt</code> where the space is the placeholder of the payload. But changing the payload to <code>7</code> saves a byte.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/TehFlaminTaco/RProgN-2" rel="nofollow noreferrer">RProgN 2</a>, 11 bytes</h1>

<pre><code>'{`{.%s}{'F
</code></pre>

<h2>Program Explination</h2>

<pre><code>'{`{.%s}{'F
'{`{.%s}{'  # Push the string "{`{.%s}{" to the stack.
          F # Format the input with the top of the stack as a template. Which produces {`{.&lt;INPUT&gt;}{
</code></pre>

<h2>Quine Explination</h2>

<p>The quine that's produced is simple, yet uses the functionality of unmatched function handlers in RProgN2 to create a short and sweet quine, called a "Looping" quine. It's a surprisingly similar concept to a &lt;>&lt; quine.</p>

<pre><code>{`{.}{
{`{.}   # Push the function {`{.} to the stack.
     {  # Try to define a new function, fail, loop back to index 1. (Which in turn, skips the function definition.)
 `{     # Push the string "{" to the stack.
   .    # Concatenate the top two values of the stack, which stringifies the function, then appends { to it.
    }   # Try to terminate a function, fail quietly, and terminate the program.
</code></pre>

<p>Of course, because of the structure of this quine, anything but true no-ops (Which don't get stringified) can be placed after the concatenate function, and </p>

<h2>Some quines</h2>

<ul>
<li><a href="https://tio.run/##Kyooyk/P0zX6/786oVovs7b6/38A" rel="nofollow noreferrer" title="RProgN 2 – Try It Online"><code>{`{.i}{</code></a>: Outputs <code>{}i.{`{</code>. <code>i</code> is just the "inverse" function, so this program outputs itself reversed.</li>
<li><a href="https://tio.run/##Kyooyk/P0zX6/786oVov@NByvdrq//8B" rel="nofollow noreferrer" title="RProgN 2 – Try It Online"><code>{`{.S§.}{</code></a>: Outputs <code>..S`{{{}§</code>. <code>S</code> converts the string to a stack of characters, <code>§</code> sorts the stack lexographically, then <code>.</code> joins it back together, outputting itself sorted.</li>
</ul>

<p><a href="https://tio.run/##Kyooyk/P0zX6/1@9OqFaT7W4tlrd7f///z75@QWZeemBpZl5qQA" rel="nofollow noreferrer" title="RProgN 2 – Try It Online">Try it online!</a></p>
</div>
<div id="pu3" class="pu"><h1>Haskell expressions → Haskell expressions, 41 bytes</h1>



<pre class="lang-hs prettyprint-override"><code>((++)&lt;*&gt;show).('(':).(++")$(++)&lt;*&gt;show$")
</code></pre>

<p><a href="https://tio.run/##y0gszk7Nyfn/v8BWQ0NbW9NGy644I79cU09DXUPdCkhpaytpqiDJqChp/s9NzMxTsFVIyedSUCgoLQkuKfLJU1BRKFBQykxRQhXTyExB044pgmFKUWpZalFxKrpRUGF087ALYxiak5qXXpIBFi/KzCsBGQgRQjcPq@h/AA" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>

<h3>How it works</h3>

<p><code>P $ "Q"</code> = <code>((++)&lt;*&gt;show).('(':).(++")$(++)&lt;*&gt;show$") $ "Q"</code> constructs <code>"R"</code> by</p>

<ol>
<li><code>(++")$(++)&lt;*&gt;show$")</code>: appending the string <code>")$(++)&lt;*&gt;show$"</code>,</li>
<li><code>('(':)</code>: prepending the character <code>'('</code>, and</li>
<li><code>(++)&lt;*&gt;show</code> (= <code>\x-&gt;x++show x</code>): appending a quoted version of that,</li>
</ol>

<p>resulting in <code>"R"</code> = <code>"(Q)$(++)&lt;*&gt;show$\"(Q)$(++)&lt;*&gt;show$\""</code>.</p>

<p><code>R</code> = <code>(Q)$(++)&lt;*&gt;show$"(Q)$(++)&lt;*&gt;show$"</code> works by</p>

<ol>
<li>taking the string <code>"(Q)$(++)&lt;*&gt;show$"</code>,</li>
<li><code>(++)&lt;*&gt;show</code>: appending a quoted version of that,</li>
<li>applying <code>Q</code> to that,</li>
</ol>

<p>resulting in <code>Q "(Q)$(++)&lt;*&gt;show$\"(Q)$(++)&lt;*&gt;show$\""</code> = <code>Q "R"</code>.</p>

<p>(The parens around <code>Q</code> are necessary because <code>Q</code> might contain <code>$</code> just as easily as <code>R</code> does, and <code>$</code> is unfortunately right-associative.)</p>

<h3>Demo</h3>

<pre class="lang-hs prettyprint-override"><code>λ&gt; putStrLn $ ((++)&lt;*&gt;show).('(':).(++")$(++)&lt;*&gt;show$") $ "id"
(id)$(++)&lt;*&gt;show$"(id)$(++)&lt;*&gt;show$"
λ&gt; putStrLn $ (id)$(++)&lt;*&gt;show$"(id)$(++)&lt;*&gt;show$"
(id)$(++)&lt;*&gt;show$"(id)$(++)&lt;*&gt;show$"
λ&gt; putStrLn $ ((++)&lt;*&gt;show).('(':).(++")$(++)&lt;*&gt;show$") $ "reverse"
(reverse)$(++)&lt;*&gt;show$"(reverse)$(++)&lt;*&gt;show$"
λ&gt; putStrLn $ (reverse)$(++)&lt;*&gt;show$"(reverse)$(++)&lt;*&gt;show$"
"$wohs&gt;*&lt;)++($)esrever("$wohs&gt;*&lt;)++($)esrever(
λ&gt; putStrLn $ ((++)&lt;*&gt;show).('(':).(++")$(++)&lt;*&gt;show$") $ "length"
(length)$(++)&lt;*&gt;show$"(length)$(++)&lt;*&gt;show$"
λ&gt; print $ (length)$(++)&lt;*&gt;show$"(length)$(++)&lt;*&gt;show$"
44
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a> → <a href="https://esolangs.org/wiki/7" rel="nofollow noreferrer">7</a>, 9 bytes</h1>
<pre><code>“ṚƓ^ṾṂ’³3
</code></pre>
<p><a href="https://tio.run/##ASMA3P9qZWxsef//4oCc4bmaxpNe4bm@4bmC4oCZwrMz////MjQwNQ" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<p>Q is a 7 function (i.e. that doesn't look beyond the top stack element, and does I/O via the stack), and is given as a command-line argument.</p>
<h2>Explanation</h2>
<h3>The 7 program</h3>
<p>The universal quine constructor in 7 that I use here is:</p>
<pre><code>717162234430…3
</code></pre>
<p>The first thing to note is that the leading 7 is the equivalent of leading whitespace, and doesn't have any effect on the program. The only reason it's there is to obey PPCG's rules against literal-only quines (it's encoded by the second <code>1</code> in the program rather than itself).</p>
<p>The rest of the program is a single stack element (it has balanced <code>7</code>s and <code>6</code>s), which does the following when run:</p>
<pre><code>717162234430…3
 1716           Push a stack element &quot;7&quot; onto the stack
     2          Copy it
      23        Pop and output one of the copies (selecting format 7)
        4430    Prepend it to the top of stack
             3  Output it
</code></pre>
<p>In other words, this stack element is a program that prints the top of the stack, with <code>7</code> prepended, in output format 7 (which means &quot;print literally, using the same encoding as the source code&quot;, and thus is clearly the best encoding for quines). It's fairly fortunate here that we can reuse the literal <code>7</code> for two purposes (the output format, and the leading whitespace.) Clearly, by inserting something just before the final <code>3</code>, we can output a function of <code>7</code> + the input, rather than just outputting <code>7</code> and the input directly.</p>
<p>How does this stack element get at its own source code? Well, when the end of the program is reached, 7 <code>eval</code>s the top stack element by default. However, it's not actually popped from the stack in the process, so the stack element literal that was <code>eval</code>led is still there. (In other words, the program isn't reading its own source – as evidenced by the fact that it's unable to see the <code>7</code> at the start of the program, which is a stack element separator rather than part of a literal – but rather, it consists mostly of a literal that gets <code>eval</code>led by default.)</p>
<h3>The Jelly program</h3>
<p>This is perhaps one of the least Jelly-like Jelly programs I've written; it consists of three nilads (<code>“ṚƓ^ṾṂ’</code>, <code>³</code>, <code>3</code>), which are just output in sequence because no operations are performed on them. The <code>3</code> is obvious enough, just being an integer constant. The <code>³</code> is also simple if you know Jelly: it's Jelly's explicit notation for the first command-line argument (which is where Jelly typically takes its input). The rest of the Jelly program represents the bulk of my 7 universal quine constructor: by exploiting the fact that all the commands in 7 can be represented using ASCII digits, we can interpret <code>717162234430</code> not as a series of commands, or even as an octal number (like it conceptually is), but as a decimal number, meaning that we don't need any special formatting for the output. That decimal number becomes <code>“ṚƓ^ṾṂ’</code> in Jelly's compressed integer notation.</p>
<h2>Example</h2>
<p>If we give <code>24053</code> as program Q, we'll get the following output:</p>
<pre><code>717162234430240533
</code></pre>
<p><a href="https://tio.run/##M///39zQ3NDMyMjYxMTYwMjEwNT4/38A" rel="nofollow noreferrer" title="7 – Try It Online">Try it online!</a></p>
<p><code>2405</code> concatenates the top stack element to itself:</p>
<pre><code>2405   Stack   Explanation
       x
2      x|x     Duplicate top of stack
 4     x||x    Swap two stack elements, with an empty element between
  0    x|(X)   Escape the top stack element, then concatenate the top two
   5   xx      Execute the top stack element
</code></pre>
<p>(The last step might look a little confusing; what's happening is that escaping a stack element converts each command in it from &quot;run this command&quot; to &quot;append this command to the top of the stack&quot;, so each command appends itself to the original top stack element as it runs.)</p>
<p>As such, running the resulting program R gives us two copies of R:</p>
<pre><code>7171622344302405371716223443024053
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a> → <a href="https://esolangs.org/wiki/Underload" rel="nofollow noreferrer">Underload</a>, 15 bytes</h1>
<pre><code>“(a(:^)*“S):^”j
</code></pre>
<p><a href="https://tio.run/##y0rNyan8//9RwxyNRA2rOE0tICtY0yruUcPcrP///1sFxwEA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<p>Takes the input Underload function Q as a command-like argument. Q must take input from the stack and push output to the stack, without attempting to inspect deeper stack elements (as they won't exist).</p>
<h2>Explanation</h2>
<h3>The Underload</h3>
<p>The Underload universal quine constructor used here is:</p>
<pre><code>(a(:^)*…S):^
</code></pre>
<p>Most of the program is a single literal. We follow that by <code>:^</code>, which copies it, then evaluates one copy (leaving the other copy on the stack).</p>
<p>When the literal starts evaluating, we run <code>a</code> (escape, which brings it back into the same form as the original programA), and <code>(:^)*</code> (which appends <code>:^</code>), thus reconstructing the entire program's source code. We can then run the function Q to transform this in an arbitrary way, and print the result with <code>S</code>.</p>
<h3>The Jelly</h3>
<p>I can't use Charcoal this time because a validating Underload interpreter crashes at the end of the program if the program ends with a newline. (Some Underload interpreters, such as the one on TIO, don't enforce this rule, but I wanted to be properly portable.) Unfortunately, Charcoal naturally adds trailing newlines to its output. Instead, I used Jelly, which is almost as terse in simple cases like this; the program consists of a list literal with two elements (<code>““”</code>), and joins them on the input (<code>j</code>), thus interpolating the user input into the program.</p>
<h2>Example</h2>
<p>Using the input <code>:S^</code> (print a copy, then evaluate the original), we get the following Underload program:</p>
<pre><code>(a(:^)*:S^S):^
</code></pre>
<p><a href="https://tio.run/##K81LSS3KyU9M@f9fI1HDKk5Tyyo4LljTKu7/fwA" rel="nofollow noreferrer" title="Underload – Try It Online">Try it online!</a></p>
<p>This prints itself infinitely many times, in a fairly interesting way: after doing the normal quine behaviour, it then runs <code>eval</code> on a copy of what it output. That causes the entire reconstructed program to run again, indefinitely (Underload is tail-recursive). Quining yourself and doing an <code>eval</code> is actually the only way to do an infinite loop in Underload.</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a> → <a href="https://www.perl.org/" rel="nofollow noreferrer">Perl</a> (5), <s>29</s> 33 bytes</h1>
<pre><code>Ａ$_=q(αＡ);evalβαＳ&quot;\α$_β\n&quot;;printβ
</code></pre>
<p><a href="https://tio.run/##S85ILErOT8z5///9noUq8baFGuc2Alma1qlliTnnNoE4m5Vizm1UiT@3KSZPybqgKDOv5Nym//@BaotSy1KLilMB" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a></p>
<p>The Perl program Q should return a snippet that takes input as a string to its right hand side and provides output in the variable <code>$_</code>. (Arbitrary Perl functions can be converted to this form via wrapping them as <code>sub x {…}; $_=x </code>. In most cases, though, Perl's syntax means that no wrapping is required.)</p>
<h2>Explanation</h2>
<h3>The Perl</h3>
<p>Here's what the universal Perl quine constructor looks like:</p>
<pre class="lang-perl prettyprint-override"><code>$_=q(…&quot;\$_=q($_);eval&quot;;print);eval
</code></pre>
<p>(In most cases you'd want to golf this down to <code>$_=q(say…&quot;\$_=q($_);eval&quot;);eval</code>, but I'm not sure you can fit arbitrary Perl code into the <code>…</code> there.)</p>
<p>In other words, we have an outside wrapper <code>$_=q(…);eval</code> which assigns a string to <code>$_</code> and then evaluates it. Inside the wrapper is <code>&quot;\$_=q($_);eval&quot;</code>, i.e. a reconstruction of the wrapper together with its contents via using the value we stored in <code>$_</code>, plus the code Q specified by the user, plus <code>print</code> to print the output. (Unfortunately we can't use <code>say</code>; it adds a newline, and that's relevant in quines.)</p>
<h3>The Charcoal</h3>
<p>The &quot;point&quot; of this answer was to produce generalized quines in Perl, so once I had a golfed strategy for doing that (one I've used in many other answers), it was time to write the program P, which basically just substitutes a string into a template. What I wanted here was a language which was good at printing constant strings (ideally compressing them a bit), and interpolating user input into them.</p>
<p>After trying a few, I settled on Charcoal, which I've never used before (and which could really do with some documentation); it's designed for ASCII art but capable of writing strings in one dimension too. ASCII characters are printed literally in Charcoal, meaning that printing constant strings takes no boilerplate, and we can use the <code>Ｓ</code> command to interpolate a string taken from user input into the program.</p>
<p>It's possible to go (slightly) shorter, though. The Perl universal quine constructor contains two fairly long repeated sections. We can thus use the <code>Ａ</code> command to assign them to variables (e.g. <code>Ａ…α</code> assigns to the variable <code>α</code>), and simply interpolate the variables into the string we're printing via using their names. That saves a few bytes over just writing the string literally.</p>
<p>Unfortunately, Charcoal also appends a newline to the program, but that's not a huge deal; it simply costs two bytes for an <code>\n</code> to add that newline to the input of Q too.</p>
<h2>Example</h2>
<p>If we give the input <code>$_=reverse</code> (which reverses a string), we get the following output:</p>
<pre class="lang-perl prettyprint-override"><code>$_=q($_=reverse"\$_=q($_);eval\n";print);eval

</code></pre>
<p><a href="https://tio.run/##K0gtyjH9/18l3rZQA0gUpZalFhWnKsVABTStU8sSc2LylKwLijLzSiBcrv//AQ" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
<p>which is a quine-alike that prints its source backwards, as expected.</p>
</div>
<div id="pu7" class="pu"><h1>Source = Target = CJam, <s>19</s> <s>17</s> 16 bytes</h1>

<pre><code>{`"_~"+}`)q\"_~"
</code></pre>

<p>This assumes that the input program <code>Q</code> (given on STDIN) is some CJam snippet which expects a string on the top of the stack and leaves another string on top of the stack.</p>

<p><a href="http://cjam.aditsu.net/" rel="nofollow">Test it here.</a></p>

<h2>Examples</h2>

<ol>
<li><p>The identity would just be an empty snippet, so leaving STDIN empty prints </p>

<pre><code>{`"_~"+}_~
</code></pre>

<p>Which is the standard quine, with an additional <code>+</code>.</p></li>
<li><p>To reverse a string in CJam, you can use <code>W%</code>, so putting that on STDIN, this yields:</p>

<pre><code>{`"_~"+W%}_~
</code></pre>

<p>which we can run to obtain</p>

<pre><code>~_}%W+"~_"`{
</code></pre></li>
<li><p>As a third example, say we use a snippet which intersperses a string with spaces: <code>' *</code>. Running <code>P</code> with that as input, we get</p>

<pre><code>{`"_~"+' *}_~
</code></pre>

<p>which in turn prints</p>

<pre><code>{ ` " _ ~ " + '   * } _ ~  
</code></pre></li>
<li><p>It now also works if <code>Q</code> contains line breaks (although that's never necessary in CJam). Here is a program with a line break, which removes all line breaks from a string (in an unnecessarily convoluted way - split into lines, then join):</p>

<pre><code>N/
""
*
</code></pre>

<p>This results in the following <code>R</code>:</p>

<pre><code>{`"_~"+N/
""
*}_~
</code></pre>

<p>which in turn prints</p>

<pre><code>{`"_~"+N/""*}_~
</code></pre></li>
</ol>

<h2>Explanation</h2>

<p>Let's look at the produced output first:</p>

<p>The standard CJam quine is</p>

<pre><code>{`"_~"}_~
</code></pre>

<p>It works as follows:</p>

<ul>
<li>Push the block <code>{`"_~"}</code>.</li>
<li>Duplicate it with <code>_</code>.</li>
<li>Execute the copy with <code>~</code>.</li>
<li>Now inside the block, <code>`</code> turns the first block into its string representation.</li>
<li><code>"_~"</code> pushes the two characters of the source that are not part of the block (and hence missing from the string representation).</li>
<li>The two strings are printed back to back at the end of the program.</li>
</ul>

<p><sup>In the basic quine the <code>`</code> is unnecessary, because if you just leave the block as it is, it's printed all the same at the end of the program.</sup></p>

<p>The output of my program <code>P</code> is a modified version of this snippet. First, I've added a <code>+</code> to the block, which concatenates the two strings into one string containing the entire source. Note that this will be true no matter what I do inside the block, because that will all get added to the string representation obtained with <code>`</code>. Now I can simply put the program/snippet <code>Q</code> inside the block after the <code>+</code>, so that it can modify the source string before it is printed. Again, since <code>Q</code> goes inside the block, it will be part of said source string.</p>

<p>In summary, <code>P</code> prints</p>

<pre><code>{`"_~"+Q}_~
</code></pre>

<p>Now, for how I go about constructing this output in <code>P</code>:</p>

<pre><code>{`"_~"+}         "Push the block without Q.";
        `        "Turn it into a string. This is shorter than writing a string right away,
                  because I'd have to escape the quotes, and I'd need two quotes instead of
                  one backtick.";
         )       "Pop off the last character (the brace) and push it on the stack.";
          q      "Read input Q.";
           \     "Swap Q with the brace.";
            "_~" "Push the final two characters.";
</code></pre>

<p>The four strings are printed automatically (back-to-back) at the end of the program.</p>
</div>
<div id="pu8" class="pu"><h1>Source = Target = JavaScript, 66</h1>

<pre><code>console.log("function a(){console.log("+prompt()+"(a+'a()'))}a()")
</code></pre>

<h2>Assumptions for Q:</h2>

<ul>
<li><code>Q</code> should be a string-to-string JavaScript anonymous function.</li>
</ul>

<h1>Examples:</h1>

<ul>
<li><em>Reverse</em>. Q = <code>function(s) { return s.split('').reverse().join(''); }</code></li>
</ul>

<p>In this case, <code>P(Q)</code> (or <code>R</code>) will be: <code>function a(){console.log(function(s) { return s.split('').reverse().join(''); }(a+'a()'))}a()</code>, and by executing it, we will get: <code>)(a}))')(a'+a(} ;)''(nioj.)(esrever.)''(tilps.s nruter { )s(noitcnuf(gol.elosnoc{)(a noitcnuf</code> which is exactly the same as <code>Q(R)</code>.</p>

<ul>
<li><em>Identity</em>. Q = <code>function(s) { return s; }</code></li>
</ul>

<p>in this case, <code>P(Q)</code> (or <code>R</code>) will be: <code>function a(){console.log(function(s) { return s; }(a+'a()'))}a()</code> which is a <strong>JavaScript Quine</strong>. Needless to say, <code>Q(R)</code> will be the same, since Q is the Identity function.</p>

<hr>

<h1>Some notes:</h1>

<p>STDIN in JavaScript is traditionally <code>prompt()</code>, however, I allowed myself to refrain from the tradition of <code>alert()</code> as STDOUT, in order to make the process of run output as a progrem using copy-paste easier. (I do realize I can <strong>save up to 12 characters</strong> when changing to <code>alert()</code>).</p>

<p>I can also make things much shorter in ES6, but I want to stay with Native JavaScript for now. I'm considering submitting a S=Scala,T=ECMA6 answer in future, just for the experience.</p>

<p>I also realize JavaScript can almost never beat <strong>CJam</strong> in <a href="/questions/tagged/code-golf" class="post-tag" title="show questions tagged 'code-golf'" rel="tag">code-golf</a>, but I had to take this challenge! It was surly a fun one.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/41375/">41375</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




