<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::240203</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>nan</td><td>Scala 3</td><td>240421T051328Z</td><td><a href="https://codegolf.stackexchange.com/questions/240203/which-advent-is-it/272699#272699">138 Aspe</a></td></tr>
<tr d-ix="1"><td>066</td><td>Excel</td><td>211229T172044Z</td><td><a href="https://codegolf.stackexchange.com/questions/240203/which-advent-is-it/240323#240323">Engineer</a></td></tr>
<tr d-ix="2"><td>144</td><td>Perl 5</td><td>211231T132516Z</td><td><a href="https://codegolf.stackexchange.com/questions/240203/which-advent-is-it/240389#240389">Kjetil S</a></td></tr>
<tr d-ix="3"><td>114</td><td>Python 3.8 prerelease</td><td>211228T114003Z</td><td><a href="https://codegolf.stackexchange.com/questions/240203/which-advent-is-it/240258#240258">ing</a></td></tr>
<tr d-ix="4"><td>079</td><td>Wolfram Language Mathematica</td><td>211227T181931Z</td><td><a href="https://codegolf.stackexchange.com/questions/240203/which-advent-is-it/240218#240218">Ben Izd</a></td></tr>
<tr d-ix="5"><td>192</td><td>C gcc</td><td>211228T014417Z</td><td><a href="https://codegolf.stackexchange.com/questions/240203/which-advent-is-it/240240#240240">Noodle9</a></td></tr>
<tr d-ix="6"><td>078</td><td>JavaScript Node.js</td><td>211228T063247Z</td><td><a href="https://codegolf.stackexchange.com/questions/240203/which-advent-is-it/240252#240252">tsh</a></td></tr>
<tr d-ix="7"><td>085</td><td>Factor + calendar.holidays.us</td><td>211227T201232Z</td><td><a href="https://codegolf.stackexchange.com/questions/240203/which-advent-is-it/240222#240222">chunes</a></td></tr>
<tr d-ix="8"><td>116</td><td>Python 3.8</td><td>211227T170058Z</td><td><a href="https://codegolf.stackexchange.com/questions/240203/which-advent-is-it/240211#240211">Jonathan</a></td></tr>
<tr d-ix="9"><td>116</td><td>Retina 0.8.2</td><td>211227T165733Z</td><td><a href="https://codegolf.stackexchange.com/questions/240203/which-advent-is-it/240210#240210">Neil</a></td></tr>
<tr d-ix="10"><td>152</td><td>Python3</td><td>211227T161524Z</td><td><a href="https://codegolf.stackexchange.com/questions/240203/which-advent-is-it/240207#240207">Ajax1234</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.scala-lang.org/" rel="nofollow noreferrer">Scala 3</a>, <del>123</del> 120 bytes</h1>
<p>A port of <a href="https://codegolf.stackexchange.com/a/240258/110802">@ing's Python answer</a> in Scala.</p>
<p>Saved 3 bytes thanks to @movatica</p>
<hr />
<p>Golfed version. <a href="https://ato.pxeger.com/run?1=hZHPSsNAEMbxmqeYFiy7dJvuJqS1kRSEXgSLB1EPpYe12YTUZFOSbTW0OfkYXupBLz6RPo2b_hG8mMvMzseP7xtmXz_yGY-5_TlpdmT6xDPZnH6fvETJIs0UzPmKmypKhHmVamzElTCM9GEuZgrGPJKwNgB8EUCiB8SzMHfhIst4MblRWSTDKXbhVkYKvB0JsNCqiiXSZrNlrO3ueLwUyKIWI8AsAhbGNaBNwCHQq-UOhqzGkQ0GfU1p2qZ1nuy4pPM_aVNKDyTbkaVh6LriMfwlXQCELqUicCzYG1ZVH-x9qYLO2dczKkhCfK1HAfr9BTMNDroZCjXixXVwL8RjNeyMh71WCyUNj1mbjd_wqoXXVXzhIb_NqOngbv8cFaZKddqpg9vHd9fBpYhzAXSf_1bu-3a77z8" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre class="lang-scala prettyprint-override"><code>(y,m,d)=&gt;if(LocalDate.of(y,m,d).getDayOfWeek.getValue&gt;6&amp;&amp;(m!=12||d!=25)){val y=(d+10.5)/7;(y.toInt%5)+(y.toInt/5)}else 0
</code></pre>
<p>Ungolfed version. <a href="https://ato.pxeger.com/run?1=hVK7TsMwFJUY8xWHgSpRQxInKqWVOiB1QQIxVMCAGEzrlJQ8qsSpFFX9CVYWFvgovoZrx20lBrJYPsfnnvvw_fiu5jzl0efnVy3j88ufk_ckWxelxIpvuCeTTHg3BUmmXArLKl5WYi5xy5McWwtYiBgZAZuXy2qMq7LkzdNMlkm-fHbGuM8TiYlWAmtiZZrbZDavU7J74Gkt7DAImQsWuggdp0MYuRi4uOjUGUPW4chGoyGpSB0FXZ5sX-Tgf2UUBIFRMq3cWWZOf4SN4OUY17l0kRW5fDX3BW_0zdHnYXgbntKTFEQcvsMrYu1iDHRsW1sSw1ZqbynklDd38aMQbwro1JhMMESvh1NbByrMQkWQgQKqR2zh-5jVueKSigLoy487cXDV-dr6KFalbdAHC7yBAx9D82w3nixUP2cgvn_EPmGt2UGklTDdAkFL6vnt2tU0G7rf1F8" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre class="lang-scala prettyprint-override"><code>import java.time.LocalDate

object Main {
  def main(args: Array[String]): Unit = {
    println(calculateValue(2021, 12, 2))
    println(calculateValue(2023, 5, 6))
    println(calculateValue(2021, 12, 12))
    println(calculateValue(1997, 11, 30))
    println(calculateValue(2011, 12, 25))
    println(calculateValue(3000, 12, 21))
  }

  def calculateValue(year: Int, month: Int, day: Int): Int = {
    val date = LocalDate.of(year, month, day)
    if (date.getDayOfWeek.getValue == 7 &amp;&amp; !(month == 12 &amp;&amp; day == 25)) { // Sunday is 7 in java.time.DayOfWeek
      val y = (day + 10.5) / 7
      (y.toInt % 5) + (y.toInt / 5)
    } else {
      0
    }
  }
}
</code></pre>
</div>
<div id="pu1" class="pu"><h1>Excel, <s>71</s> 66 Bytes</h1>
<p><sup>Saved 5 bytes thanks to Taylor Raine</sup></p>
<p><em>Aside: At the time of posting, this answer has the smallest byte count. That is baffling. Score one for Excel's date handling, I guess.</em></p>
<pre><code>=LET(a,4-(INT((&quot;12/23/&quot;&amp;YEAR(A1))/7)*7+1-A1)/7,(LEN(a)=1)*(a&lt;5)*a)
</code></pre>
<p>Input is in cell <code>A1</code>. Output is wherever the formula is. Returns a number 1-4 for advent Sundays and a 0 for all other dates.</p>
<pre><code>LET(a,4-(INT((&quot;12/23/&quot;&amp;YEAR(A1))/7)*7+1-A1)/7
</code></pre>
<p>The first part calculates which advent Sunday an input is and does most of the heavy lifting.</p>
<ul>
<li><code>(&quot;12/23/&quot;&amp;YEAR(A1))</code> finds Christmas Eve Eve (CEE) in the year of the input. We find Eve Eve hear because it saves us some extra bytes of adjustment later.</li>
<li><code>INT(~/7)*7</code> takes that date, divides by 7 (b/c 7 days per week), rounds it down, then multiplies it by 7. This finds the Saturday before CEE. If CEE <em>is</em> a Saturday, then it returns that date.</li>
<li><code>(INT(~/7)*7+1-A2)/7</code> adds one to get Sunday, subtracts the input, and divides by 7 to get the number of weeks between the input and the Sunday before Christmas. This may not be a whole number.</li>
<li><code>4-(~)</code> subtracts that result from 4 to invert the result. I.E., the Sunday before Christmas needs to be the 4th Sunday, not the 1 week before.</li>
</ul>

<pre><code>LET(a,~,(LEN(a)=1)*(a&lt;5)*a)
</code></pre>
<p>Now that the heavy lifting is out of the way, we can examine the results. Note that using TRUE and FALSE values in math will treat TRUE = 1 and FALSE = 0. By multiplying various statements that will evaluate to either TRUE or FALSE, we can filter out undesirable results.</p>
<ul>
<li><code>(LEN(a)=1)</code> filters out any non-integers as well as negative integers. This removes every non-Sunday in the advent calendar and all dates before the first Sunday. This does <em>not</em> filter out the 0th Sunday but the end result will still be 0 so it works.</li>
<li><code>(a&lt;5)</code> filters out Sundays <em>after</em> the 4th Sunday.</li>
<li><code>(~)*(~)*a</code> returns the value if it has passed both those filters. Otherwise, it returns 0.</li>
</ul>
<p>In this screenshot, I have added a column to return the value of <code>a</code> since that's so much of the calculation. I have also extended the data beyond the samples above to show some edge cases.</p>
<p><a href="https://i.stack.imgur.com/TlIqU.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/TlIqU.png" alt="Screenshot" /></a></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a>, 144 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>sub{$_=join$&quot;,map{@t=gmtime$_*604800+3e5;19000100+$t[5]*1e4+$t[4]*100+$t[3]}1..6e4;pop=~/..../;/ $&amp;$'( $&amp;\d+)+/;$_=6-$&amp;=~y///c/9;/^[1-4]$/?$_:0}
</code></pre>
<p><a href="https://tio.run/##bZHbbsIwDIbv@xQWMhRoIYceRqkydj9p3OwOOrRBQN3Ww6BIQwhenbllgFYtURLbn2z/SXK9/vROuFSnzfZtjzP1nsUpNuzkNd8/FGqVFHGicdb1uTvg3HK0F4qAcy7IwWLiRV2h3dJyyTrHnOgg@n1fu2Ge5erI@jRYyABbaLZpny6sjsVC6uX3sKWOO8bYnAUhe5mInhshG@FsyA@n0Fhm67YBE5rSBkFLcikiUPfAIbLPxLcBvIo4f4mo5zgX4nAiglYQ3FVEXIh0auRaTXqXaqKmQIozcehVKuJetXk1BfKfan5N9aBGbtWoT3lbyfngltPZGwDJro2xjbqjHnAWVgHAFSho4ZJePFb0M5x3EeOJjCzxa4rIKg8S3Slz8nWcFstGcwMAcZpviyE0e8ItXf2d63mhFxQp3VVWss00bVBP0F/Ua2RmH@bQfBo/w/jRtCs1Nq5C43D6AQ" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://docs.python.org/3.8/" rel="noreferrer">Python 3.8 (pre-release)</a>, 114 bytes</h1>

<pre class="lang-python prettyprint-override"><code>lambda a,b,c:(y:=int((c+10.5)/7))%5+y//5 if date(a,b,c).weekday()==6 and[b,c]!=[12,25]else 0
from datetime import*
</code></pre>
<p><a href="https://tio.run/##Vc1LCoMwEIDhvaeYLgqZGjSJRKuQk1gXUSMN9YUNFE9vrVjQ7Tf/zIyzew59dB@nxanH0uqurDVoWtIqI3OmbO8IqXzOAolhgniV/hyGEmwDtXaGbCUGH2NetZ4JKhWD7ut81eKici6okIVp3waY10xDt2052xmw3ThM7raM0@@HI4IJTmFdAIHoHTSiICnEZ9xTfmx5miYrraOInWr@PywPHDHGduaIyxc" rel="noreferrer" title="Python 3.8 (pre-release) – Try It Online">Try it online!</a></p>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, <s> 88 </s> 79 bytes</h1>
<blockquote>
<p>Input format should be <code>{year, month, day}</code>.</p>
</blockquote>
<pre><code>Ramp[4-DayCount[#,{#&amp;@@#,12,24},s=Sunday]]Boole[DayName@#==s&amp;&amp;Rest@#!={12,25}]&amp;
</code></pre>
<p><a href="https://tio.run/##XY2xCsIwFEV3vyISyBQhSVulQyCos0gdY4aHBiyYVmw6lNJvjwl0qB3ecu657zrwL@vA1w8IXt5DBe6j890ZhlPbN15jOmKiFKZcUJFPtJO3vnnCYMyxbd9WR/ECziosZUdIZTuv8FaOyS4mQ8L1W8cvXo@CCU5R5EhMxmyWPKOooGi/xrPO/31elocIY5ixVSPBdGl5EWSMsXmZxyD8AA" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
<p>Output:</p>
<pre><code>0
0
3
1
0
4
</code></pre>
<p>79 bytes - Thanks to <a href="https://codegolf.stackexchange.com/users/81203/att">@att</a></p>
</div>
<div id="pu5" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, <sup><s>215</s> <s>202</s></sup> 192 bytes</h1>

<pre class="lang-c prettyprint-override"><code>#import&lt;time.h&gt;
i;*t;*l;f(d,m,y){5[t=calloc(9,8)]=y-1900;t[4]=m-1;t[3]=d;l=mktime(t);i=6[t=gmtime(&amp;l)];y=t[7];t[4]=11;t[3]=25;l=mktime(t);d=7[t=gmtime(&amp;l)]-y;m=4-d/7-!t[6];i=i|!d|m&lt;1|m&gt;4?0:m;}
</code></pre>
<p><a href="https://tio.run/##bVLtbqMwEPyfp3Bz6glSc7EhH6WOcz9O9xQEnSLbpFYxRGDpwiV59aMLMVGpisx6vDOzXq0sgoMQbftNm2NZ2Y3VRv143U40m1k2y1nmSWxw45@XieVin@el8GL87Ke8CWhMCLPJIuUmoACilEuWc/PWFfGszzRfgetg@vP33E9Zw22yTm8m6jzhcmSSfD02BQ0zfBHI@Tp4sMkqhbL68iAvZkMvZrv4SV4Mu7a6sMjsdeH56DxB8HUJq2r7p0lSxNE5JCHFCGLUR8A0jtcdpoAjQsiVjY3mZqQhRktQw9Yp@z38rJXuEoxWN0lEoDTYQvpBqk5HJaxyYlDAgnZoDxZOKMqitki87qsZRCXeVHXTT3en3@HuFP@CfznF6OM5mjp3VlbI6@7ShVQnsBHm4AbV@p8qM2/owp@7xOyeYejpqVcPUxw6b6CSm2bPp2xEm4E2X9JyoOWXdA308NDGjALmPrTP1mMFksybPsp5v1CwRRAf610B02kwdIUlRjW@j7HmXKXuiuvk2v4XWb4/1G3w9x0" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
<p><em>Saved 13 bytes thanks to <a href="https://codegolf.stackexchange.com/users/52904/ceilingcat">ceilingcat</a>!!!</em></p>
<p>Inputs the day, month and year as separate parameters.<br />
Returns which Advent Sunday it is or <span class="math-container">\$0\$</span> otherwise.</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 78 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>(y,m,d)=&gt;/Su/.test(c=new Date(y,m-1,d))*'01234'[(c-new Date(y,9,51))/6048e5|0]
</code></pre>
<p><a href="https://tio.run/##dc2xCsIwEMbx3afI1kTS5i5pq0Xq5Bs4ikNJU1FqIzYqgu9eI0QQS4eb/j@@O1X3qtfX48XFna3N0JQDffIzr1m5FtubSJzpHdVlZx5kUznziTH6zOYRoFRptKM6/qkFz5AxkUO6NNkL9oO2XW9bk7T2QBsqQSInKDkhkrEVEYLAbESUz5m/fJqEFfyuqD@CRbHw2TMFgeBoBcOKzCYeKQAIBANJhzc" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>Falsy may be 0 or NaN. Add 2 bytes (append <code>|0</code>) to always get 0. User must run this program with computer configured to UTC timezone or any other timezone that: 1. No DST shift during Nov 20 to Dec 31, 2. Name of timezone (in system language) does not contain substring <code>&quot;Su&quot;</code> (case sensitive).</p>
<p><code>new Date(y,9,51)</code> is Nov 20 in JavaScript.</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://factorcode.org/" rel="noreferrer">Factor</a> + <code>calendar.holidays.us</code>, 85 bytes</h1>
<pre><code>[ &lt;date&gt; dup christmas-day 4 [ dup last-sunday ] times 0 5 narray reverse nip index ]
</code></pre>
<p>Takes input as three integers in &lt;year&gt; &lt;month&gt; &lt;day&gt; order. The <code>last-sunday</code> word postdates build 1525, the one TIO uses, so here's a screenshot of running the above code in build 2101's listener:</p>
<p><a href="https://i.stack.imgur.com/spScU.png" rel="noreferrer"><img src="https://i.stack.imgur.com/spScU.png" alt="enter image description here" /></a></p>
<h2>Explanation</h2>
<pre><code>                             ! 2021 12 12
&lt;date&gt;                       ! 2021-12-12
dup                          ! 2021-12-12 2021-12-12
christmas-day                ! 2021-12-12 2021-12-25
4 [ dup last-sunday ] times  ! 2021-12-12 2021-12-25 2021-12-19 2021-12-12 2021-12-5 2021-11-28
0 5 narray                   ! 2021-12-12 2021-12-25 { 2021-12-19 2021-12-12 2021-12-5 2021-11-28 0 }
reverse                      ! 2021-12-12 2021-12-25 { 0 2021-11-28 2021-12-5 2021-12-12 2021-12-19 }
nip                          ! 2021-12-12 { 0 2021-11-28 2021-12-5 2021-12-12 2021-12-19 }
index                        ! 3
</code></pre>
</div>
<div id="pu8" class="pu"><h1><a href="https://docs.python.org/3.8/" rel="nofollow noreferrer">Python 3.8</a>, <s> 128 </s> 116 bytes</h1>

<pre class="lang-python prettyprint-override"><code>lambda q:max(x*(date(*q)==(M:=date(q[0],11,27))+timedelta(7*x+~M.weekday()))for x in(1,2,3,4))
from datetime import*
</code></pre>
<p><strong><a href="https://tio.run/##NY1LboMwEIb3OcXs4iHTyo8mBCRyg5yAsHCFUVBiHq6lwiZXJzals5pv/scMs7/3nToPbmmK2/LU9rvWMOZWT2xKWK29YcmIRcGuebHSWPKKhCCZIh58a01tnl6zNJkOr@vnrzGPWs8MEZvewQRtx4KXFH0h7hrXW4gtMQetHXrnkyUavfnxwQtlKbkUBEISyIogoiI4Epw22kSxqiLL0rCHm@J/uvgPHyMrzvnGoqryHYQZXNt5Fh8S7D8ue4JmJcTlDQ" rel="nofollow noreferrer" title="Python 3.8 – Try It Online">Try it online!</a></strong></p>
</div>
<div id="pu9" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language/a950ad7d925ec9316e3e2fb2cf5d49fd15d23e3d" rel="nofollow noreferrer">Retina 0.8.2</a>, 116 bytes</h1>
<pre><code>3=`
;
\d+
$*_
((_*)\2\2\2_*);((_*)\4\4\4_*)
$4$3$2$1$1$1$1$1
\G_{7}

-_{12}-
____
-_{11}-_{26}

^(_{7}){1,4}$|.+
$#1
</code></pre>
<p><a href="https://tio.run/##NY3NCsJADITv8xqusK1Gkmx/KMVzX6K4FfTgpQfxVvfZ17TSDIRvJgN5Pz@v@Z6PfphyuE7oMT5OcGWE97EsRl1l0P9ttcoArnLBqZNdGIe4tAmguIgmQrTZjCTb2tjp5tdKsci5Su57sTcHyVlZhUSJFYaBuCZusKeikK5rSYQCWypbqjUCM28oPw" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Link includes test cases. Takes input in ISO date format. Explanation:</p>
<pre><code>3=`
;
</code></pre>
<p>Separate the year from the century.</p>
<pre><code>\d+
$*_
</code></pre>
<p>Convert to unary.</p>
<pre><code>((_*)\2\2\2_*);((_*)\4\4\4_*)
$4$3$2$1$1$1$1$1
\G_{7}

</code></pre>
<p>Perform Zeller's congruence on the 25th of December of the input year.</p>
<pre><code>-_{12}-
____
-_{11}-_{26}

</code></pre>
<p>Add this to the day of the month, adding an extra 4 for December or subtracting 26 for November 26 or later. Other months get ignored and fail to match the next stage at all.</p>
<pre><code>^(_{7}){1,4}$|.+
$#1
</code></pre>
<p>Count the number of whole weeks, but the result must be an integer between <code>1</code> and <code>4</code> inclusive.</p>
</div>
<div id="pu10" class="pu"><h1>Python3, 152 bytes:</h1>
<pre><code>from datetime import*
t=lambda x:0if x&gt;=date(x.year,12,25)else 1+t(x+timedelta(days=7))
f=lambda x:(s:=date(*x)).weekday()==6and(0&lt;(j:=(5-t(s)))&lt;5)and j
</code></pre>
<p><a href="https://tio.run/##fY3LbsIwEEX3fMUsZyAg25GhWJgfQSxc2VEDeckZqc7XB1NUuom6mM0999wZJv7qu/JjiPNcxb4F7zhw3Qao26GPvF6xbVz76R0kI@oK0tk@K5h2U3CxkKpQmkIzBpAbxrR5uj407NC7abQHolX1t4CjeenrRLT7DuGeW0jW7l3nUZzwZizqLeNIRCdNOYXbPMS6Y6zwogrID0EJJa8XY7bymuffdF@A/oHlApT/u6XIWOY7Hg8LWOlfWy7ZSr5wKYR44/kB" rel="nofollow noreferrer">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/240203/">240203</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




