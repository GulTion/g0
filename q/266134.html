<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::266134</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>nan</td><td>J</td><td>231020T205915Z</td><td><a href="https://codegolf.stackexchange.com/questions/266134/is-it-a-valid-hidden-word/266141#266141">Jonah</a></td></tr>
<tr d-ix="1"><td>086</td><td>JavaScript ES6</td><td>231020T190405Z</td><td><a href="https://codegolf.stackexchange.com/questions/266134/is-it-a-valid-hidden-word/266136#266136">Arnauld</a></td></tr>
<tr d-ix="2"><td>032</td><td>Charcoal</td><td>231020T214309Z</td><td><a href="https://codegolf.stackexchange.com/questions/266134/is-it-a-valid-hidden-word/266142#266142">Neil</a></td></tr>
<tr d-ix="3"><td>041</td><td>Retina 0.8.2</td><td>231020T205349Z</td><td><a href="https://codegolf.stackexchange.com/questions/266134/is-it-a-valid-hidden-word/266140#266140">Neil</a></td></tr>
<tr d-ix="4"><td>019</td><td>Jelly</td><td>231020T200418Z</td><td><a href="https://codegolf.stackexchange.com/questions/266134/is-it-a-valid-hidden-word/266138#266138">Jonathan</a></td></tr>
<tr d-ix="5"><td>124</td><td>JavaScript Node.js</td><td>231020T191521Z</td><td><a href="https://codegolf.stackexchange.com/questions/266134/is-it-a-valid-hidden-word/266137#266137">l4m2</a></td></tr>
<tr d-ix="6"><td>095</td><td>Ruby</td><td>231020T185726Z</td><td><a href="https://codegolf.stackexchange.com/questions/266134/is-it-a-valid-hidden-word/266135#266135">Value In</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.jsoftware.com" rel="nofollow noreferrer">J</a>, <sup>52 51</sup> 45 bytes</h1>
<pre><code>-.@rxin*[e.((]#~#@[&gt;:#\@](-.|.&quot;{[),&amp;#)-.&amp;' ')
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=dZDRTsIwGIXj7Z7ihyZ0JbTKjZFGzQYMWBzr0nYhBHZhDASN0QQh0Si8iDd44UPh09huw8REL5rmP-f09GvfP-52-6xV4c3stMJbGDtxm4HrTmbM3TBvwz33mCNGPPecI7JF0zdWfUVTgjJCWQ0DJvUmXT7fPjhVhudwwQFDA06Am0UZdGTU-1yv5vRsTynzbLBuq90MbZE3ueRo6mUuZbZ1Qho1dGgtDn0d9Ykzu1k8AtbL9WrxgstJDgSGOeBECAkDkarg4Kiwc5VbKoz7UQBa-kYozXEqtcrdsUhhmCoNXaHBDBJCBX7cNcRCqUIx0UOp9mVRqvNMFJjZKc3e9f3TD1gSSAtjs-EwkcLM8IvOQul_AUsrifzYOOYpRviDQWrwYWQZys8RcXGnHgloh7KrYBTqARgZVG4W_7nbFfs3" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>This approach allows us to avoid treating the two cases as separate:</p>
<ul>
<li><code>-.@rxin*</code> Not in the unaltered string</li>
<li><code>*</code> And...</li>
<li><code>-.&amp;' '</code> Remove spaces from haystack</li>
<li><code>#\@]</code> Create the integers 1..n (where n is length of haystack)</li>
<li><code>,&amp;#</code> Create the integers n and m, the lengths of needle and the haystack.  I'll explain why below.</li>
<li><code>-.</code> Remove n and m from 1..n (again, why below).  Call this our &quot;rotation list&quot;.</li>
<li><code>|.&quot;{[</code> Do every rotation of 1..n in our rotation list.  The rotations we are leaving out are precisely the ones where our haystack abuts the left or right side, which are the illegal ones.  We now have a matrix, with each row representing a legal rotation.</li>
<li><code>#@[&gt;:</code> In every row, change the numbers 1..m (where m is length of needle) to 1 and the rest to 0, so now we have a matrix of the legal rotations of, eg, <code>1 1 1 0 0 0 0 0</code> (if the needle had length 3).</li>
<li><code>]#~</code> Now use the rows of legal 0-1 masks to filter the no-spaces input.  These represent all possible bookends and word breaks.</li>
<li><code>[e.</code> Is the needle in any of those?</li>
</ul>
<h1><a href="https://www.jsoftware.com" rel="nofollow noreferrer">J</a>, 52 bytes</h1>
<pre><code>-.@rxin*[((rxin g)+.[e.-~&amp;#(g=.}:@}.)@(]\.)])' '-.~]
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=dZHdTsIwHMXjLU9xkEg3YEUTY2QBsyFDFse6tF0IgV0Yw4fGaIKQ6AW8iDd44UPhtQ9i94FBgxdr-z_n319Pu7f3-_XmqJY3T6KzvFkjJHdIyRgNEwQVHMNUn0Fxyb32x2I-Ns43pwa1Zi93j6WBpsUzJnqZDkbUWBUL2qRBl6a1pLqlRUOqRzoBMegqSvd-HnzpOb9JEWFgqqE-RKVIL6pqQRN9H7puKXixUhha0S6-vovf3YwSBijTqqVBc-hEV9dQCMQMxBD8pSDSseWMbqdPIHK2mE9fSVbxDiMYgwSMcXRYKJytI9zL68QSrn_lOZDcVkJm9kMuReL2WYhuKCRaTEIVHK6A7bfUqzIhUkW1bqHS5ilUJj2eo-pcZrZvHp5_ggUOj8PEvW434EzV-JUuDiX_DZhZgWf7ylFXUcKeDFzCRi_OkD0O89MzZY-h6fKWQM-VHSgZIjHTn71ep_M3" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Another nice candidate for J's outfix adverb.  Reading through other answers I was reminded that this approach is similar to my answer on <a href="https://codegolf.stackexchange.com/a/194934/15469">Is it a cirumfix</a> as well.</p>
<ul>
<li><code>-.@rxin</code> Does not appear in unaltered string</li>
<li><code>*</code> and...</li>
<li><code>(rxin g)</code> Does appear in the no-spaces <code>' '-.~]</code> string, after that string has its first and last elements removed <code>g=.}:@}.</code></li>
<li><code>+.</code> or...</li>
<li><code>-~&amp;#(g=.}:@}.)@(]\.)</code> Matches one of the outfixes (of appropriate length <code>-~&amp;#</code>) after the set of all such outfixes has its first and last elements removed <code>}:@}.</code>.</li>
</ul>
</div>
<div id="pu1" class="pu"><h1>JavaScript (ES6), 86 bytes</h1>
<p>Expects <code>(clue)(word)</code>. Returns a Boolean value.</p>
<p>The bookends part is based on the method used by Deadcode <a href="https://codegolf.stackexchange.com/a/197425/58563">in this answer</a>.</p>

<pre class="lang-javascript prettyprint-override"><code>c=&gt;w=&gt;c.match(w)&lt;/^(.+)(.+),\1.*\2$/.test([w,s=c.split` `.join``])+!!s.match(`.${w}.`)
</code></pre>
<p><a href="https://tio.run/##jZBRT8IwEMff@RRnw0MrWKLPjmTAIo2wLm0nEMBsGaAjcyNuYQ/Gzz7bwYNmaHxo/3ftr3f37z48hnn0Hh@KmzTbbKudVUVWv7T6EX0Li@gVl@S@94xph5jVXd3S69Vdu0eLbV7gZdnNrYjmhyQuAgjoPovTIFiTztVVfn4e0PZH@UkDUkVZmmfJlibZC0bLpzCJN2tEWt@Pdxh5nAsYc186iGAkxhyRBiOZ@zBxQAl7@GgoyYw2sAX3YepLBSOuQCcCmATbHcFQcClPJ0qaAgtfmKDZSNX4xLFF3UcZbVCKw7SeVnGjpPUDQKt0ydLjL3bZ1BPccwScDeuwjv7h2eTqAulNbFeD@k/MNUYXIWNFgQ2zv53NOAyYGEmYMTUGrutKpfeTWffSnPZ8APOhAeyBFlJ9AQ" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Commented</h3>
<pre class="lang-javascript prettyprint-override"><code>c =&gt;                // outer function taking c = clue
w =&gt;                // inner function taking w = hidden word
c.match(w)          // look for w in c; if this is not null, 
&lt;                   // it won't be less than any integer
/^(.+)(.+),\1.*\2$/ // regular expression to test &quot;bookend&quot;
.test([             // applied to:
  w,                //   the word, followed by a comma
  s = c.split` `    //   followed by s,
       .join``      //   which is c without spaces
]) +                // end of test()
!!s.match(`.${w}.`) // for &quot;word break&quot;, we look for w in s with
                    // at least one char. before and one char. after
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 32 bytes</h1>
<pre><code>‹№θη∨№⁻θ η⊙η∧κ¬∨⌕⁻θ …ηκ⌕⮌⁻θ ⮌✂ηκ
</code></pre>
<p><a href="https://tio.run/##XYtBCoMwEEX3PcXgKoI9QVcSKRSqKUlcuJQ0kGBI2kQFT5/Gqot2NjP//TdC9V643sT48NqO6C5DQNhN6XwXoPICiN9zre0UVppBlm9daRek1vVEQwGNG1GyrzrFPxkvwkis3GvVhzyRr0XlLH2Qv3YqD86MFnJ/OeYSY0daqFvGoSIcUqBwY1A2FWBKGNsIZ6eupZzF82w@" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Outputs a Charcoal boolean, i.e. <code>-</code> for a valid clue, nothing if not. Explanation:</p>
<pre><code> №                                  Count of
   η                                Input word in
  θ                                 Input clue
‹                                   Is less than
     №                              Count of
         η                          Input word in
       θ                            Input clue
      ⁻                             With spaces removed
    ∨                               Logical Or
           η                        Input clue
          ⊙                         Any index satisfies
             κ                      Current index
            ∧                       Logical And
                  θ                 Input clue
                 ⁻                  With spaces removed
                ⌕                   Does not start with
                     η              Input word
                    …               Truncated to length
                      κ             Current index
               ∨                    Logical Or
                          θ         Input clue
                         ⁻          With spaces removed
                        ⮌           Reversed
                       ⌕            Does not start with
                              η     Input word
                             ✂      Sliced from
                               κ    Current index
                            ⮌       Reversed
              ¬                     Logical Not
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language/a950ad7d925ec9316e3e2fb2cf5d49fd15d23e3d" rel="nofollow noreferrer">Retina 0.8.2</a>, 41 bytes</h1>
<pre><code> |^(.+)¶.*\1

^(.+)(.+)¶(\1.*\2$|.+\1\2.)
</code></pre>
<p><a href="https://tio.run/##ZY09asNAEIX7PcUrFJDjRSDdYCMt1mJZI2ZGCIMwSeEiTYqQ0ufyAXwxZSRDmjRv5n3z876vP59fH8tL/p4X@53Hqi6rHvesXHC7rPZxL17n0rnNPEE@l8aq7Fbs53Kuit2yDESMlkaJHtySk9QfugjlUB89JNVHd6YRp1EUDSnMMJIg9A1qJpEnUfE4j6ziRLdRFwPbvQZ26TQwDZGxhVhj9V/O6tQNXegNWmpUDwPrA0XA9PdNJ8Jb4kYwJW1Bti9q6rHqLw" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Takes input as the word and clue on separate lines but link is to test suite that splits on comma and exchanges the word and clue. Explanation:</p>
<pre><code> |^(.+)¶.*\1

</code></pre>
<p>Delete spaces in the clue, but delete the word if is is a contiguous substring of the clue, which prevents the following match from succeeding.</p>
<pre><code>^(.+)(.+)¶(\1.*\2$|.+\1\2.)
</code></pre>
<p>Check that the word either bookends or is now contained in the clue.</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 19 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<p>Uses some of <a href="https://codegolf.stackexchange.com/users/85334/unrelated-string">Unrelated String</a>'s <a href="https://codegolf.stackexchange.com/a/194947/53748">answer to <em>Is it a circumfix?</em></a> saving bytes over using the &quot;outfix quick&quot;, <code>ÐƤ</code>.</p>
<pre><code>ḲFŒṖḢ;ṪƊ€;ṖḊẆƊƲḟẆ{i
</code></pre>
<p>A dyadic Link that accepts the clue on the left and the answer on the right and yields a positive integer (truthy) if valid or zero (falsey) otherwise.</p>
<p><strong><a href="https://tio.run/##ZY2xSsRAFEX7@YrbCgN@wKI4xtENm82ENy8s@QCLXfYHxGa1sEipYKUIWghitSgkChbK5j8mPzK@bGFjc9@9l8t5i9Pl8izG0KyPN9ehvQ3N4yi0L13dX76OtrkOH1dd3a1D8yDufB7D59v3@@YmtE/9xZfGz/OuPlj0qzvs7aNf3e9UMRbOEcau9FaDxk75ND/JLJhMMtHwaTJRlSsxLT3DQyyBvUZVEnvl2eRHSDJrSLZsSKXTglxhCVugGLn/mENiVWQml1I@WNaQYgAwDGZ/NJ45HMLJzLOoxqC/" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong> (Some tests have been shortened in the middle since the algorithm is inefficient.)</p>
<h3>How?</h3>
<pre><code>ḲFŒṖḢ;ṪƊ€;ṖḊẆƊƲḟẆ{i - Link: Clue, Answer
Ḳ                   - split {Clue} on space characters
 F                  - flatten -&gt; Squished
              Ʋ     - last four links as a monad - f(Squished):
  ŒṖ                -   all partitions (no non-empty parts)
       Ɗ€           -   for each: last three links as a monad - f(Partition):
    Ḣ               -     head (remove first part and yield it)
      Ṫ             -     tail (remove first part of that and yield it ...
                                                ...or integer zero* if nothing left)
     ;              -     concatenate
                         -&gt; Bookends (plus an invalid one with a trailing zero*)
             Ɗ      -   last three links as a monad - f(Squished):
          Ṗ         -     pop (remove the tail character)
           Ḋ        -     dequeue (remove the head character)
            Ẇ       -     all sublists
                         -&gt; Hiddens
         ;          -   {Bookends} concatenate {Hiddens} -&gt; Potential Answers
                Ẇ{  - sublists of {Clue}
               ḟ    - {Potential Answers} filter discard {Clue sublists}
                       -&gt; Valid Answers (plus an invalid bookend with a trailing zero*)
                  i - 1-indexed index of {Answer} in* {Valid Answers} ...
                                                 ...or zero if not found
                      
                       * Integer zero wont match a zero character
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 124 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>x=&gt;y=&gt;(z=x.replace(/ /g,''),g=i=&gt;z[i]==y[i]?g(i+1):y[i]&amp;&amp;i*z.endsWith(y.slice(i))||eval(`/.${y}./`).test(z))(0)&gt;!!x.match(y)
</code></pre>
<p><a href="https://tio.run/##ZVDfT8IwEH7vX3EkBlqpRV8xnZmwyMKPkraTEGOkwJg1cxC2EIb4t2OHRh98@e7uu/vuu9yb2Zl8sbWb4ipbL@PTip/23Cu5hw98z7bxJjWLGLegldBGg9CEW@4dnuwz56XDuwTb5g1pV3m9bi8PLM6W@cQWr7hkeWqd1BJyPMY7k@JZi118lJ@sNSOsiPMCHwjB18Sr1fbs3RQLpyGn28U6y9dpzNJ1gmePJrXLNkJjIST0RKQCCrInkApHD4MAtPQ7fQoq7PTRVEQwjJSGrtDgCgmhAn/UhY4USn0zWlGYRlIrpPS5NQh86fTalwiF2e7HLRyOpRgHEs5@LnHxn2VVaTQe@CNHugMCTcER1S4NPkx@F@uJgPtQdhVMQt0D4eaVdkihQjT7ezJmTUKhQvdt/EINnRPurbAheE4IQacv" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu6" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 95 bytes</h1>
<p>Bookends code is a slight tweak of my old answer to <a href="https://codegolf.stackexchange.com/a/194939">Is it a circumfix?</a></p>
<pre class="lang-ruby prettyprint-override"><code>-&gt;s,w{t=s.tr' ','';(t=~/.#{w}./||(1...~-z=w.size).any?{w==t[0,_1]+t[_1-z..]}&amp;&amp;z&lt;t.size)&amp;&amp;!s[w]}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=ZU_bTsJAEH3frxijaQG3C7yZaDULNNJw2WZ3m4Y0TeOlCAkioUsayuVHfCFGP4r4M26p8cWXMzNn5syZef9crh7Xh4-x_bVSY-vqGFu3Kc42yk6JWppgYtO8rih7Xyfnm2xH6tttpUkI2Vu5nZF0midV8jBf320y21ZhA8fN6FKFcdPKCYl2hpHfqHLKMM7SMIt2vza1bDKdJfCSqBTBAsZh7SImT5O31wVJF7OpqpgYzGqEkvlzqTgcvz3GOHSZLxwMvMuQcIf3fQckp-0eBuG2e2jEfBj4QkKHSdAFB1cAHXagzZkQJSMFhpHPpUBCnlp9h3Ktl5QjSoHSFtZAkTvwOPMcDidDnej4z7OoJPL6dKhJfYEjMWiiWCaBQvC3WQYMWi7vCAhc2QWm54XUiKHA8scf" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/266134/">266134</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




