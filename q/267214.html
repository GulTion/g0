<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::267214</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>121</td><td>JavaScript ES6</td><td>231201T110040Z</td><td><a href="https://codegolf.stackexchange.com/questions/267214/one-dimensional-map-colouring/267218#267218">Arnauld</a></td></tr>
<tr d-ix="1"><td>138</td><td>Haskell</td><td>231201T151108Z</td><td><a href="https://codegolf.stackexchange.com/questions/267214/one-dimensional-map-colouring/267222#267222">matteo_c</a></td></tr>
<tr d-ix="2"><td>318</td><td>Python3</td><td>231201T135351Z</td><td><a href="https://codegolf.stackexchange.com/questions/267214/one-dimensional-map-colouring/267220#267220">Ajax1234</a></td></tr>
<tr d-ix="3"><td>033</td><td>Charcoal</td><td>231201T101825Z</td><td><a href="https://codegolf.stackexchange.com/questions/267214/one-dimensional-map-colouring/267217#267217">Neil</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>JavaScript (ES6), 121 bytes</h1>
<p>Expects an array of characters, returns a string of digits.</p>

<pre class="lang-javascript prettyprint-override"><code>f=(a,x)=&gt;(g=([v,...b],m,p,o)=&gt;v?(h=j=&gt;j?h(j-1)||!(m[v]-j)&amp;&amp;p==v|j^m[p]&amp;&amp;g(b,{...m,[v]:j},v,[o]+j):0)(x):o)(a,g)||f(a,-~x)
</code></pre>
<p><a href="https://tio.run/##VY/BboMwDIbvfYqsrlCiBbReqdKq0B73BIipTgjQqDQIKoRE2aszS9sOPdn@/f2/ZYcD9qa7to/w7gu7LKXiKEeh9rxSPBtkFEU6l41spSdxOPBaObV3h5q7cCuezzfeZEMeOhEErVLD0301WZsHQcW1nMjcSFrHbpaDzHz@7kT8IfgoYi/oTkUBJdXwexTLLlsxtkZtiqKwtqzqur6u5auGLxoWRiOi1dtfDY6QQAonOAOCBgMFWDgiJBpSA6cCzjQmkKSQnuBEkAFjwWrQBOJ/xh9PB2C9yldR6bszmpr3TO3ZxDpLDSt5Rs/1udgx4@@9v9no5it@2Uyf@KijBkdOe2LFTMDNd33MNhPN84Uss1h@AA" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Commented</h3>
<pre class="lang-javascript prettyprint-override"><code>f = (                 // f is a recursive function taking:
  a,                  //   a[] = input array
  x                   //   x = maximum color index, initially undefined
) =&gt;                  //
( g = (               // g is a recursive function taking:
    [v,               //   v = next value from a[]
        ...b],        //   b[] = remaining values
    m, p, o           //   m = mapping, p = previous value, o = output
  ) =&gt;                //
  v ?                 // if v is defined:
    ( h =             //   h is yet another recursive function taking:
      j =&gt;            //     j = color index candidate
      j ?             //   if j is not 0:
        h(j - 1) ||   //     try a recursive call with j - 1
        !(            //     if either m[v] is undefined
          m[v] - j    //     or m[v] is equal to j
        ) &amp;&amp;          //     and
        p == v |      //     either p = v
        j ^ m[p] &amp;&amp;   //     or j is not equal to m[p],
        g(            //     then do a recursive call to g:
          b,          //       pass the remaining values
          { ...m,     //       build a new object m' with all properties
            [v]: j }, //       of m and a new property m'[v] = j
          v,          //       set the previous value to v
          [o] + j     //       append j to the output
        )             //     end of recursive call
      :               //   else:
        0             //     failure: return 0
    )(x)              //   initial call to h with j = x
  :                   // else:
    o                 //   success: return the output
)(a, g) ||            // initial call to g, using m = g
f(a, -~x)             // if it failed, try again with one more color
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.haskell.org" rel="nofollow noreferrer">Haskell</a>, 138 bytes</h1>
<pre class="lang-haskell prettyprint-override"><code>import Data.List
f x|b&lt;-nub x,y&lt;-[elemIndices j b!!0|j&lt;-x]=[v|n&lt;-[1..],t&lt;-mapM id$[1..n]&lt;$b,v&lt;-[map(t!!)y],z y==z v]!!0
z=map length.group
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=bZLNToQwEMfjlacYYLOBBIgtHjzAQVcPJvoEGw4FCnTlK1BW2PAEvoKXvRifSZ_GYT_VeGimM__f_KdN-_aRsfaZ5_l2-97JxL7-fBVFXTUS7phkzqNopZJAP4aeXXYh9Nbg2Uue8-KhjEXEW1hBqKqX48qz-8BfrscSdeI4gSU9u2D1E4h4NhXKwJuF1hpVrBpSVc0hsDYw-P4G1gFaKBsfFch5mcrMSZuqq_cn-roYoqppeCShb2FowYdk2vlTxHQ-h_SQp1P-kvGGK4CiD2dHcGDniUKKwqmIt1KUgokSi3UjSgnL4zRj6k6aqrgvuwIqE4wEhAkjGMKaUs8GyVsZsZa3gaKc9ui0xDGGxsIojmPOkzTLMqFZoPW0p5T2h6CZ1h-OHThCCQKEUBcj-cmxOAoZYzwke86lu0WIe-b0G6bfhvoiwgYdsR03AfTKpVf_YYtfmIuOLmKBsn-B49_4Bg" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu2" class="pu"><h1>Python3, 318 bytes:</h1>
<pre class="lang-py prettyprint-override"><code>def f(s):
 q,F,T=[(s,'','',{})],0,''
 while q:
  s,S,L,d=q.pop(0)
  if''==s:
   if(T==''or len({*S})&lt;F):F,T=len({*S}),S
   continue
  K=[*{*sum(d.values(),[])}]
  for i in d.get(s[0],K+[max(K+[0])+1]):
   if(''==S or S[-1]!=str(i)or s[0]==L)and(T==''or len({*S})&lt;F):q=[(s[1:],S+str(i),s[0],{**d,s[0]:[i]})]+q
 return T
</code></pre>
<p><a href="https://tio.run/##dZA9a8MwEIZ3/woVD9LZarDpUkw1tIEsyeZsQoNsybEgkT9k9wOT3@5KLS0UUhDovXvuvTup/5jazj489uO6Kt2ghjgoIjTQHT0yThzFOJzlCoJmXkXorTVnjQZfhBwt6YEqNmz6ricZ@JRpMGbMBeo1OTKGcTeis7ZkScorPO2gCK1/E7QMpXVnJ2Nn7fWe8WRJ3HwhavMqz7N2BCgXcBUeNr6XQcYitTnpiTieCbpP@UW@E39lAtJcwM/wsEmJvKPk97m4Y24aiQEfBxtjB5BW3d5wCE/neSFomX676NeoJUnUlyq4Ef5L0iFCo57m0aLj2o/GTsSPlVWtlNK6ObVtazBAdAPJW0iqupJS6ir/g@JnGb9U8bb2NfF/ZBvI@gk" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 33 bytes</h1>
<pre><code>⊞υθＦυＦιＦΦ⁻ικ¬∨№ι⁺κλ№ι⁺λκ⊞υ⪫⪪ιλκ⊟υ
</code></pre>
<p><a href="https://tio.run/##VU7LCsIwELz3K/a4C/ELchQ8CGrAL4ix0qVLtqZJfz@mQQ/OZWAezITJp6BeanVlnbAYeJMdXpoAC0Fn/vKJJY8JLxzLimxgJgNXzXhLeNQS8645ad5sQKiZ/6rsjQ74TZ2VI94X4Z4S6gk7uMSt53RpF8jW6h/hOfp62OQD" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Exponentially slow, as it generates multiple copies of all legal colourings and then outputs one with the fewest colours, so test case is pretty short. Uses the input character set as the colour characters. Explanation:</p>
<pre><code>⊞υθＦυ
</code></pre>
<p>Start a breadth-first search for legal colourings.</p>
<pre><code>ＦιＦΦ⁻ικ¬∨№ι⁺κλ№ι⁺λκ
</code></pre>
<p>Loop over all possible parings of countries that could be coloured with the same colour.</p>
<pre><code>⊞υ⪫⪪ιλκ
</code></pre>
<p>Generate the resulting colouring and add it to the search list.</p>
<pre><code>⊟υ
</code></pre>
<p>Output one of the colourings that uses the fewest colours.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/267214/">267214</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




