<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::96188</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>004</td><td>Thunno 2 S</td><td>230813T092903Z</td><td><a href="https://codegolf.stackexchange.com/questions/96188/sum-of-neighbours/264113#264113">The Thon</a></td></tr>
<tr d-ix="1"><td>010</td><td>APL Dyalog Unicode</td><td>200513T222833Z</td><td><a href="https://codegolf.stackexchange.com/questions/96188/sum-of-neighbours/204712#204712">Jarmex</a></td></tr>
<tr d-ix="2"><td>059</td><td>C++14</td><td>161114T074040Z</td><td><a href="https://codegolf.stackexchange.com/questions/96188/sum-of-neighbours/99718#99718">Karl Nap</a></td></tr>
<tr d-ix="3"><td>005</td><td>Pyth</td><td>161030T214458Z</td><td><a href="https://codegolf.stackexchange.com/questions/96188/sum-of-neighbours/98067#98067">Yotam Sa</a></td></tr>
<tr d-ix="4"><td>067</td><td>Batch</td><td>161014T130238Z</td><td><a href="https://codegolf.stackexchange.com/questions/96188/sum-of-neighbours/96204#96204">Neil</a></td></tr>
<tr d-ix="5"><td>021</td><td>Vim</td><td>161018T061946Z</td><td><a href="https://codegolf.stackexchange.com/questions/96188/sum-of-neighbours/96594#96594">udioica</a></td></tr>
<tr d-ix="6"><td>009</td><td>Actually</td><td>161018T044437Z</td><td><a href="https://codegolf.stackexchange.com/questions/96188/sum-of-neighbours/96591#96591">Sherlock</a></td></tr>
<tr d-ix="7"><td>069</td><td>GameMaker Language</td><td>161014T144922Z</td><td><a href="https://codegolf.stackexchange.com/questions/96188/sum-of-neighbours/96216#96216">Timtech</a></td></tr>
<tr d-ix="8"><td>005</td><td>MATL</td><td>161014T125055Z</td><td><a href="https://codegolf.stackexchange.com/questions/96188/sum-of-neighbours/96198#96198">Luis Men</a></td></tr>
<tr d-ix="9"><td>045</td><td>C#</td><td>161015T014551Z</td><td><a href="https://codegolf.stackexchange.com/questions/96188/sum-of-neighbours/96277#96277">Grax32</a></td></tr>
<tr d-ix="10"><td>025</td><td>Haskell</td><td>161015T001405Z</td><td><a href="https://codegolf.stackexchange.com/questions/96188/sum-of-neighbours/96270#96270">Roman Cz</a></td></tr>
<tr d-ix="11"><td>025</td><td>Perl 6</td><td>161014T225438Z</td><td><a href="https://codegolf.stackexchange.com/questions/96188/sum-of-neighbours/96266#96266">Brad Gil</a></td></tr>
<tr d-ix="12"><td>005</td><td>05AB1E</td><td>161014T123756Z</td><td><a href="https://codegolf.stackexchange.com/questions/96188/sum-of-neighbours/96195#96195">Emigna</a></td></tr>
<tr d-ix="13"><td>067</td><td>C++</td><td>161014T192838Z</td><td><a href="https://codegolf.stackexchange.com/questions/96188/sum-of-neighbours/96245#96245">Anedar</a></td></tr>
<tr d-ix="14"><td>031</td><td>Ruby</td><td>161014T182330Z</td><td><a href="https://codegolf.stackexchange.com/questions/96188/sum-of-neighbours/96234#96234">Lee W</a></td></tr>
<tr d-ix="15"><td>060</td><td>Java 8</td><td>161014T191228Z</td><td><a href="https://codegolf.stackexchange.com/questions/96188/sum-of-neighbours/96243#96243">dpa97</a></td></tr>
<tr d-ix="16"><td>040</td><td>PowerShell v2+</td><td>161014T190417Z</td><td><a href="https://codegolf.stackexchange.com/questions/96188/sum-of-neighbours/96241#96241">AdmBorkB</a></td></tr>
<tr d-ix="17"><td>068</td><td>BrainFlak</td><td>161014T185041Z</td><td><a href="https://codegolf.stackexchange.com/questions/96188/sum-of-neighbours/96238#96238">DJMcMayh</a></td></tr>
<tr d-ix="18"><td>005</td><td>Pyke</td><td>161014T135546Z</td><td><a href="https://codegolf.stackexchange.com/questions/96188/sum-of-neighbours/96211#96211">Blue</a></td></tr>
<tr d-ix="19"><td>009</td><td>J</td><td>161014T180319Z</td><td><a href="https://codegolf.stackexchange.com/questions/96188/sum-of-neighbours/96229#96229">miles</a></td></tr>
<tr d-ix="20"><td>005</td><td>Jelly</td><td>161014T152042Z</td><td><a href="https://codegolf.stackexchange.com/questions/96188/sum-of-neighbours/96220#96220">Lynn</a></td></tr>
<tr d-ix="21"><td>046</td><td>Javascript</td><td>161014T170740Z</td><td><a href="https://codegolf.stackexchange.com/questions/96188/sum-of-neighbours/96227#96227">Naftali</a></td></tr>
<tr d-ix="22"><td>031</td><td>R</td><td>161014T123607Z</td><td><a href="https://codegolf.stackexchange.com/questions/96188/sum-of-neighbours/96193#96193">Billywob</a></td></tr>
<tr d-ix="23"><td>029</td><td>Mathematica</td><td>161014T124850Z</td><td><a href="https://codegolf.stackexchange.com/questions/96188/sum-of-neighbours/96197#96197">Martin E</a></td></tr>
<tr d-ix="24"><td>025</td><td>Python</td><td>161014T150059Z</td><td><a href="https://codegolf.stackexchange.com/questions/96188/sum-of-neighbours/96217#96217">Lynn</a></td></tr>
<tr d-ix="25"><td>041</td><td>Ruby</td><td>161014T151512Z</td><td><a href="https://codegolf.stackexchange.com/questions/96188/sum-of-neighbours/96219#96219">adrianmp</a></td></tr>
<tr d-ix="26"><td>017</td><td>TIBasic</td><td>161014T143800Z</td><td><a href="https://codegolf.stackexchange.com/questions/96188/sum-of-neighbours/96215#96215">Timtech</a></td></tr>
<tr d-ix="27"><td>093</td><td>Elixir</td><td>161014T143031Z</td><td><a href="https://codegolf.stackexchange.com/questions/96188/sum-of-neighbours/96213#96213">adrianmp</a></td></tr>
<tr d-ix="28"><td>072</td><td>Java 7</td><td>161014T123712Z</td><td><a href="https://codegolf.stackexchange.com/questions/96188/sum-of-neighbours/96194#96194">Numberkn</a></td></tr>
<tr d-ix="29"><td>012</td><td>Gloo</td><td>161014T134833Z</td><td><a href="https://codegolf.stackexchange.com/questions/96188/sum-of-neighbours/96210#96210">Kade</a></td></tr>
<tr d-ix="30"><td>048</td><td>Racket</td><td>161014T133151Z</td><td><a href="https://codegolf.stackexchange.com/questions/96188/sum-of-neighbours/96208#96208">rnso</a></td></tr>
<tr d-ix="31"><td>047</td><td>Scala</td><td>161014T121745Z</td><td><a href="https://codegolf.stackexchange.com/questions/96188/sum-of-neighbours/96190#96190">corvus_1</a></td></tr>
<tr d-ix="32"><td>042</td><td>C# with LINQ</td><td>161014T125252Z</td><td><a href="https://codegolf.stackexchange.com/questions/96188/sum-of-neighbours/96200#96200">adrianmp</a></td></tr>
<tr d-ix="33"><td>026</td><td>MATLAB</td><td>161014T125327Z</td><td><a href="https://codegolf.stackexchange.com/questions/96188/sum-of-neighbours/96201#96201">Suever</a></td></tr>
<tr d-ix="34"><td>nan</td><td>><></td><td>161014T130350Z</td><td><a href="https://codegolf.stackexchange.com/questions/96188/sum-of-neighbours/96205#96205">Aaron</a></td></tr>
<tr d-ix="35"><td>039</td><td>PHP</td><td>161014T125713Z</td><td><a href="https://codegolf.stackexchange.com/questions/96188/sum-of-neighbours/96202#96202">aross</a></td></tr>
<tr d-ix="36"><td>033</td><td>JavaScript ES6</td><td>161014T125141Z</td><td><a href="https://codegolf.stackexchange.com/questions/96188/sum-of-neighbours/96199#96199">Arnauld</a></td></tr>
<tr d-ix="37"><td>028</td><td>Python 2</td><td>161014T124439Z</td><td><a href="https://codegolf.stackexchange.com/questions/96188/sum-of-neighbours/96196#96196">Zack Aki</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/Thunno/Thunno2" rel="nofollow noreferrer">Thunno 2</a> <code>S</code>, 4 <a href="https://github.com/Thunno/Thunno2/blob/main/docs/codepage.md" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>€Ðḣṫ
</code></pre>
<p><a href="https://Not-Thonnu.github.io/run#aGVhZGVyPSZjb2RlPSVFMiU4MiVBQyVDMyU5MCVFMSVCOCVBMyVFMSVCOSVBQiZmb290ZXI9JmlucHV0PSU1QjElMkMtMjAlMkMzMDAlMkMtNDAwMCUyQzUwMDAwJTJDLTYwMDAwMCUyQzcwMDAwMDAlNUQmZmxhZ3M9U2U=" rel="nofollow noreferrer">Try it online!</a></p>
<p>Port of Emigna's 05AB1E answer.</p>
<h4>Explanation</h4>
<pre class="lang-python prettyprint-override"><code>€Ðḣṫ  # Implicit input
€     # To each item in the input:
 Ð    #  Triplicate in-place
  ḣ   # Remove the first item
   ṫ  # Remove the last item
      # Sum the resulting list
      # Implicit output
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog Unicode)</a>, 10 <a href="https://codegolf.meta.stackexchange.com/questions/9428/when-can-apl-characters-be-counted-as-1-byte-each/9429#9429">bytes</a></h1>

<pre class="lang-apl prettyprint-override"><code>+/¯1↓1↓3/⊢
</code></pre>
<p><a href="https://tio.run/##SyzI0U2pTMzJT///X1v/0HrDR22TQdhY/1HXov9pj9omPOrte9Q31dP/UVfzofXGj9omAnnBQc5AMsTDM/h/msKj3jUKCPCod66CAVeagiGamCFYzARVzAAqaI4kaGQBFzQ0gAmamgIFga4DYiMgNoaJ6xqaACUM9AyB2AiIjSHm6pmAzQAqNlAwNjAAMkwMgJSpgQGYY2YAZpgbQGiwFiNjYwsLEyMA" rel="nofollow noreferrer" title="APL (Dyalog Unicode) – Try It Online">Try it online!</a></p>
<h2>Explanation</h2>
<p>Use the same observation as <a href="https://codegolf.stackexchange.com/a/96217/26977">a previous answer</a> that the result is the sum of 3x the elements minus the first and last.</p>
<pre class="lang-apl prettyprint-override"><code>+/¯1↓1↓3/⊢ ⍝ Function train. Below explanation uses a sample input of 1 2 3
       3/⊢ ⍝ Repeats (/) each element of the right hand side (⊢) three times - 1 1 1 2 2 2 3 3 3
     1↓    ⍝ Drops (↓) the first item of the array -&gt; 1 1 2 2 2 3 3 3
  ¯1↓      ⍝ Drops (↓) the last item (¯1) of the array -&gt; 1 1 2 2 2 3 3
+/         ⍝ Sum over the array -&gt; 14
</code></pre>
</div>
<div id="pu2" class="pu"><h1>C++14, <s>64</s> 59 bytes</h1>

<p>As unnamed lambda</p>
<pre class="lang-c++ prettyprint-override"><code>[](auto c,int&amp;r){r=-c[0];for(auto x:c)r+=3*x;r-=c.back();}
</code></pre>
<p>Initializes counter with <code>-c[0]</code>, then sums all elements times <code>3</code> and subtracts the last element. This gives <code>3*sum(c)-c.first-c.last</code> which is the direct formula for this problem.</p>
<p>Takes any container that supports <code>.back()</code>. If you insinst on using plain old arrays (<em>örglöärks</em>) then substitute <code>c.back()</code> with <code>std::end(c)[-1]</code> for <strong>+7 bytes</strong>.</p>
<p>Usage:</p>
<pre class="lang-c++ prettyprint-override"><code>auto n=[](auto c,int&amp;r){r=-c[0];for(auto x:c)r+=3*x;r-=c.back();};

std::vector&lt;int&gt; v{1,2,3,4,5};
//or// std::array&lt;int,5&gt; v{1,2,3,4,5};
//or// int v[]={1,2,3,4,5}; //with std::end(c)[-1]
int r;
n(v,r);
std::cout &lt;&lt; r &lt;&lt; std::endl;
</code></pre>
</div>
<div id="pu3" class="pu"><h1>Pyth, <s>10</s> <s>7</s> 5 bytes</h1>

<pre><code>sPt*3
</code></pre>

<p>Saved 1 byte thanks to implicit input, and 1 byte thanks to the <code>P</code> function (replaces <code>t_</code> in the previous solution)</p>

<hr>

<p><strong>Previous versions:</strong></p>

<pre><code>st_t*3Q
</code></pre>

<p>Concatenates the array 3 times, removes first and last elements, and sums it up</p>

<pre><code>-*3sQ+eQhQ
</code></pre>

<p>The final sum is 3 times the sum of the elements - first element - last element.<br/>
That's exactly what this code does :)</p>

<p><strong><a href="https://pyth.herokuapp.com/?code=-%2A3sQ%2BeQhQ&amp;input=%5B1%2C2%2C3%2C4%2C5%5D&amp;debug=1" rel="nofollow">Try it here!</a></strong></p>
</div>
<div id="pu4" class="pu"><h2>Batch, 67 bytes</h2>

<pre><code>@set/as=l=0
@for %%n in (%*)do @set/as+=l=%%n
@cmd/cset/as*3-%1-l
</code></pre>

<p>If there are no parameters, the last command turns into <code>0 * 3 - -0</code>.</p>
</div>
<div id="pu5" class="pu"><h1>Vim, 21 bytes</h1>

<p><code>yGPP&lt;C-V&gt;GI+&lt;Esc&gt;DgvJD^C&lt;C-R&gt;=&lt;C-R&gt;"&lt;CR&gt;</code></p>

<p>Input is one number per line. Same algorithm as other entries (triplicate array, remove first and last items, sum).</p>
</div>
<div id="pu6" class="pu"><h1><a href="http://github.com/Mego/Seriously" rel="nofollow">Actually</a>, 9 bytes</h1>

<p>Golfing suggestions welcome. <a href="http://actually.tryitonline.net/#code=M0BWZFhwWM6jzqM&amp;input=WzEsMiwzLDQsNV0" rel="nofollow">Try it online!</a></p>

<pre><code>3@VdXpXΣΣ
</code></pre>

<p><strong>Ungolfing</strong></p>

<pre><code>       Implicit input a.
3@V    Push all slices of a of length 1 &lt;= n &lt;= 3.
dXpX   Get rid of the first and last slices since they're length 1 lists.
Σ      Summing a 2D array essentially flattens into a 1D array.
Σ      Push sum(a).
       Implicit return.
</code></pre>
</div>
<div id="pu7" class="pu"><h1>GameMaker Language, 69 bytes</h1>
<pre><code>a=argument_count;for(i=0;i&lt;a;)s+=argument[i++]*(3-(i=1||i=a))return s
</code></pre>
</div>
<div id="pu8" class="pu"><h1><a href="http://github.com/lmendo/MATL" rel="noreferrer">MATL</a>, 5 bytes</h1>
<pre><code>7BZ+s
</code></pre>
<p><a href="http://matl.tryitonline.net/#code=N0JaK3M&amp;input=WzEsLTIwLDMwMCwtNDAwMCw1MDAwMCwtNjAwMDAwLDcwMDAwMDBd" rel="noreferrer">Try it online!</a></p>
<h3>Explanation</h3>
<pre><code>7B  % Push array [1, 1, 1], obtained as 7 in binary
Z+  % Take input implicitly. Convolve with [1, 1, 1], keeping size
s   % Sum of resulting array. Display implicitly
</code></pre>
</div>
<div id="pu9" class="pu"><h1>C#, <s>49</s> 45 bytes</h1>

<p>(27 if you don't count the using statement)</p>

<pre><code>using System.Linq;v=&gt;v.Sum()*3-v[0]-v.Last();
</code></pre>
</div>
<div id="pu10" class="pu"><h1>Haskell, 25 bytes</h1>
<p>From fastest</p>
<pre><code>sum.sequence[(0-).head,(3*).sum,(0-).last]$[1..5]
</code></pre>
<p>via prettiest</p>
<pre><code>sum.sequence[sum.init,sum,sum.tail]$[1..5]
</code></pre>
<p>down to ugliest but shortest</p>
<pre><code>let y x=sum$init x++x++tail x in y[1..5]     
--  1234567890123456789012345
</code></pre>
</div>
<div id="pu11" class="pu"><h1><a href="https://perl6.org" rel="nofollow">Perl 6</a>, 25 bytes</h1>



<pre class="lang-perl6 prettyprint-override"><code>{.sum*3-.[0]-(.[*-1]//0)}    # generates warning
{+$_&amp;&amp;.sum*3-.[0]-.[*-1]}
</code></pre>

<h2>Expanded:</h2>

<pre class="lang-perl6 prettyprint-override"><code># bare block lambda with implicit parameter ｢$_｣
{
  +$_        # the number of elements

  &amp;&amp;         # if that is 0 return 0, otherwise return the following

  .sum * 3   # sum them up and multiply by 3
  - .[ 0 ]   # subtract the first value
  - .[*-1]   # subtract the last value
}
</code></pre>

<h2>Test:</h2>

<pre class="lang-perl6 prettyprint-override"><code>use v6.c;
use Test;

my &amp;code = {+$_&amp;&amp;.sum*3-.[0]-.[*-1]}

my @tests = (
  []            =&gt; 0,
  [1]           =&gt; 1,
  [1,4]         =&gt; 10,
  [1,4,7]       =&gt; 28,
  [1,4,7,10]    =&gt; 55,
  [-1,-2,-3]    =&gt; -14,
  [0.1,0.2,0.3] =&gt; 1.4,
  [1,-20,300,-4000,50000,-600000,7000000] =&gt; 12338842,
);

plan +@tests;

for @tests -&gt; $_ ( :key(@input), :value($expected) ) {
  is code(@input), $expected, .gist;
}
</code></pre>
</div>
<div id="pu12" class="pu"><h1><a href="http://github.com/Adriandmen/05AB1E" rel="nofollow">05AB1E</a>, <s>11</s> 5 bytes</h1>

<p>Saved 6 bytes thanks to <em>Adnan</em>.</p>

<pre><code>€Ð¦¨O
</code></pre>

<p><a href="http://05ab1e.tryitonline.net/#code=4oKsw5DCpsKoTw&amp;input=WzEsLTIwLDMwMCwtNDAwMCw1MDAwMCwtNjAwMDAwLDcwMDAwMDBd" rel="nofollow">Try it online!</a></p>

<p><strong>Explanation</strong></p>

<pre><code>€Ð     # triplicate each item in the list
  ¦¨   # remove first and last element
    O  # sum
</code></pre>
</div>
<div id="pu13" class="pu"><h1>C++, 67 bytes</h1>

<pre><code>#import&lt;valarray&gt;
int f(std::valarray&lt;int&gt;v){return 3*v.sum()-v[0]-v[v.size()-1];}
</code></pre>

<p>Usage:</p>

<pre><code>#include &lt;iostream&gt;
int main() {
    std::cout &lt;&lt; f({1,2,1});
    return 0;
}
</code></pre>
</div>
<div id="pu14" class="pu"><h1>Ruby, <s>35</s> <s>33</s> 31 bytes</h1>

<p>Inspired by Lynn's solution:</p>

<pre><code>-&gt;a{[*(a*3)[1..-2]].reduce:+}
</code></pre>

<p>The <code>to_a</code> segment is there to handle the empty array.</p>

<p>EDIT: Thanks to m-chrzan and histocrat.</p>
</div>
<div id="pu15" class="pu"><h1>Java 8, 60</h1>

<pre><code>d-&gt;d.length&gt;0?Arrays.stream(d).sum()*3-d[0]-d[d.length-1]:0;
</code></pre>
</div>
<div id="pu16" class="pu"><h2>PowerShell v2+, 40 bytes</h2>

<pre><code>param($a)($a-join'+'|iex)*3-$a[0]-$a[-1]
</code></pre>

<p>Similar to the other answers, sums the list, multiplies by 3, subtracts the end elements. Barfs out a spectacular error for empty input, and then spits out <code>0</code>, but since STDERR is ignored by default, this is OK.</p>

<pre><code>PS C:\Tools\Scripts\golfing&gt; .\sum-of-neighbors.ps1 @()
Invoke-Expression : Cannot bind argument to parameter 'Command' because it is an empty string.
At C:\Tools\Scripts\golfing\sum-of-neighbors.ps1:1 char:22
+ param($a)($a-join'+'|iex)*3-$a[0]-$a[-1]
+                      ~~~
    + CategoryInfo          : InvalidData: (:String) [Invoke-Expression], ParameterBindingValidationException
    + FullyQualifiedErrorId : ParameterArgumentValidationErrorEmptyStringNotAllowed,Microsoft.PowerShell.Commands.InvokeExpressionCommand

0

PS C:\Tools\Scripts\golfing&gt; .\sum-of-neighbors.ps1 @(1)
1

PS C:\Tools\Scripts\golfing&gt; .\sum-of-neighbors.ps1 @(1,4)
10

PS C:\Tools\Scripts\golfing&gt; .\sum-of-neighbors.ps1 @(1,4,7)
28

PS C:\Tools\Scripts\golfing&gt; .\sum-of-neighbors.ps1 @(1,4,7,10)
55

PS C:\Tools\Scripts\golfing&gt; .\sum-of-neighbors.ps1 @(-1,-2,-3)
-14

PS C:\Tools\Scripts\golfing&gt; .\sum-of-neighbors.ps1 @(0.1,0.2,0.3)
1.4

PS C:\Tools\Scripts\golfing&gt; .\sum-of-neighbors.ps1 @(1,-20,300,-4000,50000,-600000,7000000)
12338842
</code></pre>
</div>
<div id="pu17" class="pu"><h1><a href="http://github.com/DJMcMayhem/Brain-Flak" rel="nofollow">Brain-Flak</a>, 68 bytes</h1>

<pre><code>(&lt;&gt;&lt;&gt;)([]){{}({}({})&lt;&gt;{})&lt;&gt;({}&lt;(({})&lt;&gt;{})&gt;&lt;&gt;)([][()()])}{}({}{}&lt;&gt;{})
</code></pre>

<p><a href="http://brain-flak.tryitonline.net/#code=KDw-PD4pKFtdKXt7fSh7fSh7fSk8Pnt9KTw-KHt9PCgoe30pPD57fSk-PD4pKFtdWygpKCldKX17fSh7fXt9PD57fSk&amp;input=MQoyCjMKNAo1" rel="nofollow">Try it online!</a></p>

<p>Explanation:</p>

<pre><code>#Push a 0
(&lt;&gt;&lt;&gt;)

#Push the stack height
([])

#While true:
{

    #Pop the stack height 
    {}

    #Add the sum of the top 3 elements to the other stack, and pop the top of the stack
    ({}({})&lt;&gt;{})&lt;&gt;({}&lt;(({})&lt;&gt;{})&gt;&lt;&gt;)

    #Push the new stack height minus two
    ([][()()])

#End
}

#Pop the exhausted counter
{}

#Add the top two numbers to the other stack
({}{}&lt;&gt;)
</code></pre>
</div>
<div id="pu18" class="pu"><h2>Pyke, <s>9</s> 5 bytes</h2>
<pre><code>3*tOs
</code></pre>
<p><a href="http://pyke.catbus.co.uk/?code=3%2atOs&amp;input=%5B1%2C4%2C7%2C10%5D" rel="nofollow noreferrer">Try it here!</a></p>
</div>
<div id="pu19" class="pu"><h1>J, 9 bytes</h1>

<pre><code>+/@,}.,}:
</code></pre>

<p>For <code>[1, 2, 3, 4, 5]</code>, the neighbors are</p>

<pre><code>1 2 3 4 5
1+2
1+2+3
  2+3+4
    3+4+5
      4+5
</code></pre>

<p>Then look along the diagonals of the sums</p>

<pre><code>(2+3+4+5)+(1+2+3+4+5)+(1+2+3+4)
</code></pre>

<p>So we need only the find the sum of the input with its head removed and with its tail removed.</p>

<h2>Usage</h2>

<pre><code>   f =: +/@,}.,}:
   f 1 2 3 4 5
39
   f '' NB. Empty array
0
   f 1
1
   f 1 4
10
   f 1 4 7
28
   f 1 4 7 10
55
   f _1 _2 _3
_14
   f 0.1 0.2 0.3
1.4
   f 1 _20 300 _4000 50000 _600000 7000000
12338842
</code></pre>

<h2>Explanation</h2>

<pre><code>+/@,}.,}:  Input: array A
       }:  Return a list with the last value in A removed
    }.     Return a list with the first value in A removed
      ,    Join them
   ,       Join that with A
+/@        Reduce that using addition to find the sum and return
</code></pre>
</div>
<div id="pu20" class="pu"><h1><a href="http://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 5 bytes</h1>

<pre><code>ẋ3ṖḊS
</code></pre>

<p><a href="http://jelly.tryitonline.net/#code=4bqLM-G5luG4ilM&amp;input=" rel="nofollow noreferrer">Try it online!</a></p>

<p>Translation of my <a href="https://codegolf.stackexchange.com/a/96217/3852">Python answer</a>.</p>

<pre><code>ẋ3      Concatenate three copies of the input list
  Ṗ     Remove the last element
   Ḋ    Remove the first element
    S   Sum
</code></pre>
</div>
<div id="pu21" class="pu"><h1>Javascript, 46 bytes</h1>
<pre><code>a.reduce((t,c,i)=&gt;t+(a[i-1]|0)+c+(a[i+1]|0),0)
</code></pre>
<p><div class="snippet" data-lang="js" data-hide="true" data-console="true" data-babel="false">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-js lang-js prettyprint-override"><code>const a = [1,2,3,4,5];
console.log(a.reduce((t,c,i)=&gt;t+(a[i-1]|0)+c+(a[i+1]|0),0));</code></pre>
</div>
</div>
</p>
<p>Thanks @rlemon for the extra 2 bytes</p>
</div>
<div id="pu22" class="pu"><h2>R, <strike>75 70 52 34 33</strike> 31 bytes</h2>

<p>Sum times three and subtract first and last element</p>

<pre><code>sum(x&lt;-scan())*3-x[1]-tail(x,1)
</code></pre>

<p>Edit: Saved 3 extra bytes thanks to @rturnbull</p>
</div>
<div id="pu23" class="pu"><h2>Mathematica, <s>34</s> <s>32</s> 29 bytes</h2>

<p><em>Taking some inspiration Lynn's neat <a href="https://codegolf.stackexchange.com/a/96217/8478">Python answer</a>...</em></p>

<pre><code>Check[3Tr@#-Last@#-#[[1]],0]&amp;
</code></pre>

<p>or</p>

<pre><code>Check[3(+##)-#&amp;@@#-Last@#,0]&amp;
</code></pre>

<p>or</p>

<pre><code>Check[##-#/3&amp;@@#*3-Last@#,0]&amp;
</code></pre>

<p>Unfortunately, this approach isn't quite as convenient in Mathematica as it is in Python, because there's no short and safe way to discard the first and last element of a list that might be empty.</p>
</div>
<div id="pu24" class="pu"><h1>Python, 25 bytes</h1>

<pre><code>lambda a:sum((a*3)[1:-1])
</code></pre>

<p>To see why this works, rotate the expansion in the OP by 45 degrees:</p>

<pre><code>             1 + 2                        
           + 1 + 2 + 3                            2 + 3 + 4 + 5
               + 2 + 3 + 4          =       + 1 + 2 + 3 + 4 + 5
                   + 3 + 4 + 5              + 1 + 2 + 3 + 4.
                       + 4 + 5
</code></pre>
</div>
<div id="pu25" class="pu"><h1>Ruby, 41 bytes</h1>
<pre><code>-&gt;a{a.reduce(0,:+)*3-(a[0]?a[0]+a[-1]:0)}
</code></pre>
<p>Full program with test cases:</p>
<pre><code>f=-&gt;a{a.reduce(0,:+)*3-(a[0]?a[0]+a[-1]:0)}

#test cases
a=[]            
puts f.call(a)  # 0

a=[1]           
puts f.call(a)  # 1

a=[1,4]         
puts f.call(a)  # 10

a=[1,4,7]       
puts f.call(a)  # 28

a=[1,4,7,10]    
puts f.call(a)  # 55

a=[-1,-2,-3]    
puts f.call(a)  # -14

a=[0.1,0.2,0.3] 
puts f.call(a)  # 1.4

a=[1,-20,300,-4000,50000,-600000,7000000] 
puts f.call(a)  # 12338842
</code></pre>
<p>My first attempt in Ruby.</p>
</div>
<div id="pu26" class="pu"><h1>TI-Basic, 17 bytes</h1>
<p>Simply three times the sum of the list, minus the first and last element.</p>
<pre><code>3sum(Ans)-Ans(1)-Ans(dim(Ans)-1
</code></pre>
</div>
<div id="pu27" class="pu"><h1><a href="http://elixir-lang.org/" rel="nofollow noreferrer">Elixir</a>, 93 bytes</h1>
<pre><code>&amp;if (length(&amp;1)&gt;0),do: Enum.reduce(&amp;1,fn(n,r)-&gt;n+r end)*3-Enum.at(&amp;1,0)-List.last(&amp;1),else: 0
</code></pre>
<p>Anonymous function using the capture operator.</p>
<p>Full program with test cases:</p>
<pre><code>s=&amp;if (length(&amp;1)&gt;0),do: Enum.reduce(&amp;1,fn(n,r)-&gt;n+r end)*3-Enum.at(&amp;1,0)-List.last(&amp;1),else: 0
# test cases:
IO.puts s.([])            # 0
IO.puts s.([1])           # 1
IO.puts s.([1,4])         # 10 (1+4 + 4+1)
IO.puts s.([1,4,7])       # 28
IO.puts s.([1,4,7,10])    # 55
IO.puts s.([-1,-2,-3])    # -14
IO.puts s.([0.1,0.2,0.3]) # 1.4
IO.puts s.([1,-20,300,-4000,50000,-600000,7000000]) # 12338842
</code></pre>
<p><strong>Try it online on <a href="http://elixirplayground.com/" rel="nofollow noreferrer">ElixirPlayground</a> !</strong></p>
</div>
<div id="pu28" class="pu"><h1>Java 7, 72 Bytes</h1>
<pre><code>float c(float[]a){float s=0,l=0;for(float i:a)s+=l=i;return 3*s-l-a[0];}
</code></pre>
</div>
<div id="pu29" class="pu"><h1><a href="https://github.com/kade-robertson/gloo" rel="nofollow">Gloo</a>, 12 Bytes</h1>

<p>Turns out a feature of Gloo isn't working as intended so I had to do this a painful way.</p>

<pre><code>__]:]:]:,,[+
</code></pre>

<p>Explanation:</p>

<pre><code>__                   // duplicate the input list twice
  ]:]:]:             // flatten each list, and rotate stack left 
        ,,           // pop the last 2 numbers 
                     // (which are the first and last element of the list)
          [+         // wrap all items in a list and sum.
</code></pre>
</div>
<div id="pu30" class="pu"><h2>Racket 48 bytes</h2>

<pre><code>(if(null? l)0(-(* 3(apply + l))(car l)(last l)))
</code></pre>

<p>Ungolfed:</p>

<pre><code>(define (f lst)
  (if (null? lst)
      0
      (- (* 3 (apply + lst))
         (first lst)
         (last lst))))
</code></pre>

<p>Testing: </p>

<pre><code>(f '()) 
(f '(1))
(f '(1 4)) 
(f '(1 4 7)) 
(f '(1 4 7 10)) 
(f '(-1 -2 -3)) 
(f '(0.1 0.2 0.3)) 
(f '(1 -20 300 -4000 50000 -600000 7000000)) 
</code></pre>

<p>Output: </p>

<pre><code>0
1
10
28
55
-14
1.4000000000000001
12338842
</code></pre>
</div>
<div id="pu31" class="pu"><h1>Scala, 47 bytes</h1>

<pre><code>def&amp;(a:Float*)=(0+:a:+0)sliding 3 map(_.sum)sum
</code></pre>

<p>Prepends and appends a 0, then uses a sliding window of size 3 to sum the neighbors, and calculates the total sum</p>
</div>
<div id="pu32" class="pu"><h1>C# with LINQ, 42 bytes</h1>
<pre><code>a=&gt;3*a.Sum()-(a.Length&gt;0?a[0]+a.Last():0);
</code></pre>
<p>Requires the <code>System.Linq</code> namespace.</p>
<hr />
<h1>C#, 84 bytes</h1>
<pre><code>a=&gt;{int i=0,l=a.Length;var r=0d;for(;i&lt;l;)r+=3*a[i++];return(l&gt;0?r-a[0]-a[l-1]:0);};
</code></pre>
<p>Full program with test cases:</p>
<pre><code>using System;

namespace SumOfNeighbours
{
    class Program
    {
        static void Main(string[] args)
        {
            Func&lt;double[],double&gt;f= a=&gt;{int i=0,l=a.Length;var r=0d;for(;i&lt;l;)r+=3*a[i++];return(l&gt;0?r-a[0]-a[l-1]:0);};
            
            
            // test cases:
            double[] x = new double[]{1,2,3,4,5};
            Console.WriteLine(f(x));    // 39
            
            x = new double[] {};
            Console.WriteLine(f(x));    // 0
            
            x = new double[] {1};
            Console.WriteLine(f(x));    // 1
            
            x = new double[] {1,4};
            Console.WriteLine(f(x));    // 10 (1+4 + 4+1)
            
            x = new double[] {1,4,7};
            Console.WriteLine(f(x));    // 28
            
            x = new double[] {1,4,7,10};
            Console.WriteLine(f(x));    // 55
            
            x = new double[] {-1,-2,-3};
            Console.WriteLine(f(x));    // -14
            
            x = new double[] {0.1,0.2,0.3};
            Console.WriteLine(f(x));    // 1.4
            
            x = new double[] {1,-20,300,-4000,50000,-600000,7000000};
            Console.WriteLine(f(x));    // 12338842
        }
    }
}
</code></pre>
</div>
<div id="pu33" class="pu"><h1>MATLAB, <s>31</s> <s>28</s> 26 bytes</h1>
<p><em>3 bytes saved thanks to @Luis</em></p>
<pre><code>@(x)sum(conv(x,1:3&gt;0,'s'))
</code></pre>
<p>This creates an anonymous function named <code>ans</code> that can be called like: <code>ans([1, 2, 3, 4, 5])</code></p>
<p>In order to provide an online demo (which uses Octave), I had to use <code>'same'</code> instead of <code>'s'</code> as the last input to <code>conv</code></p>
<p><a href="http://ideone.com/RB0j0J" rel="nofollow noreferrer"><strong>Online Demo</strong></a></p>
<p><strong>Explanation</strong></p>
<p>We perform convolution (<code>conv</code>) with a <code>1 x 3</code> kernel of all 1's (created by making an array <code>1:3</code> and then comparing to zero <code>&gt;0</code>) and keep the size of the original by specifying the third input as <code>'same'</code> or in MATLAB we can simply shorten this to <code>'s'</code>. We then apply the sum to the result.</p>
</div>
<div id="pu34" class="pu"><h1><a href="https://esolangs.org/wiki/Fish" rel="nofollow">>&lt;></a>, 25 (+3 for <code> -v</code>) = 28 bytes</h1>

<p>Takes input from the stack with <code> -v</code> and assumes stdin is empty, relying on it to provide a <code>-1</code> value.</p>

<pre><code>:{:}+i*v
:$v?=1l&lt;+++:
;n&lt;
</code></pre>
</div>
<div id="pu35" class="pu"><h1>PHP, 39 bytes</h1>

<pre><code>&lt;?=3*array_sum($a=$argv)-$a[1]-end($a);
</code></pre>

<p>Run like this:</p>

<pre><code>echo '&lt;?=3*array_sum($a=$argv)-$a[1]-end($a);' | php -- 1 -20 300 -4000 50000 -600000 7000000 2&gt;/dev/null;echo
</code></pre>

<h1>Explanation</h1>

<p>Challenge can be reduced to adding every number 3 times, except the first and last number (added twice). Therefore I return 3 times the sum, minus the first and last number.</p>
</div>
<div id="pu36" class="pu"><h2>JavaScript (ES6), <s>40</s> 33 bytes</h2>
<pre><code>l=&gt;eval(l.join`+`)*3-l[0]-l.pop()
</code></pre>
<p>Returns <code>NaN</code> when given an empty list.</p>
</div>
<div id="pu37" class="pu"><h1>Python 2, 28 bytes</h1>
<pre><code>lambda a:sum(a)*3-a[0]-a[-1]
</code></pre>
<p>Just 3 times the sum and minus one of each end element</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/96188/">96188</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




