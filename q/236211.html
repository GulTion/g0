<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::236211</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>307</td><td>Python3</td><td>240214T044301Z</td><td><a href="https://codegolf.stackexchange.com/questions/236211/follow-the-border/270064#270064">Ajax1234</a></td></tr>
<tr d-ix="1"><td>101</td><td>JavaScript ES6</td><td>211012T122715Z</td><td><a href="https://codegolf.stackexchange.com/questions/236211/follow-the-border/236219#236219">Arnauld</a></td></tr>
<tr d-ix="2"><td>051</td><td>Charcoal</td><td>211012T085438Z</td><td><a href="https://codegolf.stackexchange.com/questions/236211/follow-the-border/236215#236215">Neil</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>Python3, 307 bytes</h1>
<pre class="lang-py prettyprint-override"><code>E=enumerate
M=[(0,1),(0,-1),(1,0),(-1,0)]
def f(b):
 d={(x,y):v for x,r in E(b)for y,v in E(r)}
 T=[]
 for x,y in d:
  if d[(x,y)]and any((x+X,y+Y)not in d or not d[(x+X,y+Y)]for X,Y in M):T+=[d[(x,y)]]
  if 0==d[(x,y)]:T+=[d[J]for X,Y in[(1,1),(-1,-1),(1,-1),(-1,1)]if(J:=(x+X,y+Y))in d and d[J]]
 return T
</code></pre>
<p><a href="https://tio.run/##bVI9b4MwFNz9K6wstRun8gcEEsljl0rtlKEVRRUVoCK1BhlaBVX97el7mEQZ8HDGd/fOz9jdOHy0zqSdP53ubeW@vypfDBV5tBmTQnEBuMFJCQm4wSknZVXTmr3zPaGl/WVHMfL9D61bT4/C08bRexBxOYqfsPT8j9CDzXIy20bkSwigTU3LbMrIC1fSwo2MHdfPYly/cNcOk49CDX6jcZZyzHkWL6g/8v1hbbNzTB5SpbVnZpYfrooyOJIKR5oPuJmXiudNzR729rIXn3rA7jAD4n01fHtHD6eeWrparYiUSimiDAxAHQWURAfUWkqCvl7NBUqdCwBBV0HWV3mSmCnPgKyDbC6yMZLIKTxspwNqCThZo4tVyiRJcN7CgFnHcQzFgAa6SmGARna7HVpDcXzuUpso3pIk3aXJlsQR7KuBnIyoJClBJY6mMnwWQ/v23ha@ZD2@jvk/ZdntV9Gxxg2iCRfX4LXVzedQefbUukrQ/q7vPpuB3by6Gw5vjHQe/KxmV4mcL7BqmdbLtFmmo2U6Bvr0Dw" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1>JavaScript (ES6), <s> 116 </s> 101 bytes</h1>
<p>Expects a list of strings, using any non-digit character for padding. Returns a string.</p>

<pre class="lang-javascript prettyprint-override"><code>a=&gt;(g=X=&gt;+(d&amp;=3,v=(a[y=Y+--d%2]||0)[x=X+~-d%2])?x-q|y?v+g(x,Y=y):v:g(X,d+=2))(q=a[d=Y=0].search`\\d`)
</code></pre>
<p><a href="https://tio.run/##TU9NjtowFN77FBZSG1vBEbHj/FAZVu22i9mAAGksYpiMogSSgEClPUGlbrps79HzzAV6BObZEcO8xWf5fT/vvWd91O26KXYdq@rcXDfqqtWEbNVMTXySf1RieFREL85q7jOWf@Cry2VEFyc183@4L52e2P5ynh79LTkN5@pMx8fxlsyGua84pWSv9CJXczVaBa3RzfrpcbnMH@m1MftD0RjibVqPBo3R@ZeiNA/nak1GNOjqh64pqi2hQbsri44MltWyGtBgUzef9fqJtFhN8DeEcWk6rLHC7V04oEMgbNVA6GBX7@45GEJc46ZpDGThDdH0E4LWuq7aujRBWW8JUMOeV3gRBEG9gkWPpmkN5D3XRUU8j@Ip9v7/@/Xy5zegh8fYe/n704Ow7/TKWBiGKBRQgDzqkSHeI@eMoa@HbnfoxhiUQkRRxG25D0JhePMD2vZ7tS0nRcjOYUi4OcL63@mEazgKdEIwxNz0fh/eI2eAN49dQ1jg1moDrJOxJEnsG0PBy6WUkAUo4IoUCjiUZZmVvmWBJ45BItMUqDSVkkuwwzUikjFK0ixNYiQj2IxD03ktk6TIMjK6X@IcMRfWE3GncZCJUCav" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>How?</h3>
<p>This algorithm starts at the leftmost non-empty cell on the first row of the grid and goes counterclockwise from there, leading to the outputs provided in the test cases in reverse order.</p>
<p>The recursive function <span class="math-container">\$g\$</span> takes a position <span class="math-container">\$(X,Y)\$</span> and a direction <span class="math-container">\$d\$</span>. (NB: <span class="math-container">\$Y\$</span> and <span class="math-container">\$d\$</span> are global variables. Only <span class="math-container">\$X\$</span> is passed explicitly.)</p>
<p>We first look for the smallest <span class="math-container">\$q\ge0\$</span> such that the cell at <span class="math-container">\$(q,0)\$</span> is not empty and do an initial call to <span class="math-container">\$g\$</span> with <span class="math-container">\$(X,Y)=(q,0)\$</span> and <span class="math-container">\$d=0\$</span>.</p>
<p>Within the function <span class="math-container">\$g\$</span>:</p>
<ol>
<li>We force <span class="math-container">\$d\$</span> into <span class="math-container">\$[0,1,2,3]\$</span> by isolating the two least significant bits, and we decrement it afterwards.</li>
<li>We advance by one square to a new position <span class="math-container">\$(x,y)\$</span>, according to the updated value of <span class="math-container">\$d\$</span>:
<ul>
<li><span class="math-container">\$-1\$</span> = north</li>
<li><span class="math-container">\$0\$</span> = west</li>
<li><span class="math-container">\$1\$</span> = south</li>
<li><span class="math-container">\$2\$</span> = east</li>
</ul>
</li>
<li>If we've just reached <span class="math-container">\$(q,0)\$</span>, the border is complete. We append the last value and stop.</li>
<li>Otherwise, we do a recursive call:
<ul>
<li>If the cell at our new position is non-empty, we append the value of the cell to the final result and process the recursive call <code>g(x,Y=y)</code>. Because <span class="math-container">\$d\$</span> was decremented at step 1, it means that we do a 90° turn to the right.</li>
<li>Otherwise, we process the recursive call <code>g(X,d+=2)</code>, which means that we rollback to the previous position and do a 90° turn to the left.</li>
</ul>
</li>
</ol>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, <s>82</s> <s>53</s> 51 bytes</h1>
<pre><code>ＷＳ⟦ι⟧Ｊ⌕⭆θ¬Σι0⁰≔⁰θＷ¬⁼0ＫＫ«⊞υＫＫ≦⊕θＷ›0§ＫＶ⁻¹θ≦⊖θ✳⊗θ0»⎚↑υ
</code></pre>
<p><a href="https://tio.run/##XY9BS8QwEIXPza8Ie5pAhbZ6sqfFVamwS2HVi3iI7bANpkmbJiqIv71OSVVwDo/J8OZ7maaTrrFSz/N7pzRyqMwQ/NE7ZU4gBK@p8fCknkXJ7kI/3Fu4UaaF6NjLAcaUH6yHY@hBCSFSvsk2pBktbKdJnQxkKR/ptQYs5usxSD0BOVNeI75SEmV9sqQOUwfhd1iyhCJWTGUahz0aj20EJivx1qH06CJu6yvT4gcshEdrDhh6aQzQj/bKhAnyZXdJ@wPv8D84Xr1TDhuvLDlseNHYwvhzX8m@2JVG6YDa6L58GFIeRDnPnOd5zvJzKtLiIipnRdSi4JzNZ2/6Gw" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Uses space as the padding character. Edit: Saved <s>29</s> 31 bytes by realising that the border end could be detected without deleting the interior. Explanation:</p>
<pre><code>ＷＳ⟦ι⟧
</code></pre>
<p>Print the input to the canvas.</p>
<pre><code>Ｊ⌕⭆θ¬Σι0⁰
</code></pre>
<p>Find the first digit in the first row.</p>
<pre><code>≔⁰θ
</code></pre>
<p>Start moving horizontally.</p>
<pre><code>Ｗ¬⁼0ＫＫ«
</code></pre>
<p>Repeat until the border has been traversed.</p>
<pre><code>⊞υＫＫ
</code></pre>
<p>Append the next border cell to the result.</p>
<pre><code>≦⊕θ
</code></pre>
<p>Try rotating left.</p>
<pre><code>Ｗ›0§ＫＶ⁻¹θ≦⊖θ
</code></pre>
<p>Rotate right if necessary until a digit is found.</p>
<pre><code>✳⊗θ0
</code></pre>
<p>Move in that direction, erasing the current border.</p>
<pre><code>»⎚↑υ
</code></pre>
<p>Output the final result.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/236211/">236211</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




