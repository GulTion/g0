<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::129136</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>040</td><td>Pip r</td><td>170701T013902Z</td><td><a href="https://codegolf.stackexchange.com/questions/129136/simplify-matrix-input/129277#129277">DLosc</a></td></tr>
<tr d-ix="1"><td>2725</td><td>Vyxal JoP</td><td>240401T124522Z</td><td><a href="https://codegolf.stackexchange.com/questions/129136/simplify-matrix-input/272228#272228">pacman25</a></td></tr>
<tr d-ix="2"><td>038</td><td>Charcoal</td><td>180721T210049Z</td><td><a href="https://codegolf.stackexchange.com/questions/129136/simplify-matrix-input/169001#169001">Neil</a></td></tr>
<tr d-ix="3"><td>590</td><td>SCALA</td><td>170630T125700Z</td><td><a href="https://codegolf.stackexchange.com/questions/129136/simplify-matrix-input/129160#129160">V. Court</a></td></tr>
<tr d-ix="4"><td>149</td><td>Scala</td><td>170701T163639Z</td><td><a href="https://codegolf.stackexchange.com/questions/129136/simplify-matrix-input/129356#129356">Tamoghna</a></td></tr>
<tr d-ix="5"><td>106</td><td>Javascript ES6</td><td>170630T094506Z</td><td><a href="https://codegolf.stackexchange.com/questions/129136/simplify-matrix-input/129144#129144">Endenite</a></td></tr>
<tr d-ix="6"><td>129</td><td>Mathematica</td><td>170630T222740Z</td><td><a href="https://codegolf.stackexchange.com/questions/129136/simplify-matrix-input/129242#129242">Greg Mar</a></td></tr>
<tr d-ix="7"><td>060</td><td>MATL</td><td>170630T144930Z</td><td><a href="https://codegolf.stackexchange.com/questions/129136/simplify-matrix-input/129170#129170">Sanchise</a></td></tr>
<tr d-ix="8"><td>054</td><td>Retina</td><td>170630T084012Z</td><td><a href="https://codegolf.stackexchange.com/questions/129136/simplify-matrix-input/129138#129138">Martin E</a></td></tr>
<tr d-ix="9"><td>214</td><td>C# .NET Core</td><td>170630T165046Z</td><td><a href="https://codegolf.stackexchange.com/questions/129136/simplify-matrix-input/129197#129197">Kamil Dr</a></td></tr>
<tr d-ix="10"><td>052</td><td>Retina</td><td>170630T104421Z</td><td><a href="https://codegolf.stackexchange.com/questions/129136/simplify-matrix-input/129148#129148">Dada</a></td></tr>
<tr d-ix="11"><td>209</td><td>Java 8 with Netbeans 8+</td><td>170630T142942Z</td><td><a href="https://codegolf.stackexchange.com/questions/129136/simplify-matrix-input/129167#129167">Olivier </a></td></tr>
<tr d-ix="12"><td>143</td><td>Python 2</td><td>170630T145504Z</td><td><a href="https://codegolf.stackexchange.com/questions/129136/simplify-matrix-input/129171#129171">musicman</a></td></tr>
<tr d-ix="13"><td>132</td><td>R</td><td>170630T142827Z</td><td><a href="https://codegolf.stackexchange.com/questions/129136/simplify-matrix-input/129166#129166">Giuseppe</a></td></tr>
<tr d-ix="14"><td>041</td><td>V</td><td>170630T115930Z</td><td><a href="https://codegolf.stackexchange.com/questions/129136/simplify-matrix-input/129154#129154">nmjcman1</a></td></tr>
<tr d-ix="15"><td>034</td><td>05AB1E</td><td>170630T115012Z</td><td><a href="https://codegolf.stackexchange.com/questions/129136/simplify-matrix-input/129153#129153">Erik the</a></td></tr>
<tr d-ix="16"><td>037</td><td>Jelly</td><td>170630T131811Z</td><td><a href="https://codegolf.stackexchange.com/questions/129136/simplify-matrix-input/129161#129161">Jonathan</a></td></tr>
<tr d-ix="17"><td>415</td><td>C</td><td>170630T121810Z</td><td><a href="https://codegolf.stackexchange.com/questions/129136/simplify-matrix-input/129156#129156">Steadybo</a></td></tr>
<tr d-ix="18"><td>153</td><td>Python 3</td><td>170630T103827Z</td><td><a href="https://codegolf.stackexchange.com/questions/129136/simplify-matrix-input/129147#129147">Mr. Xcod</a></td></tr>
<tr d-ix="19"><td>145</td><td>Python 2</td><td>170630T112942Z</td><td><a href="https://codegolf.stackexchange.com/questions/129136/simplify-matrix-input/129152#129152">totallyh</a></td></tr>
<tr d-ix="20"><td>053</td><td>Japt</td><td>170630T091633Z</td><td><a href="https://codegolf.stackexchange.com/questions/129136/simplify-matrix-input/129140#129140">Shaggy</a></td></tr>
<tr d-ix="21"><td>071</td><td>Perl 5</td><td>170630T093620Z</td><td><a href="https://codegolf.stackexchange.com/questions/129136/simplify-matrix-input/129142#129142">Dada</a></td></tr>
<tr d-ix="22"><td>044</td><td>05AB1E</td><td>170630T084554Z</td><td><a href="https://codegolf.stackexchange.com/questions/129136/simplify-matrix-input/129139#129139">Emigna</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/dloscutoff/pip" rel="nofollow noreferrer">Pip</a> <code>-r</code>, <s>48</s> <s>45</s> 40 bytes</h1>
<pre><code>YP(RPg@XN)R';kPTMyR&quot;], [&quot;&quot;; &quot;yTR&quot;[]&quot;&quot;{}&quot;
</code></pre>
<p>Takes input from stdin. Outputs formats in the order 1, 3, 2. <a href="https://tio.run/##JYyxCsJADEB3vyJkUcEel5gzObr4A8pxdFBKZykuxa2I3x5Luz3egzeNk/uzHGp5XR/3Y92379Ld5orDCXrEFnDuKvYD4veH7jGQqBoAxMBKJADNQiKUdjFIylnXRsy20UVF49LYsqTVnDXzdkhkpt58/g" rel="nofollow noreferrer" title="Pip – Try It Online">Try it online!</a></p>
<h3>Explanation</h3>
<pre><code>                 Preset variables used: XN is regex matching numbers, k is &quot;, &quot;
YP(RPg@XN)R';k
     g           With -r flag, g is a list of lines from stdin
      @XN        Find all numbers in (elements of) g
   RP            Apply Pip's built-in repr, which wraps lists in [] and separates items
                   with ; (e.g. [[1;2];[3;4]])
  (      )R';k   Replace the semicolons with &quot;, &quot; to obtain format #1
YP               Print and yank into y variable

PTMyR&quot;], [&quot;&quot;; &quot;
 TMy             Trim the first and last characters from y
    R&quot;], [&quot;&quot;; &quot;  Replace the delimiters between sublists with &quot;; &quot; to obtain format #3
P                Print

yTR&quot;[]&quot;&quot;{}&quot;
yTR              In y, transliterate
   &quot;[]&quot;          [ and ]
       &quot;{}&quot;      into { and } (format #2)
                 Autoprint (implicit)
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-2" rel="nofollow noreferrer">Vyxal</a> <code>JoP</code>, 218 <a href="https://github.com/Vyxal/Vyncode/blob/main/README.md" rel="nofollow noreferrer">bits<sup>v2</a></sup>, 27.25 bytes</h1>
<pre><code>↵⌈vꜝS\&quot;FD`], [`‛; VḢṪ,‛[]‛{}Ŀ
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2&amp;c=1#WyJQSm89IiwiIiwi4oa14oyIduqcnVNcXFwiRkRgXSwgW2DigJs7IFbhuKLhuaos4oCbW13igJt7fcS/IiwiIiwiXCIxNiAgICAyICAgIDMgICAxM1xcbiA1ICAgMTEgICAxMCAgICA4XFxuIDkgICAgNyAgICA2ICAgMTJcXG4gNCAgIDE0ICAgMTUgICAgMVwiIl0=" rel="nofollow noreferrer">Try it Online!</a></p>
<p>Bitstring:</p>
<pre><code>11111110100001100011010100001101001010100000001010110111101001011011000110101001100001111000001100101000011110101011111110111100111011110100010101101011100100110110111111001101001100100000100111001111011001011111101100
</code></pre>
<pre><code>↵⌈vꜝS\&quot;FD`], [`‛; VḢṪ,‛[]‛{}Ŀ­⁡​‎‎⁪⁡⁪⁠⁪⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁪‏‏​⁡⁠⁡‌⁢​‎‎⁪⁡⁪⁠⁪⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁪‏‏​⁡⁠⁡‌⁣​‎⁪⁪⁠‎⁪⁡⁪⁠⁪⁢⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁤⁪‏‏​⁡⁠⁡‌⁤​‎‎⁪⁡⁪⁠⁪⁣⁡⁪‏‏​⁡⁠⁡‌⁢⁡​‎‎⁪⁡⁪⁠⁪⁣⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁣⁪‏⁠⁪⁪⁠⁪⁪⁠⁪⁪⁠‎⁪⁡⁪⁠⁪⁢⁡⁣⁪‏‏​⁡⁠⁡‌⁢⁢​‎‎⁪⁡⁪⁠⁪⁤⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁢⁪‏‏​⁡⁠⁡‌⁢⁣​‎‎⁪⁡⁪⁠⁪⁢⁡⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁢⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁢⁢⁪‏‏​⁡⁠⁡‌⁢⁤​‎‎⁪⁡⁪⁠⁪⁢⁢⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁢⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁣⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁣⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁣⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁣⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁤⁡⁪‏‏​⁡⁠⁡‌­
↵⌈                             # ‎⁡split on newlines and spaces
  vꜝ                           # ‎⁢keep only the numbers
    S\&quot;F                       # ‎⁣turn the list into a string and remove the quotes 
        D                      # ‎⁤push 3 copies
         `], [`   V            # ‎⁢⁡replace the separator with
               ‛;              # ‎⁢⁢the string &quot;; &quot;
                   ḢṪ,         # ‎⁢⁣remove the edges and print+pop
                      ‛[]‛{}Ŀ  # ‎⁢⁤replace brackets with curly braces and implicitly output this plus the untouched copy
💎
</code></pre>
<p>Created with the help of <a href="https://vyxal.github.io/Luminespire" rel="nofollow noreferrer">Luminespire</a>.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 38 bytes</h1>

<pre><code>≔Ｅ⪪θ¶⪫Φ⪪ι λ, θＥ⪪[]{}²⪫ι⪫Ｅθ⪫ιλ, ⪫[]⪫θ; 
</code></pre>

<p><a href="https://tio.run/##XYzNCsIwEITveYqwpxQqmNZfevLiQRBEj7WHIkEXQtqmpRfx2eNuaVVcsvNBZnZuj9LfqtKGsGtbvDt1LGt1qS12qoklXB1EsTxU6NQebWf86CF5ki1LC/QiYhNl4uTRdT8lkBfPFwWSqQb/2Iw8m9741ij8FNJMfUOCquB7BNmQyULIAUCvJE3CktLqVMglU7PM@Xsj5Ja5ZuG0ToRcMAfhtNTUVIRZb98" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Note: Trailing space. Link is to verbose version of code. Charcoal has a multiline input option delimited using <code>["""</code> and <code>"""]</code>. Explanation:</p>

<pre><code>   θ                Input string
  ⪪ ¶               Split on newlines
 Ｅ                  Map over each line
        ι           Current line
       ⪪            Split on spaces
      Φ   λ         Filter out empty strings
     ⪫     ,        Join with `, `
≔            θ      Assign resulting array to variable
</code></pre>

<p>This takes the input and prepares it by splitting it into lines and normalising the separators.</p>

<pre><code> ⪪[]{}²             Split `[]{}` into substrings of length 2
Ｅ                   Map over the substrings
          Ｅθ        Map over array from above
            ⪫ιλ     Wrap each element with the substring
         ⪫     ,    Join elements with `, `
       ⪫ι           Wrap with the substring
                    Implicitly print each result on a separate line
</code></pre>

<p>This handles the <code>[[ ... ], [ ... ]]</code> and <code>{{ ... }, { ... }}</code> cases.</p>

<pre><code>    θ               Array from above
   ⪫ ;              Join elements with `; `
⪫[]                 Wrap result with `[]`
                    Implicitly print
</code></pre>

<p>This handles the <code>[ ... ; ... ]</code> case.</p>

<p>Before I golfed a byte off the above solution I used to have two 39-byte solutions; this is the other:</p>

<pre><code>⮌Ｅ⪪[]{}[]²⪫ι⪫ＥＥ⪪θ¶⪫Φ⪪λ ν, ⎇κ⪫ιλλ⁺§;,,κ 
</code></pre>

<p><a href="https://tio.run/##RYzNCsIwEITvfYplTylEMPUfT14EBaGot9pD0YDBEGtaRRGfPe7WShdmBjJf5ngu/PFa2BBSb1wttvqhfaXFpijFrrSmFpjl70@Wo4QklrC@GidMmwx14E0CHhz@oaWxtfZtZ6kDrhyJpjCm3GvvCv8Sl27Wxiyy1N4rsahX7qSfAudS0qdL/Ftpbh5ChohqDHQJ24CkBhGMOBVbn5@nEcw4J2xMqySCIWdjTIOipTz0HvYL" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Note: Trailing space. Link is to verbose version of code. Explanation:</p>

<pre><code>  ⪪[]{}[]²                              Split `[]{}[]` into substrings of length 2
 Ｅ                                      Map over the substrings
                θ                       Input string
               ⪪ ¶                      Split on newlines
              Ｅ                         Map over each line
                     λ                  Current line
                    ⪪                   Split on spaces
                   Φ   ν                Filter out empty strings
                  ⪫     ,               Join with `, `
             Ｅ                          Map over each line
                          ⎇κ   λ        If outer index is zero, just use the line
                            ⪫ιλ         Otherwise wrap the line in the substring
            ⪫                   ⁺§;,,κ  Join with `; ` or `, ` per outer index
          ⪫ι                            Wrap in the substring
⮌                                       Reverse the order of the results
                                        Implicitly print each result on a separate line
</code></pre>
</div>
<div id="pu3" class="pu"><h1>SCALA, 590 bytes</h1>
<p>Was hard, but I think I'm done with it</p>
<pre><code>var o=s.replaceAll(&quot;  *&quot;,&quot; &quot;).replaceAll(&quot;\n &quot;,&quot;\n&quot;)
var z=o.split(&quot;\n&quot;)
var h=z.length
var k=new Array[Array[String]](h)
for(i&lt;-0 to h-1)k(i)=z(i).split(&quot; &quot;)
var u=k.length-1
print(&quot;{&quot;)
for(i&lt;-0 to u){print(&quot;{&quot;)
for(j&lt;-0 to k(i).length-2)print(k(i)(j)+&quot;, &quot;)
print(k(i).last)
print(&quot;}&quot;)}
print(&quot;}[&quot;)
for(i&lt;-0 to u){print(&quot;[&quot;)
for(j&lt;-0 to k(i).length-2)print(k(i)(j)+&quot;, &quot;)
print(k(i).last)
print(&quot;]&quot;)}
print(&quot;][&quot;)
for(i&lt;-0 to u-1){for(j&lt;-0 to k(i).length-2)print(k(i)(j)+&quot;, &quot;)
print(k(i).last)
print(&quot;; &quot;)}
for(j&lt;-0 to k(k.length-1).length-2)print(k(u)(j)+&quot;, &quot;)
print(k.last.last)
print(&quot;]&quot;)
</code></pre>
<p>Quick explanation : I take input surrounded by triple quotes, then take off unrequired spaces ; split the string two times (once for lines and once for columns) ; and I print with my three routines. It might be possible defining a function to mutualize, but I don't know how.</p>
<p><a href="https://tio.run/##rZLBcoMgEIbP5Sl2OEEbnWhMD2095AF66tF4oIZEDUUHSZvq@OwWo8aktrcwzML@C9/P7FBETLAme095pOGVJRL4UXO5KWCV5xW62/AtfDCtkiMpnt7MKne0aj6ZgswvbMVzwSK@EoJggHs8w4DplbqWYNS1xBS1l0o/s4tcJJqMWuyXtuByp@NTuvcl/4KVUuw76GJnG4YkpmibKZK8WHPQGcSWQ/ckoX5pwoCFnnrw9z3VclBuAKZW4WvAgVa/KmlfabHDdZd2h1qNpPQBz1qPUbMFK/Qg4BrT@rwP/jUMbmYYXhiGE0PTouo2Ps/QGl2zxhb/AT1MoSfi5PlNjfovhjF2wHJhGAt7YQaCUQDwlp6ZbeK4F5UlwKM9d7rEcw2Jorr5AQ" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu4" class="pu"><h1>Scala, <s>183</s> <s>181</s> 149 bytes</h1>
<p><a href="https://tio.run/##pVRLj9MwEL77VwzWHhJIIr8fLQXtkQMnxKn0ENrsUhTSyg1oUZTfXsZxy7LsBQUr8ozn8c3M5ySnbd3W58Pnr822h/f1voOBAOyaO/iGh6wO96cF3IZQ/1x/6MO@u9/kC/jY7XtYYSQJGaWUQyngumQlcREJoLTCJ9q4IBrAVIynGCUwK6@O4bD7vu3f9U2o@0Oo7g6hqbdfsiPW6dsuJzH2csjyx1oRXBMDYOfD/EcD85tXRM@va6Jx4llGSiUBHWWklLNodgR8lDZuJtEOkX8@bXq6idn1WcWVtQ4drBKWT5ioKcU1YZXS3tvJwoVwSTNWWYY@4bzSk0VaLxKC5s7Nv72SVUx6J6f3KTbBpNJYAu1CaClNKiK10c6ySWeGacdk0jHTOkYwXAp8SYWYUjl3mnueYLzzWl4mMspK7hOkEZzLNI1gOAROH7thAsdOqVg@UVBOHTilEgwy5ZlJHUiHuTaVFQ5pknL@xVw@PHWRl28MkPqrlkRpnnn409xSEvE057d0f6M9yn/tfDz/qFsIq@xhkX4l@erNEE271UMVmmNbb5vbts3opw5e0oIuAXH/tGdvX79Y5vAKfQX6ltmJrtc3w@4alMWUgm4KWNN83GxocaLD8DxgLGDAgHGMAeub3QYP5/H8Cw" rel="nofollow noreferrer" title="Scala – Try It Online">Try it online!</a></p>
<h2>New version, using <code>String</code> replacements and regexes:</h2>
<pre><code>(x:String)=&gt;{val d=x.replaceAll(&quot;\n *&quot;,&quot;; &quot;).replaceAll(&quot;(?&lt;!;) +&quot;,&quot;, &quot;);(s&quot;[[${d.replace(&quot;; &quot;,&quot;], [&quot;)}]]&quot;,s&quot;{{${d.replace(&quot;; &quot;,&quot;}, {&quot;)}}}&quot;,s&quot;[$d]&quot;)}
</code></pre>
<p>The new version has the same semantics and usage as the old version using <code>split</code>, <code>map</code> and <code>mkString</code>.</p>
<h2>Old version, using <code>split</code>, <code>map</code> and <code>mkString</code>:</h2>
<h3>Edit: Redundant character class for space removed</h3>
<pre><code>(x:String)=&gt;{val d=x.split(&quot;\n&quot;).map(_.trim.split(&quot; +&quot;).mkString(&quot;, &quot;));(d.map(x=&gt;s&quot;[$x]&quot;).mkString(&quot;[&quot;,&quot;, &quot;,&quot;]&quot;),d.map(x=&gt;s&quot;{$x}&quot;).mkString(&quot;{&quot;,&quot;, &quot;,&quot;}&quot;),d.mkString(&quot;[&quot;,&quot;; &quot;,&quot;]&quot;))}
</code></pre>
<p>Lambda. Execute in REPL. Accepts input as triple-quoted <code>String</code> parameter, returns output as a 3-tuple of the required outputs. The REPL renders tuples separated by commas, bordered by parentheses.</p>
<h2>Explanation:</h2>
<h3>New version:</h3>
<p>Mostly the same logic as the other regex-based answers, except for the tricky lookbehind to handle leading spaces on lines.</p>
<h3>Old version:</h3>
<p>We split the input matrix representation into a 2D <code>String</code> array, then map it to a 1D array by collapsing the inner arrays by separating the elements with <code>, </code>. Finally, we just create the different outputs by collapsing the 1D arrays by using the required newline separators and boundary markers (prefixes and suffixes). It's all implemented via <code>split</code> (reading), <code>map</code> (transforming) and <code>mkString</code> (collapsing).</p>
<p>Example REPL session:</p>
<pre><code>scala&gt; val r=(x:String)=&gt;{val d=x.split(&quot;\n&quot;).map(_.trim.split(&quot; +&quot;).mkString(&quot;, &quot;));(d.map(x=&gt;s&quot;[$x]&quot;).mkString(&quot;[&quot;,&quot;, &quot;,&quot;]&quot;),d.map(x=&gt;s&quot;{$x}&quot;).mkString(&quot;{&quot;,&quot;, &quot;,&quot;}&quot;),d.mkString(&quot;[&quot;,&quot;; &quot;,&quot;]&quot;))}

scala&gt; r(&quot;&quot;&quot;16    2    3   13
     |  5   11   10    8
     |  9    7    6   12
     |  4   14   15    1&quot;&quot;&quot;)
res12: (String, String, String) = ([[16, 2, 3, 13], [5, 11, 10, 8], [9, 7, 6, 12], [4, 14, 15, 1]],{{16, 2, 3, 13}, {5, 11, 10, 8}, {9, 7, 6, 12}, {4, 14, 15, 1}},[16, 2, 3, 13; 5, 11, 10, 8; 9, 7, 6, 12; 4, 14, 15, 1])
</code></pre>
<p>For the few-element edge cases, this provides the desired output.</p>
</div>
<div id="pu5" class="pu"><h1>Javascript (ES6), <s>121</s> <s>110</s> 106 bytes</h1>

<p>-15 bytes thanks to @Shaggy and @Justin</p>

<pre><code>m=&gt;`[[${(a=m.split`
`.map(x=&gt;x.match(/\S+/g).join`, `)).join`], [`}]]
{{${a.join`}, {`}}}
[${a.join`; `}]`
</code></pre>

<p>Example code snippet:</p>

<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>f=
m=&gt;`[[${(a=m.split`
`.map(x=&gt;x.match(/\S+/g).join`, `)).join`], [`}]]
{{${a.join`}, {`}}}
[${a.join`; `}]`
console.log(f(
`1 -2
 3  5
 6  7`
))</code></pre>
</div>
</div>
</p>
</div>
<div id="pu6" class="pu"><h1>Mathematica, 129 bytes</h1>

<pre><code>s=StringSplit
r=StringReplace
Print[#,n,#~r~{"{"-&gt;"[","}"-&gt;"]"},n,#~r~{"{{"-&gt;"[","}}"-&gt;"]","}, {"-&gt;"; "}]&amp;@ToString@s@s[#,n="
"]&amp;
</code></pre>

<p>The third and fourth lines together define a pure function taking a string as input; for example, if we set <code>f=Print...&amp;</code>, then the last test case would be called as:</p>

<pre><code>f@"4
5"
</code></pre>

<p>The snippet</p>

<pre><code>ToString@s@s[#,n="
"]
</code></pre>

<p>parses the input string as a matrix (of strings—we never try to interpret the entries as numerical quantities) and converts the resulting expression back to a string; this automatically generates the output format with curly braces. Then <code>Print[#,n,#~r~{"{"-&gt;"[","}"-&gt;"]"},n,#~r~{"{{"-&gt;"[","}}"-&gt;"]","}, {"-&gt;"; "}]</code> prints that output format and the two others, separated by newlines, by using straightforward string replacement rules.</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, 60 bytes</h1>

<pre><code>`jtU&amp;D32', 'XHYXw]xXhH&amp;Zc91wh93htD[]&amp;D{}&amp;DXED&amp;GxvUH&amp;4$'; 'TD
</code></pre>

<p><a href="https://tio.run/##y00syfn/PyGrJFTNxdhIXUdBPcIjMqI8tiIiw0MtKtnSsDzD0jijxCU6Vs2lulbNJcLVRc29oizUQ81ERd1aQT3E5f9/QwUjLmMFEy5TBTMuLgA" rel="nofollow noreferrer" title="MATL – Try It Online">Try it online!</a></p>

<p>Thanks a lot to Luis Mendo for shaving off a quarter of my bytecount in a masterclass in chat. </p>

<p>Paste the input, followed by an empty line.</p>

<pre><code>% Act I: Taking input.

`jt             w]    % Take input line by line until an empty line is encountered.
   U                  % Convert string input to numerical row array
    &amp;D                % Convert back to string, adding brackets and single spaces
      32', 'XHYX      % Add commas before the spaces. Store ',  ' in clipboard H.


% Act II: Nested square brackets

x                     % Discard the tab character
 Xh                   % Concatenate all strings as cell array.
   H&amp;Zc               % Join all the strings together, using clipboard H as a separator
       91wh93h        % Wrap in square brackets (ASCII 91 and 93)
              tD      % Display a copy of the result.

% Act III: Nested curly brackets

[]&amp;D{}&amp;D              % Convert empty array and cell array to string.
        XE            % Use to substitute square for curly brackets.

% Act IV: MATLAB-style input.

&amp;Gxv                  % Get all the input again, discard the tab, and concatenate vertically.
    U                 % Convert to numerical 
     &amp;4$     TD       % Convert to string, using row- and column separators
        H'; '         % Namely, clipboard H and a semicolon.
</code></pre>
</div>
<div id="pu8" class="pu"><h2><a href="https://github.com/m-ender/retina" rel="nofollow noreferrer">Retina</a>, <s>57</s> 54 bytes</h2>

<p>Byte count assumes ISO 8859-1 encoding.</p>

<pre><code>m`^ +

¶
] [
 +
,&#32;
:`.+
[[$&amp;]]
*T`[]`{}
], .
;&#32;
^.|]$

</code></pre>

<p><a href="https://tio.run/##ZVFLTsQwDN37FFkMCDHTyr8kDj3GsKs6KgsWLGCB2AHX4gBcrDhNNWggUv1c2@/luX19fHt6eVi@v2CA4zwMcHXjsDzPp7AH8PIURvD0EOBu7vcwjrvraYLb@3mc5vdPmA6hhyHAqf@YdrAc591CKfjhGsQfEgixItWAtWwQSsVcQ50mhqAV11CnAwFgT5qz@Qv2nGlteqZK0XsaS8lrhZitZSlrRu@xFY1rRXLhphDJLAN02KMUE6RNDUWjz3qdOYqkNi0xRcu45pgwGkrLnZkNq4xwVGVeqUQWqVCTKVaibNaSZqHSJBMTSbPF6G58jeoG2f03ql/fdulWB6baZHzlgqk5EHNubtey@b4i/qlCO7ohbYjnzoZd@tehS24nwJecM9pftV8E8B9GgQEU4g8" rel="nofollow noreferrer" title="Retina – Try It Online">Try it online!</a></p>

<p>The TIO link currently prints no linefeeds between the three formats but that's because it uses an unstable commit. The program does print the intermediate linefeeds in Retina 0.8.2.</p>

<h3>Explanation</h3>

<pre><code>m`^ +

</code></pre>

<p>Get rid of leading spaces on each line.</p>

<pre><code>¶
] [
</code></pre>

<p>Replace linefeeds with <code>] [</code>.</p>

<pre><code> +
, 
</code></pre>

<p>Replace all runs of spaces with a comma and a space.</p>

<pre><code>:`.+
[[$&amp;]]
</code></pre>

<p>Wrap the entire thing in <code>[[...]]</code> which completes the first format. Print the result.</p>

<pre><code>*T`[]`{}
</code></pre>

<p>Replace brackets with braces and print the result without actually changing the working string (i.e. the first format is restored after this is printed).</p>

<pre><code>], .
; 
</code></pre>

<p>Replace <code>], [</code> with a semicolon and a linefeed.</p>

<pre><code>^.|]$

</code></pre>

<p>Remove the first <code>[</code> and the last <code>]</code>. This completes the third format.</p>
</div>
<div id="pu9" class="pu"><h1><a href="https://www.microsoft.com/net/core/platform" rel="nofollow noreferrer">C# (.NET Core)</a>, 214 bytes</h1>



<pre class="lang-cs prettyprint-override"><code>(s)=&gt;{var result=Regex.Replace("[["+Regex.Replace(s.Replace("\n","], [")," +(\\d)",", $0")+"]","  +"," ").Replace("[, ","[");return$"{result}]\n{result.Replace('[','{').Replace(']','}')}}}\n[{result.Replace("[","").Replace("],",";")}";};
</code></pre>

<p><a href="https://tio.run/##XVBNa8MwDL37VwhTSEy9tln3iddeygaF7bINdnB8CKnbBTKn2E7pCP7tmbyOtszg9@SnZ0modBdlY3Xfusps4O3bef0lyPlr9K73fvSqN21d2Mf91mrnqsY40Zd14RxsO@J84asSdk21gpeiMqnzFgtItWQxGWMo7AZmsJQTJchTa8qHg84PNIc1Zsl4vGhWGj611SR1bDbvdoUF7NjWfpZSKekQB9F7HGdbF6VO3TGiuaGcKg6SMk5hmOb5iqHCYZBRNqSKspNXcsAUOoXVvrVmQLtDk6By8xce3YlMeNIlp@@JQiEkLISQG/nfjmU5PW@mcAgqKAtUBEEWuLqm1qMPW3n9XBmdrlPcDWOCBBL6vs9uAM9lhCnebErgOnIWYRLlOwL3kW8jRHd2SeAq8i9EN2Q/" rel="nofollow noreferrer" title="C# (.NET Core) – Try It Online">Try it online!</a></p>

<p>Takes the Matrix as a string, returns the three formats as a single string separated by newlines.</p>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/m-ender/retina" rel="nofollow noreferrer">Retina</a>, 52 bytes</h1>

<p>This answer is based on my <a href="https://codegolf.stackexchange.com/a/129142/55508">Perl answer</a>, with the help of <a href="https://codegolf.stackexchange.com/users/8478/martin-ender">Martin Ender</a> for the golfing with Retina.</p>

<pre><code>^ *
[
$
]
\s+
,&#32;
m):`.+
[$&amp;]
*T`[]`{}
], .
;&#32;
^.|]$

</code></pre>

<p><a href="https://tio.run/##ZVE7UsQwDO11CheBWXY3GX38kckxlm4JEwoKCiiADrgWB@BiQbYzyyx4JnqKpPf8lLw8vD0@3y/fXzDCYR5HuNhsDJc7t4UjdDDB7esO9g6erq7nYQfH7nKC7c18nOb3T5j2boDRwd3wMXWwHOZuoejscAliDwm4UJBKwFJWcLlgKqFME4PzBWso044AcCCfktoLDpyoNi3znoL1fMg51Qoxa8ti8gmtx5p9qBVJmZtCINUE0OOAklWQVjUUH2zW6sxBJLZpCTFowppjxKAoLTdmUiwywsF75kol0kCZmkzWHGS1Fn0Syk0yMpE0W4zmxtYobpDNf6Pa9W2XvjpQ75uMrZwxNgeixk3tWlbbV8Q@lWvHr0gr4qmzYh//deic2wvwOeeE@lftFwHsh5FjAA/hBw" rel="nofollow noreferrer" title="Retina – Try It Online">Try it online!</a></p>

<p>The explanations can be found on my Perl answer. The differences are:  </p>

<pre><code>*
[
$
]
</code></pre>

<p>Instead of <code>s/^ *(.+)/[$1]/gm</code> to both remove the leading spaces and add brackets around the lines.  </p>

<pre><code>^.|]$
</code></pre>

<p>To remove the leading and trailing brackets for the third output.</p>
</div>
<div id="pu11" class="pu"><h1>Java 8 with Netbeans 8+, 209 bytes</h1>

<p>Count is 208 from the code, plus 1 bytes to run it by pressing <code>F6</code>.</p>

<p>Cumbersome answer for cumbersome challenge :p</p>



<pre class="lang-java prettyprint-override"><code>interface M{static void main(String[]a){String s="";s=s.trim().replaceAll(" +",", ").replaceAll("\n(, )?","; ");System.out.println("["+s+"]\n[["+s.replace("; ","], [")+"]]\n{{"+s.replace("; ","}, {")+"}}");}}
</code></pre>

<p>How to use?</p>

<p>Within Netbeans, paste this code in a file called <code>M.java</code>. Then copy the matrix you want to use. Then between the two consecutive characters <code>""</code>, press <code>ctrl</code>+<code>v</code> as required by the challenge.</p>

<p>Now press <code>F6</code>! This will compile the code, run it and output the expected matrix representations.</p>
</div>
<div id="pu12" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, 143 bytes</h1>



<pre class="lang-python prettyprint-override"><code>import re
b=re.sub
def f(s):s='[['+b('\n','], [',b(' +',', ',b('\n +','\n',s)))+']]';print s,b('\[','{',b('\]','}',s)),b('\], \[','; ',s)[1:-1]
</code></pre>

<p><a href="https://tio.run/##JYzBDoIwDIbve4qGS1mYxoGiQniSsQsRIgcH2fBgjM8@29Gk/9@//bb1sz0XV8Y4v9bFb@BHMXR@PIb3IB7jBFMeZBM6NAaLIcfeoUKrwKCiBAUlBWnuXUoMBCllgdZiu/rZbRDSnZ7gd0ctjb/E7VFBurbAO6Obg7ZxyrMs0zVQlSwVta4EXNg1y4nXNwF39isL07oUcGZPwjTomr6S8Q8" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
</div>
<div id="pu13" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, 132 bytes</h1>

<pre class="lang-r prettyprint-override"><code>function(x,p=paste0,g=gsub)cat(z&lt;-p('[[',g('\n','], [',y&lt;-g('[:blank:]',', ',x)),']]'),chartr('[]','{}',z),p('[',g('
','; ',y),']'))
</code></pre>
<p><a href="https://tio.run/##JY7NboMwEITveQrfjCUTrb3@WafhSSgHggqpWlFEiJSk6rPTBd/G45lvdl77au3vY7d8/ozFQ0/V1N6WD9BDNdzuF9W1S/E6l1Mh61rqoZDvo9Sy0YJfz3PJRn26fLfj16lhXwupH0pxoJFKd9d2XmZObF@/f1K/lN5AO@fA3hvHn1taKrX2hSzhCJgIwQgh4GgdoPNeCPat9YiBdh998BRh1xDAE2DW3IwEB46j9c5Zu1eNIW@SyZhEyWPc4ya4iCZlZLDGoM@zYIiM3zAA1lrKVZ5nHbP2gZzLGOdMgpAvQOJuzLOWXAREqdZ/" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>
<p>an anonymous function. Takes input like</p>
<pre class="lang-r prettyprint-override"><code>f('1 -2
3 5
6 7')
</code></pre>
<p>It prints them in the same order as the test cases, but with spaces as the separator.</p>
<h3>Explanation:</h3>
<p>It first swaps spaces with <code>, </code> and saves the result as <code>y</code>. Then it swaps newlines with <code>], [</code>, puts <code>[[</code> and <code>]]</code> on either end, and saves the result of that as <code>z</code>.</p>
<p>Next, <code>chartr</code> switches <code>[</code> with <code>{</code> and <code>]</code> with <code>}</code> in <code>z</code>.</p>
<p>Finally, it takes <code>y</code>, swaps newlines with <code>; </code> and puts <code>[</code> and <code>]</code> on either end.</p>
<p>Then all the results are passed in that order to <code>cat</code> which prints them out, all nicely formatted, and separated by a single space.</p>
<p>Mildly ungolfed:</p>
<pre class="lang-r prettyprint-override"><code>function(x)
  cat(
    z&lt;-paste0('[[',gsub('\n','], [',y&lt;-gsub('[:blank:]',', ',x)),']]'),
    chartr('[]','{}',z),
    paste0('[',gsub('\n','; ',y),']'))
</code></pre>
</div>
<div id="pu14" class="pu"><h1><a href="https://github.com/DJMcMayhem/V" rel="nofollow noreferrer">V</a>, 41 bytes</h1>
<pre><code>òJé;òÓ¨ä©ó«/±, 
yss]Y.pkÓ; /], [
Ùòcs]}f[
</code></pre>
<p><a href="https://tio.run/##ATwAw/92///DskrDqTvDssOTwqjDpMKpw7PCqy/CsSwgCnlzc11ZLnBrw5M7IC9dLCBbCsOZw7Jjc119Zlv//zI" rel="nofollow noreferrer" title="V – Try It Online">Try it online!</a></p>
<h3>Explanation</h3>
<pre><code>òJé;ò            Join all lines with `; ` (trailing single space)
     Ó¨ä©ó«/±,   :s/\v(\d)\s+/\1, /g
yss]             Surround everything with brackets (completes [x,x;x,x])
Y.pk             (Y)ank, surround with brackets again, (p)aste.  Adds [[x,x;x,x]]
    Ó; /], [     :s/; /[, ]/g (transforms to [[x,x], [x,x]])
Ù                Duplicate this line
 ò               recursively
  cs]}           (c)hange (s)urrounding [] with {}
      f[         go to the next [ until there are none
</code></pre>
</div>
<div id="pu15" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, 34 bytes</h1>

<pre><code>|εð¡õK}€ï"ÿ"Ð„[]„{}‡s¦¨"], ["„; :»
</code></pre>

<p><a href="https://tio.run/##MzBNTDJM/f@/pqzy8IZDCw9v9a7VfNS05vB6pcP7lQ5PeNQwLzoWSFTXPmpYWHxo2aEVSrE6CtFKQCFrBatDu///NzRTAAIjEGEMxIbGXAqmINoQRBiAhC24FCxBtDmIAKk2NOJSMAHRYAKkWsEQAA" rel="nofollow noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>

<p><code>ε...}</code> has been replaced with <code>vy...})</code> on TIO since it hasn't been pulled there yet.</p>
</div>
<div id="pu16" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 37 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>

<pre><code>j€⁾, j⁾; ⁾[]j
ỴḲLÐf$€VµŒṘṄ“[]“{}”yṄȧÇ
</code></pre>

<p>A full program printing the three formats on three lines.</p>

<p><strong><a href="https://tio.run/##y0rNyan8/z/rUdOaR437dBSygKS1ApCIjs3ierh7y8Mdm3wOT0hTAcqHHdp6dNLDnTMe7mx51DAnOhZIVNc@aphbCRQ4sfxw@////w3NFIDACEQYA7GhMZeCKYg2BBEGIGELLgVLEG0OIkCqDY24FExANJgAqVYwBAA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>

<h3>How?</h3>

<pre><code>j€⁾, j⁾; ⁾[]j - Link 1, create the 3rd format (semicolon-style): list of lists
  ⁾,          - literal [',', ' ']
j€            - join for €ach (place ", " between the elements of each row)
      ⁾;      - literal [';', ' ']
     j        - join (place "; " between the rows)
         ⁾[]  - literal ['[', ']']
            j - join (surround the whole result with a pair of brackets)

ỴḲLÐf$€VµŒṘṄ“[]“{}”yṄȧÇ - Main link: list of characters
Ỵ                       - split at newlines
     $€                 - last two links as a monad for €ach row:
 Ḳ                      -   split at spaces
   Ðf                   -   filter keep those for which the following is truthy:
  L                     -     length (this removes all the empty lists "between" spaces)
       V                - evaluate as jelly code (yields a list of lists of numbers)
        µ               - monadic chain separation, call that x
         ŒṘ             - get a Python string representation of x
           Ṅ            - print that (the 1st format) plus a newline, and yield it
            “[]“{}”     - literal [['[', ']'],['{', '}']]
                   y    - translate (converts all '[' to '{' and all ']' to '}')
                    Ṅ   - print that (the 2nd format) plus a newline, and yield it
                      Ç - call the last link as a monad with argument x
                     ȧ  - logical and
                        - implicit print of the result (the 3rd format)
</code></pre>
</div>
<div id="pu17" class="pu"><h1>C, 415 bytes</h1>

<pre><code>#import&lt;stdio.h&gt;
#define A(a,c,o)for(l=strlen(a)-o,k=0;c[k];)a[l+k]=c[k++];
j,k,l;main(i){char s[999],a[999]="[",b[999]="{",c[999]="[",t[]=" ";for(;fgets(s,999,stdin);){A(b,"{",0)A(a,"[",0)for(i=0;s[i];++i){j=0;for(;s[i]-32&amp;&amp;s[i]-10&amp;&amp;s[i];++i){j=1;t[0]=s[i];A(c,t,0)A(b,t,0)A(a,t,0)}if(j){A(c,", ",0)A(b,", ",0)A(a,", ",0)}}A(c,"; ",2)A(b,"}, ",2)A(a,"], ",2)}A(c,"]",2)A(b,"}",2)A(a,"]",2)puts(a);puts(b);puts(c);}
</code></pre>

<p>It's a monster and waaayyyy too long, but I'm done with it. Should have gone for a different approach probably.</p>

<p><a href="https://tio.run/##RY/djoMgEIXvfQpikwbidCO2@2NYN@lzEC6Qaku12ih71fjsLoN2S8KcM8MHM5jd2Zh53tjbvR/c9@hOtn@7/ESbU1XbriJHqsFAz@p@oG0xuqGtOqrZroemSIWRjRJMyzZpVOGTJFEiukIDrbhp21HLHuaiBzLKPM8V6CBFLGMoV/uIwbyqTnolscBuoj5XbqQj@FPAuTom2ONIS8BLKcPJ8E4aZrN@mlFaJZLEN736LLyBpd0@226D4elinhAXTqaqCKUjNeDCs@WqOuhka3rFvgZiIPFK/Fv9tNMUEOGTbEEmWL1n1OIXRr2QF4Du/us/rJkIWq5qmJjmmX8QvzIMe7/5PiLvqBxDiuWviOSonxiQ5llEDqghIE34Hw" rel="nofollow noreferrer">Try it online!</a></p>

<p><a href="https://tio.run/##RY/RjoIwEEXf/QqCiWnDSFqELaTLJn4H6UOpoBUEA@yT4dvZtuD6dM/cuZ2ZquNVqWXZ68ezH6bvcbroPrz97PaXqtZd5Z2RBAU9rvsBtfk4DW3VIYmPPTQ54apoBMeyaING5KYIAsF3d2ig5Q@pO6TxS93k4I1FlmUCpJPcL3woN3z5oD7uVBj1fG638fpaTSMawXTB3tVhjl9nVIJ9RLC9zL4h7jZtrhkLLXgQmKV3U7kZ1jqeosPBASUrvEOUTwURubPOSMHkxpabSqezrtHd7lXgg@dviX@Ub5xnF@GmiNbIDBubjFh5zYhP5BOw9Pw1H5aYOy03VZjPy0JCGjOWep5HwohRGq8UxzTZkTBOsow5h0ZRutIXixkxvSjN4sQ5J5ZF64SEpin7Aw" rel="nofollow noreferrer">Second test case</a>
|
<a href="https://tio.run/##RY/NbsIwEITvPIWVSlWsGLT@S2y5qcRzRDkYEyBASUXSE8qzU/@k5TSfNzM7G7c@Ovd8vvVf38N9@hinfT9sTp@rt3136G8d2uaWODLgw3DPr/U43a/dLbd4PZBLDcY1l9Zg21yLS1v7R1G0ZnUmF3I1X7a/5T1@uJO9o7HRWrfERqmzJiO7BR8Zca/p1HhFmQlt5nDspjEfif9Kwl03bPBjm@9ICAEOl4UMxNt6f83Y9K0pCl969q@4I4zWnL2/R6CQ4M9EzdRAW8fRNndkimt3i9qoc3/Iz6HXkYygbHH8o/3DeY4W4x8sWWaysPe0iZOnfVlehkDfP/6HLTZRd4s6bObncw0b4FpxoAgh2DABXEiJkJ8zJjkvVZxzWUpVQWQoQSrgiX2yUrDyds6kEIzFKKVKUk3TGq205FW001JUnOq0smSUcplqgSpFZVgDwBhTKerrPVeJZamESGuEoBrKdAFXPlulWqZEBZz/Ag" rel="nofollow noreferrer">Third test case</a>
|
<a href="https://tio.run/##ZY9NboMwEIX3nAIRKbLFUJmkqhq5VOIclhfGgcRAIAJ3FXF2ahsTlNab783Mmx/L5CLlPO/U7d4P@mvUZ9W/Xb@D3bmsVFeGORIgocdVP6A2G/XQlh0SOOmhyQiVrOEUC9bGDc9MEMecBjU00NKbUB1S@CGvYghHdjqdOAiHLGIRFF4@IpBbVjPDMKJ2G60upR7RCKYK9q4OU/zIUQG2iWB7me0h7jZlrhmZ4jSOzdLaRG6GTSXHw37vREoWsZpSqhnhmUvlSIJ2YwtP4TipCtV2r4QIwsg7nlKscpqchZrgsFgm8Np4@KIXD98sm8Gq@4/5sMDUsfCUmE7zTMLlvXumniRYK57Jx79K@tqbHIPDa8@Tn3@nbfwF" rel="nofollow noreferrer">Fourth test case</a>
|
<a href="https://tio.run/##RY/BjoMgEIbvfQpDkwbiuNHuyUzdxOcgHJBqi1pthD0Zn90FtOvp/2f4ZuZHJQ@l1vWsX@9xsjdj73r8ev6czve60UMdlVSCgpE140T7wtiprwcqWTJCV6SoeCeQSd7HnShcEccCTy100ONL6oFqNqunnCLD8zwXIIMUhBOodjsTUEfXcqcRQX8Nm0dtDTXgXsHnGhiyuaQV@KGU@WR@Jg3ZtEtjuBYYx@5o66qww7eS7@vlEkyWbuYDZWh5KorQKqkCG9ZWu8qgi25o6@8qIBCRnfi38mOXJSDoiuuGLLB7x4jNb4w4kAPw7v3rPiwZBq12VQyXdc3@AA" rel="nofollow noreferrer">Fifth test case</a>
| <a href="https://tio.run/##RY/BjoMgEIbvfQpDkwbiuNHuyUzdxOcgHJBqi1pthD0Zn90FtOvp/2f4ZuZHJQ@l1vWsX@9xsjdj73r8ev6czve60UMdlVSCgpE140T7wtiprwcqWTJCV6SoeCeQSd7HnShcEccCTy100ONL6oFqNqunnCLD8zwXIIMUhBOodjsTUEfXcqcRQX8Nm0dtDTXgXsHnGhiyuaQV@KGU@WR@Jg3ZtEtjuBYYx@5o66qww7eS7@vlEkyWbuYDZWh5KorQKqkCG9ZWu8qgi25o6@8qIBCRnfi38mOXJSDoiuuGLLB7x4jNb4w4kAPw7v3rPiwZBq12VQyXdc2i6x8" rel="nofollow noreferrer">Sixth test case</a>
| <a href="https://tio.run/##RY9BboMwEEX3OQVypMgWQ0XSdIGmVOIclhfGgcRAIMLuCnF2ahtSVv/P@M3Mt0ruSi3LUT9fw2i/jb3p4ePxczjeqlr3VVRQCQoGVg8j7XJjx67qqWTJAG2eouKtQCZ5F7cid0UcCzw00EKHT6l7qtmkHnKMDM@yTIAMkhNOoNzsREDtXcudRgT9NazvlTXUgHsFn6tnyKaCluCHUuaT@Zk0ZNMujeFaYBy7o42rwg7fSj4vp1Mw53Q1b@iMlqciD62CKrBhbbmpDDrrmjb@rgICEdmIfyvfdp4Dgq64rMgMm3eMWP3KiB3ZAe9ev@7DkmHQclPFcF6W6@HrDw" rel="nofollow noreferrer">Seventh test case</a></p>
</div>
<div id="pu18" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, <s>184 178 174 173 169 163* 157*</s> 153 bytes</h1>



<p><strong>Input/Output Format:</strong> Output with a space between the matrices and input with this function call (as shown on TIO):</p>

<pre class="lang-python prettyprint-override"><code>g("""&lt;paste matrix here&gt;""")
</code></pre>

<p>This is the function :</p>

<pre class="lang-python prettyprint-override"><code>def g(s,r=str.replace):a=str([[[int,float]['.'in y](y)for y in x.split()]for x in s.split('\n')]);print(a,r(r(a,*'[{'),*']}'),'['+r(a,'], [','; ')[2:-1])
</code></pre>

<p><a href="https://tio.run/##rVFBboMwELz7Fav0YNwCYg3EkKgvoRxocFIkBMhYTVDVt1MvpK3SXmPJO@tZe3ZsD5N967t4nmt9hJM3@uZ5tCY0emirgxa7ipZeURRNZ/1j21e2LHjImw6m0pvEsTcwgVtdwnFoG@uJkqgLUeOV4i8dF6XYD8ZpeJVvPOPiIy8@uHBQfjrgBX8ilpc@FNzne@CikLsASzGzk7fZbKIQE6UyAIhCqRCTNUsSTFkUJmmeq4VBKbM126pERa4mszxJFyZWuVwVUswy5VQFY6stAct4gKqudU32e1NrA7aHVlfvGjp9bptOj/Cq7VnrDqweLRyqUY9sdYhbUpAUYjcxZkBtESlERGcMckLyB7QbJQO6yHIbpN2Ad3YVrRJLm0X/iu5lvrMVgu2/Ct6eDWImb8/8YPZX7Rfv/cr31oMgdX@hCIIMAvdTAWIUOR5z6jV/AQ" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>

<hr>

<p>*<em>Saved a 6 bytes thanks to @officialaimm (from 169 to 163 bytes).</em></p>

<p>*<em>Saved 4 bytes thanks to @FelipeNardiBatista.</em></p>

<hr>

<p>Explanation to come after further golfing.</p>
</div>
<div id="pu19" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, <s>163</s> <s>152</s> <s>150</s> 145 bytes</h1>

<p><em>-5 bytes thanks to Felipe Nardi Batista who suggested the use of splats (sorry, I just need an excuse to say that word :P).</em></p>



<pre class="lang-python prettyprint-override"><code>import re
a=str.replace
def f(s):r=a(`[re.findall('[\.\d]+',i)for i in s.split('\n')]`,"'",'');print r,a(a(r,*']}'),*'[{'),a(r[1:-1],'], [','; ')
</code></pre>

<p><a href="https://tio.run/##TY5Bb4QgFITv/IoXLw9algjCgrvZX6ImS7qaklg16KVp@tst6KWXmcc3kwnL9/Y5T2rfw9cyxw1iT/xj3aKI/TL6j568@gEGurJbfHj6bGIvhjC9/DhSbFrRvrp35IENc4QAYYJVrMsYNorthKx78gILjsjuSwxTWueeehr5G3a/yJI1P8kSaeTtIjuOHYcGOd4B2T7QoigkXBSpAAy5AtgEGCFnkN4AKkuKQVYETHaZpczYEaiz2yy5LRUBnf2Q3Ab5b7EUUlvrEi2FsvJopUtraUgptKlrexCplDuvq9W2TJlytTYHqWytzgUjnTv@u/8B" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
</div>
<div id="pu20" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, <s>63</s> 53 bytes</h1>
<p>This was coming in at 44 bytes before I noticed that the spacing in the output was mandatory.</p>
<pre><code>·®¸f
&quot;[[{q&quot;],[&quot;}]]
\{\{{q&quot;},\{&quot;}}}
[{q';}]&quot;r&quot;,|;&quot;_+S
</code></pre>
<p><a href="http://ethproductions.github.io/japt/?v=d2af30a143a0774cde9e8ff45afc3a55efee2383&amp;code=t664ZgoiW1t7cSJdLFsifV1dClx7XHt7cSJ9LFx7In19fQpbe3EnO31dInIiLHw7Il8rUwo=&amp;input=IjE2ICAgIDIgICAgMyAgIDEzCiA1ICAgMTEgICAxMCAgICA4CiA5ICAgIDcgICAgNiAgIDEyCiA0ICAgMTQgICAxNSAgICAxIg==" rel="nofollow noreferrer">Test it</a></p>
<hr />
<h2>Explanation</h2>
<pre><code>          :Implicit input of string U
·         :Split to an array on newlines.
®         :Map over the array.
¸         :Split each element to an array on spaces.
f         :Filter to remove empty elements from the subarrays.
&quot;[[       :Start building the output string. In Japt strings, anything enclosed in {}s will be evaluated before being added to the string.
{q&quot;],[&quot;}  :Join the array to a string using ],[ The sub-arrays will be cast to comma separated strings in the process.
]]        :That's the first line done.
\{\{      :The start of the second line. A few bytes have to be sacrificed to esapce the {s
{q&quot;},\{&quot;} :Join the array to a string using },{
}}        :That's the second line done.
[         :And on to the last line.
{q';}     :This time we join the array with a semi-colon.
]&quot;        :And that's the string completed.
r         :Except we still need to replace...
&quot;,|;&quot;     :  All occurrences of a comma or a semi-colon with...
_+S       :  Itself and a space.
          :Implicit output of resulting string.
</code></pre>
</div>
<div id="pu21" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a>, 71 bytes</h1>

<p>69 bytes of code + <code>-p0</code> flags.</p>



<pre class="lang-perl prettyprint-override"><code>s/^ *(.+)/[$1]/gm;s/\s+/, /g;$_="[$_]
{".y/[]/{}/r."}
".s/], \[/; /gr
</code></pre>

<p><a href="https://tio.run/##K0gtyjH9r6xYAKQVdAsM/hfrxyloaehpa@pHqxjG6qfnWhfrxxRr6@so6Kdbq8TbKkWrxMdyVSvpVepHx@pX1@oX6SnVcinpFevH6ijEROtbA9UV/f9voAABJlDaEEobcMFkoLSuGYaMIapeXWMuI1Q9cNoC3TQEDQA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>

<p><strong>Explanations</strong></p>

<p><code>s/^ *(.+)/[$1]/gm;</code> adds <code>[]</code> around each line while removing the leading spaces.<br>
<code>s/\s+/, /g;</code> replaces runs of spaces and newlines with a comma and a space.<br>
The first output is then obtained by surrounding with braces: <code>[$_]</code>.<br>
The second needs to replace braces with curly bracket (<code>y/[]/{}/r</code>) and surround with curly brackets <code>"{" ... "}"</code>.<br>
For the third, <code>], [</code> are replaces with a semicolon and a space (<code>s/], \[/; /gr</code>).</p>

<hr>

<p>After writing this solution, I tried adpating Martin Ender's Retina answer, but it ended up 10 bytes longer (<a href="https://tio.run/##ZYyxDsIwDER3f4UJ3WjiFApCqvgSYzqhLiBFzYSifHuwRAAVvLzTne/Cdb7ty3oVlGiDL5EuuCGa7kMkIEGmSZVaLapqxpNhbkYRSMm4B7FQyjQ7kzOwcZGkxTPToM9qiinF4@v6yq7SwzuptIe/pFt27Q62y86Hx9@1L58" rel="nofollow noreferrer">TryItOnline</a>):</p>

<pre class="lang-perl prettyprint-override"><code>s/^ +//gm;s/
/] [/g;s/ +/, /g;$_="[[$_]]
{{".y/[]/{}/r."}}
[".s/], \[/; /gr."]"
</code></pre>

<p>For this version, see Martin's <a href="https://codegolf.stackexchange.com/a/129138/55508">answer</a> for the explanations.</p>
</div>
<div id="pu22" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, <s>&nbsp;45&nbsp;</s> 44 <a href="https://github.com/Adriandmen/05AB1E/blob/master/docs/code-page.md" rel="nofollow noreferrer">bytes</a></h1>

<pre><code>|„  ð:ðδÛ˜ð¡„, ý''KD…[ÿ]=„[]„{}‡,"], ["„; :=
</code></pre>

<p><a href="https://tio.run/##MzBNTDJM/f@/5lHDPAWFwxusDm84t@Xw7NNzDm84tBAopqNweK@6urfLo4Zl0Yf3x9oChaJjgUR17aOGhTpKsToK0UpArrWCle3//4ZmCkBgBCKMgdjQmEvBFEQbgggDkLAFl4IliDYHESDVhkZcCiYgGkyAVCsYAgA" rel="nofollow noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>

<p><strong>First output</strong></p>

<pre><code>|                           # push a list of the inputs
 „  ð:                      # replace any instance of 2 spaces with 1 space
      ðδÛ                   # remove any leading spaces
         ˜                  # flatten to a 1D list
          ð¡                # split on spaces
            „, ý            # merge on ", "
                ''K         # remove all single quotes
                   D        # duplicate for use in output 3
                    …[ÿ]    # interpolate between square brackets
                        =   # print without popping 
</code></pre>

<p><strong>Second output</strong></p>

<pre><code>„[]„{}‡,                    # translate square brackets to curly brackets and print
</code></pre>

<p><strong>Third output</strong></p>

<pre><code>                            # the copy from the first output is used here
 "], ["„; :                 # replace "], [" with "; "
           =                # print
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/129136/">129136</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




