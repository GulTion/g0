<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::214501</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>135</td><td>Python 3</td><td>201101T220333Z</td><td><a href="https://codegolf.stackexchange.com/questions/214501/bi-directional-translator/214548#214548">Stef</a></td></tr>
<tr d-ix="1"><td>nan</td><td>C gcc</td><td>201102T120209Z</td><td><a href="https://codegolf.stackexchange.com/questions/214501/bi-directional-translator/214571#214571">Lewis An</a></td></tr>
<tr d-ix="2"><td>181</td><td>Python 3</td><td>201101T211203Z</td><td><a href="https://codegolf.stackexchange.com/questions/214501/bi-directional-translator/214546#214546">Noodle9</a></td></tr>
<tr d-ix="3"><td>186</td><td>Haskell</td><td>201101T141947Z</td><td><a href="https://codegolf.stackexchange.com/questions/214501/bi-directional-translator/214540#214540">Lynn</a></td></tr>
<tr d-ix="4"><td>109</td><td>JavaScript ES6</td><td>201031T174558Z</td><td><a href="https://codegolf.stackexchange.com/questions/214501/bi-directional-translator/214505#214505">Arnauld</a></td></tr>
<tr d-ix="5"><td>088</td><td>Perl 5 p</td><td>201031T222053Z</td><td><a href="https://codegolf.stackexchange.com/questions/214501/bi-directional-translator/214519#214519">Nahuel F</a></td></tr>
<tr d-ix="6"><td>063</td><td>05AB1E</td><td>201101T021232Z</td><td><a href="https://codegolf.stackexchange.com/questions/214501/bi-directional-translator/214531#214531">nthistle</a></td></tr>
<tr d-ix="7"><td>057</td><td>Retina 0.8.2</td><td>201031T205040Z</td><td><a href="https://codegolf.stackexchange.com/questions/214501/bi-directional-translator/214512#214512">Neil</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, <s>189</s> <s>147</s> <s>127</s> 135 bytes</h1>
<pre class="lang-python prettyprint-override"><code>s=input().upper()
b=[*'915=][',':)','--*','{N}']
for k,v in zip(*['SFHXGTNMZ',b][::0&gt;max(map(s.find,b))or-1]):s=s.replace(k,v)
print(s)
</code></pre>
<p><a href="https://tio.run/##DcwxDoIwFADQnVN0az8pRGIcbFIHB3WRRQdD0wEUYqOUn7YYxXj2yvLGh59wH@wyRi@NxTEwyEfE1jFIGqlSui5WUivKqYCZLEtnv@WP6qQbHHnwFzGWTAZZquhpd7jsz@WxorzRSojFpq/frK@R@bwz9sYbgMFlhQbhpc9di8/62rI5gQSdsYF5iLEz00S2Y1X9AQ" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a>
If this were not codegolf the conditional should obviously be outside of the <code>for</code> rather than repeated at each iteration. What wouldn't we do for a few bytes...</p>
<ul>
<li><em>saved 42 bytes by replacing the dict with two lists;</em></li>
<li><em>saved 20 bytes thanks to ovs' <code>[::True or-1]</code> dark magic.</em></li>
<li><em>added 8 bytes because of missing <code>.upper()</code></em></li>
</ul>
</div>
<div id="pu1" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, 333 bytes I'--* e=ac[ly 5al1 o1 9a[a:) N</h1>

<pre class="lang-c prettyprint-override"><code>void f(char*i,char*o,int*a,int*e,char**c){int t=0;int s=0;char*p=0;while(i[0]){char x=e[(uint8_t)i[0]];if(x){int l;s=a[(s*23)+x-1];if((l=a[((s+1)*23)-1]))t=l;if(!p)p=i;if(s){i++;continue;}}s=0;if(t){if(t&gt;9)o+=sprintf(o,c[t-10]);else o+=sprintf(o,c[t+8]);t=0;p=0;continue;}if(p){while(p&lt;i){o[0]=p[0];o++;p++;}p=0;}o[0]=i[0];o++;i++;}}
</code></pre>
<p><a href="https://tio.run/##7Zhtd9pGFsdfw6e4cfqAhAiMeDCYkI0d27E3hLRgt2kozcpisLUrS1QPjh2W/erZ@x8JhFN6mtOo5/RFfOwfc@@M7vznMjDja1cubfvDQ8ez3Xgq6bEMAs9/dPWkmLnCaOpscXnRx77A8S7v@2LP4aHwFR9O5czxJPUFicwwycyMOtUzo0GNzGhSMzNa1MqMXdrNjDa1M6NDnbUx5ElrmWWSyDQM6yQyEcMGiUzFsEkikzFskch0DHdJZEKGbRKZkmGHRPvDje9MaVayr6xAdwz14hucN91SlIlLt7UFmxT1al28hvyqOubceHfluLLkjGsTbQEn3fbkuBTzuPbbSIN/0nVmpdskhNsNe9a4FOpmXSvfVoTqK7nwlcKy0OBnr6ZFPRddD@bavOegFXKAcrlr@17keLHsLpeQwR0RdzCfdDS/3Avn/BZHs5Jv2OOoIlhUV7qhpI@7ym3uwXqwhCwmB5pri2RJ88eOtvBZf2/O6Po8@Zz/lnhiqfzOyg9hy@UHLPDacrwSGlZwaRukMqJz@2Y80WhRLCjHRTybSVYzPjg/Hp2@mVCPFrVl916vH0fbu/U5tjH7VlG6xWKhqtN3WB7xYyR/pfDu@sJ3Q9Krq6fAtwgq2ipgsVDYGe0YVK3yhodxnBomjJPUqMN4nRoNGG9SownjZWq0YAxSYxfG89RowzhLjQ4bsDuJPVTzitRQ8zZTQ83bSw0172KwTE01c6Wip6aae09LLTX5JDXU5OMd1ea5kUKVqpHKDucpdm4sV3q2pNKPfuxO6UKSZ13LKcl56Liu75Ht@mEcSOKUWzRz5S0FMozdSFO5VSmfzUIZjc1mK01sVS8MzvtEo1cnjLPXREcKr84Yg@@J9p@9IDo44iF0MGKccAf1jxk/oHWM1rMhIQJwqqYqENUMyg9q1xQO@0dEh88EYAJ1oEE02GeNo58GEH/Acva5RUcv2XfO5tHoGYRC/HNgCJyP/kKhNPqOLXoA7AAPga@Ar4FvgG@BEqABOlAGEIkqwCOg@qeECsC876v/VijVMIUATKAONIAm0AJ2gTbQAfaALvAY6AFPgH/cE9rYIqq5xdcCdu/72luEPsUU@8ABgLeUDoEjALuQngMnwCnwT@AFgM1LLwFsDHr1aRntMARaQvzOEIEEi/p9oeqt/x7Ap4Kw2QifFDoHfgB@BF4DPwFvgDHwMzABfgHebhcqkFuxJZmitW4ho2KdR9HZktF/YQoLuABsYApIYAZcAleAA/wb@A/gAteAB/i5ZtT8SOgcU/wKBEAIREAM3ADvgFvgDngPLID/Akvgf7xf@GvsszJqrnWb5m8yWvmjH8@PSB3s1oUr/2jwX/j19EXoF6FfhH4R@ncTqm696tJ7eLxPJSuO/EvpycCK@JJ7cUdzGYS@51kuRT7/w2DQ9R3h/yHLjvhWYnkytB658p0TPr3kf23cR7Z/nd18Ee3ainxv3GyayeW3WuUVaAbpBlUM3Jj4AOAjas@gnkHHBj036MSglwYNDBoZdGbQa4PeGDQ2aGKQZ9DCoCWywPJrKgAfCnwbaKhIfHLwkdFGSD7z@MTjs43vCnzU8EHD5wofKHC2jfRx3PUjXipfyZLcKjdO7tqf/83Ufc7v0MwrUD2vQAKBzM8PtJn45mbiP09eI6d19vPKfL@dV6C83sJ@ayP1opZb7vu7eQkUeQXq5BUot23V3Mx9jvs@r5UOP3m74kr@CV@BuK/X/g5fpbsbmTfz2fVmPUd9rbwCNdPjHIdvIKfpyX6QFALfo0g1jyO1/qSGWeJBfCwH0pqWRmeHp4O3x6f9o8ErY1085CO2VtM0VZssODP1wGOqJXYhLZnuHAWBH6gwjneZzrJHX4c/ezsGhVEg0V9SlXlN6@LJQEZx4FFFwFqyzkJStiz3EuHKh6qlFYQyqKripQzIiULpztQKZqVM47okamR3DiMtvCVFVpQ2MXORb2UcM3Is172j2PMvZnFoq9vOlQwk7RULG0Vv0p1VjdY3CFnVrfRVrjp0O00OKuCczFo3NcKVkZZlVyb/bhTFk0QmlXEesVEbp6Q4jm78qSJ5MrqQlMpVUwFToWxOOpl1jcocqkJisjFCldGTUTysTEJLx2Icv71Q7mK/JGMfzDWCYOd@iHAloICSdtJaV8eVibtZgmKqq7a5gmi9Am7TE@po5OM9z4rvZI8jiEJpXo1M6vNbBpWpvRqjsE4@76WseU/eckPKfCUlLefztnbWy0P9nmOoyn7qWS94vmots7mzCdVeXj3vrJ5fPZ2mbYn9zZu4uPoErTew2qOrTwdHXH44JeuaLLqRwR1VKvpisOxN6MKa0mV8R3ta8f8" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, <sup><s>226</s> <s>189</s></sup>  181 bytes</h1>
<p>Saved a whopping 37 bytes thanks to <a href="https://codegolf.stackexchange.com/users/64121/ovs">ovs</a>!!!<br />
Saved 6 bytes thanks to <a href="https://codegolf.stackexchange.com/users/96480/stef">Stef</a>!!!</p>

<pre class="lang-python prettyprint-override"><code>from re import*
def f(s,m=&quot;9 1 5 = --* :\) ] \[ {N}&quot;.split()):
 for t,r in zip(*(m,&quot;SFHXMNGTZ&quot;)[::2*bool(search(f&quot;({'|'.join(m)})&quot;,s,I))-1]):s=sub(t,r,s,0,I)
 return sub(r'\\','',s)
</code></pre>
<p><a href="https://tio.run/##XZBRS8MwEMff@ymOvCQp6bCbIivkYXuY7sENdIK03YPrUlZd25BkoNZ@9pp0HYohcHf/3C/35@SnOdTVpOtyVZegBBSlrJXxvb3IISealRxNIYQb4BAEPkQphS2kCTSrFo20PBaGUBp5kNcKDFNQVPBVSOKTkqGnxf3Lw@puEyOaRNHY39X1kWjxqrIDyRFp8DcevdVFRUraUsQ0W1IahFsaaa5PO2K/s9qVVT3rzJxUBU5WOE0xw5hp2hmhjbbWCJrNnxADtFiv@7CMY5g/x7ErrNUkoi6bzx4R9cSHFJkR@4GbupfwzIVL22yvZc@JE@PN6hfODiJ7F8qxOD2Nb68zzKDPwgmm3nkN4rKG3h@Dy0S3KHuc45wY2hdSFZUhOUaNaREE1q62sRnmJIJzvW3x0NuD@j@oB1D@BSXnpge7Hw" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
<p>Will reverse the translation if any of the mappings are in the input.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 186 bytes</h1>

<pre class="lang-hs prettyprint-override"><code>import Data.Char
k=&quot;S 9 F 1 H 5 X = Z {N} M --* N :) G ] T [ &quot;
v=words$k++map toLower k
w=v++reverse v
_!&quot;&quot;=&quot;&quot;
[]!(t:u)=t:w!u
(a:b:c)!s|n&lt;-length a,take n s==a=b++w!drop n s|1&lt;2=c!s
(w!)
</code></pre>
<p><a href="https://tio.run/##FY9Ba8IwAEbv@RVfgge72oEDDwZzmBvqYHqpA2kpI9ZUpbUpSWwP6l9fFy@Px3f5eCdpS1VVfX@@NNo4fEonXz9O0pBSsBhTLDDGChPsIJDgtnlgjSh6wQY8wBIZtkjBSCs6bQ52UIbhRTZw@lt3yqAknWjD0KhWGavQkl/KmGCMpBkdOn4NhOMdvZKh5HueB9Te61lUqfroTpAjJ0uFGlYIKfZh2NGD0c1zuI9nbyKnlhRi2NGgv8hzLRpzrt3g@V6k7H0esxErtPZcfCUJ5j9J4v1WP1IeeNlL4xkvVrtkvVluvU/HE@H7fBwPspRl/V9eVPJo@yhvmn8" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
</div>
<div id="pu4" class="pu"><h1>JavaScript (ES6), <s> 118 113 </s> 109 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>s=&gt;s.toUpperCase(A=[':)',...'NF1G]H5S9T[X=Z','{N}','M','--*']).replace(/[{-]..|:?./g,c=&gt;A[A.indexOf(c)^1]||c)
</code></pre>
<p><a href="https://tio.run/##bcm9CsIwGIXh3asQlyTSftLBwUIqVfBnUAcVJCFCjEmplKQ0RYTWa6@dpcM5w/O@5Ft6VeVlHVr31J2hnaeJh9pdy1JXa@k1TilHMUEBAKDjJtqK3fy8uPAbZShAzfHb/6FfGE6RIFDpspBK4xlvQgHQxkuYZYGiScpTyO1Tf04GK3KPRNsq0ilnvSs0FC7DBk/S1XlCyOhPjXMDutkzNl5dGRtojf3ymAyEh6x67X4" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>How?</h3>
<p>Because the input is guaranteed to contain exclusively <code>[a-zA-Z]</code> and/or the special patterns, we can use the following minimal regular expression to match them all:</p>
<pre class="lang-javascript prettyprint-override"><code>/[{-]..|:?./g
 [{-]..        // either &quot;{&quot; or &quot;-&quot; followed by 2 other characters
               // -&gt; to match &quot;{N}&quot; or &quot;--*&quot;
        :?.    // or any character, preceded by an optional &quot;:&quot;
               // -&gt; to match &quot;:)&quot; or any single character
</code></pre>
<p>Working on the uppercase version of the input, we look for the position of each matched pattern in the lookup array <code>A[]</code> and replace it with its counterpart, or leave it unchanged if it is not found (which may only happen for <code>ABCDEIJKLOPQRUVWY</code>).</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> <code>-p</code>, <s>90</s>, 88 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>$_=uc;s/.[}*]|://g;y/-{)SFHXGT915=][ZNM/MZN915=][SFHXGT{:-/;s/{/{N}/g;s/:/:)/g;s/-/--*/g
</code></pre>
<p><a href="https://tio.run/##JYvBCoJAFEX37ytatFGYHrNw4YgLZ2G5cIQ0iCciFSVBOKK1iMlfbxoS7uIcLme4jo/A2nUbvy7RhJt69puPQOyiNzLjlenuuK1CHsRNTSrHnNQiy2EEQ1cZNGp2yYQChfcHhoz52FmbyBISGcJNa@BFAWlGtJIHIuCZq9ycLQCmn2vhAVUKzqcRZLL/6uF51/1k2fAD" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
<p>using the same algorithm as <a href="https://codegolf.stackexchange.com/a/214512/70745">Neil's answer</a></p>
<p>saved 2 bytes removing the backslash before the opening brace, and removing the colon instead of closing parenthesis in <code>:)</code></p>
</div>
<div id="pu6" class="pu"><h1>05AB1E, <strike>65</strike> 63 bytes</h1>
<pre><code>u&quot;{N}&quot;¬.:&quot;--*&quot;¬.:&quot;:)&quot;¬.:&quot;SFHXZMNGT[]:-{=519&quot;Â‡&quot;{-:N-)}*&quot;3ιD€нs‡
</code></pre>
<p>Uses the same approach as <a href="https://codegolf.stackexchange.com/a/214512/70745">Neil's answer</a>. Probably not going to be too competitive among the golf answers, but there's definitely improvements to be made here (I'm still a novice with 05AB1E, especially with string manipulation).</p>
<p>Explanation:</p>
<pre><code>u            uppercase the input

&quot;{N}&quot;        push '{N}'
     ¬       extract and push head ('{')
      .:     replace all {N} =&gt; {

&quot;--*&quot;        push '--*'
     ¬       extract and push head ('-')
      .:     replace all --* =&gt; -

&quot;:)&quot;         push ':)'
    ¬        extract and push head (':')
     .:      replace all :) =&gt; :

&quot;SFH...519&quot;  push lookup string

Â            bifurcate (push a, reversed(a))
 ‡           transliterate input with lookup

             set up stack for reverse process
             to do { -&gt; {N} ... etc

&quot;{-:N-)}*&quot;   push literal string
3ι           uninterleave by 3
  D          duplicate
   €         apply single function map 
    н        extract first element
     s       swap
      ‡      transliterate
</code></pre>
<p>The bi-directional bit is achieved by transliterating with a bifurcated lookup string; each character that should be swapped is in the opposite position with the one it should be swapped with in the lookup string. The main problem (and potential savings) is that I repeat a lot of logic for the &quot;{N}&quot; -&gt; &quot;{&quot; ... part at the beginning as in the &quot;{&quot; -&gt; &quot;N&quot; ... part at the end. Originally, I thought transliterate could go both ways, so I was going to set up the stack carefully at the beginning, but I don't think transliterate likes it when there's a multi-character string in the list (it probably goes by character, rather than doing a replace all?).</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language/a950ad7d925ec9316e3e2fb2cf5d49fd15d23e3d" rel="noreferrer">Retina 0.8.2</a>, <s>70</s> <s>68</s> 57 bytes</h1>
<pre><code>.[}*]|\)

T`l`L
T`-{=519[]:NGTSF\HXZM`Ro
{
{N}
-
--*
:
:)
</code></pre>
<p><a href="https://tio.run/##K0otycxL/P8/JCEnwYdLL7pWK7YmRpOLKyRBt9rW1NAyOtbKzz0k2C3GIyLKNyEon6uaq9qvlkuXS1dXi8uKy0rz/39Hp2CutPx8LjfPqCgFp9CoKK7qvNpoK00FrqTEIgA" rel="noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Link includes test cases. Uppercases the result. Explanation:</p>
<pre><code>.[}*]|\)

</code></pre>
<p>Remove the suffixes from <code>{N}</code>, <code>--*</code> and <code>:)</code> leaving their first character.</p>
<pre><code>T`l`L
</code></pre>
<p>Uppercase everything.</p>
<pre><code>T`-{=519[]:NGTSF\HXZM`Ro
</code></pre>
<p>Translate the first characters. The string is mapped to its reverse, so that <code>-</code> maps to <code>M</code> etc. and vice versa. The <code>H</code> is a special character and needs to be quoted. The <code>-</code> is normally a special character but placing it at the beginning avoids this.</p>
<pre><code>{
{N}
-
--*
:
:)
</code></pre>
<p>Expand the <code>{</code>, <code>-</code> and <code>:</code> to the full strings again.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/214501/">214501</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




