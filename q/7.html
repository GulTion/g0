<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::7</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>097</td><td>Python 3.8 prerelease</td><td>240203T133642Z</td><td><a href="https://codegolf.stackexchange.com/questions/7/hamming-numbers/269748#269748">movatica</a></td></tr>
<tr d-ix="1"><td>007</td><td>Vyxal 3</td><td>240202T133826Z</td><td><a href="https://codegolf.stackexchange.com/questions/7/hamming-numbers/269715#269715">pacman25</a></td></tr>
<tr d-ix="2"><td>008</td><td>Vyxal j</td><td>210630T045853Z</td><td><a href="https://codegolf.stackexchange.com/questions/7/hamming-numbers/230741#230741">emanresu</a></td></tr>
<tr d-ix="3"><td>009</td><td>Jelly</td><td>211011T074448Z</td><td><a href="https://codegolf.stackexchange.com/questions/7/hamming-numbers/236197#236197">Wasif</a></td></tr>
<tr d-ix="4"><td>120</td><td>GAWK M</td><td>210416T103543Z</td><td><a href="https://codegolf.stackexchange.com/questions/7/hamming-numbers/223647#223647">user1004</a></td></tr>
<tr d-ix="5"><td>110</td><td>JavaScript ES6</td><td>210509T210849Z</td><td><a href="https://codegolf.stackexchange.com/questions/7/hamming-numbers/225328#225328">Rydwolf </a></td></tr>
<tr d-ix="6"><td>9223</td><td>MMIX</td><td>210509T015859Z</td><td><a href="https://codegolf.stackexchange.com/questions/7/hamming-numbers/225313#225313">NoLonger</a></td></tr>
<tr d-ix="7"><td>000</td><td>Vyxal</td><td>210507T125257Z</td><td><a href="https://codegolf.stackexchange.com/questions/7/hamming-numbers/225238#225238">user1004</a></td></tr>
<tr d-ix="8"><td>023</td><td>APL Dyalog Classic</td><td>190207T060608Z</td><td><a href="https://codegolf.stackexchange.com/questions/7/hamming-numbers/179605#179605">lirtosia</a></td></tr>
<tr d-ix="9"><td>103</td><td>Ursala</td><td>131231T161947Z</td><td><a href="https://codegolf.stackexchange.com/questions/7/hamming-numbers/16934#16934">Timtech</a></td></tr>
<tr d-ix="10"><td>071</td><td>Haskell</td><td>131231T144707Z</td><td><a href="https://codegolf.stackexchange.com/questions/7/hamming-numbers/16922#16922">Timtech</a></td></tr>
<tr d-ix="11"><td>092</td><td>Haskell</td><td>110215T183350Z</td><td><a href="https://codegolf.stackexchange.com/questions/7/hamming-numbers/954#954">J B</a></td></tr>
<tr d-ix="12"><td>181</td><td>Python 181 Characters</td><td>110204T055446Z</td><td><a href="https://codegolf.stackexchange.com/questions/7/hamming-numbers/466#466">fR0DDY</a></td></tr>
<tr d-ix="13"><td>231</td><td>Ruby</td><td>110130T084707Z</td><td><a href="https://codegolf.stackexchange.com/questions/7/hamming-numbers/234#234">Nemo157</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://docs.python.org/3.8/" rel="nofollow noreferrer">Python 3.8 (pre-release)</a>, 97 bytes</h1>
<p>Inefficient but golfy. Lot's of keywords and whitespace, so potential for more golfing.</p>

<pre class="lang-python prettyprint-override"><code>def f(n):
 h=[1]
 while(n:=n-1):h+=[min(j*k for j in(2,3,5)for k in h if j*k not in h)]
 return h
</code></pre>
<p><a href="https://tio.run/##JZDNboMwEITvPMWKE25dCf8AJhKHXipVrdQHQNwKgiR1IkJU9enpjHOwPbM79n7y9W@bL9GF67rv3@MkUxHVIZO5682Qye@8nMciHrr4YtRhfu76nyUWx6eTTJdVjgJjtdOVoj3ByizLJAzEy5a8wjPruN1X6H0bb5t00hstVovT4rVUWmotQUurxZRY6BgUDaoGZYuaRc6iZhvcgne8jb6H9qh75CroCrkaZ42zQaZBL8AHDGxxtnyz5JAycFIax1mW1lF5z/Fs1GkjDZ8wrSULYUhmE45PbI5wVBUbDVUIBE2kafPkpSKRC57oZC@rIcvW8XY/81@m4jzGgp@kVJZd1yVuRZ@/vb5/5jr/@siH/hHtOmYG/XBq/wc" rel="nofollow noreferrer" title="Python 3.8 (pre-release) – Try It Online">Try it online!</a></p>
<h1><a href="https://docs.python.org/3.8/" rel="nofollow noreferrer">Python 3.8 (pre-release)</a>, 165 bytes</h1>
<p>Slightly golfed version of the <a href="/a/466/86751">original Python entry</a>.</p>
<p>Reposted, because of its age.</p>

<pre class="lang-python prettyprint-override"><code>def f(n):
 h=[1];i=j=k=0
 while(n:=n-1):
  m=h[-1]
  while(h[i]*2&lt;=m):i+=1
  while(h[j]*3&lt;=m):j+=1
  while(h[k]*5&lt;=m):k+=1
  h+=[min(h[i]*2,h[j]*3,h[k]*5)]
 return h
</code></pre>
<p><a href="https://tio.run/##VVBLboMwFNxziidWkDgS/gAmrRfdVKpaqQdA3pXI5ONGhKjq6ekb00W7sD1vZuwZ@fo9h8@o7XValo/hQIcilvuMguulfxjd0Z1cldFXGM9DEfcu7iRkurjQ76RntEqhH/1GPbpLuR@3Tv7hj36jE3/8z5/8pk78aeXD1vWXMf6@JNaLYvWVHDQN832KFJZ5uM3kqJeClCAtyAiqBTWCrKBOkKx4sSKZlMxKphVzin2KOdXyLZ41brNuGBvmDftqxjX7Gj4bPlv2tKxZni0Hdnx2eLNCSGWRlOKQpTBqIGMQD6FJG9rgCdkpdEEZNFOpjkndNMoB1RBaIGtRNDVNm0FfIDTS1qA6ule1z7JpuN3P@JdDcR5igU8qyyy7TmOciz5/fnp5y0X@/pr7frU6B48X61QuPw" rel="nofollow noreferrer" title="Python 3.8 (pre-release) – Try It Online">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-3" rel="nofollow noreferrer">Vyxal 3</a>, 7 bytes</h1>
<pre><code>ЧdḟG7&lt;Ẇ
</code></pre>
<p><a href="https://vyxal.github.io/latest.html#WyIiLCIiLCLQp2ThuJ9HNzzhuoYiLCIiLCI0MCIsIjMuNC4xIl0=" rel="nofollow noreferrer">Try it Online!</a></p>
<p>Port of Emanrasu's Vyxal answer</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a> <code>j</code>, 8 bytes</h1>
<pre><code>λdǏG7&lt;;ȯ
</code></pre>
<p><a href="https://lyxal.pythonanywhere.com?flags=j&amp;code=%CE%BBd%C7%8FG7%3C%3B%C8%AF&amp;inputs=200&amp;header=&amp;footer=" rel="nofollow noreferrer">Try it Online!</a></p>
<pre><code>λ     ;ȯ # First n numbers where
 dǏG     # Maximum of prime factors
    7&lt;   # Less than 7
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 9 bytes</h1>
<pre><code>RḤÆfṀ€&lt;7T
</code></pre>
<p><a href="https://tio.run/##y0rNyan8/z/o4Y4lh9vSHu5seNS0xsY85P///4YGAA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<p>Returns all hamming numbers under n.</p>
<p><strong>How?</strong></p>
<pre><code>RḤÆfṀ€&lt;7T     Main Link. Takes n on the left
        T     Filter by
R             Inclusive range
 Ḥ            Double each
  Æf          Prime factors
     €        For each
    Ṁ         Maximum
      &lt;7      Less than 7
</code></pre>
<p>My first serious jelly answer</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.gnu.org/software/gawk/manual/gawk.html" rel="nofollow noreferrer">GAWK</a> <code>-M</code>, <s>138</s> 120 bytes.</h1>
<p>It was originally <a href="http://rosettacode.org/wiki/Hamming_numbers#AWK" rel="nofollow noreferrer">a post on rosetta code</a>.
Without <code>-M</code> it overflows when huge value is input.</p>
<pre><code>{a=2
b=3
c=5
for(s=h[0]=1;--$0;c-z||c=5*h[++k]){z=a&lt;b?a:b
s=s&quot; &quot;(z=h[++n]=z&lt;c?z:c)
a-z||a=2*h[++i]
b-z||b=3*h[++j]}}$0=s
</code></pre>
<p><a href="https://tio.run/##HY1BCoMwEEX3c4oiLrQSiC3dqIMn6AlkFkmgaAVTOoVC1Kt3mrh8PN7/5juLrAYvYPEKDm/w8O@CcRw0Yd0qlevWqbBtUZ3HoapmKteAprO9aSwwcnbKioBJLYShc31oXAkmNXH2aCYCmzheHPykfc81skitf/71mfzCou5/" rel="nofollow noreferrer" title="AWK – Try It Online">Try it online!</a></p>
<h2>Usage</h2>
<p>Given from stdin, as a line consists of a string of decimal natural number.</p>
<h2>Execution time</h2>
<p>Tested in my Termux. CPU is:</p>
<pre><code>Architecture:        aarch64
CPU op-mode(s):      32-bit, 64-bit
Byte Order:          Little Endian
CPU(s):              8
On-line CPU(s) list: 0-7
Thread(s) per core:  1
Core(s) per socket:  4
Socket(s):           2
Vendor ID:           ARM
Model:               4
Model name:          Cortex-A53
Stepping:            r0p4
CPU max MHz:         1768.0000
CPU min MHz:         449.0000
BogoMIPS:            52.00
Flags:               fp asimd evtstrm aes pmull sha1 sha2 crc32
</code></pre>
<h3>With original code</h3>
<p>10^6th Hamming number is <code>519312780448388736089589843750000000000000000000000000000000000000000000000000000000</code>.</p>
<pre><code>$ time echo 1000000 | awk -Mf Textfile/ham.awk
# lots of output
real    2m36.842s
user    0m25.224s
sys     0m5.356s
</code></pre>
<h3>If <code>$0=s</code> is removed</h3>
<pre><code>$ time echo 1000000 | awk -Mf Textfile/ham.awk
real    0m25.404s
user    0m24.676s
sys     0m0.716s
</code></pre>
<h2>Note</h2>
<ul>
<li>Original 138 bytes of post outputs incorrectly: it outputs n+1 numbers, not n.</li>
</ul>
</div>
<div id="pu5" class="pu"><h1>JavaScript (ES6), 110 bytes</h1>
<pre class="lang-js prettyprint-override"><code>f=h=&gt;eval(&quot;g=n=&gt;n-1n?n%2n?n%3n?n%5n?0:g(n/5n):g(n/3n):g(n/2n):1;r=[i=1n];while(!r[h-1])if(g(++i))r.push(i);r&quot;)
</code></pre>
<p>Theoretically works for arbitrarily large inputs, but prohibitively slow.</p>
</div>
<div id="pu6" class="pu"><h1>MMIX, 92 bytes (23 instrs)</h1>
<p>I'm cheating a bit; instead of printing (which would take a lot of work, this being machine language), I instead pass the numbers to a function passed in!</p>
<pre><code>00000000: fe020004 34000100 e3030000 c1040300  “£¡¥4¡¢¡ẉ¤¡¡Ḋ¥¤¡
00000010: e7030001 da040403 3c040304 1d050403  ḃ¤¡¢ḷ¥¥¤&lt;¥¤¥ø¦¥¤
00000020: feff0006 6204ff05 43fffffd 1d050405  “”¡©b¥”¦C””’ø¦¥¦
00000030: feff0006 6204ff05 43fffffd 31ff0401  “”¡©b¥”¦C””’1”¥¢
00000040: 5bfffff3 e7000001 c1050300 bf040100  [””ṙḃ¡¡¢Ḋ¦¤¡Ḃ¥¢¡
00000050: 5b00ffef f6040002 f8000000           [¡”ṁẇ¥¡£ẏ¡¡¡
</code></pre>
<pre><code>smooth5 GET    $2,rJ
        NEG    $0,1,$0      // n = 1 - n
        SETL   $3,0         // i = 0
0H      SET    $4,$3
        INCL   $3,1         // loop: j = i++
        SADD   $4,$4,$3     // j = popcnt(j &amp; ~i)
        SR     $4,$3,$4     // j = i &gt;&gt; j (cheap way of getting out factors of 2)
1H      DIV    $5,$4,3      // lp3: k = j / 3
        GET    $255,rR      // tmp = j % 3
        CSZ    $4,$255,$5   // if(!tmp) j = k
        BZ     $255,1B      // if(!tmp) goto lp3
1H      DIV    $5,$4,5      // lp5: k = j / 5
        GET    $255,rR      // tmp = j % 5
        CSZ    $4,$255,$5   // if(!tmp) j = k
        BZ     $255,1B      // if(!tmp) goto lp3
        CMP    $255,$4,1    // tmp = j &lt;=&gt; 1
        PBNZ   $255,0B      // iflikely(tmp) goto loop
        INCL   $0,1         // n++
        SET    $5,$3
        PUSHGO $4,$1,0      // f(i)
        PBNZ   $0,0B        // iflikely(n) goto loop
        PUT    rJ,$2
        POP    0,0          // return
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/Lyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, <s>29</s> 26 bytes, times out when n&gt;=200,000 on online interpreter.</h1>
<p>My first ever Vyxal post.
29-&gt;26, adviced by @lyxal.</p>
<pre><code>6ɽ{:L?&lt;|:2*$:3*$:5*∪∪∪}s?Ẏ
</code></pre>
<h2>How it works</h2>
<pre><code># let first hamming numbers are 1 to 6
6ɽ
# while items of they are less than n; do
{:L?&lt;|
# for each item, multiply with those numbers
# and then unify them; done
  :2*$:3*$:5*∪∪∪}
# sort
s
# take first n items
?Ẏ
</code></pre>
<p><a href="http://lyxal.pythonanywhere.com?flags=&amp;code=6%C9%BD%7B%3AL%3F%3C%7C%3A2*%24%3A3*%24%3A5*%E2%88%AA%E2%88%AA%E2%88%AA%7Ds%3F%E1%BA%8E&amp;inputs=200&amp;header=&amp;footer=" rel="nofollow noreferrer">Try it Online!</a></p>
</div>
<div id="pu8" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog Classic)</a>, <s>34</s> 23 bytes</h1>



<pre class="lang-apl prettyprint-override"><code>{⍺⍴{⍵[⍋⍵]}∪,⍵∘.×⍳5}⍣≡∘1
</code></pre>

<p><a href="https://tio.run/##SyzI0U2pTMzJT9dNzkksLs5M/v8/7VHbhOpHvbse9W4BUlujH/V2A6nY2kcdq3SAjEcdM/QOT3/Uu9m09lHv4kedC4EChkBdCkZcaQqGBgZcj3o69BXSFEwNQAAA" rel="nofollow noreferrer" title="APL (Dyalog Classic) – Try It Online">Try it online!</a></p>

<p>TIO throws a WS FULL error for <span class="math-container">\$n = 1000000\$</span>, but Dyalog on my laptop runs in about 45 seconds, not counting the scrolling to display numbers.</p>

<pre class="lang-apl prettyprint-override"><code>{⍺⍴{⍵[⍋⍵]}∪,⍵∘.×⍳5}⍣≡∘1     Monadic function:
{⍺⍴{⍵[⍋⍵]}∪,⍵∘.×⍳5}         Define the following helper function g(⍺,⍵):
             ⍵∘.×⍳5             Make a multiplication table between ⍵ and (1 2 3 4 5).
                                (Including 4 is unnecessary but saves bytes.)
            ,                   Flatten the table into an array.
           ∪                    Keep unique elements.
    {⍵[⍋⍵]}                     Grade up the array and access it at those indices.
                                (This is the APL idiom to sort an array.)
 ⍺⍴                             Keep the first ⍺ elements; pad by repeating the array.
{⍺⍴{⍵[⍋⍵]}∪,⍵∘.×⍳5}⍣≡       Repeatedly apply g with some fixed left argument
                             until a fixed point is reached.
                             At this point we have a dyadic function that takes
                             n on the left and the starting value on the right,
                             and returns multiples of the n Hamming numbers.
                      ∘1     Fix 1 as the right argument.
</code></pre>
</div>
<div id="pu9" class="pu"><h2>Ursala, 103</h2>

<pre><code>#import std
#import nat
smooth"p" "n" = ~&amp;z take/"n" nleq-&lt; (rep(length "n") ^Ts/~&amp; product*K0/"p") &lt;1&gt;
</code></pre>

<p><strong>Output</strong> for <code>main = smooth&lt;2,3,5&gt;* nrange(1,20)</code></p>

<pre><code>&lt;1,2,3,4,5,6,8,9,10,12,15,16,18,20,24,25,27,30,32,36&gt;
</code></pre>
</div>
<div id="pu10" class="pu"><h2>Haskell, 71</h2>

<pre><code>h n = drop n $ iterate (\(_,(a:t))-&gt; (a,union t [2*a,3*a,5*a])) (0,[1])
</code></pre>

<p><strong>Output</strong></p>

<pre><code>*Main&gt; map fst $ take 20 $ h 1
[1,2,3,4,5,6,8,9,10,12,15,16,18,20,24,25,27,30,32,36]
</code></pre>
</div>
<div id="pu11" class="pu"><h2>Haskell, <s>101</s> <s>97</s> 92+|n| characters</h2>

<pre><code>h=1:m 2h&amp;m 3h&amp;m 5h
m=map.(*)
c@(a:b)&amp;o@(m:n)|a&lt;m=a:b&amp;o|a&gt;m=m:c&amp;n|0&lt;1=a:b&amp;n
main=print$take 1000000h
</code></pre>

<p>Computes the full million in 3.7s on the machine I tested on (variably more if you actually want the output stored)</p>

<p>Ungolfed:</p>

<pre><code>-- print out the first million Hamming numbers
main = print $ take 1000000 h

-- h is the entire Hamming sequence.
-- It starts with 1; for each number in the
-- sequence, 2n, 3n and 5n are also in.
h = 1 : (m 2 h) &amp; (m 3 h) &amp; (m 5 h)

-- helper: m scales a list by a constant factor
m f xs = map (f*) xs

-- helper: (&amp;) merges two ordered sequences
a@(ha:ta) &amp; b@(hb:tb)
    |    ha &lt; hb = ha : ta &amp; b
    |    ha &gt; hb = hb :  a &amp; tb
    |  otherwise = ha : ta &amp; tb
</code></pre>

<p>All Haskell is notoriously good at: defining a list as a lazy function of itself, in a way that actually works.</p>
</div>
<div id="pu12" class="pu"><p><strong>Python 181 Characters</strong></p>

<pre><code>h=[]        
h.append(1)
n=input()
i=j=k=0
while n:
    print h[-1]
    while h[i]*2&lt;=h[-1]:
        i+=1
    while h[j]*3&lt;=h[-1]:
        j+=1
    while h[k]*5&lt;=h[-1]:
        k+=1
    h.append(min(h[i]*2,h[j]*3,h[k]*5))
    n-=1
</code></pre>
</div>
<div id="pu13" class="pu"><h2>Ruby - <strike>154</strike> 231 characters</h2>

<pre><code>def k i,n;(l=Math).log(i,2)*l.log(i,3)*l.log(i,5)/6&gt;n end
def l i,n;k(i,n)?[i]:[i]+l(5*i,n)end
def j i,n;k(i,n)?[i]:[i]+j(3*i,n)+l(5*i,n)end
def h i,n;k(i,n)?[i]:[i]+h(2*i,n)+j(3*i,n)+l(5*i,n)end
puts h(1,n=gets.to_i).sort.first n
</code></pre>

<p>And now it's fast enough, there is definitely a lot of golfing that can still happen though.</p>

<pre><code>→ time echo 1000000 | ruby golf-hamming.rb | wc
1000000 1000000 64103205
echo 1000000  0.00s user 0.00s system 0% cpu 0.003 total
ruby golf-hamming.rb  40.39s user 0.81s system 99% cpu 41.229 total
wc  1.58s user 0.05s system 3% cpu 41.228 total
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/7/">7</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




