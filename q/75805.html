<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::75805</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>nan</td><td>Perl 5</td><td>240312T063744Z</td><td><a href="https://codegolf.stackexchange.com/questions/75805/is-this-a-valid-variable-name/271733#271733">Xcali</a></td></tr>
<tr d-ix="1"><td>085</td><td>Scala 3</td><td>240312T063156Z</td><td><a href="https://codegolf.stackexchange.com/questions/75805/is-this-a-valid-variable-name/271732#271732">138 Aspe</a></td></tr>
<tr d-ix="2"><td>023</td><td>Japt</td><td>210903T094529Z</td><td><a href="https://codegolf.stackexchange.com/questions/75805/is-this-a-valid-variable-name/235023#235023">Shaggy</a></td></tr>
<tr d-ix="3"><td>396</td><td>Julia 1.3</td><td>210827T085933Z</td><td><a href="https://codegolf.stackexchange.com/questions/75805/is-this-a-valid-variable-name/233772#233772">MarcMush</a></td></tr>
<tr d-ix="4"><td>022</td><td>Vyxal</td><td>210826T205646Z</td><td><a href="https://codegolf.stackexchange.com/questions/75805/is-this-a-valid-variable-name/233762#233762">emanresu</a></td></tr>
<tr d-ix="5"><td>nan</td><td>Dyalog APL</td><td>160321T151654Z</td><td><a href="https://codegolf.stackexchange.com/questions/75805/is-this-a-valid-variable-name/75904#75904">Ad&#225;</a></td></tr>
<tr d-ix="6"><td>nan</td><td>Lua</td><td>160322T005130Z</td><td><a href="https://codegolf.stackexchange.com/questions/75805/is-this-a-valid-variable-name/75931#75931">Trebuche</a></td></tr>
<tr d-ix="7"><td>nan</td><td>Factor</td><td>160321T181843Z</td><td><a href="https://codegolf.stackexchange.com/questions/75805/is-this-a-valid-variable-name/75910#75910">fede s.</a></td></tr>
<tr d-ix="8"><td>nan</td><td>Lua</td><td>160321T201530Z</td><td><a href="https://codegolf.stackexchange.com/questions/75805/is-this-a-valid-variable-name/75916#75916">xaxa</a></td></tr>
<tr d-ix="9"><td>nan</td><td>Retina</td><td>160319T192841Z</td><td><a href="https://codegolf.stackexchange.com/questions/75805/is-this-a-valid-variable-name/75821#75821">daavko</a></td></tr>
<tr d-ix="10"><td>019</td><td>Pyth</td><td>160319T163306Z</td><td><a href="https://codegolf.stackexchange.com/questions/75805/is-this-a-valid-variable-name/75816#75816">Dennis</a></td></tr>
<tr d-ix="11"><td>036</td><td>Python 3</td><td>160321T185101Z</td><td><a href="https://codegolf.stackexchange.com/questions/75805/is-this-a-valid-variable-name/75913#75913">Dennis</a></td></tr>
<tr d-ix="12"><td>nan</td><td>Ruby</td><td>160320T032706Z</td><td><a href="https://codegolf.stackexchange.com/questions/75805/is-this-a-valid-variable-name/75846#75846">Flambino</a></td></tr>
<tr d-ix="13"><td>045</td><td>PHP 50  10% =</td><td>160320T162614Z</td><td><a href="https://codegolf.stackexchange.com/questions/75805/is-this-a-valid-variable-name/75875#75875">Xesau</a></td></tr>
<tr d-ix="14"><td>nan</td><td>JavaScript ES6</td><td>160319T151426Z</td><td><a href="https://codegolf.stackexchange.com/questions/75805/is-this-a-valid-variable-name/75807#75807">Downgoat</a></td></tr>
<tr d-ix="15"><td>nan</td><td>Python</td><td>160320T091027Z</td><td><a href="https://codegolf.stackexchange.com/questions/75805/is-this-a-valid-variable-name/75858#75858">Max</a></td></tr>
<tr d-ix="16"><td>044</td><td>Ruby</td><td>160320T033431Z</td><td><a href="https://codegolf.stackexchange.com/questions/75805/is-this-a-valid-variable-name/75847#75847">Flambino</a></td></tr>
<tr d-ix="17"><td>037</td><td>JavaScript ES7</td><td>160319T235934Z</td><td><a href="https://codegolf.stackexchange.com/questions/75805/is-this-a-valid-variable-name/75833#75833">Andreas </a></td></tr>
<tr d-ix="18"><td>019</td><td>05AB1E</td><td>160319T153238Z</td><td><a href="https://codegolf.stackexchange.com/questions/75805/is-this-a-valid-variable-name/75811#75811">Adnan</a></td></tr>
<tr d-ix="19"><td>021</td><td>Pyke</td><td>160319T155319Z</td><td><a href="https://codegolf.stackexchange.com/questions/75805/is-this-a-valid-variable-name/75812#75812">Blue</a></td></tr>
<tr d-ix="20"><td>021</td><td>Perl</td><td>160319T155916Z</td><td><a href="https://codegolf.stackexchange.com/questions/75805/is-this-a-valid-variable-name/75814#75814">Dennis</a></td></tr>
<tr d-ix="21"><td>029</td><td>Gogh</td><td>160319T155838Z</td><td><a href="https://codegolf.stackexchange.com/questions/75805/is-this-a-valid-variable-name/75813#75813">Zach Gat</a></td></tr>
<tr d-ix="22"><td>027</td><td>MATL</td><td>160319T153115Z</td><td><a href="https://codegolf.stackexchange.com/questions/75805/is-this-a-valid-variable-name/75810#75810">Luis Men</a></td></tr>
<tr d-ix="23"><td>nan</td><td>Perl</td><td>160319T150855Z</td><td><a href="https://codegolf.stackexchange.com/questions/75805/is-this-a-valid-variable-name/75806#75806">a spaghe</a></td></tr>
<tr d-ix="24"><td>027</td><td>Pyth</td><td>160319T151650Z</td><td><a href="https://codegolf.stackexchange.com/questions/75805/is-this-a-valid-variable-name/75808#75808">Blue</a></td></tr>
<tr d-ix="25"><td>093</td><td>Mathematica</td><td>160319T151833Z</td><td><a href="https://codegolf.stackexchange.com/questions/75805/is-this-a-valid-variable-name/75809#75809">LegionMa</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a>, (22 + 1 <code>-p</code> bytes) * .9 = 20.7</h1>

<pre class="lang-perl prettyprint-override"><code>$_=!/\W/*/^\D//2**/^_/
</code></pre>
<p><a href="https://tio.run/##K0gtyjH9/18l3lZRPyZcX0s/LsZFX99IC8iI1///nystPz8psYjLKbGCKz4zLa2SyznfP4fLwrI4MSUpMeVffkFJZn5e8X/dghwA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.scala-lang.org/" rel="nofollow noreferrer">Scala 3</a>, 85 bytes</h1>
<p>Golfed version. <a href="https://ato.pxeger.com/run?1=XZDBTsJAEIbjlacYGhJ3IzQUQmJISkKAgwcuGk-ozVKWsthum91FJJQn8YIHvfhEevBZnHaBRA7NdL5_5t-ZefvUIYtZ-2viNGS6Zko6jz8Xv-l0yUMDYyYkbCsAMz6HBBPCVKS70FeKbSZ3RgkZPdIu3EthwC8rAV5YDIZrM2Caa6RjlpFSAHDYNESraCGWz3Ei08yBRg-8-lEOir6ghE23c8Jeq42NFp9gP5h6g6DVPreontUlLBK4ImSp3HhWKyVaKcNpUneeKs7CBWwhxByIkNnK1IG_ZngKPqPg9w6exYaK61VcLI2JmDHD7TVsFz0UZohMLIl2bgrchdrBdHQwRXL0r8NtaYnIetdhkCqFGpLt8Tn_NM_Osa_sKsVXsVP9H6YLBIj9pX5vmK6mMcc14GNl5o3r73vt98ScaFfoUZKZTZ5r0qSYDUUkTJ5DVbsJM-GCa-I8PTysr2oOpW4TeIz3KTqx3Pcvg0vqdiz03KY1f9_ZuN_b-Ac" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre class="lang-scala prettyprint-override"><code>s=&gt;if(s.isEmpty||s(0).isDigit|| !s.matches(&quot;^\\w+$&quot;)).0 else if(s(0)=='_').5 else 1.0
</code></pre>
<p>Ungolfed version. <a href="https://ato.pxeger.com/run?1=XZLNboJAEMeTHn2KkZgIKZKiMWlMNDHqoQcvbXqqLVlggbV8lV3aGsuT9OKlfag-TYddIMYDWeY3M_-dj_3-5R6JyeR0-ilFMLr9u3rL3D31BGwJS-HYA_BpAAkaOilCPoNlUZDD04MoWBo-GzN4TJmAuYwEeCcxCMrFinDKkW5JrksHgEZcD6XCiO1f4yTNcg1GC7DN1u3UeY6EN9a0w_Z4gokKd3DpuPbKGU8uJfoXcQkJGbYHeZYebOWTLqMnj65SK8gKSrwIjuChDTpL81KYQD9zHAX1DZgvGs26w4LyMq6bRoP5RFA1DZVlNIE5IhGnOtfuajyDQSO6aUSRtPom3EtJRErbhFVWFOhDcmyvm3f1VJq6perVX7Oji2JwVeoPd7TOSjem3ZZYoHOL8U2SiwN8fQG3Ikp8JGsW4jKR9LmVEOFFlOvay273cT3QDKPJBtyPGmMFNMZpSblaoS5x6AzPA6fngS2223xZfqVeXvMA24f4Dw" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre class="lang-scala prettyprint-override"><code>object Main {
  def main(args: Array[String]): Unit = {
    val testCases = Map(
      &quot;abcdefghijklmnop&quot; -&gt; 1,
      &quot;_test_&quot; -&gt; 0.5,
      &quot;123abc&quot; -&gt; 0,
      &quot;A_b1C_23&quot; -&gt; 1,
      &quot;_!&quot; -&gt; 0,
      &quot;magical pony1&quot; -&gt; 0
    )

    testCases.foreach { case (input, expected) =&gt;
      val result = validateString(input)
      println(s&quot;Input: $input, Expected: $expected, Result: $result, Correct: ${result == expected}&quot;)
    }
  }

  def validateString(s: String): Double = {
    if(s.isEmpty || s.head.isDigit || !s.matches(&quot;^\\w+$&quot;)) {
      0.0
    } else if(s.head == '_') {
      0.5
    } else {
      1.0
    }
  }
}
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, 23 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<p>Guess which genius once upon a time suggested removing <code>_</code> from Japt's <code>\w</code> character class thereby costing himself 3 bytes here! ETH <em>was</em> going to add a new class with <code>_</code> included but then he disappeared.</p>
<pre><code>¥f&quot;[%l_][%w_]+&quot;)/ÒUè&quot;^_
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;code=pWYiWyVsX11bJXdfXSsiKS/SVegiXl8&amp;input=ImFiY2RlZmdoaWprbG1ub3Ai" rel="nofollow noreferrer">Try it</a> or <a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;code=pWYiWyVsX11bJXdfXSsiKS/SVegiXl8&amp;input=WwoiYWJjZGVmZ2hpamtsbW5vcCIKIl90ZXN0XyIKIjEyM2FiYyIKIkFfYjFDXzIzIgoiXyEiCiJtYWdpY2FsIHBvbnkxIgpdLW1S" rel="nofollow noreferrer">run all test cases</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="http://julialang.org/" rel="nofollow noreferrer">Julia 1.3</a>, <sup><s>46</s></sup> 44 -10% = <sup><s>41.4</s></sup> 39.6 bytes</h1>

<pre class="lang-julia prettyprint-override"><code>!s=[1 .5]count.(r&quot;^[a-z]\w*$&quot;i=&gt;r&quot;^_\w*$&quot;,s)
</code></pre>
<p><a href="https://tio.run/##RY6/TsMwEMZ3P4WbMiSoTUgrlqBUFMSCEAMdGEqJzo7ruDhOFF/6h4k35JGCE7VisP2777v7fLtWK4iP3ZhCnoucKkOfe4nG4ZyMaYFY2ySKpMKiZSGvymiwX8DIaNdTxHTFor1rD2@i16f3VVjmYyMOU61YA81pum0NR1UZSx7AChfRGvRrQBSNSZI3IcVxQi02ysgkWTJHwHE11He02otGQ51uQVsRpFoYiYXPK60FR18AL0pAXlzyLkH/g@c3CIJuZNN1TMPbzbBC6Dfe5xqm35uPw/WVp9KFq7OBJzboUFi0NKVr4nnEA8ZzsZWF2n3p0lS1k7K@I3MQz@bOdrDMWPyYzea9OXJXCVJx0LSuzCnuRXd@fzyyIeQ@pLXbE7Xxzx8t6GigoPsD" rel="nofollow noreferrer" title="Julia 1.0 – Try It Online">Try it online!</a></p>
<h3>explanation</h3>
<ul>
<li><code>r&quot;^[a-z]\w*$&quot;i</code> is the regex for a variable not starting with a <code>_</code> (the <code>i</code> means case-insensitive)</li>
<li><code>r&quot;^_\w*$&quot;</code> for a variable starting with a <code>_</code></li>
<li><code>count.()</code> counts the number of time each regex appears in s, result is in a vector (similar to a 2×1 matrix)</li>
<li><code>[1 .5]</code> is a 1×2 matrix, when multiplied by the previous result, gives the expected result (0.5 when starting with <code>_</code>, 1 otherwise)</li>
</ul>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, 22 bytes</h1>
<pre><code>hkdc¬:[kr\_+?F¬?h\_=ß½
</code></pre>
<p><a href="https://lyxal.pythonanywhere.com?flags=&amp;code=hkdc%C2%AC%3A%5Bkr%5C_%2B%3FF%C2%AC%3Fh%5C_%3D%C3%9F%C2%BD&amp;inputs=_test_&amp;header=&amp;footer=" rel="nofollow noreferrer">Try it Online!</a></p>
<p>A mess.</p>
</div>
<div id="pu5" class="pu"><h1><a href="http://goo.gl/9KrKoM" rel="nofollow noreferrer">Dyalog APL</a>, 19 bytes - 10% = 17.1</h1>
<pre><code>{(0≤⎕NC⍵)÷1+'_'=⊃⍵}
</code></pre>
<p><code>{</code>…<code>⍵</code>…<code>}</code> anonymous function where the right argument is represented by <code>⍵</code><br>
<code>⊃⍵</code> first character (gives space if empty)<br>
<code>'_'=</code> 1 if equal to 'underbar, 0 otherwise<br>
<code>1+</code> evaluates to 2 if initial underbar, 1 otherwise<br>
<code>⎕NC⍵</code> <a href="http://help.dyalog.com/14.1/Content/Language/System%20Functions/nc.htm" rel="nofollow noreferrer">name class</a>; -1 if invalid name, 0 if undefined (but valid name), 2-9 if defined (and thus valid)</p>
</div>
<div id="pu6" class="pu"><h1>Lua, 68 * .9 = 61.2 bytes</h1>

<pre><code>s=arg[1]print(s:find("^[%a_][%w_]*$")and(s:find("^_")and.5or 1)or 0)
</code></pre>

<p>Takes arguments on the command line</p>
</div>
<div id="pu7" class="pu"><h1><a href="http://factorcode.org/" rel="nofollow">Factor</a>, 84 * 0.9 = 76.5</h1>

<pre><code>USE: regexp
[ R/ [_a-zA-Z]\w*/ R/ _.*/ [ matches? 1 0 ? ] bi-curry@ bi 0 = 1 2 ? / ]
</code></pre>

<p>Runs on the listener (repl), defines a quotation (anonymous function) that takes a string and outputs { 0 | 1/2 | 1 }.</p>

<p>Defining it as a word it's 97 chars:</p>

<pre><code>USE: regexp
: v ( s -- n ) R/ [_a-zA-Z]\w*/ R/ _.*/ [ matches? 1 0 ? ] bi-curry@ bi 0 = 1 2 ? / ;
</code></pre>

<h3>How does it work:</h3>

<p><code>R/ [_a-zA-Z]\w*/ R/ _.*/</code> defines two regular expressions. <code>bi-curry@</code> partially applies the quotation <code>[ matches? 1 0 ? ]</code> to each regex, leaving two curried quotations on the stack. <code>bi</code> applies each quotation to the argument string.</p>

<p>Each of those (curried quotations) leave either a 1 or a 0, depending if they matched. The first matches on the well formed names, the second on names starting with underscore.</p>

<p><code>0 = 1 2 ? /</code> The last value is replaced with a 1 if it was 0, or with a 2 if it was 1. Then the first (1 or 0, valid or not) is divided by the second (2 or 1, starts with underscore or not).</p>

<p>This is loooong! Any pointers to shrinking a bit more appreciated...</p>

<p>And I hate regexps!</p>

<h3>PS.</h3>

<pre><code>{ 0 } [ "" v ] unit-test
{ 0 } [ "" v ] unit-test
{ 0 } [ "1" v ] unit-test
{ 0 } [ "1var" v ] unit-test
{ 0 } [ "var$" v ] unit-test
{ 0 } [ "foo var" v ] unit-test
{ 1 } [ "v" v ] unit-test
{ 1 } [ "var" v ] unit-test
{ 1 } [ "var_i_able" v ] unit-test
{ 1 } [ "v4r14bl3" v ] unit-test
{ 1/2 } [ "_" v ] unit-test
{ 1/2 } [ "_v" v ] unit-test
{ 1/2 } [ "_var" v ] unit-test
{ 1/2 } [ "_var_i_able" v ] unit-test
{ 1/2 } [ "_v4r14bl3" v ] unit-test
</code></pre>

<p>all test pass ;)</p>
</div>
<div id="pu8" class="pu"><h1>Lua, 82 - 10% = 73.8</h1>

<pre><code>v=function(s)return(s:match("^[_%a]+[_%w]*$")and 1or 0)*(s:match("_")and.5or 1)end
</code></pre>

<p>Test Cases:</p>

<pre><code>print(v("a") == 1) -- true
print(v("1") == 0) -- true
print(v("_") == 0.5) -- true
print(v("") == 0) -- true
print(v("1a") == 0) -- true
print(v("a1") == 1) -- true
print(v("_1") == 0.5) -- true
print(v("_a") == 0.5) -- true
print(v("1_") == 0) -- true
print(v("a_") == 0.5) -- true
</code></pre>
</div>
<div id="pu9" class="pu"><h1>Retina, <s>30 - 10% = 27</s> <s>28 - 10% = 25.2</s> 29 - 10% = 26.1 bytes</h1>

<p>Both versions qualify for bonus, as they handle empty input correctly (outputs <code>0</code>)</p>

<p>I had to fix a bug caused by one of .NET regex features, which considers some (read as many) Unicode characters as "word" characters. Fortunately, this cost me only a single byte in both versions. It only came down to adding a modifier to make the regex matching behavior compliant to ECMAScript standards. More about that <a href="https://msdn.microsoft.com/en-us/library/20bw873z%28v=vs.110%29.aspx#Anchor_5" rel="nofollow">here</a>.</p>

<h3>New <s>28</s> 29-byte version, made by @MartinBüttner. Thanks!</h3>

<pre>^_
$_¶_
Mme`^(?!\d)\w+$
2
0.5</pre>

<h3>Explanation</h3>

<p>First, we check if the input starts with an underscore. If it does, the input is duplicated, with a newline in between. For example: <code>_test_</code> -> <code>_test_\n_test_</code>, where <code>\n</code> is the newline. Then we try to match anything, that doesn't start with a number, but is followed by any number of "word" characters (<code>a-z</code>, <code>A-Z</code>, digits, and underscore) <em>on each line</em>. Note that if input started with an underscore and was replaced to two lines, this will match both lines. Then we check if we had 2 matches, and replace them with <code>0.5</code>. Empty or invalid line will always yield 0 matches, and valid variable names always yield 1 match.</p>

<hr>

<h3>My own <s>30</s> 31-byte version</h3>

<pre>Ae`^\d|\W
^_.*
0.5
^\D.*
1
^$
0</pre>

<h3>Explanation</h3>

<p>First of all, we check if input starts with a digit or contains a non-word character (anything other than <code>a-z</code>, <code>A-Z</code>, digits and underscore). If it does, it's discarded, because it's invalid. Then we check if it starts with an underscore. If it does, it's replaced with <code>0.5</code>. Then we check if it starts with a non-digit character (at this point the first character is either <code>0</code>, <code>a-z</code>, or <code>A-Z</code>. Only <code>a-z</code> and <code>A-Z</code> are non-digits, obviously). If it does, it's replaced with a <code>1</code>. Then we check for empty string and replace it with <code>0</code>.</p>

<p><a href="http://retina.tryitonline.net/#code=Xl8KJF_Ctl8KTW1lYF4oPyFcZClcdyskCjIKMC41&amp;input=X3Rlc3Rf" rel="nofollow">Try it online!</a><br>
<a href="http://retina.tryitonline.net/#code=QWVgXlxkfFxXCl5fLioKMC41Cl5cRC4qCjEKXiQKMA&amp;input=X3Rlc3Rf" rel="nofollow">Try it online! Old version</a></p>
</div>
<div id="pu10" class="pu"><h1>Pyth, 19 bytes</h1>

<pre><code>c!:z"\W|^\d"0h!xz\_
</code></pre>

<p>Try it with the <a href="http://pyth.herokuapp.com/?code=c%21%3Az%22%5CW%7C%5E%5Cd%220h%21xz%5C_&amp;input=abcdefghijklmnop%0A123abc%0A_test_&amp;test_suite=1&amp;test_suite_input=abcdefghijklmnop%0A_test_%0A123abc%0AA_b1C_23%0A_%21%0Amagical+pony1&amp;debug=0" rel="nofollow">Pyth Compiler</a>.</p>

<p>Note that this will only work correctly for code pages that don't have non-ASCII letters/digits.</p>

<h3>How it works</h3>

<pre><code>c!:z"\W|^\d"0h!xz\_  (implicit) Save the input in z.

  :z        0        Test if z matches the following regex:
    "\W|^\d"           A non-word character or a digit at the beginning.
                     This returns True iff z is an invalid name.
 !                   Apply logical NOT to yield True iff z is a valid name.
               xz\_  Find the first index of the underscore in z.
                     This yields 0 iff z begins with an underscore.
             h!      Apply logical NOT and increment.
                     This yields 2 if z begins with an underscore, 1 otherwise.
c                    Divide the two results.
</code></pre>
</div>
<div id="pu11" class="pu"><h1>Python 3, 36 bytes</h1>

<pre><code>lambda s:s.isidentifier()/-~(s[:1]=='_')
</code></pre>

<p>The code is <strong>40 bytes</strong> long and qualifies for the <strong>-10% bonus</strong>.</p>

<p>Note that this will only work correctly for code pages that don't have non-ASCII letters/digits.</p>
</div>
<div id="pu12" class="pu"><h1>Ruby, 57 - 10% = 51.3 bytes</h1>

<pre><code>-&gt;(s){case s
when'',/^\d/,/\W/
0
when/^_/
0.5
else
1
end}
</code></pre>

<p>A pretty naïve approach</p>
</div>
<div id="pu13" class="pu"><h2>PHP (50 - 10% = 45)</h2>

<p>Thanks to Schism for the -2 :)</p>

<pre><code>preg_match('/^[a-z_]\w*$/i',$s)?$s[0]=='_'?.5:1:0;
</code></pre>

<p>Not to compete with the golflang answers, but I thought I'd try it anyways.</p>

<pre><code>preg_match('/^[a-z_]\w*$/i', $s) # Matches every a-zA-Z0-9_ string that doesnt start with a number
?   $s[0] == '_'                   # Then, if it starts with an _
    ?   .5                         # give 0.5 points
    :   1                          # If it doesn't, give 1
:   0;                             # If it didn't match the regex, give 0
</code></pre>

<p>Something to note is that in PHP, without the <code>/u</code> modifier, <code>\w</code> only selects ASCII letters. In some other languages/Regex flavours, this pattern won't work.</p>

<p><strong>Edit</strong>: I see a lot of people using \w and \d in their answers, when they use a language that includes non-ASCII letters and digits too. That is NOT the puzzle. They are wrong. (Can't downvote/comment yet, sorry to need to tell it this way.)</p>
</div>
<div id="pu14" class="pu"><h2>JavaScript (ES6), 37 - 10% = 33.3 bytes</h2>

<p>Saved 4 bytes thanks to @edc65</p>

<p>Saved 5.6 bytes thanks to @Mateon</p>

<pre><code>s=&gt;!/^\d|\W|^$/.test(s)/-~(s[0]=='_')
</code></pre>
</div>
<div id="pu15" class="pu"><h1>Python, 84 -10% = 76 bytes</h1>
<pre><code>lambda x:[0,[[.5,1][x[0]&gt;'z'],0][x[0]&lt;'A']][x.replace('_','a').isalnum()]if x else 0
</code></pre>
</div>
<div id="pu16" class="pu"><h1>Ruby, 44 bytes</h1>

<pre><code>-&gt;(s){s=~/^(_|\d)?\w*$/?$1?$1==?_?0.5:0:1:0}
</code></pre>
</div>
<div id="pu17" class="pu"><h1>JavaScript ES7, 37 bytes</h1>

<pre><code>x=&gt;!x.match(/\W|^\d/)/2**/^_/.test(x)
</code></pre>

<p><a href="http://vihan.org/p/esfiddle/?code=f%3Dx%3D%3E!x.match(%2F%5CW%7C%5E%5Cd%2F)%2F2**%2F%5E_%2F.test(x)%3B%0A%5B%0A%20%20%20%20%5B%22abcdefghijklmnop%22%2C%201%5D%2C%0A%20%20%20%20%5B%22_test_%22%2C%20.5%5D%2C%0A%20%20%20%20%5B%22123abc%22%2C%200%5D%2C%0A%20%20%20%20%5B%22A_b1C_23%22%2C%201%5D%2C%0A%20%20%20%20%5B%22_!%22%2C%200%5D%2C%0A%20%20%20%20%5B%22magical%20pony1%22%2C%200%5D%0A%5D.map(x%3D%3E%60%27%24%7Bx%5B0%5D%7D%27%20%3D%20%24%7Bf(x%5B0%5D)%7D%2C%20expected%20%24%7Bx%5B1%5D%7D%60).join(%60%0A%60)" rel="nofollow">Try it online</a></p>

<p>How it works:</p>

<pre><code>x=&gt;                                   // Fat arrow function
   !x.match(/\W|^\d/)                 // Gives false if contains non word or starting 
                                      //   with a digit. Booleans in numeric context will 
                                      //   be 0 or 1
                      2**             // 2 to the power of...
                         /^_/.test(x) // gives true if starting with '_'. 
                                      //   true -&gt; 1 -&gt; 2**1 -&gt; 2
                                      //   false -&gt; 0 -&gt; 2**0 -&gt; 1
                     /                // Devide the lValue boolean with the numeric rValue:
                                      // lValue = 0 or 1
                                      // rValue = 2 or 1
</code></pre>

<p>Port of @Dennis's Perl answer</p>
</div>
<div id="pu18" class="pu"><h1><a href="http://github.com/Adriandmen/05AB1E" rel="noreferrer">05AB1E</a>, <s>25</s> <s>24</s> <s>20</s> 19 bytes</h1>
<p>Code:</p>
<pre><code>¬D'_Qsa·+¹žj-&quot;&quot;Q*2/
</code></pre>
<p>Explanation:</p>
<pre><code>¬                     # Push input and also push the first character.
 D                    # Duplicate the first character.
  '_Q                 # Check if it is equal to an underscore character.
     sa               # Swap and check the duplicate if it's an alphabetic character.
       ·              # Double the value.
        +             # Add both values up
         ¹            # Take the first input.
          žj-         # žj is short for [a-zA-Z0-9_]. This will be substracted from the
                        initial string. 
             &quot;&quot;Q      # Check if the string is empty.
                *     # Multiply this with the first value.
                 2/   # Halve it, resulting into 0.0, 0.5, or 1.0.
</code></pre>
<p>In short, the formula for the string <code>s</code> in pseudocode is:</p>
<pre><code>((s[0] == '_' + s.isalpha() × 2) × (s.remove([a-zA-Z0-9_]) == &quot;&quot;)) / 2
</code></pre>
<p><a href="http://05ab1e.tryitonline.net/#code=wqxEJ19Rc2HCtyvCucW-ai0iIlEqMi8&amp;input=bWFnaWNhbCBwb255MQ" rel="noreferrer">Try it online!</a></p>
<p>Uses <strong>CP-1252</strong> encoding.</p>
</div>
<div id="pu19" class="pu"><h2><a href="https://github.com/muddyfish/PYKE" rel="nofollow noreferrer">Pyke</a>, 21 bytes</h2>
<h3>(noncompeting, added string subtraction, various string constants)</h3>
<pre><code>Qh~u{Q~J\_+-|!Qh\_qh/
</code></pre>
<p>Explanation:</p>
<pre><code>Qh~u{                 - Check first char isn't a digit
     Q~J\_+-          - Is the input alphanumeric + &quot;_&quot;
            |!        - Combine
              Qh\_q   - Is the first char an &quot;_&quot;
                   h/ - Combine
</code></pre>
</div>
<div id="pu20" class="pu"><h1>Perl, 21 bytes</h1>

<pre><code>$_=!/\W|^\d//2**/^_/
</code></pre>

<p>The score includes <strong>+1 byte</strong> for the <code>-p</code> switch. Try it on <a href="http://ideone.com/7JreBb" rel="nofollow">Ideone</a>.</p>
</div>
<div id="pu21" class="pu"><h1><a href="https://github.com/zachgates7/Gogh" rel="nofollow">Gogh</a>, 29 bytes</h1>

<pre><code>÷"[^\W\d]\w*"g¦"_.*"g+÷2=0.5¿
</code></pre>

<p>Run using:</p>

<pre><code>$ ./gogh no '÷"[^\W\d]\w*"g¦"_.*"g+÷2=0.5¿' "_test"
</code></pre>

<hr>

<h3>Explanation</h3>

<pre><code>                   “ Implicit input                               ”
÷                  “ Duplicate the TOS                            ”
"[^\W\d]\w*"g      “ Fully match the STOS against the TOS (regex) ”
¦                  “ Swap the STOS and TOS                        ”
"_.*"g             “ Fully match the STOS against the TOS (regex) ”
+                  “ Add the TOS to the STOS                      ”
÷                  “ Duplicate the TOS                            ”
2=                 “ Determine if the TOS is equal to 2           ”
0.5¿               “ Leave the correct output on the stack        ”
                   “ Implicit output                              ”
</code></pre>
</div>
<div id="pu22" class="pu"><h1><a href="https://esolangs.org/wiki/MATL" rel="nofollow noreferrer">MATL</a>, 27 bytes</h1>
<pre><code>1)95=2/8M3Y2m+G7M95h4Y2hmA*
</code></pre>
<p>This works in <a href="https://github.com/lmendo/MATL/releases/tag/15.0.0" rel="nofollow noreferrer">current version(15.0.0)</a> of the language.</p>
<p>Input is a string with single quotes.</p>
<p><a href="http://matl.tryitonline.net/#code=MSk5NT0yLzhNM1kybStHN005NWg0WTJobUEq&amp;input=J190ZXN0Xyc" rel="nofollow noreferrer"><strong>Try it online!</strong></a></p>
<h3>Explanation</h3>
<pre><code>1)      % take input implicitly. Get its first element
95=     % true if it equals 95 (underscore)
2/      % divide by 2: gives 0.5 if underscore, 0 if not
8M      % push first element of input again
3Y2     % predefined literal: string with all letters
m       % true if it's a letter
+       % add. Gives 1 if letter, 0.5 if underscore
G       % push input again
7M      % push string with all letters again
95h     % concatenate underscore
4Y2h    % predefined literal: string with all digits. Concatenate
mA      % true if all input chars belong to that concatenated string
*       % multiply. Display implicitly
</code></pre>
</div>
<div id="pu23" class="pu"><h1>Perl, 34 + 1 = 35 bytes</h1>
<pre><code>$_=/^([^\W\d])\w*$//(($1 eq&quot;_&quot;)+1)
</code></pre>
<p>Uses the <code>-p</code> flag.</p>
<h2>Explanation</h2>
<pre><code>$_=/^([^\W\d])\w*$//(($1 eq&quot;_&quot;)+1)
   /^([^\W\d])\w*$/                 matches any string that starts with an underscore or a letter of the alphabet followed by 0 or more alphanumeric + underscore characters. The first character is stored in a capture group
                   /                divide result by
                    (($1 eq&quot;_&quot;)+1)  (capture == &quot;_&quot;) + 1. This is 1 if the first character was not an underscore and 2 if it was.
$_=                                 assign to $_ and implicitly print
</code></pre>
</div>
<div id="pu24" class="pu"><h2>Pyth, 27 bytes</h2>

<pre><code>c!|-rz0++G\_JjkUT}hzJhqhz\_
</code></pre>

<p><a href="http://pyth.herokuapp.com/?code=c!|-rz0%2B%2BG%5C_JjkUT%7DhzJhqhz%5C_&amp;input=abcdefghijklmnop%0A123abc%0A_test_&amp;test_suite=1&amp;test_suite_input=abcdefghijklmnop%0AABcdefghijklmnop%0A123abc%0A_test_&amp;debug=0" rel="nofollow">Test Suite</a></p>
</div>
<div id="pu25" class="pu"><h1>Mathematica, 93 bytes</h1>

<pre><code>If[#~StringMatchQ~RegularExpression@"[A-Za-z_][0-9A-Za-z_]*",If[#~StringTake~1=="_",.5,1],0]&amp;
</code></pre>

<p>I'm honestly not sure if this <em>can</em> be golfed further.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/75805/">75805</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




