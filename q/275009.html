<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::275009</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>316</td><td>Python</td><td>240817T044742Z</td><td><a href="https://codegolf.stackexchange.com/questions/275009/ways-to-paint-a-backbone-on-a-tree/275026#275026">Mukundan</a></td></tr>
<tr d-ix="1"><td>643</td><td>Python3</td><td>240816T145138Z</td><td><a href="https://codegolf.stackexchange.com/questions/275009/ways-to-paint-a-backbone-on-a-tree/275016#275016">Ajax1234</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 316 bytes</h1>
<pre class="lang-python prettyprint-override"><code>def h(g,n):
 r=[]
 for*i,p,n in(q:=[[len(g[n]),n,n]]):
  q+=[[len(g[c]),*i,n,c]for c in g[n]if p^c];r+=(*i,),
 return*sorted(r),
def f(g):
 s=[]
 for*i,p,n in(q:=[[h(g,n),n,n]for n,c in enumerate(g)if len(c)&lt;2]):
  q+=[[h(g,c),*i,n,c]for c in g[n]if p^c];s+=[(*min(i,i[::-1]),)]*(len(g[n])&lt;2)*(p^n)
 return len({*s})
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=hZBNbtswEIWRrU9BaEUq48BS5J-4doFsChTookCWBF0IMqWokGlGP4aLoifpxpv2UDlNZ0g5tYvEXXgMzbxv3hv-_G2_tY9bczj86tp8OHu-Wqx1zh55AUbMB6xeSjVg-bYOS7BgWGn403wpZaUNL6RRAgwYpUjKnq5fBhkOkDCQKWRZhhwjeZkzu8rUu_p6yXEuAB1029UmbLZ1q9e8xhYFyHlBO5s37H0-50370YcctOk2uk5bjTA6UZRMLOKTdMRll6M1qOPhBp1KKOV8PozwFqFC_nLyIhYhtysjjuGd0_ew-SGOj7iiG_S60E2crr9WZdNy9-WSMGbYkm3SPd-kFn978FIh3BABHEup6G72hfLVqSk0N0I5AbU7YDt3MoF-ac_Kjg1ZpG5Sa7VZ8x19iTPB7kzQ_RX016BmMCCTqjSaTLYo5KM-e2ks5t1bd4LlepdW4JQ3ja3Klgds-J4F_S0oRt35Q2DPD7ddi8PcN1zH1qVpuQw-3H_8FAALPt8_PARKOuGSTBUQ1T_z4fmqlTKCWIGM4RbrLSSujpWiFPHgtfEYJlgnMHUdqlOYeSB5FaB9VCc9cGG3l546THA31btLDonDEodNHTBDwGMg7yAaeXryX9qbJic7HO3-IvyLIohivywa_bMtfmObTzQ9njD2r_8H" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Takes input as an adjacency list, test runner contains code to convert edge list to adjacency list.</p>
</div>
<div id="pu1" class="pu"><h1>Python3, 643 bytes</h1>
<pre class="lang-py prettyprint-override"><code>F=lambda x:{J for K in x for J in K}
W=tuple
def B(g):
 D={}
 for a,b in g:D[a]={*D.get(a,[]),b};D[b]={*D.get(b,[]),a} 
 q,S=[(i,[i],[len(D[i])])for i in D if len(D[i])==1],{}
 for a,p,d in q:
  F=1
  for A in D[a]-{*p}:q+=[(A,p+[A],d+[len(D[A])])];F=0
  if F:
   if(t:=W(d))in S:
    if p not in S[t]and p[::-1]not in S[t]:S[t]=S[t]+[p]
   elif(T:=W(d[::-1]))in S:
    if p not in S[T]and p[::-1]not in S[T]:S[T]=S[T]+[p]
   else:S[t]=[p]
 return S
def f(g):
 d=B(g)
 C=0
 for i in d:
  V=[]
  for j in d[i]:
   r=[b for b in g if all(I not in b for I in j)]
   V+=[W(sorted([*B(r+[[u,u]for u in F(g)-F(r)-{*j}])]))]
  C+=len({*V})
 return C 
</code></pre>
<p><a href="https://tio.run/##lVPBbptAEL3zFXNczLgKNsYO0R4cI6QkR1v2YbUHENjFohgTLKWy@HZ3ZqGOpbZJeplZvZ333uwMVD@b74dyPKvqyyWSRfwjSWN4C87PsD3U8AJ5CW/m@MzHl9bayOZUFZmVZlt4FDs7sCCU59YyRTEmXLYLQhVreR6E33ZZI2JU2sakfQhV8o4mBo1bsOCIS6lEjirXqIqsFCGdbG2zZM6CIeRbuF5I6Wp8t6ww5ZojdQKRdCkyPjc8amN4HlRtcHTIYY6Vo@YaU6d3mbOLfojkHbHIImINOogmkBuR2jZpLA3GtxWUh4Zll6rRcZlCpYJg6OobNOAgOTiq0kzMCpJbGbmu@t@iq7@Krlh0xaKrG9HXrLMyQJ01p5pqzVK23VJSyduxYMFvuw4yZd@1VLqf0t6ANFTTTy1VYuBui9xeXBTi6XeL3eUTH/e2aWRNY92I10PdZKlQg0dRO0qd8KS58MSFEXUxjERt0x72Lc/bMBeO5BWcB@vWvj5gAZeqzstGbIVSLo7oaxjhmOIYPRMnmujWRzUT9Cn6ODUIxynOPmWxMke/Z32t/tbLJxeO959yPcP1DHdqWDNidVxU9@je/ZdEZ@/dCBkJk@g3Ua6L7ugPRSBJIE0Y99nj7CFM@uxz9hGmnKcIsz6b911@AQ" rel="nofollow noreferrer">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/275009/">275009</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




