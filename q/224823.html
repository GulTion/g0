<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::224823</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>003</td><td>Uiua</td><td>240724T073438Z</td><td><a href="https://codegolf.stackexchange.com/questions/224823/write-a-program-with-infinite-expected-output/274388#274388">Europe20</a></td></tr>
<tr d-ix="1"><td>026</td><td>Setanta</td><td>240724T035212Z</td><td><a href="https://codegolf.stackexchange.com/questions/224823/write-a-program-with-infinite-expected-output/274384#274384">bb94</a></td></tr>
<tr d-ix="2"><td>004</td><td>JCram</td><td>240723T134944Z</td><td><a href="https://codegolf.stackexchange.com/questions/224823/write-a-program-with-infinite-expected-output/274355#274355">Kamila S</a></td></tr>
<tr d-ix="3"><td>005</td><td>APL</td><td>220713T165112Z</td><td><a href="https://codegolf.stackexchange.com/questions/224823/write-a-program-with-infinite-expected-output/249926#249926">Vadim Tu</a></td></tr>
<tr d-ix="4"><td>007</td><td>Befunge93</td><td>210501T204509Z</td><td><a href="https://codegolf.stackexchange.com/questions/224823/write-a-program-with-infinite-expected-output/224883#224883">user1011</a></td></tr>
<tr d-ix="5"><td>029</td><td>Thue</td><td>210501T093339Z</td><td><a href="https://codegolf.stackexchange.com/questions/224823/write-a-program-with-infinite-expected-output/224842#224842">Conor O&</a></td></tr>
<tr d-ix="6"><td>005</td><td>Random Brainfuck</td><td>210503T195122Z</td><td><a href="https://codegolf.stackexchange.com/questions/224823/write-a-program-with-infinite-expected-output/225022#225022">Helena</a></td></tr>
<tr d-ix="7"><td>009</td><td>R</td><td>210501T101102Z</td><td><a href="https://codegolf.stackexchange.com/questions/224823/write-a-program-with-infinite-expected-output/224845#224845">Dominic </a></td></tr>
<tr d-ix="8"><td>003</td><td>><></td><td>210502T205125Z</td><td><a href="https://codegolf.stackexchange.com/questions/224823/write-a-program-with-infinite-expected-output/224941#224941">SE - sto</a></td></tr>
<tr d-ix="9"><td>009</td><td>R</td><td>210501T095839Z</td><td><a href="https://codegolf.stackexchange.com/questions/224823/write-a-program-with-infinite-expected-output/224844#224844">Robin Ry</a></td></tr>
<tr d-ix="10"><td>006</td><td>Jelly</td><td>210501T054457Z</td><td><a href="https://codegolf.stackexchange.com/questions/224823/write-a-program-with-infinite-expected-output/224828#224828">hyper-ne</a></td></tr>
<tr d-ix="11"><td>031</td><td>Python 3</td><td>210501T134905Z</td><td><a href="https://codegolf.stackexchange.com/questions/224823/write-a-program-with-infinite-expected-output/224860#224860">Trebor</a></td></tr>
<tr d-ix="12"><td>003</td><td>MATL</td><td>210501T105545Z</td><td><a href="https://codegolf.stackexchange.com/questions/224823/write-a-program-with-infinite-expected-output/224848#224848">Luis Men</a></td></tr>
<tr d-ix="13"><td>007</td><td>Charcoal</td><td>210501T082509Z</td><td><a href="https://codegolf.stackexchange.com/questions/224823/write-a-program-with-infinite-expected-output/224839#224839">Neil</a></td></tr>
<tr d-ix="14"><td>024</td><td>Bash</td><td>210501T075735Z</td><td><a href="https://codegolf.stackexchange.com/questions/224823/write-a-program-with-infinite-expected-output/224838#224838">Noodle9</a></td></tr>
<tr d-ix="15"><td>005</td><td>Retina</td><td>210501T074521Z</td><td><a href="https://codegolf.stackexchange.com/questions/224823/write-a-program-with-infinite-expected-output/224837#224837">Neil</a></td></tr>
<tr d-ix="16"><td>003</td><td>Vyxal</td><td>210501T063243Z</td><td><a href="https://codegolf.stackexchange.com/questions/224823/write-a-program-with-infinite-expected-output/224831#224831">Aaroneou</a></td></tr>
<tr d-ix="17"><td>004</td><td>Pyth</td><td>210501T072058Z</td><td><a href="https://codegolf.stackexchange.com/questions/224823/write-a-program-with-infinite-expected-output/224836#224836">Manish K</a></td></tr>
<tr d-ix="18"><td>118</td><td>C++ gcc</td><td>210501T054445Z</td><td><a href="https://codegolf.stackexchange.com/questions/224823/write-a-program-with-infinite-expected-output/224827#224827">Huỳnh Tr</a></td></tr>
<tr d-ix="19"><td>037</td><td>Python 3</td><td>210501T050930Z</td><td><a href="https://codegolf.stackexchange.com/questions/224823/write-a-program-with-infinite-expected-output/224826#224826">hyper-ne</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.uiua.org/" rel="nofollow noreferrer">Uiua</a>, 3 characters</h1>
<pre><code>÷⚂1
</code></pre>
<p><a href="https://www.uiua.org/pad?src=0_12_0-dev_2__4o2lKMO34pqCMSkxMDAK" rel="nofollow noreferrer">Try it online!</a>
Divides 1 by a random number from 0 to 1. Pretty simple, huh?</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://try-setanta.ie" rel="nofollow noreferrer">Setanta</a>, 26 bytes</h1>
<pre><code>scriobh(1/(1-rand@mata()))
</code></pre>
<p><a href="https://try-setanta.ie/editor/EhEKBlNjcmlwdBCAgIDIiPaUCw" rel="nofollow noreferrer">Try it on try-setanta.ie</a></p>
</div>
<div id="pu2" class="pu"><h2><a href="https://palaiologos.rocks/jcram/jcram.html" rel="nofollow noreferrer">JCram</a>, 4 bytes (SBCS)</h2>
<pre><code>⋆X⍕↑
</code></pre>
<p>In ES6, it's the obvious:</p>
<pre><code>a=&gt;1/Math.random()
</code></pre>
</div>
<div id="pu3" class="pu"><h1>APL, 5 bytes</h1>
<pre><code>÷1-?0
</code></pre>
<p>The program generates a random number from the range [0; 1), then substracts it from 1 to get the range (0; 1], and takes the reciprocal, so we get a number from the range [1; +∞).</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/catseye/Befunge-93" rel="nofollow noreferrer">Befunge-93</a>, <s>8</s> 7 bytes</h1>
<pre><code>2?.#*@#
</code></pre>
<p><a href="https://tio.run/##S0pNK81LT/3/38heT1nLQfn/fwA" rel="nofollow noreferrer" title="Befunge-93 – Try It Online">Try it online!</a></p>
<p>This is basically just the <a href="https://en.wikipedia.org/wiki/St._Petersburg_paradox" rel="nofollow noreferrer">St. Petersburg paradox</a>. Every time the pointer reaches the <code>?</code> and goes either left or right, it has a 1/2 chance of doubling the top of the stack and a 1/2 chance of just outputting the top of the stack and halting.</p>
<p>Explanation of the code:</p>
<pre><code>2?.#*@#

2        Push 2 onto the stack.
 ?       Change the direction of the pointer to a random direction:
2   *      If left, double the top of the stack.
  .  @     If right, output the top of the stack and halt.
 ?         If up/down, the pointer returns to the ?.
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://esolangs.org/wiki/Thue" rel="nofollow noreferrer">Thue</a>, 29 bytes</h1>
<p><em>Edit: +9 bytes to fix issue spotted by <a href="https://codegolf.stackexchange.com/users/12480/ross-millikan">@RossMillikan</a>.</em></p>
<pre><code>1::=.10
10::=~1
.0::=~0
::=
1
</code></pre>
<p><a href="https://tio.run/##K8koTf3/39DKylbP0IDL0ADIqDPk0gPTBlxAksuQ6/9/AA" rel="nofollow noreferrer" title="Thue – Try It Online">Try it online!</a> <em>The TIO interpreter requires a trailing newline, and outputs each digit on a different line, which is not required. <a href="https://www.npmjs.com/package/thue" rel="nofollow noreferrer">Here</a> is an interpreter without these restrictions.</em></p>
<p>Outputs in binary (<a href="https://codegolf.meta.stackexchange.com/a/5367/31957">meta link</a>). Each step has a 50% chance to double the binary integer, or to start outputting it. The proven formula from other answers.</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/TryItOnline/brainfuck" rel="nofollow noreferrer">Random Brainfuck</a>, 5 bytes</h1>
<pre><code>+[?.]
</code></pre>
<p>Throw a D256 until you throw a 0</p>
<p><a href="https://tio.run/##K0rMS8nP1U0qSszMSytNzv7/XzvaXi/2/38A" rel="nofollow noreferrer" title="Random Brainfuck – Try It Online">Try it online!</a></p>
</div>
<div id="pu7" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, 9 bytes</h1>

<pre class="lang-r prettyprint-override"><code>1/rexp(1)
</code></pre>
<p><a href="https://tio.run/##K/r/31C/KLWiQMNQ8/9/AA" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>
<p><code>rexp(1)</code> - a single random sample from an exponential distribution with a (default) rate parameter of 1 - is the shortest <a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a> random function call with a nonzero probability density at zero (there are other shorter random functions [<code>rt</code> and <code>rf</code>], but unfortunately they each lack default values for required parameters, so the function calls are no shorter*).</p>
<p>*Edit: no shorter, but both can be made just-as-short: see <a href="https://codegolf.stackexchange.com/a/224844/95126">Robin Ryder's answer</a></p>
</div>
<div id="pu8" class="pu"><h1><a href="https://esolangs.org/wiki/Fish" rel="nofollow noreferrer">&gt;&lt;&gt;</a>, 3 bytes</h1>
<pre><code>1nx
</code></pre>
<p><a href="https://tio.run/##S8sszvj/3zCv4v9/AA" rel="nofollow noreferrer" title="&gt;&lt;&gt; – Try It Online">Try it online!</a></p>
<p>Has an infinite expected value, due to diverging more quickly than exponentially more unlikely repunits.
Will nevertheless always terminate when it empties its own stack, when the random trampoline takes more left turns than right turns.</p>
</div>
<div id="pu9" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, 9 bytes</h1>

<pre class="lang-r prettyprint-override"><code>rf(1,1,1)
</code></pre>
<p><a href="https://tio.run/##K/r/vyhNw1AHCDX//wcA" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>
<p>Outputs a realization of the <span class="math-container">\$F(1,1)\$</span> distribution. The <a href="https://en.wikipedia.org/wiki/F-distribution" rel="nofollow noreferrer"><span class="math-container">\$F(d_1,d_2)\$</span>-distribution</a> has infinite mean for <span class="math-container">\$d_2 \leq 2\$</span>.</p>
<p>One way of defining the <span class="math-container">\$F(1,1)\$</span> distribution is as follows: let <span class="math-container">\$X_1,X_2\$</span> be independent <span class="math-container">\$\mathcal N(0,1)\$</span> random variables. Then <span class="math-container">\$\frac{X_1^2}{X_2^2}\sim F(1,1)\$</span>.</p>
<p>Using the <span class="math-container">\$F\$</span> distribution comes out 1 byte shorter than the 2 more obvious solutions <code>1/runif(1)</code> and <code>rcauchy(1)</code>.</p>
<p>The plot below shows the evolution of the sample mean, for sample size ranging from 1 to 1e6; you can see that it diverges.</p>
<p><a href="https://i.sstatic.net/I8o2jm.png" rel="nofollow noreferrer"><img src="https://i.sstatic.net/I8o2jm.png" alt="enter image description here" /></a></p>
<hr />
<p>Alternate solution for the same byte count:</p>
<pre class="lang-r prettyprint-override"><code>rt(1,1)^2
</code></pre>
<p>which outputs the square of a realization of Student's distribution <span class="math-container">\$t(1)\$</span>. It has infinite expected value, since the <span class="math-container">\$t(1)\$</span> distribution has infinite variance. The square is needed to guarantee that the output is positive; without it, the expected value is undefined, since the realizations are often enough arbitrarily large positive or negative numbers.</p>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 6 bytes</h1>
<pre><code>1ḤXḂ$¿
</code></pre>
<p><a href="https://tio.run/##y0rNyan8/9/w4Y4lEQ93NKkc2v//cPvDnS0qhkAWAA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<p>-1 byte thanks to Jonathan Allan</p>
<p>50% chance to output 1, 50% chance to output double this value. -2 bytes using a while loop inspired by Aaron Miller's answer.</p>
<h2>Explanation</h2>
<pre><code>1
     ¿  While
  ..$
  X     Random integer from 1 to (current value)
   Ḃ    % 2 (this ensures 50% chance no matter how large the current value is - except if it's 1)
 Ḥ      Double the current value
</code></pre>
<p>Unfortunately, Jelly doesn't have a &quot;random decimal from 0 to 1&quot; built-in, otherwise this could be <code>&lt;random&gt;&lt;reciprocal&gt;</code>.</p>
<h2>Proof of validity</h2>
<p>The probability to output <span class="math-container">\$2^x\$</span> is <span class="math-container">\$2^{-x-1}\$</span> for all <span class="math-container">\$x\in\mathbb{Z}^+\$</span>. Therefore, the expected output is <span class="math-container">\$\sum\limits_{n=0}^\infty 2^n\cdot 2^{-n-1}=\sum\limits_{n=0}^\infty\frac12\rightarrow\infty\$</span></p>
</div>
<div id="pu11" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 31 bytes</h1>

<pre class="lang-python prettyprint-override"><code>from time import*
print(time())
</code></pre>
<p><a href="https://tio.run/##K6gsycjPM/7/P60oP1ehJDM3VSEztyC/qESLq6AoM69EAySkoan5/z8A" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
<p>The Python 3 <code>random</code> library uses the current time for a seed. Therefore, it is necessary to specify the random distribution of time that the program is run, to ensure that the simple <code>1/random()</code> is valid. Depending on the yet-to-come specification, my answer may or may not be valid.</p>
</div>
<div id="pu12" class="pu"><h1><a href="https://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, 3 bytes</h1>
<pre><code>1r/
</code></pre>
<p><a href="https://tio.run/##y00syfn/37BI//9/AA" rel="nofollow noreferrer" title="MATL – Try It Online">Try it online!</a></p>
<p>This produces the output 1/<em>x</em>, where <em>x</em> is uniformly distributed on  the interval (0,1). This has <a href="https://en.wikipedia.org/wiki/Inverse_distribution#Inverse_uniform_distribution" rel="nofollow noreferrer">infinite mean</a>.</p>
</div>
<div id="pu13" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 7 bytes</h1>
<pre><code>1Ｗ‽²↑ＫＡ
</code></pre>
<p><a href="https://tio.run/##S85ILErOT8z5/z@gKDOvREPJUEnTmqs8IzMnVUEjKDEvJT9Xw0hTUwEiaxVaoKMQkJqa7ZiTo6Gpaf3//3/dshwA" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>1
</code></pre>
<p>Print <code>1</code>.</p>
<pre><code>Ｗ‽²
</code></pre>
<p>Repeat a random number of times with an exponential distribution...</p>
<pre><code>↑ＫＡ
</code></pre>
<p>... duplicate the output.</p>
</div>
<div id="pu14" class="pu"><h1><a href="https://www.gnu.org/software/bash/" rel="nofollow noreferrer">Bash</a>, 24 bytes</h1>

<pre class="lang-bash prettyprint-override"><code>echo 32767/$RANDOM|bc -l
</code></pre>
<p><a href="https://tio.run/##S0oszvifpqGpUP0/NTkjX8HYyNzMXF8lyNHPxd@3JilZQTfnfy0XV9p/AA" rel="nofollow noreferrer" title="Bash – Try It Online">Try it online!</a></p>
<p>Prints a random number between <span class="math-container">\$1\$</span> and <span class="math-container">\$\infty\$</span>.</p>
</div>
<div id="pu15" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language" rel="noreferrer">Retina</a>, 5 bytes</h1>
<pre><code>?+`
1
</code></pre>
<p><a href="https://tio.run/##K0otycxLNPz/3147gQtIAQA" rel="noreferrer" title="Retina – Try It Online">Try it online!</a> Explanation:</p>
<pre><code>?+`
</code></pre>
<p>Loop a random number of times with an exponential distribution...</p>
<pre><code>
1
</code></pre>
<p>Double the length. (Actually you get <code>2ⁿ-1</code>, but that's still enough to diverge to infinity.)</p>
</div>
<div id="pu16" class="pu"><h1><a href="https://github.com/Lyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, <s><sup>6</s></sup> <s><sup>7</s></sup> 3 bytes</h1>
<p><em>Thanks to @hyper-neutrino for helping me to understand what expected output is.</em></p>
<p><em>Thanks to @Lyxal for porting a different answer than I did for -4 bytes.</em></p>
<pre><code>∆ṘĖ
</code></pre>
<p><a href="http://lyxal.pythonanywhere.com?flags=&amp;code=%E2%88%86%E1%B9%98%C4%96&amp;inputs=&amp;header=&amp;footer=" rel="nofollow noreferrer">Try it Online!</a></p>
<p>Explanation:</p>
<pre><code>∆Ṙ   # Random float in range [0.0, 1.0)
  Ė  # Reciprocal
     # Implicit output
</code></pre>
</div>
<div id="pu17" class="pu"><h1><a href="https://github.com/isaacg1/pyth" rel="nofollow noreferrer">Pyth</a>, 4 bytes</h1>
<pre><code>/1OZ
</code></pre>
<p><a href="https://tio.run/##K6gsyfj/X9/QP@r/fwA" rel="nofollow noreferrer" title="Pyth – Try It Online">Try it online!</a></p>
<pre><code>/1   # 1 divided by
OZ   # Random float between 0 and 1
</code></pre>
</div>
<div id="pu18" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C++ (gcc)</a>, <s>169</s> <s>119</s> 118 bytes</h1>

<pre class="lang-cpp prettyprint-override"><code>#include&lt;bits/stdc++.h&gt;
int main(){std::mt19937 p((uint64_t)new int);std::string s=&quot;1&quot;;while(p()%2)s+=s;std::cout&lt;&lt;s;}
</code></pre>
<p><a href="https://tio.run/##JYpBCsIwEADvviJUhISgUhWlTepXRLehXWjX4G7oQXx7DHobZgZi3A4AOa@RYEp98A8U3rP0YO1uvK6QRM13JG3eRbbtLHXTHC8qap1KO59uYigsqrBxv4PlhTQo7qq6csuIU9BRm83BsO34v8AziffsPjl/AQ" rel="nofollow noreferrer" title="C++ (gcc) – Try It Online">Try it online!</a></p>
<p>This solution is directly derived <a href="https://en.wikipedia.org/wiki/St._Petersburg_paradox" rel="nofollow noreferrer">from the linked paradox in the question</a>. The output string is composed of <code>1</code> digits so technically it can be interpreted as a number.</p>
<p>The random number generator is seeded with the address of a heap variable. The address changes each time the program is run.</p>
<blockquote>
<p>Another option is to use the address of a newly allocated heap variable:
<code>mt19937 rng((uint64_t) new char);</code> <a href="https://codeforces.com/blog/entry/61675" rel="nofollow noreferrer">(source)</a></p>
</blockquote>
</div>
<div id="pu19" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 37 bytes</h1>

<pre class="lang-python prettyprint-override"><code>from random import*
print(1/random())
</code></pre>
<p><a href="https://tio.run/##K6gsycjPM/5fnpGZk6oQUlSaaqWQWpGarKGkpPQ/rSg/V6EoMS8FSGXmFuQXlWhxFRRl5pVoGOpDhDU0Nf8DVWr@BwA" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
<p>I had a slightly cool solution but now this is just the trivial solution.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/224823/">224823</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




