<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::154363</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>042</td><td>05AB1E</td><td>231020T110820Z</td><td><a href="https://codegolf.stackexchange.com/questions/154363/check-if-all-non-zero-elements-in-a-matrix-are-connected/266128#266128">Kevin Cr</a></td></tr>
<tr d-ix="1"><td>031</td><td>Uiua</td><td>231019T082831Z</td><td><a href="https://codegolf.stackexchange.com/questions/154363/check-if-all-non-zero-elements-in-a-matrix-are-connected/266101#266101">Bubbler</a></td></tr>
<tr d-ix="2"><td>074</td><td>Retina 0.8.2</td><td>180130T110104Z</td><td><a href="https://codegolf.stackexchange.com/questions/154363/check-if-all-non-zero-elements-in-a-matrix-are-connected/154364#154364">Neil</a></td></tr>
<tr d-ix="3"><td>096</td><td>JavaScript Node.js</td><td>221223T170545Z</td><td><a href="https://codegolf.stackexchange.com/questions/154363/check-if-all-non-zero-elements-in-a-matrix-are-connected/255980#255980">l4m2</a></td></tr>
<tr d-ix="4"><td>201</td><td>Java 8</td><td>180130T145748Z</td><td><a href="https://codegolf.stackexchange.com/questions/154363/check-if-all-non-zero-elements-in-a-matrix-are-connected/154383#154383">Kevin Cr</a></td></tr>
<tr d-ix="5"><td>102</td><td>JavaScript Node.js</td><td>200205T121838Z</td><td><a href="https://codegolf.stackexchange.com/questions/154363/check-if-all-non-zero-elements-in-a-matrix-are-connected/198979#198979">Shieru A</a></td></tr>
<tr d-ix="6"><td>022</td><td>APL Dyalog Unicode</td><td>180130T204417Z</td><td><a href="https://codegolf.stackexchange.com/questions/154363/check-if-all-non-zero-elements-in-a-matrix-are-connected/154407#154407">ngn</a></td></tr>
<tr d-ix="7"><td>037</td><td>Grime</td><td>180205T144801Z</td><td><a href="https://codegolf.stackexchange.com/questions/154363/check-if-all-non-zero-elements-in-a-matrix-are-connected/154931#154931">Zgarb</a></td></tr>
<tr d-ix="8"><td>132</td><td>Haskell</td><td>180204T083056Z</td><td><a href="https://codegolf.stackexchange.com/questions/154363/check-if-all-non-zero-elements-in-a-matrix-are-connected/154827#154827">Roman Cz</a></td></tr>
<tr d-ix="9"><td>150</td><td>Python 2</td><td>180130T163655Z</td><td><a href="https://codegolf.stackexchange.com/questions/154363/check-if-all-non-zero-elements-in-a-matrix-are-connected/154395#154395">ovs</a></td></tr>
<tr d-ix="10"><td>070</td><td>Perl</td><td>180130T212433Z</td><td><a href="https://codegolf.stackexchange.com/questions/154363/check-if-all-non-zero-elements-in-a-matrix-are-connected/154409#154409">Ton Hosp</a></td></tr>
<tr d-ix="11"><td>023</td><td>Jelly</td><td>180131T063305Z</td><td><a href="https://codegolf.stackexchange.com/questions/154363/check-if-all-non-zero-elements-in-a-matrix-are-connected/154447#154447">DELETE_M</a></td></tr>
<tr d-ix="12"><td>007</td><td>MATL</td><td>180130T112144Z</td><td><a href="https://codegolf.stackexchange.com/questions/154363/check-if-all-non-zero-elements-in-a-matrix-are-connected/154367#154367">Luis Men</a></td></tr>
<tr d-ix="13"><td>135</td><td>JavaScript ES6</td><td>180130T115420Z</td><td><a href="https://codegolf.stackexchange.com/questions/154363/check-if-all-non-zero-elements-in-a-matrix-are-connected/154370#154370">Arnauld</a></td></tr>
<tr d-ix="14"><td>nan</td><td>Perl 5</td><td>180130T175401Z</td><td><a href="https://codegolf.stackexchange.com/questions/154363/check-if-all-non-zero-elements-in-a-matrix-are-connected/154399#154399">Xcali</a></td></tr>
<tr d-ix="15"><td>163</td><td>C</td><td>180130T123839Z</td><td><a href="https://codegolf.stackexchange.com/questions/154363/check-if-all-non-zero-elements-in-a-matrix-are-connected/154375#154375">Steadybo</a></td></tr>
<tr d-ix="16"><td>054</td><td>Wolfram Language Mathematica</td><td>180130T121550Z</td><td><a href="https://codegolf.stackexchange.com/questions/154363/check-if-all-non-zero-elements-in-a-matrix-are-connected/154374#154374">alephalp</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 42 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>Ā©˜ƶ®gäΔ2Fø0δ.ø}2Fø€ü3}®*εεÅsyøÅs«à]˜0KÙg!
</code></pre>
<p>Input as a matrix of integers; output as a 05AB1E truthy/falsey value (only <span class="math-container">\$1\$</span> is truthy in 05AB1E, so if the result is <span class="math-container">\$\geq2\$</span> it's falsey).</p>
<p><a href="https://tio.run/##yy9OTMpM/f//SMOhlafnHNt2aF364SXnphi5Hd5hcG6L3uEdtSDmo6Y1h/cY1x5ap3Vu67mth1uLKw/vAJKHVh9eEHt6joH34Znpiv//R0cb6MBhrA6YZ6xjqmMI5QFpHSMgNgTyDME8YyBpBuSZg8VBfIhKCyDfDIgtoaZAoGlsLAA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/V@mFFCUWlJSqVtQlJlXkpqikJlXUFpipaCkU3lotw6XkmNySWliDlzUvvLQSlsuJf/SEihf6f@RhkMrT885tu3QuvTDS85NMXI7vMPg3Ba9wztqQcxHTWsO7zGuPbRO69zWc1sPtxZXHt4BJA@tPrwg9vQcA@/DM9MV/yvphbnYZyopaJQUlZZkVGoqHV4N5KQl5hSnAjm1Ooe22f@Pjo42iI3VUQBSOlCGoQ4QxuqABBBCIKYOipQhXBsMQiWMdUyByiA8kEYjsGKIZpCsoY4ZkGcOFgfxISotgHwzILaE2QyGpjBLIAYguxBuH9AGOMsU4ShTsLAhxBogyxRolRHYHFMdcxAbZpYRyA1gvSDlpmAexJuWYHETqDZLHRAEyZnA/QYJmNhYAA" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>
<p>Uses the same flood-fill algorithm I've used in multiple other challenges.</p>

<pre class="lang-python prettyprint-override"><code>Ā             # Convert each positive integer in the (implicit) input-list to 1s
 ©            # Store this matrix in variable `®` (without popping)
  ˜           # Flatten it to a single list
   ƶ          # Multiply each by its 1-based index to make all values unique
    ®gä       # Convert it back to a matrix with the dimensions of `®`
Δ             # Loop until it no longer changes to flood-fill:
 2Fø0δ.ø}     #  Add a border of 0s around the matrix:
 2F     }     #   Loop 2 times:
   ø          #    Zip/transpose; swapping rows/columns
     δ        #    Map over each row:
    0 .ø      #     Add a leading/trailing 0
 2Fø€ü3}      #  Convert it into overlapping 3x3 blocks: 
 2F    }      #   Loop 2 times again:
   ø          #    Zip/transpose; swapping rows/columns
    €         #    Map over each inner list:
     ü3       #     Convert it to a list of overlapping triplets
 ®*           #  Multiply each 3x3 block by the value in matrix `®`
              #  (so the 0s remain 0s)
 εεÅsyøÅs«à   #  Get the largest value from the horizontal/vertical cross of each 3x3
              #   block:
 εε           #   Nested map over each 3x3 block:
   Ås         #     Pop and push its middle row
     y        #     Push the 3x3 block again
      ø       #     Zip/transpose; swapping rows/columns
       Ås     #     Pop and push its middle rows as well (the middle column)
         «    #     Merge the middle row and column together to a single list
          à   #     Pop and push its maximum
]             # Close the nested maps, flood-fill loop, and outer loop
 ˜            # Flatten the resulting flood-filled matrix
  0K          # Remove all 0s
    Ù         # Uniquify the values of each island
     g        # Pop and push its length (which is 1 if it was a single island)
      !       # Factorial to convert 0 to 1 (and 1 remains 1), since 0 is also truthy
              # (after which the result is output implicitly)
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.uiua.org/" rel="nofollow noreferrer">Uiua</a>, 31 bytes</h1>
<pre><code>/×♭⍥'∺'/↥↧.⧻.⊠(≤1/+⌵-).▽♭∶/⊂⇡△.
</code></pre>
<p><a href="https://www.uiua.org/pad?src=ZiDihpAgL8OX4pmt4o2lJ-KIuicv4oal4oanLuKnuy7iiqAo4omkMS8r4oy1LSku4pa94pmt4oi2L-KKguKHoeKWsy4KZiBbWzIgMyAwXSBbMSAwIDBdXQpmIFtbMSAxIDBdIFsxIDAgMV1dCmYgW1swIDBdXQ==" rel="nofollow noreferrer">Try it online!</a></p>
<p>The same approach as <a href="https://codegolf.stackexchange.com/a/154407/78410">ngn's APL answer</a>.</p>
<pre><code>∧↧1♭⍥'∺'/↥↧.⧻.⊠(≤1/+⌵-).▽♭∶/⊂⇡△.    input: a matrix(n,m)
▽♭∶/⊂⇡△.  collect coordinates of positive numbers:
       ⇡△     coordinates of each position in the matrix (n,m,2)
     /⊂       reduce by join; flatten the first two dimensions
  ♭∶      .    original matrix flattened
▽             keep: for each number n in the matrix, get n copies of its coords
⊠(≤1/+⌵-).  create adjacency matrix:
⊠(      ).    self cross product over the coordinates:
   ≤1/+⌵-      sum of absolute difference is 1 or less?
⍥'∺'/↥↧.⧻.  get transitive closure:
⍥       ⧻.    run &lt;length of the array&gt; times:
  '∺'/↥↧.      self matrix product, using min as product and max as sum
/×♭         test if it is all ones
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language/a950ad7d925ec9316e3e2fb2cf5d49fd15d23e3d" rel="nofollow noreferrer">Retina 0.8.2</a>, <s>80</s> <s>77</s> 74 bytes</h1>
<pre><code>T`d`@1
1`1
_
+m`^((.)*)(1|_)( |.*¶(?&lt;-2&gt;.)*(?(2)$))(?!\3)[1_]
$1_$4_
^\D+$
</code></pre>
<p><a href="https://tio.run/##K0otycxL/P8/JCElwcGQyzDBkCueSzs3IU5DQ09TS1PDsCZeU0OhRk/r0DYNextdIzugqIa9hpGmiqamhr1ijLFmtGF8LJeKYbyKSTxXXIyLtsr//4YKRgrGCgZAaMplqGAKZhsqGHJZgsVMgLIgNgiCxE24QCQEGwAA" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Edit: Saved 1 byte thanks to @FryAmTheEggman. Explanation:</p>
<pre><code>T`d`@1
</code></pre>
<p>Simplify to an array of <code>@</code>s and <code>1</code>s.</p>
<pre><code>1`1
_
</code></pre>
<p>Change one <code>1</code> to a <code>_</code>.</p>
<pre><code>+m`^((.)*)(1|_)( |.*¶(?&lt;-2&gt;.)*(?(2)$))(?!\3)[1_]
$1_$4_
</code></pre>
<p>Flood fill from the <code>_</code> to adjacent <code>1</code>s.</p>
<pre><code>^\D+$
</code></pre>
<p>Test whether there are any <code>1</code>s left.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 96 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>f=(A,P,Q)=&gt;!A.map((B,i)=&gt;B.map((C,j)=&gt;(P-i)**2+(Q-j)**2-1|!C||f(A,i,j,A[i][j]=0,P=0+[P])))|P&gt;'0'
</code></pre>
<p><a href="https://tio.run/##VVBRb4IwGHzvr6hPFm0RUHRkKQmavS74zExgDBwExQAjxvDf2fcVnC5fgLvr3dE2j9qojqvs0ohz@ZX0fSqZx32@16Q78fRTdGFsyzNg24HseA6E@SLTZjNrzvYiRyDMbrLruhTCGc@5F2SHID9Ig/vSmAf@QdO0znenxrR/JW1U0UaGBhFCEIMOX5PCIPvjiB6qeXffR@EltcGBGP2W8pkKL@G9JhulIUPPC7A1PM5Tjz32Yu5pJ2M/dJL/PkCgmUMvsaHZgqxNN4jGvIX/UxmT2grjKRylrZTfoTior8a9q/OGen0psiZUPaG68Kt0r4PKFh/nxVFTaivddvTSwff@c/pMKrhm0uhpWb1F8Te7STcuz3VZJHpRHlnKbrDe/wI" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p><code>P</code> = <code>0</code> if 1 chunk, <code>00</code> if 2 chunk, to allow call inside</p>
</div>
<div id="pu4" class="pu"><h1>Java 8, <s>226</s> <s>219</s> <s>207</s> <s>205</s> 201 bytes</h1>

<pre class="lang-java prettyprint-override"><code>int[][]M;m-&gt;{int c=0,l=m[0].length,i=m.length*l;for(M=m;i--&gt;0;)c+=m[i/l][i%l]&gt;0?f(i/l,i%l):0;return c&lt;2;}int f(int x,int y){try{M[x][y]*=M[x][y]&gt;0?f(x+f(x,y+f(x-f(x,y-1),y)),y)-1:1;}finally{return 1;}}
</code></pre>
<p>-2 bytes thanks to <em>@ceilingcat</em>.</p>
<p><a href="https://tio.run/##pVPBcpswEL3nK/aSGYgFBicktSnuLTfnktwYDjIRsVIhMiBSMwzf7qxk0oCbaaZlNMLap923u0/rZ/pKnefHn4dU0KqCDeUS2jMALhUrM5oyuNMmwLYoBKMSUguv4iROcjvEiw730V1jmxDmc5gtYdsoVoEqQO2YMZy0qKVCzzuQEMEhd9YtBkEaeUREeewlrmDySe0Ij/L@eCHCrCitTZSH3HHWXminM3Tlc5HE/Fwka@9HZqFF0LBXXlgyVZdY4fdF2IWaPNO1wp7ob2O3qmzaTbxP4ia5iPqD4djPcJNGfx1zcnybNLbejr/ywy7jkgrRtH0GRLoDwEu9FTyFSlGFP68Ff4Qc9bPuVcnlU5wAtY/aGVVzbFuyX8awjHagxXooa7VrVsa8byrFcreolfuCFEpIK3elm1o6rpf4yAjQep05dXbP9W/BZFK4T3B1ZMA2lU8TkL/Q@xO7fV9j1ksSYKoRqEtZmISjcrSvT64/wBvjpeFR@DeEr3EvT9QxK/i6if7mfTpuqajYf03HuIHpr30qHap0CgRT3ygYcvpHgT@AALVeDNsKyI2GprW20C9oih9kDgw4GsKl8boaV7AkemnPq9MZ8qf@Jz4d2U@eok/2hdcfXP5vaFhjd9Yd3gA" rel="nofollow noreferrer">Try it online.</a></p>
<p><strong>Explanation:</strong></p>
<pre class="lang-java prettyprint-override"><code>int[][]M;              // Integer-matrix on class-level, uninitialized
m-&gt;{                   // Method with integer-matrix parameter &amp; boolean return
  int c=0,             //  Amount of non-zero islands, starting at 0
      l=m[0].length,   //  Amount of columns in the matrix
      i=m.length*l;    //  Index integer
  for(M=m;             //  Set the class-level matrix to the input
      i--&gt;0;)          //  Loop over the cells
    c+=                //   Increase the count by:
       m[i/l][i%l]&gt;0?  //    If the current cell is not 0:
        f(i/l,i%l)     //     Flood-fill the matrix with a separated method
                       //     And increase the count by 1
       :               //    Else:
        0;             //     Leave the count the same
  return c&lt;2;}         //  Return whether 0 or 1 islands are found

// Separated recursive method with cell input &amp; integer return
int f(int x,int y){
  try{m[x][y]*=M[x][y]&gt;0?
                       //  If the current cell is not 0:
           f(m,x,y-1)  //   Recursive call west
          f(m,x-...,y) //   Recursive call north
         f(m,x,y+...)  //   Recursive call east
        f(m,x+...,y)   //   Recursive call south
        -1:1;}         //   Empty the current cell
  }finally{            //  Catch and swallow any ArrayIndexOutOfBoundsExceptions
                       //  (shorter than manual if-checks)
           return 1;}  //  Always result in 1, so we use it to our advantage
                       //  to save bytes here by nesting, instead of having four
                       //  loose calls to each direction)
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, <s>115</s> 102 bytes</h1>



<pre class="lang-javascript prettyprint-override"><code>A=&gt;w=&gt;(A.find(F=(u,i)=&gt;u&amp;&amp;[-w,-1,1,w].map(v=&gt;v*v&gt;1|i%w+v&gt;=0&amp;i%w+v&lt;w&amp;&amp;F(A[v+=i],v),A[i]=0)),!+A.join``)
</code></pre>

<p><a href="https://tio.run/##VVDdbsIgGL3nKdjFGpgUi1qd2SDpxbzcC3RN6LRVTG1NrdQY370DWjeXL8D5DuccfvapTk/rWh0bv6w2WZfzLuKi5QJFNFflBq04OhOFuTh7Xuy3xGeEkTahh/SINBf6RQt2U8/tSAseeA68t563QlGsR1wlRGMSxSrhAcbkaRTRfaVKKXH3BnRaw4bLAPi@DwLYrwyast1vb9Efy@7qezk8haFRWGz1E6djDk/NPAcLx9nOal5NNzdj@ZATDrnW93CTId9kgv86gwzH@lwQmuSJ8YZwYdHgn9jznIfB0GH7iqXjZk6/hLYsPxvu7t4r6elYqEa6HOn@@sJFfOlpNIa3r3K8xW7j83z4zmpMLnePjINkwFDSIiu3zS7BoKF5VX@k6x26crGuylNVZLSotihHV@PAZmYJxrj7AQ" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>

<p>Receive input as <code>(1d-array)(width)</code>. Rewrites all entries in one of the connected non-zero regions with 0 and checks whether the resultant array is a zero matrix. The matrix will become zero if there is zero or one connected non-zero region.</p>

<pre class="lang-javascript prettyprint-override"><code>A=&gt;                         // all rows are concatenated into an 1-d array
 w=&gt;                        // width of the original matrix
  (
   A.find(                  // find the first non-zero entry
    F=(                     // helper function
     u,                     // value of the entry
     i                      // index of the entry
    )=&gt;
     u                      // return 0 if value is 0 or out of range
     &amp;&amp;[-w,-1,1,w].map(     // return an array otherwise, and find the neighbors
      v=&gt;                   // for each neighbor
       v*v&gt;1                // if y-coord change: let go anyway
       |i%w+v&gt;=0&amp;i%w+v&lt;w    // if x-coord change: let go only if on the same row
       &amp;&amp;F(A[v+=i],v),      // recurse on the neighbor
      A[i]=0                // before recursing change the current entry to 0
     )
   ),                       // if all entries were 0, no change is made
   !+A.join``               // return whether all entries are now 0
  )                         // if all entries are 0, then +A.join`` == 0
</code></pre>

<blockquote>
  <p><strong>Tip:</strong> Use <code>Array.prototype.find</code> if you want to map through an array with a function that the return values can be ignored but to stop once the function is executed.</p>
  
  <p>In this case, I want to map through the array to change only the first connected non-zero region found, but not the other regions (otherwise the array will become a zero matrix no matter what the original input is), so <code>find</code> is used here to save some bytes.</p>
</blockquote>
</div>
<div id="pu6" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog Unicode)</a>, <s>36</s> 22 bytes<sup><a href="https://github.com/abrudz/SBCS" rel="nofollow noreferrer">SBCS</a></sup></h1>



<pre class="lang-apl prettyprint-override"><code>~0∊∨.∧⍨⍣≡2&gt;+/|↑∘.-⍨⍸×⎕
</code></pre>

<p><a href="https://tio.run/##TVDBCsIwDL33K3pckela181d/JeBTARhXgXxOKsw0YPoVTwofoF3/yQ/MpOUzRFK897LS9Lmq2U4W@fLct7A8bIooTpFAtyuaLYRuAO41xDcE@oX1A/Y3810MNpAdQZ3G4bMfr5XNDZoaQoB9TsSdO0pk5xX50BLDBUgISPVcQT6km4lrvPhlbG0WMaAbIaL2UqalokKUmYJctkEYYInU71uVomwG8ENetvodgKFaRPb38kSr/0gFVicZaiNlSml/1aGtmAzAsuAH5kxG3tXJilIidt3@S8R4Q8" rel="nofollow noreferrer" title="APL (Dyalog Unicode) – Try It Online">Try it online!</a></p>

<p>thanks @H.PWiz</p>

<p><code>⍸×⎕</code> coordinates of non-zero squares</p>

<p><code>2&gt;+/|↑∘.-⍨</code> <a href="https://en.wikipedia.org/wiki/Adjacency_matrix" rel="nofollow noreferrer">adjacency matrix</a> of the neighbour graph</p>

<p><code>∨.∧⍨⍣≡</code> <a href="https://en.wikipedia.org/wiki/Transitive_closure" rel="nofollow noreferrer">transitive closure</a></p>

<p><code>~0∊</code> is it all 1s?</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/iatorm/grime" rel="nofollow noreferrer">Grime</a>, 37 bytes</h1>

<pre><code>C=[,0]&amp;&lt;e/\0{/e\0*0$e|CoF^0oX
e`C|:\0
</code></pre>

<p>Prints <code>1</code> for match and <code>0</code> for no match.
<a href="https://tio.run/##Sy/KzE39/9/ZNlrHIFbNJlU/xqBaPzXGQMtAJbXGOd8tziA/gis1wbnGKsbg/38DMOAyMDA2NQRShgZGBoZchoYGxoZmXOZGQGGgoIWRmZElF1ihKQA" rel="nofollow noreferrer" title="Grime – Try It Online">Try it online!</a></p>

<h2>Explanation</h2>

<p>The nonterminal <code>C</code> matches any nonzero character that is connected to the first nonzero character of the matrix in the English reading order.</p>

<pre><code>C=[,0]&amp;&lt;e/\0{/e\0*0$e|CoF^0oX
C=                             A rectangle R matches C if
  [,0]                         it is a single character other than 0
      &amp;                        and
       &lt;                       it is contained in a rectangle S which matches this pattern:
        e/\0{/e\0*0$e           R is the first nonzero character in the matrix:
        e                        S has an edge of the matrix over its top row,
         /0{/                    below that a rectangle of 0s, below that
             e\0*0$e             a row containing an edge, then any number of 0s,
                                 then R (the unescaped 0), then anything, then an edge.
                    |CoF^0oX    or R is next to another match of C:
                     CoF         S is a match of C (with fixed orientation)
                        ^0       followed by R,
                          oX     possibly rotated by any multiple of 90 dergees.
</code></pre>

<p>Some explanation: <code>e</code> matches a rectangle of zero width or height that's part of the edge of the input matrix, and <code>$</code> is a "wildcard" that matches anything.
The expression <code>e/\0{/e\0*0$e</code> can be visualized as follows:</p>

<pre><code>+-e-e-e-e-e-e-e-+
|               |
|      \0{      |
|               |
+-----+-+-------+
e \0* |0|   $   e
+-----+-+-------+
</code></pre>

<p>The expression <code>CoX^0oX</code> is actually parsed as <code>((CoF)0)oX</code>; the <code>oF</code> and <code>oX</code> are postfix operators and concatenation of tokens means horizontal concatenation.
The <code>^</code> gives juxtaposition a higher precedence then <code>oX</code>, so the rotation is applied to the entire sub-expression.
The <code>oF</code> corrects the orientation of <code>C</code> after it is rotated by <code>oX</code>; otherwise it could match the first nonzero coordinate in a rotated English reading order.</p>

<pre><code>e`C|:\0
e`       Match entire input against pattern:
    :    a grid whose cells match
  C      C
   |     or
     \0  literal 0.
</code></pre>

<p>This means that all nonzero characters must be connected to the first one.
The grid specifier <code>:</code> is technically a postfix operator, but <code>C|:\0</code> is syntactic sugar for <code>(C|\0):</code>.</p>
</div>
<div id="pu8" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 132 bytes</h1>



<pre class="lang-hs prettyprint-override"><code> \m-&gt;null.snd.until(null.fst)(\(f,e)-&gt;partition(\(b,p)-&gt;any(==1)[(b-d)^2+(p-q)^2|(d,q)&lt;-f])e).splitAt 1.filter((/=0).(m!)).indices$m
</code></pre>

<p>extracted from <a href="https://codegolf.stackexchange.com/questions/154306/solve-hitori-puzzles/154734#154734">Solve Hitori Puzzles</a></p>

<p><code>indices m</code> lists the <code>(line,cell)</code> locations of the input grid.</p>

<p><code>filter((/=0).(m!))</code> filters out all locations with non-zero values.</p>

<p><code>splitAt 1</code> partitions off the first member into a singleton list next to a rest list.</p>

<p><code>any(==1)[(b-d)^2+(p-q)^2|(d,q)&lt;-f]</code> tells if <code>(b,p)</code> touches the frontier <code>f</code>.</p>

<p><code>\(f,e)-&gt;partition(\(b,p)-&gt;touches(b,p)f)e</code> splits off touchers from  not[yet]touchers.</p>

<p><code>until(null.fst)advanceFrontier</code> repeats this until the frontier can advance no further.</p>

<p><code>null.snd</code> looks at the result whether all locations to be reached were indeed reached.</p>

<p><a href="https://tio.run/##ZU5BbsMgELz7FVTKYVfFNCS1k0hxpEg99geOK5HaVlGBECCHSP27C/iSqkLszszC7HwJ/z0oNUltLy6QNxEEOzon7sWj8i59KLSQprFOmrDQwsJETro8mJtSzJue3UyQCjIdfUA4wUgHLA9WuCCDvJionKmNijB3aBqOLZzLHj9Wz2DLa@w/0NMr7suxwwGZt0qGYyCcjVKFwQG8NEtkoJ8QmTS9/Bz8Qk@kVTFbTgzAKUcKG1ojtkv696xpRXlGqa5y5xmvY63pJmuJpbqNrI539@BQdbQghPzbV@V9PL6e/6Y9VcbJf3Z4jdOEd5nzyOccOVHXTb8" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
</div>
<div id="pu9" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, <s>211</s> <s>163</s> 150 bytes</h1>



<pre class="lang-python prettyprint-override"><code>m,w=input()
def f(i):a=m[i];m[i]=0;[f(x)for x in(i+1,i-1,i+w,i-w)if(x&gt;=0==(i/w-x/w)*(i%w-x%w))*a*m[x:]]
f(m.index((filter(abs,m)or[0])[0]))&lt;any(m)&lt;1&gt;q
</code></pre>

<p><a href="https://tio.run/##bVBNc4IwEL3zK3accUwUKxGhFcWbPbaX3hgOqGHMVD4a4wC/noZEaFo7s9mv93bzkrIR5yJftsfiRMPRaNRmdhWyvLwJhK0TTSFFDAdJmEUs3nQudDZRimqcFhxqYDliM2KzuTyzSsYKM4nuQicMEVtU83pR4SliY5mNK4ynyTSL6iCOrRRlTyw/0RqhlF0E5Sg5XO0MFzxyYtwdvE3yBmV4S3ZfrZRmVWd2ofDBbzSwAARvugBAa3qETr@qSs5yAZM0uVybidWhR1oKeEsyuue84IHJEvwmziZt//5qsA6cJp@t1GIDsSLHhi5bWhGRtTJHm@y6qqvrPzDRsDPQf5trg2eylV8@LHJV4tvw3KO6qZMX1fSVXz9c4UkFvlJwX/f/M4ybf@ZWvXJPYcRgeEqAbnpKWFfqGc1zDSrpBwYZg9BVv2Xdm@asjB8hw1f73w" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>

<p>Output is via exit code. Input is as an 1d list and the width of the matrix.</p>
</div>
<div id="pu10" class="pu"><h1>Perl, <s>80</s> <s>79</s> <s>78</s> <s>73</s> 70 bytes</h1>

<p>Includes <code>+2</code> for <code>0a</code></p>

<p>Give the input matrix without spaces on STDIN (or in fact as rows separated by any kind of whitespace)</p>

<pre><code>perl -0aE 's%.%$".join"",map chop,@F%seg;s%\b}|/%z%;y%w-z,-9%v-~/%?redo:say!/}/'
000000
003510
010201
110316
720030
082629
000005
^D
</code></pre>

<p>Easier to read if put in a file:</p>

<pre><code>#!/usr/bin/perl -0a
use 5.10.0;
s%.%$".join"",map chop,@F%seg;s%\b}|/%z%;y%w-z,-9%v-~/%?redo:say!/}/
</code></pre>
</div>
<div id="pu11" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 23 bytes</h1>

<pre><code>FJṁa@µ«Ḋoµ€ZUµ4¡ÐLFQL&lt;3
</code></pre>

<p><a href="https://tio.run/##y0rNyan8/9/N6@HOxkSHQ1sPrX64oyv/0NZHTWuiQg9tNTm08PAEH7dAHxvj/4fbgYL//0dzRUcbxMbqgCgdBSjLUEcBhGJ1FMCCyOJgDlAcQ4khwhBkhFBgrKNgCtYEE4OYZgTVDTcTohTIMAOJmcNUQIRhei3AwmZg0hLJnTBkCncNzGRUr6G4DOQKFJ4psl9MobKGcJeAeKZg5xhBzQfyzCECcFuMIO6FmgfRbwoTgwWdJUyFCcIsoBgEQdSZoIQWLAZiuWIB" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>

<hr>

<h2>Explanation.</h2>

<p>The program labels each morphological components with a different numbers, then check if there are less than 3 numbers. (including <code>0</code>).</p>

<p>Consider a row in the matrix.</p>

<pre><code>«Ḋo   Given [1,2,3,0,3,2,1], return [1,2,3,0,2,1,1].
«     Minimize this list (element-wise) and...
 Ḋ      its dequeue. (remove the first element)
      So min([<b>1</b>,<b>2</b>,3,<b>0</b>,3,2,<b>1</b>],
             [2,3,<b>0</b>,3,<b>2</b>,<b>1</b>]    (deque)
      ) =    [1,2,0,0,2,1,1].
  o   Logical or - if the current value is 0, get the value in the input.
         [<b>1</b>,<b>2</b>,0,0,<b>2</b>,<b>1</b>,<b>1</b>] (value)
      or [1,2,<b>3</b>,<b>0</b>,3,2,1] (input)
      =  [1,2,3,0,2,1,1]
</code></pre>

<p>Repeatedly apply this function for all row and columns in the matrix, in all orders, eventually all morphological components will have the same label.</p>

<pre><code>µ«Ḋoµ€ZUµ4¡ÐL  Given a matrix with all distinct elements (except 0),
               label two nonzero numbers the same if and only if they are in
               the same morphological component.
µ«Ḋoµ          Apply the function above...
     €           for <b>€</b>ach row in the matrix.

      Z        <b>Z</b>ip, transpose the matrix.
       U       <b>U</b>pend, reverse all rows in the matrix.
               Together, <b>ZU</b> rotates the matrix 90° clockwise.
         4¡    Repeat 4 times. (after rotating 90° 4 times the matrix is in the
               original orientation)
           ÐL  Repeat until fixed.
</code></pre>

<p>And finally...</p>

<pre><code>FJṁa@ ... FQL&lt;3   Main link.
F                 <b>F</b>latten.
 J                Indices. Get `[1,2,3,4,...]`
  ṁ               <b>ṁ</b>old (reshape) the array of indices to have the same
                  shape as the input.
   a@             Logical AND, with the order swapped. The zeroes in the input
                  mask out the array of indices.
      ...         Do whatever I described above.
          F       <b>F</b>latten again.
           Q      uni<b>Q</b>ue the list.
            L     the list of unique elements have <b>L</b>ength...
             &lt;3   less than 3.
</code></pre>
</div>
<div id="pu12" class="pu"><h1><a href="https://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, 7 bytes</h1>
<pre><code>4&amp;1ZI2&lt;
</code></pre>
<p>This gives a matrix containing all ones as <a href="https://codegolf.stackexchange.com/a/95057/36398">truthy</a> output, or a matrix containing at least a zero as <a href="https://codegolf.stackexchange.com/a/95057/36398">falsy</a>. <a href="https://tio.run/##y00syfn/30TNMMrTyOb//2gDBTi0BlPGCqYKhhAOkFIwAtHWQKYhWM5QwcxawRwsCuKClVkAuWZAbGmtgDBMwTQWAA" rel="nofollow noreferrer">Try it online!</a></p>
<p>You can also verify truthiness/falsiness adding an <code>if</code>-<code>else</code> branch at the footer; <a href="https://tio.run/##y00syfn/30TNMMrTyOa/vQIcqCp4pnGplxSVlmRUqoP5AaXFGQolGZnFCsUlRZl56Vy1yKpdc4pTudTTEnOKwcqxqP8fbaAAh9ZgyljBVMEQwgFSCkYg2hrINATLGSqYWSuYg0VBXLAyCyDXDIgtrRUQhimYxgIA" rel="nofollow noreferrer">try it too!</a></p>
<p>Or <a href="https://tio.run/##bU@xjsIwDN3zFV6gW9WUFqiCxAIDGwPToUpUupZGCi0iQYiBby@2c4VWuliJ/Z6fHftSONOd4HMmsGnDMHzU2pRdMpU/u3jVrYf5XSUCd7u7@hkw3t9tDa7WFqy76eYsXkP11thSBFVhLMv/0@cjffMLuhKb0UTaXk3x/MPiMJqmqXSjXQk8MZi2vXbHKBfHCOiVgKYggh6iVzBgpZf25skZpKhgQBUxeV9FOQlzBQtmCbJsiXCON1PwbQYpN@fSzzD9H9hWjWToiZK@sUI0w1BSsKCQG8T0IUlJmDLgVTJmE1@QsVEm6VfgxfM3" rel="nofollow noreferrer">verify all test cases</a>.</p>
<h3>Explanation</h3>
<pre><code>4       % Push 4 (defines neighbourhood)
&amp;       % Alternative input/output specification for next function
1ZI     % bwlabeln with 2 input arguments: first is a matrix (implicit input),
        % second is a number (4). Nonzeros in the matrix are interpreted as
        % &quot;active&quot; pixels. The function gives a matrix of the same size
        % containing positive integer labels for the connected components in 
        % the input, considering 4-connectedness
2&lt;      % Is each entry less than 2? (That would mean there is only one
        % connected component). Implicit display
</code></pre>
</div>
<div id="pu13" class="pu"><h1>JavaScript (ES6), <s>136</s> 135 bytes</h1>

<p>Returns a boolean.</p>

<pre class="lang-js prettyprint-override"><code>m=&gt;!/[1-9]/.test((g=(y,x=0)=&gt;1/(n=(m[y]||0)[x])&amp;&amp;!z|n?(m[y++][x]=0,z=n)?g(y,x)&amp;g(--y-1,x)&amp;g(y,x+1)||g(y,x-1):g(m[y]?y:+!++x,x):m)(z=0))
</code></pre>

<h3>Test cases</h3>

<p><div class="snippet" data-lang="js" data-hide="true" data-console="true" data-babel="false">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-js lang-js prettyprint-override"><code>let f =

m=&gt;!/[1-9]/.test((g=(y,x=0)=&gt;1/(n=(m[y]||0)[x])&amp;&amp;!z|n?(m[y++][x]=0,z=n)?g(y,x)&amp;g(--y-1,x)&amp;g(y,x+1)||g(y,x-1):g(m[y]?y:+!++x,x):m)(z=0))

console.log('[Truthy]')

console.log(f([
  [0]
]))
console.log(f([
  [0,0]
]))
console.log(f([
  [1,1,1],
  [0,0,0]
]))
console.log(f([
  [1,0,0],
  [1,1,1],
  [0,0,1]
]))
console.log(f([
  [0,0,0,0,0,0],
  [0,0,3,5,1,0],
  [0,1,0,2,0,1],
  [1,1,0,3,1,6],
  [7,2,0,0,3,0],
  [0,8,2,6,2,9],
  [0,0,0,0,0,5]
]))

console.log('[Falsy]')

console.log(f([
  [0,1],
  [1,0]
]))
console.log(f([
  [1,1,1,0],
  [0,0,0,2],
  [0,0,0,5]
]))
console.log(f([
  [0,0,5,2],
  [1,2,0,0],
  [5,3,2,1],
  [5,7,3,2]
]))
console.log(f([
  [1,2,3,0,0,5],
  [1,5,3,0,1,1],
  [9,0,0,4,2,1],
  [9,9,9,0,1,4],
  [0,1,0,1,0,0]
]))</code></pre>
</div>
</div>
</p>

<h3>Commented</h3>

<p>The recursive function <strong>g()</strong> first looks for a non-zero cell (as long as the globally-defined flag <strong>z</strong> is set to <strong>0</strong>) and then starts flood-filling from there (as soon as <strong>z != 0</strong>).</p>

<pre class="lang-js prettyprint-override"><code>m =&gt;                               // given the input matrix m
  !/[1-9]/.test((                  // test whether there's still a non-zero digit
    g = (y, x = 0) =&gt;              //   after recursive calls to g(), starting at (x=0,y=0):
      1 / (n = (m[y] || 0)[x]) &amp;&amp;  //     n = current cell; if it is defined:
      !z | n ? (                   //       if z is zero or n is non-zero:
          m[y++][x] = 0,           //         we set the current cell to zero
          z = n                    //         we set z to the current cell
        ) ?                        //         if z is non-zero:
          g(y, x) &amp;                //           flood-fill towards bottom
          g(--y - 1, x) &amp;          //           flood-fill towards top
          g(y, x + 1) ||           //           flood-fill towards right
          g(y, x - 1)              //           flood-fill towards left
        :                          //         else:
          g(m[y] ? y : +!++x, x)   //           look for a non-zero cell to start from
      :                            //       else:
        m                          //         return the matrix
    )(z = 0)                       //   initial call to g() + initialization of z
  )                                // end of test()
</code></pre>
</div>
<div id="pu14" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a>, <s>131</s> 129 + 2 (<code>-ap</code>) = 133 bytes</h1>



<pre class="lang-perl prettyprint-override"><code>push@a,[@F,0]}{push@a,[(0)x@F];$\=1;map{//;for$j(0..$#F){$b+=$a[$'][$j+$_]+$a[$'+$_][$j]for-1,1;$\*=$b||!$a[$'][$j];$b=0}}0..@a-2
</code></pre>

<p><a href="https://tio.run/##PUzbCoJAFHz3KzY6kOZt1/RBZGGf9idsiRWKkspFCwL119vOGsUwnJk5w5hjfy2sNc/hLHRUCxlRNY8/69PgJaSqYM9ZddNmTNPq1PXQ@jRJYC2DEZqQg65ho2poQziocHFOYaCwHLOI4cCWQzNNq38XRxtO5xmHhI4zaxlhZEcoovAYKRaNmVfiLUlOskU7uGbuue@X9N2Zx6W7DzbW5gM" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu15" class="pu"><h1>C, 163 bytes</h1>

<p><em>Thanks to @user202729 for saving two bytes!</em></p>



<pre class="lang-c prettyprint-override"><code>*A,N,M;g(j){j&gt;=0&amp;j&lt;N*M&amp;&amp;A[j]?A[j]=0,g(j+N),g(j%N?j-1:0),g(j-N),g(++j%N?j:0):0;}f(a,r,c)int*a;{A=a;N=c;M=r;for(c=r=a=0;c&lt;N*M;A[c++]&amp;&amp;++r)A[c]&amp;&amp;!a++&amp;&amp;g(c);return!r;}
</code></pre>

<p>Loops through the matrix until it finds the first non-zero element. Then stops looping for a while and recursively sets every non-zero element connected to the found element to zero. Then loops through the rest of the matrix checking if every element is now zero.</p>

<p><a href="https://tio.run/##hVPdboIwFL73KToTCbU1AQQUu87wAPICzgvSiZFkbOnYFeHZWX9A56AdOcF6fr7zna8Htrow1nXLFGf4QC5uCZvyhXpO@ZwtD46THsvTXr6oh0UQZVD@LLJ9ufJ3nvqzUj6ElFf4dh5pCzfHHDN4replTpqU5iSjjBwoJ8UHdxnlNKceYbIJSY8MoZPjIMShOIvTU46Q41xcBgk/19@8euKk7QQYeM@vlQtnzQyIRzrq81ftH0@AgsZriXJ/chEo3Pni7bWaY1C4KgcDaRCS2UNt0NdiYC0PVHkwKl/rchGTCFjF/jx958mYKgK@rfMaA2mjzuGt8z/o1rlCMdQUenSX5cHMbQTJSHExJmmRAj2yRSoNJg7xZNJmwNB5xnZblRerd2LTZ7DIJpSYTTSOR0LFN6GMI1kvQPMbL9bm8Xqt0itVrWHraBulYziisP29A5Gph3@/jqlwpMADkzxaVplhYyiuMpximNxECvpd0FQNPKMhyfjFJANGaOGc4N40Umjfd9/wEYrhQD9eoqip3Wq7Hw" rel="nofollow noreferrer">Try it online!</a></p>

<p><strong>Unrolled:</strong></p>

<pre class="lang-c prettyprint-override"><code>*A, N, M;

g(j)
{
    j&gt;=0 &amp; j&lt;N*M &amp;&amp; A[j] ? A[j]=0, g(j+N), g(j%N ? j-1 : 0), g(j-N), g(++j%N ? j : 0) : 0;
}

f(a, r, c) int*a;
{
    A = a;
    N = c;
    M = r;

    for (c=r=a=0; c&lt;N*M; A[c++] &amp;&amp; ++r)
        A[c] &amp;&amp; !a++ &amp;&amp; g(c);

    return !r;
}
</code></pre>
</div>
<div id="pu16" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="noreferrer">Wolfram Language (Mathematica)</a>, 54 bytes</h1>

<p>Saved 2 bytes thanks to user202729.</p>

<pre><code>Max@MorphologicalComponents[#,CornerNeighbors-&gt;1&lt;0]&lt;2&amp;
</code></pre>

<p><a href="https://tio.run/##RY7LCoMwEEX3/Qqh0FUKjq9WsKXg2tK9uEhLfIAmErMoiN@eTkaxDJPh3LnczMBNKwZuug@3tXfzbMG/j0LpsVW9alDtczWMSgpppvLIcqWl0E/RNe1b6el8h8yvsuBkX7qTpqzLefbZXgsjClnMYCOcLMAGJCAK8U2QLqQ7Xp1X5AQ73VLWipelqg7/3wAd4bZxiTERUH5KeoSOlVy5XbRfAnQlJtof" rel="noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/154363/">154363</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




