<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::222676</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>074</td><td>jq</td><td>210406T012517Z</td><td><a href="https://codegolf.stackexchange.com/questions/222676/fibonacci-encoding/222937#222937">peak</a></td></tr>
<tr d-ix="1"><td>050</td><td>Wolfram Language Mathematica</td><td>211025T040225Z</td><td><a href="https://codegolf.stackexchange.com/questions/222676/fibonacci-encoding/236608#236608">alephalp</a></td></tr>
<tr d-ix="2"><td>014</td><td>Vyxal</td><td>211025T010829Z</td><td><a href="https://codegolf.stackexchange.com/questions/222676/fibonacci-encoding/236604#236604">emanresu</a></td></tr>
<tr d-ix="3"><td>012</td><td>Japt</td><td>210410T221637Z</td><td><a href="https://codegolf.stackexchange.com/questions/222676/fibonacci-encoding/223233#223233">Shaggy</a></td></tr>
<tr d-ix="4"><td>012</td><td>Husk</td><td>210404T182955Z</td><td><a href="https://codegolf.stackexchange.com/questions/222676/fibonacci-encoding/222874#222874">Dominic </a></td></tr>
<tr d-ix="5"><td>050</td><td>C gcc</td><td>210331T195507Z</td><td><a href="https://codegolf.stackexchange.com/questions/222676/fibonacci-encoding/222702#222702">Noodle9</a></td></tr>
<tr d-ix="6"><td>104</td><td>MiniFlak BrainHack</td><td>210401T190908Z</td><td><a href="https://codegolf.stackexchange.com/questions/222676/fibonacci-encoding/222760#222760">Nitrodon</a></td></tr>
<tr d-ix="7"><td>124</td><td>Red</td><td>210401T073247Z</td><td><a href="https://codegolf.stackexchange.com/questions/222676/fibonacci-encoding/222720#222720">Galen Iv</a></td></tr>
<tr d-ix="8"><td>051</td><td>Python 3.8 prerelease</td><td>210401T083021Z</td><td><a href="https://codegolf.stackexchange.com/questions/222676/fibonacci-encoding/222722#222722">Jonathan</a></td></tr>
<tr d-ix="9"><td>043</td><td>JavaScript Node.js</td><td>210401T062933Z</td><td><a href="https://codegolf.stackexchange.com/questions/222676/fibonacci-encoding/222719#222719">tsh</a></td></tr>
<tr d-ix="10"><td>012</td><td>Jelly</td><td>210331T124320Z</td><td><a href="https://codegolf.stackexchange.com/questions/222676/fibonacci-encoding/222680#222680">Jonathan</a></td></tr>
<tr d-ix="11"><td>016</td><td>Stax</td><td>210331T142324Z</td><td><a href="https://codegolf.stackexchange.com/questions/222676/fibonacci-encoding/222686#222686">Razetime</a></td></tr>
<tr d-ix="12"><td>044</td><td>JavaScript ES6</td><td>210331T124957Z</td><td><a href="https://codegolf.stackexchange.com/questions/222676/fibonacci-encoding/222681#222681">Arnauld</a></td></tr>
<tr d-ix="13"><td>038</td><td>Charcoal</td><td>210331T190629Z</td><td><a href="https://codegolf.stackexchange.com/questions/222676/fibonacci-encoding/222700#222700">Neil</a></td></tr>
<tr d-ix="14"><td>014</td><td>05AB1E</td><td>210331T160527Z</td><td><a href="https://codegolf.stackexchange.com/questions/222676/fibonacci-encoding/222693#222693">Makonede</a></td></tr>
<tr d-ix="15"><td>063</td><td>Retina 0.8.2</td><td>210331T160032Z</td><td><a href="https://codegolf.stackexchange.com/questions/222676/fibonacci-encoding/222691#222691">Neil</a></td></tr>
<tr d-ix="16"><td>069</td><td>Scala</td><td>210331T151720Z</td><td><a href="https://codegolf.stackexchange.com/questions/222676/fibonacci-encoding/222689#222689">user</a></td></tr>
<tr d-ix="17"><td>013</td><td>Japt</td><td>210331T142654Z</td><td><a href="https://codegolf.stackexchange.com/questions/222676/fibonacci-encoding/222687#222687">Etheryte</a></td></tr>
<tr d-ix="18"><td>076</td><td>Haskell</td><td>210331T135335Z</td><td><a href="https://codegolf.stackexchange.com/questions/222676/fibonacci-encoding/222685#222685">Delfad0r</a></td></tr>
<tr d-ix="19"><td>104</td><td>Haskell GHC</td><td>210331T134820Z</td><td><a href="https://codegolf.stackexchange.com/questions/222676/fibonacci-encoding/222684#222684">Aplet123</a></td></tr>
<tr d-ix="20"><td>127</td><td>Wolfram Language Mathematica</td><td>210331T133803Z</td><td><a href="https://codegolf.stackexchange.com/questions/222676/fibonacci-encoding/222683#222683">ZaMoC</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://stedolan.github.io/jq/" rel="nofollow noreferrer">jq</a> (74 bytes)</h1>
<p>Since shortness is the goal ...</p>
<pre><code>def f:def i:.,(i|[0]+.,[1]+.);nth(.-1;[1]|i|select(index([1,1])|not))+[1];
</code></pre>
<p>Example:</p>
<pre><code>65|f #=&gt; [0,1,0,0,1,0,0,0,1,1]
</code></pre>
<p><a href="https://jqplay.org/s/f1S60QKwye" rel="nofollow noreferrer">Try it online</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, 50 bytes</h1>
<p>Based on <a href="https://codegolf.stackexchange.com/a/222719/9288">tsh's JavaScript answer</a>.</p>
<p>-4 bytes thanks to <a href="https://codegolf.stackexchange.com/users/81203/att">@att</a>.</p>
<pre><code>n1~If[#&gt;n,k=n;1,2#0[+##,#]+If[k&lt;#,0,k-=#;1]]&amp;~1
</code></pre>
<p><a href="https://tio.run/##DctBCsIwFATQq3z44Ka/mEm0WmqKW3fuQxZBLJbSLKQ7sYfwBp7QI8S/mIE3MHNaHvc5LeMtlcGX/Pt8sV6GwH2WyecOYtmEilk4VrpPJxYjU@25Q4ybFeX6HPMSmOqe9KYbbc/0gpAVckI7ISigghLqZq@BETq2zUHbuNbCvcsf" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, 14 bytes</h1>
<pre><code>λbṅ11c¬;ȯtbṘ1J
</code></pre>
<p><a href="https://lyxal.pythonanywhere.com?flags=&amp;code=%CE%BBb%E1%B9%8511c%C2%AC%3B%C8%AFtb%E1%B9%981J&amp;inputs=65&amp;header=&amp;footer=" rel="nofollow noreferrer">Try it Online!</a></p>
<p>Port of Ethertyte's answer.</p>
<pre><code>λ      ;ȯt     # Nth integer where...
 bṅ            # Binary
   11c¬        # Doesn't contain 11
          bṘ   # Get the binary of that, reversed
            1J # Append a 1
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, 12 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<p>Based off Etheryte's solution, posted with permission.</p>
<pre><code>_øB ªU´}f¤ÔÄ
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;code=X/hCIKpVtH1mpNTE&amp;input=NjU" rel="nofollow noreferrer">Try it</a></p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a>, <s>14</s> 12 bytes</h1>
<p><em>Edit: -2 bytes thanks to Leo</em></p>
<pre><code>↔:1!fo¬V&amp;mḋN
</code></pre>
<p><a href="https://tio.run/##yygtzv7//1HbFCtDxbT8Q2vC1HIf7uj2@///v5kpAA" rel="nofollow noreferrer" title="Husk – Try It Online">Try it online!</a></p>
<p>Based on <a href="https://codegolf.stackexchange.com/a/222687/95126">Etheryte's approach</a>: upvote that!</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, <s>51</s> 50 bytes</h1>

<pre class="lang-c prettyprint-override"><code>k;f(n){for(k=0;n-=!(++k&amp;k/2););n=log2(k);k+=2&lt;&lt;n;}
</code></pre>
<p><a href="https://tio.run/##XVHdboIwFL73Kc5IXIqUKJXfVHaz7CmmFwaLI2g1lGRkhlcf@1AkOpIW@v2dnkPm7rOs60qZM21f8lPFynQhtZu@MMcpX8u5sKUtdXo47QUrbVk6qVittGy747bQzJ5cJoSn0DXVytTmc9MfU7p4nASnJSefU8Ap5BRxijklnLwFFngPAg8KD5Kw1/REnIRRK8dQ1ZxVVqsdchG6vAbdfQI@AZ8A5iPaR3aAiAB8AD4BnqBqFIe9OIjwioUfBuFQIPvaVjPsKitVdatgrZsPsW6Sd6zA4vR4XlqDD2Mi1t@u0DvVwLaQw@eKTPGjTjm739ueD8BsRCQ5zlVt02149141km5DvNIb@cQasP1PekYV0HFG/23nCpKcWdMduW@EfWrWGk1pToaPfZs0VZshtp203W@WH7Z707mHY@d@/wE" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
<p>Uses the formula from <a href="https://codegolf.stackexchange.com/users/16484/etheryte">Etheryte</a>'s <a href="https://codegolf.stackexchange.com/a/222687/9481">Japt  answer</a>.<br />
Returns the Fibonacci code word for input <span class="math-container">\$n\$</span> in reversed binary.</p>
<h3>Explanation</h3>
<pre class="lang-c prettyprint-override"><code>k;f(n){                           // function taking an integer n &gt; 0
       for(k=0;             ;);   // loop over values of integer k
                                  // starting at 1 (because of the bump)  
               n                  // until n is zero
                -=!(       )      // subtracting 1 from n when...
                    ++            // (bump k at the start of each loop)
                      k&amp;k/2       // ...there's no 2 consecutive 1 bits in k  
                                  // k is now the nth integer without   
                                  // any 2 consecutive 1 bits
       n=log2(k);                 // get the number of bits in k by
                                  // converting  its log2 to an int   
       k+=2&lt;&lt;n;                   // add a 1 bit just above k's most   
                                  // significant bit and return k   
}
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/Flakheads/BrainHack" rel="nofollow noreferrer">Mini-Flak (BrainHack)</a>, 104 bytes</h1>
<pre><code>([{}]((()))){({}(())({{}[()](({}({}))){(()[{}]){(({}{}[()]))}}{}}{}(())){[({})]({}[()](()[()]))}{}{})}{}
</code></pre>
<p><a href="https://tio.run/##NYs5DoBADAO/Yxe0HG9ZbbHQgBAUtFbeHhKOFNEkHs9X2861Lbs7iqwCYIwgS4JkBYx33LInAVNMkL0paUH2VqiSZsXf5Kekndvdu8PHqR9u" rel="nofollow noreferrer" title="Brain-Flak (BrainHack) – Try It Online">Try it online!</a></p>
<p>Starts at <code>11</code> and iteratively computes the encoding of the next number <code>n-1</code> times.</p>
<pre><code># Create 11 while computing 1-n.
([{}]((())))

# Repeat
{

  # Add 1 to counter (going up to zero) and allow loop to start
  ({}(())

    # Eventually push number of iterations to reach 00 or 11
    (

      {

        # Remove 1 from stack
        {}[()]

        # Compute sum of two digits, keeping second, and push twice
        (({}({})))

        # If not 00:
        {

          # Subtract value from 1; this makes iteration evaluate to 1
          (()[{}])

          # If top of stack still isn't zero (i.e., digits were 11):
          {

            # Push two zeros: one to exit loop and the other to exit conditional
            (({}{}[()]))

        }}{}

      # Repeat until 00 or 11 found
      }{}

      # Push 1 at position
      (())

    # Push number of leading zeroes to use, plus one
    )

    # That many times:
    {

      # Compute -k: this will make each iteration evaluate to -1
      [({})]

      # Subtract 1 from k...
      ({}[()]

        # while pushing 0 below it
        (()[()])

      )

    }{}

    # Since the push evaluates to a number of iterations, and
    # those iterations all evaluate to -1, this main part of the main
    # loop evaluates to zero.

    # Remove extraneous zero: this is shorter than subtracting 1 earlier
    {}

# Repeat until counter reaches zero, and pop zero
)}{}
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="http://www.red-lang.org" rel="nofollow noreferrer">Red</a>, <s>135</s> 124 bytes</h1>
<pre><code>func[n][i: k: 0 until[i: i + 1 unless find do
b:[enbase/base to#{01}i 2]&quot;11&quot;[k: k + 1]n = k]reverse
rejoin[&quot;1&quot;find do b&quot;1&quot;]]
</code></pre>
<p><a href="https://tio.run/##LYyxDoJAEET7@4oJlhayqKgk/oTtZgvw9uKJWcyBNsZvxyNxism84k1SP1/Us7jQzOFlVzbh2KBvUOJlU3wsFLEGZXzoOCJE8/CD6xpW69pRN0thGlafkr4RlRREBeeHftHEcEYvSd@aRnVJ70M0Lqj4/6DLW2QOQ9L2eoOBCRW22IEIVIG2oB3qPWoqcTzVB2GHnGeKNvGz9VnZI8DEyfwD" rel="nofollow noreferrer" title="Red – Try It Online">Try it online!</a></p>
<p>Uses <a href="https://codegolf.stackexchange.com/a/222687/75681">@Etheryte's method</a></p>
<h3>As an excercise - the step by step method:</h3>
<h2><a href="http://www.red-lang.org" rel="nofollow noreferrer">Red</a>, 153 bytes</h2>
<pre><code>func[n][c: charset 1 until[k: 0 a: 0 b: 1 until[k: k + 1
t: a a: b b: t + b b &gt; n]c/(k - 2): 1 0 = n: n - a]replace
enbase/base to#{01}c 2[any&quot;0&quot;end]&quot;1&quot;]
</code></pre>
<p><a href="https://tio.run/##TY7BasMwEETv@orBvbSUEq2cOo4g@YhehQ6yvCbBYWMU5RBCvt2Rbt3DMLzhwSYe1z8enVeTXae7RCfeRYt4CunGGYS75PPFzRYaocZg/8MZ3yCVLUJdh7rmgkrBEeLj5nPGD8xXlTQOEAspIPjEyyVEVixDuPGmBvL146npFWFckEejG5bRN9T4dbomDvFUXEcwaLEFEciAWtAW3S860uj33Q69bveGWu8Uyi3pLNktYSxqj6m8pPz6Bg" rel="nofollow noreferrer" title="Red – Try It Online">Try it online!</a></p>
<p>More readable:</p>
<pre><code>f: func[n][
    c: charset 1
    until [
        k: 0
        set [a b] [0 1]
        until [ 
            k: k + 1
            set [a b] reduce [b a + b] 
            b &gt; n
        ]
        c/(k - 2): 1
        0 = n: n - a
    ]
    replace enbase/base to binary! c 2 [any &quot;0&quot; end] &quot;1&quot;
]
</code></pre>
<p><code>charset</code> is short for <code>make bitset!</code></p>
</div>
<div id="pu8" class="pu"><h1><a href="https://docs.python.org/3.8/" rel="nofollow noreferrer">Python 3.8 (pre-release)</a>, 51 bytes</h1>
<p>Another based on <a href="https://codegolf.stackexchange.com/users/16484/etheryte">Etheryte</a>'s <a href="https://codegolf.stackexchange.com/a/222687/53748">Japt answer</a></p>

<pre class="lang-python prettyprint-override"><code>f=lambda n,k=0:-n*f'1{k-1:b}'or f(n-(k&amp;k//2&lt;1),k+1)
</code></pre>
<p><strong><a href="https://tio.run/##PY9hboMwDIX/c4onTVpJF1bcboyicRjoQhMREpSYVdW0s7OwSbP0ZH227GfPd9beneo5rOvQ2m7qPzo4ObZlU7j9sKOvsaCm/975gCF3RT4@jofD8Z2EHJ9IrGaafWDEe8ySnqPioC5LiMY7aybDeU3nSgAPYG0iOmv9LYJV5LaiEuxx8dNsFSuJfuG/Tl2d33Az1iKq69AtlqFVUFCfyqU6a2hz1VDOLyn9G@LXMcuGdOu2B8YhJ4mjxEniRYISUCJKSImr1yQqRZMhxRyM43wblOnVLQux/gA" rel="nofollow noreferrer" title="Python 3.8 (pre-release) – Try It Online">Try it online!</a></strong></p>
</div>
<div id="pu9" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 43 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>n=&gt;(g=p=&gt;n&lt;p||2*g(p+q,q=p)+(n&gt;(n%=p)))(q=1)
</code></pre>
<p><a href="https://tio.run/##jU49b8IwEN39K7xUOTdg4oTSIupsHTp1YAQkotSkQcE2iWEp/e3pJYBB6tKzZb2Pu3feZsesyevSuqE2n6rdyFbLFAppZapf7ekUPxZgw/1gLy0LQaegHxAxBnspWOuopGvyru3BUayPg0NEhv8vIuilhCDxFUdIEk86NvZtHRPi5vU8vrk9T7wf9eNi7BvOwuTJr@oyzpqI7qauhcbLdPLsDeFPf9GNkmncbYyu2jkwuvHLnCBr7upyB4w3tiodBEsdIK7KXEHM@C6zUFGZ0gqhy79gtJyHo4KxGXF8Y@q3DDVYlAOqVqzr@yaU5kY3plK8MgWEaG3wZdyZOW7SBcYO6IJz/kde8VodVd0o/M3WlBqCADMlVbjth83aXw" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>It returns an integer whose binary form is reversed Fibonacci Encoding.</p>
<pre class="lang-javascript prettyprint-override"><code>// I have a code for base 2 convention
n=&gt;(g=p=&gt;n&lt;p  2*g(       )+(n&gt;(n%=p)))(   )
// I have a code for Fibonacci sequence
n=&gt;(g=p=&gt;       g(p+q,q=p)           )(q=1)
// Boom, Fibonacci base convention
n=&gt;(g=p=&gt;n&lt;p||2*g(p+q,q=p)+(n&gt;(n%=p)))(q=1)
</code></pre>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, <s> 21 </s> 12 bytes</h1>
<p>Using <a href="https://codegolf.stackexchange.com/users/16484/etheryte">Etheryte</a>'s observation from their <a href="https://codegolf.stackexchange.com/a/222687/53748">Japt</a> answer is much terser and more efficient to boot (it may be possible in even less, let's see...)</p>
<pre><code>1BSƝỊẠƲ#ṪB1;
</code></pre>
<p>A monadic Link accepting a positive integer that yields a list of <code>1</code>s and <code>0</code>s (in reversed order as allowed in the rules).</p>
<p><strong><a href="https://tio.run/##ASEA3v9qZWxsef//MUJTxp3hu4rhuqDGsiPhuapCMTv///82MTA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>
<hr />
<p>A faster 12 byter:</p>
<pre><code>1Ḥ^:3ƲƑ#ṪB1;
</code></pre>
<p><a href="https://tio.run/##AR8A4P9qZWxsef//MeG4pF46M8ayxpEj4bmqQjE7////NjEw" rel="nofollow noreferrer">Try it online!</a></p>
<h3>How?</h3>
<pre><code>1Ḥ^:3ƲƑ#ṪB1; - Link: positive integer, n
1      #     - set k=1 and increment to collect the first n ks for which:
      Ƒ      -   (k) is invariant under?:
     Ʋ       -     last four links as a monad, f(k):
 Ḥ           -       double (k)
  ^          -       (2k) bitwise-XOR with k -&gt; x
    3        -       three
   :         -       (x) integer divide (3)
        Ṫ    - tail
         B   - to binary
          1  - one
           ; - (1) concatenate with (the binary list)
</code></pre>
<hr />
<p>Original 21:</p>
<p>This is (a) extremely inefficient and (b) almost certainly not the right way to get the tersest code, so I<s>'ll</s> was planning to come back to it after work...</p>
<pre><code>‘ÆḞ€ḊðŒPS⁼¥Ƈ⁹Ḣ⁸iⱮðṬ;1
</code></pre>
<p>A monadic Link accepting a positive integer that yields a list of <code>1</code>s and <code>0</code>s.</p>
<p><a href="https://tio.run/##ATsAxP9qZWxsef//4oCYw4bhuJ7igqzhuIrDsMWSUFPigbzCpcaH4oG54bii4oG4aeKxrsOw4bmsOzH///8xNA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
</div>
<div id="pu11" class="pu"><h1><a href="https://github.com/tomtheisen/stax" rel="nofollow noreferrer">Stax</a>, 16 <a href="https://github.com/tomtheisen/stax/blob/master/docs/packed.md#packed-stax" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>âî}g♥▼«zΩ╥;QbB]╔
</code></pre>
<p><a href="https://staxlang.xyz/#p=838c7d67031fae7aead23b5162425dc9&amp;i=1%0A2%0A3%0A4%0A11%0A12%0A13%0A14%0A65%0A610%0A8967%0A8039213%0A&amp;m=2" rel="nofollow noreferrer">Run and debug it</a></p>
<p>Based on Etheryte's observation, which shaved a off a ton of bytes. <a href="https://codegolf.stackexchange.com/a/222687/80214">Check out their answer!</a></p>
<h2>Explanation</h2>
<pre><code>Z{|B.11#!}{ge|B'1s+
Z                   push 0 under the input(counter)
           ge       generator: find the first n elements, return the last
          {         empty block: get the next element by incrementing
 {       }          filter:
  |B                base2 string
    .11#!           has 0 occurrences of &quot;11&quot;?
               '1s+ prepend a 1 to it(r'1+ also works for valid output)
</code></pre>
<h1><a href="https://github.com/tomtheisen/stax" rel="nofollow noreferrer">Stax</a>, 29 <a href="https://github.com/tomtheisen/stax/blob/master/docs/packed.md#packed-stax" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>é½Æ½┼≥╦◘½}○└╩►à«ôæ→¢ûU«½*≈ø»▀
</code></pre>
<p><a href="https://staxlang.xyz/#p=82ab92abc5f2cb08ab7d09c0ca1085ae93911a9b9655aeab2af700afdf&amp;i=1%0A2%0A3%0A4%0A11%0A12%0A13%0A14%0A65%0A610%0A8967%0A8039213%0A&amp;m=2" rel="nofollow noreferrer">Run and debug it</a></p>
<p>Pretty big.</p>
  
</div>
<div id="pu12" class="pu"><h1>JavaScript (ES6), <s> 46 </s> 44 bytes</h1>
<p><em>Based on <a href="https://codegolf.stackexchange.com/a/222687/58563">@Etheryte's insight</a>.</em></p>
<p>Returns a string of bits in reverse order.</p>

<pre class="lang-javascript prettyprint-override"><code>f=(n,k)=&gt;k&amp;k/2||n--?f(n,-~k):1+k.toString(2)
</code></pre>
<p><a href="https://tio.run/##bc/BDoIwDAbgu0@xk9miY@tADyboQ/gEBBnBks3Awonw6lMPDM3WY7/@bfqspmqsh@7luLGPxntdUnNEVl5xj0LNs@H8pj8tviC7wAEzZ@9u6ExLFfO1NaPtm6y3LdUUCGGMCEEAdv@iVpER5YFiK8LC2AC2XELVlkxoHrIycRaKEE7x@RSe@d5OTYD82b8WgH8D" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Commented</h3>
<pre class="lang-javascript prettyprint-override"><code>f = (             // f is a recursive function taking:
  n,              //   n = input
  k               //   k = counter, initially undefined (coerced
) =&gt;              //       to 0 for bitwise operations)
  k &amp; k / 2 ||    // yield a truthy value right away if there are
                  // at least 2 consecutive bits set in k
    n--           // otherwise, yield n and decrement it afterwards
  ?               // if either statement above is truthy:
    f(n, -~k)     //   do a recursive call with k + 1
  :               // else:
    1 +           //   stop and return a leading '1'
    k.toString(2) //   followed by the binary representation of k
</code></pre>
<hr />
<h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, <s> 109 </s> 105 bytes</h1>
<p><em>Based on the challenge description.</em></p>
<p>Expects a BigInt. Returns a string of bits in reverse order.</p>

<pre class="lang-javascript prettyprint-override"><code>f=(n,k=m=0n)=&gt;n?(g=(i,x=0n,y=1n)=&gt;i?g(~-i,z=y,x+y):y)(k)&gt;n?f(n-z,0n,m|=1n&lt;&lt;k-2n):f(n,-~k):1+m.toString(2)
</code></pre>
<p><a href="https://tio.run/##bZBBbsIwEEX3PUWWM8IGj0NpiXA5RE@AKIlMyBhBhAiquHpqUgpybXs2M//5@9vb1Wl1XB/svpXsvjZ9XxpgUZvGKEbzwUuoDFhx9q3oDN1mdlnBVVpxMZ04jzosOoQaPVoCy4vwYPPtycWilpqx8FMhrzUWNGrGrftsD5Yr0NivHR/dbjPeuQpKIM6GhZhNJhnRSyjrQFaRnod6DExD/xige4KHQwLRHHokkDx0UYkoNA1tUszsNfChW54URor/Xfe3IvZ9PnvjgKXHHio6oPK59g96/shvDUnUs79bUf8D" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu13" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 38 bytes</h1>
<pre><code>ＮθＦ²⊞υ⊕ιＷ‹⌈υθ⊞υΣ…⮌υ²←1ＦΦ⮌υκ«←Ｉ¬›ιθ≧﹪ιθ
</code></pre>
<p><a href="https://tio.run/##VY7LCsIwEEXX9iuCqwnUhS58rqSgFKyIfkGsUxNMkzYPH4jfHtuCqNvhnHMn58zkmskQUlV5t/XlEQ3UdBEV2hAYUbLzloOPSapygyUqhycQtAFuXEgksEFrIWN3UfoSPI1JTb/Sobklj1xiwnUFe7yisdhRI9o2dkYoB/MNFi4m/WH/s7sS0jV//AqXJvuMen9GwqyDrXawNshaQXTzbbmXsWpprTirvThzB5k@ealj0hGL6BXCdDaehMFVvgE" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation: Outputs digits in reverse order, but this is the least of Charcoal's problems because it can simply print them backwards.</p>
<pre><code>Ｎθ
</code></pre>
<p>Input <code>n</code>.</p>
<pre><code>Ｆ²⊞υ⊕ι
</code></pre>
<p>Start with <code>1</code> and <code>2</code> from the Fibonacci sequence.</p>
<pre><code>Ｗ‹⌈υθ⊞υΣ…⮌υ²
</code></pre>
<p>Keep pushing terms until one exceeds <code>n</code>.</p>
<pre><code>←1
</code></pre>
<p>Print the final <code>1</code>.</p>
<pre><code>ＦΦ⮌υκ«
</code></pre>
<p>Loop through all the terms except the last in reverse order.</p>
<pre><code>←Ｉ¬›ιθ
</code></pre>
<p>Print <code>0</code> or <code>1</code> depending on whether this term is larger than <code>n</code>.</p>
<pre><code>≧﹪ιθ
</code></pre>
<p>Subtract the term from <code>n</code> if it is smaller.</p>
</div>
<div id="pu14" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, 14 bytes</h1>
<pre><code>∞ʒb11å&gt;}s&lt;èb1ì
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f//Uce8U5OSDA0PL7WrLbY5vCLJ8PCa///NDA0A" rel="nofollow noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>
<pre><code>∞ʒb11å&gt;}s&lt;èb1ì  # full program
         &lt;è     # push the...
        s       # implicit input...
         &lt;è     # -th...
∞               # natural number...
 ʒ     }        # which...
      &gt;         # does not...
     å          # contain...
   11           # literal...
  b             # in binary...
           b    # converted to binary...
            1   # with literal...
             ì  # prepended
                # implicit output
</code></pre>
</div>
<div id="pu15" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language/a950ad7d925ec9316e3e2fb2cf5d49fd15d23e3d" rel="nofollow noreferrer">Retina 0.8.2</a>, 63 bytes</h1>
<pre><code>.+
$*
(\G1|(?&gt;\2?)(\1))*1
$#1$*01¶
+`^(.*).(.*¶)(\1.)¶
$3$2
¶
1
</code></pre>
<p><a href="https://tio.run/##FYkxDsIwEAT7/QaOdHYky3sXTNKQMp@wUCgoaCgQZd6VB@RjxmlmpJnv6/f@PGsny1pjDxcgZeEm873o7KXQ@0C4C11IPHb060Ni8LHh2M8ffavOnKKZtRIKwwASVNDAAfmKzIRxyjeMySal/QE" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Link includes test cases. Explanation:</p>
<pre><code>.+
$*
</code></pre>
<p>Convert to unary.</p>
<pre><code>(\G1|(?&gt;\2?)(\1))*1
</code></pre>
<p>Use a tweaked version of @MartinEnder's answer to <a href="https://codegolf.stackexchange.com/questions/126373">Am I a Fibonacci Number?</a> to match Fibonacci numbers that sum to the input.</p>
<pre><code>$#1$*01¶
</code></pre>
<p>For each match, generate the bit in the appropriate column.</p>
<pre><code>+`^(.*).(.*¶)(\1.)¶
$3$2
</code></pre>
<p>Fold all of the bits together.</p>
<pre><code>¶
1
</code></pre>
<p>Replace the final delimiter with a final 1 bit.</p>
</div>
<div id="pu16" class="pu"><h1>Scala, 69 bytes</h1>
<p>Based on <a href="https://codegolf.stackexchange.com/a/222687/95792">Etheryte's amazing answer</a></p>
<pre class="lang-scala prettyprint-override"><code>&quot;1&quot;+Stream.from(0).map(_.toBinaryString).filter(!_.contains(&quot;11&quot;))(_)
</code></pre>
<p><a href="https://scastie.scala-lang.org/96OmivWtTEqg7FrcpfKpRw" rel="nofollow noreferrer">Try it online!</a></p>
<p>Outputs a String (reversed)</p>
<h2>Original answer, 123 bytes</h2>
<pre class="lang-scala prettyprint-override"><code>n=&gt;(f.takeWhile(n&gt;=_):\(n,1::Nil)){case(x,n-&gt;c)=&gt;if(x&gt;n)(n,0::c)else(n-x,1::c)}._2
def f:Stream[Int]=1#::f.scanLeft(2)(_+_)
</code></pre>
<p><a href="https://scastie.scala-lang.org/gewTQsoiTVGaI1vrTKLfMg" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu17" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="noreferrer">Japt</a>, 13 bytes</h1>
<pre><code>@!X¤øB}iU
¤ÔÄ
</code></pre>
<p>Explanation:</p>
<pre><code>@!X¤øB}iU 
@     }iU // Get the U-th (input) number
 !        // which doesn't have
    øB    // &quot;11&quot; in its
  X¤      // binary representation

¤ÔÄ
¤         // Take that number's binary representation,
 Ô        // reverse it
  Ä       // and add one to the end.
</code></pre>
<p><a href="https://ethproductions.github.io/japt/?v=1.4.6&amp;code=QCFYpPhCfWlVCqTUxA==&amp;input=NjU=" rel="noreferrer">Try it here.</a></p>
</div>
<div id="pu18" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 76 bytes</h1>

<pre class="lang-hs prettyprint-override"><code>1#2
(u#v)x|x&lt;v=[&quot;11&quot;|x==u]|z&lt;-u+v=map('0':)(v#z$x)++map(&quot;10&quot;++)(z#(z+v)$x-u)
</code></pre>
<p><a href="https://tio.run/##FcrRCoIwFADQ9z7DCW7sGrubmYb7hL7AJIZkSSqSbQzx21v4ejgvs7wfwxA6fQtI5IFa4pjffOV0HSFGm9faNttapZY7PZqZJiK5MOrIGnvG@S4RiohzRldCV@5Y7FPLwmj6af/XO50//fQ9dqxGkKAgA0RACagAM8hPkKOAoszPUAhVSlRN@LXdYJ5LSNt5/gM" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
<p>Outputs a string of <code>0</code>'s and <code>1</code>'s wrapped in a singleton list (e.g. <code>[&quot;001011&quot;]</code>).</p>
<h2>How?</h2>
<ul>
<li><code>(u#v)x</code>: we want this function to return a list of all the possible Fibonacci encodings for <code>x</code> using only Fibonacci numbers greater or equal than <code>u</code>; we further assume that <code>u</code> and <code>v</code> are consecutive fibonacci numbers (with <code>u&lt;v</code>). It is well known that, if such an encoding exists, than it is unique (this follows from the uniqueness of the Zeckendorff representation), so the length of the list <code>(u#v)x</code> will be at most 1. For instance, <code>(3#5)11==[&quot;1011&quot;]</code>, since <code>11=3+8</code>.</li>
<li><code>|x&lt;v=[&quot;11&quot;|x==u]</code>: if <code>x&lt;v</code> then the encoding only exists if <code>x==u</code>. If this is the case we return <code>[&quot;11&quot;]</code>, otherwise we return the empty list.</li>
<li><code>|z&lt;-u+v=</code>: otherwise, let <code>z=u+v</code> be the next Fibonacci number. We have two choices.
<ul>
<li><code>map('0':)(v#z$x)</code>: we try to encode <code>x</code> without using <code>u</code>. In this case, the encoding will be contained in <code>(v#z)x</code>, and we prepend a <code>'0'</code> to denote the fact that we didn't take <code>u</code>.</li>
<li><code>++map(&quot;10&quot;++)(z#(z+v)$x-u)</code>: we try to encode <code>x</code> using <code>u</code>. In this case, <code>&quot;10&quot;</code> denotes that we take <code>u</code> and we don't take <code>v</code>. For this choice to be valid, we must also find an encoding of <code>x-u</code> using only Fibonacci numbers from <code>z</code> onwards (notice that <code>z+v</code> is the Fibonacci number after <code>z</code>).</li>
</ul>
</li>
</ul>
</div>
<div id="pu19" class="pu"><h1><a href="https://www.haskell.org" rel="nofollow noreferrer">Haskell (GHC)</a>, <s>118</s> 104 bytes</h1>
<pre class="lang-haskell prettyprint-override"><code>x@(_:v)=1:scanl(+)1x
f n=snd(foldr(\v(x,l)-&gt;if v&lt;=x then(x-v,1:l)else(x,0:l))(n,[])$fst$span(&lt;=n)v)++[1]
</code></pre>
<p><a href="https://tio.run/##RVFba4MwFH73VxxCoQmNYNqtW6WRwZ4Kuzz0aVgpwcZVlsbSZM5/76JRm@Thu5zvBM45C/MjlWrb5gUf45pwFptcaIUXhDVBAZobfcJFpU43fKhxQxUJk7KAessbsGepcRPWlMWKSGWk8yMHCdY0zcisMHZmrkLjLdekJotFyrLWSmNfhZEG4hhSvNOWwt7eSv1NsuBucucxihhDhOIlRZFHK4cG@ODcATLWyyNb9s7I@kg0plgfm@j6sWvdZSeFRUNgPF5/3qyfvMGm2z/vRqvN0n81yL5ldOdD1JVnQXARpe4GsPsETDzjcBHX9yPgAy4pVATCBJS0UM2dVUAJScLBnKs/cMXXX@uG9qZhBnmlc2EhdVvpSjlU/WIAfQGCbiuAPgC5jnPqBOd3OCMwzbr9Bw" rel="nofollow noreferrer">Try it online!</a></p>
<h2>Original:</h2>
<p>Outputs a list of reversed bits.</p>
<pre class="lang-haskell prettyprint-override"><code>import Data.List
x@(_:v)=1:scanl(+)1x
f n=1:snd(mapAccumL(\a b-&gt;if b&lt;=a then(a-b,1)else(a,0))n$reverse$fst$span(&lt;=n)v)
</code></pre>
<p><a href="https://tio.run/##RVFbT8IwGH3frzhZltDGYlZQlIUtGn0hQX3wyQAhZXayuHXLWpB/P7sLo@vDufR8S853EPpXZlldp3lZVAavwojbVaqNc34iu@BEQx7oWKiM3FB@dhKoRlDfJBflcxwf8xXZCOzHUZpgvwgFzEEqIsZ7xqnMtCSC@ZQqr5InWWnpJdp4uhSKLEJFT7Q2UpsXoaVGEGBNlsowfJoqVT9061zN0HqcuZy7lJEJc/0OTS3q4Z11e8h5K1/YpHUurI34lxRvYwOd3Tejm@ygcL8PXE6nP85nD53Bh6@9netP55PuV73cjfSvvI/a51vHyUWqmgKWHyC0YyFsw287kA1JGQqKcYRMGhQja/VtgiRIKaIohD4Uf7Cx8mhsfSsFD3GhYmGwtptpQiGKdjlwv@Ci2Q3cd7h29ohZwfoN3lIMrdf/" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu20" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, 127 bytes</h1>
<pre><code>(f@n_:=(k=1;While[(F=Fibonacci)[++k]&lt;=n];k-1);s=Table[0,f[t=#]];(s[[#]]=1)&amp;/@(f/@NestWhileList[#-F@f@#&amp;,t,#&gt;0&amp;]);RotateLeft@s)&amp;
</code></pre>
<p><a href="https://tio.run/##Hcy9CsIwFEDhVxEKJcEr7W21/sRIpk4iIoJDCBJLoqFawdxNfPYoTmf5OA9LN/ewFDqbrjIxr4bzSrJeojjdwt1p1so2XJ6D7brA9Xjcm7UcjOgnyEWUR3v5mRK8JpkZI1jU@leJPC8U84XauUj/0TZE0tmkVV5lORBkmzI3XByeZMltnScVeZ72rzDQqFDXQr0RKqhhCoiAFWANOIVmBg2WsFg2c1iU9bLC@pPSFw" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/222676/">222676</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




