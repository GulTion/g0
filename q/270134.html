<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::270134</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>051</td><td>Charcoal</td><td>240218T104734Z</td><td><a href="https://codegolf.stackexchange.com/questions/270134/compute-the-phat-fingered-double-bit-flip-distance/270136#270136">Neil</a></td></tr>
<tr d-ix="1"><td>137</td><td>Scala 3</td><td>240221T113843Z</td><td><a href="https://codegolf.stackexchange.com/questions/270134/compute-the-phat-fingered-double-bit-flip-distance/270207#270207">138 Aspe</a></td></tr>
<tr d-ix="2"><td>056</td><td>Python3</td><td>240219T162328Z</td><td><a href="https://codegolf.stackexchange.com/questions/270134/compute-the-phat-fingered-double-bit-flip-distance/270161#270161">Vincent</a></td></tr>
<tr d-ix="3"><td>256</td><td>Python3</td><td>240219T005059Z</td><td><a href="https://codegolf.stackexchange.com/questions/270134/compute-the-phat-fingered-double-bit-flip-distance/270147#270147">Ajax1234</a></td></tr>
<tr d-ix="4"><td>063</td><td>JavaScript ES6</td><td>240218T181453Z</td><td><a href="https://codegolf.stackexchange.com/questions/270134/compute-the-phat-fingered-double-bit-flip-distance/270140#270140">Arnauld</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 51 bytes</h1>
<pre><code>ＮθＮηＷ⁻θη¿﹪ι²«≔³ζＷ∧＆θζ＆～θζ≦⊗ζ≔⁻｜θζ＆θζθ→»«≧÷²θ≧÷²η»Ｉⅈ
</code></pre>
<p><a href="https://tio.run/##fZAxb8IwEIXn5Fd4PEupBDQMlAnKwhBaMbEGYvBJrk1iO0it@O3uGQxiQGz3vvN7d@edrLudqVUIS330buV/tqKDlk/zRy1JnyQqwaBC7S20BZOcM9wTMI1XBrBgIyJ/eTazFg8a3gv2S7Ys@Wa6gTm6E1oRyzZ2C/ZAUrkyjsbHLqVV9TGlLYzfKtGkzASvuyTjV/ck9EIIxYOyyvQCPtZ4kI7kmQllRVz4PuXSgqV2C@yxEXTRzfnqRfycc/7doXbwWVsHG@B8GsJkPCjzYVmOy/DWq38" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation: Greedy algorithm which works for the test cases at least.</p>
<pre><code>ＮθＮη
</code></pre>
<p>Input <code>a</code> and <code>b</code>.</p>
<pre><code>Ｗ⁻θη
</code></pre>
<p>Repeat until <code>a</code> equals <code>b</code>.</p>
<pre><code>¿﹪ι²«
</code></pre>
<p>If exactly one of <code>a</code> and <code>b</code> is odd, then:</p>
<pre><code>≔³ζＷ∧＆θζ＆～θζ≦⊗ζ
</code></pre>
<p>Find the rightmost possible phatflip for <code>a</code>.</p>
<pre><code>≔⁻｜θζ＆θζθ
</code></pre>
<p>Apply that phatflip to <code>a</code>.</p>
<pre><code>→
</code></pre>
<p>Keep count of the number of phatflips.</p>
<pre><code>»«≧÷²θ≧÷²η
</code></pre>
<p>Otherwise, divide both <code>a</code> and <code>b</code> by <code>2</code>.</p>
<pre><code>»Ｉⅈ
</code></pre>
<p>Output the number of phatflips.</p>
<p>A port of @loopywalt's golf to @Vincent's solution is only 34 bytes:</p>
<pre><code>≔Ｅ²ＮθＷ↨θ±¹«⊞υ↔ⅈＭ↨﹪θ²±¹→≔÷⮌θ²θ»Ｉ↨υ¹
</code></pre>
<p><a href="https://tio.run/##Tc4xD4IwEAXgWX5Fx2tSEyEwKBPqwgAhTK4FLtCkUqAtDsbfXmlwcL773nvtwJdWcelcprXoRyj4BBEj@ThZU9pngwtQyshM0@A1CIkErlwjzIyU2HODEFJKyTs4VFYPYBnJGq2k3Q6PDW7qUKgVd1SozkrlbUT/PSOXWvSD8d@/Gflo7mIVHUKNKy6@ke7ML/kE1SJGAzeuzR69FfshqXPn5BQHYRwnsTuu8gs" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>≔Ｅ²Ｎθ
</code></pre>
<p>Input <code>a</code> and <code>b</code>.</p>
<pre><code>Ｗ↨θ±¹«
</code></pre>
<p>Repeat until <code>a==b</code>.</p>
<pre><code>⊞υ↔ⅈ
</code></pre>
<p>Save the absolute current offset.</p>
<pre><code>Ｍ↨﹪θ²±¹→
</code></pre>
<p>Adjust the offset according to the difference between the bottom bits of <code>a</code> and <code>b</code>.</p>
<pre><code>≔÷⮌θ²θ
</code></pre>
<p>Swap and halve <code>a</code> and <code>b</code>.</p>
<pre><code>»Ｉ↨υ¹
</code></pre>
<p>Output the total number of phatflips.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.scala-lang.org/" rel="nofollow noreferrer">Scala 3</a>, 137 bytes</h1>
<p>A port of <a href="https://codegolf.stackexchange.com/a/270161/110802">@Vincent's Python answer</a> in Scala.</p>
<hr />
<p>Golfed version. <a href="https://ato.pxeger.com/run?1=dU9LbsIwEN1zihESki0M5OPwCXKlLrtgVXWFQBqnCU2VOChxiyrEAXqGbti0m56IVa_ScWCFWkszo5n35o3fx1eTYIHh97I7MNUOa9NdnXiln9PEwgJzA_tOB16xgCwGxu6MFRRc3bgM6vPFZoPp6Z2h0DTcO2KpFmifhttqx6TAvuZDWxF7FM4f0wweGcZORbc5cVl5vC15xlBR40FaNGmrZVTSx14w0L1gXjpV1A0zvE8qo0BoCsMPc-rWpdDrkh8uH_oBcMdKMsCw3jQx3NY1vi3vbZ2bzYrH8GByC4rcAb0tTW1hWMb8SEAwIWcKAn6FhaGAcPwPNhMQyRaT11g0ETA-782uMekTOA39vzdnkScF-FJepH3PMQ6di83j8Vx_AQ" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre class="lang-scala prettyprint-override"><code>(a,b)=&gt;{val m=Math.pow(4,a+b).toInt/3;def d(a:Int,b:Int,c:Int=0):Int=if(a==0)0 else{val n=c+a%2-b%2;math.abs(n)+d(a/2,b/2,n)};d(a^m,b^m)}
</code></pre>
<p>Ungolfed version. <a href="https://ato.pxeger.com/run?1=dZKxTsMwFEXF2q-4C5Ij3JLESdtU6oCYGDohJgSSkyYlKHEq16VCKF_C0gU-iq_gE3h2UiFFsOQpPtf3Xfv5_XOXyUqK4_Fjb4rx_Ovsu0mf88xgJUuFtxGwzgsUTC5wowxH6qrnvlg6AfAiK9T0t5LmabJtDizikLhA6k1MY4WXEE5ovdYDL47s5OYPfIGyAJNYWgSdm71W8Htkm6r8cE3qjHpJnCPEGKmtvaS2eWS6Y1bnkYh6U5aQWnfFrTtx2-Uj_ojaciqWtKP-Cmq6Dyb1ZrfAldby9f7W6FJtHijynSp_M29p1VSKFSyIOcKZZ9OH3oAJwSGm_7CEI44ci4YsnnFMu33JkEUBwbkI_t6ZxD5NJYii3jrwu-O13eD7-Z_ewQ8" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre class="lang-scala prettyprint-override"><code>object Main {
  def f(a: Int, b: Int): Int = {
    val m = Math.pow(4, a + b).toInt / 3
    def d(a: Int, b: Int, c: Int = 0): Int = {
      if (a == 0) return 0
      val newC = c + a % 2 - b % 2
      math.abs(newC) + d(a / 2, b / 2, newC)
    }
    d(a ^ m, b ^ m)
  }

  def main(args: Array[String]): Unit = {
    println(f(15, 27) == 2)
    println(f(33, 36) == 2)
    println(f(39, 54) == 4)
    println(f(57, 66) == 9)
    println(f(417, 831) == 4)
    println(f(9504, 14454) == 10)
  }
}
</code></pre>
</div>
<div id="pu2" class="pu"><h1>Python3, 56 bytes</h1>
<pre><code>p=lambda a,b,c=0:abs(c)+(a^b and p(b//2,a//2,c+a%2-b%2))
</code></pre>
<p>Thanks to <a href="https://codegolf.stackexchange.com/users/107561/loopy-walt">@loopy walt</a> for an elegant way to remove the mask completely by alternating the arguments (-50) and for golfing the result further (-19)</p>
<p>Now the solution is also quite fast!</p>
<h1>Python3, 125 bytes</h1>
<pre><code>def p(a,b):
 m=4**(a+b)//3
 def d(a,b,c=0):
  if a==0:return 0
  c+=a%2-b%2
  return abs(c)+d(a//2,b//2,c)
 return d(a^m,b^m)
</code></pre>
<p>New here, I feel like this is a fun/weird solution, I'll try to explain.
When using phatflips (as I do everyday) I feel more like I am moving some bits than flipping some bits (do you get what I mean ?).</p>
<p>With that in mind, let's define the generalized phatflip: it is the operation of flipping <em>and</em> swapping 2 adjacent digits. Note that if the bits are the same, it is a normal phatflip, and if the bits are different, it doesn't do anything. Trying to minimize the number of generalized phatflip is the same thing as trying to minimize the number of phatflip.</p>
<p>The swapping looks cooler than the flipping to me, so to get rid of the flipping part, let's use an alternate binary representation for numbers: if <span class="math-container">\$x_ny_n...x_0y_0\$</span> is a normal binary representation of n, the alternate representation is obtained by flipping all the <span class="math-container">\$y_i\$</span> , the even placed bits (e.g. 27 is normally 11011 but would be 01110 and 15 would not be 01111 but 11010). When adding leading digits with this alternate representation, make sure to alternate 0s and 1s.</p>
<p>With this alternate view, a phatflip just swaps adjacent bits! Now calculating the distance for swapping adjacent bits looks much easier! The distance between 27: 01110 and 15: 11010 is 2, and it is easy to know where the phatflips should be!</p>
<p>About the code, the variable m provides a xor-mask (1010...101) for the alternate view, and the function d calculates the distance for swapping adjacent bits. For a faster version, replace m=4**len(bin(a+b))//3 (the mask doesn't need to be that long). It can certainly be golfed further, I don't know that much about code golfing --'</p>
</div>
<div id="pu3" class="pu"><h1>Python3, 256 bytes</h1>
<p>Can certainly be golfed further.</p>
<pre class="lang-py prettyprint-override"><code>Y=lambda x:[*map(int,bin(x)[:1]+bin(x)[2:])]
def f(a,b):
 A,B=Y(a),Y(b)
 q,s=[(A,0)],[A]
 for i,c in q:
  if i[i[0]==0:]==B[B[0]==0:]:return c
  for j in range(len(i)-1):
   if i[j]==i[j+1]and(K:=i[:j]+[int(not i[j])]*2+i[j+2:])not in s:q+=[(K,c+1)];s+=[K]
</code></pre>
<p><a href="https://tio.run/##TY7JjoMwEETvfEUf7bhHwixZPOIAV74AWT4YAhmjxKwjZb6esaNE4tLqeqrqrvFv/RlsfB7nbauyu37UVw1PIQ8PPRJjV6yNJU8qBVfsvUZCURVc2w46orGmIoAci6wimmJFahrAhEsmSY4hVShzFUA3zGCwAWNhcnYwHRhpZKiyLBRuFLL4CDG36@9soXE2H@t9aNb21pJ7a4mhX9x/fN/oXchNxpW2V1IKJ0SvmHTNiR3Wl4OqQ8S8yRd/QQuLmJirWGLDOFXfixOl2sbZ5zrCU4ToRGnwAXGMEB/34IKQJjuQnhCOe0fCHTnHfIcuaZgg8CTxye0f" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu4" class="pu"><h1>JavaScript (ES6), 63 bytes</h1>
<p>A port of <a href="https://codegolf.stackexchange.com/a/270136/58563">Neil's greedy algorithm</a>.</p>
<p>Expects <code>(a)(b)</code>.</p>

<pre class="lang-javascript prettyprint-override"><code>a=&gt;g=b=&gt;a+b&amp;1?(h=k=&gt;(b&amp;k)%3?h(k*2):1+g(b^k))(3):b&amp;&amp;g(b&gt;&gt;1,a/=2)
</code></pre>
<p><a href="https://tio.run/##dc3dDoIgHAXw@56Cmxj/rBQBTTfwTdrA/CictGy9PjmqG6ubs53tt3Mu@qGn@na@3nejOzW@lV5L1UkjlY4MphXppZWKGGxhzaqe2E0KJY06Yo4WgDAoDcZzU4pudSxT8LUbJzc0@8F1pCUIUQFzojQHQHGM0tUSMBYAy/6CIgDBX4B/AZEHkL0XiiXgNIADo78XCpFwIJTzzwVN/BM" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Commented</h3>
<pre class="lang-javascript prettyprint-override"><code>a =&gt;              // outer function taking a
g = b =&gt;          // inner recursive function taking b
a + b &amp; 1 ?       // if exactly one of a and b is odd:
  ( h = k =&gt;      //   h is a recursive function taking a pattern k
    (b &amp; k) % 3 ? //   if b AND k is neither 0b00(…) nor 0b11(…):
      h(k * 2)    //     try again with k * 2
    :             //   else:
      1 +         //     increment the final result
      g(b ^ k)    //     and do a recursive call with b XOR k
  )(3)            //   initial call to g with k = 0b11
:                 // else:
  b &amp;&amp;            //   stop if b = 0
    g(            //   otherwise do a recursive call with:
      b &gt;&gt; 1,     //     floor(b / 2)
      a /= 2      //     and a / 2
    )             //   end of recursive call
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/270134/">270134</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




