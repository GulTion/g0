<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::275590</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>246</td><td>ZX Spectrum 48K/128K Basic</td><td>240918T121524Z</td><td><a href="https://codegolf.stackexchange.com/questions/275590/play-the-final-fantasy-prelude/275609#275609">Neil</a></td></tr>
<tr d-ix="1"><td>190</td><td>alsautils</td><td>240918T121158Z</td><td><a href="https://codegolf.stackexchange.com/questions/275590/play-the-final-fantasy-prelude/275608#275608">Themooni</a></td></tr>
<tr d-ix="2"><td>078</td><td>MATL 1 language</td><td>240917T230511Z</td><td><a href="https://codegolf.stackexchange.com/questions/275590/play-the-final-fantasy-prelude/275600#275600">Luis Men</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>ZX Spectrum 48K/128K Basic, 246 bytes</h1>
<pre><code>  10 LET t=VAL &quot;.13&quot;: FOR i=SGN
PI TO VAL &quot;8&quot;: READ a$,b$: FOR j
=NOT PI TO INT PI: FOR k=SGN PI
TO VAL &quot;4&quot;: BEEP t,VAL &quot;12&quot;*j+CO
DE b$(k)-VAL a$: NEXT k: NEXT j:
 FOR j=INT PI TO NOT PI STEP -SG
N PI: FOR k=VAL &quot;5&quot; TO VAL &quot;2&quot; S
TEP -SGN PI: BEEP t,VAL &quot;12&quot;*j+C
ODE b$(k)-VAL a$: NEXT k: NEXT j
: NEXT i: DATA &quot;60&quot;,&quot;0247&lt;&quot;,&quot;63&quot;
,&quot;0237&lt;&quot;,&quot;60&quot;,&quot;0247&lt;&quot;,&quot;63&quot;,&quot;0237
&lt;&quot;,&quot;67&quot;,&quot;0247&lt;&quot;,&quot;65&quot;,&quot;0247&lt;&quot;,&quot;64
&quot;,&quot;047;&lt;&quot;,&quot;62&quot;,&quot;047;&lt;&quot;
</code></pre>
<p>The above is how the program lists on screen as the ZX Spectrum's screen is 32 characters wide. The byte count was calculated by subtracting the system variables for the end and start of the program; this will be one less than the save file length as an empty program has a save file length of 1. Unfortunately I was using an online emulator which only has a save snapshot option, so you'll have to retype this yourself to test it. In 48K mode all of the keywords are tokenised so check the emulator's keyboard layout to find out how to enter the appropriate tokens, but in 128K mode you can type the words and they will be tokenised for you. In both modes you may also need to use the keyboard layout to enter some special characters such as <code>-</code> or <code>*</code>. Explanation:</p>
<pre><code>  10
</code></pre>
<p>Arbitrary line number (always costs 2 bytes).</p>
<pre><code>LET t=VAL &quot;.13&quot;
</code></pre>
<p>Timing variable, adjusted to make the overall run time about 48s of real time. (Processing overhead makes the program take about 50% longer than the actual notes).</p>
<pre><code>FOR i=SGN PI TO VAL &quot;8&quot;
</code></pre>
<p>Repeat <code>8</code> times. <code>VAL</code> is used as otherwise numbers take up six extra bytes for the internal representation, but <code>SGN PI</code> is even shorter way of expressing <code>1</code>.</p>
<pre><code>READ a$,b$
</code></pre>
<p>Get the tonic and arpeggio of the next chord.</p>
<pre><code>FOR j=NOT PI TO INT PI
</code></pre>
<p>Repeat for four octaves; <code>NOT PI</code> is <code>0</code> and <code>INT PI</code> is of course <code>3</code>.</p>
<pre><code>FOR k=SGN PI TO VAL &quot;4&quot;
</code></pre>
<p>Repeat for four notes.</p>
<pre><code>BEEP t,VAL &quot;12&quot;*j+CODE b$(k)-VAL a$
</code></pre>
<p>Compute the note index (<code>Câ‚„=0</code>) and play it.</p>
<pre><code>NEXT k: NEXT j
</code></pre>
<p>Repeat for the rest of the ascending arpeggio.</p>
<pre><code>FOR j=INT PI TO NOT PI STEP -SGN PI
</code></pre>
<p>Loop back down through the octaves.</p>
<pre><code>FOR k=VAL &quot;5&quot; TO VAL &quot;2&quot; STEP -SGN PI
</code></pre>
<p>Loop down through the notes.</p>
<pre><code>BEEP t,VAL &quot;12&quot;*j+CODE b$(k)-VAL a$
</code></pre>
<p>Compute and play the note.</p>
<pre><code>NEXT k: NEXT j: NEXT i
</code></pre>
<p>Repeat for the remainder of the prelude.</p>
<pre><code>DATA &quot;60&quot;,&quot;0247&lt;&quot;,&quot;63&quot;,&quot;0237&lt;&quot;,&quot;60&quot;,&quot;0247&lt;&quot;,&quot;63&quot;,&quot;0237&lt;&quot;,&quot;67&quot;,&quot;0247&lt;&quot;,&quot;65&quot;,&quot;0247&lt;&quot;,&quot;64&quot;,&quot;047;&lt;&quot;,&quot;62&quot;,&quot;047;&lt;&quot;
</code></pre>
<p>Tonic and arpeggio data.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/bear24rw/alsa-utils" rel="nofollow noreferrer">alsa-utils</a>, 190 bytes</h1>
<p>xxd dump:</p>
<pre><code>00000000: 4d54 6864 0000 0006 0001 0002 00dc 4d54  MThd..........MT
00000010: 726b 0000 0013 00ff 5103 07a1 2000 ff58  rk......Q... ..X
00000020: 0404 0218 0801 ff2f 004d 5472 6b00 0000  ......./.MTrk...
00000030: 8d00 c000 0090 3050 0034 5000 3750 8670  ......0P.4P.7P.p
00000040: 3000 0034 0000 3700 0039 5000 3d50 0040  0..4..7..9P.=P.@
00000050: 5086 7030 5000 3450 0037 5000 3900 003d  P.p0P.4P.7P.9..=
00000060: 0000 4000 8670 3000 0034 0000 3700 0039  ..@..p0..4..7..9
00000070: 5000 3d50 0040 5086 7035 5000 3900 0039  P.=P.@P.p5P.9..9
00000080: 5000 3c50 003d 0000 4000 8670 3500 0038  P.&lt;P.=..@..p5..8
00000090: 5000 3900 003c 0000 3c50 003f 5086 7038  P.9..&lt;..&lt;P.?P.p8
000000a0: 0000 3a50 003c 0000 3e50 003f 0000 4150  ..:P.&lt;..&gt;P.?..AP
000000b0: 8670 3a00 003e 0000 4100 01ff 2f00       .p:..&gt;..A.../.
</code></pre>
<p>Environment: A modern linux computer, with alsa installed (default in many distributions, though becoming superseded by pipewire), and a midi card installed (could be a USB midi card) available at midi port x.</p>
<p>to play:
save code to a file, then</p>
<pre><code>aplaymidi --port=x.0 &lt;filepath&gt;
</code></pre>
<p>as you can probably guess, this is just a straight up midi file I generated with the appropriate notes and tempo.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a> (1 language), 78 bytes</h1>
<pre><code>0'!4XC@nRAxt~&amp;'F5:ZaKe16:Y)tP[AaABOlHN]0Y(_&amp;vhYs&quot;1875:YPE*76/@12/W*Y,E]&amp;h1e4Y#
</code></pre>
<p>This uses equal temperament, with a C<sub>3</sub> frequency of 131.6 Hz (more accurate values could be achieved at the cost of 2 or 3 bytes, namely replacing <code>76</code> in the code by <code>76.4</code> or <code>76.45</code>).</p>
<p>The timbre corresponds to a sine wave hard-clipped at half its amplitude (this clipping costs 1 byte but produces nicer sound than a pure sine wave; the latter can be obtained by removing the <code>E</code> near the end of the code).</p>
<p>Try it at <a href="https://matl.io/?code=0%27%214XC%40nRAxt%7E%26%27F5%3AZaKe16%3AY%29tP%5BAaABOlHN%5D0Y%28_%26vhYs%221875%3AYPE%2a76%2F%4012%2FW%2aY%2CE%5D%26h1e4Y%23&amp;inputs=&amp;version=22.8.0" rel="nofollow noreferrer">MATL online</a>!</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/275590/">275590</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




