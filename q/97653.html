<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::97653</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>033</td><td>Raku Perl 6 rakudo</td><td>240723T235309Z</td><td><a href="https://codegolf.stackexchange.com/questions/97653/approximate-arcsinc/274378#274378">bb94</a></td></tr>
<tr d-ix="1"><td>019</td><td>JCram</td><td>240723T133842Z</td><td><a href="https://codegolf.stackexchange.com/questions/97653/approximate-arcsinc/274354#274354">Kamila S</a></td></tr>
<tr d-ix="2"><td>068</td><td>Scala</td><td>230603T063056Z</td><td><a href="https://codegolf.stackexchange.com/questions/97653/approximate-arcsinc/261487#261487">138 Aspe</a></td></tr>
<tr d-ix="3"><td>050</td><td>Haskell</td><td>161214T043851Z</td><td><a href="https://codegolf.stackexchange.com/questions/97653/approximate-arcsinc/103124#103124">theideas</a></td></tr>
<tr d-ix="4"><td>028</td><td>ised</td><td>161129T200225Z</td><td><a href="https://codegolf.stackexchange.com/questions/97653/approximate-arcsinc/101527#101527">orion</a></td></tr>
<tr d-ix="5"><td>364</td><td>Axiom</td><td>161128T234451Z</td><td><a href="https://codegolf.stackexchange.com/questions/97653/approximate-arcsinc/101420#101420">user5898</a></td></tr>
<tr d-ix="6"><td>091</td><td>C++ 11</td><td>161027T102812Z</td><td><a href="https://codegolf.stackexchange.com/questions/97653/approximate-arcsinc/97686#97686">Karl Nap</a></td></tr>
<tr d-ix="7"><td>028</td><td>Mathematica</td><td>161027T132041Z</td><td><a href="https://codegolf.stackexchange.com/questions/97653/approximate-arcsinc/97707#97707">user5863</a></td></tr>
<tr d-ix="8"><td>017</td><td>MATL</td><td>161027T125217Z</td><td><a href="https://codegolf.stackexchange.com/questions/97653/approximate-arcsinc/97704#97704">Luis Men</a></td></tr>
<tr d-ix="9"><td>052</td><td>Mathematica</td><td>161027T112552Z</td><td><a href="https://codegolf.stackexchange.com/questions/97653/approximate-arcsinc/97695#97695">LegionMa</a></td></tr>
<tr d-ix="10"><td>099</td><td>C</td><td>161027T100031Z</td><td><a href="https://codegolf.stackexchange.com/questions/97653/approximate-arcsinc/97683#97683">Karl Nap</a></td></tr>
<tr d-ix="11"><td>078</td><td>Python 2</td><td>161027T093649Z</td><td><a href="https://codegolf.stackexchange.com/questions/97653/approximate-arcsinc/97681#97681">Karl Nap</a></td></tr>
<tr d-ix="12"><td>034</td><td>Haskell</td><td>161027T052945Z</td><td><a href="https://codegolf.stackexchange.com/questions/97653/approximate-arcsinc/97654#97654">xnor</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://raku.org" rel="nofollow noreferrer">Raku (Perl 6) (rakudo)</a>, 33 bytes</h1>
<p>Port of <a href="https://codegolf.stackexchange.com/a/97654/14109">xnor’s Haskell answer.</a></p>
<pre class="lang-perl prettyprint-override"><code>{(0,1e-3...{-$^a*$_&gt;$a.sin})/1e3}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72kKDG7dMHy3EoFtTQF26WlJWm6FjcVqzUMdAxTdY319PSqdVXiErVU4u1UEvWKM_NqNfUNU41roQrN0_KLFEDKjBSquRQUgKaoVCjYKqjEK-grGBpYA4WKEysVlECCdgrVaRoqFZq1StZcUO0LFkBoAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://palaiologos.rocks/jcram/jcram.html" rel="nofollow noreferrer">JCram</a>, 19 bytes (SBCS)</h1>
<pre><code>≥MA⍡t⍙ⒹⒶ⍫π⁶2⌹Ⓕ∄⍶⌿⍡⏚
</code></pre>
<p>Encodes the following ES6 program:</p>
<pre><code>f=(n,k=1)=&gt;Math.abs(Math.sin(k)+n*k)&gt;1e-5?f(n,Math.sin(k)+n*k+k):k
</code></pre>
<p>Inspired by the recursive Python answer.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.scala-lang.org/" rel="nofollow noreferrer">Scala</a>, 68 bytes</h1>
<p>Modified from <a href="https://codegolf.stackexchange.com/a/97654/110802">@xnor's Haskell answer</a>.</p>
<hr />
<p>Golfed version. <a href="https://tio.run/##bY9BC4JAFITv/op33C1ctG7CCkHXThEdIuKpz9zYXWXdwgh/u4ke9TTMxzDMtDlqHOrsRbmHEyoLvwCgoBLMaBi6Z5vAwTn83s7eKfu88wQuVnmQUxKgGanXlpUsjMSO8yWMFzAS0Qpby82FfRB8UEOZwLF@Z5pkOivIwch0HEZohPLk0NNUzh7bmMI9F4Wrm2ulNLFOpgZ9JdrxVsdTCWG3MVxUhMXQD38" rel="nofollow noreferrer">Try it online!</a></p>
<pre class="lang-scala prettyprint-override"><code>m=&gt;Stream.iterate(0.0)(_+1e-3).dropWhile(x=&gt;math.sin(x)&gt;= -x*m).head
</code></pre>
<p>Ungolfed version. <a href="https://tio.run/##dZBLC8IwEITv/RVzTLQtrd6KCopXT@JJRGJNayRNpI0Qkf72al8KPk7ZzH6Z2U0RM8mqSh/OPDZYMaFwd4AjT5A9L4TlaRFhnufstl2bXKh0RyNslDCYNiRweapGKpIQL/BHlH6L4ZcY@MEP7RfXGpZON1RCsghLfT1ITvviNUkNXJURksRaHYURWr2ZGRZaS86UCxZ/ttrKhf1vDogEb2NiKYXtOlwW/DO5j@nP@kGDN7ugw22dvmLm5BeiRjCBl2EA62KPIULujV0E7ReUTlU9AA" rel="nofollow noreferrer">Try it online!</a></p>
<pre class="lang-scala prettyprint-override"><code>object Main {
  def main(args: Array[String]): Unit = {
    println(f(-0.2))
    println(f(-0.1))
    println(f(0.0))
    println(f(0.1))
    println(f(0.2))
  }

  def f(m: Double): Double = {
    def until(condition: Double =&gt; Boolean, action: Double =&gt; Double, x: Double): Double = {
      if (condition(x)) x
      else until(condition, action, action(x))
    }

    until(x =&gt; Math.sin(x) &lt; -m * x, _ + 1e-3, 0)
  }
}
</code></pre>
</div>
<div id="pu3" class="pu"><h2>Haskell, 50 bytes</h2>

<p>I just learned about newton's method in my calc class, so here goes in <code>haskell</code> using newton's method. </p>

<p><code>f m=foldl(\x _-&gt;x-(sin x+m*x)/(cos x+m))0[1..10]</code></p>
</div>
<div id="pu4" class="pu"><h1><a href="http://ised.sourceforge.net/" rel="nofollow noreferrer">ised</a>: <s>32</s> 28 bytes</h1>

<p>Using Newton's iteration starting from π:</p>

<pre><code>{:x-{sinx+$1*x}/{cosx+$1}:}:::pi
</code></pre>

<p>The argument is passed in <code>$1</code>, which can be taken from a file, like this:</p>

<pre><code>ised --l inputfile.txt 'code'
</code></pre>

<p>A bit less stable, but shorter version:</p>

<pre><code>{:{x-tanx}/{1+$1/cosx}:}:::pi
</code></pre>

<p>Sometimes it throws iteration limit warnings but the accuracy seems fine considering the conditions.</p>

<p>Unicode version (same bytecount):</p>

<pre><code>{λ{x-tanx}/{1+$1/cosx}}∙π
</code></pre>

<p>Starting from 4 cuts another byte and seems to converge to the same values</p>

<pre><code>{λ{x-tanx}/{1+$1/cosx}}∙4
</code></pre>
</div>
<div id="pu5" class="pu"><h1>Axiom, 364 bytes</h1>

<pre><code>bisezione(f,a,b)==(fa:=f(a);fb:=f(b);a&gt;b or fa*fb&gt;0=&gt;"fail";e:=1/(10**(digits()-3));x1:=a;v:=x2:=b;i:=1;y:=f(v);if(abs(y)&gt;e)then repeat(t:=(x2-x1)/2.0;v:=x1+t;y:=f(v);i:=i+1;if i&gt;999 or t&lt;=e or abs(y)&lt;e then break;if fb*y&lt;0 then(x1:=v;fa:=y)else if fa*y&lt;0 then(x2:=v;fb:=y)else break);i&gt;999 or abs(y)&gt;e=&gt;"fail";v)
macro g(m) == bisezione(x+-&gt;(sin(x)+m*x), 0.1, 4.3)
</code></pre>

<p>ungolf</p>

<pre><code>bisezione(f,a,b)==
    fa:=f(a);fb:=f(b)
    a&gt;b or fa*fb&gt;0=&gt;"fail"
    e:=1/(10**(digits()-3))
    x1:=a;v:=x2:=b;i:=1;y:=f(v)
    if(abs(y)&gt;e) then
      repeat
        t:=(x2-x1)/2.0;v:=x1+t;y:=f(v);i:=i+1
        if i&gt;999 or t&lt;=e or abs(y)&lt;e then break
        if      fb*y&lt;0 then(x1:=v;fa:=y)
        else if fa*y&lt;0 then(x2:=v;fb:=y)
        else break
    i&gt;999 or abs(y)&gt;e=&gt;"fail"
    v

macro g(m) == bisezione(x+-&gt;(sin(x)+m*x), 0.1, 4.3)
</code></pre>

<p>results </p>

<pre><code>(3) -&gt; g(0.2)
   AXIOM will attempt to step through and interpret the code.
   (3)  4.1046198505 579058527
                                                              Type: Float
(4) -&gt; g(-0.1)
   (4)  2.8523418944 500916556
                                                              Type: Float
(5) -&gt; g(-0.25)
   (5)  2.4745767873 698290098
                                                              Type: Float
</code></pre>
</div>
<div id="pu6" class="pu"><h1>C++ 11, <s>92</s> 91 bytes</h1>

<p>-1 byte for using <code>#import</code></p>
<pre class="lang-c++ prettyprint-override"><code>#import&lt;cmath&gt;
using F=float;F f(F m,F x=1){F y=sin(x)+m*x;return fabs(y)&gt;1e-4?f(m,x+y):x;}
</code></pre>
</div>
<div id="pu7" class="pu"><h1>Mathematica, 28 bytes</h1>

<pre><code>x/.FindRoot[Sinc@x+#,{x,1}]&amp;
</code></pre>

<p>Searches for a numerical root from the initial guess <code>x=1</code>. Test cases:</p>

<pre><code>% /@ {-0.25, -0.1, 0.2}
(* {2.47458, 2.85234, 4.10462} *)
</code></pre>
</div>
<div id="pu8" class="pu"><h1><a href="http://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, 17 bytes</h1>
<pre><code>`@2e3/tY,wG_*&gt;}4M
</code></pre>
<p>This uses linear search on the positive real axis, so it is slow. All test cases end within 1 minute in the online compiler.</p>
<p><a href="http://matl.tryitonline.net/#code=YEAyZTMvdFksd0dfKj59NE0&amp;input=LTAuMjU" rel="nofollow noreferrer">Try it online!</a></p>
<h3>Explanation</h3>
<pre><code>`         % Do...while
  @       %   Push iteration index, starting at 1
  2e3/    %   Divide by 2000
  t       %   Duplicate
  Y,      %   Sine
  w       %   Swap
  G_*     %   Multiply by minus the input
  &gt;       %   Does the sine exceed that? If so, next iteration
}         % Finally (execute after last iteration, before exiting loop)
   4M     %   Push input of sine function again
          % Implicit end
          % Implicit display
</code></pre>
</div>
<div id="pu9" class="pu"><h1>Mathematica, 52 bytes</h1>

<pre><code>NSolve[Sin@x==-x#,x,Reals][[;;,1,2]]~DeleteCases~0.&amp;
</code></pre>

<p>Anonymous function. Takes a number as input, and returns a list of numbers as output. Just uses <code>NSolve</code> to solve the approximate equation.</p>
</div>
<div id="pu10" class="pu"><h1>C, 99 bytes</h1>

<pre class="lang-c prettyprint-override"><code>#include&lt;math.h&gt;
float f(float m){float x=1,y;do{x=(y=sin(x)+m*x)+x;}while(fabs(y)&gt;1e-4);return x;}
</code></pre>
<p>ungolfed:</p>
<pre class="lang-c prettyprint-override"><code>#include&lt;math.h&gt;
float f(float m){
 float x=1,y;
 do{x=(y=sin(x)+m*x)+x;}while(fabs(y)&gt;1e-4);
 return x;
}
</code></pre>
</div>
<div id="pu11" class="pu"><h1>Python 2, <s>81</s> 78 bytes</h1>

<h3>Fixpoint iteration</h3>
<p>As recursive lambda</p>
<pre class="lang-python prettyprint-override"><code>from math import*
f=lambda m,x=1:abs(sin(x)+m*x)&gt;1e-4and f(m,sin(x)+m*x+x)or x
</code></pre>
<p>As loop (81 bytes):</p>
<pre class="lang-python prettyprint-override"><code>from math import*
m=input()
x=1
while abs(sin(x)+m*x)&gt;1e-4:x=sin(x)+m*x+x
print x
</code></pre>
</div>
<div id="pu12" class="pu"><h2>Haskell, 34 bytes</h2>

<pre class="lang-python prettyprint-override"><code>f m=until(\x-&gt;sin x&lt; -m*x)(+1e-3)0
</code></pre>

<p>Counts <code>x</code> up from 0 by 0.001 until <code>sin(x)&lt; -m*x</code>. </p>

<p>Ouput examples</p>

<pre><code>f -0.2 -&gt;   2.595999999999825
f -0.1 -&gt;   2.852999999999797
f  0.0 -&gt;   3.141999999999765
f  0.1 -&gt;   3.4999999999997256
f  0.2 -&gt;   4.1049999999997056
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/97653/">97653</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




