<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::266518</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>073</td><td>Python</td><td>231106T213259Z</td><td><a href="https://codegolf.stackexchange.com/questions/266518/encode-the-input-to-exclude-a-given-character-part-1/266545#266545">SuperSto</a></td></tr>
<tr d-ix="1"><td>4610</td><td>Jelly</td><td>231106T131213Z</td><td><a href="https://codegolf.stackexchange.com/questions/266518/encode-the-input-to-exclude-a-given-character-part-1/266533#266533">Jonathan</a></td></tr>
<tr d-ix="2"><td>064</td><td>Jelly</td><td>231106T180004Z</td><td><a href="https://codegolf.stackexchange.com/questions/266518/encode-the-input-to-exclude-a-given-character-part-1/266542#266542">Nick Ken</a></td></tr>
<tr d-ix="3"><td>059</td><td>JavaScript ES6</td><td>231106T091312Z</td><td><a href="https://codegolf.stackexchange.com/questions/266518/encode-the-input-to-exclude-a-given-character-part-1/266523#266523">Arnauld</a></td></tr>
<tr d-ix="4"><td>061</td><td>JavaScript Node.js</td><td>231106T171715Z</td><td><a href="https://codegolf.stackexchange.com/questions/266518/encode-the-input-to-exclude-a-given-character-part-1/266539#266539">corvus_1</a></td></tr>
<tr d-ix="5"><td>059</td><td>Ruby</td><td>231106T134745Z</td><td><a href="https://codegolf.stackexchange.com/questions/266518/encode-the-input-to-exclude-a-given-character-part-1/266534#266534">G B</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 73 bytes</h1>
<pre class="lang-python prettyprint-override"><code>e=lambda s,c:s.hex().replace(c,'#')
d=lambda s,c:b''.fromhex(s.replace('#',c))
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72soLIkIz9vwYKlpSVpuhY3_VJtcxJzk1ISFYp1kq2K9TJSKzQ09YpSC3ISk1M1knXUldU1uVKQ1SSpq-ulFeXnglQWw1UC1ekka2pCTXUpKMrMK9FI1UhS8kjNycnXUSjPL8pJUVTSUTJU0tTkgkin4FIAUQUxC-ZSAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Inspired by Arnauld's JS answer. Converts to/from hex, replacing the excluded character with a &quot;#&quot;.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 4 + 6 = 10 bytes</h1>
<p>(4 + 4 = 8 bytes if we do not need to handle the empty string, remove <code>¹¡</code>.)</p>
<p>Uses the same approach as others, port of <a href="https://codegolf.stackexchange.com/a/266522/53748">bsoelch's Python answer</a>.</p>
<h3><a href="https://tio.run/##AS0A0v9qZWxsef//T@G5vuG5o0v/w6fhuKJ9//8iMjAxIGFuZCAzMDEsNDAxIv8iMCI" rel="nofollow noreferrer" title="Jelly – Try It Online">Encoder</a></h3>
<p>A dyadic Link that accepts the plaintext on the left and the character on the right and yields the ciphertext.</p>
<pre><code>OṾṣK - Link: plaintext, P; character, C  e.g. P=&quot;20 cats&quot;; C='0'
O    - cast P to ordinals                      [50,48,32,99,97,116,115]
 Ṿ   - unevaluate                               &quot;50,48,32,99,97,116,115&quot;
  ṣ  - split at occurrences of C             [&quot;5&quot;,&quot;,48,32,99,97,116,115&quot;]
   K - join with spaces                         &quot;5 ,48,32,99,97,116,115&quot;

                     (note that if C=' ' we get &quot;50,48,32,99,97,116,115&quot;)
</code></pre>
<h3><a href="https://tio.run/##y0rNyan8///hjk1ZYYd2Hlr4cHfP/8PLH@5YVPv/v5Kpgo6JhY6JpY6xkY6luY6hoYKOoYICiGdqCJUxMdExNYKwlf4rGSgBAA" rel="nofollow noreferrer" title="Jelly – Try It Online">Decoder</a></h3>
<p>A dyadic Link that accepts the ciphertext on the left and the character on the right and yields the plaintext.</p>
<pre><code>ḲjV¹¡Ọ - Link: cyphertext X; character C  e.g. X=&quot;5 ,48,32,99,97,116,115&quot;, C='0'
Ḳ      - split X at spaces                    [&quot;5&quot;,&quot;,48,32,99,97,116,115&quot;]
 j     - join with C                             &quot;50,48,32,99,97,116,115&quot;
   ¹¡  - if truthy (i.e. X was non-empty):
  V    -   evaluate as Jelly code                [50,48,32,99,97,116,115]
     Ọ - cast to characters                      &quot;20 cats&quot;
</code></pre>
<p>Without <code>¹¡</code> an empty ciphertext evaluates (<code>V</code>) to zero and then that will cast to the NULL byte.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 6 + 4 bytes</h1>
<h2>Encoder</h2>
<pre><code>Oḅȷx@¬
</code></pre>
<h2>Decoder</h2>
<pre><code>LbȷỌ
</code></pre>
<p><a href="https://tio.run/##y0rNyan875N0YvvD3T3//R/uaD2xvcLh0Jr/1o8a5upYP2rcCWTMUdC1UwDyrQ8vf7hjkbXPsS5rJZBoQU5psQKIkZtflAqUP9WNqhio@/DGk9P//0@r@G8AAA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<p>Both are full programs. The encoder takes a string (in quotes) as the first argument and a character (without quotes) as its second argument. The decoder takes the encoded string (in quotes) as the first argument and ignores the second argument (but doesn’t mind if it is the excluded character). This takes inspiration from <a href="https://codegolf.stackexchange.com/a/266521/42248">@CommandMaster’s 05AB1E answer</a> so be sure to upvote that one too!</p>
<p>Printable white space does not work for this answer (as permitted).</p>
<h2>Explanations</h2>
<h3>Encoder</h3>
<pre><code>O      | Codepoints of string
 ḅȷ    | Convert from base 1000
   x@  | Repeat the character as many times as this
     ¬ | Not (will be 1s for 0 and 0s for any other printable ASCII character)
</code></pre>
<h3>Decoder</h3>
<pre><code>L    | Length
 bȷ  | Convert to base 1000
   Ọ | Convert from code points to ASCII and implicitly print
</code></pre>
</div>
<div id="pu3" class="pu"><h1>JavaScript (ES6), 59 bytes</h1>
<h3>Encoder (30 bytes)</h3>
<p>Expects <code>(string)(char)</code>.</p>

<pre class="lang-javascript prettyprint-override"><code>s=&gt;c=&gt;btoa(s).split(c).join`#`
</code></pre>
<p><a href="https://tio.run/##Fcu9DsIgEADgvU9x1gGIShfj0tDBycnFFyil0NCcvYbDv6dHXb/km@3TsktxzYeFRl@aBlbCT4iIECjB9Yd65mrIZMEAg@ng/AjBJx0S3SXDDoRQOtMtp7hMUgyW/ekoVFtVwRQ2nTPdf0tWmleMWTqlZ4pLv@2Lo4UJvUaaZJD1xSPSHl6UcNzUStbvWqm2fAE" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Decoder (29 bytes)</h3>
<p>Expects <code>(encoded_string)(char)</code>.</p>

<pre class="lang-javascript prettyprint-override"><code>s=&gt;c=&gt;atob(s.replace(/#/g,c))
</code></pre>
<p><a href="https://tio.run/##FcuxDoIwFEDRna94gaFtxHYxxsSUwQVZTAyJe6ktAQuP9CHRr0dcb87tzWLIxm6a9yM@3aoUTBi@vgsBPEa4bVH2lJgZG9BAoAu4vL13UfqIAyfYAWM5sMaQOx6YkDPWc@zGlotzkni9ki6sLv4/JxndFIx1XGWqza0Qq8WRMDgZsOWep3X5oKY8UXV9LnbIXtVd61Tw9JNu9gc" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Explanation</h3>
<p>The encoder turns the input string <code>s</code> into a base-64 string, which may only contain <code>[a-z]</code>, <code>[A-Z]</code>, <code>[0-9]</code>, <code>+</code>, <code>/</code> and <code>=</code>. Then it replaces all occurrences of the forbidden character <code>c</code> with <code>#</code>. If <code>c</code> is not a base-64 character, this 2nd step has no effect at all. (In particular, note that the base-64 string can't possibly contain any <code>#</code>.)</p>
<p>The decoder does the exact opposite: it replaces all occurrences of <code>#</code> with the forbidden character and decodes this as a base-64 string.</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 61 bytes</h1>
<pre class="lang-javascript prettyprint-override"><code>e=s=&gt;c=&gt;(s+&quot;&quot;).split(c).join`#`
d=s=&gt;c=&gt;s.replace(/#/g,c).split`,`
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=XdBBCsIwEAXQvaeI6WaCMd0KUkFR8AC6b0lGqYREkkj1LG660CN4GG9jbRMXbv8f3gxzfxirsG2fl3CYzt4rLHyxkMUC_IRSJvxZ1wEkEydbmzIrRyr2Xjg860oi5Fl-5DKOlryM0ktjIGhkpytSEASDDdnhNWz6zAETQwt0i1pbThrrtBpTxoByyuYjaY23GoW2R4hQl35ZhYlN6BoTOnT9tn1twmzpXHUD9RN6nP3xEWTz4fj0jg8" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>(It's five bytes less than on ATO because of <code>e=</code>, newline and <code>d=</code>.). Encodes as a list of ascii codes, which normally contain only digits and commas. Then the forbidden character is replaced with <code>#</code>.</p>
<p>The decoder does the reverse and returns an array of strings of ascii codes, like <code>[&quot;72&quot;,&quot;101&quot;, ...]</code>. There are JS functions that interpret this as a sequence of integers (in particular <code>new Uint8Array</code>). An iterable of integers <a href="https://codegolf.meta.stackexchange.com/a/8964">is a string</a>.</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 59 bytes</h1>

<pre class="lang-ruby prettyprint-override"><code>f=-&gt;s,c{&quot;#{s.bytes}&quot;.tr c,?.}
g=-&gt;s,c{(eval s.tr ?.,c).pack&quot;U*&quot;}
</code></pre>
<p><a href="https://tio.run/##KypNqvz/P81W165YJ7laSbm6WC@psiS1uFZJr6RIIVnHXq@WKx0qq5FalpijUAySsNfTSdbUK0hMzlYK1VKq/V9hmxatZGhkbJJYnJKmpGNvFMtVoFABxOnRFToKQO5/AA" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
<p>TIO says 64 byes, because 2 function headers and a newline are included.</p>
<p>Inspired by Arnauld's JS answer.</p>
<h3>Encode</h3>
<p>First convert the string to a sequence of 8-bit values, then convert it to a string again, and finally replace the character to be excluded with a dot. The first step is equivalent to <code>unpack</code> using UTF-8 byte values, only slightly shorter.</p>
<h3>Decode</h3>
<p>Reverse order: first replace the character that was excluded, then convert it to an array of 8-bit values, and finally pack it to a string. This is equivalent to mapping the <code>&amp;:chr</code> method on the list, and then joining the characters, only slightly shorter.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/266518/">266518</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




