<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::266518</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>094</td><td>Jelly</td><td>231106T180004Z</td><td><a href="https://codegolf.stackexchange.com/questions/266518/encode-the-input-to-exclude-a-given-character-part-1/266542#266542">Nick Ken</a></td></tr>
<tr d-ix="1"><td>086</td><td>Python</td><td>231106T090857Z</td><td><a href="https://codegolf.stackexchange.com/questions/266518/encode-the-input-to-exclude-a-given-character-part-1/266522#266522">bsoelch</a></td></tr>
<tr d-ix="2"><td>549</td><td>Vyxal Ss</td><td>231106T092933Z</td><td><a href="https://codegolf.stackexchange.com/questions/266518/encode-the-input-to-exclude-a-given-character-part-1/266525#266525">lyxal</a></td></tr>
<tr d-ix="3"><td>459</td><td>Jelly</td><td>231106T131213Z</td><td><a href="https://codegolf.stackexchange.com/questions/266518/encode-the-input-to-exclude-a-given-character-part-1/266533#266533">Jonathan</a></td></tr>
<tr d-ix="4"><td>068</td><td>Python</td><td>231106T213259Z</td><td><a href="https://codegolf.stackexchange.com/questions/266518/encode-the-input-to-exclude-a-given-character-part-1/266545#266545">SuperSto</a></td></tr>
<tr d-ix="5"><td>059</td><td>JavaScript ES6</td><td>231106T091312Z</td><td><a href="https://codegolf.stackexchange.com/questions/266518/encode-the-input-to-exclude-a-given-character-part-1/266523#266523">Arnauld</a></td></tr>
<tr d-ix="6"><td>061</td><td>JavaScript Node.js</td><td>231106T171715Z</td><td><a href="https://codegolf.stackexchange.com/questions/266518/encode-the-input-to-exclude-a-given-character-part-1/266539#266539">corvus_1</a></td></tr>
<tr d-ix="7"><td>059</td><td>Ruby</td><td>231106T134745Z</td><td><a href="https://codegolf.stackexchange.com/questions/266518/encode-the-input-to-exclude-a-given-character-part-1/266534#266534">G B</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 9 + 4 bytes</h1>
<h2><a href="https://tio.run/#%23y0rNyan875N0YvvD3T3//R/uaAWxug/PeLhzWsXJ6fr///9XUlDSUUqrUAIA" rel="nofollow noreferrer">Encoder</a></h2>
<pre><code>OḅȷịØṖxɗ/
</code></pre>
<h2><a href="https://tio.run/#%23y0rNyan8/98n6cT2h7t7/v//b08X8D8NAA" rel="nofollow noreferrer">Decoder</a></h2>
<pre><code>LbȷỌ
</code></pre>
<p><a href="https://tio.run/##y0rNyan875N0YvvD3T3//R/uaAWxug/PeLhzWsXJ6fr/sx41zNWxftQwR0HXTgHItj7cfminIVCJtc@jhpkqxzZZK4EkC3JKixVAjNz8olSQMoQOoBLDI/uPdR3r4nq4cxXY5HCdQ0sfNa053A4kIv//V9JQ0lFKq1ACAA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<p>Both are monadic links. The encoder takes a pair of Jelly strings (character followed by string to encode). The decoder takes the encoded string as the first argument and ignores the second argument (but doesn’t mind if it is the excluded character). This takes inspiration from <a href="https://codegolf.stackexchange.com/a/266521/42248">@CommandMaster’s 05AB1E answer</a> so be sure to upvote that one too!</p>
<p>Now fixed (properly!) to handle all printable ASCII and return strings.</p>
<h2>Explanations</h2>
<h3>Encoder</h3>
<pre><code>O        | Codepoints of string
 ḅȷ      | Convert from base 1000
   x@    | Repeat the character as many times as this
     =”0 | Equals “0” (will be 1s for 0 and 0s for any other printable ASCII character)
</code></pre>
<h3>Decoder</h3>
<pre><code>L    | Length
 bȷ  | Convert to base 1000
   Ọ | Convert from code points to ASCII and implicitly print
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 86 bytes</h1>
<p><em>inspired by <a href="https://codegolf.stackexchange.com/questions/266518/encode-the-input-to-exclude-a-given-character-part-1/266523#266523">Arnauld's JavaScript solution</a></em></p>
<p><em>-25 bytes, thanks to  corvus_192</em></p>
<p>Encoder:</p>
<pre class="lang-python prettyprint-override"><code>lambda s,c:str([*map(ord,s)]).replace(c,&quot;#&quot;)
</code></pre>
<p>Decoder:</p>
<pre class="lang-python prettyprint-override"><code>lambda s,c:map(chr,eval(s.replace(&quot;#&quot;,c)))
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=fdI7DgIhEAbg2HoKgg0Y3Ox2xsTeA5hYGAsEjJhx2QBqvIiNjY3eSU8juz7R1WS6-fgnk2F_KrZ-bvLD4bjys073PFZ94Mup5Mgx0XPeknF7yQtirGSOTmhiVQFcKCIYbmHalO-8hGJumVpzIO5JA2SCUnobcWnsCqtzTzBOFkbnJICBAjCY4QwH1ozb8gPE6lMHm2VpWlbg6a-82MSwJnKonA-U_4p79WNUE1VtgkbGggwv0N-F31lsa4I3GgBpj2ZcA66OU5_87e74dp7HT7gC" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>encodes string as an array sequence of character-codes</p>
<hr />
<h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 182 bytes</h1>
<pre class="lang-python prettyprint-override"><code>def q(S,N,K,n,d):
 k=sum((ord(c)&amp;K)*N**i for i,c in enumerate(S));s=[]
 while k:s+=[chr(k%n+d)];k//=n
 return s
e=lambda s,c:q(s,128,-1,2,48+2*(c in&quot;01&quot;))
d=lambda s,c:q(s,2,1,128,0)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=ddGxTsMwEAbg3U9hWQKdkyuNI4YoVXakSl3KVnUIsaOYJE5rO0I8C0sXeATehZUnIYEilIhKt92n_-50L2-HZ1915nR67X25SD7epSrpEba4wTUalDwltM5c3wJ0VkLBr9c82ASBpmVnqcaCakOV6Vtlc69gy_nKZbs9oU-VbhStUxdmu6KyUF-ZUPL9ql4uM0OoVb63hjqisiZvH2ROHRbpERyKOMGFwBhvkzAOYBzAIsE4J3JOYxTfPOLn7T8PVhsPjN08dtqAAnanmqZjyMYATqZtOQNTNdeDFSKKxhp4dClvaqbwn8h75fxA80txf_0z-rn0919f" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>The encoder (<code>e(s,c)</code>) interprets the string as a base 128 number and converts it to binary (using <code>2</code> and <code>3</code> if the excluded character is <code>0</code> or <code>1</code>).</p>
<p>The decoder (<code>d(s,c)</code>) converts a binary number to base 128</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a> <code>Ss</code>, 5 + 4 = 9 bytes</h1>
<pre><code>C?¬S*
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2&amp;c=1#WyJTcyIsIiIsIkM/wqxTKiIsIiIsIltdXG4xIl0=" rel="nofollow noreferrer">Try it Online!</a></p>
<p>Input list of characters and then normal input. Outputs a string</p>
<pre><code>⌈@ꜝC
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2&amp;c=1#WyJTcyIsIiIsIuKMiEDqnJ1DIiwiIiwiXCJcIiJd" rel="nofollow noreferrer">Try it Online!</a></p>
<p>Input the string from the encoder.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 4 + 5 = 9 bytes</h1>
<p>(4 + 4 = 8 bytes if we do not need to handle the empty string*, remove <code>€</code>.)</p>
<p>Uses the same approach as others, port of <a href="https://codegolf.stackexchange.com/a/266522/53748">bsoelch's Python answer</a>.</p>
<h3><a href="https://tio.run/##AS0A0v9qZWxsef//T@G5vuG5o0v/w6fhuKJ9//8iMjAxIGFuZCAzMDEsNDAxIv8iMCI" rel="nofollow noreferrer" title="Jelly – Try It Online">Encoder</a></h3>
<p>A dyadic Link that accepts the plaintext on the left and the character on the right and yields the ciphertext.</p>
<pre><code>OṾṣK - Link: plaintext, P; character, C  e.g. P=&quot;20 cats&quot;; C='0'
O    - cast P to ordinals                      [50,48,32,99,97,116,115]
 Ṿ   - unevaluate                               &quot;50,48,32,99,97,116,115&quot;
  ṣ  - split at occurrences of C             [&quot;5&quot;,&quot;,48,32,99,97,116,115&quot;]
   K - join with spaces                         &quot;5 ,48,32,99,97,116,115&quot;

                     (note that if C=' ' we get &quot;50,48,32,99,97,116,115&quot;)
</code></pre>
<h3><a href="https://tio.run/##y0rNyan8///hjk1ZYQ939zxqWvP/8PKHOxbV/v@vZKqgY2KhY2KpY2ykY2muY2iooGOooADimRpCZUxMdEyNIGyl/0oGSgA" rel="nofollow noreferrer" title="Jelly – Try It Online">Decoder</a></h3>
<p>A dyadic Link that accepts the ciphertext on the left and the character on the right and yields the plaintext.</p>
<pre><code>ḲjVỌ€ - Link: cyphertext X; character C  e.g. X=&quot;5 ,48,32,99,97,116,115&quot;, C='0'
Ḳ     - split X at spaces                    [&quot;5&quot;,&quot;,48,32,99,97,116,115&quot;]
 j    - join with C                             &quot;50,48,32,99,97,116,115&quot;
  V   - evaluate as Jelly code                  [50,48,32,99,97,116,115]
   Ọ€ - cast each to a character                &quot;20 cats&quot;
</code></pre>
<p>* An empty ciphertext evaluates (<code>V</code>) to the integer zero, so without <code>€</code> the cast (<code>Ọ</code>) will convert that to a NULL byte terminated empty string (in all other cases it will vectorise automatically but <code>€</code> will implicitly cast this edge-case zero to an empty range first).</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 68 bytes</h1>
<pre class="lang-python prettyprint-override"><code>e=lambda s,c:str([*s]).replace(c,'#')
d=lambda s,c:eval(s.replace('#',c))
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72soLIkIz9vwYKlpSVpuhY3PVNtcxJzk1ISFYp1kq2KS4o0orWKYzX1ilILchKTUzWSddSV1TW5UpBVpZYl5mgUw5UAFegka2pCDfQuKMrMK9FI1UhS8kjNycnXUSjPL8pJUVTSUTJU0tTkgkgnVZakFmuk4FIGUQs1EuZWAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Inspired by Arnauld's JS answer. The encoder converts to a stringified list of code points, replacing the excluded character with a &quot;#&quot;. The decoder replaces &quot;#&quot; with the excluded character and returns a list of code points.</p>
<h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 73 bytes</h1>
<pre class="lang-python prettyprint-override"><code>e=lambda s,c:s.hex().replace(c,'#')
d=lambda s,c:b''.fromhex(s.replace('#',c))
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72soLIkIz9vwYKlpSVpuhY3_VJtcxJzk1ISFYp1kq2K9TJSKzQ09YpSC3ISk1M1knXUldU1uVKQ1SSpq-ulFeXnglQWw1UC1ekka2pCTXUpKMrMK9FI1UhS8kjNycnXUSjPL8pJUVTSUTJU0tTkgkin4FIAUQUxC-ZSAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Also inspired by Arnauld's JS answer. Converts to/from hex, replacing the excluded character with a &quot;#&quot;.</p>
</div>
<div id="pu5" class="pu"><h1>JavaScript (ES6), 59 bytes</h1>
<h3>Encoder (30 bytes)</h3>
<p>Expects <code>(string)(char)</code>.</p>

<pre class="lang-javascript prettyprint-override"><code>s=&gt;c=&gt;btoa(s).split(c).join`#`
</code></pre>
<p><a href="https://tio.run/##Fcu9DsIgEADgvU9x1gGIShfj0tDBycnFFyil0NCcvYbDv6dHXb/km@3TsktxzYeFRl@aBlbCT4iIECjB9Yd65mrIZMEAg@ng/AjBJx0S3SXDDoRQOtMtp7hMUgyW/ekoVFtVwRQ2nTPdf0tWmleMWTqlZ4pLv@2Lo4UJvUaaZJD1xSPSHl6UcNzUStbvWqm2fAE" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Decoder (29 bytes)</h3>
<p>Expects <code>(encoded_string)(char)</code>.</p>

<pre class="lang-javascript prettyprint-override"><code>s=&gt;c=&gt;atob(s.replace(/#/g,c))
</code></pre>
<p><a href="https://tio.run/##FcuxDoIwFEDRna94gaFtxHYxxsSUwQVZTAyJe6ktAQuP9CHRr0dcb87tzWLIxm6a9yM@3aoUTBi@vgsBPEa4bVH2lJgZG9BAoAu4vL13UfqIAyfYAWM5sMaQOx6YkDPWc@zGlotzkni9ki6sLv4/JxndFIx1XGWqza0Qq8WRMDgZsOWep3X5oKY8UXV9LnbIXtVd61Tw9JNu9gc" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Explanation</h3>
<p>The encoder turns the input string <code>s</code> into a base-64 string, which may only contain <code>[a-z]</code>, <code>[A-Z]</code>, <code>[0-9]</code>, <code>+</code>, <code>/</code> and <code>=</code>. Then it replaces all occurrences of the forbidden character <code>c</code> with <code>#</code>. If <code>c</code> is not a base-64 character, this 2nd step has no effect at all. (In particular, note that the base-64 string can't possibly contain any <code>#</code>.)</p>
<p>The decoder does the exact opposite: it replaces all occurrences of <code>#</code> with the forbidden character and decodes this as a base-64 string.</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 61 bytes</h1>
<pre class="lang-javascript prettyprint-override"><code>e=s=&gt;c=&gt;(s+&quot;&quot;).split(c).join`#`
d=s=&gt;c=&gt;s.replace(/#/g,c).split`,`
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=XdBBCsIwEAXQvaeI6WaCMd0KUkFR8AC6b0lGqYREkkj1LG660CN4GG9jbRMXbv8f3gxzfxirsG2fl3CYzt4rLHyxkMUC_IRSJvxZ1wEkEydbmzIrRyr2Xjg860oi5Fl-5DKOlryM0ktjIGhkpytSEASDDdnhNWz6zAETQwt0i1pbThrrtBpTxoByyuYjaY23GoW2R4hQl35ZhYlN6BoTOnT9tn1twmzpXHUD9RN6nP3xEWTz4fj0jg8" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>(It's five bytes less than on ATO because of <code>e=</code>, newline and <code>d=</code>.). Encodes as a list of ascii codes, which normally contain only digits and commas. Then the forbidden character is replaced with <code>#</code>.</p>
<p>The decoder does the reverse and returns an array of strings of ascii codes, like <code>[&quot;72&quot;,&quot;101&quot;, ...]</code>. There are JS functions that interpret this as a sequence of integers (in particular <code>new Uint8Array</code>). An iterable of integers <a href="https://codegolf.meta.stackexchange.com/a/8964">is a string</a>.</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 59 bytes</h1>

<pre class="lang-ruby prettyprint-override"><code>f=-&gt;s,c{&quot;#{s.bytes}&quot;.tr c,?.}
g=-&gt;s,c{(eval s.tr ?.,c).pack&quot;U*&quot;}
</code></pre>
<p><a href="https://tio.run/##KypNqvz/P81W165YJ7laSbm6WC@psiS1uFZJr6RIIVnHXq@WKx0qq5FalpijUAySsNfTSdbUK0hMzlYK1VKq/V9hmxatZGhkbJJYnJKmpGNvFMtVoFABxOnRFToKQO5/AA" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
<p>TIO says 64 byes, because 2 function headers and a newline are included.</p>
<p>Inspired by Arnauld's JS answer.</p>
<h3>Encode</h3>
<p>First convert the string to a sequence of 8-bit values, then convert it to a string again, and finally replace the character to be excluded with a dot. The first step is equivalent to <code>unpack</code> using UTF-8 byte values, only slightly shorter.</p>
<h3>Decode</h3>
<p>Reverse order: first replace the character that was excluded, then convert it to an array of 8-bit values, and finally pack it to a string. This is equivalent to mapping the <code>&amp;:chr</code> method on the list, and then joining the characters, only slightly shorter.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/266518/">266518</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




