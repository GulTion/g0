<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::149746</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>691</td><td>Python3</td><td>231117T034737Z</td><td><a href="https://codegolf.stackexchange.com/questions/149746/advent-challenge-2-the-present-vault-raid/266828#266828">Ajax1234</a></td></tr>
<tr d-ix="1"><td>129</td><td>Wolfram Language Mathematica</td><td>171205T153930Z</td><td><a href="https://codegolf.stackexchange.com/questions/149746/advent-challenge-2-the-present-vault-raid/149960#149960">DELETE_M</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>Python3, 691 bytes</h1>
<pre class="lang-py prettyprint-override"><code>R=range
def T(g,s):
 q=[[s]]
 while q:A=q.pop(0);yield(l:={b for i in A for a,b in g if a==i});q+=[l]
def f(g,e,s):
 q,a,D,v=[(e,0,s,0)],[(e,s)],{},[]
 while q:
  E,c,S,B=q.pop(0);v+=[B]
  if c&lt;len(E):
   if E[c]==-1:q+=[(E,c+1,s,B)];continue
   J=1
   for i in next(T(g,E[c])):
    O=[*E];J=0
    if i!=S:
     O[c]=i
     if(O,S)not in a:J=0;q+=[(O,c+1,S,B)]
    else:O[c]=-1;q+=[(O,c+1,S,B+1)]
   if J:q+=[(O,c+1,S,B)]
  else:
   t,L=T(g,S),0
   for i in R(max(sum(k==-1for k in E)+1,1)):
    for I in R(L,i+1):M=next(t)
    L=i+1
    for I in M:
     O=[*E];x=B
     for y in R(len(E)):G=O[y]==I;O[y]=[O[y],-1][G];x+=G;v+=[x]
     if(O,I)not in a:q+=[(O,0,I,x)];a+=[(O,I)]
 return max(v)
</code></pre>
<p><a href="https://tio.run/##lVLPb9owFL7zV7zd7PGYYmgpDfOhaAiBqJDKbpYPKXWo1TQJSWCgqn8787PL2k6ttF3y@T1/P/zslIfmvsh7g7I6Hm9kleRr07ozKfxka6x53IKNVKrWugW/7m1mYBNfyc23sihZxIcHa7I7lsXy6RbSogILNocrv0zwloo12BQSKe0zH27aUmXau6fO3bz4Y4I/cCcVMxhhjRHXSOva4dMzqjfJLYAxrnCJo9cj7JzpyHEoZ/U9Mzkbk6uvx2qlpeyImJKZk7aFCxhxPVwVeWPzrSHiTAqCP@fPzb5hND7JeTCDhVRfx3o4k5Evnbn9IpdhDxaUY8PapmyBS54XDXklsVP4wV2X4pcU75kmq03slR3xF6MtAselzOIPxF5KhAbnkk665Bi9m@GGPSZ7Vm8f2QNdAPUfqD/mzkachqL2NNDnaF1qfC399A33@3Ppmu@Z16eRw33s5SjURDgEq/AGPJ7IhTq4@58OPSr6YkdoNXG6tpz4p9vrN9c2fb22l6kjnOLevVcSyimNX5lmW@VAA@74saxs3rCUKRYhCI7ABELX/TugXKOrqclbn7AcdhF6hD2E6KQSmjb/S0WS6N8loX9GeIZwTniO0CfsI1wQXiAMCAcIl4SXzi8IyTlYC/KkeGfeDyc4/gY" rel="nofollow noreferrer">Try it online!</a></p>
<p>Also, a 808 byte solution that uses caching for faster execution: <a href="https://tio.run/##lVJNbxoxEL3zK6Y3uwzVGhJClvoQBEJ8SEjZcrJ82JCFrEIW2F0oKMpvpzM2CaRqpfayY4/fe/P8vOtD@bTKGq11fjze6zzOFknlMZnDD7HAQoYV2GhjCmsr8PMpXSawCe/05tt6tRaBbB/SZPkolqF@fYD5KocU0gzu3DLGB94sIJ1DrHX6JtubqjZL69TnpJ6c9DHGLu60EQkGWGAgLfK6oPr6huZicgWghzOMsHO2sCPRDmFgpIvti3jWuqZ4/jNP70k6IAMjrZdJJnoynK2yMs22ie/Pvp/atOV9z8wsC4RsVdCsqiJHHWnbFzyYasFAVPJEm0K2KnleN@yaqdVZsi8FB8gw6VBDrbh8hMQ4NxUm2nzt2fZQB25LcukXHfkzmLCh1K/TuZhgJE@j4pAYLlLqss@IfTpksiyS0DFr6jdEVXkMTRmGfyA7KgNKHGu@QSQx@GT8XrzEezEijpI@NzYWYUrSHyl4w8wZeM7YnVM6hBywCZ9R6bKBsabTyieKQ46lfc/Bh7TXnbP0wUv7F5RhX0/MgV5v0HbV8Bdrypo@8aq63/ZM/l/29iLRwTnRUyABDnBPbx777YCTyZNym2fAd9/J4zpPs1LMhREBgpIIQiHU6YcFQ4265aas/AVFtY7Q4NpACN5ZyvLhf7GYEvw7xfevuF4hXHO9RmhybSLccL1BaHFtIdxyvSU9T2RlL61Yk8eTeNM7OP4C" rel="nofollow noreferrer">try it online</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, 129 bytes</h1>

<pre><code>Block[{a=#},Clear@f;s_~f~e_:=If[s==e,1,s~f~e=0;s~f~e=Min[(hMax[#~f~h&amp;/@a@s,Boole[h==s]])/@a@e]];Tr[Max[(e#3~f~e)/@#2]^#2]]&amp;
</code></pre>

<p><a href="https://tio.run/##tY@/TsMwEMb3PMVJkaq0MoLEmRpcRWViqMTAZpnqlDrEkDjIdhGoTR@CN@AJeYTgpCpi6cDAYJ2/3/357hp0lWzQqQL7BpUut7pg/bJui2e@QxZ25KaWaPIys@tDeZDrObstuWVMkpjYgbCr7BhXSvOo@vr4XOEbDz2qJpc55pYs27aWvGLMCjEdkBQiuzd8qIukbwjpMMCnwkQ8@CcmfTQDNI/bRmpnoTUbaeZBCAxw84SF1MU71Mo6AmHioaxfpYWX1iqnWu0h9dCidvgDYTYNgjujtOMBwOnS4Q9wvY/hYgG7hEDaEUhGEROgXtDfmXQUlEDc7Rdk7D3VJV6JQPyPR/o3A3rW4Pze/Tc" rel="nofollow noreferrer">Try it online!</a></p>

<p>Similar approach to my answer to <a href="https://codegolf.stackexchange.com/questions/125804/get-me-back-down-to-1-rep">this question</a>. </p>

<p>The function takes 3 arguments as input: adjacency list represented as an association (<a href="https://codegolf.stackexchange.com/questions/149746/advent-challenge-2-the-present-vault-raid#comment366424_149746">tool to generate adjacency list from edge list</a>), elves position and santa position.</p>

<p>Note that <code>Clear[f]</code> is necessary, because function submissions must be reusable.</p>

<p>The code below is ungolfed code with partial explanation. More explanation later.</p>

<pre><code>reverseBoole = # != 0 &amp;

(* Or@@{a, b} === reverseBoole[booleOr[Boole[{a, b}]]] *)
booleOr = Max

booleAnd = Min

(* Boole@f[s, e] = Santa can catch Elf ? *)

mainfunc = Block[{adjlist = #},
  Clear[f];
  f[s_, e_] := If[ s == e, f[s, e] = 1,
    f[s, e] = Boole[False];
    f[s, e] = booleAnd[
      (e1  booleOr[
        ( s1  f[s1, e1] ) /@ adjlist[s],
        Boole[e1 == s]
      ]) /@ adjlist[e]
    ]
  ];
  If [ 0 == booleOr[ ( e  f[#3, e] ) /@ #2 ] , 0, Length[#2] ]
]&amp;
</code></pre>

<hr>


</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/149746/">149746</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




