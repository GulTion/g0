<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::217366</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>nan</td><td>Vyxal j</td><td>240913T124037Z</td><td><a href="https://codegolf.stackexchange.com/questions/217366/draw-an-ascii-hexagon-of-side-length-n/275509#275509">pacman25</a></td></tr>
<tr d-ix="1"><td>177</td><td>JavaScript Node.js</td><td>210602T141044Z</td><td><a href="https://codegolf.stackexchange.com/questions/217366/draw-an-ascii-hexagon-of-side-length-n/226754#226754">user1006</a></td></tr>
<tr d-ix="2"><td>060</td><td>Vyxal</td><td>210602T084218Z</td><td><a href="https://codegolf.stackexchange.com/questions/217366/draw-an-ascii-hexagon-of-side-length-n/226730#226730">emanresu</a></td></tr>
<tr d-ix="3"><td>150</td><td>SlimSharp</td><td>210217T155724Z</td><td><a href="https://codegolf.stackexchange.com/questions/217366/draw-an-ascii-hexagon-of-side-length-n/219242#219242">Joel Coe</a></td></tr>
<tr d-ix="4"><td>009</td><td>Canvas</td><td>210106T090113Z</td><td><a href="https://codegolf.stackexchange.com/questions/217366/draw-an-ascii-hexagon-of-side-length-n/217370#217370">Razetime</a></td></tr>
<tr d-ix="5"><td>120</td><td>Haskell</td><td>210110T110226Z</td><td><a href="https://codegolf.stackexchange.com/questions/217366/draw-an-ascii-hexagon-of-side-length-n/217486#217486">AZTECCO</a></td></tr>
<tr d-ix="6"><td>100</td><td>Haskell</td><td>210110T175809Z</td><td><a href="https://codegolf.stackexchange.com/questions/217366/draw-an-ascii-hexagon-of-side-length-n/217495#217495">xnor</a></td></tr>
<tr d-ix="7"><td>174</td><td>Python 3.8 prerelease</td><td>210106T102551Z</td><td><a href="https://codegolf.stackexchange.com/questions/217366/draw-an-ascii-hexagon-of-side-length-n/217377#217377">Anakhand</a></td></tr>
<tr d-ix="8"><td>5047</td><td>J</td><td>210106T182624Z</td><td><a href="https://codegolf.stackexchange.com/questions/217366/draw-an-ascii-hexagon-of-side-length-n/217386#217386">xash</a></td></tr>
<tr d-ix="9"><td>150</td><td>Haskell</td><td>210108T165621Z</td><td><a href="https://codegolf.stackexchange.com/questions/217366/draw-an-ascii-hexagon-of-side-length-n/217454#217454">Wheat Wi</a></td></tr>
<tr d-ix="10"><td>109</td><td>C gcc</td><td>210107T085008Z</td><td><a href="https://codegolf.stackexchange.com/questions/217366/draw-an-ascii-hexagon-of-side-length-n/217418#217418">AZTECCO</a></td></tr>
<tr d-ix="11"><td>025</td><td>05AB1E</td><td>210106T221241Z</td><td><a href="https://codegolf.stackexchange.com/questions/217366/draw-an-ascii-hexagon-of-side-length-n/217393#217393">ovs</a></td></tr>
<tr d-ix="12"><td>168</td><td>Haskell</td><td>210107T053100Z</td><td><a href="https://codegolf.stackexchange.com/questions/217366/draw-an-ascii-hexagon-of-side-length-n/217405#217405">Steven F</a></td></tr>
<tr d-ix="13"><td>144</td><td>C gcc</td><td>210106T141811Z</td><td><a href="https://codegolf.stackexchange.com/questions/217366/draw-an-ascii-hexagon-of-side-length-n/217379#217379">Noodle9</a></td></tr>
<tr d-ix="14"><td>107</td><td>JavaScript ES6</td><td>210106T202703Z</td><td><a href="https://codegolf.stackexchange.com/questions/217366/draw-an-ascii-hexagon-of-side-length-n/217391#217391">Arnauld</a></td></tr>
<tr d-ix="15"><td>102</td><td>Perl 5 p</td><td>210106T202215Z</td><td><a href="https://codegolf.stackexchange.com/questions/217366/draw-an-ascii-hexagon-of-side-length-n/217390#217390">Nahuel F</a></td></tr>
<tr d-ix="16"><td>143</td><td>Perl 5</td><td>210106T175444Z</td><td><a href="https://codegolf.stackexchange.com/questions/217366/draw-an-ascii-hexagon-of-side-length-n/217385#217385">Kjetil S</a></td></tr>
<tr d-ix="17"><td>070</td><td>05AB1E</td><td>210106T174512Z</td><td><a href="https://codegolf.stackexchange.com/questions/217366/draw-an-ascii-hexagon-of-side-length-n/217383#217383">Makonede</a></td></tr>
<tr d-ix="18"><td>114</td><td>Python 2</td><td>210106T093232Z</td><td><a href="https://codegolf.stackexchange.com/questions/217366/draw-an-ascii-hexagon-of-side-length-n/217371#217371">ovs</a></td></tr>
<tr d-ix="19"><td>092</td><td>Python 2</td><td>210106T101610Z</td><td><a href="https://codegolf.stackexchange.com/questions/217366/draw-an-ascii-hexagon-of-side-length-n/217375#217375">xnor</a></td></tr>
<tr d-ix="20"><td>094</td><td>Retina 0.8.2</td><td>210106T100812Z</td><td><a href="https://codegolf.stackexchange.com/questions/217366/draw-an-ascii-hexagon-of-side-length-n/217374#217374">Neil</a></td></tr>
<tr d-ix="21"><td>141</td><td>Ruby</td><td>210106T081511Z</td><td><a href="https://codegolf.stackexchange.com/questions/217366/draw-an-ascii-hexagon-of-side-length-n/217367#217367">vrintle</a></td></tr>
<tr d-ix="22"><td>014</td><td>Charcoal</td><td>210106T085419Z</td><td><a href="https://codegolf.stackexchange.com/questions/217366/draw-an-ascii-hexagon-of-side-length-n/217369#217369">Razetime</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-2" rel="nofollow noreferrer">Vyxal</a> <code>j</code>, 321 <a href="https://github.com/Vyxal/Vyncode/blob/main/README.md" rel="nofollow noreferrer">bits<sup>v2</a></sup>, 40.125 bytes</h1>
<pre><code>ʁṘvI\/+?₌I‡\_*+p?dðø↲øM:ṘṪṫøSð\_Ŀ?‹IpJ‛\/‛/\vĿJ
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2&amp;c=1#WyJqPSIsIiIsIsqB4bmYdklcXC8rP+KCjEnigKFcXF8qK3A/ZMOww7jihrLDuE064bmY4bmq4bmrw7hTw7BcXF/Evz/igLlJcErigJtcXC/igJsvXFx2xL9KIiwiIiwiMjMiXQ==" rel="nofollow noreferrer">Try it Online!</a></p>
<p>Bitstring:</p>
<pre><code>000111011001101110101111110110111001100001100001010000100001011011101101110111011111010011111000100011010001001101101111101010101010100000010010101111001011110101111111100110100110011001100010000010111110100011011001101101111001100001000100100010111001001100101111110100110110011111000001001100000101101000000011101101110
</code></pre>
<p>uses new palindrome stuff plus j flag</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 177 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>n=&gt;[...Array((N=2*n)+1)].map((_,i,a,g=i&gt;n,s=g?i-n-1:n-i,j=i&amp;&amp;N-i,r='_'.repeat(N),S=Z=&gt;' '.repeat(Z))=&gt;i?S(s)+'/\\'[+g]+(j?'':r)+S(g?j&amp;&amp;6*n-2*i:N+2*--i)+'\\/'[+g]:S(n)+r).join`
`
</code></pre>
<p><a href="https://tio.run/##PY67asNAEAB7f4Ur3a7uYSRwCsFK5AfUqLNl7MORjz2cPXEygXy9LFKkG4YpJvofv9wzzy8r6WtaH7QKtWfn3GfO/hegp7oU1BVe3LefAa6GjTeBuBWzUOjYiq0asWwicVH0G2RSV@XyNE/@BT2agU7Uqv2/OiFSy90AC2p1GEd11uGiIXZKNRn1AKGLRfFRiq1Lbnpdl9bylo7j4S9tBtiOMrqYWG6723pPsqTn5J4pwAOqI@L6Bg" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>Not the shortest but uses a different approach. Second in my series of text-writing programs which aren't the shortest, but help assemble a repertoire of array solutions.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/Lyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, 60 bytes</h1>
<pre><code>ð*\_?*d+,(n-‹ð*\/n?+ð*d++\\+,)(nð*\\?d‹n-n›?=[\_|ð]*d++\/+,)
</code></pre>
<p><a href="http://lyxal.pythonanywhere.com?flags=&amp;code=%C3%B0*%5C_%3F*d%2B%2C%28n-%E2%80%B9%C3%B0*%5C%2Fn%3F%2B%C3%B0*d%2B%2B%5C%5C%2B%2C%29%28n%C3%B0*%5C%5C%3Fd%E2%80%B9n-n%E2%80%BA%3F%3D%5B%5C_%7C%C3%B0%5D*d%2B%2B%5C%2F%2B%2C%29&amp;inputs=3&amp;header=&amp;footer=" rel="nofollow noreferrer">Try it Online!</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/jcoehoorn/SlimSharp/" rel="nofollow noreferrer">SlimSharp</a>, 150 bytes</h1>
<pre><code>I n=RI(),m=n;S b=new S('-',n*2).Pad(n*-3),l=&quot;/&quot;,r=&quot;\\&quot;;Action&lt;I&gt; x=a=&gt;P(l.Pad(-a).Pad(4*n-a)+r);P(b);for(;m&gt;0;)x(m--);l=r;r=&quot;/&quot;;for(;m&lt;n;)x(++m);P(b);
</code></pre>
<blockquote>
<p><a href="https://dotnetfiddle.net/iXLzcO" rel="nofollow noreferrer">https://dotnetfiddle.net/iXLzcO</a></p>
</blockquote>
<p>The fiddle differs slightly from the post because .Net Fiddle can't use the RI() function to read from the console.</p>
<p>This is still the naiive version, without any recursive or coordinate mapping tricks. I'm unlikely to get shorter, because SlimSharp hasn't defined shortcuts for some of the relevant array and string functions yet.</p>
<hr />
<h1>C#, 227 bytes</h1>
<p>The full C# looks like this, and that's still assuming all the necessary <code>using</code> directives and that we get to abstract to a method.</p>
<pre><code>void H(int n){int m=n;string b=new string('-',n*2).PadLeft(n*3),l=&quot;/&quot;,r=&quot;\\&quot;;Action&lt;int&gt; x=a=&gt;Console.WriteLine(l.PadLeft(a).PadRight(4*n-a)+r);Console.WriteLine(b);for(;m&gt;0;)x(m--);l=r;r=&quot;/&quot;;for(;m&lt;n;)x(++m);Console.Write(b);}
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/dzaima/Canvas" rel="nofollow noreferrer">Canvas</a>, <sup><s>15</sup></s> 9 <a href="https://github.com/dzaima/Canvas/blob/master/files/chartable.md" rel="nofollow noreferrer">bytes</a></h1>
<pre><code> _；１＊⁸／∔╬
</code></pre>
<p><a href="https://dzaima.github.io/Canvas/?u=JTIwXyV1RkYxQiV1RkYxMSV1RkYwQSV1MjA3OCV1RkYwRiV1MjIxNCV1MjU2Qw__,i=NQ__,v=8" rel="nofollow noreferrer">Try it here!</a>, <a href="https://dzaima.github.io/Canvas/?u=XyVENyUyMCV1MjA3OCV1RkYzQyV1MjIxNCV1RkYwQiV1MjE5NCV1MjU2Qw__,i=NQ__,v=8" rel="nofollow noreferrer">another 9 bytes</a></p>
<p>-6 bytes after fixing the program.</p>
<p>Draws a quarter of the hexagon, and quad palindromizes.</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, <s>129</s> 120 bytes</h1>

<pre class="lang-hs prettyprint-override"><code>g=mod
f n|a&lt;-n*4=[c|y&lt;-[-n..n],x&lt;-[0..a],let c|x&lt;1='\n'|g x(n*3+1)&gt;n,abs y==n='_'|g(x+y)a==1='/'|g(x-y)a&lt;1='\\'|1&gt;0=' ']
</code></pre>
<p><a href="https://tio.run/##HY7NDoIwEITvPsXeyl8rjcYTyxt48ggNWRHRCCsRTErSd6@V23yZmcw8aH51w@B9j@P7trsDOyokJ0esWrcWspKsFJvMBpkrRSYbugVaZwuNombherARJ4dUxyVndJ1hRWQUTXAim64xIYbkfkMZcOvVwukyRwHC@JGejCNN5wam73JZPlD9X3AY1EqdjPE/" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
<ul>
<li><p>saved 9 thanks to @Wheat Wizard and @xnor.</p>
</li>
<li><p>Check @xnor answer and its big improvement on the approach to the problem (avoiding modulo and parallel lines) !</p>
</li>
<li><p>Equivalent of my C answer</p>
</li>
</ul>
<p>We make cartesian coordinates using list comprehension |y&lt;-[0..n*2],x&lt;-[0..a]</p>
<p>[c| ... ,let c| ... | ... | ... ] and we yeld the character needed based on x-y or x+y to draw lines.. <br />
We use modulo to draw multiple lines(2) <br />
Special case is for <code>_</code> which doesn't need a x/y ratio but a range, we used modulo to do just one comparison <code>&gt;</code> instead of an a&gt;x&gt;b like</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://www.haskell.org/" rel="noreferrer">Haskell</a>, 100 bytes</h1>
<pre class="lang-hs prettyprint-override"><code>f n=unlines[q&lt;$&gt;[1..3*n]++[1-n..0]|y&lt;-[-n..n],let q x|abs y==n,x&gt;n='_'|x==y='\\'|x+y==1='/'|1&gt;0=' ']
</code></pre>
<p><a href="https://tio.run/##FY1BCsMgEAC/sofCQk1spNBT1h/01KORYMHSULMk1UAC/t3a28DAzNvFjw@hlBcwbRwm9tGs/UkbJeX1zFYIo1qWsrP56FvzR7ZN8AlW2LN7RjiIuNk1E46Yd6KDcBgqiSoU4QWz0h0hoC2zm5hmt9xHWLb0SF8w9Zu5huvuZm35AQ" rel="noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
<p>Golfing <a href="https://codegolf.stackexchange.com/a/217486/20260">AZTECCO's answer</a> plus some new techniques.</p>
<p>The main idea is that the hexagon is simpler if we transplant the first <code>n</code> columns to the end.</p>
<pre><code>|-|
   ______   
  /      \  
 /        \ 
/          \
\          /
 \        / 
  \______/  

         |-|
______      
      \    /
       \  / 
        \/  
        /\  
       /  \  
______/    \
</code></pre>
<p>Now all the <code>/</code> and <code>\</code> are in a single line, and the <code>_</code> are all to the left of those. This makes it much easier to do AZTECCO's strategy of determining the character from the coordinate. To implement these relabeled coordinates, we replace the <code>x</code>-coordinates <code>[1..4*n]</code> with a cycled and shifted version <code>[1..3*n]++[1-n..0]</code>.</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://docs.python.org/3.8/" rel="nofollow noreferrer">Python 3.8 (pre-release)</a>, 174 bytes</h1>

<pre class="lang-python prettyprint-override"><code>n=int(input())
b,a,s=&quot;\/ &quot;
z,f=range(n),lambda c,d,t:((n-1-i)*s+c+2*(n+i)*s+d for i in t)
print(f&quot;{'_'*2*n:^{4*n}}&quot;,*f(a,b,z),*f(b,a,z[:0:-1]),f&quot;{b:&gt;{n}}{'_'*2*n}/&quot;,sep=&quot;\n&quot;)
</code></pre>
<p><a href="https://tio.run/##NY5LDoIwFEXnrKLphLY8gqAmpgluxF9aoNpEH02pAyGsvYKJszM49@M@4dHj9uB8jFhbDMyiewfGeaJBwVDTc0FoMoKpvcJ7x5DDU710q0gDLQTJGOZlbrkYsiarBMPsxy0xvSeWWCSBJ86vzYZO6S0VlUB5nXYC55mCMEyBhpGvtC6OJ7mReXnhsOhaHqdF@8fmgsLQueUTUh7j/gs" rel="nofollow noreferrer" title="Python 3.8 (pre-release) – Try It Online">Try it online!</a></p>
<p>-1 byte thanks to @Duncan</p>
<p>-8 bytes thanks to @Danis</p>
</div>
<div id="pu8" class="pu"><h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, <sup>50</sup> 47 bytes</h1>
<p><em>-3 thanks to Jonah!</em></p>
<pre><code>' \/_'{~]|.&quot;1((0,]+2*|.)@=@i.,.3,3,~0$~&lt;:,])@+:
</code></pre>
<p><a href="https://tio.run/##y/qvpKeepmBrpaCuoKNgoGAFxLp6Cs5BPm7/1RVi9OPVq@tia/SUDDU0DHRitY20avQ0HWwdMvV09Ix1jHXqDFTqbKx0YjUdtK3@a3KlJmfkK6QpGEIY6uowASN0AdP/AA" rel="nofollow noreferrer" title="J – Try It Online">Try it online!</a></p>
<pre><code>((0,]+2*|.)@=@i.  ,.  3,3,~0$~&lt;:,])@+:
     0 0 0 0            3 3 3 3
     1 0 0 2            0 0 0 0
     0 1 2 0            0 0 0 0
     0 2 1 0            0 0 0 0
     2 0 0 1            3 3 3 3

    ]|.&quot;1
0 0 3 3 3 3 0 0
0 2 0 0 0 0 1 0
2 0 0 0 0 0 0 1
1 0 0 0 0 0 0 2
0 1 3 3 3 3 2 0

' \/_'{~ 
  ____
 /    \    
/      \    
\      /  
 \____/  
</code></pre>
</div>
<div id="pu9" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 150 bytes</h1>

<pre class="lang-hs prettyprint-override"><code>r=reverse
m(o:c:k)=o:c:c:c:k++&quot; &quot;
f 1=[[&quot;\\  /&quot;,&quot;__ &quot;],[&quot;/__\\&quot;]]
f n|[w:i,j]&lt;-map m&lt;$&gt;f(n-1),_:_:k&lt;-r$m w=[r k:w:i,k:j]
h[i,j]=unlines$r&lt;$&gt;r i++j
h.f
</code></pre>
<p><a href="https://tio.run/##FYuxDoMgFEV3vuKFMNiANSadiPQnOgIhpkFFhBrUuvTfqeQMdzj3TP3m7bLknESyX5s2i0L14W/ub6JMwVOKAaMBWiElVgqgwQwbA1gziRtjlMJaXz7@5Mkdm3VXh36F0JHnUMW6vTHDDfddnUiAU8gEnpej57NGkyyFOOLiot1IuqIEjtIZjWK6Dzn0Lor12F97IiM88h8" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
<p>A more recursive version of this answer.  The arbitrariness of this challenge makes this pretty frustrating.</p>
<h2>Explanation</h2>
<p>This answer is a bit hard to explain.  The challenge is, as I already said, arbitrary in a few ways, so the code is sort of just a nest of symbols.</p>
<h3>Idea</h3>
<p>The idea of the program here is to build up the two halves.  That is when calculating the nth hexagon we get the two halves for the n-1th hexagon and use that to make the next biggest one.</p>
<p>There are some caveats though.  We build the top half up-side-down and we build both halves mirrored left to right.  We do this because it is convenient to do it this way.  No deep reason it just makes things shorter even if it does make things a little incomprehensible.</p>
<h3>Details</h3>
<p>The first line is pretty straight forward <code>r</code> is an alias for <code>reverse</code>.  The second line is not so straight forward.  <code>m</code> is a nonsense function, it exists because it or a similar operation needs to be done in a few places.  It doesn't really have a semantic meaning.  The best explanation of what it does here is the code.</p>
<pre class="lang-haskell prettyprint-override"><code>m(o:c:k)=o:c:c:c:k++&quot; &quot;
</code></pre>
<p>From here we start getting to <code>f</code> which handles basically all of the logic.  The first case for <code>f</code> is the base case, it is pretty standard</p>
<pre class="lang-haskell prettyprint-override"><code>f 1=[[&quot;\\  /&quot;,&quot;__ &quot;],[&quot;/__\\&quot;]]
</code></pre>
<p>Note that we return a list of two items instead of a tuple.   In any sane program we would be using a tuple since it is fixed at 2 elements.  However later we will map over both arguments of this with the same function.  It is hard to do that with a tuple but easy with a list, and the list doesn't pose any drawbacks so we use it.</p>
<p>Then we have the inductive case.  First we fetch the previous case, and double map our <code>m</code> over it.  This makes the hexagon 1 unit wider (2 characters) and moves it half a unit (1 character) to the right (although since this whole thing is backwards the space characters are added on the <em>right</em>).  We pattern match this to <code>[w:i,j]</code> because we want to use <code>w</code> to make new rows later.  Speaking of which next we make the rows.  We do this with a pattern match:</p>
<pre class="lang-haskell prettyprint-override"><code>_:_:k&lt;-r$m w
</code></pre>
<p>This is sort of nonsense code.  It just slaps together things we already had to produce the correct output.  <code>k</code> and its reverse form the new rows so we add them in. and return that.</p>
<p>After <code>f</code> we have <code>h</code> which turns the output of <code>f</code> into a string.  It undoes all the wacky transforms we used during the construction and packages it up to be used.</p>
<p>With all that we just compose <code>f</code> and <code>h</code> for the final function.</p>
</div>
<div id="pu10" class="pu"><h1><a href="https://gcc.gnu.org/" rel="noreferrer">C (gcc)</a>, <s>119</s> 109 bytes</h1>

<pre class="lang-c prettyprint-override"><code>a,i,j;f(n){for(i=a+=a=j=n*2;~j;)putchar(!i--?i=a,j--,13:i%(n*3)&lt;n|j%(n*2)?(i-~j-n)%a?(i-j+n)%a?32:92:47:95);}
</code></pre>
<p><a href="https://tio.run/##JczRCoIwGIbhc69iEcJ@3QKnEW4ur2WszH/UDNMj01tfmkfPCx98lj@sDcEwZE411MPUdD1FbVJttNM@EWpxCt7jYFvT0wNyXq8rc5yzLJcYU5/kUPmv20pATZEvjnuIzZYu/VcuZClkcZHlGdQcjujtc7zdSfUZbtid2muEfiAvg54CmSLS0AzUhtjJd4qd9SOaww8" rel="noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
<ul>
<li>saved 2 thanks to @ceilingcat</li>
</ul>
<p>The table below is not updated so values can differ, but the concept is:</p>
<ul>
<li>we have 2 pairs of parallel lines</li>
</ul>
<pre>
        .    .
_______.______.________   
  |   /        \   |  .
. |  /          \  | .
 .| /            \ |.
  |/              \|
  |\              /|.
 .| \            / | .
. |  \          /  |
__|___\________/___|___   
  |    .      .
</pre>
<p>we iterate x,y from size to 0 and we sum them to check if a / should be printed, we subtract to check for \ , we use modulo to check both parallels.</p>
<pre>
    i 65432109876543210. j
 i+j-n    ________      8 
13+7-4=> /        \     7 
14+6-4  /          \    6 
15+5-4 /            \   5 
      /              \  4 
      \     1+3-4=>  /  3
       \    2+2-4   /   2
        \   3+1-4  /    1
         \________/     0
</pre>
</div>
<div id="pu11" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, <s>33</s> <s>29</s> 25 bytes</h1>
<p>-4 (<a href="https://codegolf.stackexchange.com/questions/217366/draw-an-ascii-hexagon-of-side-length-n/217393?noredirect=1#comment507103_217393">7</a>) bytes thanks to <a href="https://codegolf.stackexchange.com/users/52210/kevin-cruijssen">Kevin Cruijssen</a>!</p>
<pre><code>L+&lt;'/úíºI·'_×š»∊¶¡`ðs‡).c
</code></pre>
<p><a href="https://tio.run/##ATIAzf9vc2FiaWX//0wrPCcvw7rDrcK6ScK3J1/Dl8WhwrviiIrCtsKhYMOwc@KAoSkuY///NQ" rel="nofollow noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>
<p><em>05AB1E</em> has a canvas builtin which might be useful, but is quite tricky to get working, this is just the mirror builtins <code>º</code> and <code>∊</code> and the centralize builtin <code>.c</code>.</p>
</div>
<div id="pu12" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, <strike>186</strike> 168 bytes</h1>
<p>-18 bytes with xnor's fixes and removing unneeded spaces on the last line</p>

<pre class="lang-hs prettyprint-override"><code>s=' '
(!)=replicate
e=reverse
h n=unlines$(\m-&gt;(n!s++(2*n)!'_'++n!s):e(e&lt;$&gt;m)++init m++[(n-1)!s++'\\':(2*n)!'_'++&quot;/&quot;])$(\i-&gt;i!s++'\\':(4*n-2*i-2)!s++'/':i!s)&lt;$&gt;[0..n-1]
</code></pre>
<p><a href="https://tio.run/##TY7RCoJAEEXf9yvGCHbXZU2lXiT9EY1YbMAhdwjXor@3tYJ6O8O99zCDC1ccx2UJtQQpVKLrCW8j9W5GgZEfOAUUA3B955EYw1Z13jaKk2CMKlPWiTxLY@KtK1R43DZeG0NMM3hjWsW20GtXdp2s/gab3eako4xsQ798n7ItU7LlZ7OTVQx1lLZ5lkXVaRnwCTUMwjviCMQzTq6fQX3/gwy8u8Fa@9CE7hLxHeqlEKU4iCJ/AQ" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
<p>Ungolfed:</p>
<pre class="lang-hs prettyprint-override"><code>hex :: Int -&gt; String
hex n = unlines $ first: middle ++ (init $ reverse (map reverse middle)) ++ [last]
  where
    first = replicate n ' ' ++ replicate (2*n) '_' ++ replicate n ' '
    f i = replicate i ' ' ++ &quot;/&quot; ++ replicate (n-i + 2*n + n-i -2) ' ' ++ &quot;\\&quot; ++ replicate i ' '
    middle = map f [n-1,n-2..0]
    last = replicate (n-1) ' ' ++ &quot;\\&quot; ++ replicate (2*n) '_' ++ &quot;/&quot; ++ replicate (n-2) ' '
</code></pre>
</div>
<div id="pu13" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, <sup><s>194</s> <span class="math-container">\$\cdots\$</span> <s>149</s></sup> 144 bytes</h1>
<p>Saved <s>13</s> <s>14</s> 19 bytes thanks to <a href="https://codegolf.stackexchange.com/users/52904/ceilingcat">ceilingcat</a>!!!</p>

<pre class="lang-c prettyprint-override"><code>p(n,c){for(;n--;)printf(L&quot;/\\ _\n&quot;+c);}i;t;f(n){p(n,2);for(i=t=p(2*n,3);i&gt;=p(1,4);t=i/n?--i,1:t)i+=!p(!p(n+i&lt;&lt;!p(!p(n+~i,2),t),t&amp;!i|2),!t)-2*t;}
</code></pre>
<p><a href="https://tio.run/##NY5BCsJADEX3PUXahUw6M5RW3ZiOXsAjFEQGKlkYS5ldrVevacXwIT/hkZ/oHzEuy2DERZz612hIvCccRpbUm2tRdR3cOilsRJqZEvVGcFr5BmnlOaQwmKYUt0fis/raHZBS4Eou3rOrTwnZhnwwKrHctn/7YT3ikmqX81ttntA3ZaJ50XR43lkMZlMGWhoFZt0KBKhJWxvgSGCtIPyQDdPvaJvmbF6@" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
<h3>Explanation (before some golfs)</h3>
<pre class="lang-c prettyprint-override"><code>p(n,c){for(;n--;)                     // Helper function to print  
         putchar(&quot;/\\ _\n&quot;[c]);}      //  one of '/', '\', ' ', '_' , or  
                                      //  newline n times, this function  
                                      //  also returns 0 
i;t;f(n){                             // Main function prints an n hexagon  
        p(n,2);                       // Print n leading spaces for the 1st  
                                      //  line 
        for(                          // Main loop
            i=t=p(2*n,3);             // Set i and t to 0,  
                                      //  and print 2*n '_'s for the 1st line
            i&gt;=p(1,4);                // Loop until i goes below 0, and 
                                      //  print a newline
                                      // At the end of each loop:  
            i+=1-2*t,                 //  increment i for the 1st half  
                                      //   and then decrement i in the 2nd  
            t=i/n?--i,1:t)            //  keep t as t unless i equals n,   
                                      //  then make t 1 and decrement i   
                                      // In the main loop:
                p(n+~i,2),            //  print n-i-1 leading spaces     
                p(1,t),               //  print a '/' in the 1st half and a  
                                      //   '\' in the 2nd    
                p(n+i&lt;&lt;1,t&amp;!i|2),     //  print the 2*(n+i) middle spaces  
                                      //   unless at the bottom print '_'s  
                p(1,!t);              //  print a '\' in the 1st half and a  
                                      //   '/' in the 2nd    
   }  
 
</code></pre>
</div>
<div id="pu14" class="pu"><h1>JavaScript (ES6), <s> 109 </s> 107 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>w=&gt;(x=0,W=w*4,i=g=y=&gt;~y?`
 /\\_`[x++-W?y*!i|w/x|x&gt;w*3?(x+~y+w)%W?(x+y)%W-w?1:3:2:4:x=i=0&amp;y--]+g(y):'')(w*2)
</code></pre>
<p><a href="https://tio.run/##Zci9DoIwFEDhnafQQeltqciPS5NLH4NBjBAEgiHUiLFtQnj1qqNhOiffvXpXU/3sHy8@qlvjWnQaM2LwGOSoaRr02KHFbLGy9DZhUVzLs2GM59LSbT/r0Mwm0zSRxLDFMg27/Lf2W65lJBIRi1QY7PG4t5xfWEcsCN8HomkMrlbjpIbmMKiOtCQC8P4lXkmykhOA@wA" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Commented</h3>
<pre class="lang-javascript prettyprint-override"><code>w =&gt; (                        // w = input
  x = 0,                      // initialize x to 0
  W = w * 4,                  // W = total width
  i =                         // initialize i to a non-zero value
  g = y =&gt;                    // g is a recursive function taking y
  ~y ?                        //   if y is not equal to -1:
    `\n /\\_`[                //     list of characters
      x++ - W ?               //     if this is not the end of the row:
        y * !i |              //       if this is neither the first nor the last row
        w / x |               //       or x is less than or equal to w
        x &gt; w * 3 ?           //       or x is greater than w * 3:
          (x + ~y + w) % W ?  //         if (x - y - 1 + w) mod W is not equal to 0:
            (x + y) % W - w ? //           if (x + y) mod W is not equal to w:
              1               //             draw a space
            :                 //           else:
              3               //             draw a '\'
          :                   //         else:
            2                 //           draw a '/'
        :                     //       else:
          4                   //         draw a '_'
      :                       //     else:
        x = i = 0 &amp; y--       //       decrement y, set x and i to 0 and draw a linefeed
    ] + g(y)                  //     append the result of a recursive call
  :                           //   else:
    ''                        //     stop the recursion
)(w * 2)                      // initial call to g with y = w * 2
</code></pre>
</div>
<div id="pu15" class="pu"><h1><a href="https://www.perl.org/" rel="noreferrer">Perl 5</a> (<code>-p</code>), 102 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>s/_+/__$&amp;/g,s/^|$/ /gm,s/^ *\S /$&amp;  /gm,s-( +)\\ 
-$&amp;/ $1 \\
\\ $1 /
- for($\=' __ 
/  \
\__/')x--$_}{
</code></pre>
<p><a href="https://tio.run/##JYy9CsJAEIT7e4ohLPkxrmuEVJJHsLJdXCxMCKgJOQsl5tU9T@y@mW@Y8TJd69C3OWkx@/OLdE/aJMkSvFgpZpRKt/ZyepNAutsPsdIjhFL8C85RFqpwHLegCqouxgjiGO0wxe8mgxmcANGZSVY8mcmWOYTK7Vz9GcZHP9x94DHwod5sqy8" rel="noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
<p><code>-p</code> and <code>}{</code> at the end is a trick to only print the output record separator <code>$\</code> at the end. It only works for one input record; the header is used to print all in one tio link.</p>
<pre class="lang-perl prettyprint-override"><code>$\=' __ 
/  \
\__/'   # output record separator initialized with hexagon (size 1)

s/_+/__$&amp;/g,s/^|$/ /gm,s/^ *\S /$&amp;  /gm,s-( +)\\ 
-$&amp;/ $1 \\
\\ $1 /
- # regexes to increase the hexagon by 1

for .. --$_ # to repeat n-1 times where n is the input
</code></pre>
</div>
<div id="pu16" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a>, 143 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>sub f{$n=pop;@b=map{join'',$&quot;x($n-$_),'/','  'x($n+$_-1),'\\',$/}1..$n;join('',$&quot;x$n,$u=__ x$n,$/,@b,map y|/\\|\\/|r,reverse@b)=~s| +/$|$u/|sr}
</code></pre>
<p><a href="https://tio.run/##bZBNasMwEIX3OsUQBmQTJcIt2cRR8QW66y4qoga5pDSykeKSEKdXd/UT2jqtNpr53nuSRp2276uxdxqetDus14@t1XDwpRMP9yXZn6AKncjItmCbDaXPjIBShANIIpXihGzvvgWveA28GOS4RV8qOAEZDCGz@slAiqUV@2swhad9IhMQ0Q35df0Uyr8wPOsfdgsDmrJI0khp@cECyUvStDaLH5efI9qfMtyZjqE@drmoUJVXDPjaHkQT1TzBncsCjF42C8SIIEsT8My7LqPra2jOaETXdmVVi/1Ld35rd4ZShrNjhmaBKmeUU0YBaABzVIvCIym9hV@K5RJNGSJZyqBh2AulIFacVTXzh8Jp4FIOUvLBMqs/tHW6qnPx6QaYcxyw54Ozl3EsvgA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
<pre class="lang-perl prettyprint-override"><code>sub f{
  $n=pop;             #n = input
  @b=map{             #set array @b to line 2 - n+1
    join'',           #join parts into a line string
    $&quot; x ($n-$_),     #space times n-1
    '/',              #char /
    '  ' x ($n+$_-1), #space times n+iterator minus 1
    '\\',             #char \
    $/                #char newline
  } 1..$n;            #n lines
  join('',            #return string of these joined:
    $&quot; x $n,          #n spaces
    $u = __ x$n,      #n*2 underscores
    $/,               #char newline
    @b,               #lines 2 to n+1 constructed above
    map y|/\\|\\/|r,  #and bottom part which is the same
      reverse@b       #as top part reversed and /\ rotated
  )=~s| +/$|$u/|sr    #and change last spaces of last line to _'s
}
</code></pre>
</div>
<div id="pu17" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, 70 bytes</h1>
<pre><code>ð×©'_¹·×«©¶«©¹'/1Λ¹·Ì'.2Λ¹'\3.Λ«©„./`.;©¶¡Â‚€»`s'.ð:,¹3*&gt;(£„._`:„/\Â‡,
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f//8IbD0w@tVI8/tPPQdiBr9aGVh7aByZ3q@obnZoOFe9T1jEBM9RhjPSANlH3UME9PP0HPGqx64eGmRw2zHjWtObQ7oVhd7/AGK51DO4217DQOLQapi0@wAlL6MSBVC3X@/zcFAA" rel="nofollow noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>
</div>
<div id="pu18" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, <s>119</s> 114 bytes</h1>

<pre class="lang-python prettyprint-override"><code>i=n=input()
d=0
exec&quot;k=i/n|d;print' '*i+'\_/'[~k]+'_ '[i-d&lt;n]*2*(2*n+~i)+'\_/'[k]\nif i==d:d=i=-1\ni-=d|1;&quot;*(n-~n)
</code></pre>
<p><a href="https://tio.run/##LcpLCsIwEADQfU8Rupl8CDVZWuckbejCqTgExiARFEquHl24fPDKp94fEntnFGQpr6rNQHga9vd@HTPyJAfN5clSQYFlB@s2wdJycrApWNjTRZKNVkcrrrH5h5xW4ZtiRDoTMvrws0c6wjxaLb6J6T18AQ" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
</div>
<div id="pu19" class="pu"><h1><a href="https://docs.python.org/2/" rel="noreferrer">Python 2</a>, 92 bytes</h1>

<pre class="lang-python prettyprint-override"><code>k=n=input()
while 1:a=k^k&gt;&gt;n;print&quot; &quot;*a+&quot;\/_&quot;[k/n-2]+&quot;_ &quot;[-n&lt;k&lt;n]*2*(2*n+~a)+&quot;\_/&quot;[k/n];k-=1
</code></pre>
<p><a href="https://tio.run/##K6gsycjPM/r/P9s2zzYzr6C0REOTqzwjMydVwdAq0TY7LtvOLs@6oCgzr0RJQUkrUVspRj9eKTpbP0/XKFZbKV5BKVo3zybbJi9Wy0hLw0grT7suUROoKF4frCjWOlvX1vD/f1MA" rel="noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
</div>
<div id="pu20" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language/a950ad7d925ec9316e3e2fb2cf5d49fd15d23e3d" rel="nofollow noreferrer">Retina 0.8.2</a>, 94 bytes</h1>
<pre><code>.+
$* ¶$&amp;$* 
\G 
¶$%'/$`$%_$%_$`\
r` \G
$%`\$'$%_$%_$%'/¶
^¶( *)
$1 $.&amp;$*_$.&amp;$*_$&amp;
T` `\_` +/$
</code></pre>
<p><a href="https://tio.run/##LYw9CoAwFIP3nOINqb@gKHiGXsDxYZ@Dg4uDeLYeoBerFYSQfISQ@3jOa8@u8ZaHHuwkRVYloF5Q2NUjjS58MsVtoh50pqz/tixSxJZiI10LTsKhHITfK6wmpsGkH5nzhBnLCw" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Link includes test cases. Explanation:</p>
<pre><code>.+
$* ¶$&amp;$* 
</code></pre>
<p>Insert two rows of <code>n</code> spaces.</p>
<pre><code>\G 
¶$%'/$`$%_$%_$`\
</code></pre>
<p>Convert the first row into the top sides of the hexagon.</p>
<pre><code>r` \G
$%`\$'$%_$%_$%'/¶
</code></pre>
<p>Convert the second row into the bottom sides of the hexagon.</p>
<pre><code>^¶( *)
$1 $.&amp;$*_$.&amp;$*_$&amp;
</code></pre>
<p>Insert the top line.</p>
<pre><code>T` `\_` +/$
</code></pre>
<p>Replace the bottom line.</p>
</div>
<div id="pu21" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 141 bytes</h1>

<pre class="lang-ruby prettyprint-override"><code>-&gt;(n,g=-&gt;c,d{(1..n).map{|i|&quot; &quot;*(n-i)+d+&quot; &quot;*2*(n+i-1)+c}},l=g[?/,e=?\\].reverse){[&quot; &quot;*n+?_*n*2,g[e,?/],l[0..-2],l[-1].sub(/ +(?=\/)/,?_*n*2)]}
</code></pre>
<p><a href="https://tio.run/##PcrRCoMgFIDh@z1FdKV5PE5hl@aDmIxVFkGTsDUY1bO7xcbuvh/@uNSv1OnESxKg17xsoF2JRAwU77dp3YYtz/KCBD5Q1rLD6lNs4JKyZt9h1L01Arw2VeUw@qePs6erPc7AzLUIhYLeejDCwWjPiFwd4NLhvNREZIwYXQkq4DtTt6dpecxZZ6U7/aT@urj0Bg" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
<p>If an upper underscore is allowed, then it would take a bit lesser bytes, while the hexagon is as pretty as it was earlier ;-)</p>
<h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 114 bytes</h1>

<pre class="lang-ruby prettyprint-override"><code>-&gt;n{[&quot; &quot;*n+?_*2*n,(g=-&gt;c,d{(1..n).map{|i|&quot; &quot;*(n-i)+c+&quot; &quot;*2*(n+i-1)+d}})[?/,e=?\\],g[e,?/].reverse,&quot; &quot;*n+?‾*n*2]}
</code></pre>
<p><a href="https://tio.run/##KypNqvyfZvtf1y6vOlpJQUkrT9s@XstIK09HI91W1y5ZJ6Vaw1BPL09TLzexoLomswakRiNPN1NTO1kbxDYC8rQzdQ01tVNqazWj7fV1Um3tY2JiddKjU3Xs9WP1ilLLUouKU3Wghj9q2KeVp2UUW/u/oLSkWCEt2jCWC8oygrNMY/8DAA" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
</div>
<div id="pu22" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="noreferrer">Charcoal</a>, 14 bytes</h1>
<pre><code>←×_θ↖θ→↗θ×_θ‖Ｍ
</code></pre>
<p><a href="https://tio.run/##S85ILErOT8z5//9R24TD0@PP7XjUNg1ETHrUNv3cDohIw7T3e9b@/x9taBD7XzcRAA" rel="noreferrer" title="Charcoal – Try It Online">Try it online!</a></p>
<p>+1 byte fix from ASCII-Only.</p>
<p>Draws half of the hexagon, and mirrors it.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/217366/">217366</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




