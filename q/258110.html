<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::258110</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>061</td><td>Maxima</td><td>240515T092738Z</td><td><a href="https://codegolf.stackexchange.com/questions/258110/a-fine-sequence-with-fine-interpretations/273094#273094">138 Aspe</a></td></tr>
<tr d-ix="1"><td>047</td><td>Desmos</td><td>240512T212154Z</td><td><a href="https://codegolf.stackexchange.com/questions/258110/a-fine-sequence-with-fine-interpretations/273069#273069">fireflam</a></td></tr>
<tr d-ix="2"><td>019</td><td>HOPS</td><td>230222T022010Z</td><td><a href="https://codegolf.stackexchange.com/questions/258110/a-fine-sequence-with-fine-interpretations/258117#258117">alephalp</a></td></tr>
<tr d-ix="3"><td>051</td><td>Mathematica</td><td>230411T115747Z</td><td><a href="https://codegolf.stackexchange.com/questions/258110/a-fine-sequence-with-fine-interpretations/259957#259957">138 Aspe</a></td></tr>
<tr d-ix="4"><td>007</td><td>Vyxal</td><td>230222T093914Z</td><td><a href="https://codegolf.stackexchange.com/questions/258110/a-fine-sequence-with-fine-interpretations/258124#258124">math sca</a></td></tr>
<tr d-ix="5"><td>007</td><td>Jelly</td><td>230224T182802Z</td><td><a href="https://codegolf.stackexchange.com/questions/258110/a-fine-sequence-with-fine-interpretations/258213#258213">lynn</a></td></tr>
<tr d-ix="6"><td>041</td><td>Desmos</td><td>230222T021858Z</td><td><a href="https://codegolf.stackexchange.com/questions/258110/a-fine-sequence-with-fine-interpretations/258115#258115">Aiden Ch</a></td></tr>
<tr d-ix="7"><td>049</td><td>Python 2</td><td>230223T020941Z</td><td><a href="https://codegolf.stackexchange.com/questions/258110/a-fine-sequence-with-fine-interpretations/258158#258158">dingledo</a></td></tr>
<tr d-ix="8"><td>014</td><td>05AB1E</td><td>230222T085033Z</td><td><a href="https://codegolf.stackexchange.com/questions/258110/a-fine-sequence-with-fine-interpretations/258123#258123">Kevin Cr</a></td></tr>
<tr d-ix="9"><td>061</td><td>Python 3</td><td>230222T064536Z</td><td><a href="https://codegolf.stackexchange.com/questions/258110/a-fine-sequence-with-fine-interpretations/258120#258120">tsh</a></td></tr>
<tr d-ix="10"><td>032</td><td>Pyt</td><td>230222T143203Z</td><td><a href="https://codegolf.stackexchange.com/questions/258110/a-fine-sequence-with-fine-interpretations/258131#258131">Kip the </a></td></tr>
<tr d-ix="11"><td>069</td><td>Factor + koszul math.combinatorics</td><td>230222T140604Z</td><td><a href="https://codegolf.stackexchange.com/questions/258110/a-fine-sequence-with-fine-interpretations/258130#258130">chunes</a></td></tr>
<tr d-ix="12"><td>025</td><td>Charcoal</td><td>230222T133429Z</td><td><a href="https://codegolf.stackexchange.com/questions/258110/a-fine-sequence-with-fine-interpretations/258128#258128">Neil</a></td></tr>
<tr d-ix="13"><td>011</td><td>Jelly</td><td>230222T101437Z</td><td><a href="https://codegolf.stackexchange.com/questions/258110/a-fine-sequence-with-fine-interpretations/258126#258126">Unrelate</a></td></tr>
<tr d-ix="14"><td>036</td><td>PARI/GP</td><td>230222T033245Z</td><td><a href="https://codegolf.stackexchange.com/questions/258110/a-fine-sequence-with-fine-interpretations/258118#258118">alephalp</a></td></tr>
<tr d-ix="15"><td>048</td><td>JavaScript ES6</td><td>230222T002901Z</td><td><a href="https://codegolf.stackexchange.com/questions/258110/a-fine-sequence-with-fine-interpretations/258111#258111">Arnauld</a></td></tr>
<tr d-ix="16"><td>058</td><td>Python 2</td><td>230222T012551Z</td><td><a href="https://codegolf.stackexchange.com/questions/258110/a-fine-sequence-with-fine-interpretations/258113#258113">Sisyphus</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="http://maxima.sourceforge.net/" rel="nofollow noreferrer">Maxima</a>, 61 bytes</h1>
<p>It's <a href="https://oeis.org/A000957" rel="nofollow noreferrer">A000957</a></p>
<p>Use the generating function</p>
<p><span class="math-container">$$\sum_{n=0}^\infty F_nz^n=\frac1z\cdot\frac{1-\sqrt{1-4z}}{3-\sqrt{1-4z}}$$</span></p>
<hr />
<p>Golfed version. <a href="https://tio.run/##XY5BDoIwEEX3nGKWLWCgxBXElV6kKW1sYqc4HRLl8rWIKzfzk3nJ@z/olw86dzXcrPNoge8W3IqGfUTgCCaGZeXjb6J1zhtvkaHushMoxwtpTj4s4gsF6/cjkhg6oZr0JBbqdK432QzltFvbt7gHSpmnqpRef3aNMyzki/evJ4GLdIzylBhUD2wppNJf7QRHVSitO5jj4RD7MDnlDw" rel="nofollow noreferrer">Try it online!</a></p>
<pre><code>f(n):=ratsimp(coeff(taylor(2/(1+sqrt(1-4*z)+2*z),z,0,n),z,n))
</code></pre>
<p>Ungolfed version. <a href="https://tio.run/##XVDBTsQgEL3zFe8ItabbjaduPOlfGA/YHSJxgTpMk3V/vkIxMcoFHm/mzXsT7NUHu21Dh2dyPhLkneDWOItPEZIwp7Cs0v7nRM752VMUdINyOvag68IG0yPeLmn@0ArlvGRiT/m131EDmCD265JY144etx6HHtG0GiZZOWq2kn1Y9D5It8a9NBpjlDkp9ddolaKcq9Xip6Iy5jjoEXfInyzlcY@H7mYKPparCTz9RLLxjIV9CfMvXIZL3DbhOQvGA4Q45D10YeI0FpbXSpxT09C/2zCnbfsG" rel="nofollow noreferrer">Try it online!</a></p>
<pre><code>/* Define the function to compute the coefficient */
f(n, expr) := block(
    [series],
    series : taylor(expr, z, 0, n),
    return(ratsimp(coeff(series, z, n)))
);

/* Define the expression */
expr : 2/(1 + sqrt(1 - 4*z) + 2*z);

/* Compute and print the coefficients for the first 10 terms */
for n:1 thru 10 do print(f(n, expr));
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://desmos.com/calculator" rel="nofollow noreferrer">Desmos</a>, 47 bytes</h1>
<pre><code>
a(n)=\{n&lt;3:2-n,(3.5-6/n)a(n-1)+(2-3/n)a(n-2)\}
</code></pre>
<p>Byte count includes leading newline, required to make the pasting work right for the piecewise (<code>\{\}</code>).</p>
<p><a href="https://www.desmos.com/calculator/hc4rsfwmap" rel="nofollow noreferrer">Try It On Desmos!</a></p>
<p>48-byte with traditional base case setup:</p>
<pre><code>a(n)=(3.5-6/n)a(n-1)+(2-3/n)a(n-2)
a(1)=1
a(2)=0
</code></pre>
<p><a href="https://www.desmos.com/calculator/gnlcnd9ktv" rel="nofollow noreferrer">Try It On Desmos!</a></p>
<p>Uses the recurrence formula from OEIS:</p>
<pre><code>D-finite with recurrence: 2*n*a(n) +(12-7*n)*a(n-1) +2*(3-2*n)*a(n-2)=0. - R. J. Mathar, Nov 15 2011
</code></pre>
<p>This is one-indexed, so <code>a(5)=6</code>.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://akc.is/hops/" rel="nofollow noreferrer">HOPS</a>, 19 bytes</h1>
<pre><code>C=1+x*C^2;C/(1+x*C)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70kI7-geG20kq5uQVFqsq2RgVLsgqWlJWm6FpudbQ21K7Sc44ysnfU1wExNiAxUwQIoDQA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>The generating function of the Catalan numbers satisfies <span class="math-container">\$C(x)=1+x\ C(x)^2\$</span>. The generating function of this sequence is <span class="math-container">\$F(x)=C(x)/(1+x\ C(x))\$</span>.</p>
<hr />
<h1><a href="https://akc.is/hops/" rel="nofollow noreferrer">HOPS</a>, 19 bytes</h1>
<pre><code>A=1-x*A*(2-(2+x)*A)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70kI7-geG20kq5uQVFqsq2RgVLsgqWlJWm6FpsdbQ11K7QctTSMdDWMtCs0tRw1ITJQBQugNAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>The generating function of this sequence satisfies <span class="math-container">\$A(x)=1-x\ A(x)(2-(2+x)A(x))\$</span>.</p>
<hr />
<h1><a href="https://akc.is/hops/" rel="nofollow noreferrer">HOPS</a>, 21 bytes</h1>
<pre><code>2/(1+2*x+sqrt(1-4*x))
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70kI7-geG20kq5uQVFqsq2RgVLsgqWlJWm6FluN9DUMtY20KrSLC4tKNAx1TbQqNDUhclAlC6A0AA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>A simplified version of the generating function.</p>
</div>
<div id="pu3" class="pu"><h1>Mathematica, 51 bytes</h1>
<p>It's <a href="https://oeis.org/A000957" rel="nofollow noreferrer">A000957</a></p>
<p>Use the generating function</p>
<p><span class="math-container">$$\sum_{n=0}^\infty F_nz^n=\frac1z\cdot\frac{1-\sqrt{1-4z}}{3-\sqrt{1-4z}}$$</span></p>
<p><a href="https://tio.run/##y00syUjNTSzJTE78/z/NNji1KDO12Dk/NS0tMzkzNa8k2khfw1A7uLCoJNpQ10SrKlbbSKtKU6e6SsdAR7k2Vu1/moK@g0JQYl56arShQayCvn5AUWZeyX8A" rel="nofollow noreferrer">Try it online!</a></p>
<pre><code>f=SeriesCoefficient[2/(1+Sqrt[1-4*z]+2*z),{z,0,#}]&amp;
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, <strike>22</strike> <strike>10</strike> 7 bytes</h1>
<p>-12 bytes by emanresu A (double welp)<br />
-3 bytes by alephalpha using a clever approach</p>
<pre><code>ꜝ$ʀƈ¦ṁȧ
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/#WyIiLCIiLCLqnJ0kyoDGiMKm4bmByKciLCIiLCI1Il0=" rel="nofollow noreferrer">Try it Online!</a></p>
<p><strong>How it works</strong></p>
<pre><code>ꜝ$ʀƈ¦ṁȧ
ꜝ$               Bitwise not n and swap with input
  ʀƈ             Take the binomial coefficient
    ¦ṁȧ          Cumultative sum, take the mean and push the absolute value
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 7 bytes</h1>
<pre><code>~cŻÄÆmA
</code></pre>
<p>This calculates <code>abs(mean(cumsum(choose(-n-1, [0..n]))))</code>.</p>
<p><a href="https://tio.run/##y0rNyan8/78u@ejuwy2H23Id/wMZ7Y@a1vz/b2gAAA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<p>The &quot;negative binomial coefficients&quot; are defined as <span class="math-container">$$\binom{-a}{b} = (-1)^b \binom{a+b-1}{b}.$$</span>
And they are supported by Jelly's <code>c</code>. So we can rewrite the closed form as:</p>
<p><span class="math-container">\begin{align}
F_n&amp;=\frac{1}{n+1}\sum_{k=0}^n(-1)^k(k+1)\binom{2n-k}{n-k} \\
&amp; \color{gray}{\text{(introduce negative binomials:)}} \\
&amp;=\frac{1}{n+1}\sum_{k=0}^n(-1)^k(k+1) \color{#0bf}{(-1)^{n-k} \binom{-n-1}{n-k}} \\
&amp; \color{gray}{\text{(factor out powers of $-1$:)}} \\
&amp;=(-1)^n \frac{1}{n+1} \sum_{k=0}^n (k+1) \binom{-n-1}{n-k} \\
&amp; \color{gray}{\text{(substitute $j=n-k$:)}} \\
&amp;=(-1)^n \frac{1}{n+1} \sum_{j=0}^n (n+1-j) \binom{-n-1}{j}
\end{align}</span></p>
<p>The <code>~cŻ</code> generates the negative binomials <span class="math-container">\$\binom{-n-1}{0}\$</span> through <span class="math-container">\$\binom{-n-1}{n}\$</span>.</p>
<p>Then we use an obscure trick: we can calculate <span class="math-container">\$\sum_{j=0}^n (n+1-j) \cdot z_j\$</span> as <code>sum(cumsum(z))</code>, or <code>ÄS</code> in Jelly parlance. But then because we want to divide by <span class="math-container">\$n+1\$</span> immediately after, and our list has <span class="math-container">\$n+1\$</span> elements, we can write <code>Æm</code> (mean) instead of <code>S</code> (sum).</p>
<p>Here's an example of why this works:
<span class="math-container">\begin{align}
&amp; \textrm{sum}(\textrm{cumsum}([a,b,c,d])) \\ =~&amp; (a) + (a+b) + (a+b+c) + (a+b+c+d) \\ =~&amp; 4a+3b+2c+d
\end{align}</span></p>
<p>Finally we still have to multiply by <span class="math-container">\$(-1)^n\$</span> to fix the sign. But because we know the Fine numbers are never negative, we can just take the absolute value with <code>A</code>.</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://desmos.com/calculator" rel="nofollow noreferrer">Desmos</a>, <s>46</s> 41 bytes</h1>
<pre><code>f(n)=-∑_{k=1}^n(-1)^kknCr(2n-k-1,n-k)/n
</code></pre>
<p>A port of the explicit formula but with one-indexing instead of zero-indexing.</p>
<p><a href="https://www.desmos.com/calculator/1q5oj0ifah" rel="nofollow noreferrer">Try It On Desmos!</a></p>
<p><a href="https://www.desmos.com/calculator/hdplzbpejf" rel="nofollow noreferrer">Try It On Desmos! - Prettified</a></p>
<h3>Proof for the formula:</h3>
<p>We start with the explicit formula given in the question:
<span class="math-container">$$F(n)=\frac1{n+1}\sum_{k=0}^n(-1)^k(k+1)\binom{2n-k}{n-k}$$</span>
Then convert it to one-indexing (making a new function <span class="math-container">\$f\$</span>) by doing the following:
<span class="math-container">$$f(n)=F(n-1)=\frac1n\sum_{k=0}^{n-1}(-1)^k(k+1)\binom{2n-k-2}{n-k-1}$$</span>
From there, shift the bounds of the summation up by one, making sure to correct the shift within the summation:
<span class="math-container">$$\frac1n\sum_{k=0}^{n-1}(-1)^k(k+1)\binom{2n-k-2}{n-k-1}=\frac1n\sum_{k=1}^n(-1)^{k-1}k\binom{2n-k-1}{n-k}$$</span>
Factoring out a <span class="math-container">\$-1\$</span> gives the formula used in my answer:
<span class="math-container">$$f(n)=-\frac1n\sum_{k=1}^n(-1)^kk\binom{2n-k-1}{n-k}$$</span></p>
</div>
<div id="pu7" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, 49 bytes</h1>
<p>Prints the sequence indefinitely.</p>

<pre class="lang-python prettyprint-override"><code>x=c=n=1
while 1:print x;n+=1;c=c*4-c*6/n;x=c-x&gt;&gt;1
</code></pre>
<p><a href="https://tio.run/##K6gsycjPM/r/v8I22TbP1pCrPCMzJ1XB0KqgKDOvRKHCOk/b1tA62TZZy0Q3WctMP88aqFC3ws7O8P9/AA" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
<p>Based on the Sage program at the end of the OEIS page.</p>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, <s>22</s> <s>21</s> 14 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>xŸIc2Å€(}ηOÅAÄ
</code></pre>
<p>Port of <a href="https://codegolf.stackexchange.com/a/258124/52210"><em>@mathcat</em>'s Vyxal answer</a>, so make sure to upvote him as well!</p>
<p>Uses the formula: <span class="math-container">$$G_{n,k} = (-1)^{(k+1)}\binom{k}{n} + G_{n-1,k}\\
F_n=\left|\frac{1}{n+1}\sum_{k=n}^{2n}G_{n,k}\right|$$</span><br />
Given <span class="math-container">\$n\$</span>, it'll output <span class="math-container">\$F_n\$</span>.</p>
<p><a href="https://tio.run/##yy9OTMpM/f@/4ugOz2Sjw62PmtZo1J7b7n@41fFwy///hkYA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##ATIAzf9vc2FiaWX/MTXGkk4/IiDihpIgIj9Owqn/eMW4wq5jMsOF4oKsKH3Ot0/DhUHDhP8s/w" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>x              # Push double the (implicit) input (without popping)
 Ÿ             # Pop both, and push a list in the range [input,2*input]
  Ic           # Calculate the bionomical coefficient of each value with the input
    2Å€(}      # Negate every second item, starting with the first:
    2          #  Push a 2
     Å€ }      #  Map over each item where the 0-based index is divisible by 2:
       (       #   Negate that item
         ηO    # Calculate its cumulative sum:
         η     #  Get all prefixed of this list
          O    #  Sum each inner prefix-list together
           ÅA  # Get the arithmetic mean of that
             Ä # Convert it to its absolute value
               # (after which it is output implicitly as result)
</code></pre>
<hr />
<p><strong>Original <s>22</s> 21 bytes answer:</strong></p>
<pre class="lang-python prettyprint-override"><code>ÝεÈ·&lt;y&gt;Ixs‚y-`cI&gt;zP}O
</code></pre>
<p>-1 byte thanks to <em>@emanresuA</em></p>
<p>Uses the given explicit formula: <span class="math-container">$$F_n=\sum_{k=0}^n(-1)^k(k+1)\binom{2n-k}{n-k}\frac1{n+1}$$</span><br />
Given <span class="math-container">\$n\$</span>, it'll output <span class="math-container">\$F_n\$</span>.</p>
<p><a href="https://tio.run/##yy9OTMpM/f//8NxzWw93HNpuU2nnWVH8qGFWpW5CsqddVUCt////hkYA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##ATkAxv9vc2FiaWX/MTXGkk4/IiDihpIgIj9Owqn/w53OtcOIwrc8eT7Crnhz4oCaeS1gY8KuPnpQfU//LP8" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>Ý              # Push a list in the range [0, (implicit) input]
 ε             # Map each integer to:
  È            #  Check whether it's even
   ·           #  Double that check (2 if even; 0 if odd)
    &lt;          #  Decrease it by 1 (1 if event; -1 if odd)
  y&gt;           #  Push the current integer, and decrease it by 1
  I            #  Push the input
   x           #  Double it (without popping)
    s‚         #  Swap, and pair them together: [2n,n]
      y-       #  Subtract the current integer from each: [2n-k,n-k]
        `      #  Pop and push the values back to the stack
         c     #  Calculate their binomial coefficient
  I&gt;z          #  Push 1/(input+1)
  P            #  Take the product of the four values on the stack
 }O            # After the map: sum them together
               # (after which the result is output implicitly)
</code></pre>
</div>
<div id="pu9" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 61 bytes</h1>

<pre class="lang-python prettyprint-override"><code>f=lambda n,v=1:sum(f(i,0)*f(n+~i,v)for i in range(v,n))or 1-n
</code></pre>
<p><a href="https://tio.run/##XcxBCoAgEEDRq8zSKQOlneBhjLIGchQzoU1XN9dt/4eXnnJEnlvz9nRhWR2wrFab6w7CC5IKBy94fElW9DEDATFkx/smqmTEnvTE7be0QpMycelCVxDbBw" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
<h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 50 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>f=(n,v=1,i=v)=&gt;i&lt;n?f(i,0)*f(n+~i,v)+f(n,v,i+1):+!n
</code></pre>
<p><a href="https://tio.run/##FcsxDoMwDEDRs7DFtUFkLXF7FkQxchXZCKqMXD0Ny5/@@85lPpdD919v/llrFQ5GhSMpF@CXJntLUBrhIcHwUiqAci@kGOGJnVXxIyiPk6bYggiL2@l5HbJvjTYOUP8" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>Another <a href="https://tio.run/##FcsxDoMwDEDR01Sya4rqgaUkcBaUxsgVshEgJsTVQ1n@9P5v2Ic1LTpvL/NvLkUiWKXRHnwcXDcYOw3WCyg@BYxORZJbEOPHAhfxBTS@Ww38DxEmt9WnXE8@glb3iOUC" rel="nofollow noreferrer">47 bytes JavaScript</a> answer but output <code>true</code> and <code>false</code> for <code>f(0)</code>, <code>f(1)</code>.</p>
<p>First, we write down following recursive formula:</p>
<p><span class="math-container">$$F_n=\sum_{i=1}^{n-1}C_i\cdot F_{n-i-1}$$</span>
<span class="math-container">$$F_1=0, F_0=1$$</span>
<span class="math-container">$$C_n=\sum_{i=0}^{n-1}C_i\cdot C_{n-i-1}$$</span>
<span class="math-container">$$C_0=1$$</span></p>
<p>Then, we try to merge two functions into one</p>
<p><span class="math-container">$$f(x,1):=F_x$$</span>
<span class="math-container">$$f(x,0):=C_x$$</span>
<span class="math-container">$$f(x,v)=\begin{cases}\sum_{i=v}^{x-1}f(i,0)\cdot f(x-i-1,v) &amp; x&gt;v\\ 0 &amp; x=v=1 \\ 1 &amp; x=0 \end{cases}$$</span></p>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/mudkip201/pyt" rel="nofollow noreferrer">Pyt</a>, 32 bytes</h1>
<pre><code>Đ⁺Đř⁻ĐĐ05Ș↔+2ř*⇹ɐ-Á⇹ć⇹⁺*⇹1~⇹^·⇹/
</code></pre>
<p><a href="https://tio.run/##K6gs@f//yIRHjbuOTDg681Hj7iMTjkwwMD0x41HbFG2jozO1HrXvPDlB93AjkD7SDiSAKkFihnVAIu7QdiCp//@/IQA" rel="nofollow noreferrer" title="Pyt – Try It Online">Try it online!</a></p>
<p>Naive implementation of the formula in the question.</p>
<p>The following walkthrough of the code is worked on an input of n=3</p>
<div class="s-table-container">
<table class="s-table">
<thead>
<tr>
<th>Code</th>
<th>Stack</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr>
<td>Đ</td>
<td>3 3</td>
<td>implicit input; <strong>Đ</strong>uplicate</td>
</tr>
<tr>
<td>⁺</td>
<td>3 4</td>
<td>increment</td>
</tr>
<tr>
<td>Đ</td>
<td>3 4 4</td>
<td><strong>Đ</strong>uplicate</td>
</tr>
<tr>
<td>ř</td>
<td>3 4 [1,2,3,4]</td>
<td><strong>ř</strong>angify</td>
</tr>
<tr>
<td>⁻</td>
<td>3 4 [0,1,2,3]</td>
<td>decrement</td>
</tr>
<tr>
<td>ĐĐ</td>
<td>3 4 [0,1,2,3] [0,1,2,3] [0,1,2,3]</td>
<td><strong>Đ</strong>uplicate twice</td>
</tr>
<tr>
<td>05Ș</td>
<td>3 0 [0,1,2,3] [0,1,2,3] [0,1,2,3] 4</td>
<td>Push <strong>0</strong>, then <strong>Șwap</strong> the top <strong>5</strong> items on the stack</td>
</tr>
<tr>
<td>↔</td>
<td>4 [0,1,2,3] [0,1,2,3] [0,1,2,3] 0 3</td>
<td>Flip the entire stack</td>
</tr>
<tr>
<td>+</td>
<td>4 [0,1,2,3] [0,1,2,3] [0,1,2,3] 3</td>
<td>Remove that pesky 0 by adding</td>
</tr>
<tr>
<td>2ř</td>
<td>4 [0,1,2,3] [0,1,2,3] [0,1,2,3] 3 [1,2]</td>
<td>Push <strong>2</strong> and <strong>ř</strong>angify</td>
</tr>
<tr>
<td>*</td>
<td>4 [0,1,2,3] [0,1,2,3] [0,1,2,3] [3,6]</td>
<td>Multiply</td>
</tr>
<tr>
<td>⇹</td>
<td>4 [0,1,2,3] [0,1,2,3] [3,6] [0,1,2,3]</td>
<td>Swap the top two items on the stack</td>
</tr>
<tr>
<td>ɐ-</td>
<td>4 [0,1,2,3] [0,1,2,3] [[3,2,1,0],[6,5,4,3]]</td>
<td>For <strong>ɐ</strong>ll pairs of values, subtract</td>
</tr>
<tr>
<td>Á</td>
<td>4 [0,1,2,3] [0,1,2,3] [3,2,1,0] [6,5,4,3]</td>
<td>Push contents of <strong>Árray</strong> to stack</td>
</tr>
<tr>
<td>⇹</td>
<td>4 [0,1,2,3] [0,1,2,3] [6,5,4,3] [3,2,1,0]</td>
<td>Swap the top two items on the stack</td>
</tr>
<tr>
<td>ć</td>
<td>4 [0,1,2,3] [0,1,2,3] [20,10,4,1]</td>
<td>nCr</td>
</tr>
<tr>
<td>⇹</td>
<td>4 [0,1,2,3] [20,10,4,1] [0,1,2,3]</td>
<td>Swap top two items on stack</td>
</tr>
<tr>
<td>⁺</td>
<td>4 [0,1,2,3] [20,10,4,1] [1,2,3,4]</td>
<td>Increment</td>
</tr>
<tr>
<td>*</td>
<td>4 [0,1,2,3] [20,20,12,4]</td>
<td>multiply element-wise</td>
</tr>
<tr>
<td>⇹</td>
<td>4 [20,20,12,4] [0,1,2,3]</td>
<td>Swap top two items</td>
</tr>
<tr>
<td>1~</td>
<td>4 [20,20,12,4] [0,1,2,3] -1</td>
<td>Push <strong>1</strong>, then negate</td>
</tr>
<tr>
<td>⇹^</td>
<td>4 [20,20,12,4] [1,-1,1,-1]</td>
<td>Swap top two, then exponentiate</td>
</tr>
<tr>
<td>·</td>
<td>4 8</td>
<td>Dot product</td>
</tr>
<tr>
<td>⇹/</td>
<td>2</td>
<td>Swap top two items, then divide; implicit print</td>
</tr>
</tbody>
</table>
</div></div>
<div id="pu11" class="pu"><h1><a href="https://factorcode.org/" rel="nofollow noreferrer">Factor</a> + <code>koszul math.combinatorics</code>, 69 bytes</h1>
<pre class="lang-factor prettyprint-override"><code>[ 4 dupn + [a,b] [ -1^ -rot nCk * ] with map-index cum-sum mean abs ]
</code></pre>
<p><a href="https://tio.run/##JYyxDoJAEAV7v@LVKiYkVlpaGBsbY0UwWY4VL3B7eLcXlZ9HlHbmvbmTUR/G6@V0Pu4Q@ZlYDEc0LByoswOp9RLhSB@bQNJMruUg3KH1cUjdbIx3lRWaUtbM45lHnf5Rf7APrPrpgxXFfrHIc1ivNBbYok69YIWC1lWJAll@Qxa8Qg4tlijxsv9en1mp@Q2TXBaTg2MSUBVRjpPEZvwC" rel="nofollow noreferrer" title="Factor – Try It Online">Try it online!</a></p>
<p>&quot;Mathy&quot; answers cause far too much whitespace in Factor so this is a port of mathcat's <a href="https://codegolf.stackexchange.com/a/258124/97916">Vyxal answer</a>.</p>
</div>
<div id="pu12" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 25 bytes</h1>
<pre><code>⊞υ¹≔¹θＦＮ≔⊘⁻↨⊞ＯυΣ×⮌υυ⁰θθＩθ
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70iOSOxKDk_MWfBgqWlJWm6Fjf7A0qLMzRKdRQMNa25HIuLM9PzNAx1FAqBvLT8IgUNz7yC0hK_0tyk1CINTU0FqAqPxJyy1BQN38y80mINp8TiVA2QMf4FqUWJJflFIOOCS3M1QjJzU4s1glLLUouAKko1dRRKNTWBpIEmyAJNiC0BRZl5JRrOicUlGkAx6yXFScnFUMctj1bSLctRil1oBuEDAA" rel="nofollow noreferrer">Attempt This Online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>⊞υ¹
</code></pre>
<p>Start with <code>C(0)</code> = 1.</p>
<pre><code>≔¹θ
</code></pre>
<p>Start with <code>F(0)</code> = 1.</p>
<pre><code>ＦＮ
</code></pre>
<p>Loop <code>n</code> times.</p>
<pre><code>≔⊘⁻↨⊞ＯυΣ×⮌υυ⁰θθ
</code></pre>
<p>Calculate the next Catalan number from the dot product of the list of numbers with its reverse and use that to calculate the next Fine number.</p>
<pre><code>Ｉθ
</code></pre>
<p>Output <code>F(n)</code>.</p>
</div>
<div id="pu13" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, <s>12</s> 11 bytes</h1>
<pre><code>ḤrcµJNÐeḋ:L
</code></pre>
<p><a href="https://tio.run/##ASUA2v9qZWxsef//4bikcmPCtUpOw5Bl4biLOkz/xbvDh@KCrFn//zEw" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<p>Port of emanresu A's golf to <a href="https://codegolf.stackexchange.com/a/258124/85334">mathcat's Vyxal solution</a>.</p>
<pre><code>Ḥrc            Each of [2n .. n] choose n.
   µ    ḋ      Take the dot product of that with
    J          [1 .. n+1]
     NÐe       with every other element negated,
         :     and (floor) divide that by
   µ      L    n+1.
</code></pre>
<h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 18 bytes</h1>
<pre><code>o2µḤœcµṬ-*ÄAƑ×ṂḂ)S
</code></pre>
<p><a href="https://tio.run/##ATQAy/9qZWxsef//bzLCteG4pMWTY8K14bmsLSrDhEHGkcOX4bmC4biCKVP/xbvDh@KCrFn//zEw" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<p>Haven't actually tried any closed form or recursive formulae, but ignoring the special case fix for <span class="math-container">\$n=0\$</span> this brute-force enumeration feels elegant enough to post, <s>especially considering how the current golflang closed form solutions are</s>. Leverages the &quot;even number of leading up-steps&quot; interpretation--or rather, &quot;first down-step at an odd 1-index&quot;, hence the special case.</p>
<pre><code>o2µ                   If n is 0, from here on out, pretend it's 2.
    œc                Get every combination of n elements from
   Ḥ                  [1 .. 2n],
      µ         )     then for each combination:
       Ṭ-*            Produce a list of -1 at those indices and 1 elsewhere,
          Ä           take its cumulative sums,
           AƑ         and check that none of those is negative.
             ×        Multiply that result by
              Ṃ       the smallest element of the combination.
               Ḃ S    How many are odd?
</code></pre>
</div>
<div id="pu14" class="pu"><h1><a href="https://pari.math.u-bordeaux.fr" rel="nofollow noreferrer">PARI/GP</a>, 36 bytes</h1>
<pre><code>n-&gt;Vec(2/(1+2*x+sqrt(1-4*x+O(x^n))))
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m728ILEoMz69YMHiNAXbpaUlaboWN1XydO3CUpM1jPQ1DLWNtCq0iwuLSjQMdU2ATH-Nirg8TSCAqF1TUJSZV6KRpmFkABNasABCAwA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Using the generating function.</p>
<hr />
<h1><a href="https://pari.math.u-bordeaux.fr" rel="nofollow noreferrer">PARI/GP</a>, 39 bytes</h1>
<pre><code>n-&gt;(matrix(n+1,,i,j,i&gt;abs(j-2))^n)[1,1]
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m728ILEoMz69YMHiNAXbpaUlaboWN9XzdO00chNLijIrNPK0DXV0MnWydDLtEpOKNbJ0jTQ14_I0ow11DGOhylXS8os08hRsFQx0FIyAuKAoM68EKKCkoGsHJNI08jQ1NSFqFyyA0AA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Using this interesting formula on OEIS:</p>
<pre><code>a(n) = the upper left term in M^n, n&gt;0; where M = the infinite square production matrix:
0, 1, 0, 0, 0, 0, ...
1, 1, 1, 0, 0, 0, ...
1, 1, 1, 1, 0, 0, ...
1, 1, 1, 1, 1, 0, ...
1, 1, 1, 1, 1, 1, ...
...
- Gary W. Adamson, Jul 14 2011 
</code></pre>
</div>
<div id="pu15" class="pu"><h1>JavaScript (ES6), 48 bytes</h1>
<p>Returns the <span class="math-container">\$n\$</span>-th term (0-indexed).</p>
<p>Inspired by the Catalan recurrence <a href="https://codegolf.stackexchange.com/users/48931/sisyphus">pointed out by Sisyphus</a>.</p>

<pre class="lang-javascript prettyprint-override"><code>f=n=&gt;n?(g=n=&gt;n?g(n-1)*(4+6/~n):1)(n)-f(n-1)&gt;&gt;1:1
</code></pre>
<p><a href="https://tio.run/##JYxBDsIgEEX3PcUsupiRoJKoi1bwKiUViIYMpm3cELw6El29n5ef97Rvu87L47VJTndXq9esDd8w/BmQpaIdnsTl8GEaFCGT9D9rjBpU9WnB6DZg0HAcG64a1LkNIQhyBzAnXlN0@5gCThb7zIXat8@tQmWisSv1Cw" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<hr />
<h1>JavaScript (ES6), 60 bytes</h1>
<p>Returns the <span class="math-container">\$n\$</span>-th term (0-indexed).</p>
<p>This is based on the explicit formula provided in the challenge.</p>

<pre class="lang-javascript prettyprint-override"><code>f=(n,k=n)=&gt;~k&amp;&amp;(g=v=&gt;v--?(v-n-k)*g(v)/~v:--k-n)(k)/~n-f(n,k)
</code></pre>
<p><a href="https://tio.run/##FYzNDoIwEITvPMUeCNkV15@DF3HxVWiwEG2zNUB6IfDqtZ5mvmS@@Zho5n56fxfW8LIpDYJ6dKIk7e6qCkeJ0kbmJ0ZWdnQYMdJ5j3dmx0roMigPf4nSECb0dgEFgUuT4yFwveVS1wRrAdAHnYO3Jx9G7AyWq26Ut@WaD2jrqCm29AM" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu16" class="pu"><h1><a href="https://docs.python.org/2/" rel="noreferrer">Python 2</a>, 58 bytes</h1>

<pre class="lang-python prettyprint-override"><code>i=a=1;b=0
while 1:print a;i+=1;a,b=2*b+7*a/2-(2*a+b)*3/i,a
</code></pre>
<p><a href="https://tio.run/##K6gsycjPM/r/P9M20dbQOsnWgKs8IzMnVcHQqqAoM69EIdE6UxsokaiTZGuklaRtrpWob6SrYaSVqJ2kqWWsn6mT@P@/oQEA" rel="noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
<p>Prints the sequence endlessly. The method substitutes <span class="math-container">\$C_n = 2F_n + F_{n-1} \$</span> into the Catalan recurrence
<span class="math-container">$$
C_n = 4C_{n-1} - \left\lfloor \frac{6C_{n-1}}{n+1} \right\rfloor
$$</span></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/258110/">258110</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




