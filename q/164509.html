<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::QNNN</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
  <!-- TXXX -->
<tr d-ix="0"><td>003</td><td>Nekomata + n</td><td>230817T054400Z</td><td><a href="https://codegolf.stackexchange.com/questions/164509/sign-swapping-sums/264284#264284">alephalp</a></td></tr>
<tr d-ix="1"><td>074</td><td>Desmos</td><td>230816T185804Z</td><td><a href="https://codegolf.stackexchange.com/questions/164509/sign-swapping-sums/264271#264271">fwoosh</a></td></tr>
<tr d-ix="2"><td>003</td><td>Thunno 2 L</td><td>230816T102655Z</td><td><a href="https://codegolf.stackexchange.com/questions/164509/sign-swapping-sums/264252#264252">The Thon</a></td></tr>
<tr d-ix="3"><td>052</td><td>Julia 0.6</td><td>180702T172353Z</td><td><a href="https://codegolf.stackexchange.com/questions/164509/sign-swapping-sums/167729#167729">Sundar R</a></td></tr>
<tr d-ix="4"><td>069</td><td>C gcc</td><td>180622T174535Z</td><td><a href="https://codegolf.stackexchange.com/questions/164509/sign-swapping-sums/167317#167317">ceilingc</a></td></tr>
<tr d-ix="5"><td>029</td><td>x86_64 machine language for Linux</td><td>180623T015429Z</td><td><a href="https://codegolf.stackexchange.com/questions/164509/sign-swapping-sums/167330#167330">ceilingc</a></td></tr>
<tr d-ix="6"><td>204</td><td>C gcc</td><td>180510T162959Z</td><td><a href="https://codegolf.stackexchange.com/questions/164509/sign-swapping-sums/164561#164561">Jonathan</a></td></tr>
<tr d-ix="7"><td>085</td><td>Java 8</td><td>180622T150929Z</td><td><a href="https://codegolf.stackexchange.com/questions/164509/sign-swapping-sums/167311#167311">Jakob</a></td></tr>
<tr d-ix="8"><td>044</td><td>Java 8</td><td>180511T075100Z</td><td><a href="https://codegolf.stackexchange.com/questions/164509/sign-swapping-sums/164587#164587">Kevin Cr</a></td></tr>
<tr d-ix="9"><td>039</td><td>Pari/GP</td><td>180510T060256Z</td><td><a href="https://codegolf.stackexchange.com/questions/164509/sign-swapping-sums/164526#164526">alephalp</a></td></tr>
<tr d-ix="10"><td>009</td><td>Japt</td><td>180510T092155Z</td><td><a href="https://codegolf.stackexchange.com/questions/164509/sign-swapping-sums/164530#164530">Endenite</a></td></tr>
<tr d-ix="11"><td>027</td><td>Retina</td><td>180513T064637Z</td><td><a href="https://codegolf.stackexchange.com/questions/164509/sign-swapping-sums/164679#164679">TwiNight</a></td></tr>
<tr d-ix="12"><td>021</td><td>APL Dyalog Classic</td><td>180513T063918Z</td><td><a href="https://codegolf.stackexchange.com/questions/164509/sign-swapping-sums/164678#164678">TwiNight</a></td></tr>
<tr d-ix="13"><td>082</td><td>Clean</td><td>180511T023958Z</td><td><a href="https://codegolf.stackexchange.com/questions/164509/sign-swapping-sums/164581#164581">Οurous</a></td></tr>
<tr d-ix="14"><td>011</td><td>APL Dyalog Classic</td><td>180510T114225Z</td><td><a href="https://codegolf.stackexchange.com/questions/164509/sign-swapping-sums/164539#164539">ngn</a></td></tr>
<tr d-ix="15"><td>052</td><td>Python 2</td><td>180511T000303Z</td><td><a href="https://codegolf.stackexchange.com/questions/164509/sign-swapping-sums/164577#164577">xnor</a></td></tr>
<tr d-ix="16"><td>062</td><td>R</td><td>180510T183028Z</td><td><a href="https://codegolf.stackexchange.com/questions/164509/sign-swapping-sums/164569#164569">Giuseppe</a></td></tr>
<tr d-ix="17"><td>049</td><td>Bash + GNU utilities</td><td>180510T155004Z</td><td><a href="https://codegolf.stackexchange.com/questions/164509/sign-swapping-sums/164556#164556">Digital </a></td></tr>
<tr d-ix="18"><td>029</td><td>Attache</td><td>180510T145311Z</td><td><a href="https://codegolf.stackexchange.com/questions/164509/sign-swapping-sums/164553#164553">Conor O&</a></td></tr>
<tr d-ix="19"><td>075</td><td>R</td><td>180510T100906Z</td><td><a href="https://codegolf.stackexchange.com/questions/164509/sign-swapping-sums/164532#164532">Andrew H</a></td></tr>
<tr d-ix="20"><td>010</td><td>MATL</td><td>180510T101708Z</td><td><a href="https://codegolf.stackexchange.com/questions/164509/sign-swapping-sums/164535#164535">Stewie G</a></td></tr>
<tr d-ix="21"><td>033</td><td>Perl 6</td><td>180510T134519Z</td><td><a href="https://codegolf.stackexchange.com/questions/164509/sign-swapping-sums/164548#164548">nwellnho</a></td></tr>
<tr d-ix="22"><td>032</td><td>APL Dyalog Classic</td><td>180510T022938Z</td><td><a href="https://codegolf.stackexchange.com/questions/164509/sign-swapping-sums/164519#164519">Adalynn</a></td></tr>
<tr d-ix="23"><td>006</td><td>Jelly</td><td>180510T014436Z</td><td><a href="https://codegolf.stackexchange.com/questions/164509/sign-swapping-sums/164512#164512">Dennis</a></td></tr>
<tr d-ix="24"><td>005</td><td>Husk</td><td>180510T125306Z</td><td><a href="https://codegolf.stackexchange.com/questions/164509/sign-swapping-sums/164542#164542">Fyr</a></td></tr>
<tr d-ix="25"><td>063</td><td>JavaScript ES6</td><td>180510T101206Z</td><td><a href="https://codegolf.stackexchange.com/questions/164509/sign-swapping-sums/164534#164534">Arnauld</a></td></tr>
<tr d-ix="26"><td>046</td><td>Haskell</td><td>180510T101151Z</td><td><a href="https://codegolf.stackexchange.com/questions/164509/sign-swapping-sums/164533#164533">nimi</a></td></tr>
<tr d-ix="27"><td>012</td><td>Stax</td><td>180510T093034Z</td><td><a href="https://codegolf.stackexchange.com/questions/164509/sign-swapping-sums/164531#164531">wastl</a></td></tr>
<tr d-ix="28"><td>073</td><td>Red</td><td>180510T065350Z</td><td><a href="https://codegolf.stackexchange.com/questions/164509/sign-swapping-sums/164528#164528">Galen Iv</a></td></tr>
<tr d-ix="29"><td>040</td><td>Octave / MATLAB</td><td>180510T063620Z</td><td><a href="https://codegolf.stackexchange.com/questions/164509/sign-swapping-sums/164527#164527">Luis Men</a></td></tr>
<tr d-ix="30"><td>064</td><td>JavaScript Babel Node</td><td>180510T025017Z</td><td><a href="https://codegolf.stackexchange.com/questions/164509/sign-swapping-sums/164522#164522">tsh</a></td></tr>
<tr d-ix="31"><td>039</td><td>Perl 5 p</td><td>180510T041217Z</td><td><a href="https://codegolf.stackexchange.com/questions/164509/sign-swapping-sums/164524#164524">Xcali</a></td></tr>
<tr d-ix="32"><td>005</td><td>Pyth</td><td>180510T040215Z</td><td><a href="https://codegolf.stackexchange.com/questions/164509/sign-swapping-sums/164523#164523">Mr. Xcod</a></td></tr>
<tr d-ix="33"><td>004</td><td>05AB1E</td><td>180510T042500Z</td><td><a href="https://codegolf.stackexchange.com/questions/164509/sign-swapping-sums/164525#164525">Mr. Xcod</a></td></tr>
<tr d-ix="34"><td>027</td><td>Wolfram Language Mathematica</td><td>180510T014549Z</td><td><a href="https://codegolf.stackexchange.com/questions/164509/sign-swapping-sums/164513#164513">JungHwan</a></td></tr>
<tr d-ix="35"><td>055</td><td>Python 2</td><td>180510T022946Z</td><td><a href="https://codegolf.stackexchange.com/questions/164509/sign-swapping-sums/164520#164520">Dennis</a></td></tr>
<tr d-ix="36"><td>061</td><td>Python 3</td><td>180510T022425Z</td><td><a href="https://codegolf.stackexchange.com/questions/164509/sign-swapping-sums/164518#164518">Bubbler</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/AlephAlpha/Nekomata" rel="nofollow noreferrer">Nekomata</a> + <code>-n</code>, 3 bytes</h1>
<pre><code>ŋ∑ũ
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70iLzU7PzexJHFNtJJurpKOgpJunlLsgqWlJWm6FsuPdj_qmHh05ZLipORiqNiCm7XRhjoKRrFcYArOAiGEmDmcaayjYKKjYKqjYKajABI1Bis1AZNAUUuwIjMwGyhlCtFnDha1AAsZgqWBbEMDoPJYiCsA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre><code>ŋ∑ũ
ŋ       Non-deterministically negate some elements of the input
 ∑      Sum
  ũ     Unique values
</code></pre>
<p><code>-n</code> counts the number of possible outputs.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.desmos.com/calculator" rel="nofollow noreferrer">Desmos</a>, <s>90</s> 74 bytes</h1>
<p><em>-16 bytes thanks to <a href="https://codegolf.stackexchange.com/users/96039/aiden-chow">Aiden Chow</a></em>!</p>
<pre><code>f(A)=unique(∑_{j=1}^a(-1)^{floor([0...2^a]2/2^j)}A[j]).length
a=A.length
</code></pre>
<p><a href="https://www.desmos.com/calculator/macn8ggqsp" rel="nofollow noreferrer">Try it on Desmos!</a></p>
<p>Brute-forces all possible sums; then counts the number of distinct sums.</p>
<p>The exact choice of <code>+</code> or <code>-</code> is encoded in the binary digits of <code>i</code>, ignoring the zeroth bit because Desmos arrays are 1-indexed.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/Thunno/Thunno2" rel="nofollow noreferrer">Thunno 2</a> <code>L</code>, 3 <a href="https://github.com/Thunno/Thunno2/blob/main/docs/codepage.md" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>ʠʂU
</code></pre>
<p><a href="https://Not-Thonnu.github.io/run#aGVhZGVyPSZjb2RlPSVDQSVBMCVDQSU4MlUmZm9vdGVyPSZpbnB1dD0lNUIxJTJDJTIwMiU1RCUyMCUzRCUzRSUyMDQlMEElNUIxJTJDJTIwMiUyQyUyMDIlNUQlMjAlM0QlM0UlMjA2JTBBJTVCMSUyQyUyMDIlMkMlMjAyNyU1RCUyMCUzRCUzRSUyMDglMEElNUIxJTJDJTIwMiUyQyUyMDMlMkMlMjA0JTJDJTIwNSUyQyUyMDYlMkMlMjA3JTVEJTIwJTNEJTNFJTIwMjklMEElNUIzJTJDJTIwMSUyQyUyMDQlMkMlMjAxJTJDJTIwNSUyQyUyMDklMkMlMjAyJTJDJTIwNiUyQyUyMDUlMkMlMjAzJTJDJTIwNSU1RCUyMCUzRCUzRSUyMDQ1JTBBJTVCMSUyQyUyMDclMkMlMjAyJTJDJTIwOCUyQyUyMDMlMkMlMjAxJTJDJTIwNiUyQyUyMDglMkMlMjAxMCUyQyUyMDklNUQlMjAlM0QlM0UlMjA1NiZmbGFncz1DTGU=" rel="nofollow noreferrer">Try it online!</a></p>
<h4>Explanation</h4>
<pre class="lang-python prettyprint-override"><code>ʠʂU  # Implicit input
ʠ    # Powerset
 ʂ   # Sum each
  U  # Uniquify
     # Length
     # Implicit output
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="http://julialang.org/" rel="nofollow noreferrer">Julia 0.6</a>, <strike>54</strike> 52 bytes</h1>



<pre class="lang-julia prettyprint-override"><code>V-&gt;(~W=W==[]?0:∪([n=W[] -n].+~W[2:end]))(V)|&gt;endof
</code></pre>

<p><a href="https://tio.run/##VVFBTsMwELznFT4mwkWxY6/tSim/aA6RD5WgUlEJFYIb6rlP4A08qx8JO95AhaKVx7M7u@PN88fxsKN538/b1aY@D/3Q92N@aNfXy3c9Tv0wZrWa8v3deRjt@ml6zE1Tb5vPDcPX/fyyO9Wnt8P0fpyul6@9VlVdjUYrm7Wc/2G44U4rp5XXirQqdNJ/H66cN6XElKpURFQwp/zSKBQ6Fs6UPGPTcn1pyaxlIlmQzDomiIomxXJ4BHcJ6MtDAmPH2CC4OqI9HLOa0Nv9WghQkqhRgFmcCaC4EbEgGAkrz1hE0ckJZxGGrJjCWGuEd2mx1cqmWOJkjoeBTkZ3JMZSKguK8C@jYBN2IUKWsEtUc1Ba5rTyPDjH0z3ffRS3lnmHteJPMW@MBLjU3gwBo3ek5U2tOMMSPBaRq6aZfwA" rel="nofollow noreferrer" title="Julia 0.6 – Try It Online">Try it online!</a></p>

<p>(<em>-2 bytes by replacing <code>¬</code> with <code>~</code>, thanks to <a href="https://codegolf.stackexchange.com/questions/167872/2d-array-middle-point/167902#comment405656_167902">Jo King</a></em>)</p>

<p>Works for all test cases. Makes use of broadcast to collect all possible sums, then counts them.</p>

<p>Explanation:</p>

<pre class="lang-julia prettyprint-override"><code>function g_(V)
  function inner(W)  #named ~ in golf version to save bytes
    W == [] ? 0 :    #return 0 when input empty (base case)
    ∪(               #unique elements of
      [n=W[] -n]     #take the first element and its negation
      .+             #broadcast-add that to each element of
      inner([2:end]) #sign-swapping sums of the rest of the array
     )
  end                #returns the list of unique elements out of those sums
  return endof(inner(V)) #return the length of that list
end
</code></pre>

<hr>

<p>Older solution:</p>

<h1><a href="http://julialang.org/" rel="nofollow noreferrer">Julia 0.6</a>, 64 bytes</h1>



<pre class="lang-julia prettyprint-override"><code>N-&gt;endof(∪([2(i&amp;2^~-j&gt;0)-1 for i=0:~-2^(l=endof(N)),j=1:l]*N))
</code></pre>

<p><a href="https://tio.run/##VVJLasMwEN3nFFoVucggyfoGnCPkAsGBQGuwcZ0Q2m3WOULP0GPlIu48jUvoYtDzm3kzbyYZv6bhFJa@Xfb17n1@O/fycf@RByuHF3u81eNOV7UR/fkqhlZvb7U9yqnlwn1VqbE126l7Jbh8nC7ych3mz2l@3L97JTZyczBK2E7x@x/GJ26UcEp4JYIShSbCFM4UOpeqUDCl/KqMhU6FMyVP2GiqR0Em1hKRLUhiHREhFE1O5fEI6hLRl4ZEwo6wQVB1QntYJHVAb/dnIUIZWI0CzKJMBEWNAgmi4bC8xipKjl84SzBk2RTGWsO8y6stzachieM5HgYaHt0ENpZzOVCCfx4Fm7ALEbIBt0Q1RcjrHM3rwTlW9/TtE7u1xDucFT8N8cZwgMv6aQgYvVNYd9LsDEfwOES3ob/FLw" rel="nofollow noreferrer" title="Julia 0.6 – Try It Online">Try it online!</a></p>

<p>Works for input arrays with length upto 63 (so doesn't work for the last test case, which is fine according to OP). </p>

<p>Explanation: </p>

<pre class="lang-julia prettyprint-override"><code>function f_(N)
  endof(                            #length of
        ∪(                          #unique elements of
          [
           (i &amp; 2^(j-1) &gt; 0)        #check j'th bit (from right) of i
           * 2 - 1                  #convert bit value from (0,1)=&gt;(-1,1)
           for i = 0:2^endof(N)-1,  #where i is numbers 0 to 2^length(N)-1
           j = 1:endof(N)           #and j is 1 to length(N) (i.e. the bits in i)
          ]                         #so we have a matrix [-1 -1 -1;1 -1 -1;1 -1 1;...]
          *                         #matrix multiply that with the input array, 
          N                         #thus calculating different combinations of 
         ))                         #sign-swapping sums
end
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, <s>74</s> 69 bytes</h1>



<pre class="lang-c prettyprint-override"><code>f(a,b)int*a;{long k=1;for(;b--;k|=k&lt;&lt;a[b]);a=__builtin_popcountl(k);}
</code></pre>

<p><a href="https://tio.run/##jZDfCoIwFIev6ykOQrDFEVr/TJZPYiLTWIg2pfTKfHbbVjcRucYudtjvfN/Ocv@S5@MoicCMFqpdCt5XtbpAGTEu6xvhme/z8hGVx6OIs4RyEaVp1hVVW6i0qZu87lRbkZLyYbyKQhHaz2fNTaMk8SSJF/eEQgSL80l5CB5DWMPE0hlJiO6OE9qDKw0DAqwp5S7lFOdbOWk1yo1DGSKY/afSlf5L@Xr3BmGLsEPYIwTOKX@nrTJwKHU7swRmIaFlapQp9N3uU@lKGyVj7ikD23jAN3Bvz2z1@sCvKSfTVrkyymF8Ag" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>

<p>C port of @xnor's answer</p>
</div>
<div id="pu5" class="pu"><h1>x86_64 machine language for Linux, <s>31</s> 29 bytes</h1>

<pre><code> 0:   31 d2                   xor    %edx,%edx
 2:   6a 01                   pushq  $0x1
 4:   58                      pop    %rax
 5:   8b 0c 97                mov    (%rdi,%rdx,4),%ecx
 8:   48 89 c3                mov    %rax,%rbx
 b:   ff c2                   inc    %edx
 d:   48 d3 e3                shl    %cl,%rbx
10:   48 09 d8                or     %rbx,%rax
13:   39 d6                   cmp    %ese,%edx
15:   7c ee                   jle    5 &lt;+0x5&gt;
17:   f3 48 0f b8 c0          popcnt %rax,%rax
1c:   c3                      retq
</code></pre>

<p><a href="https://tio.run/##jZDdioMwEIWvt08xCIWkpGBM/UP6JMYLjcbtxbqLtRAQn92dxN2LpaypBGcmZ@Z8jurcK7Wu6nO4T6De6xH6sroG0gguTRtJk9TShJjHmTRZg7mSJk@ludg6l0YJabTGGG13Ldad2PIQ9RajwKhRT3G26zD/1XGuwahC6xMUh9swgSb4PtXM5g2dx256jAOxl@REnWYlSntKatbQYlk/6ttA6Hx4@xpR0STQpDzeKwpXOLZyCBgEnEEEOw/2aMcoKzqDrxsWBhBRWviQez7PyF2qRQoPMmdgz4tIX/dLyO27BYMLg5hBwiD1bvl/t0OmHiSOc@fAnUnuPNHKFqjFf5G@bovk3L9l6gYz9mOYuJyH2w982nK32yFDi1zWbw" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>

<p>Inspired by @xnor's answer. Requires a machine with the <code>POPCNT</code> instruction.</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, <s>236</s> <s>208</s> 204 bytes</h1>

<ul>
<li>Saved <s>twenty-eight</s> thirty-two bytes thanks to <a href="https://codegolf.stackexchange.com/users/52904/ceilingcat">ceilingcat</a>.</li>
</ul>



<pre class="lang-c prettyprint-override"><code>*s,i,g,n;S(w,a,p,_)int*p,*w;{if(_-a)for(_[p]=2;_[p]--;)S(w,a,p,-~_);else{for(*s=0,i=a;i--;)*s+=~(p[i]*2)*w[i];s++;}}f(w,a)int*w;{int p[a+1],r[g=1&lt;&lt;a];s=r;for(S(w,a,p,n=0);g--;wmemchr(r,r[g],g)||++n);w=n;}
</code></pre>

<p><a href="https://tio.run/##jZDRaoMwFIavt6c4FApJPIKxa11J8xS7dCLiqgvMTLTghbWv7pJ0vRhlpiGQhHzn/3JShnVZzjPrUWGNWryRAQtsMadKn1iLbBCjqkgeFrT67kietpmMhV3CUNAbHV5yKo5f/XG0EOtlhEoWQlmG9YG8kDZVGYspG8wq@iAQ01TZYqexDn2CNi0CnmGX1pIfDoXhZCds4E2jZURFbUKH5tiUnx3pLJxhTc/nINBUDFKLaW4KpQkdn5/azsRWZFWRdN1nFCSsP971CmHFEWJYGIapCDHVaUZH8NEwIUBMqfApl3LulYtWq9x4lHsEOx9U@uiHlNd3bxBeELYIO4TE2@X/tFMmHqUp5y6Bu5C9yzRR9mDutn@VPtoqOfd3mbjCV/wN3Lk9j64feNflIu2UkVVO8w8" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
</div>
<div id="pu7" class="pu"><h1>Java 8, 85 bytes</h1>



<p>Another Java port of <a href="https://codegolf.stackexchange.com/a/164577"><em>xnor</em>'s answer</a>. Like the original answer, this uses an arbitrary-precision bitmap so that there's no upper limit on the size of a subset sum.</p>

<p>It's a lambda from a sequential <code>java.util.stream.Stream&lt;Integer&gt;</code> to <code>int</code>.</p>

<pre class="lang-java prettyprint-override"><code>s-&gt;s.reduce(java.math.BigInteger.ONE,(a,e)-&gt;a.or(a.shiftLeft(e)),(u,v)-&gt;u).bitCount()
</code></pre>

<p><a href="https://tio.run/##XVPbitswEH12vkKPMijCchzZ3kugLS0UennYx2VZtI6cderYwZJTwpJvz85IyropWGh0Zs7MGWm8VQc1367/nPfjS9tUpGqVMeSnajryNosCaKyysNVNp1qyBQYfbdPyeuwq2/Qd/xaMu8ln7KDVjj@47e57Z/VGDytGLhapyf3ZzFeGD3o9Vpo66k7ZV/652YQo/vvXV0YV0/F8pXg/UMXNa1PbH7q2VMcxoyM7gG@M@Utjv/RjZ2l8jm5n/ys/9M2a7KApCoKabvP4RNSwMTH2GIVij0@AVspoQ@5Jp/@Sf3GMi94EI@mJfZjTacnI9F1H5FfHBSOZi5KMXDyACQcL5yldoHT24ipd7jyFg4ULAVskQAkxJThSwMoUcXBkAEjpaGXhtiUuSJRjdiiVg52BLXBBdIEVUCuwJabPLkJyZErPxgCsBZ4cIUgkgZALv1LfTCAVmd9RWYGCUi8Ky6bC41kZZCX@joCS@TpLFLDwpRfSCytLd00F6velUCbKRRJ6Jd4oRsOSZaiT@PZQOba@hPOy8GpTwDO8WXwjwIXwC7EymQShjbkLGXpKvDK8BHx7/xInnMCo7gdCP4bIjdYzufEj5icvejgaq3e8Hy3fw1zatqM1V/t9e6TTr/RpGNTRhD@KujRxHN9inRl8p/M7" rel="nofollow noreferrer">Try It Online</a></p>

<p>Note that the combiner (the third argument to <code>reduce</code>) is unused since the stream is sequential. The function I chose is arbitrary.</p>
</div>
<div id="pu8" class="pu"><h1>Java 8, <s>207</s> <s>83</s> 44 bytes</h1>

<pre class="lang-java prettyprint-override"><code>s-&gt;Long.bitCount(s.reduce(1L,(r,c)-&gt;r|r&lt;&lt;c))
</code></pre>
<p>Port of <a href="https://codegolf.stackexchange.com/a/164577/52210">@xnor's Python 2 answer</a>.<br />
-39 bytes thanks to <em>@Jakob</em>.</p>
<p><a href="https://tio.run/##hVPBbtswDL33K3i0B8e1HFu2kCyXXb1iQI9FD4qjtE4dObDkDkWXb89I0VsvywqEEUU@8j1R8kG/6sVh93Lpjqdh9HDAfTr5rk@/rADg9hZ@aAwPe/DPBrZv3izaYbL@pu21c/Bdd/b9BqCz3ox73Rq4oy1AP9gnaKOPds6PRh/T@7CsG0xvwMUrBJ/R8Oe89l0Ld2DhK1zcYkOYdNv5b8QXuXQ0u6k1kWiSaEzaeLEZf43rdRvHlxV3OE3bHjvMjV6HbgdH1BchZ2efHh5BxyzOG@cja34CUTw8vmPLvDkHMVeSn@erTwDLJimapGwS2STXsYgSASgCVoVSGfwl/f@HowrYOgBFKEJfZNTkWpVCaI4olRMSoQUGpAyNVB2WkgxbV6QA5VToF@gLMkTXxEknxGpJhMUfsRVVSq4mAHFhpqIQNpJYUAm2nA88F9UFr6SsJkE5iyLaXHC8ULOsjCeLJQXzlCRgydRLycKUCqOsST9TkUySS0WUlTR1QqNJNfNkfDxSTkcvcV/WrDbHeEGzppvFuBBsFFPZhyDyqXct5zNlrIyGUIZBnP/xDYSnGy6LL@rvw71/c94c02Hy6QnftO9tZNOrX1k67CMdxzPB@fIb" rel="nofollow noreferrer">Try it online</a>.</p>
<pre class="lang-java prettyprint-override"><code>s-&gt;               // Method with Long-Stream parameter and long return-type
  Long.bitCount(  //  Return the amount of 1s in the binary representation of:
    s.reduce(1L,  //   Result-Long, starting at 1
     (r,c)-&gt;      //   Loop pair-wise (result,current):
      r|          //    Bitwise-OR the result `r` with:
        r&lt;&lt;c))    //    result `r` bitwise left-shifted by the current `c`
</code></pre>
</div>
<div id="pu9" class="pu"><h1><a href="http://pari.math.u-bordeaux.fr/" rel="nofollow noreferrer">Pari/GP</a>, 39 bytes</h1>

<pre><code>a-&gt;#[1|n&lt;-Vec(prod(i=1,#a,1+x^a[i])),n]
</code></pre>

<p>Counts the number of nonzero coefficients of the polynomial \$ \prod_{i \in a}(1+x^i) \$, where \$a\$ is the input.</p>

<p><a href="https://tio.run/##RZHdSsQwEIVfJezetJhCJ80vuPsY3pQKQV0pSA3FCwXfvc7JRBYaMvkyZ@ZkWvK@Du/luKnLkYfreabf7XF4envpyv752q0X0ues6eH7Oc/r0vd6W45cysdPl9VwVWVfty8OTzic1K3LnKLmmbQyCwfYW@i1wnenk1ZWK1dxAGZAlVHFqWb5GvOVa8pQcayM6j3HNHI@EhJTwyAZQKaWgfdVk2LdHBZXCajLTQLHlmPC4uyI8rDIao/a9t9CgNKLGgnoxTcBiAt5FgSSZeQZTRSt7HAWYciIKbQ1JNymZmuU0bDESh8HA5O0nrwYS6kOKMK/tIJN2IUItx6zRDamnlqfUZ4H53i647OL4tYwtxgrfg1zIllgabwbQoza0bc3jeIMQ3AYxLL0xx8" rel="nofollow noreferrer" title="Pari/GP – Try It Online">Try it online!</a></p>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, 9 bytes</h1>

<p>Saved 1 byte thanks to @Shaggy</p>

<pre><code>à mx â ÊÄ
</code></pre>

<p><a href="https://tio.run/##y0osKPn///AChdwKhcOLFA53HW75/z/aUEfBXEfBSEfBQkfBWEcByDUDsw0NdBQsYwE" rel="nofollow noreferrer">Try it online!</a> This is a slightly modified port of <a href="https://codegolf.stackexchange.com/a/164512/70894">Dennis' Jelly answer</a>, credits to him for the idea. Explanation:</p>

<pre><code>à             Take all non-empty subsets of the input array 
  mx           and sum them
     â Ê      Return the amount of unique sums
        Ä      plus one (to account for the non-empty subset)
</code></pre>
</div>
<div id="pu11" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language" rel="nofollow noreferrer">Retina</a>, 27 bytes</h1>

<pre><code>+`\d+ ?
*@$%"$&amp;*
%O`.
D`
.+
</code></pre>

<p><a href="https://tio.run/##K0otycxLNPz/XzshJkVbwZ5Ly0FFVUlFTYtL1T9Bj8slgUtP@/9/QwUjBWMFEwVTBTMFcwA" rel="nofollow noreferrer" title="Retina – Try It Online">Try it online!</a></p>

<h2>Explanation</h2>

<pre><code>+`\d+ ?
*@$%"$&amp;*
</code></pre>

<p>For each number, remove the space after it if there is one,. Then split the line into two, one with the number replaced with that many <code>@</code>s, and another with the number replaced with that many <code>_</code>s. Loop until no more numbers exist. That generates all combination, albeit with some duplicates.</p>

<pre><code>%O`.
</code></pre>

<p>For each line, sort the characters. With this, there is a 1-1 correspondence between a sum and this "<code>@_</code>" representation.</p>

<pre><code>D`
</code></pre>

<p>Deduplicate the lines.</p>

<pre><code>.+
</code></pre>

<p>Count the non-empty lines.</p>
</div>
<div id="pu12" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog Classic)</a>, 21 bytes</h1>



<pre class="lang-apl prettyprint-override"><code>⍴∘∪⊢+.×1-2×2(⍴⍨⊤∘⍳*)⍴
</code></pre>

<p><a href="https://tio.run/##SyzI0U2pTMzJT9dNzkksLs5M/v8/7VHbhEe9Wx51zHjUsepR1yJtvcPTDXWNDk830gAJ96541LUEJNm7WUsTKPD/Ud9UoI40IMWFlfnfUMFIwYgLRBormCiYKpgpmAN55kC@BVDEEMi3UDA0ULAEAA" rel="nofollow noreferrer" title="APL (Dyalog Classic) – Try It Online">Try it online!</a></p>

<h2>Explanation</h2>

<pre class="lang-apl prettyprint-override"><code>2(⍴⍨⊤∘⍳*)⍴
</code></pre>

<p>A function train equivalent to <code>{((⍴⍵)⍴2)⊤⍳(⍴⍵)}</code>, which generates a matrix that has the binary representations of 0 to the length of the input as columns</p>

<pre class="lang-apl prettyprint-override"><code>1-2×
</code></pre>

<p>Maps <code>1</code>s to <code>-1</code>s and <code>0</code>s to <code>1</code>s</p>

<pre class="lang-apl prettyprint-override"><code>⊢+.×
</code></pre>

<p>Matrix multiplication with the input, which gives an array of all possible sums</p>

<pre class="lang-apl prettyprint-override"><code>⍴∘∪
</code></pre>

<p>Remove duplicates, then count</p>
</div>
<div id="pu13" class="pu"><h1><a href="https://clean.cs.ru.nl" rel="nofollow noreferrer">Clean</a>, 82 bytes</h1>

<pre><code>import StdEnv
f[]=length
f[h:t]=f t o foldr(\e l=removeDup[e+h,e-h:l])[]
?l=f l[0]
</code></pre>

<p><a href="https://tio.run/##RYw9C8IwFAD3/ooHLooRWgW/ILjUQXBzjBlCmpjAS1LaV8E/b4wubndwnEajYg6pm9BAUD5mH/o0ENyoO8dnZYXkaOKDXEF3JMktECSwCbthfjeAfDAhPU079cIsHTMrd0S5ELI6YWlR1DLfSA1UzQD9SMBBNAx2DNYM9gw2DIpuf9zUDA6yhHaKmnyKJT5V/K/fQX5ri@ox5tXlmttXVMHr8QM" rel="nofollow noreferrer" title="Clean – Try It Online">Try it online!</a></p>

<p>Defines the function <code>? :: [Int] -&gt; Int</code> using <code>f :: [Int] -&gt; ([Int] -&gt; Int)</code> as a helper to reduce over each possible sum after an addition or subtraction.</p>
</div>
<div id="pu14" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog Classic)</a>, <s>12</s> 11 bytes</h1>

<p>-1 thanks to H.PWiz</p>



<pre class="lang-apl prettyprint-override"><code>≢⊃(+∪⊢)/⎕,0
</code></pre>

<p><a href="https://tio.run/##LVDLTgJBELzvV/RtIEKcmZ2nf7OBQIhEzLIXQzhpENAlJsajBzl61guJP9M/gtWrSc/2THdtVXVXt/Ph@K6aL6bD0bxaLmejMx/eZgvevOiCt4@TM@@OvL/vXfD2k/fH/iXaA31G6zwFiNuD4ecftV6pgUJLTq24/Va83RvevOI9qtVEEbfv1NTVeHJDzYKQigb/rwDl3UeN65Tb05VaXCt@elCTajYHzQntel0YstSQ67LcQtEL3H6lfkOxK5bkyFOgiKbNRUkGBYNSRjMglzhg8EBHlBIJJCAbDUxDPhQVPOSSbKJsUdbkSgoB4Jzw8YhIEUyZYgQTGURJCWRwoCmAy3VKEVBoxqIagBJNkHqKKGUKmqKRsOKvwyYnX8gm6FmRBLk1UnG5E9UynyMXyfxxegiVIlIGkc4ZMyT4Ek6YgBVgUQ1YAxCBQu4YtdiFHczgNfkkLqz943TYCRapyRgJPLP@V8UFTCl0PrXoYhaPcYpKlhpt@gU" rel="nofollow noreferrer" title="APL (Dyalog Classic) – Try It Online">Try it online!</a></p>
</div>
<div id="pu15" class="pu"><h1><a href="https://docs.python.org/2/" rel="noreferrer">Python 2</a>, 52 bytes</h1>



<pre class="lang-python prettyprint-override"><code>k=1
for n in input():k|=k&lt;&lt;n
print bin(k).count('1')
</code></pre>

<p><a href="https://tio.run/##TVHBasMwDD03X6FbWggjdh3HDu2xu@6y2@hhyzwaMpJgUtbC/j3TszI2iLD0pCc9KdN9voyDXtrxPdCR8jxf@qPKPsZIA3X4puu83TX997E/HIZsit0w01s3bPvdQzteh3mbq3y3MDHLvi7dZ6DneA1NtpnjvaFwCy2hd7YJtzZMM52eHk8xjrGhtxhe@@VFFaTPWXr@e/uCTEFVQbagmlGOVYJUQn0qssnnVCW8OqEuQSql2Vcll3PeM6g59hoYg4YBaxPFu/RUMG5SoyuPqNk37CsYVzt0hz5mW7Q2vwJqMK2wUYBZnKkBcSPLhFqJaVliJTkjL5Q5CNIiCmO1Etz4VVYpd2GKkTkVBOxl9N6KMO/TeRz0yyjIhFyQkLW4JKrZrF/nlLIelGP1iuPKiVrNuMFV8V8YV0oMmC//BMFHb2fXnUpRhiNUOMT5Bw" rel="noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>

<p>Uses the binary representation of a number to store the reachable subset sums.</p>
</div>
<div id="pu16" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, 62 bytes</h1>



<pre class="lang-r prettyprint-override"><code>function(V)sum(unique(c(V%*%combn(rep(0:1,L),L&lt;-sum(V|1))))|1)
</code></pre>

<p><a href="https://tio.run/##K/qfpmCj@z@tNC@5JDM/TyNMs7g0V6M0L7OwNFUjWSNMVUs1OT83KU@jKLVAw8DKUMdHU8fHRhekKKzGUBMIgOT/NKBSQx0jHSNNzf8A" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>

<p>Ports Dennis' algorithm. It's closest to the Octave/MATL answers as it uses a similar bitmap and matrix product for inclusion/exclusion of terms.</p>
</div>
<div id="pu17" class="pu"><h1><a href="https://www.gnu.org/software/bash/" rel="nofollow noreferrer">Bash</a> + GNU utilities, 49 bytes</h1>



<pre class="lang-bash prettyprint-override"><code>eval echo "{,-}${@//,/{+,-\}}\;"|bc|sort -u|wc -l
</code></pre>

<p><a href="https://tio.run/##TUvNCoJAEL77FMNip2axzdJEii7dOkS3wMu6TiiIhmt5UJ/dpj9oYOb7nVTbfOryoiRoSGcxZLUDPC3Z1mhLW@GeD6fjRbzdW1NU7RXEzILcgQDh/nqf3FILUv7bEz10CWTyGkSPcnT7veeh189RJuOYxGJIzWDrhv/uQ2dAllNWVzQpXDq83@vjCtcYYOj4qJgrVhH7AaOPa@6ErDb4SgNGtcDIeQI" rel="nofollow noreferrer" title="Bash – Try It Online">Try it online!</a></p>

<p>Input given as a comma-separated list at the command-line.</p>

<h3>Explanation</h3>

<pre class="lang-bash prettyprint-override"><code>               ${@//,/{+,-\}}                      # Replace commas with {+,-}
          "{,-}${@//,/{+,-\}}\;"                   # Build a brace expansion with {+,-} before every number and ; at the end
eval echo "{,-}${@//,/{+,-\}}\;"                   # Expand to give every combination expression, separated by ;
                                |bc                # Arithmetically evaluate each line
                                   |sort -u        # Remove duplicates
                                            wc -l  # Count
</code></pre>
</div>
<div id="pu18" class="pu"><h1><a href="https://github.com/ConorOBrien-Foxx/Attache" rel="nofollow noreferrer">Attache</a>, 29 bytes</h1>

<pre><code>{#Unique[Flat!±_]}@Fold[`±]
</code></pre>

<p><a href="https://tio.run/##SywpSUzOSP2fpmBl@79aOTQvs7A0NdotJ7FE8dDG@NhaB7f8nJTohEMbY//7paamFEerFBQkp8dyBRRl5pWEpBaXOCcWpxZHp@koRHMpAEG0oY6CUawOgo3ENdFRQCBUNcZgQVMdBTMdBXOYFFDQECxuCJayBKs0A7OBUqZIJpiDpSzA4oZgNUC2oQFQTyxXbOx/AA" rel="nofollow noreferrer" title="Attache – Try It Online">Try it online!</a></p>

<p>This works by folding the <code>±</code> operator over the input list, then taking <code>±</code> of that list, then counting the unique atoms of the array.</p>

<p>Here's some examples of how the folding works:</p>

<pre><code>Fold[`±][ [1,2] ] == 1 ± 2
                  == [1 + 2, 1 - 2]
                  == [3, -1]
Fold[`±][ [1,2,2] ] == (1 ± 2) ± 2
                    == [3, -1] ± 2
                    == [[3 + 2, 3 - 2], [-1 + 2, -1 - 2]]
                    == [[5, 1], [1, -3]]
                    == [5, 1, 1, -3]
Fold[`±][ [4,4,4,4] ] == (4 ± 4) ± 4 ± 4
                      == [8, 0] ± 4 ± 4
                      == [[12, 4], [4, -4]] ± 4
                      == [[[16, 8], [8, 0]], [[8, 0], [0, -8]]]
                      == [16, 8, 8, 0, 8, 0, 0, -8]
                      == [16, 8, 0, -8]
</code></pre>

<p>Then we generate all permutations of the final sign by applying PlusMinus once more.</p>

<h2>A more efficient version, 31 bytes</h2>

<pre><code>`#@(q:=Unique@Flat@`±)@Fold[q]
</code></pre>

<p><a href="https://tio.run/##RVDLasMwELz7KwTtoQUdLOthKRAwFHIsPbQnY4hJlDYQ0rh2P6y/0B9zZ7yGgpddj2Y0s@qnqT985PmkNtt5f9c8DJvt2/U8fOdmd@mnZv/789jsPi/Hdujm55yPY3t/ux3eu@Ll63ydXvM4PfVjHtuTVm3RJqtVFbVKlVamLLVyAEIACCwuzbNqrWqvlU3omB1mwwI74jwaUKEOkBgHPqhgUhlETQK9cFITwkUBgtpIVW6hrKLopDNZZKBKQtG2MoK7tMYqF5mDxImPZwAr1jZIsAQ2vsj8YsWYjEsRTwMwRzYqpNWnlPWYnKt7/PsoaSvgDrNFt8CNkSKWyv9AnHl3DOtOpSTjI3g@RFd03fwH" rel="nofollow noreferrer" title="Attache – Try It Online">Try it online!</a> This doesn't time out on the final test case, since it doesn't generate unnecessary combinations.</p>
</div>
<div id="pu19" class="pu"><h1>R, <s>83</s> 75  bytes</h1>
<h3>-8 bytes thanks to JayCe and Giuseppe</h3>
<p>Creates a matrix of all possible combinations of (1,-1) for the size of the input vector, multiples this by the original vector to get the sums. Then unique and find the length of the result.</p>
<p><code>function(v)nrow(unique(t(t(expand.grid(rep(list(c(1,-1)),sum(v|1)))))%*%v))</code></p>
<hr />
<h3>previous version:</h3>
<p><code>f=function(v)nrow(unique(as.matrix(expand.grid(rep(list(c(1,-1)),length(v))))%*%v))</code></p>
<h3>Ungolfed with comments:</h3>
<pre><code>f=function(vector){

  List=rep(list(c(1,-1)),length(vector))   ## Create a list with length(vector) elements, all (1,-1)

  Combinations=expand.grid(Length)    ## get all combinations of the elements of the list, e.g, 1,-1,1,1,-1,1

  Matrix=as.matrix(Combinations)   ## convert to matrix

  Results=Matrix%*%vector   ## multiply the matrix original vector to get a Nx1 matrix

  Unique_results=unique(Results)   ## unique the results

  nrow(Unique_results)   ## length = number of rows of unique values
  }
</code></pre>
</div>
<div id="pu20" class="pu"><h1><a href="https://github.com/lmendo/MATL" rel="noreferrer">MATL</a>, <s>11</s> 10 bytes</h1>

<pre><code>nW:qBGY*un
</code></pre>

<p><a href="https://tio.run/##y00syfn/Py/cqtDJPVKrNO///2hDayNro1gA" rel="noreferrer" title="MATL – Try It Online">Try it online!</a>
This is a port of Luis Mendo's <a href="https://codegolf.stackexchange.com/a/164527/31516">Octave/MATLAB</a> answer. I'm still trying to learn MATL, and I figured I'd post it, along with an explanation, since MATL is the language of the month.</p>

<h3>Explanation:</h3>

<p>Here's a read-through for anyone unfamiliar with stack based programming in general, and MATL in particular.</p>

<p>The input vector is implicitly placed on the stack. Note that when an operation is performed on an element in the stack, then that element is removed from the stack.</p>

<pre><code>                % Stack:
                % [1, 2, 2]
n               % Counts the number of elements of the vector on the top of the stack.
                % Stack:
                % [3]
 W              % Raise 2^x, where x is the number above it in the stack
                % Stack:
                % [8]
  :             % Range from 1...x, where x is the number above it in the stack.                    % Stack:
                % [1, 2, 3, 4, 5, 6, 7, 8]
   q            % Decrement. Stack:
                % [0, 1, 2, 3, 4, 5, 6, 7]
    B           % Convert to binary. Stack:
                % [0,0,0; 0,0,1; 0,1,0; 0,1,1; 1,0,0; 1,0,1; 1,1,0; 1,1,1] 
     G          % Push input again. Stack:           
                % [0,0,0; 0,0,1; 0,1,0; 0,1,1; 1,0,0; 1,0,1; 1,1,0; 1,1,1], [1; 2; 2]
      Y*        % Matrix multiplication of the two elements on the stack.
                % Stack:
                % [0; 2; 2; 4; 1; 3; 3; 5]
        u       % Keep only unique elements. Stack:
                % [0; 2; 4; 1; 3; 5]
         n      % Number of elements in the vector. Stack:
                % [6]
</code></pre>

<p>And then it outputs the final element on the stack implicitly.</p>
</div>
<div id="pu21" class="pu"><h1><a href="https://github.com/nxadm/rakudo-pkg" rel="nofollow noreferrer">Perl 6</a>, 33 bytes</h1>



<pre class="lang-perl6 prettyprint-override"><code>{+set ([X](^2 xx$_)XZ*$_,)&gt;&gt;.sum}
</code></pre>

<p><a href="https://tio.run/##K0gtyjH7n1upoJamYPu/Wrs4tURBIzoiViPOSKGiQiVeMyJKSyVeR9POTq@4NLf2f3FipUKaBlBcIS2/iCvaUEfBKFYHQqMwjXUUTHQUTHUUzHQUzEHCQAFDsJghWNgSrMoMzAZKmUJ1moOFLcBihmB5INvQAKg@1vo/AA" rel="nofollow noreferrer" title="Perl 6 – Try It Online">Try it online!</a></p>
</div>
<div id="pu22" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog Classic)</a>, <s>34</s> <s>33</s> 32 bytes</h1>



<pre class="lang-apl prettyprint-override"><code>{≢∪⍵+.×⍨↑{,⍵∘.,U}⍣(≢1↓⍵)⊢U←¯1 1}
</code></pre>

<p><a href="https://tio.run/##SyzI0U2pTMzJT9dNzkksLs5M/v@/@lHnokcdqx71btXWOzz9Ue@KR20Tq3WA3EcdM/R0Qmsf9S7WACoxfNQ2GSio@ahrUeijtgmH1hsqGNb@dwMyKTGA61HfVCDHTcFQwUjBCMHTUTDSUTDWUTDRUTDVUTDTUTD/DwA" rel="nofollow noreferrer" title="APL (Dyalog Classic) – Try It Online">Try it online!</a></p>

<p>Thanks to @ngn for -1 byte!</p>
</div>
<div id="pu23" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="noreferrer">Jelly</a>, 6 bytes</h1>

<pre><code>ŒPS€QL
</code></pre>

<p><a href="https://tio.run/##y0rNyan8///opIDgR01rAn3@H24H0pH//0dHG@ooGMXqcCmAGahsYx0FEx0FUx0FMx0Fc7A4UMQQLGgIFrcEKzMDs4FSpjC95mBxC7CgIVgBkG1oANQQyxULAA" rel="noreferrer" title="Jelly – Try It Online">Try it online!</a></p>

<h3>Background</h3>

<p>Let <strong>L</strong> be the input list and <strong>{P, N}</strong> a partition into algebraic summands with positive and negative signs. The challenge spec requires calculating <strong>s<sub>{P,N}</sub> = sum(P) - sum(N)</strong>.</p>

<p>However, since <strong>sum(P) + sum(N) = sum(L)</strong> and <strong>sum(L)</strong> does not depend on the partition, we have <strong>s<sub>{P,N}</sub> = sum(P) - sum(N) = sum(P) - (sum(L) - sum(P)) = 2sum(P) - sum(L)</strong>.</p>

<p>Thus, each unique value of <strong>sum(P)</strong> corresponds to one unique value of <strong>s<sub>{P,N}</sub></strong>.</p>

<h3>How it works</h3>

<pre><code>ŒPS€QL  Main link. Argument: A (array)

ŒP      Powerset; generate all subarrays of A.
  S€    Take the sum of each.
    Q   Unique; deduplicate the sums.
     L  Take the length.
</code></pre>
</div>
<div id="pu24" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a>, 5 bytes</h1>
<pre><code>LumΣṖ
</code></pre>
<p><a href="https://tio.run/##yygtzv6fq@GlpGBrp6B0aHlqsUbxo6ZGzdyics1D2/77lOaeW/xw57T///8bKhhxATGUNFYwUTBVMFMw5zJWMASyDYE8S6C4GZA2VjAFqjEH8iwUQLJmQNrQQMGSCwA" rel="nofollow noreferrer" title="Husk – Try It Online">Try it online!</a></p>
<p>Port of <a href="https://codegolf.stackexchange.com/a/164512/59487">Dennis' Jelly answer.</a></p>
<h3>Explanation</h3>
<pre><code>LumΣṖ                     [1,2,2]
    Ṗ  Powerset           [[],[1],[2],[1,2],[2],[1,2],[2,2],[1,2,2]]
  mΣ   Sum each           [0,1,2,3,2,3,4,5]
 u     Remove duplicates  [0,1,2,3,4,5]
L      Length             6
</code></pre>
</div>
<div id="pu25" class="pu"><h1>JavaScript (ES6), 63 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>f=([c,...a],s=n=!(o={}))=&gt;c?f(a,s-c)|f(a,s+c)&amp;&amp;n:o[s]=o[s]||++n
</code></pre>
<p><a href="https://tio.run/##bY5BCsIwEEX3niJuSkKnqalNaoXoQUoXJVpRSiJG3FjPHuNQEaSb4cN7f2Yu3aPz5na@3jPrDscQek0bA5zzrgWvrV5Sp58vxvTO7Hvagc8MGzGkhiWJ3brGt/ozxjFNbTDOejcc@eBOtKeNAFK0jJE8J@Vihv2wmsdrICUQCUQBqSa1qP/daAkUBbo1VhXmiOT3Azlzo0J3g6LAUsxiFZdMLanCGw" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu26" class="pu"><h2>Haskell, 46 bytes</h2>

<pre><code>import Data.List
length.nub.map sum.mapM(:[0])
</code></pre>

<p><a href="https://tio.run/##TYrRCsIgGEbv9xT/5QY/MrO5Fuyuy3oCkTDYmkxNpnt@Uyro6hzO9y0qrJMxKWnrX1uEi4qKXHWI1TyayT3jQtz@IFZ5CLstvNVn0comWaUdjFDKHWq/aReBwNyAqAAExYPEr/wrwyN2yLH/JIY0B5rTkEeeybD7vfucTlguPJO2OEgJ6Q0" rel="noreferrer" title="Haskell – Try It Online">Try it online!</a></p>

<p>Instead of summing the subsets of the input list, we make all combinations of either keeping a number or replacing it by <code>0</code>, e.g.</p>

<pre><code>mapM(:[0])[1,2,3] -&gt; [[1,2,3],[1,2,0],[1,0,3],[1,0,0],[0,2,3],[0,2,0],[0,0,3],[0,0,0]]
</code></pre>

<p>This is two bytes shorter than <code>subsequences</code>.</p>
</div>
<div id="pu27" class="pu"><h1><a href="https://github.com/tomtheisen/stax" rel="nofollow noreferrer">Stax</a>, 12 <a href="https://github.com/tomtheisen/stax/blob/master/docs/packed.md#packed-stax" rel="nofollow noreferrer">bytes</a></h1>

<pre><code>Çσ▓╥7Cφ1╝╥ò1
</code></pre>

<p><a href="https://staxlang.xyz/#p=80e5b2d23743ed31bcd29531&amp;i=[1,+2]%0A[1,+2,+2]%0A[5,+5,+5,+5]%0A[1,+2,+3,+4,+5,+6,+7]%0A[3,+1,+4,+1,+5,+9,+2,+6,+5,+3,+5]%0A[1,+7,+2,+8,+3,+1,+6,+8,+10,+9]&amp;a=1&amp;m=2" rel="nofollow noreferrer">Run and debug it</a></p>

<p>Doesn't handle the last test case in acceptable time.</p>

<p>Explanation (unpacked):</p>

<pre><code>0]s{cN\{+K$uF% Full program, implicit input
0]s            Put [0] under input (array of sums)
   {        F  Foreach:
    cN\          x -&gt; [x, -x]
       { K       Cartesian join:
        +          Add
          $u     Flatten and unique
             % Length
               Implicit output
</code></pre>
</div>
<div id="pu28" class="pu"><h1><a href="http://www.red-lang.org" rel="nofollow noreferrer">Red</a>, 73 bytes</h1>

<pre><code>func[b][s:[0]foreach n b[foreach m s[s: union s reduce[m + n]]]length? s]
</code></pre>

<p>Port of Dennis' Python 2 answer.
Does not handle the last test case.</p>

<p><a href="https://tio.run/##ZYuxDoMwEEN3vsJ7F1JKKCz9h66nG0pIClI5UALfn16HSlSdbD/b0Q/57gfiInQ57OKoZ0odlRyW6B9uhKCnr5@RtMQu0yJIiH7YnacZJwgzv7w8t/GGxHmNk2wIIIMzF8f0lytcUMOiOfAKRqlR3urCqlaof36N8is@O6tqSrSc3w" rel="nofollow noreferrer" title="Red – Try It Online">Try it online!</a></p>
</div>
<div id="pu29" class="pu"><h1><a href="https://www.gnu.org/software/octave/" rel="nofollow noreferrer">Octave</a> / MATLAB, <s>45</s> <s>41</s> 40 bytes</h1>



<pre class="lang-matlab prettyprint-override"><code>@(x)nnz(unique(dec2bin(0:2^nnz(x)-1)*x))
</code></pre>

<p>Input is a column vector (using <code>;</code> as separator).</p>

<p>The code errors for the last test case due to memory restrictions.</p>

<p>This uses an idea from <a href="https://codegolf.stackexchange.com/a/164513/36398">JungHwan Min's answer</a> (subsets instead of alternating signs) to save a few bytes.</p>

<p><a href="https://tio.run/##y08uSSxL/Z9mq6en999Bo0IzL69KozQvs7A0VSMlNdkoKTNPw8DKKA4kXKGpa6ipVaGp@T9NI9rQWsEoVpMLyDK1VoAiCB8kA5eEcIytFUzASsysFcwhEkAhQ7CoIVjCEqzODMw2RjbKHCxhARY1BKsAsg0NgDpiNf8DAA" rel="nofollow noreferrer" title="Octave – Try It Online"><strong>Try it online!</strong></a></p>
</div>
<div id="pu30" class="pu"><h1><a href="https://babeljs.io/" rel="nofollow noreferrer">JavaScript (Babel Node)</a>, 64 bytes</h1>



<pre class="lang-javascript prettyprint-override"><code>F=([f,...r],s=[0])=&gt;f?F(r,s.flatMap(x=&gt;[x+f,x])):new Set(s).size
</code></pre>

<p><a href="https://tio.run/##ZVHLboJAFN33K2YJ6RUZ5sFMG@zOXVddEhZoobEhYoS0pj9Pz2VojDZ6c/E85pzBz/qrHvbnw2lc7epd062O/XszTdsiKltKkuRc0VCUaRUXm/ZlG51pSNquHl/rU3QpNuXlsaVLFcdPx@ZbvDVjNMTJcPhpprEZxn09NKIQUU1ijEWxEfv@OPRdk3T9R7SN6pjx54c/aVRKyioS@h6bUXuDarr5gPf/XAqMIUs52OyWViRBStAeQoutyHC0uTslB@2I5RZbpuShMtxlvRZXoVeIcCiRkZBpioMAWAsQmJuX4clJ5IaE8tg5x0HOA7UD7ySkcFtYpIYeUijZaYObBZwFJmcIB1kYchkm07NkMTkdNjdzXCgLpTg2kwHXfqmVzjYNiw45hguoEK1sKOahxtdx/xDFNbkum5i1wDSrMdYvOWm4Hjfnqxv8Ni60zYBrPCtsBVzKMIz59FqIn/lsZ5c7paEZvwTDL4L/vTxz8fQL" rel="nofollow noreferrer" title="JavaScript (Babel Node) – Try It Online">Try it online!</a></p>

<p>This won't work for last testcase.</p>

<hr>

<p>More effective solution (works on last testcase):</p>

<h1><a href="https://babeljs.io/" rel="nofollow noreferrer">JavaScript (Babel Node)</a>, 71 bytes</h1>



<pre class="lang-javascript prettyprint-override"><code>F=([f,...r],s=[0])=&gt;f?F(r,[...new Set(s.flatMap(x=&gt;[x+f,x]))]):s.length
</code></pre>

<p><a href="https://tio.run/##ZVFNT4NAEL37K/YIcUpY9oNdDfXWmyePhAOtUDUEmkK0/x7fsBiDBiYD72PmLXzUn/V4ur5fpt2xPjbdrh9em3k@FFHZUpIk14rGokyruNi3T4foSiXAvvkSL80UjUnb1dNzfYluxb683bd0q@K4ih/GpGv68/Q2T804neqxEYWIahJTLIq9OA39OHRN0g3n6BDVMeOPdz/SqJSUVSR0TFtsQe0G1bS5wPt/LgXGkKUcbLalFUmQErSH0KIrMrza/JmSg3bEcosuU/JQmW0WrzDfIUFGQqYppgCwFiAwtzTDlZPIDQnl0XPeBTkX1A68k5DCbWGRGnpIoWSnDW4W8C4wOUMYZGHIZahML5LV5HTonMxxoCyE4rWZDLj2a6x0sWlYdNhjOIAKq5UNwTzUuB3nD6s4JsdlE7MWmGY1yvp1TxqOx8n56AbvxoW0GXCNZ4WugEsZijGf/gbiZ57t7HqmNCTjj2D4Q/CvyzMXz98" rel="nofollow noreferrer" title="JavaScript (Babel Node) – Try It Online">Try it online!</a></p>

<hr>

<p>This won't work in a real browser due to <a href="https://github.com/tc39/proposal-flatMap/pull/56" rel="nofollow noreferrer"><code>Array#smoosh</code></a>.</p>

<p>Thanks to Bubbler, <code>[x+f,x-f]</code> -> <code>[x+f,x]</code> saves 2 bytes.</p>
</div>
<div id="pu31" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> <code>-p</code>, 39 bytes</h1>



<pre class="lang-perl prettyprint-override"><code>s/^| /{+,-}/g;$_=grep!$s{eval$_}++,glob
</code></pre>

<p><a href="https://tio.run/##K0gtyjH9/79YP65GQb9aW0e3Vj/dWiXeNr0otUBRpbg6tSwxRyW@VltbJz0nP@n/f0MFIwVjBRMFUwUzBfN/@QUlmfl5xf91fU31DAwN/usWAAA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu32" class="pu"><h1><a href="https://pyth.readthedocs.io" rel="nofollow noreferrer">Pyth</a>, 5 bytes</h1>
<pre><code>l{sMy
</code></pre>
<p>Utilizes the same approach used in <a href="https://codegolf.stackexchange.com/a/164512/59487">Dennis’ Jelly answer</a>.</p>
<p><a href="http://pyth.herokuapp.com/?code=l%7BsMy&amp;input=%5B1%2C+2%2C+3%2C+4%2C+5%2C+6%2C+7%5D&amp;debug=0" rel="nofollow noreferrer">Try it here.</a></p>
</div>
<div id="pu33" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="noreferrer">05AB1E</a>, 4 bytes</h1>

<pre><code>æOÙg
</code></pre>

<p>Utilizes the same approach used in <a href="https://codegolf.stackexchange.com/a/164512/59487">Dennis’ Jelly answer</a>.</p>

<p><a href="https://tio.run/##MzBNTDJM/f//8DL/wzPT//@PNtQx0jGKBQA" rel="noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>
</div>
<div id="pu34" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="noreferrer">Wolfram Language (Mathematica)</a>, 27 bytes</h1>
<pre><code>Tr[1^Fold[#⋃+##&amp;,{0},#]]&amp;
</code></pre>
<p><a href="https://tio.run/##bVLBSsQwEL33KwqBohgxSZNJgih78uzBW6lQVhcXXIWlt9KTR//SH6nzMpVehJ3N9M17My/Tnobx7fU0jMf9sBzuLpanc2efHz7fXzr18/11pVSjJzNr1ffNcnlbPZ6PH2Onru8PO9U3N7upqqrJ6trNWs4t/ee3kVpde10HXZOuI@C2MHz5ZzgXFpWcS2FVxgKngtlS59wa5oOQGXUMZAeQUc8AUdHkVI6A4C4RfXlI5NxzbhHMTmgPi6wm9PZ/FiKUJGoQMIsrERA3IhZEK@HkGqsoeTnhLMGQE1MY66zgPq@2jKyGJV7mBBhoZXRLYiznsqAE/zIKNmEXIlQJuwSbg/I6x8j14BxXD/wckrh1jHusFa@GcWslgGWzGUKO3onWOxlxhiUELGLm72FefgE" rel="noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
<p>Finding the number of unique sign-swapping sums is equivalent to finding the number of unique subset sums.</p>
<p>A proof would involve adding the sum of the input to each of the sign-swapping sums and dividing by two. Then, there's an obvious bijection.</p>
<h3>Explanation</h3>
<pre><code>Fold[#⋃+##&amp;,{0},#]
</code></pre>
<p>Iterate through the input, with the initial value being <code>{0}</code>: take the union between <code>&lt;current value&gt;</code> and <code>&lt;current value&gt; + input element</code> (maps onto lists).</p>
<pre><code>Tr[1^ ... ]
</code></pre>
<p>Golfy version of the <code>Length</code> function.</p>
</div>
<div id="pu35" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, 55 bytes</h1>



<pre class="lang-python prettyprint-override"><code>s={0}
for n in input():s|={t+n for t in s}
print len(s)
</code></pre>

<p><a href="https://tio.run/##TVHBbsIwDD3Tr/CtoPXQhDRNKnFk1112mzhsLBNoqK3SooEY3975xZ02qVbsZz/72e2v46Fr9bTv3gNtKM/zadjcynv20UVq6YivP4/LVTN8b27jQ0tIjEgM96yPx3akU2iXw2pibpZ9HY6nQM/xHJpsMcZrQ@ES9oT22SJc9qEfafv0uI2xiw29xfD6Ob2ogvQuS89/b12QKagqyBZUM8qxSpBKqE9FNvmcqoRXJ9QlSKU0@6rkcs57BjXHXgNj0DBgbaJ4l54Kxk1qdOURNfuGfQXjaofu0Mdsi9bmV0ANphU2CjCLMzUgbmSZUCsxLUvMJGfkhTIHQVpEYaxWghs/yyrlLkwxMqeCgLWMXlsR5n06j4N@GQWZkAsSshaXRDWb9fOcUtaDcqxecVw5UasZN7gq/gvjSokB8@WfIPjo7ey8UynKcIQKh9j9AA" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
</div>
<div id="pu36" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 61 bytes</h1>



<pre class="lang-python prettyprint-override"><code>f=lambda a,s={0}:a and f(a[1:],s|{u+a[0]for u in s})or len(s)
</code></pre>

<p><a href="https://tio.run/##VVLLboMwELzzFXsEdQ82fmBH4ksQB9oEFSmFKCRSqjTfTmcx6UOw2vXsjHcMPn1e3qfRLEtfH7uP131HHc/1XT12qMY99XnX6F3L89f9@tI1qu2nM11pGGl@FCiPhzGfi@Wtmw8z1dRkRHmjuWyZbMHP1br229ryvwed@IdpgDn2XAEvnw3DGrBGI4LikQ07GeF@lBUagYXokbXiiL57zowGuwVMKpm0UlAC8B4gsLAmJ1ExVY7JRORK9gddAuyAftCgQu0h0RZ8UMEUpU9qIcgsdCqBsJGHoNIpSrtSNlGwKYuzIIbKZErGljrhNm621CqzkNg0x4kBk0Ybn4xFsPEG8Z9GiU2xKyLpemBW2AgftzkqHU@cy9Ed1i4ktyVwi9ogG@BapxAsql9DUsvewW9nUsmZfAQnH0J@V1WGImuzTC7RwDTJPVqvzg5/6Vb3@VCgOJ2H8ZLfmG5U1zQVyzc" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>

<p>Recursive approach, keeping track of unique subset sums.</p>

<p>The real fun is that this beats <code>itertools</code> by a big margin:</p>

<h2>76 bytes</h2>



<pre class="lang-python prettyprint-override"><code>lambda a:len({*map(sum,product(*([0,x]for x in a)))})
from itertools import*
</code></pre>

<p><a href="https://tio.run/##VY/RCsIwDEXf@xV5bEcenHPVDfYlcw9VNyysS@kqKOK3z1RUlEDCveeGNv4WzzQVy9Dsl9G4w8mAqcd@kvfMGS/ni0Mf6HQ5RpnJdoXXbqAAV7ATGKXUQ4khkAMb@xCJxhms8xRithzN3M/QQCsAZJvjukPYKPyol9ZvvcG/YlL9JAv2StS4ZX/9AQXmbOcMKo5ongWW6Ynyu7llsMMU1DzzFVbMS61EJ0Q6wiJQuuP105qXfLBTlIO0CiF1aBogtTwB" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
</div>
<!-- TYYY -->

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/QNNN/">QNNN</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




