<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::104748</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>005</td><td>Vyxal</td><td>240214T132536Z</td><td><a href="https://codegolf.stackexchange.com/questions/104748/line-up-the-diagonals-of-a-grid-of-text/270068#270068">pacman25</a></td></tr>
<tr d-ix="1"><td>194</td><td>Clojure</td><td>170108T141354Z</td><td><a href="https://codegolf.stackexchange.com/questions/104748/line-up-the-diagonals-of-a-grid-of-text/106102#106102">NikoNyrh</a></td></tr>
<tr d-ix="2"><td>101</td><td>JavaScript</td><td>161228T175317Z</td><td><a href="https://codegolf.stackexchange.com/questions/104748/line-up-the-diagonals-of-a-grid-of-text/104936#104936">Washingt</a></td></tr>
<tr d-ix="3"><td>029</td><td>CJam</td><td>161227T124816Z</td><td><a href="https://codegolf.stackexchange.com/questions/104748/line-up-the-diagonals-of-a-grid-of-text/104761#104761">Martin E</a></td></tr>
<tr d-ix="4"><td>016</td><td>Pyth</td><td>161230T134605Z</td><td><a href="https://codegolf.stackexchange.com/questions/104748/line-up-the-diagonals-of-a-grid-of-text/105081#105081">isaacg</a></td></tr>
<tr d-ix="5"><td>150</td><td>Python 2</td><td>161230T124759Z</td><td><a href="https://codegolf.stackexchange.com/questions/104748/line-up-the-diagonals-of-a-grid-of-text/105078#105078">Arfie</a></td></tr>
<tr d-ix="6"><td>247</td><td>Python 3</td><td>161230T110432Z</td><td><a href="https://codegolf.stackexchange.com/questions/104748/line-up-the-diagonals-of-a-grid-of-text/105073#105073">Cormac</a></td></tr>
<tr d-ix="7"><td>1110</td><td>Jelly</td><td>161230T083737Z</td><td><a href="https://codegolf.stackexchange.com/questions/104748/line-up-the-diagonals-of-a-grid-of-text/105070#105070">user6213</a></td></tr>
<tr d-ix="8"><td>1514</td><td>Jelly</td><td>161230T081326Z</td><td><a href="https://codegolf.stackexchange.com/questions/104748/line-up-the-diagonals-of-a-grid-of-text/105069#105069">user6213</a></td></tr>
<tr d-ix="9"><td>012</td><td>J</td><td>161227T100917Z</td><td><a href="https://codegolf.stackexchange.com/questions/104748/line-up-the-diagonals-of-a-grid-of-text/104750#104750">Zgarb</a></td></tr>
<tr d-ix="10"><td>057</td><td>Octave</td><td>161227T132917Z</td><td><a href="https://codegolf.stackexchange.com/questions/104748/line-up-the-diagonals-of-a-grid-of-text/104764#104764">Rainer P</a></td></tr>
<tr d-ix="11"><td>140</td><td>JavaScript ES6</td><td>161227T114735Z</td><td><a href="https://codegolf.stackexchange.com/questions/104748/line-up-the-diagonals-of-a-grid-of-text/104759#104759">Neil</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-2" rel="nofollow noreferrer">Vyxal</a>, 5 bytes</h1>
<pre><code>Þ√Ṙṅ§
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2&amp;c=1#WyJhIiwidmYiLCLDnuKImuG5mOG5hcKnIiwiIiwiL1xcL1xcXG5cXC8gL1xuLyAvXFxcblxcL1xcLyJd" rel="nofollow noreferrer">Try it Online!</a></p>
<p>Header converts it into a single character matrix which is a valid input form.</p>
</div>
<div id="pu1" class="pu"><h2>Clojure, 194 bytes</h2>

<p>Implemented the hard way by grouping characters to <code>G</code> and then generating lines.</p>

<pre><code>#(let[n(count %)m(count(% 0))G(group-by first(for[i(range n)j(range m)][(min(- n i)(- m j))((% i)j)]))](apply str(flatten(for[k(reverse(sort(keys G)))][(repeat(dec k)" ")(map last(G k))"\n"]))))
</code></pre>

<p>Takes input as a <code>vec</code> of <code>vec</code>s like <code>[[\a \b \c \d] [\1 \2 \3 \4] [\W \X \Y \Z]]</code>. Example:</p>

<pre><code>(def f #( ... ))
(print (str "\n" (f (mapv vec(re-seq #".+" "abcd\n1234\nWXYZ")))))

  ab
 c123
d4WXYZ
</code></pre>
</div>
<div id="pu2" class="pu"><h1>JavaScript, <s>116</s> 101 bytes</h1>

<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>f=(s,r='$&amp;',l='',z=s.replace(/.$|\n?(?!.*\n)..+/gm,x=&gt;(l=x+l,'')))=&gt;l?f(z,r+' ')+l.replace(/\n?/,r):l


G.onclick=()=&gt;O.textContent=f(I.value);</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;textarea id=I style=height:100px&gt;/\/\
\/ /
/ /\
\/\/&lt;/textarea&gt;&lt;button id=G&gt;Go&lt;/button&gt;&lt;pre id=O&gt;&lt;/pre&gt;</code></pre>
</div>
</div>
</p>

<p>I just wanted to use this regex pattern <code>/.$|\n?(?!.*\n)..+/gm</code> idea. <sup>(<a href="https://regex101.com/r/mjMz9i/2" rel="nofollow noreferrer">https://regex101.com/r/mjMz9i/2</a>)</sup></p>

<p>JavaScript regex flavour is disappointing, I had to use <code>(?!.*\n)</code> because it doesn't have <code>\Z</code> implemented, and somehow I didn't get to use <code>\0</code>.</p>

<ul>
<li>15 bytes off thanks @Neil.</li>
</ul>
</div>
<div id="pu3" class="pu"><h2><a href="https://sourceforge.net/p/cjam" rel="nofollow noreferrer">CJam</a>, 29 bytes</h2>

<pre><code>qN/{)\z}h]2/{~W%+}%eeSf.*W%N*
</code></pre>

<p><a href="https://tio.run/nexus/cjam#@1/op1@tGVNVmxFrpF9dF66qXauamhqcpqcVruqn9f@/oZGxnr0il4mpmT2QMrewVFRUBAA" rel="nofollow noreferrer" title="CJam – TIO Nexus">Try it online!</a></p>

<h3>Explanation</h3>

<p>Instead of extracting the diagonals, we peel off layers from the end, alternating left and right. Consider the following input:</p>

<pre><code>GFDB
EEDB
CCCB
AAAA
</code></pre>

<p>If we write out the diagonals as required by the challenge, we get:</p>

<pre><code>   G
  EEF
 CCCDD
AAAABBB
</code></pre>

<p>Note that this is simply (from bottom to top), the bottom-most row, concatenated with the right-most column. This definition also works if the input is rectangular.</p>

<pre><code>{      e# Run this loop while there are still lines left in the input.
  )    e#   Pull off the bottom-most row.
  \    e#   Swap with the remaining rows.
  z    e#   Transpose the grid so that the next iteration pulls off the last
       e#   column instead. However, it should be noted that transposing
       e#   effectively reverses the column, so the second half of each output
       e#   line will be the wrong way around. We'll fix that later.
}h     e# When the loop is done, we'll have all the individual layers on the
       e# stack from bottom to top, alternating between horizontal and vertical
       e# layers. There will be an empty string on top.
]      e# Wrap all those strings in a list.
2/     e# Split into pairs. There may or may not be a trailing single-element
       e# list with the empty string.
{      e# Map this block over each pair...
  ~    e#   Dump the pair on the stack.
  W%   e#   Reverse the second element.
  +    e#   Append to first element.
       e#   If there was a trailing single-element list, this will simply
       e#   add the empty string to the previous pair, which just removes
       e#   the empty string.
}%
ee     e# Enumerate the list, which pairs each string (now containing both halves)
       e# of an output line from bottom to top) with its index.
Sf.*   e# Turn those indices X into strings of X spaces, to get the correct
       e# indentation.
W%     e# Reverse the list of strings so the longest line ends up on the bottom.
</code></pre>
</div>
<div id="pu4" class="pu"><h1>Pyth, 16 bytes</h1>

<pre><code>j_.t_M.Tm+*;l=tQ
</code></pre>

<h3><a href="https://github.com/isaacg1/pyth/blob/master/big-pyth.py" rel="nofollow noreferrer">Big Pyth</a>:</h3>

<pre><code>join-on-newline
reverse transpose-and-fill-with-spaces reverse func-map transpose-justified
map
  plus
    times innermost-var
      length assign tail input
    implicit-innermost-var
  implicit-input
</code></pre>

<p>Since people say golfing languages are hard to read, I've designed Big Pyth, which is both easily readable and easily translatable to Pyth. The linked file translates an input stream of Big Pyth to Pyth. Each whitespace-separated Big Pyth token corresponds to a Pyth token, either a character or a <code>.</code> followed by a character. The exceptions are the <code>implicit</code> tokens, which are implicit in the Pyth code.</p>

<p>I want to see how good an explanatory format Big Pyth is, so I'm not going to give any other explanation. Ask me if you want something explained, however.</p>
</div>
<div id="pu5" class="pu"><h1>Python 2, 150 bytes</h1>

<pre class="lang-py prettyprint-override"><code>def f(l):w=len(l[0]);h=len(l);J=''.join;R=range;print'\n'.join(map(J,zip(*['%%-%ds'%h%J(l[h+~i][j-i]for i in R(h)if-w&lt;i-j&lt;1)for j in R(h-~w)]))[::-1])
</code></pre>

<p>Takes input as list of strings.</p>
</div>
<div id="pu6" class="pu"><h1>Python 3, 247 bytes</h1>

<pre><code>def a(s):
 s=s.split('\n')
 for i,l in enumerate(s):r=len(s)-i-1;s[i]=' '*r+l+' '*(len(s)-r-1)
 print(*[''.join(i) for i in list(zip(*[''.join(a).rstrip([::-1].ljust(min(len(s),len(s[0])))for a in zip(*[list(i)for i in s])]))[::-1]],sep='\n')`
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 11 or 10 bytes</h1>

<pre><code>ZŒDṙLUz⁶ṚUY
</code></pre>

<p><a href="https://tio.run/nexus/jelly#@x91dJLLw50zfUKrHjVue7hzVmjk////lRKTklNSlXSU0tIzMrOAdHZObl6@EgA" rel="nofollow noreferrer" title="Jelly – TIO Nexus">Try it online!</a></p>

<p>A fairly different algorithm from my other solution; this one uses a builtin to get at the diagonals, rather than doing things manually.</p>

<p>Explanation:</p>

<pre><code>ZŒDṙLUz⁶ṚUY
Z           transpose
 ŒD         diagonals, main diagonal first
    L       number of lines in the original array
   ṙ        rotate list (i.e. placing the short diagonal first)
     U      reverse inside lines
      z⁶    transpose, padding with spaces
        ṚU  rotate matrix 180 degrees
          Y (possibly unnecessary) join on newlines
</code></pre>

<p>The diagonals come out in possibly the worst possible orientation (requiring repeated transpositions, reversals, and rotations), and in the wrong order (Jelly outputs the main diagonal first, so we have to move some diagonals from the end to the start to get them in order). However, this still comes out shorter than my other Jelly solution.</p>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 15 or 14 bytes</h1>

<pre><code>L’⁶x;\Ṛ;"µZUZṚY
</code></pre>

<p><a href="https://tio.run/nexus/jelly#@@/zqGHmo8ZtFdYxD3fOslY6tDUqNArIivz//7@SoZGxnr2iko6SiamZPZhhbmGpqKioBAA" rel="nofollow noreferrer" title="Jelly – TIO Nexus">Try it online!</a></p>

<p>This is an algorithm that doesn't use Jelly's built-in for diagonals. Doing that might make it shorter; I might well try that next.</p>

<p>Here's how the algorithm works. Let's start with this input:</p>

<pre><code>["abc",
 "def",
 "ghi"]
</code></pre>

<p>We start off with <code>L’⁶x;\</code>. <code>L’</code> gives us the length of the input minus 1 (in this case, 2). Then <code>⁶x</code> gives us a string of spaces of that length (<code>"  "</code> in this case); and <code>;\</code> gives us the cumulative results when concatenating it (a triangle of spaces). We then reverse the triangle and concatenate it to the left side of the original (<code>;"</code> concatenates corresponding elements of lists, <code>µ</code> forcibly causes a break in the parsing and thus uses the original input as the second list by default), giving us this:</p>

<pre><code>["  abc",
 " def",
 "ghi"]
</code></pre>

<p>This is almost the solution we want, but we need to move the elements downwards to be flush with the last string. That's a matter of transposing (<code>Z</code>), reversing inside each line (<code>U</code>), transposing again (<code>Z</code>), and reversing the lines (<code>Ṛ</code>):</p>

<pre><code>["  abc",
 " def",
 "ghi"]
</code></pre>

<p>transpose</p>

<pre><code>["  g",
 " dh",
 "aei",
 "bf",
 "c"]
</code></pre>

<p>reverse within rows</p>

<pre><code>["g  ",
 "hd ",
 "iea",
 "fb",
 "c"]
</code></pre>

<p>transpose</p>

<pre><code>["ghifc",
 " deb",
 "  a"]
</code></pre>

<p>reverse the rows</p>

<pre><code>["  a",
 " deb",
 "ghifc"]
</code></pre>

<p>Finally, <code>Y</code> joins on newlines. It's unclear to me whether or not this is required to comply with the specification (which allows input as a list of strings, but doesn't say the same about output), so the exact byte count depends on whether it's included or omitted.</p>
</div>
<div id="pu9" class="pu"><h2><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, 12 bytes</h2>

<pre><code>|./.&amp;.|:&amp;.|.
</code></pre>

<p>Defines an anonymous verb.
<a href="https://tio.run/nexus/j#@5@mYGulUKOnr6emV2MFxHr/S0AixgomCioK6olJySmGRsYm4RGRUepcqckZ@QrqnnkFpSVQTglUzL@0BCGYplDyHwA" rel="nofollow noreferrer" title="J – TIO Nexus">Try it online!</a></p>

<h2>Explanation</h2>

<pre><code>|./.&amp;.|:&amp;.|.
|.            Reversed
  /.          anti-diagonals
    &amp;.        under
      |:      transpose
        &amp;.    under
          |.  reversal
</code></pre>

<p>In J, <code>u &amp;. v</code> (read: <code>u</code> under <code>v</code>) means "v, then u, then inverse of v".
Reversal and transpose are self-inverses, so the program really means "reverse, transpose, extract reversed anti-diagonals, transpose, reverse".</p>

<p>With example input:</p>

<pre><code>abcd
1234
WXYZ
</code></pre>

<p>Reverse:</p>

<pre><code>WXYZ
1234
abcd
</code></pre>

<p>Transpose:</p>

<pre><code>W1a
X2b
Y3c
Z4d
</code></pre>

<p>Extract reversed anti-diagonals (and pad with spaces):</p>

<pre><code>W  
X1 
Y2a
Z3b
4c 
d  
</code></pre>

<p>Transpose:</p>

<pre><code>WXYZ4d
 123c 
  ab  
</code></pre>

<p>Reverse:</p>

<pre><code>  ab  
 123c 
WXYZ4d
</code></pre>
</div>
<div id="pu10" class="pu"><h1>Octave, 57 bytes</h1>
<pre class="lang-octave prettyprint-override"><code>@(A){B=spdiags(A),C=B&gt;0,D='  '(C+1),D(sort(C))=B(C),D}{5}
</code></pre>
</div>
<div id="pu11" class="pu"><h2>JavaScript (ES6), 140 bytes</h2>

<pre><code>a=&gt;[...Array(m=(h=a.length)&lt;(w=a[0].length)?h:w)].map((_,i)=&gt;[...Array(h+w-1)].map((_,j)=&gt;(a[x=i+h-m-(++j&gt;w&amp;&amp;j-w)]||``)[x+j-h]||` `).join``)
</code></pre>

<p>Takes input and output as arrays of strings. Also accepts a two-dimensional character array input, and save 7 bytes if a two-dimensional character array output is acceptable. Explanation: The height of the result <code>m</code> is the minimum of the height <code>h</code> and width <code>w</code> of the original array, while the width is simply one less than the sum of the height and width of the original array. The source row for the characters on the main portion of the result come directly from the appropriate row of the original array, counting up from the bottom, while on the extra portion of the result the source row moves up one row for each additional column. The source column for both halves of the result turns out to be equal to the destination column moved one column left for each source row above the bottom.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/104748/">104748</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




