<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::265382</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>060</td><td>Befunge98 PyFunge</td><td>230923T093715Z</td><td><a href="https://codegolf.stackexchange.com/questions/265382/find-the-largest-sum-such-that-no-two-elements-are-touching/265436#265436">SquareFi</a></td></tr>
<tr d-ix="1"><td>057</td><td>Java</td><td>230922T141329Z</td><td><a href="https://codegolf.stackexchange.com/questions/265382/find-the-largest-sum-such-that-no-two-elements-are-touching/265422#265422">Kevin Cr</a></td></tr>
<tr d-ix="2"><td>099</td><td>Racket</td><td>230922T120745Z</td><td><a href="https://codegolf.stackexchange.com/questions/265382/find-the-largest-sum-such-that-no-two-elements-are-touching/265421#265421">138 Aspe</a></td></tr>
<tr d-ix="3"><td>080</td><td>Elixir</td><td>230922T120312Z</td><td><a href="https://codegolf.stackexchange.com/questions/265382/find-the-largest-sum-such-that-no-two-elements-are-touching/265420#265420">138 Aspe</a></td></tr>
<tr d-ix="4"><td>077</td><td>Erlang</td><td>230922T115902Z</td><td><a href="https://codegolf.stackexchange.com/questions/265382/find-the-largest-sum-such-that-no-two-elements-are-touching/265419#265419">138 Aspe</a></td></tr>
<tr d-ix="5"><td>039</td><td>JavaScript Node.js</td><td>230922T060104Z</td><td><a href="https://codegolf.stackexchange.com/questions/265382/find-the-largest-sum-such-that-no-two-elements-are-touching/265417#265417">tsh</a></td></tr>
<tr d-ix="6"><td>069</td><td>Scala 3</td><td>230921T132115Z</td><td><a href="https://codegolf.stackexchange.com/questions/265382/find-the-largest-sum-such-that-no-two-elements-are-touching/265411#265411">138 Aspe</a></td></tr>
<tr d-ix="7"><td>055</td><td>Python</td><td>230920T220823Z</td><td><a href="https://codegolf.stackexchange.com/questions/265382/find-the-largest-sum-such-that-no-two-elements-are-touching/265404#265404">97.100.9</a></td></tr>
<tr d-ix="8"><td>054</td><td>C clang</td><td>230920T153037Z</td><td><a href="https://codegolf.stackexchange.com/questions/265382/find-the-largest-sum-such-that-no-two-elements-are-touching/265398#265398">c--</a></td></tr>
<tr d-ix="9"><td>047</td><td>JavaScript Node.js</td><td>230920T143359Z</td><td><a href="https://codegolf.stackexchange.com/questions/265382/find-the-largest-sum-such-that-no-two-elements-are-touching/265395#265395">l4m2</a></td></tr>
<tr d-ix="10"><td>043</td><td>JavaScript ES6</td><td>230920T105539Z</td><td><a href="https://codegolf.stackexchange.com/questions/265382/find-the-largest-sum-such-that-no-two-elements-are-touching/265386#265386">Arnauld</a></td></tr>
<tr d-ix="11"><td>008</td><td>05AB1E</td><td>230920T112540Z</td><td><a href="https://codegolf.stackexchange.com/questions/265382/find-the-largest-sum-such-that-no-two-elements-are-touching/265388#265388">Kevin Cr</a></td></tr>
<tr d-ix="12"><td>9519</td><td>Nibbles</td><td>230920T131451Z</td><td><a href="https://codegolf.stackexchange.com/questions/265382/find-the-largest-sum-such-that-no-two-elements-are-touching/265392#265392">Dominic </a></td></tr>
<tr d-ix="13"><td>035</td><td>Haskell</td><td>230920T122701Z</td><td><a href="https://codegolf.stackexchange.com/questions/265382/find-the-largest-sum-such-that-no-two-elements-are-touching/265389#265389">Laikoni</a></td></tr>
<tr d-ix="14"><td>041</td><td>Retina 0.8.2</td><td>230920T124524Z</td><td><a href="https://codegolf.stackexchange.com/questions/265382/find-the-largest-sum-such-that-no-two-elements-are-touching/265391#265391">Neil</a></td></tr>
<tr d-ix="15"><td>021</td><td>Charcoal</td><td>230920T123828Z</td><td><a href="https://codegolf.stackexchange.com/questions/265382/find-the-largest-sum-such-that-no-two-elements-are-touching/265390#265390">Neil</a></td></tr>
<tr d-ix="16"><td>043</td><td>R</td><td>230920T104408Z</td><td><a href="https://codegolf.stackexchange.com/questions/265382/find-the-largest-sum-such-that-no-two-elements-are-touching/265383#265383">Dominic </a></td></tr>
<tr d-ix="17"><td>046</td><td>Ruby</td><td>230920T104723Z</td><td><a href="https://codegolf.stackexchange.com/questions/265382/find-the-largest-sum-such-that-no-two-elements-are-touching/265384#265384">G B</a></td></tr>
<tr d-ix="18"><td>7375</td><td>Vyxal G</td><td>230920T105442Z</td><td><a href="https://codegolf.stackexchange.com/questions/265382/find-the-largest-sum-such-that-no-two-elements-are-touching/265385#265385">lyxal</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://pythonhosted.org/PyFunge/" rel="nofollow noreferrer">Befunge-98 (PyFunge)</a>, 60 <s>67</s> bytes</h1>
<h2>Rearranged Version, saves 7 bytes</h2>
<pre><code>&lt;v&amp;v#gf;#e_f#;&lt;j4`gffgfe&lt;pff0pfe0
.&gt;#&lt;ffg+efpffp          ^@
</code></pre>
<p><a href="https://tio.run/##S0pNK81LT9W1tNAtqAQz//@3KVMrU05Ps1ZOjU9TtrbJMklIT0tLT0u1KUhLMyhISzXg0rNTtgEKaaemAYUKFOAgzuH/f0sFCwVzBUsFEA0A" rel="nofollow noreferrer" title="Befunge-98 (PyFunge) – Try It Online">Try it online!</a><br />
Uses the same concept as the initial version, just flipped to remove whitespace from bytecount.</p>
<h2>Initial Version</h2>
<pre><code>0efp0ffp&gt;efgffg`4j&gt;;#e_f#;fg#v&amp;v
        ^          pffpfe+gff&gt;#&lt;.@
</code></pre>
<p><a href="https://tio.run/##S0pNK81LT9W1tNAtqAQz//83SE0rMEhLK7BLTUtPS0tPMMmys1ZOjU9Ttk5LVy5TK@NSgII4BTgoAKpPS9UGqrdTttFz@P/fUsFCwVzBUgFEAwA" rel="nofollow noreferrer" title="Befunge-98 (PyFunge) – Try It Online">Try it online!</a><br />
Takes input as a series of space separated integers. The last integer must have  a trailing space.</p>
<p>Uses the dynamic programming approach, and so runs in O(n).</p>
<p>This is my first codegolf so it might be able to be golfed down a bit.</p>
<h2>Explanation</h2>
<p>Store two 0's at (15,16) and (16,16). (From here, A will refer to (15,16) and B will refer to (16,16). A stores the sum if including the current integer, and B stores the sum if excluding the current integer). (15,16) and (16,16) are arbitrarily chosen as cells that the program will never visit.</p>
<pre><code>0efp0ffp
</code></pre>
<p>Start a loop, that ends when all input has been read. (<code>#</code> skips the next instruction; <code>&amp;</code> takes input and reflects on EOF). Once ended, print the top of the stack and end the program.</p>
<pre><code>        &gt;                   #v&amp;v
        ^                    &gt;#&lt;.@
</code></pre>
<p>For each loop:</p>
<p>Read A and B, and compare with the greater than operator (<code>`</code>)</p>
<pre><code>        &gt;efgffg`               v
        ^                      &lt;
</code></pre>
<p>Depending on whether A or B is larger, push 15 or 16 to the stack, push 16, then get the value at those coordinates. This is the max of A and B.</p>
<pre><code>        &gt;       4j&gt;;#e_f#;fg   v
        ^                      &lt;
</code></pre>
<p>Now read in input</p>
<pre><code>        &gt;                     &amp;v
        ^                      &lt;
</code></pre>
<p>Add B to it and store in A, then store the previously calculated max value</p>
<pre><code>        &gt;                      v
        ^          pffpfe+gff  &lt;
</code></pre>
<p>Notice that at the end, the first maximum calculating part of the loop is executed, then the EOF redirects the instruction pointer to print this number out instead of storing it and quits.</p>
</div>
<div id="pu1" class="pu"><h1>Java, <s>64</s> 57 bytes</h1>

<pre class="lang-java prettyprint-override"><code>a-&gt;{int t=0,r=0;for(int k:a)r=(k+=t)&gt;(t=r)?k:t;return r;}
</code></pre>
<p>Another port of <a href="https://codegolf.stackexchange.com/a/265384/52210"><em>@G B</em>'s Ruby answer</a>.<br />
Also runs in <span class="math-container">\$O(n)\$</span> complexity.</p>
<p><a href="https://tio.run/##rVHLasNADLznK0ROu3hj4jxoY@OU0nNzydH4oDqb4kfWYVd2Ccbf7spOQn@gLCuNBmkYoQJbXBSncsgqdA4@MTfdDCA3pO0ZMw2HsZwIyATHJAWUEXP9jIMjpDyDAxiIB1zsu7GP4qWy8TI613acgDJEaWNRejHJvaDYyrcypMhqaqwBG/VDNGpdm6@KtR6SbZ2f4MJ2xJFsbr6TFOXdyijbogXSjj7Q6dDoH5icJWnXBWql1mrTqydSW8YrxoEKnpGZNecN/63aTfVOvaoXxpyn2X9@fS8n8wDHmyN98euG/CsvRpURBR/Bbyiv/Hdr8eZ8qu9Li@eO0puHMPeMn/1Rjyv0wy8" rel="nofollow noreferrer">Try it online.</a></p>
<p><strong>Explanation:</strong></p>
<pre class="lang-java prettyprint-override"><code>a-&gt;{                    // Method with integer-array parameter and integer return-type
  int t=0,              //  Temp-integer, starting at 0
      r=0;              //  Result-integer, starting at 0 as well
  for(int k:a)          //  Loop over the integers `k` of the input-array:
    r=(k+=t)&gt;(t=r)?k:t;
  //  (k+=t)            //   First increase the current `k` by value `t`
  //         (t=r)      //   Then replace `t` with value `r`
  //r= k    &gt; t   ?k:t; //   And then set `r` to the maximum of these new `k` and `t` as
                        //   preparation for the next iteration
  return r;}            //  After the loop, return the final 'prepared' maximum `r`
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://racket-lang.org/" rel="nofollow noreferrer">Racket</a>, 99 bytes</h1>
<p>Golfed version. <a href="https://tio.run/##dY7fCoJQDIfvfYofdNGkm/xHedWDiBdTj3FoHsUM6ultJ4kIdLCN7ftgG7m@mWneCbsrxmWgxrTWGVALCUnMBOn7gQqBlAXjWBaVlpBsC3IPkYvXOn6CUanv3boZ/5YHbVSzX37id6Nj68IAoMbeB@GXOH93TxFiJEjV3YbI1nGsOEL0retSoijVzJBvKTnOOCnW7p8OguXb@Q0" rel="nofollow noreferrer">Try it online!</a></p>
<pre><code>(define (f l)(let loop([l l][a 0][b 0])(if (null? l)(max a b)(loop(cdr l)(max a b)(+ a (car l))))))
</code></pre>
<p>Ungolfed version. <a href="https://tio.run/##hY/dCsIwDIXv9xQHvLDijftDd@WDDJFu66QYu7Ef0KevaeeY3sxAE3L6JZx0sryrwdoNSXND57sgEJWqtVEQD/m89uMD1A@7ABCkBlDTtBA5S06@IJc4cC44O4YpXUOYkeg8z03htkGi@FKmXWXVeXIhIPZcRSmnDx8/trTxfirdtyRfZBarWxEiQozEjfxBkK5BEUMhwjmvoTEDCb8U2TqY4YQjQ1w/N/lbrH0D" rel="nofollow noreferrer">Try it online!</a></p>
<pre><code>#lang racket

(define (max_sum lst)
  (let loop ([lst lst] [a 0] [b 0])
    (if (null? lst)
        (max a b)
        (loop (cdr lst) (max a b) (+ a (car lst))))))

(define (main)
  (displayln (max_sum '(1 2 3 4)))
  (displayln (max_sum '(1 2 3 4 5)))
  (displayln (max_sum '(2 2 1 1 2 1 1 2)))
  (displayln (max_sum '(3 1 4 1 5 9 2)))
  (displayln (max_sum '(9 8 7 9 9 8))))

(main)
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://elixir-lang.org" rel="nofollow noreferrer">Elixir</a>, 80 bytes</h1>
<pre><code>def f(l)do
{a,b}=Enum.reduce(l,{0,0},fn x,{a,b}-&gt;{max(a,b),a+x}end)
max(a,b)
end
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=fZC9CsIwFIX3PMUdE7wW7Q_WQTcHB9FdHGqTQKBNRS0USp_EpYvuPo6rT2KSKi7VcEnOzfm44eRyE5mq1LG9cyHzgpeZgFWiNPDiWp7lMH5sjAGSZowXpE5w38wWusy9o-BlKmiG9QhHDUoNFTp7OK_zpKJGMkwGVSM0Z-RzQ0z3nvsEsJPz7jECZi3XntKng0jPVNLtGMFHCBDCHWN_fYSoH_EdMnb1Ff1s4MzQ7RHC9CdonBhh4hCrO8oEs-EIsb_n2VSUdUnbtjtf" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.erlang.org" rel="nofollow noreferrer">Erlang</a>, 77 bytes</h1>
<pre class="lang-erlang prettyprint-override"><code>f(L)-&gt;f(L,{0,0}).
f([],{A,B})-&gt;max(A,B);
f([H|T],{A,B})-&gt;f(T,{max(A,B),A+H}).
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=hY_PCoJAEMbvPYV4iF36ttw00oLATh7q1k0khNwIUkMMAtMX6eKl3qljb9JIWUcH5g_z_WaGuT2i7Bgm-_rZF3G6Ox8jFoeHhA97Irqc0ixnvhpJaE1zJAM-vJ9zJeznWrEVFwuKKAwYJQ0o5gcoXCxLEuLwwqjk86btXTd_RbENilaGO_DK39JXc4VtuSYWPY3skM5UmsVhzvTqVCU6NJ-2SYxhwgp4wNGNYdIFjgmUkG3swk2CLPIJnG7YgY0pgZQb9PtoXX_yGw" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu5" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 39 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>a=&gt;a.map(v=&gt;q=(v+=p)&gt;(p=q)?v:p,p=q=0)|q
</code></pre>
<p><a href="https://tio.run/##rY/NDoIwDIDvPsWOW6zgxp8zGT4IWciCYDQIQ8xOvjsWhWiCR7e0XfL1S9eLcaYvbmd73zTtsRwqNRiVGu9qLHUq7RR1a2VZSq3q2MHtLeBDbdmjG4q26du69Or2RCuacRAQQKjJdBgjvk9iQrIcSY5k9duASH8bEg2O/QFGtHAEOhz4nPXbSdAZZ4zeWDEvzABpiBGBRDpP4zHJxknhy5KQLzwJO0iQYNWfXwr05OwgWe725zttKvjwBA" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>Use two variables <code>p</code>, and <code>q</code> to track:</p>
<ul>
<li><code>p</code>: Largest sum we got for <code>a[0..i-1]</code></li>
<li><code>q</code>: Largest sum we got for <code>a[0..i]</code></li>
</ul>
<p>So, for each iteration,</p>
<ul>
<li><code>i' = i + 1</code></li>
<li><code>p' = q</code></li>
<li><code>q' = max(q, p + a[i'])</code></li>
</ul>
</div>
<div id="pu6" class="pu"><h1><a href="https://www.scala-lang.org/" rel="nofollow noreferrer">Scala 3</a>, 69 bytes</h1>
<pre class="lang-scala prettyprint-override"><code>l=&gt;{val(a,b)=l.foldLeft((0,0)){case((a,b),c)=&gt;(a max b,a+c)};a max b}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=hc_BSsNAEAZgvPoQMscdnErTtNhGNuDBg1BPxVPpYbJNSspmK8lWlJAn8RIP-k76NE6b9hoPMz-z-zEwH9-VYcth-3txtUu2qfHwxLmD-hJgnWZQyKC43FQR3Jclvy8XvszdZoURPLvcgz5KgBd59dapgt8W-0LN88qrgEYU0hgR_yM06UMjQQEF595HQwFjqQnN-uGMpnQrSLJjjdQrW-hQBAe1fHR-pWPpcufX3meD6c-D1XEtUDElqO1NtrPreZp5pYY0RKwNV6k6fpJBHSs-bISE-Npgc3eamm7Z5ynbtss_" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu7" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 55 bytes</h1>
<pre class="lang-python prettyprint-override"><code>f=lambda a,b,c,*d:d and f(max(a,b),a+c,*d)or max(a+c,b)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=PYxJDoMwDEX3nCJLB1ypTGKQOEMPgLIIDRGRIEQodDhLN2zaO3GbppR2Yfu_J30_XuZuu1Evy3O28pCvmax6PjSCE44NntEXpSBcCyJh4DdwkiIPPp6OE9mUo4bu9eDaqb4loMpKaTNboLT0CDGT0hYk-O2F96BofWR0ryzrqa5DjDDGhDHvnzHdKHIUYvjbm4tdStykWOymwBwzR-4y9v37Bg" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Adapted from <a href="https://codegolf.stackexchange.com/a/265384/113573">G B's answer</a>. It only works if the array is at least three elements long.</p>
</div>
<div id="pu8" class="pu"><h1><a href="http://clang.llvm.org/" rel="nofollow noreferrer">C (clang)</a>, <span class="math-container">\$\mathcal{O}(N)\$</span>, 54 bytes</h1>
<p>takes in a zero-terminated array of positive integers and returns via out parameter.</p>

<pre class="lang-c prettyprint-override"><code>n,t;f(*a,*r){for(*r=n=0;*a;n=*r,*r&lt;t?*r=t:0)t=n+*a++;}
</code></pre>
<p><a href="https://tio.run/##dVHLbsIwELz7K0apKI5jqvCo2mICH5LmYCVQLFETOaaXKN@ebpyWHgoX27Mzuzu7LmflSduPvrfSqwMXWgoXt4ez48JlNkuV0MpmwlF443cU8@s09plNhE4S1fUPxpanS7XHpvGVOT8dt4x9nU3F/L7x3FgPoZ2LWcuAARkJt/eKEawvvjxqx6f5NFaEqSm4QYZUgXJyUygkiYmJIrGj7AOPJs2kiiQMdqArwhoR3aN8rMIJSDxSl4B/EwvMtphU7zYKDojrGCOKfWpj@WD5z6QYzDd5QV7a0H0YJC/iFnOJhcRSYiWRopP32edbgkUQzOWP8vr4r1wGahVOKvV2R0bxV4mXIBjfV01KZychRB22HbZb00RhNgUKo06Scbvhs0Q9LKX/Bg" rel="nofollow noreferrer" title="C (clang) – Try It Online">Try it online!</a></p>
</div>
<div id="pu9" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 47 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>x=&gt;x.map(e=(t,i)=&gt;e=x[i]=(t+=~~x[i-2])&lt;e?e:t)|e
</code></pre>
<p><a href="https://tio.run/##bc7fCoIwFAbw@55il46OyvyTLZo9iAwRW2GYSkp4Eb66fVZSYIOds/Htx9klu2dtfiuazq7qoxlPauxV3DvXrLGMsjoquIqN6pNC47ZWw4Cj7Wm@Nwez6/jDjHldtXVpnLI@WycrEeSRT4Fmn8U5c122YSxJkaRIVv8FhfpXSAiB9z52uDAejCAxV/02Ecw0Y3JTR11IH2mAHZJEOk8TG5ZMk4KXkpQunKQtRUjQ9feXHpycDZLxCQ" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu10" class="pu"><h1>JavaScript (ES6), 43 bytes</h1>
<p>Port of <a href="https://codegolf.stackexchange.com/a/265384/58563">GB's answer</a>, running in <span class="math-container">\$O(n)\$</span>.</p>

<pre class="lang-javascript prettyprint-override"><code>a=&gt;[...a,b=0].map(v=&gt;[b,a]=[a&gt;b?a:b,b+v])|b
</code></pre>
<p><a href="https://tio.run/##bc7dCsIgFAfw@57Cy41OLveZgetBRIauLYo1R4td9e52rEbBEs454N8fx4ue9FjfzsN909tj41rhtCglpVSDEVtFr3oIJrwxoJWQujQHvTdg1pMKH8bVth9t19DOnoI2kAxiSCBV5HPCkEQRyQmRFSYVJqv/AjL1KzgKhu8TrGxhYjQM2NzV2xRo/A7v/MS@kAmmKVYGHNN5G8uJ9JvSl@JQLRyHHRSY4FTfX8bo@GwwcU8" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<hr />
<h1>JavaScript (ES6), 44 bytes</h1>
<p>This one runs in <span class="math-container">\$O(2^n)\$</span>.</p>

<pre class="lang-javascript prettyprint-override"><code>f=([v,...a],p)=&gt;x=v?p|(v+=f(a,1))&lt;f(a)?x:v:0
</code></pre>
<p><a href="https://tio.run/##bc7NCsIwDAfwu0/RY4uxs/u0w7oHGWWM6UQZ63BSdvDda6oOhVlIcvj3R3KtbT02t8tw3/TmeHKuVbS0wDmvNQxMHSZli@FB7Vq1tAbB2B4nK6bc5lvXmH403Yl35kxbWgoIIYJYk89jjAQBSQkpK0wqTFb/BST6V0gUAv9HWMnChGgEiLnrt8nQ@B3e@Yl9ISNMY6wEJKbzNpGS0m@KX0pCtXASdpBhglN/rwzRydlg4p4" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Commented</h3>
<pre class="lang-javascript prettyprint-override"><code>f = (        // f is a recursive function taking:
  [v,        //   v = next value from the input array
      ...a], //   a[] = remaining values
  p          //   p = flag set if the previous value was used
) =&gt;         //
x =          // save the result in x
v ?          // if v is defined:
  p | (      //   if p is set
    v +=     //   or the updated value of v obtained by adding
    f(a, 1)  //   the result of a recursive call with p set
  ) &lt; f(a) ? //   is less than f(a):
    x        //     use x (the result of f(a))
  :          //   else:
    v        //     use v
:            // else:
  0          //   stop
</code></pre>
</div>
<div id="pu11" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, <s>11</s> 8 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>ÎĆvMsy+s
</code></pre>
<p>-3 bytes and <span class="math-container">\$O(n)\$</span> complexity by porting <a href="https://codegolf.stackexchange.com/a/265384/52210"><em>@G B</em>'s Ruby answer</a>, so make sure to upvote that answer as well!</p>
<p><a href="https://tio.run/##yy9OTMpM/f//cN@RtjLf4krt4v//ow11jHSMdUx0TGMB" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##S0oszvifnFiiYKeQnJ@SqpdfnJiUmapgY6Pg6u/GZa@k8KhtkoKS/f/DfUfaynyLK7WL/9fqcIHkuMozMnNSFYpSE1MUMvO4UvK5FBT08wtK9CFGQCk0U20UVMBq81L/RxvqGOkY65jEcsFYOqZAthGQbahjCCOBIsZA2gSITXUswXxLHQsdcyAbSMdyAQA" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>Î        # Push 0 and the input-list
 Ć       # Enclose; append the first item at the end of the input-list
         # (this is to have an extra iteration, the value that's appended is irrelevant)
  v      # Pop and loop over each item `y` of this modified input-list:
   M     #  Push a copy of the stack's maximum
    s    #  Swap so the previous value (or 0 in the first iteration) is at the top again
     y+  #  Add the current loop-integer `y` to it
       s #  Swap back to the pushed maximum for the next iteration
         # (after the loop, the maximum of the extra iteration is output implicitly)
</code></pre>
</div>
<div id="pu12" class="pu"><h1><a href="http://golfscript.com/nibbles/index.html" rel="nofollow noreferrer">Nibbles</a>, 9.5 bytes (19 nibbles)</h1>
<pre><code>`//$`,1:`/@]+/@$$]
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m708LzMpKSe1eMGCpaUlaboWmxL09VUSdAytEvQdYrX1HVRUYiESUPnN0UrRxjqGOiZAbKpjqWMUqxQLlQIA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Runs in polynomial time.<br />
Direct port of <a href="https://codegolf.stackexchange.com/a/265383/95126">my R answer</a>, which is itself inspired by <a href="https://codegolf.stackexchange.com/a/265384/95126">G B's answer</a>.</p>
<pre><code>  /                 # fold from right
   $                # over the input,
    `,1             # starting with a list of only [0]:
       :            #   join
        /@]         #     maximum in the result-list-so-far
                    #   to
            /@$     #     first entry of the result-list-so-far
           +   $    #     plus the current element
`/              ]   # and output get the maximum in the final result-list
</code></pre>
</div>
<div id="pu13" class="pu"><h1><a href="https://www.haskell.org" rel="noreferrer">Haskell</a>, <s>38</s> 35 bytes</h1>
<pre class="lang-haskell prettyprint-override"><code>g(x:y:r)=max(g$y:r)$x+g r
g x=sum x
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=TZBLCsIwEIYRXPUUA3bR4tSSPqwR6g08QSmlC43FRkpViGdx40Y8k57GiWnUwDyS__uHMNfHrj7uN217u93Pp22weE6Ep5aXZe_nslaecHXrqqmA3hGg8uNZgjLoazR2ZN0cIAdZd2vwur45nGbCh8KBgmGEMSYlgj1BAMEK5tSFIRQV6RXpPxTTL2xQPqCMwJgi1XBEMENmM1kMnA2wnqoNulLWlpgeEooU-cdg57O5sejZyQfnWGkDxwVmdKFaln8figYDtzDpjlmG3d8b" rel="noreferrer">Attempt This Online!</a></p>
<p><code>g x=sum x</code> is a handy way to combine the two base cases <code>g[x]=x</code> and <code>g[]=0</code>.</p>
<hr />
<h1><a href="https://www.haskell.org" rel="noreferrer">Haskell</a>, <span class="math-container">\$O(n)\$</span>, 42 bytes</h1>
<pre class="lang-haskell prettyprint-override"><code>maximum.foldl(\[a,b]x-&gt;[b+x,max a b])[0,0]
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=TZBdisIwEIDZFx96innUdaJNf7RB7A08QTaUFP-KjRZ_oCCexJfCsuyZdk-zE9OuBmYmyXzfEHL_3urTblWWzed1M_-6nNcs-Xk3ui7MxYzWh3JZ9j-kxlzVLJX5sEbqgYZcDaSPvnLG71tv5hld7GEORlcL6FfHYn8ebQYgPZAcAwwxUgjdYgxYChPajccgM-pn1H-iGP_DDhUtygkMKWILBwRz5F0mxcHTFrZTrWArZauEdBFRxCgeQjefT5xiZ0cPXGBmBYEJTulAVamXBwWtIDqY-t7NfUfTuPoH" rel="noreferrer">Attempt This Online!</a></p>
<p>Same approach as <a href="https://codegolf.stackexchange.com/a/265384/56433">G B's Ruby answer</a>.</p>
</div>
<div id="pu14" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language/a950ad7d925ec9316e3e2fb2cf5d49fd15d23e3d" rel="nofollow noreferrer">Retina 0.8.2</a>, 41 bytes</h1>
<pre><code>.+
$*
+`^((.+).*)¶\2(.*)¶
$1$3¶$1
O^`
\G1
</code></pre>
<p><a href="https://tio.run/##K0otycxL/K@qEZyg819Pm0tFi0s7IU5DQ09bU09L89C2GCMNMM2lYqhifGibiiGXf1wCV4y74f//hjpGOsY6JlxQWseUywjIMtQxhJFcxkDSBIhNdSyBPEsdCx1zIAtIAwA" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Takes input on separate lines but link is to test suite that splits on commas for convenience. Explanation: Another port of @GB's Ruby answer.</p>
<pre><code>.+
$*
</code></pre>
<p>Convert to unary.</p>
<pre><code>+`^((.+).*)¶\2(.*)¶
$1$3¶$1
</code></pre>
<p>Add the first element to the third and keep the larger of the first and second elements.</p>
<pre><code>O^`
</code></pre>
<p>Sort descending.</p>
<pre><code>\G1
</code></pre>
<p>Convert the larger of the remaining two numbers to decimal.</p>
</div>
<div id="pu15" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 21 bytes</h1>
<pre><code>Ｆ²⊞υ⁰ＦＡ≔⟦⁺ι§υ¹⌈υ⟧υＩ⌈υ
</code></pre>
<p><a href="https://tio.run/##RYu9CoMwFEb3PsUd74VbqLYdipM4ORSyhwzB/hiIsSS54ttH26XDt5xzvmG0cZitL@U1R8CaQEkaURhO1Bx@rA8fyUgEbUruHVArLwkdQ5v78Hiu37giYrjb1U0yoZBhkP2uogsZO5sy/h1RU4rWZ674su/KN66NKcfFbw" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation: Port of @GB's Ruby answer.</p>
<pre><code>Ｆ²⊞υ⁰
</code></pre>
<p>Start with an accumulator of two zeros.</p>
<pre><code>ＦＡ
</code></pre>
<p>Loop over the input.</p>
<pre><code>≔⟦⁺ι§υ¹⌈υ⟧υ
</code></pre>
<p>Update the accumulators.</p>
<pre><code>Ｉ⌈υ
</code></pre>
<p>Output the best sum.</p>
</div>
<div id="pu16" class="pu"><h1><a href="https://www.r-project.org" rel="noreferrer">R</a>, <s>80</s> <s>46</s> 43 bytes</h1>
<p><em>Edit: hugely golfed with inspiration from <a href="https://codegolf.stackexchange.com/a/265384/95126">G B's answer</a>: upvote that!</em></p>
<pre class="lang-r prettyprint-override"><code>\(x)max(Reduce(\(a,i)c(max(a),a[1]+i),x,0))
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=TY9LDsIgEED3noLEDZNOU2nph4Uewm3bNKTapAs3xia9i5tq4qG8hwdw6ICRZBgY3hvg_rguz2H_mm5DXL2jRs5wsbM8nk9Tf5aNtDhCL13JAtpatdEIOOMOwCufQfZSYYoZagARxlbEByEKWiWJqDs671C3mz8Y8x_OsPGwIjSjyBlPCVeowkwS46XHXWenuEwzSxmVNEWOZlXCHapgyfXXq2CwY8VghSVtKfuHsZJ6xQQcq5b_viycvw" rel="noreferrer">Attempt This Online!</a></p>
<p>Runs in polynomial time.</p>
</div>
<div id="pu17" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="noreferrer">Ruby</a>, 46 bytes</h1>

<pre class="lang-ruby prettyprint-override"><code>-&gt;l{a=b=0;l.map{|c|a,b=[a,b].max,a+c}.max.max}
</code></pre>
<p><a href="https://tio.run/##KypNqvyfZvtf1y6nOtE2ydbAOkcvN7Gguia5JlEnyTYaSMQCBSp0ErWTa0EMEK79X6CQFh1tqGOkY6xjEhvLhczVMYUJGAEFDHUMYSRM2BjIMQFiUx1LhKCljoWOOVAASMfG/gcA" rel="noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
<p>Runs in O(n).</p>
<h3>How?</h3>
<p>We need 2 accumulators. The first 2 steps will initialize them with the first 2 elements of the list. Then at every step: add the current element to the accumulator that was not increased in the previous step, and discard the smallest.</p>
<h3>Example:</h3>
<pre class="lang-ruby prettyprint-override"><code>[3,1,4,1,5,9,2]
Start -&gt; a=0, b=0
3     -&gt; a=0, b=3
1     -&gt; a=3, b=1
4     -&gt; a=3, b=[3+_+4]
1     -&gt; a=[3+_+4], b=[3+_+_+1]
5     -&gt; a=[3+_+4], b=[3+_+4+_+5]
9     -&gt; a=[3+_+4+_+5], b=[3+_+4+_+_+9]
2     -&gt; a=[3+_+4+_+_+9], b=[3+_+4+_+5+_+2]
</code></pre>
</div>
<div id="pu18" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a> <code>G</code>, 59 <a href="https://github.com/Vyxal/Vyncode/blob/main/README.md" rel="nofollow noreferrer">bits<sup>v2</a></sup>, 7.375 bytes</h1>
<pre><code>ẏṗ'¯‹g;İṠ
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2#WyJHfj0iLCIiLCLhuo/huZcnwq/igLlnO8Sw4bmgIiwiIiwiWzEsMiwzLDRdICAgICAgICAgLT4gNlxuWzEsMiwzLDQsNV0gICAgICAgLT4gOVxuWzIsMiwxLDEsMiwxLDEsMl0gLT4gN1xuWzMsMSw0LDEsNSw5LDJdICAgLT4gMTZcbls5LDgsNyw5LDksOF0gICAgIC0+IDI2Il0=" rel="nofollow noreferrer">Try it Online!</a></p>
<p>Probably doesn't meet the criteria of running in polynomial time.</p>
<h2>Explained</h2>
<pre><code>ẏṗ'¯‹g;İṠ­⁡​‎‎⁪⁡⁪⁠⁪⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁣⁪‏‏​⁡⁠⁡‌⁢​‎⁪⁪⁠⁪⁪⁠‎⁪⁡⁪⁠⁪⁢⁢⁪‏‏​⁡⁠⁡‌⁣​‎‎⁪⁡⁪⁠⁪⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁪‏‏​⁡⁠⁡‌⁤​‎‏​⁢⁠⁡‌⁢⁡​‎‏​⁢⁠⁡‌⁢⁢​‎‎⁪⁡⁪⁠⁪⁢⁤⁪‏‏​⁡⁠⁡‌⁢⁣​‎‎⁪⁡⁪⁠⁪⁣⁡⁪‏‏​⁡⁠⁡‌⁢⁤​‎‏​⁢⁠⁡‌­
ẏṗ'   ;    # ‎⁡Keep items of the powerser of range(0, len(input)) where:
     g     # ‎⁢ The minimum
   ¯‹      # ‎⁣  Of deltas - 1 isn't 0
# ‎⁤Essentially, this finds all sets without consecutive items, as consecutive items will have a forwards difference of 1, which is 0 when decremented. 
# ‎⁢⁡This works regardless of input because it's operating on the list of indices, not actual values
       İ   # ‎⁢⁢Index into the input list
        Ṡ  # ‎⁢⁣And sum each
# ‎⁢⁤The G flag outputs the biggest sum
💎
</code></pre>
<p>Created with the help of <a href="https://vyxal.github.io/Luminespire" rel="nofollow noreferrer">Luminespire</a>.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/265382/">265382</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




