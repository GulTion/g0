<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::269954</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>063</td><td>Haskell</td><td>240210T061330Z</td><td><a href="https://codegolf.stackexchange.com/questions/269954/remove-falsy-rows-and-columns/269969#269969">totallyh</a></td></tr>
<tr d-ix="1"><td>nan</td><td></td><td>240210T090227Z</td><td><a href="https://codegolf.stackexchange.com/questions/269954/remove-falsy-rows-and-columns/269972#269972">Houriyah</a></td></tr>
<tr d-ix="2"><td>015</td><td>J</td><td>240210T072119Z</td><td><a href="https://codegolf.stackexchange.com/questions/269954/remove-falsy-rows-and-columns/269971#269971">Jonah</a></td></tr>
<tr d-ix="3"><td>016</td><td>K ngn/k</td><td>240210T004923Z</td><td><a href="https://codegolf.stackexchange.com/questions/269954/remove-falsy-rows-and-columns/269964#269964">att</a></td></tr>
<tr d-ix="4"><td>015</td><td>Uiua SBCS</td><td>240210T040610Z</td><td><a href="https://codegolf.stackexchange.com/questions/269954/remove-falsy-rows-and-columns/269966#269966">chunes</a></td></tr>
<tr d-ix="5"><td>019</td><td>APL Dyalog APL</td><td>240210T055417Z</td><td><a href="https://codegolf.stackexchange.com/questions/269954/remove-falsy-rows-and-columns/269968#269968">Mukundan</a></td></tr>
<tr d-ix="6"><td>064</td><td>JavaScript ES13</td><td>240209T223740Z</td><td><a href="https://codegolf.stackexchange.com/questions/269954/remove-falsy-rows-and-columns/269956#269956">Arnauld</a></td></tr>
<tr d-ix="7"><td>010</td><td>MATL</td><td>240210T011712Z</td><td><a href="https://codegolf.stackexchange.com/questions/269954/remove-falsy-rows-and-columns/269965#269965">Luis Men</a></td></tr>
<tr d-ix="8"><td>015</td><td>Charcoal</td><td>240210T000413Z</td><td><a href="https://codegolf.stackexchange.com/questions/269954/remove-falsy-rows-and-columns/269963#269963">Neil</a></td></tr>
<tr d-ix="9"><td>011</td><td>Jelly</td><td>240209T233911Z</td><td><a href="https://codegolf.stackexchange.com/questions/269954/remove-falsy-rows-and-columns/269961#269961">Jonathan</a></td></tr>
<tr d-ix="10"><td>032</td><td>Python + numpy</td><td>240209T225848Z</td><td><a href="https://codegolf.stackexchange.com/questions/269954/remove-falsy-rows-and-columns/269958#269958">Stef</a></td></tr>
<tr d-ix="11"><td>044</td><td>Haskell + hgl</td><td>240209T224548Z</td><td><a href="https://codegolf.stackexchange.com/questions/269954/remove-falsy-rows-and-columns/269957#269957">Wheat Wi</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, <s>81</s> 63 bytes</h1>

<pre class="lang-hs prettyprint-override"><code>f m|p&lt;-product=[[c|(x,c)&lt;-zip[0..]r,p(map(!!x)m)&gt;0]|r&lt;-m,p r&gt;0]
</code></pre>
<p><a href="https://tio.run/##bZBNCsIwEIX3PcVz18K0pFb7A9UbeIKQRamKRaMhrSDSu9dJFPzBrF7efPMmk0PTH3en0zTtoUdTx8Zettd2WEnZjuGN2qiO752RIkmUJRPqxoSz2S3S0Vqo0daxJgPLehp2/dBjBQkpU8KckCmCXBCWhFypAK9D/wDxA2TcQ0irFyFYl07Pnek6v3FOyHwks6njnjfhjcIZBRcI3Fpy5U2kfroncg/n3vNE9RHK74MKAt10Z96Rf2GD0NjuPCDBPoJffnoA" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
<p><s>I <em>really</em> want to use the fact that Haskell has <code>product</code> in Prelude but...</s> Never mind, I did it. :P</p>
<h2>Explanation</h2>
<pre class="lang-hs prettyprint-override"><code>f m                            -- define function f that takes matrix m
  | p &lt;- product =             -- alias product to p
    [[c                        -- store c
      | (x, c) &lt;- zip [0..] r  --     for every pair of index x and value c in r...
      , p (                    --     if the product of the...
      map (!! x) m)            --     ...xth element of every row in m (column)...
      &gt; 0]                     --     ...is greater than 0 (truthy)
    | r &lt;- m                   --   for every row r in m...
    , p r &gt; 0]                 --   if the product of r is greater than 0 (truthy)
</code></pre>
</div>
<div id="pu1" class="pu"><pre><code>def remove_zeros(matrix):
rows_to_remove = {i for i, row in enumerate(matrix) if 0 in row}
cols_to_remove = {j for j in range(len(matrix[0])) if any(matrix[i][j] == 0 for i in range(len(matrix)))}

result = [[matrix[i][j] for j in range(len(matrix[0])) if j not in cols_to_remove] for i in range(len(matrix)) if i not in rows_to_remove]

return result
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, 15 bytes</h1>
<pre><code>*@*/#&quot;1*@*/&quot;1#]
</code></pre>
<p><a href="https://tio.run/##ZYzLCsIwEEX3fsUlFYthmkc1qQ1VgoKr4sJ9FyIWceMPSH89JulGcDHMnXMu8wpMlCP2DiUICi5OJXC69ufAPZcF02kxXQxhvbgcBW7u4CsxDZ2PblIdl6uP45LLbP/p4/58Y4SFwRKGsCHUhC1B0xxVvhpqEkJL2CU8uwhMcjZ3bAY1tT9fVPgC" rel="nofollow noreferrer" title="J – Try It Online">Try it online!</a></p>
<ul>
<li><code>*@*/&quot;1</code> Boolean multiply across columns...</li>
<li><code>#]</code> and use that to filter rows.</li>
<li><code>#&quot;1</code> then filter each of those remaining rows...</li>
<li><code>*@*/</code> by the boolean filter obtained by multiplying all the rows together</li>
</ul>
</div>
<div id="pu3" class="pu"><h1><a href="https://codeberg.org/ngn/k" rel="nofollow noreferrer">K (ngn/k)</a>, <s>18</s> 16 bytes</h1>
<pre><code>{x.(?&amp;&amp;/')'+:\x}
</code></pre>
<p><a href="https://ngn.codeberg.page/k#eJxVTjkOgzAQ7HnFVIAVKfH6xGyRj1DzBiSUv2fWIEWpdufU7Ot5POf3OL4mNz3W7fgMw45ZEBA1IaO4f+w7jiiQRsJDFg38EbuQEWlNELXr+VWtEDQsCJ0TllQtVFhBrt2JqzjRaWnLFngm0u2qbMjE2Xp/o+jz1zBLqLkahLPEfQHytSgF" rel="nofollow noreferrer">Try it online!</a></p>
<pre><code>   (  &amp;/')'+:\x     row-,column-wise mins
    ?&amp;              nonzero indices
 x.                 submatrix
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://uiua.org" rel="nofollow noreferrer">Uiua</a> <sup><a href="https://tinyurl.com/Uiua-SBCS-Jan-14" rel="nofollow noreferrer">SBCS</a></sup>, 15 bytes</h1>
<pre><code>⍉▽⊙⍉⊙▽∩/↧:⍉.≠0.
</code></pre>
<p><a href="https://uiua.org/pad?src=0_8_0__ZiDihpAg4o2J4pa94oqZ4o2J4oqZ4pa94oipL-KGpzrijYku4omgMC4KCmYgW1sxIDIgM10KICAgWzQgNSA2XV0KCmYgW1sxIDIgM10KICAgWzQgNSAwXV0KCmYgW1szIDYgMTldCiAgIFs0IDAgMThdCiAgIFsyIDE5IDNdXQoKZiBbWzUgMyAyIDQgMV0KICAgWzMgMiAwIDQgN10KICAgWzcgMSA5IDggMl0KICAgWzMgMiAxIDUgN10KICAgWzYgNCA2IDEgMl0KICAgWzkgMyAyIDQgMF1dCgpmIFtbNCA5IDQgMV0KICAgWzIgMCA2IDBdCiAgIFszIDQgMSAyXQogICBbOSA3IDggNV0KICAgWzMgNSAyIDBdXQo=" rel="nofollow noreferrer">Try it!</a></p>
<p>Feels like there should be a better way, but I can't find it. It keeps two masks on the stack of which rows should be kept on each axis, and filters the input matrix based on these.</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://www.dyalog.com/products.htm" rel="nofollow noreferrer">APL (Dyalog APL)</a>, 19 bytes</h1>
<pre><code>{⍵[⍸0≠∧/⍵;⍸0≠∧/⍉⍵]}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70qpTIxJz89PrEgZ8EqK7_E3NTigsTk1KWlJWm6FjfVqx_1bo1-1LvD4FHngkcdy_WBXGsUbidQJLZ2SXFScvEtRg-3R20THvX2GT3qan7UNzU4yBlIhnh4BnNxARlAOaD8RCDLK9jfTz062lBHwUhHwThWRyHaREfBVEfBLDZWHapSXZ04LQYEtRgDzdVRMLSE6jEAsi1AbCOQIMgsQgYAbTEGWwvUbQjSCeEZgAXMQQLmQAkdBaBhFkAZhApDsAvBKszAis3AYmAVlkiGgv1g5ZqXghb8CxZAaAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu6" class="pu"><h1>JavaScript (ES13), 64 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>m=&gt;(g=a=&gt;a.filter((v,x)=&gt;(v.at?v:m).every(v=&gt;v[x]|v)))(m).map(g)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=hZBNCsIwEEb3niLLCcTSH62tkOo9QhdF0yK0jdQaKngTN0X0UB7FnZO0oIuCq0xe3vcx5Pao1V7295w_z20-j17biidQ8IwnmZMfylY2AJp1FKl2snaj1xV1pJbNBTRPtOjSq6aUAtIqO0JBx573TtUnVUqnVAXkIITHiM9IkDIiFowsGQnTlNLZX82d1ALMM-LFo-fiHJnZN9Dkp0LYFth6THjGHm6uBSsDVvjACBZE-PI1PLuJNUIrh5ZZI_4ptbsOH9D3w_kB" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h3>Commented</h3>
<pre class="lang-javascript prettyprint-override"><code>m =&gt; (               // m[] = input matrix
  g = a =&gt;           // g is a helper function taking an array a[]
  a.filter((v, x) =&gt; // for each value v at index x in a[]:
    (v.at ? v        //   if v is an array, we use it (1st pass on rows)
              : m)   //   otherwise, we use m (2nd pass on columns)
    .every(v =&gt;      //   for each value v in the array chosen above:
      v[x] | v       //     test either v[x] (for columns) or v (for rows)
    )                //   end of every()
  )                  // end of filter()
)(m)                 // invoke g on m[] to remove rows
.map(g)              // invoke g on each row to remove columns
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, 10 bytes</h1>
<pre><code>t!XAyXA3$)
</code></pre>
<p>Try at <a href="https://matl.io/?code=t%21XAyXA3%24%29&amp;inputs=%5B5%2C+3%2C+2%2C+4%2C+1%3B+3%2C+2%2C+0%2C+4%2C+7%3B+7%2C+1%2C+9%2C+8%2C+2%3B+3%2C+2%2C+1%2C+5%2C+7%3B+6%2C+4%2C+6%2C+1%2C+2%3B+9%2C+3%2C+2%2C+4%2C+0%5D&amp;version=22.8.0" rel="nofollow noreferrer">MATL online</a>! Or <a href="https://matl.io/?code=%60%0At%21XAyXA3%24%29%0A0cXDT&amp;inputs=%5B1%2C+2%2C+3%3B+4%2C+5%2C+6%5D%0A%5B1%2C+2%2C+3%3B+4%2C+5%2C+0%5D%0A%5B3%2C+6%2C+19%3B+4%2C+0%2C+18%3B+2%2C+19%2C+3%5D%0A%5B5%2C+3%2C+2%2C+4%2C+1%3B+3%2C+2%2C+0%2C+4%2C+7%3B+7%2C+1%2C+9%2C+8%2C+2%3B+3%2C+2%2C+1%2C+5%2C+7%3B+6%2C+4%2C+6%2C+1%2C+2%3B+9%2C+3%2C+2%2C+4%2C+0%5D&amp;version=22.8.0" rel="nofollow noreferrer">verify all test cases</a>.</p>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 15 bytes</h1>
<pre><code>⭆¹ＥΦθΠλΦλΠＥθ§πξ
</code></pre>
<p><a href="https://tio.run/##TYwxC8IwEIV3f8UbEzihVdtanFwEB6HgGDKUtGghtDVE6b@PaVK0tzzue9@detZGDbV2rjJdb9nd@njc6pGlhDkunbatYS9CZYbmrSzTnBMWrP94lr11tte@aSc2EiYe5@ScECIj7Ak7woGQStoAIu5JQEVEhS8JJeHou7Xlafaz8nCSB7pY5ep9IqV024/@Ag" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>    θ          Input array
   Φ           Filtered where
      λ        Current row
     Π         Product (is truthy if the row contains no zeros)
  Ｅ            Map over remaining rows
        λ       Current row
       Φ        Filtered where
           θ    Input array
          Ｅ     Map over rows
             π  Inner row
            §   Indexed by
              ξ Current column
         Π      Product
⭆¹              Pretty-print the result
</code></pre>
</div>
<div id="pu9" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 11 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>¬ŒṪZœP@ẎZɗƒ
</code></pre>
<p>A monadic Link that accepts the matrix and yields the reduced matrix.</p>
<p><strong><a href="https://tio.run/##y0rNyan8///QmqOTHu5cFXV0coDDw119USenH5v0/3C7@///0dGmOgrGOgpGOgomOgqGsTpcCtEQrgFYxBwsYg6U0lGw1FGwAErB1BiABU1haszA6s3AghA1lkgmGwBFYgE" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>
<h3>How?</h3>
<pre><code>¬ŒṪZœP@ẎZɗƒ - Link: list of lists of integers, M
¬           - logical NOT (vectorises)
 ŒṪ         - truthy multidimensional indices
   Z        - transpose -&gt; [zero row indices, zero column indices]
          ƒ - start with {M} and reduce {that} by:
         ɗ  -   last three links as a dyad - f(Current, Indices):
      @     -     with swapped arguments:
    œP      -       partition {Current} at {Indices}
       Ẏ    -     tighten
        Z   -     transpose
</code></pre>
</div>
<div id="pu10" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a> + numpy, 32 bytes</h1>
<pre class="lang-python prettyprint-override"><code>lambda a:a[a.all(1)][:,a.all(0)]
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=bZJNTsMwEIUlljnF7GJLbpT0v5HSiwQvDE2oIbUtx0XkLGwqIbgTnAaPXdqKNpvMvO_NGyvO-5cZ3Farw0db3X_uXTtafkMndg8bAaIUtchE15GC8rpksc4pj76fu-eNcKJK07SuCwZjBhPOoJ4ymDGYcw6jNdwmyQ05vxwIlon3MihWR0_u6yXWYxRx9jgw-TOFQJz0cZOQ78cKJLHLg7BAYeEBA5-yxG0nRxGOEhzzYJ4HLThWF6Gnw8ZN03Pk8hw2O8cUnPvPlCRyZ7R1oPY7M4DoQZnENb3rofJZymTCWjGQ5lV0ZCu6NuudlYZQSqHVFlACqaCTqsl600lH0tE6pTxQVJHipUSKSk8oTxLkkmnEYV-ZgH8Gv7YlkoZGvwjsia6qgYabjrqxUjmCNPayBaVdsMeUsyltrNW2TOl_XSqzd2XKQF6h5s00j67ZINVX9EmHsYHGX-5wiO9f" rel="nofollow noreferrer">Attempt This Online!</a>
-6 bytes thanks to att</p>
</div>
<div id="pu11" class="pu"><h1><a href="https://www.haskell.org" rel="nofollow noreferrer">Haskell</a> + <a href="https://gitlab.com/wheatwizard/haskell-golfing-library" rel="nofollow noreferrer">hgl</a>, 44 bytes</h1>
<pre><code>cr&lt;&lt;&lt;g st&lt;g cr&lt;m(sQ&lt;oti mn)
</code></pre>
<pre><code>g=tx&gt;&lt;fl&lt;gt0&lt;&lt;nM
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=TY69DoIwFIX3PsV1g6QawMWYi7sDCc5NB6ItNrao9JK4-SAuLMZn4m1swKjLPSffuX-P17HyJ2VtP8yMu5xbgmtXWaONOkDZKtsdFPsE5bMjPV8NC53vW0SswVMowbvI7_BMBlwTszqn2wa1xZoSxKb4TN1JefKwXoMQYtuQlJJNKGcAItCUJzyVXGRfXfIsdAHwMc1k0H-U_MLRScZcZZpxoSsgurSAoGMYz0xv9P2kbw" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>I kind of understand how it works but it's not easy to explain. First it tags each value with the minimum in its row, then it removes every column with a zero, then it removes every row with a zero tag.</p>
<ul>
<li><code>m(sQ&lt;oti mn)</code> is the part that adds the tags.</li>
<li><code>g cr</code> is the part that removes the columns (it also transposes the matrix)</li>
<li><code>g st</code> is that part that removes the rows (it also transposes the matrix back)</li>
<li><code>cr</code> removes the tags.</li>
</ul>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/269954/">269954</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




