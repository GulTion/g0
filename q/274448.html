<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::274448</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>305</td><td>Wolfram Language Mathematica</td><td>240802T110622Z</td><td><a href="https://codegolf.stackexchange.com/questions/274448/factoriadic-fraction-addition/274632#274632">138 Aspe</a></td></tr>
<tr d-ix="1"><td>125</td><td>R</td><td>240727T110821Z</td><td><a href="https://codegolf.stackexchange.com/questions/274448/factoriadic-fraction-addition/274467#274467">Dominic </a></td></tr>
<tr d-ix="2"><td>166</td><td>JavaScript Node.js</td><td>240727T010056Z</td><td><a href="https://codegolf.stackexchange.com/questions/274448/factoriadic-fraction-addition/274462#274462">Andrew B</a></td></tr>
<tr d-ix="3"><td>017</td><td>Jelly</td><td>240726T201505Z</td><td><a href="https://codegolf.stackexchange.com/questions/274448/factoriadic-fraction-addition/274460#274460">Jonathan</a></td></tr>
<tr d-ix="4"><td>018</td><td>Nekomata + 1</td><td>240726T091817Z</td><td><a href="https://codegolf.stackexchange.com/questions/274448/factoriadic-fraction-addition/274454#274454">alephalp</a></td></tr>
<tr d-ix="5"><td>057</td><td>Charcoal</td><td>240726T083053Z</td><td><a href="https://codegolf.stackexchange.com/questions/274448/factoriadic-fraction-addition/274452#274452">Neil</a></td></tr>
<tr d-ix="6"><td>093</td><td>JavaScript Node.js</td><td>240726T064144Z</td><td><a href="https://codegolf.stackexchange.com/questions/274448/factoriadic-fraction-addition/274449#274449">l4m2</a></td></tr>
<tr d-ix="7"><td>035</td><td>APLDyalog Unicode</td><td>240726T081812Z</td><td><a href="https://codegolf.stackexchange.com/questions/274448/factoriadic-fraction-addition/274451#274451">ovs</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, 305 bytes</h1>
<p>A port of <a href="https://codegolf.stackexchange.com/a/274467/110802">@Dominic van Essen' R code</a> in Mathematica.</p>
<p>305 bytes, it can be golfed more.</p>
<hr />
<p>Golfed version. <a href="https://tio.run/##bZBfa4MwFMXf9ylchdJqpI2Pcxlr@zAGLYxO2EO4dNc2VpnVobegiJ/dpX9kbemFJJfc3zmcZIcUqR1SvMZ2lijMZe8tyQJMvq0eeG0oyxWrVvAkFtlmnyhZNwzFLEsLwpQmeY6VHLMFlnKu0i1FryU7NxXYHDyU0vO6EYAor24qAFtU3lcUa2f@7LJA@BjofppletdoDPASA6vjzhYb8EigXmQvM0JScxWSDBgHJ7BO6tjmN4r3UD5O0srP90ou8NePcoUbaTqm22c1MmqAmY9i3Ac21ZMfCTq5oKv48lMlak1yielWda9FYBoxAY7iQ7UDy1cFGWssVGENH8LDjxl1A8Z1Day6sYanfjT6yOOUjA7mt7SGeUdfwmNmuAeBc6nQsMOZe@TvwccTLpzZ2fsG5v88P0nuxWj/AA" rel="nofollow noreferrer">Try it online!</a></p>
<pre class="lang-mathematica prettyprint-override"><code>f[x_,y_]:=Module[{},a=ConstantArray[0,Max[Length@x,Length@y]+1];a[[;;Length@x]]=x;a[[;;Length@y]]+=y;While[1&lt;2,b=Table[Boole[a[[i]]&gt;i],{i,Length@a}];t=a;t=t+RotateLeft[b,1]-b*Table[i+1,{i,Length@a}];If[!AnyTrue[MapThread[#-#2&amp;,{a,t}],#!=0&amp;],Break[]];a=t];a[[;;Length[Select[Range[Length@a],a[[#]]!=0&amp;]]]]]
</code></pre>
<p>Ungolfed version. <a href="https://tio.run/##hZJBa8JAEIXv/opRQTSuaDw2WFChpaBQbKCHZWnHZNWlMZFkhYSQ324nibUxtW0O2R32fTMvb7NHvZN71MrB02nuSQx569EL1ui9Gy1hNdB1H9DRQajQVQ6P3xYq0gySYhVwN4EGLAP36Eme7jFeSH@rdwyQwZqBlvvDlMFG@eitZHT0dMZIDxchTGCJMS8LHgsG520iaDYAkmAe@JFGX0/DEBM@YhW6D2Yp49yy4NJFCMLiHwdJftCfQJKfvO4UWbbDoySnJLdxTfUsCOhNlCLpPSgylKqLKRRZMa78LoLwqirXPqwCjVou5EZzysAUMIC1UfZXueXbPZ82vAlTP8kt8SUe7F0o0eVtottj6BCE50AzctWG5gRG0KHtjHQfvMyrCKwQWUVdSR7ym6ol8iI96Wi@Qn8r@cUQ9SRVmxI4zxCi3kw0Gl3DlpEGByMZGb36f5LSRaeZgOuna6SZ0Sv3w@FzqHwNN0mzjhJpfqG/kvRvjHN6UMWJHJhsXMD/ksUqKjPZeepfpPkNmyV/y@3p9Ak" rel="nofollow noreferrer">Try it online!</a></p>
<pre class="lang-mathematica prettyprint-override"><code>Clear[&quot;Global`*&quot;];
addFactoriadic[x_List, y_List] := 
 Module[{maxLength, a, b, tempA, finalResult}, 
  maxLength = Max[Length[x], Length[y]];
  a = ConstantArray[0, maxLength + 1];
  a[[;; Length[x]]] = x;
  a[[;; Length[y]]] += y;
  While[True, b = Table[Boole[a[[i]] &gt; i], {i, Length[a]}];
   tempA = a;
   tempA = tempA + RotateLeft[b, 1] - b*Table[i + 1, {i, Length[a]}];
   If[! AnyTrue[MapThread[# - #2 &amp;, {a, tempA}], # != 0 &amp;], Break[]];
   a = tempA;];
  finalResult = 
   a[[;; Length[Select[Range[Length[a]], a[[#]] != 0 &amp;]]]];
  finalResult]

(*Test cases*)
addFactoriadic[{}, {}]               (*{}*)      //Print 
addFactoriadic[{}, {1}]              (*{1}*)     //Print 
addFactoriadic[{0, 2}, {-1}]         (*{-1,2}*)  //Print 
addFactoriadic[{0, 2}, {0, 2}]       (*{1,1}*)   //Print 
addFactoriadic[{0, 1, 2}, {0, 1, 2}] (*{1}*)     //Print 
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, 125 bytes</h1>
<pre class="lang-r prettyprint-override"><code>\(v,w,`^`=c,y=w^0,s=seq){a=(!s(x&lt;-v^0)-(e=s(x+y)))*x+y*!s(y)-e
while(any(a-(a=a-(b=(a&gt;e))*e-b+b[-1]^0)))1
a[s(l=max(e*!!a))]}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=fY9BbsJADEX3OUWibuwwljKsWNS9CCXFmRgaiVI1SQlRxUm6SRfdcw5u0Nt0ICAkEGz8bfn9L_v7p-y2kucvM3H1e1lIXjj-_axnNPrbPMPKNGaaTtmZlps0MRVX-oFfwhBVsH6kVZoggbIfBi0ixl5iv2qRNGhei4WCLFsQAmFfMgZ5Uo8pZYNsTHbi_Yg2kHEFC36TNWgcRYI42RyP2F0cB8Wy1rmWkKA5txg-hOcpuONxYA-0vYIcJGa4B6gnyIbD29BeDjk3kuwJsycw6D_qul7_AQ" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p><strong>How?</strong> - ungolfed version:</p>
<pre><code>add_factoriadic=function(x,y){
    a&lt;-c(x,y,0)&amp;0                             # define a as long-enough vector of zeros 
    a[seq(!x)]=x                              # add x to appropriate elements
    a[seq(!y)]=a[seq(!y)]+y                   # add y to appropriate elements
    while({                                   # repeat while value of a changes:
        b=(a&gt;seq(a))                          #   b = carry digits
        any(a-                                #   check whether a changes by
          (a=a+c(b[-1],0)                     #     add carry digits at position to left
              -b*(seq(a)+1)))                 #     and subtract carried values
    })1                                       #   (do nothing else)
    a[seq(length=max(seq(a)*!!a))]            # finally, output a without trailing zeros
}
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 166 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>(a,b)=&gt;{b.map((x,i)=&gt;a[i]=(a[i]?a[i]:0)+x);c=0;for(i=(y=a.length)-1;i&gt;0;i--){d=(e=a[i]+c)%(z=i+2);c=e/z|0;a[i]=d};y?a[0]+=c:0;while(a[a.length-1]==0)a.pop();return a}
</code></pre>
<p><a href="https://tio.run/##jY3NboMwEITvPAWXSmvAYHPIIdamD4J8cIxJXFGMCG3z0zw7tdNWlVqochnNzqedeVKv6qAH24@0c7WZGpxAZVuCm8s2f1Y9wDGz/lKVlQhBH4OsGUmPRGhkonEDWIQTqrw13W7cE8qF3TBhKSWXGsFg@Eg1eYAz2rQMb6Y4vzNxK62v4uQ7mUxRr5l429vW@KHvNsolIiMq710PRAxmfBm6WF0n7bqDa03euh00UMmskoREf1M@E7Os9IQuo6BzjH9RvsAXa314R@s8/WeRrjxcBVAkSVTJqIp5HJTyLC5vzpvP6Df4ccybGS@jJCmmDw" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<pre class="lang-javascript prettyprint-override"><code>Expanded, with comments:

(a,b)=&gt;{
b.map((x,i)=&gt;a[i]=(a[i]?a[i]:0)+x); //add elements in arrays a and b, 
                                    //allowing for different size arrays.

c=0;                                //initialize carry

for(i=(y=a.length)-1;i&gt;0;i--){      //adjust each value so it fits within the max
                                    //for that digit, 
                                    //carrying to the left as required.

d=(e=a[i]+c)%(z=i+2);               //use mod for the digit

c=e/z|0;                            //use divide and round for the carry

a[i]=d                              //put the digit back in the array

};

y?a[0]+=c:0;                        //add remaining carry to the first digit

while(a[a.length-1]==0)a.pop();     //remove trailing zeros

return a //return result

}
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 17 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>+dṛ¦J‘$F+2/ƲÐLœr0
</code></pre>
<p>A dyadic Link that accepts factoriadic fractions as lists of integers on each side and yields their sum.</p>
<p><strong><a href="https://tio.run/##y0rNyan8/1875eHO2YeWeT1qmKHipm2kf2zT4Qk@RycXGfw/vPzopIc7Z/z/H22mo2AIQwY6Cmax/6NNdRSMwMgEIhELAA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong> Or see the <a href="https://tio.run/##y0rNyan8/1875eHO2YeWeT1qmKHipm2kf2zT4Qk@RycXGfzXObxc/@ikhztnPGpak/WoYY6CrZ3Co4a5mpH//0dHR8fqKETHxupwKUCYhlC2gY6CEYiviy4ApuFChghRQ4QEkAkSAOs3AgrrKBiDZGIB" rel="nofollow noreferrer" title="Jelly – Try It Online">test-suite</a>.</p>
<h4>How?</h4>
<p>Repeated carrying...</p>
<pre><code>+dṛ¦J‘$F+2/ƲÐLœr0 - Link: integer list, [a,b,c,...]; integer list, [x,y,z,...]
+                 - {A} add {B} (vectorises) -&gt; S = [a+x, b+y, c+z, ...]
            ÐL    - repeat until the results are no longer unique:
           Ʋ      -   last four links as a monad:
      $           -     last two links as a monad:
    J             -       indices -&gt; [1,2,...N]
     ‘            -       increment -&gt; I = [2,3,...,N+1]
   ¦              -     sparse application (to {V in S} with {i in I})...
  ṛ               -     ...to indices: right argument = I
                           i.e. apply to all but the first element
 d                -     ...action: {V} divmod {i} -&gt; [V//i, V%i]
       F          -     flatten -&gt; [a+x, (b+y)//3, (b+y)%3, (c+z)//4, (c+z)%4, ...]
         2/       -     2-wise reduce by:
        +         -       addition -&gt; [a+x+(b+y)//3, (b+y)%3+(c+z)//4, ...]
              œr0 - trim trailing zeros
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/AlephAlpha/Nekomata" rel="nofollow noreferrer">Nekomata</a> + <code>-1</code>, 18 bytes</h1>
<pre><code>+:#ᵑ{CU$x3+þç++;ž¿
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70iLzU7PzexJHFNtJJurpKOgpKuoVLsgqWlJWm6Fju0rZQfbp1Y7RyqUmGsfXjf4eXa2tZH9x3av6Q4KbkYqmjBTePoWIXoWC4QaQikDHSMgCxdBBNEgtiGUB6IhugFAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre><code>+:#ᵑ{CU$x3+þç++;ž¿
+                   Add two lists; pad with 0s
                    e.g. [0,2] [-1] -&gt; [-1,2]
 :                  Duplicate
  #                 Length
   ᵑ{               Repeat the following function that many times:
     CU$                Split into the head and the rest
                        e.g. [0,2,4] -&gt; [0] [2,4]
        x3+             Push [3,...,length+2]
                        e.g. [0] [2,4] -&gt; [0] [2,4] [3,4]
           þ            Divmod; get the quotient and the remainder
                        e.g. [0] [2,4] [3,4] -&gt; [0] [0,1] [2,0]
            ç           Prepend 0 to the remainder
                        e.g. [0] [0,1] [2,0] -&gt; [0] [0,1] [0,2,0]
             ++         Add the three lists
                        e.g. [0] [0,1] [0,2,0] -&gt; [0,3,0]
               ;ž¿      Remove some trailing 0s
                        e.g. [0,3,0] -&gt; [0,3]
</code></pre>
<p>The last step <code>;ž¿</code> is nondeterministic, so we need to add the <code>-1</code> flag to return only the first result, where all trailing 0s are removed.</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 57 bytes</h1>
<pre><code>Ｆ⁻ＬηＬθ⊞θ⁰≔⁰ζＦ⮌Ｅηκ«≧⁺⁺§θι⊟ηζ§≔θι⎇ι﹪ζ⁺²ιζ≧÷⁺²ιζ»Ｗ∧θ¬↨θ⁰⊟θＩθ
</code></pre>
<p><a href="https://tio.run/##XVBNawMhFDxnf8U7PsFCmmtP2/YS6IYl9BZykKxdpaKJuts2Ib/dPjWU0IvMwHy88aCEPzhhUvpwHrDTdgr4Ju0YFSrG4QZPjDHop0CIw5I9NW0IerS45HAmVrxbOUsfJHbiiIrDZ7ZcmgXRKt7qUUXszRQ45BfbuLaD/M6Rmqp6Rz7GauKieu4lHN6lt8L/IMHODZNxeL5FrXJEsWbvv8q1ja961oO8F9eaa/OltJGArR1yycZFfBY0oswso722dDXddsrZlb6IEAtPabejP3jksNpz@IP79DCbXw" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>Ｆ⁻ＬηＬθ⊞θ⁰
</code></pre>
<p>Extend the first input to the length of the second.</p>
<pre><code>≔⁰ζ
</code></pre>
<p>Start with no carry.</p>
<pre><code>Ｆ⮌Ｅηκ«
</code></pre>
<p>Enumerate the indices of the second array in reverse.</p>
<pre><code>≧⁺⁺§θι⊟ηζ
</code></pre>
<p>Add the values in the two array elements to the carry.</p>
<pre><code>§≔θι⎇ι﹪ζ⁺²ιζ
</code></pre>
<p>Update the output value, reducing modularly if necessary.</p>
<pre><code>≧÷⁺²ιζ
</code></pre>
<p>Update the carry.</p>
<pre><code>»Ｗ∧θ¬↨θ⁰⊟θ
</code></pre>
<p>Remove any trailing zeros.</p>
<pre><code>Ｉθ
</code></pre>
<p>Output the final result.</p>
<p>Bonus 136-byte <a href="https://github.com/m-ender/retina/wiki/The-Language/a950ad7d925ec9316e3e2fb2cf5d49fd15d23e3d" rel="nofollow noreferrer">Retina 0.8.2</a> solution: <a href="https://tio.run/##RY29DgIxDIN3P0WHgpK2VJey8jPyEL2cDgkGFgbEeO9e0i4ssT/Lij/P7@t9bzu6rU2RnGKuyaFifkT4gAVVjeNqN5METo5y6MBGyTG8@KNx9QU9hnWtcz2diRJvmSMbHMpFOIrQlQovDLGfvTPXzbEE@LyH7U4aFdpa36w6pquYTsmV7ocOlH8y7A8" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Does not work with negative numbers.</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 93 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>f=([a=0,...A],[b=c=0,...B],i)=&gt;k=A+B||a|b?f(A,B,i+1||2)!=-(b+=c+a,c=b&gt;i,b+=c*~i)?[b,...k]:k:A
</code></pre>
<p><a href="https://tio.run/##dc1BCsMgEAXQfW/RndaJxCxTJsFcQ1yojcUaYmhKV9Krp0nbZQrDwP@PYW7maWZ3D9OjGNOlXzyuQ5TBEjjnUoOy6L6h0xAoNhEl63I22baeSOggMJFzRY9YEMvQMQMObRNgC6dXoK2y23nUdazlcj64NM5p6PmQrsQTtb7QlO60YqcuoVql@E/b3jPxU/Hx5Q0" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p><code>==-</code> if former is <code>[]</code> and latter is 0. Former is never negative and latter, including <code>-</code>, is never positive</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://dyalog.com" rel="nofollow noreferrer">APL(Dyalog Unicode)</a>, <sup><s></s></sup>35 bytes <sup><a href="https://github.com/abrudz/SBCS" rel="nofollow noreferrer">SBCS</a></sup></h1>
<p>Assumes index origin 0.</p>
<pre><code>{x↓⍨-⊥⍨0=x←(⊢⊤⊥∘m)(⊢+2××)⍳≢m←+⌿↑⍺⍵}
</code></pre>
<p><a href="https://razetime.github.io/APLgolf/?h=e9Q31dP/UdsEAwA&amp;c=q6541Db5Ue8K3UddS4GUgS2QP0HjUdeiR11LQEIdM3I1QVxto8PTD0/XfNS7@VHnolygGu1HPfsftU181LvrUe/WWgA&amp;f=K3nUNqH6Ue@uR71bNYBUGpDWrOV61DbxUe8aBRDWMFAw0kSQhiC65NAKsJyhwqH1hqhyAA&amp;i=AwA&amp;r=tryapl&amp;l=apl-dyalog&amp;m=dfn&amp;n=f" rel="nofollow noreferrer">Try it on APLgolf!</a></p>
<p>Add the inputs element-wise, convert back and forth using mixed base <code>0 3 4 5 ...</code>, drop trailing zeros.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/274448/">274448</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




