<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::268604</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>603</td><td>Go + golang.org/x/text/unicode/runenames</td><td>231219T170454Z</td><td><a href="https://codegolf.stackexchange.com/questions/268604/translate-japanese-hiragana-into-the-flick-input-method/268653#268653">bigyihsu</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://go.dev" rel="nofollow noreferrer">Go</a> + <code>golang.org/x/text/unicode/runenames</code>, 603 bytes</h1>
<pre class="lang-go prettyprint-override"><code>import(.&quot;strings&quot;;.&quot;golang.org/x/text/unicode/runenames&quot;)
func f(s []rune)(o string){V,F,C,K,G,Q,I:=&quot;AIUEO&quot;,&quot;54862&quot;,Fields(&quot;.KS TNH MYR XW.&quot;),&quot;KSTH&quot;,&quot;GZDB&quot;,CutPrefix,Index
for _,k:=range s{n,_:=Q(Name(k),&quot;HIRAGANA LETTER &quot;)
n,s:=Q(n,&quot;SMALL &quot;)
a,v:=IndexByte(G,n[0]),n[1:]
if len(n)==1{if n==&quot;N&quot;{o+=&quot;W8&quot;}else{o+=&quot;A&quot;+string(F[I(V,n)])}}else if k=='ー'{o+=&quot;W6&quot;}else if k=='〜'{o+=&quot;W2&quot;}else if k=='（'{o+=&quot;Y4&quot;}else if k=='）'{o+=&quot;Y6&quot;}else{if v=string(F[I(V,v)]);a&lt;0{if n[0]=='P'{o+=&quot;H&quot;+v+&quot;X6&quot;}else{for _,R:=range C{if i:=I(R,n[0:1]);i&gt;-1{o+=R[i:i+1]+v}}}}else{o+=K[a:a+1]+v+&quot;X4&quot;}}
if s{o+=&quot;X5&quot;}}
return}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=dVTdittGFIb2yn6K6cASCU-8sZGMcToBZbO7Nlq7G1uN7XpNEF7ZiPWOHUs2DkYQKW1Jdkt70dIfGujSNPQX0l4WQh-kt_MAfYWemdFm7UCwsGa-c75zvjlzjr7_cTS5-HvqDk7ckYdOXZ9l_dPpZBbm8fA0xC_m4fB6-d93egrU8jgIZz4bBfhmHo8mY5eN8pPZaHu5HXrLcHvO_MHk2NuezZnH3FMvwHp2OGcDNNQC1OsLWNcmSMXQV_fIHtkhNtknd0mtQrFV-3D3A0ywaZRLRUz2fG98HGg4b7eQ06iiereJOu081gm2W04VHPc_unMbk515eDjzhv6S1Nixt8wOJzN0n5xU6AzkeShYMXK_Qu9qDVCknQC7Wmta-1bDQge7jrPbRKCSkUC4MIJbdevgQEAuWVSojHj7Yehp-4T1bvR1-C9U-ll_iMYe05hOaWEFG0YpbuDVJEdxu4wjbxx4cmPhnDqttterafcI0_t6JM0IWCeUXuOPX11TvBLeNDx6lhqKm4b_Xj1Rhq7xpuFpakhDCWULuiFgAQJuuu_fkKLhQEA7VKQqzi1yuHNJVVVsXlZxRxB8KIjWFIWoFCCMf-t6QVCbPb_i5wr93CKKotdnt3tuxZUoRAWlkShaIFN1TLGdeeF8xqK0x95NwodTDzmiO-aDcIV8NiXIW07TdkFRVvWSaFJNR6tsJvSCMEAVCq3lwDazwjw-5_FvmCBsmw1IQlI04ckZjz_j8S88_lSYLbNp2GbHcIpW-S1uPP6Kx1_z-GMe_8Pj795k2cWO0YK1ZdTN1lqMCxngSxEj-YIn54LngJ_g2UWn2Daba95nMvgTHr_kSSKTfsMTIP8s8iqyVaybVqlq1iFpy2iXnZJIuh7kXDzJ2ZVO27RB6aauRB3gCvhBKbsCnkug3FmD_hBQYy3K5zz5RMr8HRYyldExusCxyg35fu2aQN1-SrN0TafsbJperJmgoJvG5-tGc13jSwFX14A_FSAa7BL6K4VKlxAMjLyLp1BUmBEZ2YB7MC2jW7ri_crjb3nyWLRBHMNYiot49EwWRdy1OKgJB4Vfx2yX2mUxl8CFvswcQoeGY6ZhSilqOVbTQbCCj0hGjREKRZuqSVJdK_rVHUh4qKlPoxbmoed1IGVgUsK86P33KBJewlslGWp4K0RbDxC9dcTgfcS0rQf6EQOZkkEp-Iu1HJ90DbiIGgmxm1rRbuMOSrVGWTWKFxfq_T8" rel="nofollow noreferrer">You Cannot Attempt This Online!</a></p>
<p><a href="https://go.dev/play/p/L_aFSkxM0Tw" rel="nofollow noreferrer">Do it on the Playground instead!</a></p>
<p>An extremely scuffed, straightforward solution. Uses the <code>Name</code> function from <code>golang.org/x/text/unicode/runenames</code> to get the name of each kana, then selects the flick input based on that.</p>
<p>Output is a concatenated string of the form <code>Cn</code> where <code>C</code> is the uppercase consonant of the flick input, and <code>n</code> is one of <code>54862</code>.</p>
<h2>Ungolfed Explanation</h2>
<pre class="lang-go prettyprint-override"><code>func f(inputString []rune) (o string) {
    VOWEL := &quot;AIUEO&quot;
    FLICKS := &quot;54862&quot;
    CONSONANTS := Fields(&quot;.KS TNH MYR XW.&quot;)
    UNVOICED := &quot;KSTH&quot;
    VOICED := &quot;GZDB&quot;
// for each kana in the string...
    for _, kana := range inputString {
// cutout the Unicode prefixes
        name, _ := CutPrefix(Name(kana), &quot;HIRAGANA LETTER &quot;)
// we need to know if it's a small kana or not
        name, hasSmall := CutPrefix(name, &quot;SMALL &quot;)
// we also need to know if it's a voiced (&quot;GZDB&quot;) kana
        voicedIndex := IndexByte(VOICED, name[0])
// and the vowel of the kana
        vowel := name[1:]
// if the kana is あいうえお or ん, just output it
        if len(name) == 1 {
            if name == &quot;N&quot; {
                o += &quot;W8&quot;
            } else {
                o += &quot;A&quot; + string(FLICKS[Index(VOWEL, name)])
            }
// special cases for punctuation
        } else if kana == 'ー' {
            o += &quot;W6&quot;
        } else if kana == '〜' {
            o += &quot;W2&quot;
        } else if kana == '（' {
            o += &quot;Y4&quot;
        } else if kana == '）' {
            o += &quot;Y6&quot;
// if not a voiced kana...
        } else if voicedIndex &lt; 0 {
// if it's a handakuten kana, add to the output immediately
            if name[0] == 'P' {
                o += &quot;H&quot; + string(FLICKS[Index(VOWEL, vowel)]) + &quot;X6&quot;
// otherwise, find the kana's location
            } else {
                for _, row := range CONSONANTS {
                    i := IndexByte(row, name[0])
                    if i &gt; -1 {
// if the (unvoiced) consonant is found, add it to the output
                        o += row[i:i+1] + string(FLICKS[Index(VOWEL, vowel)])
                    }
                }
            }
        } else {
// otherwise, it's a voiced kana, and needs the extra X
            o += UNVOICED[voicedIndex:voicedIndex+1] + string(FLICKS[Index(VOWEL, vowel)])
            o += &quot;X4&quot;
        }
// if it's small, add the extra X.
        if hasSmall {
            o += &quot;X5&quot;
        }
    }
    return o
}
</code></pre>
<p><a href="https://go.dev/play/p/dhF8blcIuvJ" rel="nofollow noreferrer">Do the ungolfed version on the Playground!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/268604/">268604</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




