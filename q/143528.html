<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::143528</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>086</td><td>Scala</td><td>231002T061111Z</td><td><a href="https://codegolf.stackexchange.com/questions/143528/is-the-matrix-rank-one/265675#265675">138 Aspe</a></td></tr>
<tr d-ix="1"><td>013</td><td>05AB1E</td><td>170923T103011Z</td><td><a href="https://codegolf.stackexchange.com/questions/143528/is-the-matrix-rank-one/143554#143554">Neil</a></td></tr>
<tr d-ix="2"><td>091</td><td>Python 3</td><td>170923T081519Z</td><td><a href="https://codegolf.stackexchange.com/questions/143528/is-the-matrix-rank-one/143550#143550">Luca Cit</a></td></tr>
<tr d-ix="3"><td>027</td><td>Brachylog</td><td>180819T225336Z</td><td><a href="https://codegolf.stackexchange.com/questions/143528/is-the-matrix-rank-one/170890#170890">Sundar R</a></td></tr>
<tr d-ix="4"><td>2862</td><td>TIBasic TI83 series</td><td>170923T031654Z</td><td><a href="https://codegolf.stackexchange.com/questions/143528/is-the-matrix-rank-one/143542#143542">Misha La</a></td></tr>
<tr d-ix="5"><td>012</td><td>Jelly</td><td>170923T022248Z</td><td><a href="https://codegolf.stackexchange.com/questions/143528/is-the-matrix-rank-one/143539#143539">hyper-ne</a></td></tr>
<tr d-ix="6"><td>006</td><td>Jelly</td><td>170923T161552Z</td><td><a href="https://codegolf.stackexchange.com/questions/143528/is-the-matrix-rank-one/143583#143583">Dennis</a></td></tr>
<tr d-ix="7"><td>065</td><td>JavaScript ES6</td><td>170923T021514Z</td><td><a href="https://codegolf.stackexchange.com/questions/143528/is-the-matrix-rank-one/143537#143537">Arnauld</a></td></tr>
<tr d-ix="8"><td>009</td><td>Jelly</td><td>170923T144254Z</td><td><a href="https://codegolf.stackexchange.com/questions/143528/is-the-matrix-rank-one/143577#143577">Lynn</a></td></tr>
<tr d-ix="9"><td>033</td><td>Mathematica</td><td>170923T022706Z</td><td><a href="https://codegolf.stackexchange.com/questions/143528/is-the-matrix-rank-one/143540#143540">ZaMoC</a></td></tr>
<tr d-ix="10"><td>018</td><td>Pari/GP</td><td>170923T072140Z</td><td><a href="https://codegolf.stackexchange.com/questions/143528/is-the-matrix-rank-one/143549#143549">alephalp</a></td></tr>
<tr d-ix="11"><td>040</td><td>SageMath</td><td>170923T062335Z</td><td><a href="https://codegolf.stackexchange.com/questions/143528/is-the-matrix-rank-one/143547#143547">user4594</a></td></tr>
<tr d-ix="12"><td>050</td><td>Haskell</td><td>170923T034004Z</td><td><a href="https://codegolf.stackexchange.com/questions/143528/is-the-matrix-rank-one/143543#143543">&#216;rj</a></td></tr>
<tr d-ix="13"><td>058</td><td>Python 2 + numpy</td><td>170923T021400Z</td><td><a href="https://codegolf.stackexchange.com/questions/143528/is-the-matrix-rank-one/143536#143536">totallyh</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="http://www.scala-lang.org/" rel="nofollow noreferrer">Scala</a>, 86 bytes</h1>
<p>Golfed version. <a href="https://tio.run/##jVJRT4MwEH7nV1yWPbSmEFrmHhYh0TcT/QVmMQVrxHSFUDRMwm/HtsBkyhKT47jvu@vXu7Y645L3Rfoushoeea5ANLVQLxpuyxJaD@CTS5C5rjXE8GD@yHAwRM4xAiEBnxlHQ0yGjB85NrIZej2xoSOtYUx@yUyJn9LoHC4v8@m/tDamOTrD/sY2Rhf0zDinQhNvLqlHp1EZu9QcJcBmlcz1sZ2gmW/rzmxpB5/9mWEwes64OoyNgP2sjVdW7ZzWk3P3qt7vcZzcFYUUXEHcyziRgWjsvSI@i9M44cFXXqIUj1SbcS1QQ45mfRoceImerxoc6I/DDR/h0cEO4x6GpxK8FpXg2Ru0DkOcuAnLKle1VEiv1pbewbqtkI1wt7Ltd57X9d8" rel="nofollow noreferrer">Try it online!</a></p>
<pre class="lang-scala prettyprint-override"><code>l=&gt;l.exists(a=&gt;l.exists(b=&gt;a.zip(b).exists{case(x,y)=&gt;b.map(_*x).sum&lt;a.map(_*y).sum}))
</code></pre>
<p>Ungolfed version. <a href="https://tio.run/##jVLbaoNAEH3PVxxCHtyi4q5pHkJTaN8K7ReUUFazoRajkrXFVPx2uztiYhIDhXF25syZm7s6lqls2zz6UnGJN5lkUFWpso3GU1GgngA/MkWa6FJjhVdzOgZDZ5ESLgIXnjCKB8ztIl5IaGgj/L5HAwKtMOZelOkDJ2p47o6nefxfteZmOD7wvbkdjI/UM@scicae36oeHlcV4tZw3IUYMAXNsehds9@C/tlYB09c7dAJP0eIx5gpYD8jdFX@Nt8rGX@iJh@rR@pQ7JOsTDNHT2cWXmJW7x1rsWZq05uJURu1RYcuqdE7qZesXK/ZEs95niqZmbdQU0nL81VF76OG7DtdBqJTAJD@b1I4ETuFY6kVnMrFgQ2JQOTvZOF84A4V8/X3Dg8mu4cOBB3ZzWR4NrRP07Z/" rel="nofollow noreferrer">Try it online!</a></p>
<pre class="lang-scala prettyprint-override"><code>object Main extends App {
  val lists = List(
    List(List(2, 0, -20, 10), List(-3, 0, 30, -15), List(0, 0, 0, 0)),
    List(List(0, 0, 0), List(0, 3, 0), List(0, 0, 0)),
    List(List(-10)),
    List(List(0, 0, 0), List(0, 4, 11), List(0, -4, -11)),
    List(List(-2, 1), List(2, 4)),
    List(List(0, 0, 3), List(-22, 0, 0)),
    List(List(1, 2, 3), List(2, 4, 6), List(3, 6, 10)),
    List(List(0, -2, 0, 0), List(0, 0, 0, 1), List(0, 0, -2, 0))
  )
  
  lists.foreach { list =&gt;
    println(s&quot;$list: ${r(list)}&quot;)
  }

  def r(list: List[List[Int]]): Boolean = {
    list.exists { a =&gt;
      list.exists { b =&gt;
        a.zip(b).exists { case (x, y) =&gt;
          b.map(_ * x).sum &lt; a.map(_ * y).sum
        }
      }
    }
  }
}
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/tree/fb4a2ce2bce6660e1a680a74dd61b72c945e6c3b" rel="nofollow noreferrer">05AB1E</a>, <s>16</s> 13 bytes</h1>
<pre><code>2ãεø2ãε`R*E]W
</code></pre>
<p><a href="https://tio.run/##MzBNTDJM/f/f6PDic1sP7wBTCUFarrHh//9HRxvqKBjpKBjH6ihEA2kTHQUzENMYSOsoGBrExgIA" rel="nofollow noreferrer" title="05AB1E (legacy) – Try It Online">Try it online!</a> Uses the multiplication table property that the opposite corners of any rectangle have the same product. Edit: Saved 3 bytes thanks to @KevinCruijssen. Explanation:</p>
<pre><code>2ãε             Loop over each pair of rows
   ø            Transpose the pair into a row of pairs
    2ãε         Loop over each pair of columns
       `R*E     Cross-multiply and check for equality
           ]W   All results must be true
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, <s>93 </s> 91 bytes</h1>



<pre class="lang-python prettyprint-override"><code>lambda m,e=enumerate:any(h*g-r[j]*s[i]for r in m for i,h in e(r)for s in m for j,g in e(s))
</code></pre>

<p><a href="https://tio.run/##dVDBDsIgDL3vK3rcDCQDpgeTfQlymJE5jGMG8ODXT1pn1CUSAu179PXR2yMNk1dz3x7mazceTx2MzLbW30cbumT3nX@Uw@bMg76YTdTO9FOAAM7DCBg6NmBiy1BhGj/MhZ1fTKyqOdmYIrSgC8hLa8mgZsBlPkRtGGiuCFGIii0iNQG4jWFL2Rt40eoT/j7j4m9NkxuKJeYNNhNfddkWkflu1gqKbEq5biYYyIWVpL/DMHvb0d@@Vbj88VKvM@KNKUxR0GxxfjS5PWncgvOp7EuXB/oE" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>

<p><em>How it works</em></p>

<p>Checks if any 2-minor has nonzero determinant. If this is the case the rank must be at least 2:
"A non-vanishing p-minor (p × p submatrix with non-zero determinant) shows that the rows and columns of that submatrix are linearly independent, and thus those rows and columns of the full matrix are linearly independent (in the full matrix), so the row and column rank are at least as large as the determinantal rank" (from <a href="https://en.m.wikipedia.org/wiki/Rank_(linear_algebra)" rel="nofollow noreferrer">Wikipedia</a>)</p>

<p>Note: shaved two bytes thanks to user71546's comment.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/JCumin/Brachylog" rel="nofollow noreferrer">Brachylog</a>, 27 bytes</h1>

<pre><code>{⊇Ċ}ᶠzᵐ{↰₁ᶠ{⟨hz{t↔}⟩×ᵐ=}ᵐ}ᵐ
</code></pre>

<p><a href="https://tio.run/##SypKTM6ozMlPN/r/v/pRV/uRrtqH2xZUPdw6ofpR24ZHTY1AXvWj@SsyqqpLHrVNqX00f@Xh6UBZ21ogAcL//0dHG@koGOgoxBsBCUODWB2F6HhjsIgxSNTQFCRiABYAIRDPHKLBHKQGXToWAA" rel="nofollow noreferrer" title="Brachylog – Try It Online">Try it online!</a></p>

<p>Uses Neil's approach of "products of opposite corners of each rectangle should be equal". Cross product is costly and takes 10 whole bytes, but this is still shorter than any division based approach I tried, mainly because of the stipulation of two consistent outputs for truthy and falsey in the question - making falsey be only a <code>false.</code>, and not sometimes a divide-by-zero error, uses too many bytes. </p>

<pre><code>{⊇Ċ}ᶠzᵐ{↰₁ᶠ{⟨hz{t↔}⟩×ᵐ=}ᵐ}ᵐ
{⊇Ċ}ᶠ                        Get each pair of rows from the matrix
                             eg.: [ [[a, b, c], [k, l, m]], ... ]
     zᵐ                      Zip each pair's elements
                                  [ [[a, k], [b, l], [c, m]], ... ]
       {                 }ᵐ  Map this over each pair of rows:
                                  [[a, k], [b, l], [c, m]]
        ↰₁ᶠ                  Get each pair of paired elements from the rows
                                  [[[a, k], [b, l]], [[b, l], [c, m]], [[a, k], [c, m]]]
           {           }ᵐ    Map this over each pair of pairs
                                  [[a, k], [b, l]]
            ⟨hz{t↔}⟩         Zip the first pair with the reverse of the second
                                  [[a, l], [k, b]]
                    ×ᵐ       Multiply within each sublist
                                  [al, kb]
                      =      The results should be equal
                             (If the results are unequal for any pair, the whole predicate fails,
                              and outputs false.)
</code></pre>

<p>Alternate approach based on element-wise division (<strong>30 bytes</strong>):</p>

<pre><code>{≡ᵉ¬0&amp;}ˢ\↰₁ˢ{c×¬0&amp;⟨hz∋⟩ᶠ/ᵐ²=ᵐ}
</code></pre>

<p><a href="https://tio.run/##SypKTM6ozMlPN/r/v/pR58KHWzsPrTFQqz29KOZR24ZHTY2nF1UnH54OEns0f0VG1aOO7kfzVz7ctkD/4dYJhzbZAsna//@jo410FAx0FOKNgIShQayOQnS8MVjEGCRqaAoSMQALgBCIZw7RYA5Sgy4dCwA" rel="nofollow noreferrer" title="Brachylog – Try It Online">Try it online!</a></p>
</div>
<div id="pu4" class="pu"><h1>TI-Basic (TI-83 series), <s>28</s> <s>27</s> 28 bytes (62 characters)</h1>
<pre><code>:Prompt [A]
:{0→X
:Matr►list(ref([A])ᵀ,L₁,X
:not(max(abs(ᶫX
</code></pre>
<p>Computes the row-echelon form of the matrix <code>[A]</code>, stores its first row (to be discarded) in <code>L₁</code> and its second row in <code>ᶫX</code>. Then <code>max(abs(ᶫX</code> will be zero if <code>ᶫX</code> consists only of zeroes, and a positive value otherwise, which <code>not(</code> changes to 1 if the matrix is rank one, 0 otherwise.</p>
<p>For a 1-row matrix, <code>ᶫX</code> is set to <code>{0}</code> and then doesn't get changed when we try to look at the nonexistent second row of the matrix.</p>
<hr />
<p><em>-1 byte thanks to Scott Milner</em></p>
<p><em>+1 byte to fix dimension error for 1-row matrices. Turns out the</em> <code>Matr►list(</code> <em>command complains if you try to extract the second row from a matrix with only one row; however, if you try to extract the first and second row both from the matrix, it will fail silently.</em></p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 12 bytes</h1>

<pre><code>ẸÐfµ÷"Ð€ZE€Ẹ
</code></pre>

<p><a href="https://tio.run/##y0rNyan8///hrh2HJ6Qd2np4u9LhCY@a1kS5Agmg4P/D7UDG///R0dFGOgoGOgq6RkDC0CBWRyFa1xgsYgwSNTQFiRiABUAoNlaHSyEaJgCVM0YwkdToGmJXbQK0xxDK1jUB2WEI0wF0ClgGSJug6DUGu8vICMUCQx0FI6iUEdhYMxAT6BgzsE/g@nWNUOyHIEMEDywfG8sVCwA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>

<h1>Explanation</h1>

<pre><code>ẸÐfµ÷"Ð€ZE€Ẹ  Main link
 Ðf           Filter; keep all elements where
Ẹ             At least one element is truthy (remove zero-rows)
      Ð€      For each row on the right side
    ÷"        Divide it by each row in the original
        Z     Zip the array
          €   For each submatrix
         E    Are all rows equal?
           Ẹ  Is at least one of the elements from above truthy?
</code></pre>

<p>Explanation may be slightly incorrect as this is my interpretation of miles's golf of my original algorithm</p>

<p>-5 bytes thanks to miles</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="noreferrer">Jelly</a>, 6 bytes</h1>

<pre><code>ẸÐfÆrE
</code></pre>

<p><a href="https://tio.run/##y0rNyan8///hrh2HJ6Qdbity/X@4/VHTGiBy//8/OjraSEfBQEdB1whIGBrE6ihE6xqDRYxBooamIBEDsAAIxcbqcClEwwSgcsYIJpIaXUPsqk2A9hhC2bomIDsMY4EKFWK4gI7RBboGLAmkTVC0G4OdZmSEYoehjoIRVMoIbLIZiAl0jxnYM3D9ukYoToAgQwQPLA90BQA" rel="noreferrer" title="Jelly – Try It Online">Try it online!</a></p>

<h3>How it works</h3>

<pre><code>ẸÐfÆrE  Main link. Argument: M (2D array)

ẸÐf     Filter by any, removing rows of zeroes.
   Ær   Interpret each row as coefficients of a polynomial and solve it over the
        complex numbers.
     E  Test if all results are equal.
</code></pre>

<h3>Precision</h3>

<p><code>Ær</code> uses numerical methods, so its results are usually inexact. For example, the input <strong>[6, -5, 1]</strong>,  which represents the polynomial <strong>6 - 5x + x²</strong>, results in the roots <strong>3.0000000000000004</strong> and <strong>1.9999999999999998</strong>. However, multiplying all coefficients of a polynomial by the same non-zero constant results in equally inexact roots. For example, <code>Ær</code> obtains the same roots for <strong>[6, -5, 1]</strong> and <strong>[6 × 10<sup>100</sup>, -5 × 10<sup>100</sup>, 10<sup>100</sup>]</strong>.</p>

<p>It should be noted that the limited precision of the <em>float</em> and <em>complex</em> types <strong>can</strong> lead to errors. For example, <code>Ær</code> would obtain the same roots for <strong>[1, 1]</strong> and <strong>[10<sup>100</sup>, 10<sup>100</sup> + 1]</strong>. Since <a href="https://codegolf.stackexchange.com/questions/143528/is-the-matrix-rank-one#comment351903_143528">we can assume the matrix is not large and not specifically chosen to be misclassified</a>, that should be fine.</p>
</div>
<div id="pu7" class="pu"><h1>JavaScript (ES6), <s>68</s> <s>67</s> 65 bytes</h1>

<p>This one is based on <a href="https://codegolf.stackexchange.com/a/143554/58563">Neil's 05AB1E answer</a> and is significantly more efficient than my original approach.</p>

<p>Returns <code>false</code> for rank-one and <code>true</code> otherwise.</p>

<pre class="lang-js prettyprint-override"><code>f=(a,R,V,X)=&gt;a.some(r=&gt;r.some((v,x)=&gt;R?v*V-r[X]*R[x]:f(a,r,v,x)))
</code></pre>

<h3>Test cases</h3>

<p><div class="snippet" data-lang="js" data-hide="true" data-console="true" data-babel="false">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-js lang-js prettyprint-override"><code>f=(a,R,V,X)=&gt;a.some(r=&gt;r.some((v,x)=&gt;R?v*V-r[X]*R[x]:f(a,r,v,x)))

console.log(f([[2, 0, -20, 10], [-3, 0, 30, -15], [0, 0, 0, 0]]))
console.log(f([[0, 0, 0], [0, 3, 0], [0, 0, 0]]))
console.log(f([[-10]]))
console.log(f([[0, 0, 0], [0, 4, 11], [0, -4, -11]]))

console.log(f([[-2, 1], [2, 4]]))
console.log(f([[0, 0, 3], [-22, 0, 0]]))
console.log(f([[1, 2, 3], [2, 4, 6], [3, 6, 10]]))
console.log(f([[0, -2, 0, 0], [0, 0, 0, 1], [0, 0, -2, 0]]))</code></pre>
</div>
</div>
</p>

<hr>

<h1>Original answer, 84 bytes</h1>

<p>Returns <code>false</code> for rank-one and <code>true</code> otherwise.</p>

<pre class="lang-js prettyprint-override"><code>a=&gt;a.some(r=&gt;r.some((x,i)=&gt;(isNaN(x/=a.find(r=&gt;r.some(x=&gt;x))[i])?r:1/r[0]?r=x:x)-r))
</code></pre>

<h3>Test cases</h3>

<p><div class="snippet" data-lang="js" data-hide="true" data-console="true" data-babel="false">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-js lang-js prettyprint-override"><code>let f =

a=&gt;a.some(r=&gt;r.some((x,i)=&gt;(isNaN(x/=a.find(r=&gt;r.some(x=&gt;x))[i])?r:1/r[0]?r=x:x)-r))

console.log(f([[2, 0, -20, 10], [-3, 0, 30, -15], [0, 0, 0, 0]]))
console.log(f([[0, 0, 0], [0, 3, 0], [0, 0, 0]]))
console.log(f([[-10]]))
console.log(f([[0, 0, 0], [0, 4, 11], [0, -4, -11]]))

console.log(f([[-2, 1], [2, 4]]))
console.log(f([[0, 0, 3], [-22, 0, 0]]))
console.log(f([[1, 2, 3], [2, 4, 6], [3, 6, 10]]))
console.log(f([[0, -2, 0, 0], [0, 0, 0, 1], [0, 0, -2, 0]]))</code></pre>
</div>
</div>
</p>

<h3>How?</h3>

<pre class="lang-js prettyprint-override"><code>a =&gt; a.some(r =&gt;          // given a matrix a, for each row r of a:
  r.some((x, i) =&gt;        //   for each value x of r at position i:
    (                     //
      isNaN(x /=          //     divide x by a[ref][i]
        a.find(r =&gt;       //       where ref is the index of the first row that
          r.some(x =&gt; x)  //       contains at least one non-zero value
        )[i]              //       (guaranteed to exist by challenge rules)
      ) ?                 //     we get NaN for 0/0, in which case:
        r                 //       use r, so that this column is ignored
      :                   //     else:
        1 / r[0] ?        //       if r is still holding the current row:
          r = x           //         set it to x (either a float, +Inf or -Inf)
        :                 //       else:
          x               //         use x
    ) - r                 //     subtract r from the value set above (see table)
  )                       //   end of some()
)                         // end of every()
</code></pre>

<p>The subtraction which is performed at the end of the code can lead to many different situations, which are summarized below:</p>

<pre><code>A                   | B              | A - B       | False / True
--------------------+----------------+-------------+-------------
array of 1 number   | same array     | 0           | False
array of 2+ numbers | same array     | NaN         | False
a number            | same number    | 0           | False
+Infinity           | +Infinity      | NaN         | False
-Infinity           | -Infinity      | NaN         | False
a number            | another number | &lt;&gt; 0        | True
+Infinity           | -Infinity      | +Infinity   | True
-Infinity           | +Infinity      | -Infinity   | True
a number            | +/-Infinity    | +/-Infinity | True
+/-Infinity         | a number       | +/-Infinity | True
</code></pre>

<p>The test fails as soon as we get a truthy value: this happens when we encounter two distinct ratios (other than <strong><em>0 / 0</em></strong>) between <strong><em>a(i,y)</em></strong> and <strong><em>a(i,r)</em></strong> in any row <strong><em>y</em></strong> of the matrix, where <strong><em>r</em></strong> is the index of a non-zero row.</p>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 9 bytes</h1>

<pre><code>ẸÐf÷g/$€E
</code></pre>

<p><a href="https://tio.run/##y0rNyan8///hrh2HJ6Qd3p6ur/KoaY3r/8PtQOropIc7ZwDpyP//o7mio410FAx0FHSNgIShQayOQrSuMVjEGCRqaAoSMQALgFBsrA5QC4wDkTJGMBFKdA2xqjUBWmIIZeuagCwwBCkDaQC6AywDpE2QtRqD3WRkhGy6oY6CEVTGCGyoGYgJdIgZ2BMw3bpGKJZDkCGCB5ZH9yBXLAA" rel="nofollow noreferrer" title="Jelly – Try It Online&quot; (All test cases">Try it online!</a></p>

<pre><code>ẸÐf         Discard zero rows
   ÷  $€    Divide each row by
    g/        its greatest common divisor
        E   Does this list have only one unique element?
</code></pre>
</div>
<div id="pu9" class="pu"><h1>Mathematica, <s>51</s> 33 bytes</h1>
<pre><code>RowReduce@#~Count~Except@{0..}&lt;2&amp;
</code></pre>
<p><strong>Input</strong></p>
<blockquote>
<p>[{{2,0,-20,10},{-3,0,30,-15},{0,0,0,0}}]</p>
</blockquote>
<p><em>-14 bytes from user202729</em><br />
3 more bytes saved from junghwanmin</p>
</div>
<div id="pu10" class="pu"><h1><a href="http://pari.math.u-bordeaux.fr/" rel="nofollow noreferrer">Pari/GP</a>, 18 bytes</h1>

<pre><code>a-&gt;#matimage(a)==1
</code></pre>

<p><code>matimage</code> gives a basis of the image of the linear transformation defined by the matrix.</p>

<p><a href="https://tio.run/##K0gsytRNL/ifpmCr8D9R1045N7EkMzcxPVUjUdPW1vB/QVFmXolGmka0kY6CgY6CrhGQMDSwVtA1BvONQWKGptYgNhTFamr@BwA" rel="nofollow noreferrer" title="Pari/GP – Try It Online">Try it online!</a></p>
</div>
<div id="pu11" class="pu"><h2>SageMath, 40 bytes</h2>
<pre class="lang-py prettyprint-override"><code>lambda M:any(M.rref()[1:])*(M.nrows()&gt;1)
</code></pre>
<p><a href="http://sagecell.sagemath.org/?z=eJxLs81JzE1KSVTwtUrMq9Tw1SsqSk3T0Iw2tIrV1AJy84ryy4s1NO0MNXm5eLkKijLzShTSNHITS4oyKzSio410FAx0FHSNgIShQaxOtK4xWMAYJGhoChQwAPNBKDZWUxOLCYY6CkZAdSZATThVGIFkAJfFLh0=&amp;lang=sage" rel="nofollow noreferrer">Try it online</a></p>
<p>This anonymous function returns <code>False</code> if the matrix is rank-one, and <code>True</code> otherwise.</p>
<p>The function takes a matrix <code>M</code> as input, converts it to reduced row-echelon form (<code>M.rref()</code>), and tests for <code>any</code> of the rows past the first being non-zero. Then, that value is multiplied by <code>M.nrows()&gt;1</code> (does the matrix have more than one row?).</p>
</div>
<div id="pu12" class="pu"><h1><a href="https://www.haskell.org/" rel="noreferrer">Haskell</a>, 50 bytes</h1>

<p><code>r</code> takes a list of lists of <code>Integer</code>s and returns <code>False</code> if the matrix has rank one, <code>True</code> otherwise.</p>



<pre class="lang-hs prettyprint-override"><code>r l=or[map(x*)b&lt;map(y*)a|a&lt;-l,b&lt;-l,(x,y)&lt;-zip a b]
</code></pre>

<p><a href="https://tio.run/##bU7RDoIwDHz3KxriA4ONsIE@GPRHJg9DSSBONKARjP@O60DBxKRpr9dre4VqTrnW/VmV1basbnmtDrflvdJllTfBWV1dd6/ZrikuD9C@72zA8X3s3Bo0IUGdqyMJrLo3zPZSS1xqPZIlCDqPqJdKmKYZJrelHUnYs7yCgizteykFhZACEybxMKUgWWSZCFm@Qia0BEaaLuSnHSfRBL8Kxv8pY/OBj5jFeJ0PamPB8qbGs73IuhFidphTEONA2INrhMbC2rofd5n4@TsEnzo7N@I3" rel="noreferrer" title="Haskell – Try It Online">Try it online!</a></p>

<h1>How it works</h1>

<ul>
<li>Generates all pairs of rows <code>a</code> and <code>b</code> (including equal rows), and for each pair, lets <code>x</code> and <code>y</code> run through corresponding elements.</li>
<li>Multiplies the row <code>b</code> by <code>x</code> and the row <code>a</code> by <code>y</code>. The matrix will have rank one if and only if the results are always equal.</li>
<li>Since pairs are generated in both orders, <code>&lt;</code> can be used to check if there's ever an inequality. The list of test results are combined with <code>or</code>, giving <code>True</code> if there are any non-proportional rows.</li>
</ul>
</div>
<div id="pu13" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a> + numpy, 58 bytes</h1>



<pre class="lang-python prettyprint-override"><code>lambda m:sum(linalg.svd(m)[1]&gt;1e-10)==1
from numpy import*
</code></pre>

<p><a href="https://tio.run/##dVBBDsIgELzzij22BgxLqweT@hHkUKNVkkKbFk18fYW1Rm0iITDMsLMD/SNcO6@mpjpMbe2Opxrcbry5rLW@bi/r8X7KXK7R7PEsUOZVhawZOgf@5voHWNd3Q1hN4TyGESrQDOLQWnGQHISKC0rDQYuCmCKxuEmMJCJNY/hc9iZecvGBv9dikH81ZWyIMxZlaoZfdTEWiXEvlw4FxVRq2Qw5qFlV5L9NMGbb0tu@XYT6ySKXJ9KNYYaxphvAgvVAP7cjj36wPkCT2Xx6Ag" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>

<p>Credit to <a href="https://stackoverflow.com/questions/2473983/calculate-matrix-rank-using-scipy">this</a>.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/143528/">143528</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




