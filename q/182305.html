<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::182305</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>003</td><td>Nekomata + 1</td><td>230809T015007Z</td><td><a href="https://codegolf.stackexchange.com/questions/182305/return-the-closest-prime-number/263902#263902">alephalp</a></td></tr>
<tr d-ix="1"><td>005</td><td>Thunno 2 h</td><td>230808T084001Z</td><td><a href="https://codegolf.stackexchange.com/questions/182305/return-the-closest-prime-number/263872#263872">The Thon</a></td></tr>
<tr d-ix="2"><td>057</td><td>Perl 5</td><td>190328T083506Z</td><td><a href="https://codegolf.stackexchange.com/questions/182305/return-the-closest-prime-number/182361#182361">Weizel</a></td></tr>
<tr d-ix="3"><td>074</td><td>TIBASIC TI84+</td><td>190827T054518Z</td><td><a href="https://codegolf.stackexchange.com/questions/182305/return-the-closest-prime-number/190925#190925">absolute</a></td></tr>
<tr d-ix="4"><td>065</td><td>C gcc</td><td>190329T023246Z</td><td><a href="https://codegolf.stackexchange.com/questions/182305/return-the-closest-prime-number/182404#182404">att</a></td></tr>
<tr d-ix="5"><td>022</td><td>Wolfram Language Mathematica</td><td>190818T103919Z</td><td><a href="https://codegolf.stackexchange.com/questions/182305/return-the-closest-prime-number/190224#190224">Roman</a></td></tr>
<tr d-ix="6"><td>090</td><td>Zsh</td><td>190327T192009Z</td><td><a href="https://codegolf.stackexchange.com/questions/182305/return-the-closest-prime-number/182334#182334">GammaFun</a></td></tr>
<tr d-ix="7"><td>006</td><td>MATL</td><td>190717T202122Z</td><td><a href="https://codegolf.stackexchange.com/questions/182305/return-the-closest-prime-number/188500#188500">Sanchise</a></td></tr>
<tr d-ix="8"><td>039</td><td>Ruby rprime</td><td>190717T084312Z</td><td><a href="https://codegolf.stackexchange.com/questions/182305/return-the-closest-prime-number/188484#188484">Value In</a></td></tr>
<tr d-ix="9"><td>087</td><td>C# Visual C# Interactive Compiler</td><td>190327T184610Z</td><td><a href="https://codegolf.stackexchange.com/questions/182305/return-the-closest-prime-number/182329#182329">Gymhgy</a></td></tr>
<tr d-ix="10"><td>161</td><td>VDMSL</td><td>190327T163146Z</td><td><a href="https://codegolf.stackexchange.com/questions/182305/return-the-closest-prime-number/182314#182314">Expired </a></td></tr>
<tr d-ix="11"><td>155</td><td>TSQL query</td><td>190328T094047Z</td><td><a href="https://codegolf.stackexchange.com/questions/182305/return-the-closest-prime-number/182368#182368">t-clause</a></td></tr>
<tr d-ix="12"><td>074</td><td>Haskell</td><td>190329T023822Z</td><td><a href="https://codegolf.stackexchange.com/questions/182305/return-the-closest-prime-number/182405#182405">Sachera</a></td></tr>
<tr d-ix="13"><td>052</td><td>Wolfram Language Mathematica</td><td>190327T153250Z</td><td><a href="https://codegolf.stackexchange.com/questions/182305/return-the-closest-prime-number/182307#182307">ZaMoC</a></td></tr>
<tr d-ix="14"><td>104</td><td>C</td><td>190327T202415Z</td><td><a href="https://codegolf.stackexchange.com/questions/182305/return-the-closest-prime-number/182339#182339">Lince As</a></td></tr>
<tr d-ix="15"><td>072</td><td>C gcc</td><td>190329T115524Z</td><td><a href="https://codegolf.stackexchange.com/questions/182305/return-the-closest-prime-number/182420#182420">Natural </a></td></tr>
<tr d-ix="16"><td>103</td><td>Java JDK</td><td>190329T112338Z</td><td><a href="https://codegolf.stackexchange.com/questions/182305/return-the-closest-prime-number/182418#182418">Olivier </a></td></tr>
<tr d-ix="17"><td>087</td><td>Java 8</td><td>190329T123015Z</td><td><a href="https://codegolf.stackexchange.com/questions/182305/return-the-closest-prime-number/182423#182423">Kevin Cr</a></td></tr>
<tr d-ix="18"><td>100</td><td>C# Visual C# Interactive Compiler</td><td>190328T085710Z</td><td><a href="https://codegolf.stackexchange.com/questions/182305/return-the-closest-prime-number/182364#182364">Innat3</a></td></tr>
<tr d-ix="19"><td>005</td><td>Brachylog</td><td>190328T151153Z</td><td><a href="https://codegolf.stackexchange.com/questions/182305/return-the-closest-prime-number/182381#182381">Fatalize</a></td></tr>
<tr d-ix="20"><td>096</td><td>Python 2 Cython</td><td>190327T162915Z</td><td><a href="https://codegolf.stackexchange.com/questions/182305/return-the-closest-prime-number/182313#182313">Snaddyvi</a></td></tr>
<tr d-ix="21"><td>031</td><td>Wolfram Language Mathematica</td><td>190328T234629Z</td><td><a href="https://codegolf.stackexchange.com/questions/182305/return-the-closest-prime-number/182399#182399">att</a></td></tr>
<tr d-ix="22"><td>035</td><td>Perl 6</td><td>190329T001522Z</td><td><a href="https://codegolf.stackexchange.com/questions/182305/return-the-closest-prime-number/182401#182401">user0721</a></td></tr>
<tr d-ix="23"><td>015</td><td>APL Dyalog Extended</td><td>190327T172305Z</td><td><a href="https://codegolf.stackexchange.com/questions/182305/return-the-closest-prime-number/182317#182317">Ad&#225;</a></td></tr>
<tr d-ix="24"><td>067</td><td>Ruby</td><td>190328T230224Z</td><td><a href="https://codegolf.stackexchange.com/questions/182305/return-the-closest-prime-number/182397#182397">Avilyn</a></td></tr>
<tr d-ix="25"><td>005</td><td>Japt</td><td>190327T154338Z</td><td><a href="https://codegolf.stackexchange.com/questions/182305/return-the-closest-prime-number/182309#182309">Shaggy</a></td></tr>
<tr d-ix="26"><td>004</td><td>05AB1E</td><td>190328T124807Z</td><td><a href="https://codegolf.stackexchange.com/questions/182305/return-the-closest-prime-number/182375#182375">Grimmy</a></td></tr>
<tr d-ix="27"><td>091</td><td>Factor</td><td>190328T094126Z</td><td><a href="https://codegolf.stackexchange.com/questions/182305/return-the-closest-prime-number/182369#182369">Galen Iv</a></td></tr>
<tr d-ix="28"><td>010</td><td>MathGolf</td><td>190328T084323Z</td><td><a href="https://codegolf.stackexchange.com/questions/182305/return-the-closest-prime-number/182362#182362">Kevin Cr</a></td></tr>
<tr d-ix="29"><td>071</td><td>Python 2</td><td>190328T000455Z</td><td><a href="https://codegolf.stackexchange.com/questions/182305/return-the-closest-prime-number/182351#182351">xnor</a></td></tr>
<tr d-ix="30"><td>040</td><td>Octave</td><td>190327T183308Z</td><td><a href="https://codegolf.stackexchange.com/questions/182305/return-the-closest-prime-number/182327#182327">Luis Men</a></td></tr>
<tr d-ix="31"><td>015</td><td>J</td><td>190327T202819Z</td><td><a href="https://codegolf.stackexchange.com/questions/182305/return-the-closest-prime-number/182340#182340">Galen Iv</a></td></tr>
<tr d-ix="32"><td>093</td><td>Python 2</td><td>190327T191658Z</td><td><a href="https://codegolf.stackexchange.com/questions/182305/return-the-closest-prime-number/182333#182333">deustice</a></td></tr>
<tr d-ix="33"><td>043</td><td>Tidy</td><td>190327T213942Z</td><td><a href="https://codegolf.stackexchange.com/questions/182305/return-the-closest-prime-number/182344#182344">Conor O&</a></td></tr>
<tr d-ix="34"><td>003</td><td>Gaia</td><td>190327T202306Z</td><td><a href="https://codegolf.stackexchange.com/questions/182305/return-the-closest-prime-number/182338#182338">Giuseppe</a></td></tr>
<tr d-ix="35"><td>007</td><td>Jelly</td><td>190327T184903Z</td><td><a href="https://codegolf.stackexchange.com/questions/182305/return-the-closest-prime-number/182330#182330">Nick Ken</a></td></tr>
<tr d-ix="36"><td>014</td><td>Jelly</td><td>190327T183531Z</td><td><a href="https://codegolf.stackexchange.com/questions/182305/return-the-closest-prime-number/182328#182328">Erik the</a></td></tr>
<tr d-ix="37"><td>186</td><td>Swift</td><td>190327T182406Z</td><td><a href="https://codegolf.stackexchange.com/questions/182305/return-the-closest-prime-number/182325#182325">onnoweb</a></td></tr>
<tr d-ix="38"><td>076</td><td>APLNARS</td><td>190327T180536Z</td><td><a href="https://codegolf.stackexchange.com/questions/182305/return-the-closest-prime-number/182322#182322">user5898</a></td></tr>
<tr d-ix="39"><td>053</td><td>JavaScript ES6</td><td>190327T160157Z</td><td><a href="https://codegolf.stackexchange.com/questions/182305/return-the-closest-prime-number/182311#182311">Arnauld</a></td></tr>
<tr d-ix="40"><td>112</td><td>C# Visual C# Interactive Compiler</td><td>190327T164317Z</td><td><a href="https://codegolf.stackexchange.com/questions/182305/return-the-closest-prime-number/182315#182315">Expired </a></td></tr>
<tr d-ix="41"><td>010</td><td>Pyth</td><td>190327T154602Z</td><td><a href="https://codegolf.stackexchange.com/questions/182305/return-the-closest-prime-number/182310#182310">Sok</a></td></tr>
<tr d-ix="42"><td>005</td><td>05AB1E</td><td>190327T151736Z</td><td><a href="https://codegolf.stackexchange.com/questions/182305/return-the-closest-prime-number/182306#182306">Emigna</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/AlephAlpha/Nekomata" rel="nofollow noreferrer">Nekomata</a> + <code>-1</code>, 3 bytes</h1>
<pre><code>Ž-Q
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70iLzU7PzexJHFNtJJurpKOgpKuoVLsgqWlJWm6FkuO7tUNXFKclFwMFViwwcKAy9DAgMuUy5LL1NiIyxAiDgA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre><code>Ž-Q
Ž       Find an integer (in the order of 0, 1, -1, 2, -2, 3, -3, ...)
 -      Input minus that integer
  Q     Check if the result is a prime
</code></pre>
<p><code>-1</code> prints the first solution.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/Thunno/Thunno2" rel="nofollow noreferrer">Thunno 2</a> <code>h</code>, 5 <a href="https://github.com/Thunno/Thunno2/blob/main/docs/codepage.md" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>LÆPþṛ
</code></pre>
<p><a href="https://Not-Thonnu.github.io/run#aGVhZGVyPSZjb2RlPUwlQzMlODZQJUMzJUJFJUUxJUI5JTlCJmZvb3Rlcj0maW5wdXQ9ODAlMjAlMjAlMjAlMjAlMjAlM0QlM0UlMjAlMjAlMjAlMjAlMjAlMjA3OSUwQTEwMCUyMCUyMCUyMCUyMCUzRCUzRSUyMCUyMCUyMCUyMCUyMDEwMSUwQTUlMjAlMjAlMjAlMjAlMjAlMjAlM0QlM0UlMjAlMjAlMjAlMjAlMjAlMjAlMjA1JTBBOSUyMCUyMCUyMCUyMCUyMCUyMCUzRCUzRSUyMCUyMCUyMCUyMCUyMCUyMCUyMDclMEE1MzIlMjAlMjAlMjAlMjAlM0QlM0UlMjAlMjAlMjAlMjAlMjA1MjMlMEExJTIwJTIwJTIwJTIwJTIwJTIwJTNEJTNFJTIwJTIwJTIwJTIwJTIwJTIwJTIwMiZmbGFncz1DaA==" rel="nofollow noreferrer">Try it online!</a></p>
<h4>Explanation</h4>
<pre class="lang-python prettyprint-override"><code>LÆPþṛ  # Implicit input
LÆP    # First n primes
   þṛ  # Sort by absolute difference
       # (Lower numbers will appear
       #  first in case of a tie)
       # Implicit output of first item
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a>, 57 bytes</h1>



<pre class="lang-perl prettyprint-override"><code>$a=0;while((1x$_)=~/^.?$|^(..+?)\1+$/){$_+=(-1)**$a*++$a}
</code></pre>

<p><a href="https://tio.run/##K0gtyjH9/18l0dbAujwjMydVQ8OwQiVe07ZOP07PXqUmTkNPT9teM8ZQW0Vfs1olXttWQ9dQU0tLJVFLQyVRW1uz9v9/IwMDAy4gwWUIwsZchpYW5lxmIEFLIDAHkxb/8gtKMvPziv/rFuTkAQA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>

<p><code>/^.?$|^(..+?)\1+$/</code> is tricky regexp to check prime</p>

<p><code>(-1)**$a*++$a</code> generate sequence 0,-1, 2,-3 ...</p>
</div>
<div id="pu3" class="pu"><h1>TI-BASIC (TI-84+), 74 Bytes</h1>

<pre><code>Ans→A:{2,3→A:For(P,5,2A,2:If min(remainder(P,seq(X,X,3,1+√(P),2:P→∟A(1+dim(∟A:End:abs(A-∟A:∟A(1+sum(not(cumSum(Ans=min(Ans
</code></pre>

<p><strong>Hexdump:</strong><br>
(Token hex-values found <a href="http://tibasicdev.wikidot.com/tokens" rel="nofollow noreferrer">here</a>.)</p>

<pre><code>72 04 41 3E 08 32 2B 33 04 41 3E D3 50 2B 35 2B | Ans→A:{2,3→A:For(P,5,
32 41 2B 32 3E CE 1A EF 32 50 2B 23 58 2B 58 2B | 2A,2:If min(remainder(P,seq(X,X,
33 2B 31 70 BC 50 11 2B 32 3E 50 04 EB 41 10 31 | 3,1+√(P),2:P→∟A(1
70 B5 EB 41 3E D4 EE B2 41 71 EB 41 3E EB 41 10 | +dim(∟A:End:abs(A-∟A:∟A(
31 70 B6 B8 BB 29 72 6A 1A 72                   | 1+sum(not(cumSum(Ans=min(Ans
</code></pre>

<p>Input is an integer in <code>Ans</code>.  Output is printed implicitly.<br>
<em>Note:</em>  due to limitations on how large lists can be, <span class="math-container">\$A\$</span> is limited to <span class="math-container">\$0 \le A \le 3953\$</span></p>

<p><strong>Explanation:</strong></p>

<pre><code>Ans→A                                  ;store the input in a variable called "A"
{2,3→A                                 ;store the list {2 3} into a list called "A"
For(P,5,2A,2                           ;loop from 5 to two times the input using a step
                                       ; of 2
                   seq(X,X,3,1+√(P),2  ;generate a list of integers from 3 to 1 + the
                                       ; square root of the loop counter using a step of 2
                                       ; (e.g. P=21, list={3 5})
       remainder(P,                    ;then take the loop counter modulo each element
                                       ; (e.g. P=21, list={0 1})
If min(                                ;if all of the resulting elements are non-zero,
                                       ; then
P→∟A(1+dim(∟A                          ;add the loop counter's value to the list "A", the
                                       ; list of primes
End
abs(A-∟A                               ;subtract the input from the primes list and take
                                       ; the absolute value of each element (distance to
                                       ; each prime)
   1+sum(not(cumSum(Ans=min(Ans        ;find the first index of the minimum value
∟A(                                    ;then use that index to get the value in the primes
                                       ; list at that index
                                       ;implicit output
</code></pre>

<p><strong>Examples:</strong></p>

<pre><code>100:prgmCDGF1F
             101
5:prgmCDGF1F
               5
80:prgmCDGF1F
              79
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, <s>78</s> 65 bytes</h1>



<pre class="lang-c prettyprint-override"><code>f(n,i,j){for(i=j=0;j-1;i++)for(j=n+=i%2?-i:i;--j,n-1&amp;&amp;n%j;);i=n;}
</code></pre>

<p><a href="https://tio.run/##LY7BCsIwEETPzVeEQkqWJpgqghqjH6I9SGtkA6ZSe7L02@NGPOzOMDyY6fSj61LyMipUAWY/jBJdcMYG3Visa8hJcLF2KNZnjQe0WgcVdVNVUQQLFl20S3reMErgM8M48enScke@2BnFisbkv6XbZ92sc8YWy35lhCPVcTy@8XMfvJxg9XcGKKYJ7DUS5mUpeq5PXPTXWCoqwVZx4kkBLFtS@gI" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>

<pre class="lang-c prettyprint-override"><code>f(n,i,j){
    for(i=j=0;j-1;i++)      //while j!=1
        for(j=n+=i%2?-i:i;  // step to next closest value to original input n
            --j,n-1&amp;&amp;n%j;); // find greatest factor which is less than j
    i=n;                    //return
}
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, 22 bytes</h1>

<pre><code>RiemannR/*Round/*Prime
</code></pre>

<p><a href="https://tio.run/##y00syUjNTSzJTE7876Zg@z8oE8jLywvS1wrKL81L0dcKKMrMTf0PJPNKopV17dyilWNj1fQdqi0MdAwNDHRMdSx1TI2NdAxr/wMA" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>

<p>This is an approximate solution that by chance works for all of the given test cases, but gives a slightly wrong result for other inputs. The <a href="https://reference.wolfram.com/language/ref/RiemannR.html" rel="nofollow noreferrer">Riemann R function</a> is an approximation of the <a href="https://en.wikipedia.org/wiki/Prime-counting_function" rel="nofollow noreferrer">prime-counting function</a>, which we round to the nearest integer and then request the prime number of that index.</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://www.zsh.org/" rel="nofollow noreferrer">Zsh</a>, <s>101 92 91</s> 90 bytes</h1>
<p><em>-9 by collapsing the body into the head of <code>p</code>'s loop, -1 from using <code>i=j</code> instead of <code>i=$1</code> in main loop, -1 by replacing a <code>&amp;&amp;</code> with a <code>,</code>.</em></p>

<pre class="lang-sh prettyprint-override"><code>p(){for ((n=2;n&lt;$1&amp;&amp;$1%n++;)):
(($1==n))&amp;&amp;&lt;&lt;&lt;$1}
j=$1
for ((i=j;;++j,--i))p $i||p $j&amp;&amp;exit
</code></pre>
<p><s><a href="https://tio.run/##HYzhCoJAEIT/z1MscR17hOGq/RC1dym88EpOUakoe3Y7HZZl@HZmP2OzvBrXWhrspabWeVtQ3cE@Ly2NdqIoop1a8Q689Gy@t24gT/xNjkclP8OsZO@Nmedr@PAAsz@L1kqqKlCty7IMMdwrJVirzC7Yojgc7lpHkTOmJ@XmOewA7NtNi0HdebvEECRIkeEEiZHlkBR5BknSMMg3hcsm/AE" rel="nofollow noreferrer" title="Zsh – Try It Online">Try it online!</a></s>
<s><a href="https://tio.run/##JYtBCoMwFET3c4ogacgnCEbtwsYcRjClEYmi0pbWnj1N7TDM4j3mtd7i4@ZHxxbX9Wz0wRnWT3D3bmSr21ies4z/cAYZZ0nv67QwKYMtTWi5FoLrU1DKEF0gJdfWBiIh2jbJDwbLNf4PbwdjlBqEyHNPNDPu9z1tAu7pt0jop@BiAY0SFWqcoQvUDXSFpoYuq1Q0R5I5gi8" rel="nofollow noreferrer" title="Zsh – Try It Online">Try it online!</a></s>
<a href="https://tio.run/##JYvRCoMgAEXf71dIOFGckNUemvkxQY6MsKjYxta@3bl2uNyHe7ivtY@P3o@OLK7tyOiDM6Sb4O7tSFa3EaVIRn9zBh5nLt63aSGcB1uY0FDNGNWnIKUR4grOqbY2CMFY0yT5wWCpxv/h7WCMlMNZKS/ETKjf99QDY@7ptyjQTcHFHBoFSlS4QOeoaugSdQVdlCmoD5I5wBc" rel="nofollow noreferrer" title="Zsh – Try It Online">Try it online!</a></p>
<p><s>57</s> 48 bytes to the prime testing function, <s>43</s> 41 bytes to the main loop (1 byte to the newline between them):</p>
<pre class="lang-sh prettyprint-override"><code>p(){  # prime function: takes one input, outputs via return code
for (( n = 2; n &lt; $1 &amp;&amp; $1 % n++; ))   # divisibility check in loop header
    :                 # no-op loop body
(( $1 == n )) &amp;&amp;      # if we looped up to $1:
    &lt;&lt;&lt; $1            #     echo out $1. Otherwise, this will return false
}
</code></pre>
<p>For the last condition, we can't use the shorter <code>(($1-n))||</code>, because we need to return false to the main loop if we didn't find a prime. We print in the function to avoid complexity in the main loop.</p>
<pre class="lang-sh prettyprint-override"><code>j=$1                          # set i = j = $1. Doing one in and one out is smallest
for (( i = j; ; ++j , --i )) # loop indefinitely, increment and decrement
    p $i || p $j &amp;&amp; exit      # if either $i or $j was a prime, exit
</code></pre>
<p>Conditionals are left-associative, which we take advantage of here. We do test the starting number twice to make the decrement logic simpler.</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, 6 bytes</h1>

<pre><code>t:YqYk
</code></pre>

<p><a href="https://tio.run/##y00syfmfkPm/xCqyMDL7v0vIfwsDLkMDAy5TLksuU2MjLkMA" rel="nofollow noreferrer" title="MATL – Try It Online">Try it online!</a></p>

<p>List the first <code>n</code> primes and find the one closest to <code>n</code>.</p>
</div>
<div id="pu8" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a> <code>-rprime</code>, 39 bytes</h1>

<p>Relies on the idea that for any positive integer <span class="math-container">\$n\$</span>, the <span class="math-container">\$n\$</span>th prime is always larger than <span class="math-container">\$n\$</span>.</p>



<pre class="lang-ruby prettyprint-override"><code>-&gt;n{Prime.take(n).min_by{|i|(i-n).abs}}
</code></pre>

<p><a href="https://tio.run/##FY1BC4MgGEDv/YqPujRQqY1gHeo37B4xdBn7GKmoHcL863Pu8uDBg2d3caR1SHRU4WFxk8zzj6zVhW2onuIIJ5410uxcuBjT1BLoCPQE7g2BtsnobteZSf56w6Ih5wWA2b2DsgoYYRihCuuEcywLqZb01cajVi5Ra/6/Hw" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
</div>
<div id="pu9" class="pu"><h1><a href="http://www.mono-project.com/docs/about-mono/releases/5.0.0/#csc" rel="nofollow noreferrer">C# (Visual C# Interactive Compiler)</a>, 87 bytes</h1>



<pre class="lang-cs prettyprint-override"><code>n=&gt;{int i=0;for(;n&lt;2||Enumerable.Range(2,n-2).Any(x=&gt;n%x&lt;1);n+=++i%2&lt;1?-i:i);return n;}
</code></pre>

<p><a href="https://tio.run/##Zcw9C8IwGATg3V/RpZDQD9qIYM2HOOjk5OJcSyov6AlpChXrb4911A4Hx8NxTZc1HYVDj0YRfDrFtDpAm9dUI9KFbB@OSSgxjnv0d@vqy83mpxpXy0SKTPB8hycbtEE8qJJLJDpJKBaq3Ga0IS6d9b1DBPkOcnF25O2RYFnL1gXnv1IWM1r9QzVbLMXs5wvhAw" rel="nofollow noreferrer" title="C# (Visual C# Interactive Compiler) – Try It Online">Try it online!</a></p>
</div>
<div id="pu10" class="pu"><h1><a href="https://raw.githubusercontent.com/overturetool/documentation/master/documentation/VDM10LangMan/VDM10_lang_man.pdf" rel="nofollow noreferrer">VDM-SL</a>, 161 bytes</h1>



<pre class="lang-none prettyprint-override"><code>f(i)==(lambda p:set of nat1&amp;let z in set p be st forall m in set p&amp;abs(m-i)&gt;=abs(z-i)in z)({x|x in set{1,...,9**7}&amp;forall y in set{2,...,1003}&amp;y&lt;&gt;x=&gt;x mod y&lt;&gt;0})
</code></pre>

<p>A full program to run might look like this - it's worth noting that the bounds of the set of primes used should probably be changed if you actually want to run this, since it will take a long time to run for 1 million: </p>

<pre class="lang-none prettyprint-override"><code>functions
f:nat1+&gt;nat1
f(i)==(lambda p:set of nat1&amp;let z in set p be st forall m in set p&amp;abs(m-i)&gt;=abs(z-i)in z)({x|x in set{1,...,9**7}&amp;forall y in set{2,...,1003}&amp;y&lt;&gt;x=&gt;x mod y&lt;&gt;0})
</code></pre>

<h3>Explanation:</h3>

<pre class="lang-none prettyprint-override"><code>f(i)==                                        /* f is a function which takes a nat1 (natural number not including 0)*/
(lambda p:set of nat1                         /* define a lambda which takes a set of nat1*/
&amp;let z in set p be st                         /* which has an element z in the set such that */
forall m in set p                             /* for every element in the set*/
&amp;abs(m-i)                                     /* the difference between the element m and the input*/
&gt;=abs(z-i)                                    /* is greater than or equal to the difference between the element z and the input */
in z)                                         /* and return z from the lambda */
(                                             /* apply this lambda to... */
{                                             /* a set defined by comprehension as.. */
x|                                            /* all elements x such that.. */ 
x in set{1,...,9**7}                          /* x is between 1 and 9^7 */
&amp;forall y in set{2,...,1003}                  /* and for all values between 2 and 1003*/
&amp;y&lt;&gt;x=&gt;x mod y&lt;&gt;0                             /* y is not x implies x is not divisible by y*/
} 
)
</code></pre>
</div>
<div id="pu11" class="pu"><h1>TSQL query, 155 bytes</h1>

<pre class="lang-sql prettyprint-override"><code>USE master
DECLARE @ INT=1000000;

WITH C as(SELECT abs(number-500+@)r,abs(number)+2s
FROM spt_values)SELECT top 1r FROM c
WHERE 0not in(SELECT c.r%s FROM c d
WHERE c.r&gt;s)ORDER BY abs(r-@),r
</code></pre>
<p><strong><a href="https://data.stackexchange.com/stackoverflow/query/1021170/return-the-closest-prime-number" rel="nofollow noreferrer">Try it online</a></strong></p>
</div>
<div id="pu12" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, <s>79</s> 74 bytes (thanks to Laikoni)</h1>
<p>72 bytes as annonymus function (the initial &quot;f=&quot; could be removed in this case).</p>

<pre class="lang-hs prettyprint-override"><code>f=(!)(-1);n!x|x&gt;1,all((&gt;0).mod x)[2..x-1]=x|y&lt;-x+n=last(-n+1:[-n-1|n&gt;0])!y
</code></pre>
<p><a href="https://tio.run/##hc5NCoMwFATgfU/xhC4STCQvIvYvnqC7LsVFwIrSGEu1NIJ3T0uFrgqZ7XwM0@rxdjXG@0aRiBKO9Ggjt7gCmTaGkELQpB9qcLSUSeI4Vsot84m72Cqjx4lwG@Oh5JbjYgtR0Wj2ve4sKKgHuD@ny/Q4W9jC2A4vIA3sBAOAfE838MsfhuLjUGCAZezbZAGWrywPraWSQSbT0Ld1TVL/Bg" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
<hr />
<h3>original code:</h3>

<pre class="lang-hs prettyprint-override"><code>f=(!)(-1);n!x|x&gt;1&amp;&amp;all((&gt;0).mod x)[2..x-1]=x|1&gt;0=(last$(-n+1):[-n-1|n&gt;0])!(x+n)
</code></pre>
<p><a href="https://tio.run/##hc7NCoMwEATge59iBZEsGskqYn9InqC3HsVDwBZLYyzV0hx897RU6KmQuc7HML2ebmdjvL9IFiHjhAcbucUpShJtDGNKYD6MHThsijx3nFrpFlJCMqOnOWbcpoT7hltOi1WixYi51KIf9NWChG6E@3M@zY@jhRimfnwBu8BWZABQ73ADv/xhJD6OBAVYlX2bKsDqldWhtbLIoCrK0Ld1rUD/Bg" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
<p><strong>Explanation:</strong></p>

<pre class="lang-hs prettyprint-override"><code>f x = (-1)!x

isPrime x = x &gt; 1 &amp;&amp; all (\k -&gt; x `mod` k /= 0)[2..x-1]
n!x | isPrime x = x            -- return the first prime found
    | n&gt;0       = (-n-1)!(x+n) -- x is no prime, continue with x+n where n takes the 
    | otherwise = (-n+1)!(x+n) -- values -1,2,-3,4 .. in subsequent calls of (!)
</code></pre>
</div>
<div id="pu13" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, 52 bytes</h1>

<pre><code>If[PrimeQ[s=#],s,#&amp;@@Nearest[s~NextPrime~{-1,1},s]]&amp;
</code></pre>

<p><a href="https://tio.run/##y00syUjNTSzJTE78n2773zMtOqAoMzc1MLrYVjlWp1hHWc3BwS81sSi1uCS6uM4vtaIELF9XrWuoY1irUxwbq/YfKJJXoqDvkK7vUG1hoGNoYKBjqmNZ@/8/AA" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
</div>
<div id="pu14" class="pu"><h1>C, <s>122</s> <s>121</s> 104 bytes</h1>



<pre class="lang-c prettyprint-override"><code>p(a,i){for(i=1;++i&lt;a;)if(a%i&lt;1)return 0;return a&gt;1;}c(a,b){for(b=a;;b++)if(p(--a)|p(b))return p(b)?b:a;}
</code></pre>

<p>Use it calling function <code>c()</code> and passing as argument the number; it should return the closest prime.</p>

<p>Thanks to Embodiment of Ignorance for <s>1 byte saved</s> a big improvement.</p>

<p><a href="https://tio.run/##TY5LboNADIb3cworEtJYDBIkSpTWkC56jDQLD4HIUjtFQFd0zk4NaaR44ef/2a6z@pPDbZ47y05war97K1VBaSolE0prOZGywL4Zf/oAOf0nfCoo1sr4O@MrJvJpuhCdzTLG3856fHBL/uZfmeJsJIzwxRIsmsmA2tIYm2F856EZzheoYIJj7qDI1e0dvKjfbbWGSGYl1i@VEtXmpKGEA4H@jOv4vnaxrldZazfJFbITJNePsHFPt@TioLbPNSKtcDRx/gM" rel="nofollow noreferrer" title="C (clang) – Try It Online">Try it online!</a></p>
</div>
<div id="pu15" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, <s>87</s> <s>76</s> <s>74</s> 72 bytes</h1>

<p>Optimization of innat3's <a href="https://codegolf.stackexchange.com/a/182364/83073">C# (Visual C# Interactive Compiler), 100 bytes</a>
</p>

<pre class="lang-c prettyprint-override"><code>f(n,i,t,r,m){for(t=0,m=n;r-2;t++)for(r=i=1,n+=n&lt;m?t:-t;i&lt;n;n%++i||r++);}
</code></pre>

<p><a href="https://tio.run/##fc5BCoMwFATQdT1FEISE/EBUBG1Me5FuipDyF/mWkJ169tS4b1YDw2OYRX2WJSXHCRAiBPBic2vg0WrwlkxQnYlSitwFi7YFkpZm/4x3FQ3OZKiREvc9nMgcyb@RuKi26vYNSNHxuumRqQc740U1sFEDc3zUQpi/ptUXOqOkhmyGkpiymIobfXet9F3xz/UmiyP9AA" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
</div>
<div id="pu16" class="pu"><h1><a href="http://jdk.java.net/" rel="nofollow noreferrer">Java (JDK)</a>, 103 bytes</h1>



<pre class="lang-java prettyprint-override"><code>n-&gt;{int p=0,x=0,z=n,d;for(;p&lt;1;p=p&gt;0?z:0,z=z==n+x?n-++x:z+1)for(p=z/2,d=1;++d&lt;z;)p=z%d&lt;1?0:p;return p;}
</code></pre>

<p><a href="https://tio.run/##VU89b8IwEN35FSekSEkd3ISKqo0xqGOHigExVR1cnCCniWPZlwiC@O2uQ6cO7z7f6d6rxSAWtfzxqjWdRahDT3tUDa16fUTVafrAZsdGOAcfQmm4zgBM/92oIzgUGNLQKQlt2MV7tEqfPr9A2JNL7lSAd40HLexlZ0orsLNQAQfwerG5Ko1geJaeA0auU8mqzsbMrHNmuNlk27GYFiPnmpy3ekHIuRhJnkwsw8fHZSp5zgiR65ElYRDJdb7NCsNsib3VYNjNs7uIewhnEA/CTvKKfxoB9heHZUu7HqkJJrCK59Gzg0hGep5OXDIvQlFRYUxzeXPBVRxQnkpLB9H05a6KAytJkr@Ht9mEm/cvmc@zzK/8q189LX3@Cw" rel="nofollow noreferrer" title="Java (JDK) – Try It Online">Try it online!</a></p>
</div>
<div id="pu17" class="pu"><h1>Java 8, <s>88</s> 87 bytes</h1>

<pre class="lang-java prettyprint-override"><code>n-&gt;{for(int c=0,s=0,d,N=n;c!=2;s++)for(c=d=1,n+=n&lt;N?s:-s;d&lt;n;)if(n%++d&lt;1)c++;return n;}
</code></pre>
<p>Port of <a href="https://codegolf.stackexchange.com/a/182420/52210"><em>@NaturalNumberGuy</em>'s (first) C answer</a>, <strong>so make sure to upvote him!!</strong><br />
-1 byte thanks to <em>@OlivierGrégoire</em>.</p>
<p><a href="https://tio.run/##NU9BasMwELznFdtAwUKysVMCTWS1L6gvOYYcVEkuSpx1kOSUYnztA/rEfsSV3eSwAzs77Mwc5VWmR30aVSO9hzdpEfoFgMVgXC2VgWpaZwLqZEIkPDLDIoIPMlgFFSCIEdOXvm7drFEiZz6OZpVArh7EintKyXRWQouCIRVYVq9@m3quS@TE1gk@UqrLgihKuTOhcwjIh5FPTpfuvYlON8NrazWcY9ZkF5zFj/0BJPnPeU9gYQtoPqfc@0P/nLMiz9mabdj6acWKgcxigN2XD@actV3ILvFTaDCxdAm/3z@wpJjFxuRWdxj/AA" rel="nofollow noreferrer">Try it online.</a></p>
<p><strong>Explanation:</strong></p>
<pre class="lang-java prettyprint-override"><code>n-&gt;{               // Method with integer as both parameter and return-type
  for(int c=0,     //  Counter-integer, starting at 0
          s=0,     //  Step-integer, starting at 0 as well
          d,       //  Divisor-integer, uninitialized
          N=n;     //  Copy of the input-integer
      c!=2;        //  Loop as long as the counter is not exactly 2 yet:
      s++)         //    After every iteration: increase the step-integer by 1
    for(c=d=1,     //   (Re)set both the counter and divisor to 1
        n+=n&lt;N?    //   If the input is smaller than the input-copy:
            s      //    Increase the input by the step-integer
           :       //   Else:
            -s;    //    Decrease the input by the step-integer
        d&lt;n;)      //   Inner loop as long as the divisor is smaller than the input
      if(n%++d     //    Increase the divisor by 1 first with `++d`
              &lt;1)  //    And if the input is evenly divisible by the divisor:
        c++;       //     Increase the counter-integer by 1
  return n;}       //  Return the now modified input-integer as result
</code></pre>
</div>
<div id="pu18" class="pu"><h2><a href="https://www.mono-project.com/docs/about-mono/releases/5.0.0/#csc" rel="nofollow noreferrer">C# (Visual C# Interactive Compiler)</a>, <s>104</s> 100 bytes</h2>

<pre><code>n=&gt;{int r=0,t=0,m=n;while(r!=2){n+=(n&lt;m)?t:-t;t++;r=0;for(int i=1;i&lt;=n;i++)if(n%i==0)r++;}return n;}
</code></pre>

<p><a href="https://tio.run/##ZYyxCsJAEER7vyIWwh2XwBkR1M3GzsreDwh3uGBW2GywCPn281JqioHh8Wa6oeoGSreRu4ZYy5w2YmJsp1wLQV9qTo8Mnye9gpEt1nZih4ab3l71Uimoc5BNiG8xy4pwD9TkCTlnKRreEaK3krVZgo7CBcOcYPMQ0nAnDiaak7f2l@z9Ch3/wXllHOrVzwLSFw" rel="nofollow noreferrer">Try it online!</a></p>

<p><strong>Explanation:</strong></p>

<pre><code>int f(int n)
{
    int r = 0; //stores the amount of factors of "n"
    int t = 0; //increment used to cover all the integers surrounding "n"
    int m = n; //placeholder to toggle between adding or substracting "t" to "n"

    while (r != 2) //while the amount of factors found for "n" is different to 2 ("1" + itself)
    {
        n += (n &lt; m) ? t : -t; //increment/decrement "n" by "t" (-0, -1, +2, -3, +4, -5,...)
        t++;
        r = 0;
        for (int i = 1; i &lt;= n; i++) //foreach number between "1" and "n" increment "r" if the remainder of its division with "n" is 0 (thus being a factor)
            if (n % i == 0) r++; 
    }
    return n;
}

Console.WriteLine(f(80)); //79
</code></pre>
</div>
<div id="pu19" class="pu"><h1><a href="https://github.com/JCumin/Brachylog" rel="nofollow noreferrer">Brachylog</a>, <s>7</s> 5 bytes</h1>
<pre><code>;I≜-ṗ
</code></pre>
<p><a href="https://tio.run/##SypKTM6ozMlPN/r/39rzUecc3Yc7p///b2hgYPA/CgA" rel="nofollow noreferrer" title="Brachylog – Try It Online">Try it online!</a></p>
<p>Saved 2 bytes thanks to @DLosc.</p>
<h3>Explanation</h3>
<pre><code>;I≜      Label an unknown integer I (tries 0, then 1, then -1, then 2, etc.)
   -     Subtract I from the input
    ṗ    The result must be prime
</code></pre>
</div>
<div id="pu20" class="pu"><h1><a href="http://cython.org/" rel="nofollow noreferrer">Python 2 (Cython)</a>, 96 bytes</h1>



<pre class="lang-python prettyprint-override"><code>l=lambda p:min(filter(lambda p:all(p%n for n in range(2,p)),range(2,p*3)),key=lambda x:abs(x-p))
</code></pre>

<p><a href="https://tio.run/##PYxBCoAwDAS/kosQRS8VL4KPiVq1GGOoPdjX1yLoaXeGZTWG7RTTTG@mxAPTMc4E2h9OcHEcrMffETNqIbCcHgScgCdZLZpay7L@e9Vm2m38vu6exgvvJo@SeicBGbvWZHoA" rel="nofollow noreferrer" title="Python 2 (Cython) – Try It Online">Try it online!</a></p>
</div>
<div id="pu21" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="noreferrer">Wolfram Language (Mathematica)</a>, 31 bytes</h1>

<pre><code>Nearest[Prime~Array~78499,#,1]&amp;
</code></pre>

<p><a href="https://tio.run/##y00syUjNTSzJTE78n2b73y81sSi1uCQ6oCgzN7XOsagosbLO3MLE0lJHWccwVu0/UDyvxEErTd@h2sJAx9DAQMdUx1LH1NhIx7D2/38A" rel="noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>

<pre><code>                              &amp; (*pure function*)
        Prime~Array~78499       (*among the (ascending) first 78499 primes*)
                            1   (*select one*)
Nearest[                 ,#, ]  (*which is nearest to the argument*)
</code></pre>

<p>1000003 is the 78499th prime. <code>Nearest</code> prioritizes values which appear earlier in the list (which are lower).</p>
</div>
<div id="pu22" class="pu"><h1><a href="https://github.com/nxadm/rakudo-pkg" rel="nofollow noreferrer">Perl 6</a>, 35 bytes</h1>



<pre class="lang-perl6 prettyprint-override"><code>{$_+=($*=-1)*$++until .is-prime;$_}
</code></pre>

<p><a href="https://tio.run/##K0gtyjH7n1upoJKZV1BaomCrYGxqzQXkqyXl5CdnA/n/q1XitW01VLRsdQ01tVS0tUvzSjJzFPQyi3ULijJzU61V4mv/W3MVJ8L0aECM0vwPAA" rel="nofollow noreferrer" title="Perl 6 – Try It Online">Try it online!</a></p>

<p>This uses Veitcel's technique for generating the list of <code>0, -1, 2, -3</code> but simplifies it greatly to <code>($*=-1)*$++</code> using the anonymous state variables available in P6 (I originally had <code>-1 ** $++ * $++</code>, but when golfed the negative loses precedence).  There's a built in prime checker but unfortunately the <code>until</code> prevents the automagically returned value so there's an extra <code>$_</code> hanging around.</p>
</div>
<div id="pu23" class="pu"><h1><a href="https://github.com/abrudz/dyalog-apl-extended" rel="nofollow noreferrer">APL (Dyalog Extended)</a>, <s>20</s> 15 <a href="https://codegolf.meta.stackexchange.com/a/9429/43319" title="When can APL characters be counted as 1 byte each?">bytes</a><sup><a href="https://github.com/abrudz/SBCS" rel="nofollow noreferrer" title=".dyalog files using a single byte character set">SBCS</a></sup></h1>



<p>Tacit prefix function inspired by <a href="https://codegolf.stackexchange.com/a/182340/43319">Galen Ivanov's J answer</a>.</p>

<pre class="lang-apl prettyprint-override"><code>⊢(⊃⍋⍤|⍤-⊇⊢)¯2⍭⍳
</code></pre>

<p><a href="https://tio.run/##SyzI0U2pTMzJT9dNrShJzUtJTfn//1HXIo1HXc2Persf9S6pAWLdR13tQEHNQ@uNHvWufdS7@X/ao7YJj3r7HvVN9fQHKj203vhR20QgLzjIGUiGeHgG/09TsDDgSlMwNACRpkBsCaKNjYCkMQA" rel="nofollow noreferrer" title="APL (Dyalog Extended) – Try It Online">Try it online!</a></p>

<p><code>⍳</code> <strong>ɩ</strong>ndices one through the argument.</p>

<p><code>¯2⍭</code> nth primes of that</p>

<p><code>⊢(</code>…<code>)</code> apply the following tacit function to that, with the original argument as left argument:</p>

<p> <code>⊢</code> the primes</p>

<p> <code>⊇</code> indexed by:</p>

<p>  <code>⍋</code> the ascending grade (indices which would sort ascending)<br>
  <code>⍤</code> of<br>
  <code>|</code> the magnitude (absolute value)<br>
  <code>⍤</code> of<br>
  <code>-</code> the differences</p>

<p> <code>⊃</code> pick the first one (i.e. the one with smallest difference)</p>
</div>
<div id="pu24" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 67 bytes</h1>



<pre class="lang-ruby prettyprint-override"><code>def p n;n.prime?;end;def a b,c=0;p(b-c)?b-c:p(b+c)?b+c:a(b,c+1);end
</code></pre>

<p><a href="https://tio.run/##KypNqvxflFpYmlmUqqBeUJSZm6r@PyU1TaFAIc86Tw8sYG@dmpdiDRJMVEjSSbY1sC7QSNJN1rQHElZApjaIqZ1slagBlNU21AQp/19QWlKskKhhYaDJBWUaGiDYpnCWJULM2AihVvM/AA" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
</div>
<div id="pu25" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, 5 bytes</h1>
<pre><code>_j}cU
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;code=X2p9Y1U&amp;input=NA" rel="nofollow noreferrer">Try it</a> or <a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;flags=LW0&amp;code=X2p9Y1U&amp;input=WzgwLDEwMCw1LDksNTMyLDFd" rel="nofollow noreferrer">run all test cases</a></p>
<pre><code>_j}cU     :Implicit input of integer U
_         :Function taking an integer as an argument
 j        :  Test if integer is prime
  }       :End function
   cU     :Return the first integer in [U,U-1,U+1,U-2,...] that returns true
</code></pre>
</div>
<div id="pu26" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="noreferrer">05AB1E</a>, 4 bytes</h1>

<pre><code>z-Ån
</code></pre>

<p><a href="https://tio.run/##yy9OTMpM/V9TVmmvpKBrp6BkX1n5v0r3cGvef53/FgZchgYGXKZcllymxkZchgA" rel="noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>
</div>
<div id="pu27" class="pu"><h1><a href="https://factorcode.org/" rel="nofollow noreferrer">Factor</a>, 91 bytes</h1>

<pre><code>: p ( x -- x ) [ nprimes ] keep dupd [ - abs ] curry map swap zip natural-sort first last ;
</code></pre>

<p><a href="https://tio.run/##LY07DsJADER7TjElFBvxERKEAyCaNIgKUSzBQETYLLYjCJcPTkLz7BnLM1efa8XtYb/Ltim8SJULHsSBSjy93nskkYsnCSKTamMiKIReNYXcXKlYi3DDZrTLUmTkmURd/9KmiBjjA@cMExwR/lEnK6GISx0v5jr4c@flNXNjlRHyNnyLiOC1Zl@6rgXXgkVResOmXU0tPBnNpsNc9lwP@2I@3Dq2Pw" rel="nofollow noreferrer" title="Factor – Try It Online">Try it online!</a></p>
</div>
<div id="pu28" class="pu"><h1><a href="https://github.com/maxbergmark/mathgolf/blob/master/create_explanation.py" rel="nofollow noreferrer">MathGolf</a>, 10 <a href="https://github.com/maxbergmark/mathgolf/blob/master/code_page.py" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>∞╒g¶áÅ-±├Þ
</code></pre>
<p><a href="https://tio.run/##ATEAzv9tYXRoZ29sZv//4oie4pWSZ8K2w6HDhS3CseKUnMOe//84MAoxMDAKNQo5CjUzMgox" rel="nofollow noreferrer">Try it online.</a></p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>∞            # Double the (implicit) input-integer
 ╒           # Create a list in the range [1, 2*n]
  g¶         # Filter so only the prime numbers remain
    áÅ       # Sort this list using the next two character:
      -±     #  The absolute difference with the (implicit) input-integer
        ├    # Push the first item of the list
             # (unfortunately without popping the list itself, so:)
         Þ   # Discard everything from the stack except for the top
             # (which is output implicitly as result)
</code></pre>
</div>
<div id="pu29" class="pu"><h1><a href="https://docs.python.org/2/" rel="noreferrer">Python 2</a>, 71 bytes</h1>



<pre class="lang-python prettyprint-override"><code>f=lambda n,k=1,p=1:k&lt;n*3and min(k+n-p%k*2*n,f(n,k+1,p*k*k)-n,key=abs)+n
</code></pre>

<p><a href="https://tio.run/##HctBDoMgEEbhdXuK2ZjAgEmhO1MOg1EsmfpLqBtPT0mXL/leuc73Ad9aCp@4z0skWAnOluAmeYGfEQvtGUoMxjIIe4ZNqiPTEQuLHnusV4jzVxu0dFQCZVCN2FblrH/o6X4rNeOk/6rbDw" rel="noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>

<p>A recursive function that uses the <a href="https://codegolf.stackexchange.com/a/27022/20260">Wilson's Theorem</a> prime generator. The product <code>p</code> tracks <span class="math-container">\$(k-1)!^2\$</span>, and <code>p%k</code> is 1 for primes and 0 for non-primes. To make it easy to compare <code>abs(k-n)</code> for different primes <code>k</code>, we store <code>k-n</code> and compare via <code>abs</code>, adding back <code>n</code> to get the result <code>k</code>.</p>

<p>The expression <code>k+n-p%k*2*n</code> is designed to give <code>k-n</code> on primes (where <code>p%k=1</code>), and otherwise a "bad" value of <code>k+n</code> that's always bigger in absolute value and so doesn't affect the minimum, so that non-primes are passed over.</p>
</div>
<div id="pu30" class="pu"><h1><a href="https://www.gnu.org/software/octave/" rel="nofollow noreferrer">Octave</a>, 40 bytes</h1>



<pre class="lang-matlab prettyprint-override"><code>@(n)p([~,k]=min(abs(n-(p=primes(2*n)))))
</code></pre>

<p><a href="https://tio.run/##y08uSSxL/Z9mq6en999BI0@zQCO6Tic71jY3M08jMalYI09Xo8C2oCgzN7VYw0grTxME/qdpWBhocqVpGBqAKVMQYQlmGRuBxTX/AwA" rel="nofollow noreferrer" title="Octave – Try It Online"><strong>Try it online!</strong></a></p>

<p>This uses the fact that there is always a prime between <code>n</code> and <code>2*n</code> (<a href="https://en.wikipedia.org/wiki/Bertrand%27s_postulate" rel="nofollow noreferrer">Bertrand–Chebyshev theorem</a>).</p>

<h3>How it works</h3>

<pre class="lang-matlab prettyprint-override"><code>@(n)p([~,k]=min(abs(n-(p=primes(2*n)))))

@(n)                                      % Define anonymous function with input n
                       p=primes(2*n)      % Vector of primes up to 2*n. Assign to p
                abs(n-(             ))    % Absolute difference between n and each prime
      [~,k]=min(                      )   % Index of first minimum (assign to k; not used)
    p(                                 )  % Apply that index to p
</code></pre>
</div>
<div id="pu31" class="pu"><h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, <s>19</s> 15  bytes</h1>

<pre><code>(0{]/:|@-)p:@i.
</code></pre>

<p><a href="https://tio.run/##y/qfVmyrp2CgYKVg8F/DoDpW36rGQVezwMohU@@/JpeSnoJ6mq2euoKOQq2VQloxF1dqcka@QpqChQGMZWgAZ5rCGJZwEWMjuLr/AA" rel="nofollow noreferrer" title="J – Try It Online">Try it online!</a></p>
</div>
<div id="pu32" class="pu"><h1>Python 2, 93 bytes</h1>



<pre class="lang-python prettyprint-override"><code>lambda n:sorted(range(1,3*n),key=lambda x:abs(x-n)if all(x%k for k in range(2,x))else 2*n)[0]
</code></pre>
</div>
<div id="pu33" class="pu"><h1><a href="https://github.com/ConorOBrien-Foxx/Tidy" rel="nofollow noreferrer">Tidy</a>, 43 bytes</h1>

<pre><code>{x:(prime↦splice(]x,-1,-∞],[x,∞]))@0}
</code></pre>

<p><a href="https://tio.run/##K8lMqfyfpmBlq/C/usJKo6AoMzf1Uduy4oKczORUjdgKHV1DHd1HHfNidaIrdEC0pqaDQe3/kmSQlmQNCwMdBUMDIGGqo2AJJI2NgHxNrmqFCgUrhfKizJLUnDyNCh0FJQVdOwUlHYU0jQpNTYVahfw8hZLk/wA" rel="nofollow noreferrer" title="Tidy – Try It Online">Try it online!</a></p>

<h2>Explanation</h2>

<p>This is a lambda with parameter <code>x</code>. This works by creating the following sequence:</p>

<pre><code>[x - 1, x, x - 2, x + 1, x - 3, x + 2, x - 4, x + 3, ...]
</code></pre>

<p>This is splicing together the two sequences <code>]x, -1, -∞]</code> (left-closed, right-open) and <code>[x, ∞]</code> (both open).</p>

<p>For <code>x = 80</code>, this looks like:</p>

<pre><code>[79, 80, 78, 81, 77, 82, 76, 83, 75, 84, 74, 85, ...]
</code></pre>

<p>Then, we use <code>f↦s</code> to select all elements from <code>s</code> satisfying <code>f</code>. In this case, we filter out all composite numbers, leaving only the prime ones. For the same <code>x</code>, this becomes:</p>

<pre><code>[79, 83, 73, 71, 89, 67, 97, 61, 59, 101, 103, 53, ...]
</code></pre>

<p>Then, we use <code>(...)@0</code> to select the first member of this sequence. Since the lower of the two needs to be selected, the sequence which starts with <code>x - 1</code> is spliced in first.</p>

<p>Note: Only one of <code>x</code> and <code>x - 1</code> can be prime, so it is okay that the spliced sequence starts with <code>x - 1</code>. Though the sequence could be open on both sides (<code>[x,-1,-∞]</code>), this would needlessly include <code>x</code> twice in the sequence. So, for sake of "efficiency", I chose the left-closed version (also because I like to show off Tidy).</p>
</div>
<div id="pu34" class="pu"><h1><a href="https://github.com/splcurran/Gaia" rel="noreferrer">Gaia</a>, 3 bytes</h1>

<pre><code>ṅD⌡
</code></pre>

<p><a href="https://tio.run/##S0/MTPz//@HOVpdHPQv//zc1NgIA" rel="noreferrer" title="Gaia – Try It Online">Try it online!</a></p>

<p>Rather slow for large inputs, but works given enough memory/time.</p>

<p>I'm not sure why <code>D⌡</code> implicitly pushes <code>z</code> again, but it makes this a remarkably short answer!</p>

<pre><code>ṅ&#9;| implicit input z: push first z prime numbers, call it P
 D⌡&#9;| take the absolute difference between P and (implicit) z,
&#9;| returning the smallest value in P with the minimum absolute difference
</code></pre>
</div>
<div id="pu35" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, <s>9</s> 7 bytes</h1>

<pre><code>ḤÆRạÞµḢ
</code></pre>

<p><a href="https://tio.run/##AR0A4v9qZWxsef//4bikw4ZS4bqhw57CteG4ov///zk5OQ" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>

<p>Slow for larger input, but works ok for the requested range.  Thanks to @EriktheOutgolfer for saving 2 bytes!</p>
</div>
<div id="pu36" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 14 bytes</h1>

<pre><code>ÆpæRÆnạÞƲ2&gt;?2Ḣ
</code></pre>

<p><a href="https://tio.run/##ASIA3f9qZWxsef//w4Zww6ZSw4Zu4bqhw57GsjI@PzLhuKL///8x" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
</div>
<div id="pu37" class="pu"><p><strong>Swift, 186 bytes</strong></p>

<pre><code>func p(a:Int){let b=q(a:a,b:-1),c=q(a:a,b:1);print(a-b&lt;=c-a ? b:c)}
func q(a:Int,b:Int)-&gt;Int{var k=max(a,2),c=2;while k&gt;c &amp;&amp; c != a/2{if k%c==0{k+=b;c=2}else{c=c==2 ? c+1:c+2}};return k}
</code></pre>

<p><a href="https://tio.run/##PY7NCsIwEITvPsV6UBraoo16Sd169jGSJcWSGvqTWiHk2Wuq4GVghuGbGeemdudlqSdL0CVS3K1jvtUOFPbRykyJvGAZ/V3Bym5orEtkrq5IuYQbKEEsbL6M/seIxZWUV1H9Sw5g8Cnficz4yuLl/GhaDaYi2O@BYIsgD9w3NZgdIR69SVGVsRh0O2pPGEMehygtBKU8hHLQbhosmLCsry8nzpYP" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu38" class="pu"><h1>APL(NARS), 38 chars, 76 bytes</h1>
<pre><code>{⍵≤1:2⋄0π⍵:⍵⋄d←1π⍵⋄(d-⍵)≥⍵-s←¯1π⍵:s⋄d}
</code></pre>
<p>0π is the test for prime, ¯1π the prev prime, 1π is the next prime; test:</p>
<pre><code>  f←{⍵≤1:2⋄0π⍵:⍵⋄d←1π⍵⋄(d-⍵)≥⍵-s←¯1π⍵:s⋄d}
  f¨80 100 5 9 532 1
79 101 5 7 523 2 
</code></pre>
</div>
<div id="pu39" class="pu"><h1>JavaScript (ES6), 53 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>n=&gt;(g=(o,d=N=n+o)=&gt;N%--d?g(o,d):d-1?g(o&lt;0?-o:~o):N)``
</code></pre>
<p><a href="https://tio.run/##y0osSyxOLsosKNHNy09J/Z9m@z/P1k4j3VYjXyfF1s82Tztf09bOT1VXN8U@HSSmaZWiawhi2hjY6@Zb1eVrWvlpJiT8T87PK87PSdXLyU/XSNOwMNDU5EIVMjTAFDPFELHEVGNshGmWpuZ/AA" rel="noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Commented</h3>
<pre class="lang-javascript prettyprint-override"><code>n =&gt; (            // n = input
  g = (           // g = recursive function taking:
    o,            //   o = offset
    d =           //   d = current divisor, initialized to N
    N = n + o     //   N = input + offset
  ) =&gt;            //
    N % --d ?     // decrement d; if d is not a divisor of N:
      g(o, d)     //   do recursive calls until it is
    :             // else:
      d - 1 ?     //   if d is not equal to 1 (either N is composite or N = 1):
        g(        //     do a recursive call with the next offset:
          o &lt; 0 ? //       if o is negative:
            -o    //         make it positive (e.g. -1 -&gt; +1)
          :       //       else:
            ~o    //         use -(o + 1) (e.g. +1 -&gt; -2)
        )         //     end of recursive call
      :           //   else (N is prime):
        N         //     stop recursion and return N
)``               // initial call to g with o = [''] (zero-ish)
</code></pre>
</div>
<div id="pu40" class="pu"><h1><a href="http://www.mono-project.com/docs/about-mono/releases/5.0.0/#csc" rel="nofollow noreferrer">C# (Visual C# Interactive Compiler)</a>, 112 bytes</h1>



<pre class="lang-cs prettyprint-override"><code>g=&gt;Enumerable.Range(2,2&lt;&lt;20).Where(x=&gt;Enumerable.Range(1,x).Count(y=&gt;x%y&lt;1)&lt;3).OrderBy(x=&gt;Math.Abs(x-g)).First()
</code></pre>

<p><a href="https://tio.run/##bcxBC4JAFATgu7@iS/Ae6OIqQeEqVOSpCLp4VnvqQm2wu8L66zc7lh3m8jEzrYlaI305qlZIZcM5xarLfZ8XJzU@SdfNg9itVj1BEiZC8BhZNZAmcH8qPHTIjq9RWZjywq0nwVGkyK76TvowfTaX2g5s3xhwUY/ISqmNBfRZEFRaWjpLRdDBNkbMvoTHC9r8wm7RSJPFzwz@DQ" rel="nofollow noreferrer" title="C# (Visual C# Interactive Compiler) – Try It Online">Try it online!</a></p>

<p>Left shifts by 20 in submission but 10 in TIO so that TIO terminates for test cases. </p>
</div>
<div id="pu41" class="pu"><h1>Pyth, 10 bytes</h1>
<pre><code>haDQfP_TSy
</code></pre>
<p>Try it online <a href="https://pyth.herokuapp.com/?code=haDQfP_TSy&amp;input=1000&amp;debug=0" rel="nofollow noreferrer">here</a>, or verify all the test cases at once <a href="https://pyth.herokuapp.com/?code=haDQfP_TSy&amp;test_suite=1&amp;test_suite_input=80%0A100%0A5%0A9&amp;debug=0" rel="nofollow noreferrer">here</a>.</p>
<pre><code>haDQfP_TSyQ   Implicit: Q=eval(input())
              Trailing Q inferred
         yQ   2 * Q
        S     Range from 1 to the above
    f         Filter keep the elements of the above, as T, where:
     P_T        Is T prime?
  D           Order the above by...
 a Q          ... absolute difference between each element and Q
                This is a stable sort, so smaller primes will be sorted before larger ones if difference is the same
h             Take the first element of the above, implicit print
</code></pre>
</div>
<div id="pu42" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="noreferrer">05AB1E</a>, 5 bytes</h1>

<pre><code>Åps.x
</code></pre>

<p><a href="https://tio.run/##yy9OTMpM/f//cGtBsV7F//@GxsbmAA" rel="noreferrer" title="05AB1E – Try It Online">Try it online!</a>
or as a <a href="https://tio.run/##yy9OTMpM/V9TVmmvpKBrp6BkX1n5/3BrQbFexX@d/xYGXIYGBlymXJYA" rel="noreferrer">Test Suite</a></p>

<p>Inefficient for big numbers</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/182305/">182305</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




