<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::263650</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>371</td><td>Python 3</td><td>230803T235855Z</td><td><a href="https://codegolf.stackexchange.com/questions/263650/s-n-a-k-e-a-r-o-u-n-d/263676#263676">anderium</a></td></tr>
<tr d-ix="1"><td>371</td><td>Javascript</td><td>230803T172940Z</td><td><a href="https://codegolf.stackexchange.com/questions/263650/s-n-a-k-e-a-r-o-u-n-d/263668#263668">ccprog</a></td></tr>
<tr d-ix="2"><td>078</td><td>Pyth</td><td>230803T221935Z</td><td><a href="https://codegolf.stackexchange.com/questions/263650/s-n-a-k-e-a-r-o-u-n-d/263673#263673">CursorCo</a></td></tr>
<tr d-ix="3"><td>279</td><td>K ngn/k</td><td>230803T095734Z</td><td><a href="https://codegolf.stackexchange.com/questions/263650/s-n-a-k-e-a-r-o-u-n-d/263659#263659">doug</a></td></tr>
<tr d-ix="4"><td>481</td><td>Python3</td><td>230803T162027Z</td><td><a href="https://codegolf.stackexchange.com/questions/263650/s-n-a-k-e-a-r-o-u-n-d/263667#263667">Ajax1234</a></td></tr>
<tr d-ix="5"><td>061</td><td>Charcoal</td><td>230803T153908Z</td><td><a href="https://codegolf.stackexchange.com/questions/263650/s-n-a-k-e-a-r-o-u-n-d/263665#263665">Neil</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 371 bytes</h1>
<pre class="lang-python prettyprint-override"><code>def f(s,n):
 for y in range(n):
  for x in range(n):
   r=min(x,y,n-x-1,n-y-1);i=4*r*(n-r)-2*r+x+y+2*((n-r-1-x)+(n-r-1-y)*(y+x&lt;n-1))*(y&gt;x);H=(x&lt;n-y-1or x&lt;y)and(x&gt;y-2or x&gt;n-y-2)
   if i&lt;len(s):c=s[i]
   elif x+1-(n%2)==y==n//2:c=&quot;&lt;&gt;&quot;[n%2]
   elif(n-2-2*x)*(x+1&gt;n/2)+x==y-1:c=&quot;.&quot;
   elif(n-1-2*x)*(x+1&gt;n/2)+x==n-y-1:c=&quot;'&quot;
   else:c=&quot;|-&quot;[H]
   print(c,end=&quot; -&quot;[H])
  print()
</code></pre>
<p><a href="https://tio.run/##bZDBS8MwFMbP618RCtKkTRzNpoyt6cGDDG@Ct@GhrKkL615KumEC/u81qdM58RLe@33fy/d4nTvuNMwWnRmGWjaowT0FsoxQow1ySAEyFbxJPLIR2r8QGXFQgC11FJhluX8dy8lKiXlqUgzMEMZTk9nMZTzFAbCcWZKdK0dS7DJbgB8KZWnJai1wAP6fkFg4UkGNbekYD30ZFE5CtmqQKloJuCfLreg36jVQ2Xpus5xhuOFECCcETKfcO@KijDce/tj8EtyvZ32yHyhhyklm/QTLg/s2/uXL//GNOwZncnb2MnQfLN6sx4zOKDjiLZVQixiNOCz@hckQLqouF51TtPBHnTQ46aHay8roE9QJVSSanEeiyIugdd3KQwUJnZPoW7kW7i9CUF528vmktvsHo9/hUdun06HrE3p37epaWfUSdEJnZPgE" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
<p>Instead of most other solutions (as far as I can tell), I tried calculating the index into the string.  I dug up a post on <a href="https://stackoverflow.com/a/18786566/11298075">StackOverflow</a> that helped with this, though a lot was just throwing random equations and seeing what they do.  I'm rather certain the equations can be golfed further if I'd actually think about what I'm doing.</p>
<p>The obvious next step is to replace <code>- x - 1</code> with <code>+~x</code>, and the similar tricks with inverse.</p>
<p>Ungolfed:</p>
<pre class="lang-python prettyprint-override"><code>def function(string: str, number: int):
  for y in range(number):
    for x in range(number):
      is_up_corner = x + (number - 2 - 2 * x) * (x + 1 &gt; number / 2) == y - 1
      is_down_corner = x + (number - 1 - 2 * x) * (x + 1 &gt; number / 2) == number - y - 1
      is_middle = x + 1 - (number % 2) == y == number // 2
      # is_left_corner = y + (number - 2 * y) * (y &gt; number / 2) == x + 1
      # is_right_corner = y + (number - 1 - 2 * y) * (y &gt; number / 2) != number - x - 1

      rounds = min(x, y, number - x - 1, number - y - 1)
        # sum of increments per round and fix for overcounting
      index = 4 * rounds * (number - rounds) - 2 * rounds
      index += x  # east increment
      index += y  # south increment
      index += 2 * (number - rounds - 1 - x) * (y &gt; x)  # west
      index += 2 * (number - rounds - 1 - y) * (y + x &lt; number - 1) * (y &gt; x)  # north

      is_horizontal = ((x &lt; y or x &lt; number - y - 1)
                       and (x &gt; y - 2 or x &gt; number - y - 2))
      if index &lt; len(string):
        character = string[index]
      elif is_middle:
        character = &quot;&lt;&gt;&quot;[number % 2]
      elif is_up_corner:
        character = &quot;.&quot;
      elif is_down_corner:
        character = &quot;'&quot;
      elif is_horizontal:
        character = &quot;-&quot;
      else:
        character = &quot;|&quot;
      print(character, end='-' if is_horizontal else ' ')
    print()
</code></pre>
</div>
<div id="pu1" class="pu"><h2>Javascript, <s>384</s> 371 bytes</h2>
<pre><code>s=(S,n)=&gt;(t=[...S],A=Array,a=A.from(A(n),r=&gt;A(2*n+1).fill(e=' ')),x=y=0,p=(c,f)=&gt;(a[y][x]=x&amp;1?t.shift()||c:c,f?.()),d=()=&gt;(++y&lt;n-1&amp;&amp;a[y+1][x]==e?p('|',d):p(&quot;'&quot;,l)),l=()=&gt;(--x&gt;1&amp;&amp;a[y][x-2]==e?p('-',l):a[y-1][x]!=e?p`&lt;`:p(&quot;'&quot;,u)),u=()=&gt;(--y&gt;0&amp;&amp;a[y-1][x]==e?p('|',u):p(&quot;.&quot;,r)),(r=()=&gt;(++x&lt;2*n&amp;&amp;a[y][x+2]==e?p('-',r):a[y+1][x]!=e?p`&gt;`:p(&quot;.&quot;,d)))(),a.map(r=&gt;r.join``).join`
`)
</code></pre>
<p>-13 bytes saved thanks to Samathingamajig</p>
<h3>Try out</h3>
<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>s=(S,n)=&gt;(t=[...S],A=Array,a=A.from(A(n),r=&gt;A(2*n+1).fill(e=' ')),x=y=0,p=(c,f)=&gt;(a[y][x]=x&amp;1?t.shift()||c:c,f?.()),d=()=&gt;(++y&lt;n-1&amp;&amp;a[y+1][x]==e?p('|',d):p("'",l)),l=()=&gt;(--x&gt;1&amp;&amp;a[y][x-2]==e?p('-',l):a[y-1][x]!=e?p`&lt;`:p("'",u)),u=()=&gt;(--y&gt;0&amp;&amp;a[y-1][x]==e?p('|',u):p(".",r)),(r=()=&gt;(++x&lt;2*n&amp;&amp;a[y][x+2]==e?p('-',r):a[y+1][x]!=e?p`&gt;`:p(".",d)))(),a.map(r=&gt;r.join``).join`
`)


console.log(s('snake', 4))
console.log(s('snakearound', 5))
console.log(s('snakearoundandround', 6))</code></pre>
</div>
</div>
</p>
<h2>Ungolfed</h2>
<pre><code>s = (S,n) =&gt; {
  t = [...S];
  a = Array.from(Array(n),r=&gt;Array(2*n+1).fill(e=' '));
  x = y = 0;
  p = (c,f) =&gt; {
    a[y][x] = x&amp;1 ? t.shift()||c : c;
    f?.();
  };
  d = () =&gt; {
    if (++y &lt; n-1 &amp;&amp; a[y+1][x] == e) {
      p('|', d);
    } else {
      p(&quot;'&quot;, l);
    }
  };
  l = () =&gt; {
    if (--x &gt; 1 &amp;&amp; a[y][x-2] == e) {
      p('-',l);
    } else if (a[y-1][x] != e) {
      p('&lt;');
    } else {
      p(&quot;'&quot;,u);
    }
  };
  u = () =&gt; {
    if (--y &gt; 1 &amp;&amp; a[y-1][x] == e) {
      p('|', u);
    } else {
      p(&quot;'&quot;, r);
    }
  };
  (r = () =&gt; {
    if (++x &lt; 2*n &amp;&amp; a[y][x+2] == e) {
      p('-',r);
    } else if (a[y+1][x] != e) {
      p('&gt;');
    } else {
      p(&quot;.&quot;, d);
    }
  })();
  
  return a.map(r =&gt; r.join('')).join('\n');
}
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/isaacg1/pyth" rel="nofollow noreferrer">Pyth</a>, 78 bytes</h1>
<pre><code>ju&amp;K&gt;*hhHH+z&gt;s.i_Psm*Rd&quot;-|&quot;Qs@L_B&quot;.'&quot;tQlz.e++b?%klGd\-@K+Hk+j\-&lt;KH__MGStQ]@&quot;&lt;&gt;
</code></pre>
<p><a href="https://tio.run/##K6gsyfj/P6tUzdtOKyPDw0O7yq5YLzM@oDhXKyhFSbdGKbDYwSfeSUlPXakkMKdKL1VbO8leNTvHPSVG18Fb2yNbOytG18bbIz7e1z24JDDWQcnG7v9/U67ivMTs1MSi/NK8FAA" rel="nofollow noreferrer" title="Pyth – Try It Online">Try it online!</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://codeberg.org/ngn/k" rel="nofollow noreferrer">K (ngn/k)</a>, <s>337</s> <s>331</s> <s>315</s> <s>290</s> 279 bytes</h1>
<pre><code>j:{0,+\(-1+2*x)/*/1(*\'1+-2*&lt;':')\~:\2_((#l)#!2)@&amp;l:,/+|1(2*1+)\|!x}
f:{t:@[&quot;|-&quot;{1=x|-x}d;(-1+&amp;~^l;!#y);:;(&quot;..''&quot;(~^:)#l:(,/-:\1,w:-1+2*x)?*/1(~=':)\d:-':i:j[x];y:,/((#l)#(&quot;-&quot;;&quot;&quot;)){x/y}',''l:(0,((#y)&gt;)#+\(0,(-1+#l)#-1 1)+l:1_|1+&amp;x#2)_y)];(x,w)#@[(x*w)#&quot; &quot;;(i;*|i);:;(t;&quot;&lt;&gt;&quot;2!x)]}
</code></pre>
<p><a href="https://ngn.codeberg.page/k#eJw9j8tugkAUhvc8BR4SZw4MxSFqkzNqTRdddNekO0BriqYoQuMlDuHy7B21cXVy8n/5L1uqB8KLuS+90NUYuIHkbsyk54fuhBHDuKM4XHLu5Oj0Qpz3cxKB10geutLDuOnp1tpQfaJ5BI0PtZzqxtdtqq6W/W6Rq55ToSLF4emJMeDdgtDJiYvAp1iKC/1Hv1yjuykjjFPyGWW0jXSiKhN3T+fggwJArHVQtUwwZlwGwogVztAxI8xjzK6sL22JXk5y2ZgW2glxWWGiuBYXdOYR1665YIPimXKb7NbvpGAyg7CnMWkt62tAzAzlQ0cAqE2k4FisduvVoTwXKSRsaI/ssf2M6kGGD7IoyzRf71fFjRvfGW5UFJtopODzZ/1xzr53r4fyUryV+v28/z1CYv0Bbedj4g==" rel="nofollow noreferrer">Try it online!</a></p>
<p>-6  : Save a few bytes with shorter names.<br/>
-16 : Tidying up<br/>
-25 : Cruft<br/>
-11 : Golfing gets me back under limits</p>
</div>
<div id="pu4" class="pu"><h1>Python3, 481 bytes</h1>
<pre class="lang-py prettyprint-override"><code>R=range
def f(n,s):
 r=[[' 'for y in R(2*n-1)]for x in R(n)];x,y=0,0;X,Y=0,1;C=1;K=0
 while 1:
  K+=1
  if s:
   r[x][y]=['-',s[0]][C%2 or X!=0];s=s[C%2 or X!=0:];C+=1
  else:r[x][y]=['-','|'][X!=0]
  if Y and(y+Y==2*n-1or y+Y&lt;0 or(0&lt;=y+2*Y&lt;2*n-1and' '!=r[x][y+2*Y])):
   if K==2:r[x][y]=['&lt;','&gt;'][Y&gt;0];return r
   if r[x][y]in'-|':r[x][y]=['\'','.'][Y&gt;0]
   X,Y=Y,0
  elif X and(x+X==n or' '!=r[x+X][y]):
   if r[x][y]in'-|':r[x][y]=['\'','.'][X&lt;0]
   X,Y=0,-X;C=0;K=0
  x+=X;y+=Y
</code></pre>
<p><a href="https://tio.run/##nZFPb9swDMXP86dQD4PsWinkdP8Qmz0swA7LacUONjwdjEVetKaUISWoDfS7p5SdrSkwYFtOgmn@3nsku2G3sXj9oXOHwy24Bn/oaK1b1sYofLKImIO65oy31rGBGWS38fwSZ1miQqWfKpiovBcDSCHzUlT0ZvkSsnwFMmIPG7PVLCMptkoho8e0zIdP5upe1YOCms@48LVUql6@njMSLi9AqtyDPy0sVL6cFPTW68ULmj9yVY/UZFCxBtfxkFYAY94QP60KSVqxLGBI55dVMf6hPprvAia5UFdJMsYjmRXhJ0YFGd2QUXVD6Zze7R0yd2w9dhnks0d@wnzjBF0dodAbNlQJOY5BXDkm7dMSACndryxpGfjfQf6qXhbP6lLMSjqAnA7A@hTKfEihOoSbmXCzNn4juMfmTjfO7mkDZPSqcwZ3MedXP63B2CRJNFWS6IR7eyb37kzu/ZkczYfWrrf6vsH/SnkGRTv5utFf9ub73UdnH/CT7T/v7zv/7wrXgndb3XiN9s/Q4Qk" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 61 bytes</h1>
<pre><code>Ｆ⮌Ｓ⊞υιＮηＦ⊖η«Ｆ⊖⁻ηι⎇υ⁺⊟υ-²↷²⎇υ⊟υ§.'ιＦ⁻⁻ηι²⎇υ⊟υ¹↷²⎇υ⊟υ§'.ι¹»§&lt;&gt;η
</code></pre>
<p><a href="https://tio.run/##nZDPisIwEMbP9ilCL05ABb14qAgLe/GgFHdfINuOJlgTmSZFWfbZs9NWVBAvXsL8@b7fN6TQigqnqhh3jgRssUGqEVb2FPyXJ2P3IKUUeag1hJEwMku63SYcf5BAc98ZP7EgPKL1WPJQit9k8DRfGxtq0C2lRTLcwzeSVXRp2XnF29ydIMiRSMcpvzPJ/EFuGue3Zq89zLr@yXk1ffiVLfEM6WSY9inZ9Yw@@uGAji1ekqZvBg8n9@BePeXyL@nrm2yxZBl/UxZjbdUBFblgy2Qex031Dw" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>Ｆ⮌Ｓ⊞υι
</code></pre>
<p>Get the reverse of the input into a stack, so that characters can be processed by popping from it.</p>
<pre><code>Ｎη
</code></pre>
<p>Input <code>n</code>.</p>
<pre><code>Ｆ⊖η«
</code></pre>
<p>Repeat <code>n-1</code> times. The loop counter is taken as an ascending number for the purposes of calculating which corner character to print, but for the side lengths I show how the actual number of repetitions of the inner loops vary.</p>
<pre><code>Ｆ⊖⁻ηι
</code></pre>
<p>Repeat from <code>n-1</code> down to once...</p>
<pre><code>⎇υ⁺⊟υ-²
</code></pre>
<p>... output the next character followed by a <code>-</code>, or two <code>-</code>s if none.</p>
<pre><code>↷²
</code></pre>
<p>Start moving vertically.</p>
<pre><code>⎇υ⊟υ§.'ι
</code></pre>
<p>Output the next character or <code>.</code> or <code>'</code> appropriately if there are none left.</p>
<pre><code>Ｆ⁻⁻ηι²
</code></pre>
<p>Repeat from <code>n-2</code> down to zero...</p>
<pre><code>⎇υ⊟υ¹
</code></pre>
<p>... output the next character or <code>|</code> if there are none left.</p>
<pre><code>↷²
</code></pre>
<p>Start moving horizontally, but in the other direction.</p>
<pre><code>⎇υ⊟υ§'.ι¹
</code></pre>
<p>Output the next character or <code>'</code> or <code>.</code> appropriately if there are none left.</p>
<pre><code>»§&lt;&gt;η
</code></pre>
<p>Output the head of the snake.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/263650/">263650</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




