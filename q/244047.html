<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::244047</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>081</td><td>JavaScript Node.js</td><td>231205T000735Z</td><td><a href="https://codegolf.stackexchange.com/questions/244047/sort-musical-pitches/267288#267288">l4m2</a></td></tr>
<tr d-ix="1"><td>083</td><td>Python 3</td><td>220313T140029Z</td><td><a href="https://codegolf.stackexchange.com/questions/244047/sort-musical-pitches/244069#244069">Lecdi</a></td></tr>
<tr d-ix="2"><td>070</td><td>Ruby</td><td>220314T092813Z</td><td><a href="https://codegolf.stackexchange.com/questions/244047/sort-musical-pitches/244119#244119">G B</a></td></tr>
<tr d-ix="3"><td>029</td><td>Jelly</td><td>220313T173555Z</td><td><a href="https://codegolf.stackexchange.com/questions/244047/sort-musical-pitches/244079#244079">Jonathan</a></td></tr>
<tr d-ix="4"><td>083</td><td>APL+WIN</td><td>220313T144131Z</td><td><a href="https://codegolf.stackexchange.com/questions/244047/sort-musical-pitches/244071#244071">Graham</a></td></tr>
<tr d-ix="5"><td>086</td><td>JavaScript ES6</td><td>220313T105422Z</td><td><a href="https://codegolf.stackexchange.com/questions/244047/sort-musical-pitches/244057#244057">Arnauld</a></td></tr>
<tr d-ix="6"><td>095</td><td>Retina 0.8.2</td><td>220313T102414Z</td><td><a href="https://codegolf.stackexchange.com/questions/244047/sort-musical-pitches/244053#244053">Neil</a></td></tr>
<tr d-ix="7"><td>099</td><td>JavaScript Node.js</td><td>220313T101317Z</td><td><a href="https://codegolf.stackexchange.com/questions/244047/sort-musical-pitches/244051#244051">ophact</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 81 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>a=&gt;a.sort((a,b)=&gt;(g=([a,b,c])=&gt;(c|b)*7+('0x'+a-5||4)%7-(c?b&gt;g?.6:-.6:0))(a)-g(b))
</code></pre>
<p><a href="https://tio.run/##bY3NCoJQEIX3PUUo4Ux6RcofCFTUrIcQF/feVArxhkq08N1Np120mO@cMzBnHvzFB9nfnyPr1K2a63DmYcTtQfUjALcEhhE0IRSLtWS5JjkJ3AcmGM7bMDnzpsnFXcBAxiJqYts/sWUcRODIGhCIs1TdoNrKblUDNRRactCsrZYSM@KZmBMvxCsxOWol4ua3IPfoSCf5E1KXVuQzYuL@L9J9eilI0m/KREASrCfzBw" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>Notice that we needn't care whether difference between each pair of letter is 1/2 or 1, just give them 3/4 works</p>
<pre class="lang-javascript prettyprint-override"><code>    #C    #D    #E    #F    #G    #A    #B
 C     D     E     F     G     A     B     C
  bD    bE    bF    bG    bA    bB    bC
[][  ][][  ][  ][  ][  ][][  ][][  ][  ][  ]
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, <s>92</s> 83 bytes</h1>
<p><em>-9 bytes thanks to <a href="https://codegolf.stackexchange.com/users/18535/g-b">G B</a></em></p>
<h2>Golfed code</h2>
<pre class="lang-python prettyprint-override"><code>lambda l:sorted(l,key=lambda i:12*int(i[-1])+&quot; D EF G A B&quot;.find(i[0])-ord(i[1])/48)
</code></pre>
<p><a href="https://tio.run/##Xcy9DoIwAATg3adoytIKqPwohoSh5e8hCAMEiI0IBFl4@soZB8Py5dredVqXxzh4uouY7qtX3VSkD9/jvLQN661nu0a/WxU67lENC1OF7ZTcpCQhaUZyIoikp04NzfZyKbk9zkhb5ezfueaHacaqYwUVLrWoBDFIQAoykAPh0ZL/b9IrmgbcR@njjBQD4e@nxg1/11B@c1wHMEBRfwA" rel="nofollow noreferrer">Try it online!</a></p>
<h2>Commented code</h2>
<pre class="lang-python prettyprint-override"><code>lambda l: sorted(l,                 # Sort the list 
    key=lambda i:                   # Key used to sort the list, takes a single string as input
                                    # Outputs an integer; the lower the integer, the lower the note
        12 * int(i[-1])             # Multiply the octave number by 12
        + &quot; D EF G A B&quot;.find(i[0])  # Add the number of the note within that octave;
                                    # C = -1 up to B = 10
        -ord(i[1])/48               # Subtract the ASCII code of the second character; 
                                    # Ends up with sharpened notes having higher values than
                                    # no-accidental ones, which have a higher value than flattened ones
)
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 70 bytes</h1>

<pre class="lang-ruby prettyprint-override"><code>-&gt;l{l.sort_by{|x|x[-1].ord*12+&quot;C D EF G A B&quot;.index(x[0])-x[1].ord/48}}
</code></pre>
<p><a href="https://tio.run/##RYzdSsNAFITvfYphF8GfTUxOsq03CvuT5CGWpbDUglCsRMUtbZ89nii2F/MNzJwz41faT5unqXjeHrblx278XKX94ZiPORR1LHfj@q6me@Hg0fUYYGBF@fq2fsk3OVTxtsjh7@yhfTydpndsQhAm1UIJK4npUsP0smKaNHOoRIxX8@X1dzAES3AET@gIPWEgmCZGyOBIcaw4V1wobhQMy87enCc6DS81LmZbeA2nYdrfHdPyD8tp3psl/9GddVmTC/RpAcvu0hJuGeP0Aw" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, <s> 31 30 </s> 29 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>FµḢ“¤ı¶“Œ’ḥ;ṪV×12Ʋ;=”#Ḥ’ƊSµ$Þ
</code></pre>
<p>A monadic Link that accepts a list of lists of characters and yields a sorted version.</p>
<p><strong><a href="https://tio.run/##y0rNyan8/9/t0NaHOxY9aphzaMmRjYe2ARlHJz1qmPlwx1LrhztXhR2ebmh0bJO17aOGucoPdywByhzrCj60VeXwvP8Pd2w63O79/7@rqYKLsqkCgnIyUXAxVXA2VXA0AQA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>
<h3>How?</h3>
<pre><code>FµḢ“¤ı¶“Œ’ḥ;ṪV×12Ʋ;=”#Ḥ’ƊSµ$Þ - Link: notes
                           $Þ - sort by: last two links as a monad:
 µ                            -   monadic chain:
F                             -     flatten (this is to get a copy so we don't
                                             alter what we are sorting in place)
                          µ   -   monadic chain:
  Ḣ                           -     head of note (removes it too)
          ḥ                   -     hash with salt &amp; domain:
   “¤ı¶“Œ’                    -       base 250 numbers = [256628,20]
                                        X = CDEFGAB -&gt; 4,6,8,9,11,13,15
                 Ʋ            -     last four links as a monad:
            Ṫ                 -       tail of note (removes it too)
             V                -       evaluate as Jelly code -&gt; integer
               12             -       twelve
              ×               -       multiply
                                        Y = 12 × octave
           ;                  -     concatenate -&gt; [X,Y]
                        Ɗ     -     last three links as a monad - f(v):
                                        (v being one of [], ['#'], or ['b'])
                   =”#        -       equals '#'? (vectorises)
                      Ḥ       -       double
                       ’      -       decrement
                                        O = accidental offsets [], [1], or [-1]
                  ;           -     concatenate -&gt; [X,Y]+O
                         S    -     sum -&gt; note number
</code></pre>
</div>
<div id="pu4" class="pu"><h1>APL+WIN, 83 bytes</h1>
<p>Prompts for notes as nested vector</p>
<pre><code>m←⊃3↑¨¯1⌽¨s←⎕⋄s[⍋((¯1×m[;3]='b')+m[;3]='#')+(12×(⍎¨m[;1]))+¯1+'C D EF G A B'⍳m[;2]]
</code></pre>
<p><a href="https://tio.run/##XY29CoJgFIb37yo@cDiKNKj9DNGgZhEUXUA4aFEESoFTc1FRKTVEt@DW0Nxid3JuxM6pppaH55z3/ATLqDJZBdFiVhlHQZLMxyVm10Eft2dLkPWGZIbA/W5axqR4WFu4vRR5cTfw9CzyhJvZFY@bZITpUVUpeN3iUdPyWxCCpv9UIVUN83VTMc2KnLqGr2k6Tevgyrb0OrIrbekApg8KTd8v6akopwJsEyQ4DJfRZniMDqPLsC0QNOnVOFeY/@pUuWZzGXb1u6DU@U7IdD7uhg1mA8Qb" rel="nofollow noreferrer" title="APL (Dyalog Classic) – Try It Online">Try it online! Thanks to Dyalog APL Classic</a></p>
<p>Here is an improved 68 byte version but it does not work on Dyalog because of ⎕fi</p>
<pre><code>s[⍋∊(¯1+'C D EF G A B'⍳↑¨s)+(+/¨((⊂'b#')∊¨s)×¨⊂¯1 1)+12×+/¨⎕fi¨¨s←⎕]
</code></pre>
</div>
<div id="pu5" class="pu"><h1>JavaScript (ES6), <s> 87 </s> 86 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>a=&gt;a.sort((a,b)=&gt;(g=([a,b,c])=&gt;(c||b)*12+' D EF G A B'.search(a)-!!c+2*(b&lt;g))(a)-g(b))
</code></pre>
<p><a href="https://tio.run/##bY3JDoJAEETvfsUwHOiWJREXLkLC/hHEw8yIqCGMAeKJf0dpb4bLq6pOqvop3mJQ/eM1up2@1vMtnEUYCW/Q/QggHIlhBE0I1dc66rIkNU0StzvftljG8oKVLGaJ5Q216NUdBLqGoWx/C/LcIC65AYk4K90Nuq29Vjdwg4rHPncYT4gpMSPmxIJYEuM9vyBu/gfyI5VMkpWQHOhEPiXGh/Uh80QvJUnyS6kMSIKlMn8A" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Commented</h3>
<pre class="lang-javascript prettyprint-override"><code>a =&gt;                  // a[] = input array
a.sort((a, b) =&gt;      // for each pair of notes (a, b) to be sorted:
  ( g =               //   g is a helper function taking a note
    ([a, b, c]) =&gt;    //   split into [a, b, c] (c may be undefined)
      (c || b) * 12   //     use either c or b as the octave
      + ' D EF G A B' //     add the index of the leading letter:
        .search(a)    //       &quot;CDEFGAB&quot; -&gt; [-1,1,3,4,6,8,10]
      - !!c           //     subtract 1 if there's an accidental
      + 2 * (b &lt; g)   //     add 2 if the accidental is '#'
  )(a)                //   invoke g with the 1st note
  - g(b)              //   invoke g with the 2nd note and subtract
)                     // end of sort()
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language/a950ad7d925ec9316e3e2fb2cf5d49fd15d23e3d" rel="nofollow noreferrer">Retina 0.8.2</a>, 95 bytes</h1>
<pre><code>\d
$*-===$&amp;
-
12$*=
(.+?)=+
$1$&amp;
#=
==
b=

[CDE]=
$&amp;=
T`L`56d`.=
\d=
$*=$&amp;$*=
O$`.+?(=+).
$1
=

</code></pre>
<p><a href="https://tio.run/##RcuxDoIwGEXh/b4GlSBcSKgUpj8GSnExcdBNTCrBwcXB@Gw@gC@GdXI6yUm@5@11f1yXVXL0XMYZKs1FRMXIUWqVCpIi264lgyrDjAQimAQ4295dBCoWnPzem3r2hWCcw0oD/8mD8sEmkq2LoCFYPm9waTU7TavZazrNQXOn2W7gDPvI8J@uYm9oDdsKLqo5TDW7UDs1tM0X" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Takes newline-separated input but link is to test suite that converts from and to comma-separated input. Explanation:</p>
<pre><code>\d
$*-===$&amp;
-
12$*=
</code></pre>
<p>Representing the pitch in unary using <code>=</code> signs, multiply the octave by <code>12</code> and add <code>3</code> (so that I can subtract <code>2</code> from it later without it falling to zero).</p>
<pre><code>(.+?)=+
$1$&amp;
</code></pre>
<p>Duplicate the note name.</p>
<pre><code>#=
==
b=

</code></pre>
<p>Adjust the pitch for a sharp or a flat.</p>
<pre><code>[CDE]=
$&amp;=
T`L`56d`.=
\d=
$*=$&amp;$*=
</code></pre>
<p>Adjust the pitch according to the note name.</p>
<pre><code>O$`.+?(=+).
$1
</code></pre>
<p>Sort by the pitch.</p>
<pre><code>=

</code></pre>
<p>Delete all of the <code>=</code> signs.</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 99 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>n=&gt;n.sort((a,b,l=e=&gt;`b${D=e.slice(-1)}#`.search(e[1])+12*D+'C D EF G A B'.search(e[0]))=&gt;l(a)-l(b))
</code></pre>
<p><a href="https://tio.run/##hY3BasMwEETv/QqBA9I2trHTtDnJYEtOPqIEIrlK4yCsYJlcSr/dnRZKaS45vNlZdmf3bK4mdmN/mbIhvLn5KOdBVkMewzgJYVKbeulkdbCLDy1dHn3fOZGV9Jkc8ujM2J2Eey33tCxXj3rJFdOs3bIdq1nD/xaKPZGsvDCUeWGJ5i4MMXiX@/AujoLXq5Q1QAENWrAFO1A/4dDF95PgKeNE9HATbp8RSiD/TLNGg6pAvb53InnBQwtpvp2yG8jmTkjZAlugBfrXl/A/g6S4yc9f" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/244047/">244047</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




