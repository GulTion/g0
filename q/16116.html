<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::16116</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>006</td><td>Use function instead of match when possible it'll save</td><td>140617T222721Z</td><td><a href="https://codegolf.stackexchange.com/questions/16116/tips-for-golfing-in-f/31979#31979">Jwosty</a></td></tr>
<tr d-ix="1"><td>nan</td><td></td><td>150730T202527Z</td><td><a href="https://codegolf.stackexchange.com/questions/16116/tips-for-golfing-in-f/54090#54090">Jwosty</a></td></tr>
<tr d-ix="2"><td>nan</td><td></td><td>191028T144958Z</td><td><a href="https://codegolf.stackexchange.com/questions/16116/tips-for-golfing-in-f/194991#194991">LSM07</a></td></tr>
<tr d-ix="3"><td>nan</td><td></td><td>190227T223154Z</td><td><a href="https://codegolf.stackexchange.com/questions/16116/tips-for-golfing-in-f/180584#180584">aloisdg</a></td></tr>
<tr d-ix="4"><td>nan</td><td></td><td>190219T140042Z</td><td><a href="https://codegolf.stackexchange.com/questions/16116/tips-for-golfing-in-f/180141#180141">aloisdg</a></td></tr>
<tr d-ix="5"><td>nan</td><td></td><td>171103T233326Z</td><td><a href="https://codegolf.stackexchange.com/questions/16116/tips-for-golfing-in-f/147077#147077">aloisdg</a></td></tr>
<tr d-ix="6"><td>nan</td><td></td><td>190219T133611Z</td><td><a href="https://codegolf.stackexchange.com/questions/16116/tips-for-golfing-in-f/180140#180140">thinkbef</a></td></tr>
<tr d-ix="7"><td>nan</td><td>Use lambdas to save a byte. For example</td><td>181226T043645Z</td><td><a href="https://codegolf.stackexchange.com/questions/16116/tips-for-golfing-in-f/178048#178048">dana</a></td></tr>
<tr d-ix="8"><td>nan</td><td></td><td>180602T115225Z</td><td><a href="https://codegolf.stackexchange.com/questions/16116/tips-for-golfing-in-f/166001#166001">Ciaran_M</a></td></tr>
<tr d-ix="9"><td>nan</td><td></td><td>171103T233638Z</td><td><a href="https://codegolf.stackexchange.com/questions/16116/tips-for-golfing-in-f/147078#147078">aloisdg</a></td></tr>
<tr d-ix="10"><td>nan</td><td></td><td>171103T232823Z</td><td><a href="https://codegolf.stackexchange.com/questions/16116/tips-for-golfing-in-f/147075#147075">aloisdg</a></td></tr>
<tr d-ix="11"><td>nan</td><td></td><td>170524T222331Z</td><td><a href="https://codegolf.stackexchange.com/questions/16116/tips-for-golfing-in-f/122633#122633">Brunner</a></td></tr>
<tr d-ix="12"><td>nan</td><td></td><td>160127T155247Z</td><td><a href="https://codegolf.stackexchange.com/questions/16116/tips-for-golfing-in-f/70295#70295">Roujo</a></td></tr>
</table>
<div id="pu0" class="pu"><p>Use <code>function</code> instead of <code>match</code> when possible; it'll save 6 characters for 1-character variable names:</p>

<pre><code>let f=function // ... (14 chars)
</code></pre>
<p>vs</p>

<pre><code>let f x=match x with // ... (20 chars)
</code></pre>
<p>It can also replace any pattern match to consistently save 1 character:</p>

<pre><code>match a with|          // ... (13 chars)
a|&gt;function|           // ... (12 chars)
(function| (* ... *))a // (12 chars)
</code></pre>
</div>
<div id="pu1" class="pu"><p>Need to provide a type annotation for a variable so that you can call a method on it? Just compare it against a literal of the type you want it to be then throw away the result:</p>
<pre><code>let f (x:string)=x.Length
let f x=x=&quot;&quot;;x.Length
</code></pre>
</div>
<div id="pu2" class="pu"><p>The <code>module</code> keyword can be used to shorten module names when used repeatedly. For example:</p>

<pre><code>Array.fold ...
Seq.iter ...
List.map ...
</code></pre>

<p>can become</p>

<pre><code>module A=Array
A.fold ...
module S=Seq
S.iter ...
module L=List
L.map ...
</code></pre>

<p>This is more useful for longer programs where module methods are used repeatedly (and must be fully named each time because they have the <code>RequireQualifiedAccess</code> modifier), and allows shaving a few chars off especially when it's more useful to use a regular CLR array (e.g., mutability) than an F# <code>seq</code> or <code>list</code>.</p>
</div>
<div id="pu3" class="pu"><h1>Use for...to instead of for...in to walk a range</h1>

<pre><code>for i in[0..2]
for i=0 to 2
</code></pre>

<ul>
<li><a href="https://docs.microsoft.com/en-us/dotnet/fsharp/language-reference/loops-for-in-expression" rel="nofollow noreferrer">for in</a></li>
<li><a href="https://docs.microsoft.com/en-us/dotnet/fsharp/language-reference/loops-for-to-expression" rel="nofollow noreferrer">for to</a></li>
</ul>
</div>
<div id="pu4" class="pu"><h1>Prefer new line string over "\n"</h1>

<p>This will start to pay off at even a single new line character in your code. One use case might be:</p>

<h3>(18 bytes)</h3>

<pre><code>string.Concat"\n"
</code></pre>

<h3>(17 bytes)</h3>

<pre><code>string.Concat"
"
</code></pre>

<p>Inspired from <a href="https://codegolf.stackexchange.com/a/54368/15214">Chiru's answer for es6</a>.</p>

<p>Used <a href="https://codegolf.stackexchange.com/a/180139/15214">here</a></p>
</div>
<div id="pu5" class="pu"><h1>Avoid parenthesis when using one parameter and on tuple</h1>

<pre><code>let f = [(0,1);(1,4)]|&gt;Seq.map(fst)
printfn "%A" f
</code></pre>

<p>can be written</p>

<pre><code>let f = [0,1;1,4]|&gt;Seq.map fst
printfn "%A" f
</code></pre>
</div>
<div id="pu6" class="pu"><p>When possible <code>Seq</code> is shorter than <code>List</code>:</p>

<pre><code>[[1];[2;3];[4];[5]|&gt;List.collect
</code></pre>

<pre><code>[[1];[2;3];[4];[5]|&gt;Seq.collect
</code></pre>

<p>is one char shorter...</p>
</div>
<div id="pu7" class="pu"><p>Use lambdas to save a byte. For example, this:</p>

<pre><code>let f x=x*x
</code></pre>

<p>Can be expressed as this:</p>

<pre><code>fun x-&gt;x*x
</code></pre>
</div>
<div id="pu8" class="pu"><h1>Eta-conversion for functions</h1>

<p>Many thanks to <a href="https://codegolf.stackexchange.com/users/56433/laikoni">Laikoni</a> for this tip in one of <a href="https://codegolf.stackexchange.com/a/165246/78954">my solutions</a>.</p>

<p>Consider a function to, say, sum a string with 3 for upper-case letters and 1 for all other characters. So:</p>

<pre><code>let counter input = Seq.sumBy (fun x -&gt; if Char.IsUpper x then 3 else 1) input
</code></pre>

<p>By <a href="https://en.wiktionary.org/wiki/eta_conversion" rel="nofollow noreferrer">eta-conversion</a> this can be re-written as:</p>

<pre><code>let counter = Seq.sumBy (fun x -&gt; if Char.IsUpper x then 3 else 1)
</code></pre>

<p>and called in the same way as before:</p>

<pre><code>counter "Hello world!" |&gt; printfn "%i"
</code></pre>

<h1>The function forward-composition operator <code>&gt;&gt;</code></h1>

<p>Now suppose our original challenge would be to sum a string with 3 for upper-case letters and 1 for lower-case letters, and all other characters are excluded.</p>

<p>We might write this as:</p>

<pre><code>let counter input = Seq.filter Char.IsLetter input |&gt; Seq.sumBy (fun x -&gt; if Char.IsUpper x then 3 else 1)
</code></pre>

<p>We can use the forward-composition operator (<code>&gt;&gt;</code>) to chain the two functions (<code>Seq.filter</code> and <code>Seq.sumBy</code>) together. With eta-conversion the function definition would become:</p>

<pre><code>let counter = Seq.filter Char.IsLetter &gt;&gt; Seq.sumBy (fun x -&gt; if Char.IsUpper x then 3 else 1)
</code></pre>

<p>Chris Smith did a great write-up on the <code>&gt;&gt;</code> operator on his <a href="https://blogs.msdn.microsoft.com/chrsmith/2008/06/14/function-composition/" rel="nofollow noreferrer">MSDN blog</a>.</p>
</div>
<div id="pu9" class="pu"><h1>Use id instead of x->x</h1>

<p>id is an operator standing for the identity function.</p>

<pre><code>let u x=x|&gt;Seq.countBy (fun x-&gt;x)
</code></pre>

<p>can be written</p>

<pre><code>let u x=x|&gt;Seq.countBy id
</code></pre>

<p><a href="https://msdn.microsoft.com/en-us/visualfsharpdocs/conceptual/operators.id%5B&#39;t%5D-function-%5Bfsharp%5D" rel="nofollow noreferrer">source</a></p>

<p>I use it <a href="https://codegolf.stackexchange.com/a/147073/15214">here</a></p>
</div>
<div id="pu10" class="pu"><h1>Use .NET</h1>

<p>.NET offers a lot of nice builtins. F# can use them, so dont forget them!</p>

<p>Example:</p>

<pre><code>open System.Linq
</code></pre>

<p>It can be helpful!</p>
</div>
<div id="pu11" class="pu"><h1>Tuple deconstruction</h1>

<p>In case you can't get around to using variables, use tuple deconstruction instead of multiple let expressions</p>

<pre><code>let a,b ="",[]
</code></pre>

<p>instead of</p>

<pre><code>let a=""
let b=[]
</code></pre>

<h1>Reading from stdin</h1>

<p>F# core library defines an alias for <code>System.Console.In</code> called <code>stdin</code>. These allow you to read input.</p>

<pre><code>// Signature:
stdin&lt;'T&gt; :  TextReader
</code></pre>

<p><a href="https://msdn.microsoft.com/en-us/library/system.io.textreader(v=vs.110).aspx" rel="noreferrer">TextReader on msdn</a></p>

<p>The big advantage aside the fact that it's shorter than <code>Console</code> is, you don't have to open System either</p>

<h1>Iterating over string</h1>

<p>string is basically a <code>char seq</code>, this allows you to use <code>Seq.map</code> directly with strings. It's also possible to use them in comprehensions <code>[for c in "" do]</code></p>

<h1>Mutables/Reference cells</h1>

<p>Using reference cells is not always shorter as every read operation comes with an additional character to deref the cell.</p>

<h1>General tips</h1>

<ul>
<li><p>It is possible to write the complete <code>match .. with</code> inline</p>

<pre><code>function|'a'-&gt;()|'b'-&gt;()|_-&gt;()
</code></pre></li>
<li><p>There is no need for white-space before and after non alphanumeric characters.</p>

<pre><code>String.replicate 42" "
if Seq.exists((&lt;&gt;)'@')s then
if(Seq.exists((&lt;&gt;)'@')s)then
</code></pre></li>
<li><p>In case you need to left or right pad a string with spaces, you can use [s]printf[n] flags for that.</p>

<pre><code>&gt; sprintf "%20s" "Hello, World!";;
val it : string = "       Hello, World!"
</code></pre>

<p><a href="https://msdn.microsoft.com/en-us/visualfsharpdocs/conceptual/core.printf-module-[fsharp]#remarks" rel="noreferrer">Core.Printf Module</a></p></li>
</ul>
</div>
<div id="pu12" class="pu"><p>Use the prefix notation for infix operators when you can - it'll save you from having to define a function to use them.</p>

<p>For example, you can turn this:</p>

<pre><code>List.map(fun i-&gt;i+2)[1;1;2;3;5;8]
</code></pre>

<p>into this:</p>

<pre><code>List.map((+)2)[1;1;2;3;5;8]
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/16116/">16116</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




