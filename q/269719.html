<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::269719</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>484</td><td>Python 3</td><td>240205T155946Z</td><td><a href="https://codegolf.stackexchange.com/questions/269719/output-intervals-for-the-optimal-subarrays/269804#269804">CursorCo</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 484 bytes</h1>

<pre class="lang-python prettyprint-override"><code>def m(r,x):
 b=c=t=0;s=(0,0)
 for f in range(len(r)):
  c+=r[f]
  if c&gt;t:t=c;s=(b+x,f+x+1)
  if c&lt;=0:b=f+1;c=0
 return s,t
def f(r,k):
 p=[]
 for j in range(k):
  n=x=(0,0);i=a=0;g=[*zip([*zip(x,*p)][1],[*zip(*p,(len(r),))][0])]
  for s in p:
   z,t=m([-a for a in r[s[0]:s[1]]],s[0])
   if i&lt;t:i=t;n=z;h=s
  for s in g:
   z,t=m(r[s[0]:s[1]],s[0])
   if a&lt;t:a=t;x=z
  if a&lt;i:p.remove(h);p+=[(h[0],n[0]),(n[1],h[1])]
  elif x[0]&lt;x[1]:p+=[x]
  p.sort()
 return[(q[0],q[1]-1)for q in p]
</code></pre>
<p><a href="https://tio.run/##VVPRcqowEH3nK3b6lEjogNrbFkx/JJMH9AblqhghvZNrp9/u3U2w4gxJNmfPObsJYP@53albXK@/TQNH1gvPywTWciOdzKtBslzkPIHm1EMDbQd93W0NO5iO9ZyYsEllrxqNUdvA5sOVTm5It069aFKfFnxMrWRermWTFtVG5gn0xn32HQzCJVS6wdJ7MrRS6Vjvz71eyEAnfeynamWN3W2lml1ay@LsxcxyrQot4n5mxdin4IjnmlOTZDyQsSVHuAgnj0xldUjUoaIakFwO6KS1oJhOQEdoV65spas6eal2cpi6bSduU4MHfY36GvVeXpIRaEv73Jvj6a9hO17ZVCq2Q4XoSCZYR8fZ4RR6NwfUeMysPEIlsT3h9nk49Y7x26UqdiaPM5KyglOP53BifTW@PtqDGUCCStSbgOxFQCEgx@gXjlcBcwHLCBRxEI4gEjH7pkWiskUgzMOT/5DxWRCXKJggBdnTSkQqEAjLcV1EGekCdz7yXkaDrCCEaDFfkDCoi4AtblFovcgpeqVpPhpDPu4gJt9/9KFEbDm7L9PxkHyIpiSd6ITu13i64Nvthm8BbN92jhnPJ7sYk2J//7gLseRRcic2T3t8R1/7b8g@4KtBG/w7vp8evK7/AQ" rel="nofollow noreferrer" title="Python 3 â€“ Try It Online">Try it online!</a></p>
<p>Probably still a fair amount of golf left in this, but this is as far as I'm willing to take it for now.</p>
<h3>Explanation</h3>
<p>The important realization here was that we can find the maximal <span class="math-container">\$k\$</span> subarrays iteratively. We start with function <code>m</code> which simply finds the maximal subarray given an array. To find <span class="math-container">\$k=1\$</span> you simply call <code>m</code>. From here, for any <span class="math-container">\$n&gt;0\$</span> to find the solution for <span class="math-container">\$k=n+1\$</span> we start with the solution for <span class="math-container">\$k=n\$</span>. From there we either break one of our subarrays into two, leaving out some negative middle part, add a new subarray, or do nothing. So the function <code>f</code> simply performs this process <span class="math-container">\$k\$</span> times, leaving us with the desired result.</p>
<h3>Time complexity</h3>
<p>The time complexity is pretty straightforward with this algorithm. Function <code>m</code> is linear with respect to the length of <code>r</code>. For <code>f</code> then, we first note that the size of <code>p</code> never exceeds <code>k</code>, thus for a fixed <code>k</code> things like <code>p.sort()</code> are constant time. So the only two lines that really contribute in <code>f</code> are <code>z,t=m([-a for a in r[s[0]:s[1]]],s[0])</code> and <code>z,t=m(r[s[0]:s[1]],s[0])</code> both of which are linear with respect to the length of <code>r</code>, and thus so is <code>f</code> itself.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/269719/">269719</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




