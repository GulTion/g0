<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::265836</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>9184</td><td>C GCC</td><td>231008T123737Z</td><td><a href="https://codegolf.stackexchange.com/questions/265836/what-is-the-smallest-possible-binary-output-you-can-generate/265859#265859">bsoelch</a></td></tr>
<tr d-ix="1"><td>087</td><td>Python 3.11.5 .pyc file</td><td>231008T120112Z</td><td><a href="https://codegolf.stackexchange.com/questions/265836/what-is-the-smallest-possible-binary-output-you-can-generate/265858#265858">SuperSto</a></td></tr>
<tr d-ix="2"><td>nan</td><td>All from the blog post linked in the question comments this is not my work</td><td>231008T014114Z</td><td><a href="https://codegolf.stackexchange.com/questions/265836/what-is-the-smallest-possible-binary-output-you-can-generate/265851#265851">SuperSto</a></td></tr>
<tr d-ix="3"><td>001</td><td>x86 assembly DOS .COM file</td><td>231007T111801Z</td><td><a href="https://codegolf.stackexchange.com/questions/265836/what-is-the-smallest-possible-binary-output-you-can-generate/265844#265844">Nick Ken</a></td></tr>
<tr d-ix="4"><td>087</td><td>FASM 32bit ELF executable</td><td>231007T074035Z</td><td><a href="https://codegolf.stackexchange.com/questions/265836/what-is-the-smallest-possible-binary-output-you-can-generate/265842#265842">bsoelch</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>C (GCC, Linux), 9184 bytes</h1>
<p><em>Feel free to edit this answer if you find ways to improve the score</em></p>
<p>source code:</p>
<pre><code>int _start(void){    // using libc significantly increases the score -&gt; need to use _start instead of main
  asm(&quot;inc  %eax;&quot;
      &quot;int  $0x80&quot;); // exit program seems to be the only way to exit a program without using the standard library
}
</code></pre>
<p>compiler options: <code>gcc -nostdlib -Oz small.c -Qn</code></p>
<p>hexdump:</p>
<pre><code>00000000  7f 45 4c 46 02 01 01 00  00 00 00 00 00 00 00 00  |.ELF............|
00000010  02 00 3e 00 01 00 00 00  00 10 40 00 00 00 00 00  |..&gt;.......@.....|
00000020  40 00 00 00 00 00 00 00  a0 21 00 00 00 00 00 00  |@........!......|
00000030  00 00 00 00 40 00 38 00  08 00 40 00 09 00 08 00  |....@.8...@.....|
00000040  01 00 00 00 04 00 00 00  00 00 00 00 00 00 00 00  |................|
00000050  00 00 40 00 00 00 00 00  00 00 40 00 00 00 00 00  |..@.......@.....|
00000060  54 02 00 00 00 00 00 00  54 02 00 00 00 00 00 00  |T.......T.......|
00000070  00 10 00 00 00 00 00 00  01 00 00 00 05 00 00 00  |................|
00000080  00 10 00 00 00 00 00 00  00 10 40 00 00 00 00 00  |..........@.....|
00000090  00 10 40 00 00 00 00 00  05 00 00 00 00 00 00 00  |..@.............|
000000a0  05 00 00 00 00 00 00 00  00 10 00 00 00 00 00 00  |................|
000000b0  01 00 00 00 04 00 00 00  00 20 00 00 00 00 00 00  |......... ......|
000000c0  00 20 40 00 00 00 00 00  00 20 40 00 00 00 00 00  |. @...... @.....|
000000d0  44 00 00 00 00 00 00 00  44 00 00 00 00 00 00 00  |D.......D.......|
000000e0  00 10 00 00 00 00 00 00  04 00 00 00 04 00 00 00  |................|
000000f0  00 02 00 00 00 00 00 00  00 02 40 00 00 00 00 00  |..........@.....|
00000100  00 02 40 00 00 00 00 00  30 00 00 00 00 00 00 00  |..@.....0.......|
00000110  30 00 00 00 00 00 00 00  08 00 00 00 00 00 00 00  |0...............|
00000120  04 00 00 00 04 00 00 00  30 02 00 00 00 00 00 00  |........0.......|
00000130  30 02 40 00 00 00 00 00  30 02 40 00 00 00 00 00  |0.@.....0.@.....|
00000140  24 00 00 00 00 00 00 00  24 00 00 00 00 00 00 00  |$.......$.......|
00000150  04 00 00 00 00 00 00 00  53 e5 74 64 04 00 00 00  |........S.td....|
00000160  00 02 00 00 00 00 00 00  00 02 40 00 00 00 00 00  |..........@.....|
00000170  00 02 40 00 00 00 00 00  30 00 00 00 00 00 00 00  |..@.....0.......|
00000180  30 00 00 00 00 00 00 00  08 00 00 00 00 00 00 00  |0...............|
00000190  50 e5 74 64 04 00 00 00  00 20 00 00 00 00 00 00  |P.td..... ......|
000001a0  00 20 40 00 00 00 00 00  00 20 40 00 00 00 00 00  |. @...... @.....|
000001b0  14 00 00 00 00 00 00 00  14 00 00 00 00 00 00 00  |................|
000001c0  04 00 00 00 00 00 00 00  51 e5 74 64 06 00 00 00  |........Q.td....|
000001d0  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
*
000001f0  00 00 00 00 00 00 00 00  10 00 00 00 00 00 00 00  |................|
00000200  04 00 00 00 20 00 00 00  05 00 00 00 47 4e 55 00  |.... .......GNU.|
00000210  01 00 01 c0 04 00 00 00  01 00 00 00 00 00 00 00  |................|
00000220  02 00 01 c0 04 00 00 00  00 00 00 00 00 00 00 00  |................|
00000230  04 00 00 00 14 00 00 00  03 00 00 00 47 4e 55 00  |............GNU.|
00000240  49 b6 57 39 6e e5 6c dc  3b d3 e8 c3 89 76 46 c4  |I.W9n.l.;....vF.|
00000250  b1 1b 9f 18 00 00 00 00  00 00 00 00 00 00 00 00  |................|
00000260  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
*
00001000  ff c0 cd 80 c3 00 00 00  00 00 00 00 00 00 00 00  |................|
00001010  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
*
00002000  01 1b 03 3b 14 00 00 00  01 00 00 00 00 f0 ff ff  |...;............|
00002010  30 00 00 00 00 00 00 00  14 00 00 00 00 00 00 00  |0...............|
00002020  01 7a 52 00 01 78 10 01  1b 0c 07 08 90 01 00 00  |.zR..x..........|
00002030  10 00 00 00 1c 00 00 00  c8 ef ff ff 05 00 00 00  |................|
00002040  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
*
00002060  01 00 00 00 04 00 f1 ff  00 00 00 00 00 00 00 00  |................|
00002070  00 00 00 00 00 00 00 00  00 00 00 00 04 00 f1 ff  |................|
00002080  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
00002090  09 00 00 00 00 00 04 00  00 20 40 00 00 00 00 00  |......... @.....|
000020a0  00 00 00 00 00 00 00 00  21 00 00 00 12 00 03 00  |........!.......|
000020b0  00 10 40 00 00 00 00 00  05 00 00 00 00 00 00 00  |..@.............|
000020c0  1c 00 00 00 10 00 05 00  00 30 40 00 00 00 00 00  |.........0@.....|
000020d0  00 00 00 00 00 00 00 00  28 00 00 00 10 00 05 00  |........(.......|
000020e0  00 30 40 00 00 00 00 00  00 00 00 00 00 00 00 00  |.0@.............|
000020f0  2f 00 00 00 10 00 05 00  00 30 40 00 00 00 00 00  |/........0@.....|
00002100  00 00 00 00 00 00 00 00  00 73 6d 61 6c 6c 2e 63  |.........small.c|
00002110  00 5f 5f 47 4e 55 5f 45  48 5f 46 52 41 4d 45 5f  |.__GNU_EH_FRAME_|
00002120  48 44 52 00 5f 5f 62 73  73 5f 73 74 61 72 74 00  |HDR.__bss_start.|
00002130  5f 65 64 61 74 61 00 5f  65 6e 64 00 00 2e 73 79  |_edata._end...sy|
00002140  6d 74 61 62 00 2e 73 74  72 74 61 62 00 2e 73 68  |mtab..strtab..sh|
00002150  73 74 72 74 61 62 00 2e  6e 6f 74 65 2e 67 6e 75  |strtab..note.gnu|
00002160  2e 70 72 6f 70 65 72 74  79 00 2e 6e 6f 74 65 2e  |.property..note.|
00002170  67 6e 75 2e 62 75 69 6c  64 2d 69 64 00 2e 74 65  |gnu.build-id..te|
00002180  78 74 00 2e 65 68 5f 66  72 61 6d 65 5f 68 64 72  |xt..eh_frame_hdr|
00002190  00 2e 65 68 5f 66 72 61  6d 65 00 00 00 00 00 00  |..eh_frame......|
000021a0  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
*
000021e0  1b 00 00 00 07 00 00 00  02 00 00 00 00 00 00 00  |................|
000021f0  00 02 40 00 00 00 00 00  00 02 00 00 00 00 00 00  |..@.............|
00002200  30 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |0...............|
00002210  08 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
00002220  2e 00 00 00 07 00 00 00  02 00 00 00 00 00 00 00  |................|
00002230  30 02 40 00 00 00 00 00  30 02 00 00 00 00 00 00  |0.@.....0.......|
00002240  24 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |$...............|
00002250  04 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
00002260  41 00 00 00 01 00 00 00  06 00 00 00 00 00 00 00  |A...............|
00002270  00 10 40 00 00 00 00 00  00 10 00 00 00 00 00 00  |..@.............|
00002280  05 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
00002290  01 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
000022a0  47 00 00 00 01 00 00 00  02 00 00 00 00 00 00 00  |G...............|
000022b0  00 20 40 00 00 00 00 00  00 20 00 00 00 00 00 00  |. @...... ......|
000022c0  14 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
000022d0  04 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
000022e0  55 00 00 00 01 00 00 00  02 00 00 00 00 00 00 00  |U...............|
000022f0  18 20 40 00 00 00 00 00  18 20 00 00 00 00 00 00  |. @...... ......|
00002300  2c 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |,...............|
00002310  08 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
00002320  01 00 00 00 02 00 00 00  00 00 00 00 00 00 00 00  |................|
00002330  00 00 00 00 00 00 00 00  48 20 00 00 00 00 00 00  |........H ......|
00002340  c0 00 00 00 00 00 00 00  07 00 00 00 04 00 00 00  |................|
00002350  08 00 00 00 00 00 00 00  18 00 00 00 00 00 00 00  |................|
00002360  09 00 00 00 03 00 00 00  00 00 00 00 00 00 00 00  |................|
00002370  00 00 00 00 00 00 00 00  08 21 00 00 00 00 00 00  |.........!......|
00002380  34 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |4...............|
00002390  01 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
000023a0  11 00 00 00 03 00 00 00  00 00 00 00 00 00 00 00  |................|
000023b0  00 00 00 00 00 00 00 00  3c 21 00 00 00 00 00 00  |........&lt;!......|
000023c0  5f 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |_...............|
000023d0  01 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
000023e0
</code></pre>
<p><em>It seems link there should be a way to significantly improve the score by reducing the alignment requirements (before <code>0x1000</code> and <code>0x2000</code> there are a bunch of zero bytes) but I did not find any compiler options for archiving this goal</em></p>
</div>
<div id="pu1" class="pu"><h1>Python 3.11.5 (.pyc file), 87 bytes</h1>
<pre class="lang-none prettyprint-override"><code>00000000: a70d 0d0a 0000 0000 ad8b 2265 0000 0000  ..........&quot;e....
00000010: e300 0000 0000 0000 0000 0000 0001 0000  ................
00000020: 0003 0000 00f3 0400 0000 6400 5300 a901  ..........d.S...
00000030: 4ea9 0072 0300 0000 f300 0000 00da 0072  N..r...........r
00000040: 0500 0000 7205 0000 0001 0000 0072 0400  ....r........r..
00000050: 0000 7204 0000 00                        ..r....
</code></pre>
<p>Generation script:</p>
<pre class="lang-py prettyprint-override"><code>import marshal

def f():pass
initial_code = f.__code__
code = initial_code.replace(
    co_qualname=&quot;&quot;,
    co_name=&quot;&quot;,
    co_filename='',
    co_code=b'd\x00S\x00', # LOAD_CONST 0 (None) + RETURN_VALUE
    co_linetable=b''
)
# taken from a pyc file generated from a blank file
header = b'\xa7\r\r\n\x00\x00\x00\x00\xad\x8b&quot;e\x00\x00\x00\x00' 
open(&quot;a.pyc&quot;, &quot;wb&quot;).write(header + marshal.dumps(code))
</code></pre>
<h2>Python 2.7.18 (.pyc file), 79 bytes</h2>
<pre class="lang-none prettyprint-override"><code>00000000: 03f3 0d0a 4496 2265 6300 0000 0000 0000  ....D.&quot;ec.......
00000010: 0001 0000 0043 0000 0073 0400 0000 6400  .....C...s....d.
00000020: 0053 2801 0000 004e 2800 0000 0028 0000  .S(....N(....(..
00000030: 0000 2800 0000 0028 0000 0000 7400 0000  ..(....(....t...
00000040: 0052 0000 0000 0100 0000 5200 0000 00    .R........R....
</code></pre>
<p>Generation script:</p>
<pre class="lang-py prettyprint-override"><code>import marshal
import types
header = '\x03\xf3\r\nD\x96&quot;e'
code = types.CodeType(0, 0, 1, 67, b&quot;d\x00\x00S&quot;, (None,), (), (), &quot;&quot;, &quot;&quot;, 1, &quot;&quot;)
open(&quot;a.pyc&quot;, &quot;w&quot;).write(header + marshal.dumps(code))
</code></pre>
</div>
<div id="pu2" class="pu"><p>All from the blog post linked in the question comments; this is not my work, all credit goes to Brian Raiter:
<a href="https://www.muppetlabs.com/%7Ebreadbox/software/tiny/return42.html" rel="nofollow noreferrer">https://www.muppetlabs.com/~breadbox/software/tiny/return42.html</a></p>
<h2>NASM (32-bit Linux ELF), 45 bytes</h2>
<pre><code>BITS 32
  
        org 0x00010000
  
        db  0x7F, &quot;ELF&quot;
        dd  1
        dd  0
        dd  $$
        dw  2
        dw  3
        dd  _start
        dd  _start
        dd  4
_start: mov bl, 42          ; set ebx to exit code 42
        xor eax, eax        ; set eax to 1 (exit syscall)
        inc eax
        int 0x80            ; and exit
        db  0
        dw  0x34
        dw  0x20
        db  1
  
filesize    equ $ - $$
</code></pre>
<p>(<a href="https://www.muppetlabs.com/%7Ebreadbox/software/tiny/tiny-i386.asm.txt" rel="nofollow noreferrer">https://www.muppetlabs.com/~breadbox/software/tiny/tiny-i386.asm.txt</a>)</p>
<h2>NASM (64-bit Linux ELF), 80 bytes</h2>
<pre><code>BITS 64

        org 0x500000000

        db  0x7F            ; e_ident
_start: db  &quot;ELF&quot;           ; 3 REX prefixes (no effect)
        and eax, 0x00000101
        lea edi, [rax + 42] ; rdi = exit code
        mov al, 60          ; rax = syscall number
        syscall             ; exit(rdi)
        dw  2               ; e_type
        dw  62              ; e_machine
        dd  1               ; e_version
phdr:   dd  1               ; e_entry   ; p_type
        dd  5               ; p_flags
        dq  phdr - $$       ; e_phoff   ; p_offset
        dq  phdr            ; e_shoff   ; p_vaddr
        dd  0               ; e_flags   ; p_paddr
        dw  0x40            ; e_ehsize  
        dw  0x38            ; e_phentsize
        dw  1               ; e_phnum   ; p_filesz
        dw  0x40            ; e_shentsize
        dw  0               ; e_shnum
        dw  0               ; e_shstrndx
        dq  0x00400001      ; p_memsz
        dq  0               ; p_align
</code></pre>
<p>(<a href="https://www.muppetlabs.com/%7Ebreadbox/software/tiny/tiny-x64.asm.txt" rel="nofollow noreferrer">https://www.muppetlabs.com/~breadbox/software/tiny/tiny-x64.asm.txt</a>)</p>
<h2>NASM (Linux a.out), 35 bytes</h2>
<pre><code>BITS 32

        org     0x1000
                            ; a.out header
        dd      0x006400CC  ;   a_info
        dd  filesize        ;   a_text
        dd      0           ;   a_data
_start:     mov bl, 42      ; set exit code ;   a_bss
        jmp short part2
        dd  0               ;   a_syms
        dd  _start          ;   a_entry
        dd  0               ;   a_trsize
        dd  0               ;   a_drsize

part2:  inc eax             ; set syscall number
        int 0x80            ; exit(ebx)

filesize    equ $ - $$
</code></pre>
<p>(<a href="https://www.muppetlabs.com/%7Ebreadbox/software/tiny/tiny-aout.asm.txt" rel="nofollow noreferrer">https://www.muppetlabs.com/~breadbox/software/tiny/tiny-aout.asm.txt</a>)</p>
</div>
<div id="pu3" class="pu"><h1>x86 assembly DOS .COM file 1 byte</h1>
<pre><code>ret # assembles to 0xC3
</code></pre>
<p>COM files are executable and have no header or other mandatory content. An empty COM file produces an error, so the shortest executable COM file consists of just the RET instruction.</p>
<p>One way of testing this is by using DEBUG from the DOS prompt, tested using MSDOS 6.22 via <a href="https://www.pcjs.org/software/pcx86/sys/dos/microsoft/6.22/" rel="nofollow noreferrer">pcjs</a>. The following are typed as sequential lines (including a blank line after <code>ret</code>). However, this should also run under 32-bit Windows 7 or 10 which are  ‘modern’ OSes.</p>
<pre><code>DEBUG
n c:\test.com
a
ret

rcx
1
w
q
C:\test.com
</code></pre>
<p><a href="https://github.com/mathiasbynens/small" rel="nofollow noreferrer">Mathias Bynen’s small GitHub repo</a>  is also a useful resource for this.</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://flatassembler.net/" rel="nofollow noreferrer">FASM</a> (32-bit ELF executable), 87 bytes</h1>
<p><em>Larger than the final ELF-file in the blog post linked in the comments of the question, but less than a third of the size of the smallest output they were able to generate without directly creating the ELF-file, and a few bytes shorter than the shortest program without overlapping sections in the ELF-file</em></p>
<pre><code>format ELF executable 3 ; 32 bit elf
segment readable executable
entry $
  inc   eax   ; eax and ebx default to 0
  int   0x80  ; syscall 1 (exit) with exit code 0
</code></pre>
<p>produces the following (statically linked, 32-bit) ELF-executable:</p>
<pre><code>457f 464c 0101 0301 0000 0000 0000 0000
0002 0003 0001 0000 8054 0804 0034 0000
0000 0000 0000 0000 0034 0020 0001 0028
0000 0000 0001 0000 0000 0000 8000 0804
8000 0804 0057 0000 0057 0000 0005 0000
1000 0000 cd40 0080
</code></pre>
<p>As far as I can tell the actual code takes only 3 bytes, so the main way for reducing the file size would be to somehow convince the assembler to make the different parts of the ELF-file overlap (like in the blog post)</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/265836/">265836</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




