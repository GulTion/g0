<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::184751</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>035</td><td>Pari/GP</td><td>190425T141407Z</td><td><a href="https://codegolf.stackexchange.com/questions/184751/probabilistic-approach-puzzle/184759#184759">alephalp</a></td></tr>
<tr d-ix="1"><td>309</td><td>Excel Formula</td><td>190425T191259Z</td><td><a href="https://codegolf.stackexchange.com/questions/184751/probabilistic-approach-puzzle/184773#184773">i_saw_dr</a></td></tr>
<tr d-ix="2"><td>007</td><td>Jelly</td><td>190426T121507Z</td><td><a href="https://codegolf.stackexchange.com/questions/184751/probabilistic-approach-puzzle/184822#184822">Erik the</a></td></tr>
<tr d-ix="3"><td>097</td><td>Python 3</td><td>190425T185756Z</td><td><a href="https://codegolf.stackexchange.com/questions/184751/probabilistic-approach-puzzle/184769#184769">Neil</a></td></tr>
<tr d-ix="4"><td>033</td><td>Wolfram Language Mathematica</td><td>190425T134847Z</td><td><a href="https://codegolf.stackexchange.com/questions/184751/probabilistic-approach-puzzle/184756#184756">ZaMoC</a></td></tr>
<tr d-ix="5"><td>071</td><td>JavaScript ES7</td><td>190425T215030Z</td><td><a href="https://codegolf.stackexchange.com/questions/184751/probabilistic-approach-puzzle/184789#184789">Arnauld</a></td></tr>
<tr d-ix="6"><td>013</td><td>Japt x</td><td>190425T190700Z</td><td><a href="https://codegolf.stackexchange.com/questions/184751/probabilistic-approach-puzzle/184771#184771">Shaggy</a></td></tr>
<tr d-ix="7"><td>041</td><td>Retina</td><td>190425T190511Z</td><td><a href="https://codegolf.stackexchange.com/questions/184751/probabilistic-approach-puzzle/184770#184770">Neil</a></td></tr>
<tr d-ix="8"><td>007</td><td>Jelly</td><td>190425T183226Z</td><td><a href="https://codegolf.stackexchange.com/questions/184751/probabilistic-approach-puzzle/184766#184766">Jonathan</a></td></tr>
<tr d-ix="9"><td>032</td><td>Octave/MATLAB  with Statistics Package/Toolbox</td><td>190425T170532Z</td><td><a href="https://codegolf.stackexchange.com/questions/184751/probabilistic-approach-puzzle/184764#184764">Luis Men</a></td></tr>
<tr d-ix="10"><td>008</td><td>Gaia</td><td>190425T132838Z</td><td><a href="https://codegolf.stackexchange.com/questions/184751/probabilistic-approach-puzzle/184752#184752">Giuseppe</a></td></tr>
<tr d-ix="11"><td>007</td><td>05AB1E</td><td>190425T135954Z</td><td><a href="https://codegolf.stackexchange.com/questions/184751/probabilistic-approach-puzzle/184758#184758">Emigna</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="http://pari.math.u-bordeaux.fr/" rel="nofollow noreferrer">Pari/GP</a>, 35 bytes</h1>
<pre><code>n-&gt;binomial(n)*isprime([0..n])~/2^n
</code></pre>
<p><a href="https://tio.run/##DYtBCoAgEAC/snTSUNPu@ZEoMMhYyFWsc1/f9jKHYaaljvZqnGEBJhsPpFow3Yr0iE/rWE61eudo098078S5dkUSBwPBG5CCXhED2CjI8mnNPw" rel="nofollow noreferrer" title="Pari/GP – Try It Online">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1>Excel Formula, <s>311</s> 309 bytes</h1>

<p>The following should be entered as an array formula (<kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>Enter</kbd>):</p>

<pre><code>=SUM(IFERROR(COMBIN(A1,SMALL(IF(MMULT(--(IF(ROW(INDIRECT("2:"&amp;A1))&gt;TRANSPOSE(ROW(INDIRECT("2:"&amp;A1))),MOD(ROW(INDIRECT("2:"&amp;A1)),(ROW(INDIRECT("2:"&amp;A1))&gt;TRANSPOSE(ROW(INDIRECT("2:"&amp;A1))))*TRANSPOSE(ROW(INDIRECT("2:"&amp;A1)))))=0),ROW(INDIRECT("2:"&amp;A1)))=0,ROW(INDIRECT("2:"&amp;A1))),ROW(INDIRECT("1:"&amp;A1)))),0))/(2^A1)
</code></pre>

<p>Where <code>A1</code> is the number to test.</p>

<p><strong>Examples:</strong></p>

<pre><code>A1=15
Result: 0.34997558593750
A1=25
Result: 0.341329127550125
</code></pre>

<p><strong>Credits</strong></p>

<p><code>-2</code> thanks to <a href="https://codegolf.stackexchange.com/users/78915/sophia-lechner">Sophia Lechner</a>!</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 7 bytes</h1>

<pre><code>Ø.ṗ§ẒÆm
</code></pre>

<p><a href="https://tio.run/##ARkA5v9qZWxsef//w5gu4bmXwqfhupLDhm3///8z" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>

<p>Different approach from Jonathan Allan's answer.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, <s>198</s> <s>125</s> 97 bytes</h1>



<pre class="lang-python prettyprint-override"><code>lambda n:f(n)/2**n
f=lambda n,h=0:h&gt;1&gt;sum(h%i&lt;1for i in range(2,h))if n&lt;1else f(n-1,h+1)+f(n-1,h)
</code></pre>

<p><a href="https://tio.run/##XYyxDoIwEEB3v@IWQw9K9DBhaGi/xKXG1rsEDgI4@PXVQRe3l5e8t7x2nvVS2F/LGKfbPYK6bBRPXV3rIfuftOzPjgOF7TkZPspAeV5BQBTWqI9kOsuIkkEHSuOW4DNpyXJD2HwRy19CPbplFd2N2KoNlWUjiOUN" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>

<p>To aid in understanding, I first generate all the of the possible combinations, then I get then total heads if that is prime, then I add the total number of primes.  The second function, <code>h</code> generates the result from function <code>f</code>.  Bellow is the original algorithm before minimizing it.</p>

<pre class="lang-python prettyprint-override"><code>def f(n,h=""):
  count = 0
  if n==0:
    hCount=h.count("h")
    for i in range(2, hCount):
      if hCount % i == 0:
        return 0
    if hCount &lt; 2:
      return 0
    return 1
  count += f(n-1,h+"h")
  count += f(n-1,h+"t")
  return count

def h(n):
  return f(n), (2**n)

print(h(4))
</code></pre>

<p>Credits:</p>

<ul>
<li>From 125 to 97 bytes by <a href="https://codegolf.stackexchange.com/users/81203/attinat">attinat</a></li>
</ul>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, 33 bytes</h1>

<p>Uses Binomial and outputs ,really fast, fractions   </p>

<p><a href="https://i.stack.imgur.com/fXTxb.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/fXTxb.png" alt="enter image description here"></a>    </p>

<pre><code>Tr@Binomial[#,Prime@Range@#]/2^#&amp;
</code></pre>

<p><a href="https://tio.run/##y00syUjNTSzJTE78n277P6TIwSkzLz83MzEnWlknoCgzN9UhKDEvPdVBOVbfKE5Z7T9QLK9EwSE92jiWC8yOhtJgMQOsgthEDQ2Awv//AwA" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>

<p>The original code according to my formula was </p>

<pre><code>Tr@Binomial[#,Prime@Range@PrimePi@#]/2^#&amp;    
</code></pre>

<p>but, as <strong>@attinat</strong> commented, instead of searching all Primes &lt; <code>n</code>  we can<br>
search the first <code>n</code> primes because every prime > <code>n</code> returns zero binomial.<br>
In this way we save <em>8 bytes</em>     </p>

<p>Here is also the graph of the first 1000 cases which looks pretty cool   </p>

<p><a href="https://i.stack.imgur.com/RRFQh.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/RRFQh.png" alt="enter image description here"></a></p>
</div>
<div id="pu5" class="pu"><h1>JavaScript (ES7), 71 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>n=&gt;(s=1,g=i=&gt;i&lt;n&amp;&amp;(s*=(n-i)/++i)*(p=d=&gt;i%--d?p(d):d==1)(i)+g(i))``/2**n
</code></pre>
<p><a href="https://tio.run/##DckxDoMwDEDRnVN4KbITUgojYHoVECEoFXIiUnWpevY0y3/Df62fNW2Xj28jwe7ZcRaeMXHXHOx59pPUNSbFKMZTq7UnhZFtOTdj7DOipcEyd4Se9FFCy9L2Skl24UIBhm4EgQn6R1Frgm8FsAVJ4dzvZzhQGnAoRGP1y38" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a> <a href="https://codegolf.meta.stackexchange.com/a/14339/"><code>-x</code></a>, 13 bytes</h1>
<pre><code>õÈj *UàX /2pU
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;flags=LXg&amp;code=9chqICpV4FggLzJwVQ&amp;input=OA" rel="nofollow noreferrer">Try it</a></p>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language" rel="nofollow noreferrer">Retina</a>, 41 bytes</h1>

<pre><code>K`
"$+"+%`^
$"H
*\Cm`^(?!(..+)\1+$)..
m`^
</code></pre>

<p><a href="https://tio.run/##K0otycxLNPz/3zuBS0lFW0lbNSGOS0XJg0srxjk3IU7DXlFDT09bM8ZQW0VTT48LKPT/vzEA" rel="nofollow noreferrer" title="Retina – Try It Online">Try it online!</a> Output is as a ratio. Explanation:</p>

<pre><code>K`
"$+"+%`^
$"H
</code></pre>

<p>Generate all the possible coin tosses of <code>n</code> coins, but keep only the heads. (<code>T$"H</code> would keep the tails as well.)</p>

<pre><code>*\Cm`^(?!(..+)\1+$)..
</code></pre>

<p>Count how many are prime and print on a separate line.</p>

<pre><code>m`^
</code></pre>

<p>Count how many there are altogether.</p>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="noreferrer">Jelly</a>, 7 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="noreferrer">bytes</a></h1>

<pre><code>cÆRSH⁸¡
</code></pre>

<p><strong><a href="https://tio.run/##y0rNyan8/z/5cFtQsMejxh2HFv7//98YAA" rel="noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>

<h3>How?</h3>

<pre><code>cÆRSH⁸¡ - Link@ integer, n                   e.g. 20
 ÆR     - primes to n                             [2,3,5,7,11,13,17,19]
c       - (n) choose (vectorises)                 [190,1140,15504,77520,167960,77520,1140,20]
   S    - sum                                     340994
      ¡ - repeat...
     ⁸  - ...times: chain's left argument, n
    H   - ...action: halve
        -   (170497, 85248.5, ..., ~0.65, ~0.325) 0.3251972198486328
</code></pre>
</div>
<div id="pu9" class="pu"><h1><a href="https://www.gnu.org/software/octave/" rel="nofollow noreferrer">Octave</a>/MATLAB  with Statistics Package/Toolbox, 32 bytes</h1>



<pre class="lang-matlab prettyprint-override"><code>@(n)sum(binopdf(primes(n),n,.5))
</code></pre>

<p><a href="https://tio.run/##y08uSSxL/Z9mq6en999BI0@zuDRXIykzL78gJU2joCgzN7UYKKiTp6Nnqqn5P03D2EDzPwA" rel="nofollow noreferrer" title="Octave – Try It Online">Try it online!</a></p>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/splcurran/Gaia" rel="nofollow noreferrer">Gaia</a>, <s>12</s> 8 bytes</h1>

<pre><code>:ṅK¦Σ@z÷
</code></pre>

<p><a href="https://tio.run/##S0/MTPz/3@rhzlbvQ8vOLXaoOrz9/38TAA" rel="nofollow noreferrer" title="Gaia – Try It Online">Try it online!</a></p>

<pre><code>:&#9;&#9;| dup input n
 ṅ&#9;&#9;| push first n prime numbers, [2..k]
  K¦&#9;&#9;| push n choose k (0 if k &gt; n)
    Σ&#9;&#9;| sum
     @z&#9;&#9;| push 2^n
       ÷&#9;| divide
</code></pre>
</div>
<div id="pu11" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, <s>10</s> 7 bytes</h1>

<pre><code>ÅPcOso/
</code></pre>

<p><a href="https://tio.run/##yy9OTMpM/f//cGtAsn9xvv7//2YA" rel="nofollow noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>

<p><strong>Explanation</strong></p>

<pre><code>ÅP       # push a list of primes upto and including input
  c      # push choose(input, prime) for each prime
   O     # sum
    so   # push 2^input
      /  # divide 
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/184751/">184751</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




