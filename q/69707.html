<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::69707</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>081</td><td>Perl 5 Minteger pa</td><td>240117T232059Z</td><td><a href="https://codegolf.stackexchange.com/questions/69707/all-your-base-palindromic-belong-to-us/269327#269327">Xcali</a></td></tr>
<tr d-ix="1"><td>008</td><td>Jelly</td><td>170831T084209Z</td><td><a href="https://codegolf.stackexchange.com/questions/69707/all-your-base-palindromic-belong-to-us/141135#141135">Erik the</a></td></tr>
<tr d-ix="2"><td>012</td><td>Jelly</td><td>160119T223242Z</td><td><a href="https://codegolf.stackexchange.com/questions/69707/all-your-base-palindromic-belong-to-us/69712#69712">Dennis</a></td></tr>
<tr d-ix="3"><td>013</td><td>Husk</td><td>201029T134237Z</td><td><a href="https://codegolf.stackexchange.com/questions/69707/all-your-base-palindromic-belong-to-us/214356#214356">Razetime</a></td></tr>
<tr d-ix="4"><td>085</td><td>Python 2</td><td>190102T201113Z</td><td><a href="https://codegolf.stackexchange.com/questions/69707/all-your-base-palindromic-belong-to-us/178275#178275">Triggern</a></td></tr>
<tr d-ix="5"><td>010</td><td>Japt</td><td>180830T130428Z</td><td><a href="https://codegolf.stackexchange.com/questions/69707/all-your-base-palindromic-belong-to-us/171468#171468">Shaggy</a></td></tr>
<tr d-ix="6"><td>1972</td><td>><></td><td>170903T215817Z</td><td><a href="https://codegolf.stackexchange.com/questions/69707/all-your-base-palindromic-belong-to-us/141503#141503">Sasha</a></td></tr>
<tr d-ix="7"><td>097</td><td>Python 2</td><td>170831T201826Z</td><td><a href="https://codegolf.stackexchange.com/questions/69707/all-your-base-palindromic-belong-to-us/141206#141206">Titus</a></td></tr>
<tr d-ix="8"><td>921</td><td>PHP</td><td>170831T184850Z</td><td><a href="https://codegolf.stackexchange.com/questions/69707/all-your-base-palindromic-belong-to-us/141193#141193">Titus</a></td></tr>
<tr d-ix="9"><td>731</td><td>PHP</td><td>170831T184716Z</td><td><a href="https://codegolf.stackexchange.com/questions/69707/all-your-base-palindromic-belong-to-us/141192#141192">Titus</a></td></tr>
<tr d-ix="10"><td>095</td><td>JavaScript ES6</td><td>160120T001324Z</td><td><a href="https://codegolf.stackexchange.com/questions/69707/all-your-base-palindromic-belong-to-us/69720#69720">user8165</a></td></tr>
<tr d-ix="11"><td>019</td><td>MATL</td><td>160119T222222Z</td><td><a href="https://codegolf.stackexchange.com/questions/69707/all-your-base-palindromic-belong-to-us/69709#69709">Luis Men</a></td></tr>
<tr d-ix="12"><td>020</td><td>CJam</td><td>160119T223256Z</td><td><a href="https://codegolf.stackexchange.com/questions/69707/all-your-base-palindromic-belong-to-us/69713#69713">Martin E</a></td></tr>
<tr d-ix="13"><td>013</td><td>Pyth</td><td>160119T222453Z</td><td><a href="https://codegolf.stackexchange.com/questions/69707/all-your-base-palindromic-belong-to-us/69710#69710">lirtosia</a></td></tr>
<tr d-ix="14"><td>149</td><td>ES6</td><td>160120T154535Z</td><td><a href="https://codegolf.stackexchange.com/questions/69707/all-your-base-palindromic-belong-to-us/69765#69765">Neil</a></td></tr>
<tr d-ix="15"><td>088</td><td>Haskell</td><td>160120T122901Z</td><td><a href="https://codegolf.stackexchange.com/questions/69707/all-your-base-palindromic-belong-to-us/69753#69753">Damien</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> <code>-Minteger -pa</code>, 81 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>map{@n=($t=&quot;@F&quot;)%$_;push@n,$t%$_ while$t/=$_;$\+=&quot;@n&quot;eq&quot;@{[reverse@n]}&quot;}2..$_+1}{
</code></pre>
<p><a href="https://tio.run/##DYpBCsIwEAC/ImEFpTa2SgWRQE7efIFK6WGxgbqNyaqHkK@75jQMMx7D1Ik8B58smRWwUfas1kvoT/4dR0sb4CKL7@gmBN6aEuBWlYsUvpRN14AfDBEt3bPKO62hr9qcRI77w2/27GaKUl863bRNoSPGBwap/fAH" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 8 bytes</h1>
<pre><code>bRfU$Lµ€
</code></pre>
<p><a href="https://tio.run/##y0rNyan8/z8pKC1UxefQ1kdNa/7//28KAA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<p>Alternatively:</p>
<pre><code>bRŒḂ€Sµ€
</code></pre>
<p><a href="https://tio.run/##y0rNyan8/z8p6OikhzuaHjWtCT60FUj@///fFAA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
</div>
<div id="pu2" class="pu"><h1>Jelly, 12 bytes</h1>
<pre><code>bRµ=UP€S
RÇ€
</code></pre>
<p><a href="http://jelly.tryitonline.net/#code=YlLCtT1VUOKCrFPCtlLDh-KCrA&amp;input=&amp;args=MTA" rel="nofollow noreferrer">Try it online!</a></p>
<p>An old 14-byte version  (The Jelly interpreter had a bug that made converting to unary impossible)</p>
<pre><code>bR‘$µ=UP€S
RÇ€
</code></pre>
<p><a href="http://jelly.tryitonline.net/#code=YlLigJgkwrU9VVDigqxTClLDh-KCrA&amp;input=&amp;args=MTA" rel="nofollow noreferrer">Try it online!</a></p>
<h3>How it works</h3>
<pre><code>bR‘$µ=UP€S  Helper link. Argument: z

 R‘$        Apply range and increment, i.e., map z to [2, ..., z + 1].
            In the non-competing version R simply maps z to [1, ... z].
b           Convert z to each of the bases to the right.
    µ       Begin a new, monadic chain. Argument: base conversions
     =U     Compare the digits of each base with the reversed digits.
            = has depth 0, so [1,2,3]=[1,3,3] yields [1,0,1].
       P€   Take the product of the innermost arrays.
         S  Sum all resulting Booleans.


RÇ€         Main link. Argument: n

R           Yield [1, ..., n].
 Ç€         Apply the helper link to each.
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a>, 13 bytes</h1>
<pre><code>mλṁoS=↔`B¹ḣ)ḣ
</code></pre>
<p><a href="https://tio.run/##yygtzv7/P/fc7oc7G/ODbR@1TUlwOrTz4Y7FmkD8//9/UwA" rel="nofollow noreferrer" title="Husk – Try It Online">Try it online!</a></p>
<p>not sure if I can avoid using a lambda here.</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, 85 bytes</h1>



<pre class="lang-python prettyprint-override"><code>def f(a):b,c=2,0;exec'd,m=[],a\nwhile m:d+=[m%b];m/=b\nc+=d[::-1]==d;b+=1;'*a;print c
</code></pre>

<p><a href="https://tio.run/##BcFLDsIgFADAtZ6CjSkIRmEJeSehLPhaEnltSBPx9Dhz/M5tRzVnyoUU6pkOIoISL5NHjksSDawTfsXvVj@ZNJ042HYLzrQnhBUjh2S1fkgHkEzgIM1y9@boFU8SZ9k7GaQi6R7fmUqhJNPXS6GDzT8" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>

<p>Expects an integer as an argument.</p>

<p>Explanation:</p>

<pre class="lang-python prettyprint-override"><code># named function
def f(a):
    # initialize variable to track base (b) and to track palindromes (c)
    b,c=2,0
        # construct code
        '
        # initialize variable to store remainders (m) and to track divisor (d)
        m,d=[],a
        # while d is not zero,
        # add the current remainder to the array
        # and divide d by the base and assign the result back to d
        while d:m+=[m%b];d/=b
        # False == 0 and True == 1, so add 1 to total if m == reversed(m)
        c+=m[::-1]==m;
        # increment base
        # terminate with ; so that next statement can be executed separately
        b+=1;
        '
    # execute constructed statement (a) times
    exec'....................................................'*a
    # print result
    print c
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, 10 bytes</h1>
<pre><code>õ_õ!ìZ èêS
</code></pre>
<p><a href="https://ethproductions.github.io/japt/?v=1.4.6&amp;code=9V/1IexaIOjqUw==&amp;input=OA==" rel="nofollow noreferrer">Try it</a></p>
<hr />
<h2>Explanation</h2>
<pre><code>õ              :Range [1,input]
 _             :Map each Z
  õ            :  Range [1,Z] (let's call each X)
   !ìZ         :   Convert Z to a base X digit array
       è       :  Count
        êS     :   Palindromes
</code></pre>
</div>
<div id="pu6" class="pu"><h1>>&lt;>, 197+2 Bytes</h1>

<p>+2 for -v flag</p>

<pre><code>:1+0v    ;n\
1\  \$:@2(?/
:&lt;~$/?)}:{:*}}@:{{
\   \~0${:}
&gt;$:@1(?\::4[:&amp;r&amp;r]:$&amp;@@&amp;%:&amp;@&amp;$@-$,5[1+{]$~{{:@}}$@,$
~~1 \  \
?\~0&gt;$:@2(?\$1-:@3+[}]4[}1-]=
 \  /@@r/!?/
r@+1/)0:&lt;
  /?/$-1$~&lt;
~$/       \-1
</code></pre>

<p>tio.run doesn't seem to return any output for n>1, but you can verify it on <a href="https://fishlanguage.com" rel="nofollow noreferrer">https://fishlanguage.com</a>. Input goes in the "Initial stack" box.</p>
</div>
<div id="pu7" class="pu"><h1>Python 2, 97 bytes</h1>

<pre class="lang-python prettyprint-override"><code>c=1;n=int(input())
for b in range(2,n):
&#9;a=[];z=n
&#9;while z:a+=[z%b];z//=b
&#9;c+=a[::-1]==a
print c

</code></pre>
<p>My first Python post, actually my first Python code at all<br />
probably has some golfing potential.</p>
<p><a href="https://tio.run/##DcyxCsMgEADQ2fuKWwpKWoIZDfcl4nBK2gjlImII9edt1je88mv7IcsYiewqlKXpLOVs2hh4HxUjZsHK8tn08hTjQDH5sHYSUNeevxt2xxP5/oi3zjNFUGki9s69bCBiKPVOMcEY9g8" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu8" class="pu"><h1>PHP, 92+1 bytes:</h1>
<pre class="lang-php prettyprint-override"><code>for($b=$c=1;$b++&lt;$n=$argn;$c+=$a==array_reverse($a))for($a=[];~~$n;$n/=$b)$a[]=$n%$b;echo$c;
</code></pre>
<p>works for all bases. Run as pipe with <code>-nR</code> or <a href="http://sandbox.onlinephpfunctions.com/code/0897aa4aa94a4bbad8b7402904ccf2f817d3906a" rel="nofollow noreferrer">try it online</a>.</p>
</div>
<div id="pu9" class="pu"><h1>PHP, 73+1 bytes</h1>
<pre class="lang-php prettyprint-override"><code>while(++$i&lt;$argn)$c+=strrev($n=base_convert($argn,10,$i+1))==$n;echo$c+1;
</code></pre>
<p>works for bases <code>1</code> to <code>36</code>. Run as pipe with <code>-nR</code> or <a href="http://sandbox.onlinephpfunctions.com/code/85ba61651bf57830f7aa8ff228c0b77b5ec28447" rel="nofollow noreferrer">try it online</a>.</p>
</div>
<div id="pu10" class="pu"><h1>JavaScript (ES6), <s>105</s> 95 bytes</h1>

<pre class="lang-js prettyprint-override"><code>f=(n,b)=&gt;b?b&lt;2?1:f(n,b-1)+([...s=n.toString(b)].reverse().join``==s):n&lt;2?[1]:[...f(n-1),f(n,n)]
</code></pre>

<h2>Explanation</h2>

<p>Takes a number from 1 to 36 (the limitation of base conversion in JavaScript) and returns an array of the sequence.</p>

<p>Recursive function that checks for palindromes when a base is passed, else returns the sequence if just <code>n</code> is passed.</p>

<pre class="lang-js prettyprint-override"><code>f=(n,b)=&gt;

  // Base palindrome checking
  b?
    b&lt;3?1:                 // return 1 for base-1, since toString(2)
    f(n,b-1)+(             // return the sum of all lower bases and check  this
      [...s=n.toString(b)] // s = n in base b
      .reverse().join``==s // add 1 if it is a palindrome
    )

  // Sequence generation
  :
    n&lt;2?[1]:               // return 1 for the first value of the sequence
    [...f(n-1),f(n,n)]     // return the value for n after the previous values
</code></pre>

<h2>Test</h2>

<p><div class="snippet" data-lang="js" data-hide="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>var solution = f=(n,b)=&gt;b?b&lt;2?1:f(n,b-1)+([...s=n.toString(b)].reverse().join``==s):n&lt;2?[1]:[...f(n-1),f(n,n)]</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;input type="number" oninput="result.textContent=solution(+this.value)" /&gt;
&lt;pre id="result"&gt;&lt;/pre&gt;</code></pre>
</div>
</div>
</p>
</div>
<div id="pu11" class="pu"><h1><a href="https://esolangs.org/wiki/MATL" rel="nofollow noreferrer">MATL</a>, 19 <s>20</s> bytes</h1>
<pre><code>:&quot;0@XK:Q&quot;K@:YAtP=A+
</code></pre>
<p>Uses <a href="https://github.com/lmendo/MATL/releases/tag/10.1.0" rel="nofollow noreferrer">current release (10.1.0)</a>, which is earlier than this
challenge.</p>
<p><a href="http://matl.tryitonline.net/#code=OiIwQFhLOlEiS0A6WUF0UD1BKw&amp;input=MTA" rel="nofollow noreferrer"><strong>Try it online</strong>!</a></p>
<h3>Explanation</h3>
<pre><code>:            % vector [1,2,...,N], where &quot;N&quot; is implicit input
&quot;            % for each number in that vector
  0          % push 0
  @          % push number 1,2,...N corresponding to current iteration, say &quot;n&quot; 
  XK         % copy n to clipboard
  :Q         % vector [2,3,...,n+1]
  &quot;          % for each number &quot;m&quot; in that vector
    K        % push n
    @:       % vector [1,2,...,m]
    YA       % express n in base m with symbols 1,2,...,m
    tP       % duplicate and permute
    =A       % 1 if all entries are equal (palindrome), 0 otherwise
    +        % add that number
             % implicitly close the two loops and display stack contents
</code></pre>
</div>
<div id="pu12" class="pu"><h2>CJam, 20 bytes</h2>

<pre><code>ri{)_,f{)b_W%=}1bp}/
</code></pre>

<p><a href="http://cjam.aditsu.net/#code=ri%7B)_%2Cf%7B)b_W%25%3D%7D1bp%7D%2F&amp;input=20" rel="nofollow">Test it here.</a></p>
</div>
<div id="pu13" class="pu"><h2>Pyth, 13 bytes</h2>
<pre><code>mlf_ITjLdSdSQ
</code></pre>
<p>The brevity of this is mostly due to the <code>I</code>nvaluable &quot;<code>I</code>nvariant&quot; command.</p>
<pre><code>msf_ITjLdSdSQ       implicit: Q=input
m         d         map lambda d over
           SQ       Inclusive range 1 to Q
      jLdSd         Convert d to all the bases between 1 and d
  f                  filter lambda T:
   _IT                 is invariant under reverse
 l                  number that are invariant under reverse
</code></pre>
<p>If <code>True</code> is an acceptable output for <code>1</code>, <code>msm_IjdkSdSQ</code> (12 bytes) works.</p>
<p>Try it <a href="http://pyth.herokuapp.com/?code=mlf_ITjLdSdSQ&amp;input=10&amp;debug=1" rel="nofollow noreferrer">here</a>.</p>
</div>
<div id="pu14" class="pu"><h2>ES6, 149 bytes</h2>

<pre><code>n=&gt;[...Array(n)].map((_,i)=&gt;[...Array(i)].reduce((c,_,j)=&gt;c+(''+(a=q(i+1,j+2,[]))==''+a.reverse()),1),q=(n,b,d)=&gt;n&lt;b?[n,...d]:q(n/b|0,b,[n%b,...d]))
</code></pre>

<p>Works for bases > 36 too.</p>
</div>
<div id="pu15" class="pu"><h1>Haskell, 88 bytes</h1>



<pre class="lang-haskell prettyprint-override"><code>a!b|a&lt;b=[a]|1&gt;0=mod a b:(div a b)!b
f n=[1+sum[1|x&lt;-[2..y],y!x==reverse(y!x)]|y&lt;-[1..n]]
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/69707/">69707</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




