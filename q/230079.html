<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::230079</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>170</td><td>Python3</td><td>240830T011940Z</td><td><a href="https://codegolf.stackexchange.com/questions/230079/drop-some-boxes/275251#275251">Ajax1234</a></td></tr>
<tr d-ix="1"><td>073</td><td>Ruby</td><td>210621T142336Z</td><td><a href="https://codegolf.stackexchange.com/questions/230079/drop-some-boxes/230208#230208">G B</a></td></tr>
<tr d-ix="2"><td>055</td><td>J</td><td>210620T162545Z</td><td><a href="https://codegolf.stackexchange.com/questions/230079/drop-some-boxes/230095#230095">Jonah</a></td></tr>
<tr d-ix="3"><td>024</td><td>Jelly</td><td>210620T190331Z</td><td><a href="https://codegolf.stackexchange.com/questions/230079/drop-some-boxes/230099#230099">Nick Ken</a></td></tr>
<tr d-ix="4"><td>091</td><td>Python 2</td><td>210620T115104Z</td><td><a href="https://codegolf.stackexchange.com/questions/230079/drop-some-boxes/230084#230084">ovs</a></td></tr>
<tr d-ix="5"><td>022</td><td>Pyth</td><td>210620T140605Z</td><td><a href="https://codegolf.stackexchange.com/questions/230079/drop-some-boxes/230090#230090">PurkkaKo</a></td></tr>
<tr d-ix="6"><td>031</td><td>Brachylog</td><td>210620T122619Z</td><td><a href="https://codegolf.stackexchange.com/questions/230079/drop-some-boxes/230087#230087">Unrelate</a></td></tr>
<tr d-ix="7"><td>057</td><td>Charcoal</td><td>210620T110322Z</td><td><a href="https://codegolf.stackexchange.com/questions/230079/drop-some-boxes/230081#230081">Neil</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>Python3, 170 bytes</h1>
<pre class="lang-py prettyprint-override"><code>E=enumerate
def f(b):
 s=0
 while b:s+=1;t=[i for i in b[0]if i][0];b=[K for i,a in E(b)if any(K:=[''if j==t and(i==0 or''==b[i-1][I]) else j for I,j in E(a)])]
 return s
</code></pre>
<p><a href="https://tio.run/##bZBNa8IwGIDPe3/FSy9NNjesHzAqObTag8jmYO4wsjBaTDHSpSWJDH99F626Sw8hyfPAQ/I2R7er9fi5MW2bMakPP9LkTsJWlliSgsaAlg0Bf3eqkljE9oFFM8e4wrI2qFBpLPhQqBKV8PusYHzVqUF@kplveJnrI1nFjIehv@wZc55siWJsiLUJQ8YKrh4jwZeCoqysxP05shzsu0hOBRWARrqD0WhbGyHDIAggSSFN4HSyoyuCFOawgKzD4ytOkts6i8ktMfeVRZbM005ML@JtvUk263dYrNPs8@PlLE9zcfV3UedmS6wfz93lTZzfK3GbSakqJw15rbUcoH2yTaUcCb90SP03oDFKO1KS/1BEKe3Bo3487seTfjz1uP0D" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 73 bytes</h1>

<pre class="lang-ruby prettyprint-override"><code>-&gt;l{l.permutation.map{|x|x*=?_;1while x.sub!(/(.*)_\1/,'\1');x.size}.min}
</code></pre>
<p><a href="https://tio.run/##KypNqvyfZvtf1y6nOkevILUot7QksSQzP08vN7GguqaipkLL1j7e2rA8IzMnVaFCr7g0SVFDX0NPSzM@xlBfRz3GUF3TGiicWZVaq5ebmVf7v0AhLTpaydFJSUfJyVEpNpYLKuDoCBRBkAgJF5BKVyDhDJZzBnGdgPL/AQ" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
<p>Assuming I can accept a list of columns in input</p>
<h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 108 bytes</h1>

<pre class="lang-ruby prettyprint-override"><code>-&gt;l{l.map(&amp;:chars).transpose.map(&amp;:join).permutation.map{|x|x*=?_;1while x.sub!(/(.*)_\1/,'\1');x.size}.min}
</code></pre>
<p><a href="https://tio.run/##RcrBCoIwAMbxe09hO6QTm3hNLDbrKVRkxsSJzrEpWeqzLwvBy3f4fX81FG9TRuZ8baYGtVQ6p8uzokpD1CsqtOw027juuIBIMtUOPe15J34@zeM8utEtD4NXxRtmjUgPxdHxHeTCPA18z04DG4Yr8w9bUMvFYqRVJgnABHiAYJBlhw0wXmXf/SDxP74/cExWNl8" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
<p>Otherwise</p>
</div>
<div id="pu2" class="pu"><h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, 55 bytes</h1>
<pre><code>(1+[:&lt;./$:&quot;1)@((]}.~1{.=)&amp;.&gt;&quot;0/~' '-.~{.&amp;&gt;)`0:@.(''-:;)
</code></pre>
<p><a href="https://tio.run/##ZY1NC4JQEEX3/YpBovFRjl@I8EzxPbVVZfSxiAiCSCqIFtXK8q@bmS2kuczq3DNzLhXCDHwOCAMwgFerEUTz8ahUzf6GD0nvcsVkoapuX1SYOfmsR4Fi6AUCalTk1AvYzuAhqYga91jJOof98Qo2@JCBp4dPDlaVLqCQUuCXui3qfGkkZJyISDYdp@nUKE7w/65d5WP@BjtTSXA/XQ43uD7uUAum1frlfoxZuhTLdBGnMlmvJli@AQ" rel="nofollow noreferrer" title="J – Try It Online">Try it online!</a></p>
<p>Brute force recursion taking away boxes until none are left, and returning the minimum number of steps.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 24 bytes</h1>
<pre><code>ZWṖ€ṛ¦Ɱ0ịⱮĠƊ$€Ẏ$Ẹ€Ạ$Ð¿L’
</code></pre>
<p><a href="https://tio.run/##y0rNyan8/z8q/OHOaY@a1jzcOfvQskcb1xk83N0NpI4sONalAhLe1afycNcOMGuByuEJh/b7PGqY@d/6UcOcQ9sUdO0UHjXMtX64e8vhdhWuo5Mf7lz8qHHfoW2Hth1uB2rJgnL@/3d04nJy5OJy5HLicuZy4XIFMh0d4ZjL0ckZqMLF1dHZCQA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<p>A monadic link taking a list of Jelly strings (a list of lists of characters) and returning an integer.</p>
<h2>Explanation</h2>
<pre><code>Z                        | Transpose
 W                       | Wrap in a list
                   $Ð¿   | While the following is true:
                Ẹ€       | - Any list is non-empty for each list of lists
                  Ạ      | - All
               $         | Do the following, collecting up intermediate results
            $€           | - For each list:
  Ṗ€ṛ¦Ɱ    Ɗ             |   - Remove the last character of the lists for each of the groups of indices determined by the following:
       0ịⱮ               |     - Last character of each list
          Ġ              |     - Group indices of identical characters
               Ẏ         | - Tighten (join outermost lists together)
                      L  | Length
                       ’ | Subtract 1
</code></pre>
<p><a href="https://tio.run/##y0rNyan8/z8q/OHOaY@a1jzcOfvQskcb1xk83N0NpI4sONalAhLe1Rd4rOvhrh1g9gKVwxMO7fd51DDzv/WjhjmHtino2ik8aphr/XD3lsPtKlxHJz/cufhR475D2w5tO9wO1JIF5fz/7@jE5eTIxeXI5cTlzOXC5QpkOjrCMZejkzNQhYuro7MTF1eAf4hjiH8wl4u/k2tkqC8A" rel="nofollow noreferrer">All cases</a> (uses <code>Q</code> for 1 extra byte to make it more efficient, but would complete eventually without it)</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, <s>103</s> 91 bytes</h1>
<p>-12 bytes thanks to <a href="https://codegolf.stackexchange.com/users/30164/purkkakoodari">PurkkaKoodari</a>!</p>

<pre class="lang-python prettyprint-override"><code>lambda s:f(zip(*s))
f=lambda s:len(s)and-~min(f({r[r[0]==x[0]:]for r in s}-{()})for x in s)
</code></pre>
<p><a href="https://tio.run/##PY3BboMwEETv@xW@xa4EalpVlZBcyZB8BXCgxSSWwFheRyGN0l@na4I4eOV5M7PrbuE82rf5JKu5b4bvtmGYdfzXOP6CQkAnN9pry1E0tk3@BmN5x@@@9OVrLeVEM6u70TPPjGX4SO5cPEQE0wLEbAY3@sDwhhA0BmQy/lMMrbGp103LRYquN4HvKlvZHV2mdozGBUslA8Z6Y3XsRvDML4QL8vx4jdYCyizZ18T05PRP0C1xYwN/emStt0S5r5eqxksfKHTicUtEzlNhNYB0g6h92JJyWz2rHHIF8ou9AyjIoYADHKP@IK3U9tZEXlDhcFRFHsnnPw" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a> The last testcase times out.</p>
<p>The first function just transposes the input, if we can take input as a list of columns it can be omitted.</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/isaacg1/pyth" rel="noreferrer">Pyth</a>, 22 bytes</h1>
<pre><code>L&amp;lbhSmhyfT&gt;RqhkhdbbyC
</code></pre>
<p><a href="https://tio.run/##K6gsyfj/30ctJykjODejMi3ELqgwIzsjJSmp0vn//2ilAP8QxxD/YCUdJRd/J9fIUF@lWAA" rel="noreferrer" title="Pyth – Try It Online">Try it online!</a> <a href="https://tio.run/##K6gsyfj/30ctJykjODejMi3ELqgwIzsjJSkpt9L5//9oJUcnJR0lJ0elWB0gG8QEYmcgdgFiV4ioI0gcQYLFnJzBGl1cHZ2dwCIB/iGOIf7BIDF/J9fIUF@lWAA" rel="noreferrer">Or run all test cases at once.</a></p>
<p>This is basically <a href="https://codegolf.stackexchange.com/a/230084/30164">ovs's Python solution</a> translated verbatim to Pyth (it seems that their solution's exact algorithm is also shortest in Pyth), so I'm posting it as community wiki. Doesn't time out thanks to Pyth's memoization.</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/JCumin/Brachylog" rel="noreferrer">Brachylog</a>, 31 bytes</h1>
<pre><code>∧≜.&amp;z{{⟨k≡t⟩|;X}ᵐRtᵛ∧Rhᵐ}ⁱ↖.zĖ∧
</code></pre>
<p><a href="https://tio.run/##SypKTM6ozMlPN/pfXa6koGunoFRu/6htw6Ompoe7Omsfbp3w/1HH8kedc/TUqqqrH81fkf2oc2HJo/kra6wjQLJBJQ@3zgaqCMoAcmofNW581DZNr@rINKDQ///R0UqOTko6CkpOjkqxOgpAHpgDIpxBhAuIcIVKOYIlkSiIsJMzxAgXV0dnJ4hYgH@IY4h/MFjU38k1MtRXKTYWAA" rel="noreferrer" title="Brachylog – Try It Online">Try it online!</a></p>
<p>It's a <em>bit</em> less efficient than even the other two answers so far (it does the classic recompute everything if it hasn't reached the end in as many steps as it's trying), so I might just delete this when I wake up if it still hasn't spit something out for the second-to-last test case.</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="noreferrer">Charcoal</a>, 57 bytes</h1>
<pre><code>ＷＳ⊞υι≔⟦Ｅθ⮌⭆υ§λκ⟧η≔⁰ζＷ⌊η«≦⊕ζ≔ηθ≔⟦⟧ηＦθＦκ⊞ηΦＥκΦμ∨π¬⁼ξ§λ⁰μ»Ｉζ
</code></pre>
<p><a href="https://tio.run/##VU@7bsMwDJytr@BIASqQvZPspoCHtEE7Bh0ER40ES7KtRxqk6LerSiL0wYU48nh3HJTwwyRMzh9KGwnYuznF1@i1OyClsE1BYWKg6T3hIeiDw91GzLgweJFH6YPEG/kyLDwee7eXJzQMRlrqjYH6PV0xOBdUrTbaaZssquLzSZqiUGm9G7y00kW5vx00daEYLH/grqo375MHXChc@1hTF/KjNlF6vGQbf5Bl8OxxZvA0RVwvSZiAp3/JV/RaDCwt6l9kWx6M2IkQ8VwmOfO24y15WPOuJfnuaL4B" rel="noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Uses brute force so too slow for the last test case on TIO. Explanation:</p>
<pre><code>ＷＳ⊞υι
</code></pre>
<p>Input the pile.</p>
<pre><code>≔⟦Ｅθ⮌⭆υ§λκ⟧η
</code></pre>
<p>Rotate the pile by 90° and put it into a list.</p>
<pre><code>≔⁰ζ
</code></pre>
<p>Start counting the number of steps.</p>
<pre><code>Ｗ⌊η«
</code></pre>
<p>Repeat until there is at least one empty pile.</p>
<pre><code>≦⊕ζ
</code></pre>
<p>Increment the number of steps.</p>
<pre><code>≔ηθ≔⟦⟧ηＦθ
</code></pre>
<p>Make a copy of the list of piles so that it can be looped over while starting a new list of piles.</p>
<pre><code>Ｆκ
</code></pre>
<p>Loop over each column of the pile.</p>
<pre><code>⊞ηΦＥκΦμ∨π¬⁼ξ§λ⁰μ
</code></pre>
<p>Remove the letter at the bottom of that column from all of the columns that have it as its bottom letter and push any remaining non-empty columns to the list.</p>
<pre><code>»Ｉζ
</code></pre>
<p>Print the number of steps needed.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/230079/">230079</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




