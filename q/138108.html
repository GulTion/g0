<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::138108</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>125</td><td>JavaScript Node.js</td><td>240905T074249Z</td><td><a href="https://codegolf.stackexchange.com/questions/138108/will-i-make-it-out-in-time/275368#275368">l4m2</a></td></tr>
<tr d-ix="1"><td>081</td><td>APL</td><td>240905T043509Z</td><td><a href="https://codegolf.stackexchange.com/questions/138108/will-i-make-it-out-in-time/275362#275362">Aaron</a></td></tr>
<tr d-ix="2"><td>208</td><td>Python 2</td><td>170808T140616Z</td><td><a href="https://codegolf.stackexchange.com/questions/138108/will-i-make-it-out-in-time/138113#138113">TFeld</a></td></tr>
<tr d-ix="3"><td>071</td><td>Octave</td><td>170809T150136Z</td><td><a href="https://codegolf.stackexchange.com/questions/138108/will-i-make-it-out-in-time/138247#138247">rahnema1</a></td></tr>
<tr d-ix="4"><td>015</td><td>Snails</td><td>170808T140843Z</td><td><a href="https://codegolf.stackexchange.com/questions/138108/will-i-make-it-out-in-time/138114#138114">feersum</a></td></tr>
<tr d-ix="5"><td>174</td><td>JavaScript</td><td>170809T023526Z</td><td><a href="https://codegolf.stackexchange.com/questions/138108/will-i-make-it-out-in-time/138167#138167">tsh</a></td></tr>
<tr d-ix="6"><td>243</td><td>Retina</td><td>170808T215011Z</td><td><a href="https://codegolf.stackexchange.com/questions/138108/will-i-make-it-out-in-time/138146#138146">Neil</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 125 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>M=&gt;(g=$=&gt;M.map((X,i)=&gt;X.map((c,j)=&gt;c--?$?c&amp;&amp;(h=(a,b,k)=&gt;k&amp;&amp;h(b,-a,k&gt;&gt;1,g|=a&gt;b|a&gt;-b?0:k))(i-$,j-y,8):c||g([i],y=j):0)))()|g&gt;14
</code></pre>
<p><a href="https://tio.run/##lY/PDoIwDMbvPAchbdIRIB4MZuMJuJsQDmPC5I9ixJiY7N1xKFxUDqaH9vu1ab828i4Hda0vN3buD@VY8THlAjR3uUj9k7wA7KlGLvZvoaixQjGWuInyPDhykFRQa2HreUcoiElqhQhJGy5FYaRgRRLELSLUzKWGPWiLsTJGQ1bn9OANxgHaLhotws24U/156LvS73oNFWROFtAUEc05JydbxBwTCn6haG0q/ETRH7tslTs5ovPtNVxrRIv11@3lh4nY@fEJ" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>Four sector check. <code>g</code> reused to store 4 flags.</p>
<p><code>$</code> is used because it was <code>g&lt;&quot;15&quot;</code> so a function is smaller than the number</p>
</div>
<div id="pu1" class="pu"><h1>APL, 81 chars</h1>
<pre><code>{e←↓⍉2 4⍴2⌽(⌽,⍉↑s s←⊃s f←⍸¨'OF'=⊂⍵),1,(⌽⍴⍵),1⋄0=∧/+⌿↑(f{+/¨|⍵-⊂⍺}¨⊂e)≤⊂+/¨|e-⊂s}
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, <s>283</s> <s>218</s> <s>209</s> 208 bytes</h1>



<pre class="lang-python prettyprint-override"><code>lambda F:f(F)&amp;f(F[::-1])
def f(F):l=F.split();w=len(l[0])+1;i=F.index('O');x,y=i/w,i%w;r=range(len(l));return all('F'in''.join(n)for n in[[l[i][x+abs(i-y):]for i in r],[l[i][max(0,y+x-i):i+x-y+1]for i in r]])
</code></pre>

<p><a href="https://tio.run/##tVPLboMwELz7K6xUrb2C0DjpE8TVVz6AcCACUleOExHawNdTm6dT5VbVkpf1zrC7Hq1PTfVxVOt2H25bmR52WYq5X1AOD9rEvr9kCaAsL7CJ@TLk3vkkRUUhuIQyV1TGqwQcFgiNCJXlNSURgaB2m1A8XlxxfwnKsEzVPqcdHSAo8@qrVDiVkhJOhCLE@zwKRRUUxxIrLFQcy1gkce2kuzMVywb8xEBCQ7hM3B49pDVduY1TLwX4Qn8ah9m0BNpC5DJjOMSLxcLzPG42MtYs5E0OtyLR4PBbHO7pTAh1edcmbzSeNlMVzY2GP2fyUw9zs9BYbKRZvOeZh/SOjOEz/DJUsZtDVx2i8QacXwXNcc7z@k@avE3tIx51N5ix9wHT5XRCXdLC2GqW74Y@fX8Wndk6cLul0eF917@hKxXY@rYM/C8yTAPYzTxz2QZ8hE@lUBXe0/w71VPfVSfYweeqpAIA7oZXRbaKALQ/" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>

<p>Takes input as a newlines separated string, and returns <code>True/False</code> for <code>Dead/Alive</code></p>

<p>Works by checking each direction(udlr) for <code>F</code>ire in by looking outward:</p>

<p>Example:</p>

<p>Input:</p>

<pre class="lang-python prettyprint-override"><code>FFFFF
.....
..O..
.....
</code></pre>

<p>Fire checks:</p>

<pre class="lang-python prettyprint-override"><code>Up:       Down:     Left:     Right:

FFFFF               F             F
 ...                ..           ..
  O         O       ..O         O..
           ...      ..           ..
</code></pre>

<p>If all directions contain fire you die, otherwise there is an escape.</p>

<p>Edit: Back to taking a string as input, and now only checks for up/right, but also checks the input backwards (giving down/left)</p>

<p>Saved a lot of bytes thanks to <a href="https://codegolf.stackexchange.com/users/59487/mr-xcoder">Mr. Xcoder</a> and <a href="https://codegolf.stackexchange.com/users/66418/felipe-nardi-batista">Felipe Nardi Batista</a></p>
</div>
<div id="pu3" class="pu"><h1>Octave, 71 bytes</h1>

<pre class="lang-matlab prettyprint-override"><code>@(a)(A=blkdiag(0,a,0))&lt;3||any((bwdist(A&gt;2,'ci')&gt;bwdist(A==2,'ci'))(!A))
</code></pre>
<p><a href="https://tio.run/##y08uSSxL/f/fQSNRU8PRNiknOyUzMV3DQCdRx0BT08a4piYxr1JDI6k8JbO4RMPRzkhHPTlTXdMOJmBrCxXR1FB01NT8n5hXrMEVbaigoADDxkhsMJ8LQwgFc@GWQkgbE6/bCLe0MdXsBovFcmn@BwA" rel="nofollow noreferrer" title="Octave – Try It Online">Try it online!</a></p>
<p>or</p>
<p><a href="https://tio.run/##3VXLboMwELz7K@gJr4RQsG@ljso/9FZxcAikKIhWxWkVNfl2amEKNhiapJyKtJYZz673MYjXRPCPtBbvB/FydJjj@z76Qo58nh0Syw1SL4FcOmugZkvGUGdx60rlYpiFOw4xF3kyuuLqEBlDtCmrq4rO53H9Eb2wsLEXvSmg4Rlb5jX019oU3FDpBQnORyHzFLp4LrTtzDlEGS@qtBf6QEN9Y4hFTrrkAlPIpE@iO7WNIlhM/xMz1C@dbMVVDf2FQqcG@@eLltY0/ZeaNhRpU6U5Kr2p57B@xBxwxDbFfpvzHV553FsBPNDTiZdHjDef27wSOFoTz01yF9Y/AGMtAvguAqgzxssqRPLwDbtPaSXycueon8q9CyhJiyI7lDjzFAYDpvoqTabCoP4G" rel="nofollow noreferrer" title="Octave – Try It Online">Verify all test cases!</a></p>
<p>Input format:</p>
<ul>
<li>2D array of integers</li>
<li><code>1</code> for <code>.</code>, <code>2</code> for <code>O</code> and <code>3</code> for <code>F</code></li>
</ul>
<p>Output:</p>
<ul>
<li><code>true</code> and <code>false</code></li>
</ul>
<p>Explanation:</p>
<p>Explanation:</p>
<pre class="lang-matlab prettyprint-override"><code>A=blkdiag(0,a,0)    % add a boundary of 0s around the array
A&lt;3                 % return truthy when there is no fire
bwdist(A&gt;2,'ci')    % city block distance transform of binary map of fire
bwdist(A==2,'ci')   % city block distance transform of binary map of your location
any(...)(!A)        % check if there is at least one element on the boundary of 
                    % the fire distance map has its distance greater than 
                    % that of distance map of your location
</code></pre>
</div>
<div id="pu4" class="pu"><h1>Snails, 15 bytes</h1>
<pre><code>\Oo!{.,fee7.,\F
</code></pre>
<p><a href="https://tio.run/##K85LzMwp/v8/xr9SsVpPJy011VxPJ8bt/389Nz0g4NLTQ6Fggv4QnhuKIIgLAA" rel="noreferrer" title="Snails – Try It Online">Try it online!</a></p>
<p><code>1</code> means survival while <code>0</code> means death.</p>
<p>Since it is impossible to outrun the fire, it is never useful to try to go around it. The best route is always a straight line. So there are only four possible choices of escape route. To determine if a direction is safe, we check for any <code>F</code> in the &quot;fire cone&quot; pointing in that direction.</p>
</div>
<div id="pu5" class="pu"><h1>JavaScript, 174 bytes</h1>

<pre><code>a=&gt;+(t=&gt;g=a=&gt;t--?g(a.map((l,y)=&gt;l.map((c,x)=&gt;(h=v=&gt;[(a[y-1]||[])[x],(a[y+1]||[])[x],a[y][x+1],a[y][x-1],c].includes(v),!c&amp;&amp;h()?p=1:[2,0,1].find(h))))):p)((p=a+'!').length)(a)
</code></pre>

<p>Input format:</p>

<ul>
<li>Array of Array of Integers</li>
<li>2 for <code>F</code>, 1 for <code>.</code>, 0 for <code>O</code></li>
</ul>

<p>Output:</p>

<ul>
<li>Truthy value (1) for survive</li>
<li>Falsy value (NaN) for die</li>
</ul>

<p>Try It:</p>

<p><div class="snippet" data-lang="js" data-hide="true" data-console="true" data-babel="false">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-js lang-js prettyprint-override"><code>f=a=&gt;+(t=&gt;g=a=&gt;t--?g(a.map((l,y)=&gt;l.map((c,x)=&gt;(h=v=&gt;[(a[y-1]||[])[x],(a[y+1]||[])[x],a[y][x+1],a[y][x-1],c].includes(v),!c&amp;&amp;h()?p=1:[2,0,1].find(h))))):p)((p=a+'!').length)(a)
t=s=&gt;f(s.trim().split('\n').map(x=&gt;x.split('').map(n=&gt;({F:2,'.':1,O:0}[n]))))

console.log(t(`
FFFFF
.....
..O..
.....
`))

console.log(t(`
FFFF
FFFO
FFFF
`))

console.log(t(`
.F....
......
......
.F....
..O...
.FF...
.F....
..FF..
`))

console.log(t(`
...F...F
F.......
........
.F......
....O...
...F....
........
.F....F.
`))

console.log(t(`
FFF
FOF
FFF
`))

console.log(t(`
F.F
.O.
F.F
`))

console.log(t(`
....F
.....
..O..
.....
F....
`))

console.log(t(`
.F....F.
........
........
F..O....
........
.....F..
`))

console.log(t(`
...F...F
F......F
........
.F......
....O...
...F....
........
.F....F.
`))</code></pre>
</div>
</div>
</p>

<p>Consider a cellular automaton. There are 3 states for a cell <code>O</code> (reachable by people), <code>F</code> (catch fired), <code>.</code> (nothing just happened). The rule for create next generation is:</p>

<pre><code>for each cell:
  me and my 4 neighborhoods,
    if anyone is `F` then result is `F`,
    otherwise, if anyone is `O` then result is `O`
    otherwise, keep state `.`
</code></pre>

<p>Once there is an cell on edge has <code>O</code> state, the people survive. If this not happened in enough amount generation, then the people died.</p>

<pre><code>// check for all neighbors:
h=v=&gt;[(a[y-1]||[])[x],(a[y+1]||[])[x],a[y][x+1],a[y][x-1],c].includes(v)
// if me == 'O' and i'm edge (neighbors contain _undefined_), then survive
!c&amp;&amp;h()?p=1
// Otherwise apply the given rule
:[2,0,1].find(h)
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/m-ender/retina" rel="nofollow noreferrer">Retina</a>, 243 bytes</h1>

<pre><code>^.*O(.|¶)*|(.|¶)*O.*$|(.|¶)*(¶O|O¶)(.|¶)*
O
m`^((.)*) (.*¶(?&lt;-2&gt;.)*(?(2)(?!))O)
$1#$3
m`^((.)*O.*¶(?&lt;-2&gt;.)*(?(2)(?!))) 
$1#
T`p`\O`#| ?O ?
+m`^((.)*)[O ](.*¶(?&lt;-2&gt;.)*(?(2)(?!))F)
$1#$3
+m`^((.)*F.*¶(?&lt;-2&gt;.)*(?(2)(?!)))[O ]
$1#
}T`p`F`#|.?F.?
O
</code></pre>

<p><a href="https://tio.run/##dY0xDsIwDEV3n8KoHewgLFFWRDavXtiAKgwMDCCEGMO1eoBeLDSojRiopTjf1pPf8/K63s8pteKMJPYduzj@Jq6eMvWdRRvSOIPBLbREwo6RxPUd@e2q2Q0zeWqY/ILZGOp1VW8KajMgYwZhHx7haKGK6A09LIvhYHiak@gkKbjOWfKZr@idTTqIxKt4sJQQUfOD3HMBlqA/GxuD/mMUPw" rel="nofollow noreferrer" title="Retina – Try It Online">Try it online!</a> Requires the background to be spaces rather than <code>.</code>s (or some other regexp-safe character could be used). Explanation:</p>

<pre><code>^.*O(.|¶)*|(.|¶)*O.*$|(.|¶)*(¶O|O¶)(.|¶)*
O
</code></pre>

<p>If there is an <code>O</code> on any edge, delete everything else (survival case)</p>

<pre><code>m`^((.)*) (.*¶(?&lt;-2&gt;.)*(?(2)(?!))O)
$1#$3
</code></pre>

<p>Place a <code>#</code> in any space above an existing <code>O</code>.</p>

<pre><code>m`^((.)*O.*¶(?&lt;-2&gt;.)*(?(2)(?!))) 
$1#
</code></pre>

<p>And a <code>#</code> in any space below an existing <code>O</code>.</p>

<pre><code>T`p`\O`#| ?O ?
</code></pre>

<p>Change the <code>#</code>s to <code>O</code>s, and also any space to the left or right of an existing <code>O</code>.</p>

<pre><code>+m`^((.)*)[O ](.*¶(?&lt;-2&gt;.)*(?(2)(?!))F)
$1#$3
</code></pre>

<p>Place <code>#</code>s above any existing <code>F</code>s. These can overwrite <code>O</code>s as well as spaces.</p>

<pre><code>+m`^((.)*F.*¶(?&lt;-2&gt;.)*(?(2)(?!)))[O ]
$1#
</code></pre>

<p>Place <code>#</code>s below any existing <code>F</code>s, also overwriting <code>O</code>s as well as spaces.</p>

<pre><code>}T`p`F`#|.?F.?
</code></pre>

<p>Change the <code>#</code>s to <code>F</code>s, and also any <code>O</code> or space to the left or right of an existing <code>F</code>. Repeat until the <code>F</code>s have consumed everything.</p>

<pre><code>O
</code></pre>

<p>Return <code>1</code> for survival, <code>0</code> if not.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/138108/">138108</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




