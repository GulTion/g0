<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="g.js"></script>
    <title>cg::262985</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>119</td><td>ForWhile</td><td>230719T152539Z</td><td><a href="https://codegolf.stackexchange.com/questions/262985/numbers-that-can-be-negated-by-reading-backwards/263037#263037">bsoelch</a></td></tr>
<tr d-ix="1"><td>014</td><td>Nekomata</td><td>230720T110454Z</td><td><a href="https://codegolf.stackexchange.com/questions/262985/numbers-that-can-be-negated-by-reading-backwards/263066#263066">alephalp</a></td></tr>
<tr d-ix="2"><td>086</td><td>Python</td><td>230718T174106Z</td><td><a href="https://codegolf.stackexchange.com/questions/262985/numbers-that-can-be-negated-by-reading-backwards/262988#262988">mousetai</a></td></tr>
<tr d-ix="3"><td>015</td><td>Jelly</td><td>230719T200259Z</td><td><a href="https://codegolf.stackexchange.com/questions/262985/numbers-that-can-be-negated-by-reading-backwards/263044#263044">Jonathan</a></td></tr>
<tr d-ix="4"><td>134</td><td>Perl 5</td><td>230719T192734Z</td><td><a href="https://codegolf.stackexchange.com/questions/262985/numbers-that-can-be-negated-by-reading-backwards/263042#263042">ascheple</a></td></tr>
<tr d-ix="5"><td>025</td><td>05AB1E</td><td>230719T095557Z</td><td><a href="https://codegolf.stackexchange.com/questions/262985/numbers-that-can-be-negated-by-reading-backwards/263021#263021">Kevin Cr</a></td></tr>
<tr d-ix="6"><td>066</td><td>Raku Perl 6 rakudo</td><td>230718T192959Z</td><td><a href="https://codegolf.stackexchange.com/questions/262985/numbers-that-can-be-negated-by-reading-backwards/262998#262998">bb94</a></td></tr>
<tr d-ix="7"><td>059</td><td>JavaScript V8</td><td>230718T184845Z</td><td><a href="https://codegolf.stackexchange.com/questions/262985/numbers-that-can-be-negated-by-reading-backwards/262992#262992">Arnauld</a></td></tr>
<tr d-ix="8"><td>027</td><td>Charcoal</td><td>230718T195602Z</td><td><a href="https://codegolf.stackexchange.com/questions/262985/numbers-that-can-be-negated-by-reading-backwards/263003#263003">Neil</a></td></tr>
<tr d-ix="9"><td>021</td><td>Pyth</td><td>230718T191348Z</td><td><a href="https://codegolf.stackexchange.com/questions/262985/numbers-that-can-be-negated-by-reading-backwards/262995#262995">CursorCo</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://esolangs.org/wiki/ForWhile" rel="nofollow noreferrer">ForWhile</a>, 119 bytes</h1>
<pre><code>{1:2$4$[2@4;+'[1-:@48+#)1-:@[48#.]2@[1+:@48'-#).10#.4::@1+'$2@[:@2=[0~;$1+::@1+'$]:)2@4+=[3::@~'$@![2:@1+'$]2@3+1'$]1)}
</code></pre>
<p>Input: integer <code>n</code> on the stack</p>
<p>Prints the first <code>n</code> numbers of the sequence in balanced ternary with <code>/</code> as symbol for <code>-1</code></p>
<p><a href="https://bsoelch.github.io/OneChar.js/?lang=forwhile&amp;src=ewogMToyJDQkCiBbCiAyQDQ7KydbMS06QDQ4KyMpMS06QFs0OCMuXTJAWzErOkA0OCctIykuMTAjLjQKIDo6QDErJyQyQFs6QDI9WzB-OyQxKzo6QDErJyRdOikyQDQrPVszOjpAfickQCFbMjpAMSsnJF0yQDMrMSckXQogMSkKfTAkCgoxMDAgMEA_" rel="nofollow noreferrer">Online Interpreter</a></p>
<p>Explanation:</p>
<p>Memory:</p>
<ul>
<li>cell 2 -&gt; length of first half of number</li>
<li>cell 3 -&gt; marker if total length is odd</li>
<li>cells 4ff -&gt; digits of first half of number (from center outwards)</li>
</ul>
<pre><code>{  \ procedure
  1:2$4$  \ store 1 in cells 2 (length) and 4 (start of value)
  [                                  \ loop-without pushing the loop-counter
    2@4;+'[1-:@48+#)                 \ write the first digits of the number
    1-:@[48#.]                       \ write 0 if number has odd length
    2@[1+:@48'-#).10#.4              \ write digits reversed and mirrored
    ::@1+'$2@[:@2=[0~;$1+::@1+'$]:)  \ increment number
    2@4+=[                           \ check for overflow
      3::@~'$                        \ flip cell 3
      @![2:@1+'$]                    \ increase length if new length is even
      2@3+1'$                        \ set top trit (ternary digit) to 1
    ] 
  1)                                 \ go back to start of loop
}
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/AlephAlpha/Nekomata" rel="nofollow noreferrer">Nekomata</a>, 14 bytes</h1>
<pre><code>Ňᵐ{3r~←}1c:↔_=
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70iLzU7PzexJHHBgqWlJWm6FluPtj_cOqHauKjuUduEWsNkq0dtU-JtlxQnJRdDVcBUAgA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Outputs the numbers in balanced ternary (as lists of digits).</p>
<hr />
<h1><a href="https://github.com/AlephAlpha/Nekomata" rel="nofollow noreferrer">Nekomata</a>, 16 bytes</h1>
<pre><code>Ňᵐ{3r~←}1c:↔_=3b
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70iLzU7PzexJHHBgqWlJWm6FtuPtj_cOqHauKjuUduEWsNkq0dtU-JtjZOWFCclF0PVwNQCAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Outputs the numbers in the usual form.</p>
<pre><code>Ňᵐ{3r~←}1c:↔_=3b
Ň                   Choose a natural number n
 ᵐ{    }            Map the following function to the range [0, n)
   3r~                  Choose a random number from [0, 3)
      ←                 Decrement
                        (These two steps generate any tuple of [-1, 0, 1])
        1c          Prepends 1
                        (This ensures that it is the balanced ternary representation of a positive number)
          :         Duplicate
           ↔        Reverse
            _       Negate
             =      Check equality
              3b    Convert from base 3
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 86 bytes</h1>
<pre class="lang-python prettyprint-override"><code>f=lambda x:x and[-~x%3]+f(-~x//3)or[]
i=1
while i:
 if f(i:=i+1)==f(-i)[::-1]:print(i)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72soLIkIz9vwYKlpSVpuhY3w9JscxJzk1ISFSqsKhQS81KidesqVI1jtdM0gAx9fWPN_KLoWK5MW0Ou8ozMnFSFTCsuhcw0hTSNTCvbTG1DTVtboMpMzWgrK13DWKuCosy8Eo1MTYjpUEtglgEA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<ul>
<li>-3 bytes thanks to <a href="https://codegolf.stackexchange.com/questions/262985/numbers-that-can-be-negated-by-reading-backwards/262988?noredirect=1#comment576201_262988">SuperStormer</a></li>
<li>-3 bytes thanks to <a href="https://codegolf.stackexchange.com/questions/262985/numbers-that-can-be-negated-by-reading-backwards/262988?noredirect=1#comment576235_262988">Jonathan Allan</a></li>
<li>-1 byte thanks to <a href="https://codegolf.stackexchange.com/questions/262985/numbers-that-can-be-negated-by-reading-backwards/262988?noredirect=1#comment576245_262988">Value Link</a></li>
</ul>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 15 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<p>Port of <a href="https://codegolf.stackexchange.com/users/17602/neil">Neil</a>'s Charcoal <a href="https://codegolf.stackexchange.com/a/263003/53748">answer</a> - go show your love.</p>
<pre><code>b3’µḢR¬;ṚN⁸;Ø+j
</code></pre>
<p>A monadic Link that accepts a positive integer, <span class="math-container">\$n\$</span>, and yields the <span class="math-container">\$n^{\text{th}}\$</span> reverse-negate-invariant number in balanced ternary as a list of integers from <span class="math-container">\$\{-1,0,1\}\$</span>.</p>
<p><strong><a href="https://tio.run/##ASUA2v9qZWxsef//YjPigJnCteG4olLCrDvhuZpO4oG4O8OYK2r///85" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong> Or see the <a href="https://tio.run/##ATAAz/9qZWxsef//YjPigJnCteG4olLCrDvhuZpO4oG4O8OYK2r/w4figqzhuIUz//8xMDA" rel="nofollow noreferrer" title="Jelly – Try It Online">test-suite</a> (first 100 converted to integers).</p>
<h3>How?</h3>
<pre><code>b3’µḢR¬;ṚN⁸;Ø+j - Link: positive integer, n            e.g. 21
b3              - convert {n} to base three                 [2,1,0]
  ’             - decrement {each digit}                D = [1,0,-1]
   µ            - start a new monadic chain - f(D=that)
    Ḣ           - pop the head off {D} and yield it         1  (and D -&gt; [0,-1])
     R          - range {that} (1 -&gt; [1] else [])           [1]
      ¬         - logical NOT {that} ([] -&gt; []; [1] -&gt; [0]) [0]
        Ṛ       - reverse {modified D}                      [-1,0]
       ;        - concatenate                               [0,-1,0]
         N      - negate {that}                             [0,1,0]
          ⁸     - chain's left argument -&gt; modified D       [0,-1]
           ;    - concatenate                               [0,-1,0,1,0]
            Ø+  - signs literal -&gt; [1,-1]                   [1,-1]
              j - join                                      [1,0,-1,0,1,0,-1]
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a>, 134 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>while(++$n){for$c(&quot;&quot;,0){$_=&quot;T&quot;x$n;s/T/1/;do{($b=reverse)=~y/1T/T1/;print&quot;$_$c$b$/&quot;}while(/(?=[T0]1*$)/g&amp;&amp;substr($_,pos)=~y/T01/01T/)}}
</code></pre>
<p>Like some other answers, it uses string manipulations only, no math, to produce the reflected pattern of the sequence elements.</p>
<ul>
<li><code>while (++$n)</code> : Loop over increasing length of the prefix, endlessly.
<ul>
<li><code>for $c (&quot;&quot;,0)</code> : Do all the following twice, once with an empty string for the &quot;center&quot; and once with digit &quot;0&quot; for the &quot;center&quot;.
<ul>
<li><code>$_ = &quot;T&quot; x $n; s/T/1/;</code> : Form the smallest positive value of length <code>$n</code>, by creating a string of &quot;T&quot; characters then changing its first character to &quot;1&quot;.</li>
<li><code>do</code>...
<ul>
<li><code>($b = reverse) =~ y/1T/T1/;</code> : Form the suffix by reversing the prefix then negating its digits.</li>
<li><code>print &quot;$_$c$b$/&quot;</code> : Print the full output: prefix, center, suffix, and newline.</li>
</ul>
</li>
<li><code>while (/(?=[T0]1*$)/g &amp;&amp; substr($_, pos) =~ y/T01/01T/)</code> : Increment the prefix as a ternary string. Find the position of the last digit which is not a &quot;1&quot;. The loop ends if the string is nothing but &quot;1&quot; digits. Otherwise, change the digit found from &quot;T&quot; to &quot;0&quot; or from &quot;0&quot; to &quot;1&quot;, and change all the following &quot;1&quot; digits (if any) to &quot;T&quot; digits.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><a href="https://tio.run/##JcxNCsMgEEDhuwxD0CYwuugqSC/hrhTB1LaBoKLpH2KvbkO7frwvurTsW3ve5sWxvkfPyyUknBjAIHhBo0DDC/2YSZOk8RwKQ6uSe7iUHVefN0lNeisxzX4FNDihRYL6J4kd1FGLk9whp2vX5bvNa2Johhjyb9dCktgMXmtrXw" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 25 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>∞ʒD(‚ε[©_#®&gt;D3%s3/ï})}`RQ
</code></pre>
<p>Inspired by <a href="https://codegolf.stackexchange.com/a/262988/52210"><em>@mousetail</em>'s Python answer</a> and <a href="https://codegolf.stackexchange.com/a/262995/52210"><em>@CursorCoercer</em>'s Pyth answer</a>.</p>
<p>Outputs the infinite sequence.</p>
<p><a href="https://tio.run/##ASwA0/9vc2FiaWX//@KInsqSRCjigJrOtVvCqV8jwq4@RDMlczMvw699KX1gUlH//w" rel="nofollow noreferrer">Try it online.</a></p>
<p>Unfortunately 05AB1E rounds towards 0 for integer-division of negative values, unlike Python which always floors. Otherwise <code>[©_#®&gt;D3%s3/ï}</code> could have been <code>[©_#®&gt;3‰R`}</code> for -3 bytes by using divmod builtin <code>‰</code>.<br />
<a href="https://tio.run/##yy9OTMpM/f/fReNRw6xzW6MPrYxXPrTOzvhRw4aghFrN//8tAA" rel="nofollow noreferrer">See that it gives the expected result for positive integers, but not for negative ones.</a></p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>∞              # Push an infinite positive list: [1,2,3,...]
 ʒ             # Filter it by:
    ‚          #  Pair the current value
   (           #  with a negative
  D            #  copy of that value
  ε            #  Map over this [n,-n] pair:
   [           #   Start an infinite loop:
    ©          #    Store the current value in variable `®` (without popping)
     _         #    Pop and if it's 0:
      #        #     Stop the infinite loop
    ®          #    If not, push `®` again
     &gt;         #    Increase it by 1
      D        #    Duplicate it
       3%      #    Modulo-3
         s     #    Swap so the value+1 is at the top again
          3/   #    Divide by 3
            ï  #    Floor (by casting to an integer)
   })          #   After the infinite loop: wrap all values on the stack into a list
  }`           #  After the map: pop and push both lists to the stack
    R          #  Reverse the second list
     Q         #  Then check if the two lists are the same
               # (after which the filtered infinite list is output implicitly as result)
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://raku.org" rel="nofollow noreferrer">Raku (Perl 6) (rakudo)</a>, <s>69</s> 66 bytes</h1>
<pre class="lang-perl prettyprint-override"><code>.&amp;(my&amp;g={1 x?$_&amp;&amp;g(-+^$_ div 3)~$_%3})==g(-$_).flip&amp;&amp;.say for 1..*
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=hY5PCoJAHIX3nWIGf45_RgdlNoEMQgdpEEqTlMK0ErWLtHFRh7LTZCghEbV5b_H4Pt71lgXbou0eSrjLkMuY6zgOqgALboL00hJy4Xh9UApY5bZLITc5Om3iZI0Ao1V8FLzfKci6ZoegbGbKCFsDbOl_aMOa4GhyY6YwoqcliUQF0vcj3aZLkC8IceMCUuUYa1pjCNFPIA0WJvGekE_NvchDe94t3jIXnX2QhHwR_pSZg6kda-wn" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu7" class="pu"><h1><a href="https://v8.dev/" rel="nofollow noreferrer">JavaScript (V8)</a>, 59 bytes</h1>
<p>Prints the sequence infinitely.</p>

<pre class="lang-javascript prettyprint-override"><code>for(k=1;v=++k;t+k||print(k))for(t=0;v;v=v/3|0)t=++v%3-1+t*3
</code></pre>
<p><a href="https://tio.run/##y0osSyxOLsosKNEts/j/Py2/SCPb1tC6zFZbO9u6RDu7pqagKDOvRCNbUxMkV2JrYF0GlC3TN64x0CwBqipTNdY11C7RMv7/HwA" rel="nofollow noreferrer" title="JavaScript (V8) – Try It Online">Try it online!</a></p>
<h3>How?</h3>
<p>We convert <span class="math-container">\$k\ge2\$</span> to balanced ternary. Each produced digit is immediately used to convert the reversed balanced ternary representation of <span class="math-container">\$k\$</span> back to a decimal value <span class="math-container">\$t\$</span>. If we end up with <span class="math-container">\$k=-t\$</span>, we print <span class="math-container">\$k\$</span>.</p>
<h3>Commented</h3>
<pre class="lang-javascript prettyprint-override"><code>for(                // outer loop:
  k = 1;            //   start with k = 1
  v = ++k;          //   increment k and set v = k
                    //   (this is &gt; 0, so we loop forever)
  t + k || print(k) //   after each iteration: print k if t + k = 0
)                   //
  for(              //   inner loop:
    t = 0;          //     start with t = 0
    v;              //     stop when v = 0
    v = v / 3 | 0   //     after each iteration: update v to ⌊v/3⌋
  )                 //
    t =             //     update t:
      ++v % 3 - 1 + //       increment v and compute the next balanced
                    //       ternary digit (v mod 3) - 1
      t * 3         //       add t * 3
</code></pre>
<hr />
<h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, 74 bytes</h1>

<pre class="lang-c prettyprint-override"><code>v;t;main(k){for(;v=++k;t+k||printf(&quot;%d &quot;,k))for(t=0;v;v/=3)t=++v%3-1+t*3;}
</code></pre>
<p><a href="https://tio.run/##FcpBCoAgEADAr4QQaCYVHhcfI4YRlkUt26H6eludZ4IZQmAmQJj9mGVSZ1w2CeS0ToA6Xde6jRmjFGVfiDop9Tu6FgiocVbhN6m0ptNYWbiZnxAnP@xsjhc" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 27 bytes</h1>
<pre><code>Ｎθ1Φ⍘θT01κＦ⊖⊟⮌↨θ³0⮌Φ⍘θ10TκT
</code></pre>
<p><a href="https://tio.run/##S85ILErOT8z5/98zr6C0xK80Nym1SKNQ05oroCgzr0RDyVAJznbLzCkBSjolFqcGlwBF0jUKdRSUQgyASnQUsjWB6tLyixQ0XFKTi1JzU/NKUlM0AvILNIJSy1KLilPB@kA6jDVBQAFqvgHCfJhC7PYYGoRA7UE4Dihi/f@/oYHBf92yHAA" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Outputs the <code>n</code>th term of the sequence. Explanation:</p>
<pre><code>Ｎθ
</code></pre>
<p>Input <code>n</code>.</p>
<pre><code>1
</code></pre>
<p>Start by printing a <code>1</code>.</p>
<pre><code>Φ⍘θT01κ
</code></pre>
<p>Print <code>n</code> in base 3, decrementing all of the digits (so <code>0</code> becomes <code>T</code>), but skipping the first digit.</p>
<pre><code>Ｆ⊖⊟⮌↨θ³0
</code></pre>
<p>Print a <code>0</code> if <code>n</code>'s first digit in base 3 is <code>2</code>.</p>
<pre><code>⮌Φ⍘θ10Tκ
</code></pre>
<p>Print <code>n</code> in base 3, again decrementing after skipping the first digit, but then negating and reversing the result.</p>
<pre><code>T
</code></pre>
<p>Print a <code>T</code>.</p>
</div>
<div id="pu9" class="pu"><h1><a href="https://github.com/isaacg1/pyth" rel="nofollow noreferrer">Pyth</a>, 21 bytes</h1>
<pre><code>L?b+y/hb3%b3Y.fq_yZy_
</code></pre>
<p><a href="https://tio.run/##K6gsyfj/38c@SbtSPyPJWDXJOFIvrTC@Mqoy/v9/QwMDAA" rel="nofollow noreferrer" title="Pyth – Try It Online">Try it online!</a></p>
<p>Outputs the first <code>n</code> terms of the sequence.</p>
<h3>Explanation</h3>
<pre><code>L?b+y/hb3%b3Y.fq_yZy_ZQ    # implicitly add ZQ
                           # implicitly assign Q = eval(input())
L                          # define y(b)
 ?b                        #   conditional, if b:
    y/hb3                  #     y((b+1) / 3)
   +     %b3               #     append b % 3
            Y              #   else: []
             .f       Q    # return the first Q inputs where lambda Z is true
                _yZ        #   y(Z) reversed
               q           #   equals
                   y_Z     #   y(-Z)
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/262985/">262985</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




