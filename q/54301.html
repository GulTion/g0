<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::54301</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>4875</td><td>Vyxal</td><td>240210T185119Z</td><td><a href="https://codegolf.stackexchange.com/questions/54301/yarr-a-map-to-the-hidden-treasure/269978#269978">pacman25</a></td></tr>
<tr d-ix="1"><td>032</td><td>Charcoal</td><td>201212T114603Z</td><td><a href="https://codegolf.stackexchange.com/questions/54301/yarr-a-map-to-the-hidden-treasure/216257#216257">Razetime</a></td></tr>
<tr d-ix="2"><td>060</td><td>Jelly</td><td>191221T204333Z</td><td><a href="https://codegolf.stackexchange.com/questions/54301/yarr-a-map-to-the-hidden-treasure/197312#197312">Nick Ken</a></td></tr>
<tr d-ix="3"><td>nan</td><td>Ruby</td><td>150808T133418Z</td><td><a href="https://codegolf.stackexchange.com/questions/54301/yarr-a-map-to-the-hidden-treasure/54387#54387">Ventero</a></td></tr>
<tr d-ix="4"><td>260</td><td>Perl</td><td>150806T143338Z</td><td><a href="https://codegolf.stackexchange.com/questions/54301/yarr-a-map-to-the-hidden-treasure/54325#54325">LukStorm</a></td></tr>
<tr d-ix="5"><td>285</td><td>CoffeeScript</td><td>150812T204143Z</td><td><a href="https://codegolf.stackexchange.com/questions/54301/yarr-a-map-to-the-hidden-treasure/54584#54584">metalim</a></td></tr>
<tr d-ix="6"><td>417</td><td>PHP</td><td>150806T122144Z</td><td><a href="https://codegolf.stackexchange.com/questions/54301/yarr-a-map-to-the-hidden-treasure/54317#54317">axiac</a></td></tr>
<tr d-ix="7"><td>603</td><td>Common Lisp</td><td>150810T094409Z</td><td><a href="https://codegolf.stackexchange.com/questions/54301/yarr-a-map-to-the-hidden-treasure/54416#54416">coredump</a></td></tr>
<tr d-ix="8"><td>nan</td><td>PHP</td><td>150806T083741Z</td><td><a href="https://codegolf.stackexchange.com/questions/54301/yarr-a-map-to-the-hidden-treasure/54313#54313">Lars Ebe</a></td></tr>
<tr d-ix="9"><td>260</td><td>Javascript ES6</td><td>150806T065256Z</td><td><a href="https://codegolf.stackexchange.com/questions/54301/yarr-a-map-to-the-hidden-treasure/54310#54310">jrich</a></td></tr>
<tr d-ix="10"><td>237</td><td>Python 2</td><td>150806T064454Z</td><td><a href="https://codegolf.stackexchange.com/questions/54301/yarr-a-map-to-the-hidden-treasure/54308#54308">Sp3000</a></td></tr>
<tr d-ix="11"><td>244</td><td>JavaScript ES6</td><td>150807T132747Z</td><td><a href="https://codegolf.stackexchange.com/questions/54301/yarr-a-map-to-the-hidden-treasure/54361#54361">edc65</a></td></tr>
<tr d-ix="12"><td>359</td><td>Groovy</td><td>150807T154502Z</td><td><a href="https://codegolf.stackexchange.com/questions/54301/yarr-a-map-to-the-hidden-treasure/54367#54367">dbramwel</a></td></tr>
<tr d-ix="13"><td>557</td><td>C</td><td>150807T132606Z</td><td><a href="https://codegolf.stackexchange.com/questions/54301/yarr-a-map-to-the-hidden-treasure/54360#54360">LambdaBe</a></td></tr>
<tr d-ix="14"><td>498</td><td>XQuery 3.0</td><td>150806T210822Z</td><td><a href="https://codegolf.stackexchange.com/questions/54301/yarr-a-map-to-the-hidden-treasure/54341#54341">Kniffler</a></td></tr>
<tr d-ix="15"><td>394</td><td>Python 2</td><td>150806T053353Z</td><td><a href="https://codegolf.stackexchange.com/questions/54301/yarr-a-map-to-the-hidden-treasure/54304#54304">Alex L</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-2" rel="nofollow noreferrer">Vyxal</a>, 390 <a href="https://github.com/Vyxal/Vyncode/blob/main/README.md" rel="nofollow noreferrer">bits<sup>v2</a></sup>, 48.75 bytes</h1>
<pre><code>⌐⌊›?Ǎf`NESW`kd√:£Ŀ:ṅ¥`^&gt;v&lt;`ĿfW∩vǔṫ⁽‹ẇwJ:tt\X1&quot;pwJ⟑÷ø∧
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2&amp;c=1#WyI9IiwiIiwi4oyQ4oyK4oC6P8eNZmBORVNXYGtk4oiaOsKjxL864bmFwqVgXj52PGDEv2ZX4oipdseU4bmr4oG94oC54bqHd0o6dHRcXFgxXCJwd0rin5HDt8O44oinIiwiIiwiTjEyLEUxMSxTMTIsVzIsTjQiXQ==" rel="nofollow noreferrer">Try it Online!</a></p>
<p>Bitstring:</p>
<pre><code>000110000111010100000001000100000101011110110001100110111110111101111011001110011001001000011101100001111110011101110101110100100100110111110011000000010110101101110001011010011010000010011111100110010101010011010000110000010100000110001000100010100110010101010000110101110111100001000011001100000001110101110111000000101111101011000110101100100110111100111111000101110011110111110101001011
</code></pre>
<p>explanation: old.</p>
<pre><code>⌐⌊›?Ǎf`NESW`kd√:£Ŀ:ṅ¥`^&gt;v&lt;`ĿfW∩vǔṫ⁽‹ẇwJ:t0\XȦ1:ȦwJ⟑÷ø∧­⁡​‎‎⁪⁡⁪⁠⁪⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁪‏‏​⁡⁠⁡‌⁢​‎‎⁪⁡⁪⁠⁪⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁢⁪‏‏​⁡⁠⁡‌⁣​‎‎⁪⁡⁪⁠⁪⁢⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁤⁪‏‏​⁡⁠⁡‌⁤​‎‎⁪⁡⁪⁠⁪⁤⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁣⁪‏⁠⁪⁪⁠⁪⁪‏​⁡⁠⁡‌⁢⁡​‎‎⁪⁡⁪⁠⁪⁤⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁡⁪‏‏​⁡⁠⁡‌⁢⁢​‎‎⁪⁡⁪⁠⁪⁢⁡⁢⁪‏‏​⁡⁠⁡‌⁢⁣​‎‎⁪⁡⁪⁠⁪⁢⁡⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁤⁪‏⁠⁪⁪⁠⁪⁪⁠⁪⁪⁠⁪⁪⁠⁪⁪⁠⁪⁪‏​⁡⁠⁡‌⁢⁤​‎‎⁪⁡⁪⁠⁪⁢⁢⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁢⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁢⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁢⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁣⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁣⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁣⁣⁪‏‏​⁡⁠⁡‌⁣⁡​‎‎⁪⁡⁪⁠⁪⁢⁣⁤⁪‏‏​⁡⁠⁡‌⁣⁢​‎‎⁪⁡⁪⁠⁪⁢⁤⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁤⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁤⁣⁪‏‏​⁡⁠⁡‌⁣⁣​‎‏​⁢⁠⁡‌⁣⁤​‎‎⁪⁡⁪⁠⁪⁢⁤⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁡⁡⁪‏‏​⁡⁠⁡‌⁤⁡​‎‎⁪⁡⁪⁠⁪⁣⁡⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁡⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁡⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁢⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁢⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁢⁣⁪‏‏​⁡⁠⁡‌⁤⁢​‎‎⁪⁡⁪⁠⁪⁣⁢⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁣⁡⁪‏‏​⁡⁠⁡‌⁤⁣​‎‎⁪⁡⁪⁠⁪⁣⁣⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁣⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁣⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁤⁡⁪‏‏​⁡⁠⁡‌⁤⁤​‎‎⁪⁡⁪⁠⁪⁣⁤⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁤⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁤⁤⁪‏‏​⁡⁠⁡‌⁢⁡⁡​‎‎⁪⁡⁪⁠⁪⁤⁡⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁡⁢⁪‏‏​⁡⁠⁡‌⁢⁡⁢​‎‎⁪⁡⁪⁠⁪⁤⁡⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁡⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁢⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁢⁢⁪‏‏​⁡⁠⁡‌­
⌐⌊›                                                     # ‎⁡Split by comma, get the number part, and increment
   ?Ǎf                                                  # ‎⁢get the directional parts (NESW) and flatten
      `NESW`                                            # ‎⁣Directions
            kd√                                         # ‎⁤02468 as a string (every other digit 0-9)
               :£                                       # ‎⁢⁡store it in register
                 Ŀ                                      # ‎⁢⁢transliterate directions to corresponding canvas directions
                  :ṅ                                    # ‎⁢⁣duplicate it, join by nothing
                    ¥`^&gt;v&lt;`                             # ‎⁢⁤Push register, and string of directions
                           Ŀ                            # ‎⁣⁡transliterate (sets the printed text)
                            fW∩                         # ‎⁣⁢flatten, wrap entire stack in a list, and transpose
                               vǔ                       # ‎⁣⁤rotate each sublist to order [text, length, direction] for canvas
                                 ṫ⁽‹ẇwJ                 # ‎⁤⁡Decrement the length for the last direction
                                       :t               # ‎⁤⁢get the tail of the list
                                         0\XȦ           # ‎⁤⁣set the text to &quot;X&quot; 
                                             1:Ȧ        # ‎⁤⁤Set the length to 1
                                                wJ      # ‎⁢⁡⁡add it back to the list
                                                  ⟑÷ø∧  # ‎⁢⁡⁢For each sublist, push each item and draw to global canvas 
💎
</code></pre>
<p>Created with the help of <a href="https://vyxal.github.io/Luminespire" rel="nofollow noreferrer">Luminespire</a>.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 32 bytes</h1>
<pre><code>ＷＳ«≔⌕ENW§ι⁰θ✳⊗θ×§&gt;^&lt;vθΣι»Ｍ✳⁺⊗θ⁴X
</code></pre>
<p><a href="https://tio.run/##bc3BasJAFIXhtecphlndS1OoMWajCIIpuHAoTCFdCZoMeiFOajJJC6XPPlVKd92f7z/V@dBV7aGJ8eMsjVO09e9DsKETfyJm9YXJuu/l5OlZfE26MKVO1Dpsfe0@SRL1xJyoKy8webmZQBvpXBWk9bRph2PjarreF69ycT39Ob3aL0d9d4myw4WE@Vb4xq4d3b@Fh4wZvwf6TXOMJkeRw@Yo5zBzFBlshnIGM0ORwqYopzAp4mMz/gA" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a></p>
<p>Input taken as a multiline string.</p>
<p>Link is to verbose version of code.</p>
<p>Golfed from 43 bytes with <a href="https://chat.stackexchange.com/transcript/message/56410590#56410590">Neil's help.</a></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, <s>61</s> 60 bytes</h1>

<pre><code>“ESWN”iⱮo)µịØ.,U;N$¤Wẋɗ/€Ẏḣ1;Ɗ+\ṖZṂ€ạƊ‘ŒṬ€a"Œṙ-0¦$Sị“&gt;v&lt;^X ”
</code></pre>

<p><a href="https://tio.run/##y0rNyan8//9RwxzX4HC/Rw1zMx9tXJeveWjrw93dh2fo6YRa@6kcWhL@cFf3yen6j5rWPNzV93DHYkPrY13aMQ93Tot6uLMJLLrwWNejhhlHJz3cuQbIT1QCsWbqGhxaphIMNAlovF2ZTVyEAtCC/w93LgZSOg93LLIOA@pqWnO4PZLLGqhEIT2zLLVYITex4NA2oArrw@1cD3dvOdwOVJL1qHHfoW2Htv3/H2yqE27E5Weo42qoEwwmoWyQIJefmY6rmU6wmU64qY6fqY6riU6wiU64sY6fsY6rEVCNTjhQvRGXqxFUgxFQK8gcoISRjp8JAA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>

<p>A monadic link taking as its argument the directions as a list of lists, each of which has the compass direction character as its first member and the number of moves as an integer as its second. Returns a list of Jelly strings representing the map.</p>
</div>
<div id="pu3" class="pu"><h1>Ruby, <del>213 209 198 186</del> 178</h1>

<pre class="lang-ruby prettyprint-override"><code>M={};x=0,m=q=0
gets.scan(/.(\d+)/){?1.upto($1){m,y=x
x[d=$&amp;.ord%10%7-2]+=1|($u=M[y]||={})[m]=d
m&lt;q&amp;&amp;q=m}}
$u[m]=2
puts M.sort.map{|_,b|(q..b.max[0]).map{|k|"&gt;vX &lt;^"[b[k]||3]}*""}
</code></pre>

<p>Pass input via stdin.</p>

<p>This uses a <code>y -&gt; x -&gt; char</code> dictionary to construct the map, where both <code>x</code> and <code>y</code> can be negative. Once the input has been parsed, the global minimum of the x coordinate is extracted. For each row, it then iterates over a range going from the global minimum to the maximum index for the current line, and prints the correct character for that index.</p>

<p>To stay with the theme, the expressions to turn <code>NESW</code> into the proper indices were shamelessly pirated from <a href="https://codegolf.stackexchange.com/users/21487/sp3000">Sp3000</a>'s <a href="https://codegolf.stackexchange.com/a/54308/84">answer</a>.</p>

<p>Original version that used a <code>[x,y] -&gt; char</code> dictionary:</p>

<pre><code>M={};x=0,0
gets.scan(/.(\d+)/){(?1..$1).map{x[d=$&amp;.ord%10%7-2]+=1|M[$y=x+[]]=d}}
M[$y]=2
a,*q=M.minmax.flatten
M.map{|(x,y),v|($*[y-M.map{|a,|a[1]}.min]||=?\s.*q[2]-a)[x-a]="&gt;vX&lt;^"[v]}
puts$*.map &amp;:rstrip
</code></pre>
</div>
<div id="pu4" class="pu"><h1>Perl, <strike>702</strike> <strike>613</strike> <strike>546</strike> <strike>474</strike> <strike>439</strike> <strike>338</strike> 260 bytes</h1>

<p>Thanks to Dom Hastings for his help and his supergolfed version.<br>
The code uses a 2D array.</p>



<p>Version by Dom Hastings:</p>

<pre class="lang-perl prettyprint-override"><code>$x=$y=$a=$b=99;map{/^./;$a=($c=$x)&lt;$a?$x:$a,$A=$x&gt;$A?$x:$A,$b=($C=$y)&lt;$b?$y:$b,$B=$y&gt;$B?$y:$B,$q[$c][$C]={split'','W&lt;E&gt;N^Sv'}-&gt;{$&amp;},$x+={W,-1,E,1}-&gt;{$&amp;},$y+={N,-1,S,1}-&gt;{$&amp;}for 1..$'}split',',pop;$q[$c][$C]=X;for$y($b..$B){print$q[$_][$y]||$"for$a..$A;print$/}
</code></pre>

<p>My lesser golfed version of 338 bytes (for reference):</p>

<pre class="lang-perl prettyprint-override"><code>@m=split(',',pop);$x=$y=$a=$b=99;map{($d,$s)=/^(.)(.+)$/;for(1..$s){$c=$x;$C=$y;if($x&lt;$a){$a=$x}if($x&gt;$A){$A=$x}if($y&lt;$b){$b=$y}if($y&gt;$B){$B=$y}if($d eq"W"){$r="&lt;";$x--}if($d eq"E"){$r="&gt;";$x++}if($d eq"N"){$r="^";$y--}if($d eq"S"){$r=v;$y++}$q[$c][$C]=$r}}@m;$q[$c][$C]=X;for$y($b..$B){for$x($a..$A){$t=$q[$x][$y];print$t?$t:$"}print$/}
</code></pre>

<p>Test</p>

<pre class="lang-perl prettyprint-override"><code>$ perl piratemap_golf.pl E4,N3,W6,S10,W1,S1,E5,N1,W2,N6,E6,N5,W10,S1,E2
v&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;
&gt;Xv&lt;&lt;&lt;&lt;&lt;&lt; ^
  v     ^ ^
  v     ^ ^
  v &gt;&gt;&gt;&gt;^ ^
  v &gt;&gt;&gt;&gt;&gt;&gt;^
  v ^
  v ^
  v ^
  v ^
  v ^
 v&lt; ^&lt;&lt;
 &gt;&gt;&gt;&gt;&gt;^
</code></pre>
</div>
<div id="pu5" class="pu"><h1>CoffeeScript, <s>303</s>&nbsp;&nbsp;285 bytes</h1>

<pre class="lang-coffee prettyprint-override"><code>Y=(s)-&gt;o=[];t=l=x=y=0;q='';q+=s[0]for[1..s[1..]]for s in s.split ',';q=q[..-2];(i='NWSE'.search c;(o[y]?=[])[x]='^&lt;v&gt;'[i];j=(i&amp;2)-1;x+=j*(i&amp;1);y+=j*(!(i&amp;1));y&lt;t&amp;&amp;t=y;x&lt;l&amp;&amp;l=x)for c in q;(o[y]?=[])[x]='X';((o[y][x]||' 'for x in[l...o[y].length]).join ''for y in[t...o.length]).join '\n'
</code></pre>

<p><div class="snippet" data-lang="js" data-hide="true">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;script src="http://coffeescript.org/extras/coffee-script.js"&gt;&lt;/script&gt;
&lt;script type="text/coffeescript"&gt;
Y=(s)-&gt;o=[];t=l=x=y=0;q='';q+=s[0]for[1..s[1..]]for s in s.split ',';q=q[..-2];(i='NWSE'.search c;(o[y]?=[])[x]='^&lt;v&gt;'[i];j=(i&amp;2)-1;x+=j*(i&amp;1);y+=j*(!(i&amp;1));y&lt;t&amp;&amp;t=y;x&lt;l&amp;&amp;l=x)for c in q;(o[y]?=[])[x]='X';((o[y][x]||' 'for x in[l...o[y].length]).join ''for y in[t...o.length]).join '\n'

#------------------
document.write '&lt;pre&gt;'
z=[
  'E2,N4,E5,S2,W1,S3'
  'S5,W2'
  'N1,E1,S1,E1,N1,E1,S2'
  'N1'
  'N6,E6,S6,W5,N5,E4,S4,W3,N3,E2,S2,W1,N2'
  'E21,S2'
  'N12,E11,S12,W2,N4'
]
for w in z
  document.write "\n\n#{w}\n"
  document.write Y(w).replace /&lt;/g,'&amp;lt;'
  
&lt;/script&gt;</code></pre>
</div>
</div>
</p>
</div>
<div id="pu6" class="pu"><h1>PHP, <s>431</s> 417 bytes</h1>

<pre><code>$g=explode(',',$argv[1]);$x=$y=$a=$b=$c=$d=$e=$f=0;
foreach($g as$i=&gt;$h){list($k,$l,$m)=
    ['N'=&gt;[-1,0,'^'],'E'=&gt;[0,1,'&gt;'],'S'=&gt;[1,0,'v'],'W'=&gt;[0,-1,'&lt;']][$h[0]];
    for($s=substr($h,1);$s--;){$z[$f=$y][$e=$x]=$m;$y+=$k;$x+=$l;}
    if($i==count($g)-1){$x=$e;$y=$f;}
    $a=min($a,$x);$b=max($b,$x);$c=min($c,$y);$d=max($d,$y);
}$z[$y][$x]='X';for($y=$c;$y&lt;=$d;$y++)
{$o='';for($x=$a;$x&lt;=$b;$x++)$o.=$z[$y][$x]?:' ';echo rtrim($o)."\n";}
</code></pre>

<p>Put it into a file (<code>treasure.php</code>), remove the indentation, join the lines (it is wrapped here for readability), put the <code>&lt;?php</code> marker at the beginning of the file (not displayed here as it is technically not a part of the program).</p>

<p>Example of execution:</p>

<pre><code>$ php -d error_reporting=0 treasure.php E2,N4,E5,S2,W1,S3
  &gt;&gt;&gt;&gt;&gt;v
  ^    v
  ^   v&lt;
  ^   v
&gt;&gt;^   X
$
</code></pre>

<p>The option <code>-d error_reporting=0</code> is needed to suppress notices about values not found at specified indices in <code>$z</code>.</p>

<p><strong>Update:</strong></p>

<p>While I was preparing the <a href="https://github.com/axiac/code-golf/blob/master/yarr-a-map-to-the-hidden-treasure.php" rel="nofollow">ungolfed version of the code</a> for posting I discovered it contained two unneeded assignments (12 bytes) and a whitespace that can be removed(<code>as$i</code>); also, by replacing a <code>while</code> with a <code>for</code> loop and squeezing an assignment into it (not possible using the <code>while</code> loop) I saved another byte.</p>
</div>
<div id="pu7" class="pu"><h1>Common Lisp - 603</h1>



<pre><code>(lambda(s)(do((x 0)i(y 0)j(p 0)r(q 0)(g(mapcar(lambda(x)`(,(aref x 0),(parse-integer x :start 1)))(split-sequence:split-sequence #\, s))(cdr g))c)((not g)(setf x 0 y 0)(dolist(e(stable-sort(sort r #'&lt;= :key #'car)#'&lt; :key #'cadr))(dotimes(_(-(cadr e)p y))(terpri)(incf y)(setf x 0))(dotimes(_(-(car e)q x))(princ" ")(incf x))(princ(caddr e))(incf x)))(case(caar g)(#\N(setf i 0 j -1 c #\^))(#\E(setf i 1 j 0 c #\&gt;))(#\W(setf i -1 j 0 c #\&lt;))(#\S(setf i 0 j 1 c #\v)))(dotimes(_(-(cadar g)(if(cdr g)0 1)))(push`(,x,y,c)r)(incf x i)(incf y j))(setf q(min q x)p(min p y))(unless(cdr g)(push`(,x,y #\X)r))))
</code></pre>

<p>Array-free implementation: prints from top to bottom, from left to right.</p>

<ul>
<li><p>Parse and expands directions into a trace of <code>(x y char)</code> elements:</p>

<p>The simple "N3" input produces <code>((0 0 #\^) (0 -1 #\^) (0 -2 #\X))</code></p></li>
<li>Also, compute the minimal <code>x</code> and <code>y</code></li>
<li>Sort the resulting trace by <code>y</code> first and then by <code>x</code></li>
<li><p>Iterate over the sorted list while moving cursor</p>

<ol>
<li>Add newlines and spaces to move current cursor at right position</li>
<li>When at position <code>x - minx</code>, <code>y - miny</code>, print the desired character</li>
</ol></li>
</ul>

<h3>Examples</h3>



<pre><code>(loop for input in  '("N6,E6,S6,W5,N5,E4,S4,W3,N3,E2,S2,W1,N2" 
                      "N1,E1,S1,E1,N1,E1,S2" 
                      "N12,E11,S12,W2,N4")
      do (fresh-line)
         (terpri)
      (funcall *fun* input))
</code></pre>

<p>Result:</p>

<pre><code>&gt;&gt;&gt;&gt;&gt;&gt;v
^&gt;&gt;&gt;&gt;vv
^^&gt;&gt;vvv
^^^Xvvv
^^^^&lt;vv
^^^&lt;&lt;&lt;v
^^&lt;&lt;&lt;&lt;&lt;

&gt;v&gt;v
^&gt;^X

&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;v
^          v
^          v
^          v
^          v
^          v
^          v
^          v
^          v
^        X v
^        ^ v
^        ^ v
^        ^&lt;&lt;
</code></pre>
</div>
<div id="pu8" class="pu"><h1>PHP, 496 <del>514</del> <del>528</del></h1>

<p>I tried my luck in PHP, the result is rather long, I still want to post it, just for fun.</p>

<pre><code>function a($c){global$a,$b;$a[$b[1]][$b[0]]=$c;}$c=explode(',',$argv[1]);$a=[];$b=[0,0];foreach($c as$d=&gt;$e){$f=substr($e,1);if($d==count($c)-1)$f--;for($i=0;$i++&lt;$f;){if($e[0]==N){a('^');$b[1]--;}elseif($e[0]==E){a('&gt;');$b[0]++;}elseif($e[0]==S){a(v);$b[1]++;}else{a('&lt;');$b[0]--;}}}a(X);$d=$e=$f=$g=0;foreach($a as$y=&gt;$h){$f=min($f,$y);$g=max($g,$y);foreach($h as$x=&gt;$i){$d=min($d,$x);$e=max($e,$x);}}for($y=$f;$y&lt;=$g;$y++){for($x=$d;$x&lt;=$e;$x++)echo isset($a[$y][$x])?$a[$y][$x]:' ';echo "
";}
</code></pre>

<h2>Ungolfed</h2>

<pre><code>&lt;?php

    function setInMap($char) {
        global $map, $position;
        $map[$position[1]][$position[0]] = $char;
    }

    $instructions = explode(',', $argv[1]);

    $map = [];

    $position = [0, 0];

    foreach($instructions as $index =&gt; $instruction) {
        $count = substr($instruction, 1);
        if($index === count($instructions) - 1) {
            $count--;
        }
        for($i = 0; $i &lt; $count; $i++) {
            if($instruction[0] === 'N') {
                setInMap('^');
                $position[1]--;
            } elseif($instruction[0] === 'E') {
                setInMap('&gt;');
                $position[0]++;
            } elseif($instruction[0] === 'S') {
                setInMap('v');
                $position[1]++;
            } else($instruction[0] === 'W') {
                setInMap('&lt;');
                $position[0]--;
            }
        }
    }
    setInMap('X');

    $minX = $maxX = $minY = $maxY = 0;
    foreach($map as $y =&gt; $row) {
        $minY = min($minY, $y);
        $maxY = max($maxY, $y);
        foreach($row as $x =&gt; $cell) {
            $minX = min($minX, $x);
            $maxX = max($maxX, $x);
        }
    }
    for($y = $minY; $y &lt;= $maxY; $y++) {
        for($x = $minX; $x &lt;= $maxX; $x++) {
            if(isset($map[$y][$x])) {
                echo $map[$y][$x];
            } else {
                echo ' ';
            }
        }
        echo "\n";
    }

?&gt;
</code></pre>
</div>
<div id="pu9" class="pu"><h1>Javascript (ES6), 260</h1>

<p>This was an interesting one...</p>

<p>Thanks @ETHproductions, @edc65, and @vihan for the help!</p>

<pre class="lang-js prettyprint-override"><code>s=&gt;{z=o=""
m=[]
q=x=y=2e3
s.split`,`.map(v=&gt;z+=v[0].repeat(+v.slice(1)))
for(i=0;d=z[i];q=x&lt;q?x:q)(m[y]=m[y]||[])[x]=z[++i]?d=="N"&amp;&amp;--y?"^":d=="S"&amp;&amp;++y?"v":d=="W"&amp;&amp;--x?"&lt;":++x?"&gt;":o:"X"
m.map(a=&gt;a.map((b,j)=&gt;o+=" ".repeat(-p-1+(p=j))+b,p=q-1,o+=`
`))
return o}
</code></pre>

<p>This defines an anonymous function, so to call it add <code>f=</code> to the beginning to give it a name.</p>

<p>To test: <code>console.log(f("E2,N4,E5,S2,W1,S3"))</code></p>

<h3>Explanation:</h3>

<pre class="lang-js prettyprint-override"><code>s=&gt;{ //define function w/ parameter s
z=o=""      //z=modified input, o=final output
m=[]        //map of characters
q=x=y=2e3   //q=minimum value of x; x+y=coordinates. These start high to leave room to go backwards
s.split`,`.map(v=&gt;z+=v[0].repeat(+v.slice(1)))    //change "N3,E4" -&gt; "NNNEEEE", and put in z
for(i=0;d=z[i];q=x&lt;q?x:q)   //for each direction d in z, while updating q:
    (m[y]=m[y]||[])[x]=     //in the right place on the map, put:
        z[++i]?                 //if last character of z, "X"
            d=="N"&amp;&amp;--y?"^":    
            d=="S"&amp;&amp;++y?"v":    //otherwise get the right character and change x+y accordingly
            d=="W"&amp;&amp;--x?"&lt;":
            ++x?"&gt;":o
        :"X"
m.map(a=&gt;a.map((b,j)=&gt;o+=" ".repeat(-p-1+(p=j))+b,p=q-1,o+=`
`)) //dump map to o, with correct padding
return o}   //return
</code></pre>
</div>
<div id="pu10" class="pu"><h1>Python 2, <s>249</s> <s>248</s> <s>244</s> <s>239</s> 237 bytes</h1>

<pre class="lang-py prettyprint-override"><code>D={}
m=X=Y=0
for s in input().split(","):d=ord(s[0])%10%7;exec"a,b=X,Y;E=D[Y]=D.get(Y,{});E[X]='&lt;^&gt;v'[d];m=min(m,X);%c+=d-2|1;"%(88+d%2)*int(s[1:])
D[b][a]="X"
for Y in sorted(D):print"".join(D[Y].get(n," ")for n in range(m,max(D[Y])+1))
</code></pre>

<p>Input like <code>"E2,N4,E5,S2,W1,S3"</code>.</p>

<p><code>NSEW</code> is mapped to <code>[1, 3, 2, 0]</code> by <code>d=ord(c)%10%7</code>. Whether to change <code>y</code> or <code>x</code> is then decided by <code>d%2</code>, and whether to increment or decrement is decided by <code>d-2|1</code>. The first and third expressions were found by brute force.</p>

<p>Other than that, it's a simple usage of a nested dictionary of the form <code>{y: {x: char}}</code>.</p>

<p><em>(Thanks to @joriki for help with mapping)</em></p>
</div>
<div id="pu11" class="pu"><h1>JavaScript (ES6), 244 <s>249 274</s></h1>

<p>Leading spaces and newlines added for clarity and not counted, <strong>except</strong> the newline near the end in the join call, that is significant and counted.</p>

<p>Test running the snippet (being ECMAScript 6, Firefox and Safari 9 only)</p>

<p><div class="snippet" data-lang="js" data-hide="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>F=m=&gt;(
  x=y=0,p=[],
  m.replace(/\w(\d+)/g,(d,z)=&gt;{
    for(d='NWSE'.search(d[0]);
        z--&amp;&amp;(p=~x?~y?p:[y=0,...p]:p.map(r=&gt;' '+r,x=0));
        p[u=y]=(w=r.slice(0,x))+'^&lt;v&gt;'[d]+(v=r.slice(x+1)),
        d&amp;1?x+=d-2:y+=d-1)
      for(r=p[y]||'';!r[x];)r+=' ';
  }),
  p[u]=w+'X'+v,
  p.join`
`
)

// TEST

out=x=&gt;O.innerHTML+=x.replace(/&lt;/g,'&amp;lt;')+'\n'

;['S5,W2','N1,E1,S1,E1,N1,E1,S2','N1','N6,E6,S6,W5,N5,E4,S4,W3,N3,E2,S2,W1,N2','E21,S2','N12,E11,S12,W2,N4']
.forEach(a=&gt;out(a+'\n'+F(a)+'\n'))</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;pre id=O&gt;&lt;/pre&gt;</code></pre>
</div>
</div>
</p>
</div>
<div id="pu12" class="pu"><h1>Groovy, 359</h1>

<pre><code>c=args[0].split(',').collect{[it[0],it[1..-1]as int]}
m=[[]]
x=y=0
d=["N":["^",0,1],"S":["v",0,-1],"E":["&gt;",1,0],"W":["&lt;",-1,0]]
c.each{z-&gt;(1..z[1]).each{if(x&lt;0){m*.add(0," ");x=0};if(y&lt;0){m.add(0,[]);y=0};m[y]=m[y]?:[];m[y][x]=d[z[0]][0];if(c.last()==z&amp;&amp;it==z[1])m[y][x]='X';y+=d[z[0]][2];x+=d[z[0]][1]}}
m.reverse().each{println it.collect{it?:" "}.join()}
</code></pre>
</div>
<div id="pu13" class="pu"><h1>C, 557</h1>
<pre><code>main(_,a,minX,maxX,minY,maxY,x,y,v,dir,dist)char**a;char*v;{char o[998][999];for(y=0;y-998;++y){for(x=0;x-998;++x)o[y][x]=32;o[y][998]=0;}y=x=minY=minX=maxY=maxX=499;v=a[1];while(*v){dir=*v++;dist=atoi(v);while(*v&amp;&amp;*v!=44)v++;v+=!!*v;if(dir==78){while(dist--)o[y--][x]=94;if(y&lt;minY)minY=y;y+=!*v;}if(dir==69){while(dist--)o[y][x++]=62;if(x&gt;maxX)maxX=x;x-=!*v;}if(dir==83){while(dist--)o[y++][x]=86;if(y&gt;maxY)maxY=y;y-=!*v;}if(dir==87){while(dist--)o[y][x--]=60;if(x&lt;minX)minX=x;x+=!*v;}}o[y][x]=88;for(y=minY;y&lt;=maxY;++y){o[y][maxX+1]=0;puts(o[y]+minX);}}
</code></pre>
<p>Ungolfed version:</p>
<pre><code>#include &lt;stdio.h&gt;

#define MAX_WIDTH 998
#define MAX_HEIGHT 998

int main(int argc, char *argv[]) {
    int minX,maxX,minY,maxY;
    int x,y;
    char output[MAX_HEIGHT][MAX_WIDTH+1];
    char *v;
    
    for (y=0; y&lt;MAX_HEIGHT; ++y) {
        for (x=0; x&lt;MAX_WIDTH; ++x) 
            output[y][x] = ' ';
        output[y][MAX_WIDTH] = 0;
    }

    x = minX = maxX = MAX_WIDTH/2;
    y = minY = maxY = MAX_HEIGHT/2;

    v = argv[1];
    while (*v) {
        char dir; int dist;
        dir = *(v++);
        dist = atoi(v);
        while (*v &amp;&amp; *v != ',') v++;
        if (*v) v++;

        switch (dir) {
            case 'N':case 'n':
                while (dist--) output[y--][x] = '^';
                if (y &lt; minY) minY = y;
                if (!*v) y++;
                break;
            case 'E':case 'e':
                while (dist--) output[y][x++] = '&gt;';
                if (x &gt; maxX) maxX = x;
                if (!*v) x--;
                break;
            case 'S':case 's':
                while (dist--) output[y++][x] = 'v';
                if (y &gt; maxY) maxY = y;
                if (!*v) y--;
                break;
            case 'W':case 'w':
                while (dist--) output[y][x--] = '&lt;';
                if (x &lt; minX) minX = x;
                if (!*v) x++;
                break;
        }
    }

    output[y][x] = 'x';
    for (y = minY; y &lt;= maxY; ++y) {
        output[y][maxX+1] = 0;
        puts(output[y]+minX);
    }

    return 0;
}
</code></pre>
<p>Dynamic memory allocation isn't much harder, but malloc is far too long an identifier to be used in code golf. I feel like there should be some kind of PCG.h header legally auto-included for golfing in c, just to shorted some identifiers.</p>
</div>
<div id="pu14" class="pu"><h1>XQuery 3.0, 498</h1>

<pre><code>declare variable $v external;let $m:=&lt;v&gt;{tokenize($v,',')!(for $j in(1 to xs:int(substring(.,2)))return&lt;c&gt;{translate(substring(.,1,1),'NESW','^&gt;v&lt;')}&lt;/c&gt;)}&lt;/v&gt;/c!(let $p:=./preceding-sibling::c return&lt;p x="{count($p[.='&gt;'])-count($p[.='&lt;'])}" y="{count($p[.='v'])-count($p[.='^'])}"&gt;{if(./following::*)then .else'X'}&lt;/p&gt;)for $y in(min(xs:int($m/@y))to max(xs:int($m/@y)))return string-join(for $x in(min(xs:int($m/@x))to max(xs:int($m/@x)))let $d:=$m[@x=$x and @y=$y]return if($d)then$d else' ','')
</code></pre>

<p>XQuery isn't often even slightly competitive, so this was fun. </p>

<h2>Ungolfed</h2>

<pre><code>declare variable $v external;
let $map := &lt;vector&gt;{ tokenize($v,',') ! 
        (for $j in (1 to xs:int(substring(.,2)))
            return &lt;step&gt;{ translate(substring(.,1,1),'NESW','^&gt;v&lt;') }&lt;/step&gt; ) 
         }&lt;/vector&gt;/step !
            (let $path_so_far := ./preceding-sibling::step
            return &lt;point 
                x="{ count($path_so_far[.='&gt;']) - count($path_so_far[.='&lt;']) }" 
                y="{ count($path_so_far[.='v']) - count($path_so_far[.='^']) }"&gt;
                {if(./following::*) then string(.) else 'X'}
            &lt;/point&gt;)
for $y in (min(xs:int($map/@y)) to max(xs:int($map/@y)))
return string-join(
    for $x in (min(xs:int($map/@x)) to max(xs:int($map/@x)))
    let $d := $map[@x=$x and @y=$y]
    return if($d) then string($d) else ' '
    ,'')
</code></pre>
</div>
<div id="pu15" class="pu"><h2>Python 2, 394 bytes</h2>

<p>Run the program then paste into standard input as e.g. <code>"E2,N4,E5,S2,W1,S3"</code></p>

<pre class="lang-py prettyprint-override"><code>m=input().split(',')
def f(x,y,h,o,s=[]):
 for c in m:
  for _ in range(int(c[1:])):
   a,b,l={'E':(1,0,'&gt;'),'W':(-1,0,'&lt;'),'N':(0,1,'^'),'S':(0,-1,'v')}[c[0]]
   if o:o[h-y][x]=l
   s+=[(x,y)];x+=a;y+=b
 if o:o[h-y+b][x-a]='X'
 return s
p,q=zip(*f(*[0]*4))
w,h=max(p)-min(p),max(q)-min(q)
o=[[' ']*-~w for _ in range(h+1)]
f(-min(p),-min(q),h,o)
print'\n'.join(["".join(l).rstrip()for l in o])
</code></pre>

<p>This is not very optimized. First it runs through the input to record the path. Then it does some math to determine the right starting position and size of <code>o</code>. Then it runs through again and sets the appropriate entries of <code>o</code> as one of <code>&gt;v&lt;^X</code>. The main cleverness is in reusing the same function for both these traversals.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/54301/">54301</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




