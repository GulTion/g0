<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::92776</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>096</td><td>Haskell</td><td>231010T111316Z</td><td><a href="https://codegolf.stackexchange.com/questions/92776/esolang-comment-template-generator/265896#265896">Laikoni</a></td></tr>
<tr d-ix="1"><td>079</td><td>JavaScript Node.js</td><td>231008T012743Z</td><td><a href="https://codegolf.stackexchange.com/questions/92776/esolang-comment-template-generator/265850#265850">l4m2</a></td></tr>
<tr d-ix="2"><td>925</td><td>Vyxal j</td><td>231008T130631Z</td><td><a href="https://codegolf.stackexchange.com/questions/92776/esolang-comment-template-generator/265861#265861">lyxal</a></td></tr>
<tr d-ix="3"><td>080</td><td>Ruby</td><td>231008T211935Z</td><td><a href="https://codegolf.stackexchange.com/questions/92776/esolang-comment-template-generator/265866#265866">noodle m</a></td></tr>
<tr d-ix="4"><td>016</td><td>Japt R</td><td>231008T123934Z</td><td><a href="https://codegolf.stackexchange.com/questions/92776/esolang-comment-template-generator/265860#265860">noodle m</a></td></tr>
<tr d-ix="5"><td>084</td><td>JavaScript Node.js</td><td>231008T003938Z</td><td><a href="https://codegolf.stackexchange.com/questions/92776/esolang-comment-template-generator/265849#265849">noodle m</a></td></tr>
<tr d-ix="6"><td>017</td><td>Japt R</td><td>230823T210555Z</td><td><a href="https://codegolf.stackexchange.com/questions/92776/esolang-comment-template-generator/264570#264570">Shaggy</a></td></tr>
<tr d-ix="7"><td>209</td><td>Go</td><td>230822T160933Z</td><td><a href="https://codegolf.stackexchange.com/questions/92776/esolang-comment-template-generator/264500#264500">bigyihsu</a></td></tr>
<tr d-ix="8"><td>025</td><td>Thunno 2 N</td><td>230822T143303Z</td><td><a href="https://codegolf.stackexchange.com/questions/92776/esolang-comment-template-generator/264495#264495">The Thon</a></td></tr>
<tr d-ix="9"><td>028</td><td>APL Dyalog Unicode</td><td>160909T124900Z</td><td><a href="https://codegolf.stackexchange.com/questions/92776/esolang-comment-template-generator/92809#92809">Ad&#225;</a></td></tr>
<tr d-ix="10"><td>016</td><td>Stax</td><td>210609T163237Z</td><td><a href="https://codegolf.stackexchange.com/questions/92776/esolang-comment-template-generator/229341#229341">Razetime</a></td></tr>
<tr d-ix="11"><td>103</td><td>AWK</td><td>210607T195254Z</td><td><a href="https://codegolf.stackexchange.com/questions/92776/esolang-comment-template-generator/229207#229207">cnamejj</a></td></tr>
<tr d-ix="12"><td>099</td><td>Python 3.8 prerelease</td><td>210608T174514Z</td><td><a href="https://codegolf.stackexchange.com/questions/92776/esolang-comment-template-generator/229277#229277">kur0dama</a></td></tr>
<tr d-ix="13"><td>108</td><td>Python 3</td><td>210607T184046Z</td><td><a href="https://codegolf.stackexchange.com/questions/92776/esolang-comment-template-generator/229204#229204">KinuTheD</a></td></tr>
<tr d-ix="14"><td>029</td><td>05AB1E</td><td>180605T095432Z</td><td><a href="https://codegolf.stackexchange.com/questions/92776/esolang-comment-template-generator/166162#166162">Kevin Cr</a></td></tr>
<tr d-ix="15"><td>010</td><td>Jelly</td><td>180605T130936Z</td><td><a href="https://codegolf.stackexchange.com/questions/92776/esolang-comment-template-generator/166175#166175">Erik the</a></td></tr>
<tr d-ix="16"><td>159</td><td>Java 10</td><td>160909T073150Z</td><td><a href="https://codegolf.stackexchange.com/questions/92776/esolang-comment-template-generator/92785#92785">Kevin Cr</a></td></tr>
<tr d-ix="17"><td>089</td><td>Funky</td><td>171113T230525Z</td><td><a href="https://codegolf.stackexchange.com/questions/92776/esolang-comment-template-generator/147963#147963">ATaco</a></td></tr>
<tr d-ix="18"><td>085</td><td>GolfScript</td><td>160910T155339Z</td><td><a href="https://codegolf.stackexchange.com/questions/92776/esolang-comment-template-generator/92881#92881">FedeWar</a></td></tr>
<tr d-ix="19"><td>035</td><td>Turtl√®d</td><td>160921T031908Z</td><td><a href="https://codegolf.stackexchange.com/questions/92776/esolang-comment-template-generator/93987#93987">Destruct</a></td></tr>
<tr d-ix="20"><td>032</td><td>CJam</td><td>160913T163211Z</td><td><a href="https://codegolf.stackexchange.com/questions/92776/esolang-comment-template-generator/93124#93124">Neorej</a></td></tr>
<tr d-ix="21"><td>063</td><td>Perl</td><td>160912T091310Z</td><td><a href="https://codegolf.stackexchange.com/questions/92776/esolang-comment-template-generator/92988#92988">Ton Hosp</a></td></tr>
<tr d-ix="22"><td>154</td><td>C#</td><td>160910T195016Z</td><td><a href="https://codegolf.stackexchange.com/questions/92776/esolang-comment-template-generator/92894#92894">pinkfloy</a></td></tr>
<tr d-ix="23"><td>094</td><td>Floroid</td><td>160910T140208Z</td><td><a href="https://codegolf.stackexchange.com/questions/92776/esolang-comment-template-generator/92879#92879">Yytsi</a></td></tr>
<tr d-ix="24"><td>099</td><td>Python 2</td><td>160909T100830Z</td><td><a href="https://codegolf.stackexchange.com/questions/92776/esolang-comment-template-generator/92796#92796">ElPedro</a></td></tr>
<tr d-ix="25"><td>041</td><td>Jelly</td><td>160911T022541Z</td><td><a href="https://codegolf.stackexchange.com/questions/92776/esolang-comment-template-generator/92910#92910">Jonathan</a></td></tr>
<tr d-ix="26"><td>132</td><td>Python 2</td><td>160909T060519Z</td><td><a href="https://codegolf.stackexchange.com/questions/92776/esolang-comment-template-generator/92779#92779">Jonathan</a></td></tr>
<tr d-ix="27"><td>038</td><td>Vim</td><td>160909T221944Z</td><td><a href="https://codegolf.stackexchange.com/questions/92776/esolang-comment-template-generator/92841#92841">Jordan</a></td></tr>
<tr d-ix="28"><td>030</td><td>Pyth</td><td>160910T001307Z</td><td><a href="https://codegolf.stackexchange.com/questions/92776/esolang-comment-template-generator/92849#92849">TheBikin</a></td></tr>
<tr d-ix="29"><td>086</td><td>GNU sed 85 + 1 for r</td><td>160909T153541Z</td><td><a href="https://codegolf.stackexchange.com/questions/92776/esolang-comment-template-generator/92815#92815">Riley</a></td></tr>
<tr d-ix="30"><td>023</td><td>Pyth</td><td>160910T024413Z</td><td><a href="https://codegolf.stackexchange.com/questions/92776/esolang-comment-template-generator/92855#92855">Maltysen</a></td></tr>
<tr d-ix="31"><td>080</td><td>Ruby</td><td>160909T071207Z</td><td><a href="https://codegolf.stackexchange.com/questions/92776/esolang-comment-template-generator/92783#92783">Jordan</a></td></tr>
<tr d-ix="32"><td>031</td><td>MATL</td><td>160909T121732Z</td><td><a href="https://codegolf.stackexchange.com/questions/92776/esolang-comment-template-generator/92805#92805">Luis Men</a></td></tr>
<tr d-ix="33"><td>099</td><td>PowerShell v2+</td><td>160909T134230Z</td><td><a href="https://codegolf.stackexchange.com/questions/92776/esolang-comment-template-generator/92811#92811">AdmBorkB</a></td></tr>
<tr d-ix="34"><td>034</td><td>Retina</td><td>160909T083702Z</td><td><a href="https://codegolf.stackexchange.com/questions/92776/esolang-comment-template-generator/92791#92791">Martin E</a></td></tr>
<tr d-ix="35"><td>111</td><td>Groovy</td><td>160909T082253Z</td><td><a href="https://codegolf.stackexchange.com/questions/92776/esolang-comment-template-generator/92789#92789">norganos</a></td></tr>
<tr d-ix="36"><td>024</td><td>Pyke</td><td>160909T124546Z</td><td><a href="https://codegolf.stackexchange.com/questions/92776/esolang-comment-template-generator/92808#92808">Blue</a></td></tr>
<tr d-ix="37"><td>123</td><td>Scala</td><td>160909T112434Z</td><td><a href="https://codegolf.stackexchange.com/questions/92776/esolang-comment-template-generator/92800#92800">AmazingD</a></td></tr>
<tr d-ix="38"><td>109</td><td>PHP</td><td>160909T090720Z</td><td><a href="https://codegolf.stackexchange.com/questions/92776/esolang-comment-template-generator/92793#92793">Titus</a></td></tr>
<tr d-ix="39"><td>135</td><td>Haskell</td><td>160909T081851Z</td><td><a href="https://codegolf.stackexchange.com/questions/92776/esolang-comment-template-generator/92788#92788">sudee</a></td></tr>
<tr d-ix="40"><td>092</td><td>JavaScript ES6</td><td>160909T083923Z</td><td><a href="https://codegolf.stackexchange.com/questions/92776/esolang-comment-template-generator/92792#92792">Neil</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.haskell.org" rel="nofollow noreferrer">Haskell</a>, 96 bytes</h1>
<pre class="lang-haskell prettyprint-override"><code>f&quot;&quot;.lines.map r
r '|'='\n'
r c=c
w=(' '&lt;$)
f l(a:s)c=(w l++a++(w=&lt;&lt;c:s)++c):f(l++a)s c
f l s c=s
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=NZDPSgMxEMbxuk8xjcrusm2ltUopXRBE8OJJwUNbMM1m_9hssiRZSmHexEsvpb6SPo1Ju14yw--bbz4mX8eSmg0X4ntBBqxpyOpQQArLQ2vzwfTnIydkKCrJzbCmDehAQ4hhGi5l6FqWsmCbRiGE86s4yEFEdGZilkZbEElCkyTapvM5cyxJWDzLI09jA8zPgqupOef8XpCaVtIFu5QXiJrWvloNQ2jlKfzUsVbrHRQQwyKAiFBcM8yQY16UWH3iBgXWElVD-kAuSdz3Q8_uMoXvSovM45sOOy92Ziy80P8X1izj-QnNOjTBKY7ucHSP41ucjL103UlPSBmWYJAzW6GSUBkEJTk4SjVllqMGoWTBNYItqXQPRxDU2J7f0-v2vJXO-Kgy7mwGkdeN3SEav1VJ4ycfSLw6f9V-f65_" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h4>Eplanation</h4>
<p>The function <code>r</code> is defined to map pipe characters to newlines (<code>r '|'='\n'</code>) and every other char to itself (<code>r c=c</code>). <code>lines.map r</code> thus first replaces all pipes in the input string with new lines (<code>map r</code>), and then splits the string at the newlines with the build-in <code>lines</code> function.
The main function <code>f</code> iterates over this list of strings and constructs the output line by line with the expression <code>w l++a++(w=&lt;&lt;c:s)++c</code> where</p>
<ul>
<li><code>a</code> is the part of the code that appears on the current line</li>
<li><code>c</code> is the comment character (as a string) that gets put at the end of the line</li>
<li><code>w</code> is a function that replaces each character of a string by spaces (definde by <code>w=(' '&lt;$)</code>)</li>
<li><code>l</code> is the string of code fragments to the left of <code>a</code>, which is put at the beginnig of the line as spaces with <code>w l</code></li>
<li><code>s</code> is the list of remaining code strings which are also converted to spaces, concatenated, and put after <code>a</code> (<code>c</code> is added to <code>s</code> to get the extra space required before the comment character)</li>
</ul>
</div>
<div id="pu1" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 79 bytes</h1>
<pre class="lang-javascript prettyprint-override"><code>c=&gt;s=&gt;s.split`|`.map((_,i,a)=&gt;a.map(y=&gt;i--?y.replace(/./g,' '):y).join``+' '+c)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=LYxBDsIgFAWvYnBRSAt1aUygR_AIghQqlQKRumjyb-KmMXoob2OjTSZ5mcWbxyvE1sxPy9_30dL956i5yAssJ-9GCZINKmF8qlylCBfqpxMXjtJmYjeTvNIG16zuqmJTkMNEWB9dkLJctNRkze50DDl6w3zssMVoiwhGCs4aWjBguwu4Hq7gYQgQEyLrb57_-wU" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>+4 to add an extra space before <code>#</code></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a> <code>j</code>, 74 <a href="https://github.com/Vyxal/Vyncode/blob/main/README.md" rel="nofollow noreferrer">bits<sup>v2</a></sup>, 9.25 bytes</h1>
<pre><code>\|/:¬¶‚Ü≥:t‚Ü≤·∏ä
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2#WyJqPSIsIiIsIlxcfC86wqbihrM6dOKGsuG4iiIsIiIsIlwidGhlfGZpdG5lc3N8Z3JhbXx8cGFjZXJ8dGVzdFwiXG5cIi8tLVwiIl0=" rel="nofollow noreferrer">Try it Online!</a></p>
<p>Bitstring:</p>
<pre><code>01101010100010101110000101000000110001011111111110001111111100110011110001
</code></pre>
<h2>Explained</h2>
<pre><code>\|/:¬¶‚Ü≥:t‚Ü≤·∏ä¬≠‚Å°‚Äã‚Äé‚Äé‚Å™‚Å°‚Å™‚Å†‚Å™‚Å°‚Å™‚Äè‚Å†‚Äé‚Å™‚Å°‚Å™‚Å†‚Å™‚Å¢‚Å™‚Äè‚Å†‚Äé‚Å™‚Å°‚Å™‚Å†‚Å™‚Å£‚Å™‚Äè‚Äè‚Äã‚Å°‚Å†‚Å°‚Äå‚Å¢‚Äã‚Äé‚Äé‚Å™‚Å°‚Å™‚Å†‚Å™‚Å§‚Å™‚Äè‚Å†‚Äé‚Å™‚Å°‚Å™‚Å†‚Å™‚Å¢‚Å°‚Å™‚Äè‚Äè‚Äã‚Å°‚Å†‚Å°‚Äå‚Å£‚Äã‚Äé‚Äé‚Å™‚Å°‚Å™‚Å†‚Å™‚Å¢‚Å¢‚Å™‚Äè‚Äè‚Äã‚Å°‚Å†‚Å°‚Äå‚Å§‚Äã‚Äé‚Äé‚Å™‚Å°‚Å™‚Å†‚Å™‚Å¢‚Å£‚Å™‚Äè‚Å†‚Äé‚Å™‚Å°‚Å™‚Å†‚Å™‚Å¢‚Å§‚Å™‚Äè‚Å†‚Äé‚Å™‚Å°‚Å™‚Å†‚Å™‚Å£‚Å°‚Å™‚Äè‚Äè‚Äã‚Å°‚Å†‚Å°‚Äå‚Å¢‚Å°‚Äã‚Äé‚Äé‚Å™‚Å°‚Å™‚Å†‚Å™‚Å£‚Å¢‚Å™‚Äè‚Äè‚Äã‚Å°‚Å†‚Å°‚Äå‚Å¢‚Å¢‚Äã‚Äé‚Äè‚Äã‚Å¢‚Å†‚Å¢‚Äå¬≠
\|/         # ‚Äé‚Å°Split on &quot;|&quot;s
   :¬¶       # ‚Äé‚Å¢Push the cumulative sums without popping. This acts as the space length before each section
     ‚Ü≥      # ‚Äé‚Å£Pad each item right with spaces to length in ^
      :t‚Ü≤   # ‚Äé‚Å§And pad each item left with spaces to length of tail of ^
         ·∏ä  # ‚Äé‚Å¢‚Å°Append &quot; {comment char}&quot; to each
‚Äé‚Å¢‚Å¢Implicitly join on newlines
üíé
</code></pre>
<p>Created with the help of <a href="https://vyxal.github.io/Luminespire" rel="nofollow noreferrer">Luminespire</a> and not this challenge.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 80 bytes</h1>
<pre class="lang-ruby prettyprint-override"><code>-&gt;s,c{z=0;s.split(?|).map{[&quot; &quot;*z+_1,z+=_1.size][0].ljust(1+s.tr(?|,&quot;&quot;).size)+c}}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=TYwxDoIwAAB3XtHUBWxpYNOY6hfckZAWWq2phNA20QIvcSFGRx_kbzTi4Hp3ueu9dfwy3iR9OCvjxWsbrw0uO0-TlSGm0cqGmz4iJ9Z0GQRw7lGRYo9okRKjvMizJCf66IwNU2SIbT81hjD6ygiVw_D7LhmgoBWs0qoWpBJaWFEYJ6U6A7irYcD_fNA4a4DMGAY8nwbjk_Gyr4Ts9_0hmE3wDQ" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>I managed to golf a non-regex based solution to tie with the other Ruby. There might still be a couple bytes to be golfed off. I‚Äôm still learning Ruby so it took a while to get it this short.</p>
<p>Explanation:</p>
<p><code>-&gt;s,c{‚Ä¶}</code> Proc (lambda function) taking arguments <code>s</code> (code) and <code>c</code> (comment)</p>
<ul>
<li><p><code>z=0;</code> Assign variable <code>z</code> to zero</p>
</li>
<li><p><code>s.split(?|)</code> Split <code>s</code> on <code>|</code></p>
</li>
<li><p><code>.map{‚Ä¶}</code> Map each <code>_1</code> in the list to:</p>
<ul>
<li><p><code>[&quot; &quot;*z+_1,z+=_1.size][0]</code> Return <code>_1</code> with <code>z</code> spaces prepended, before adding the length of <code>_1</code> to <code>z</code>.</p>
</li>
<li><p><code>.ljust(‚Ä¶)</code> Append spaces until the length is equal to‚Ä¶</p>
<ul>
<li><code>1+s.tr(?|,&quot;&quot;).size</code> One more than the length of <code>s</code> with <code>|</code> removed.</li>
</ul>
</li>
<li><p><code>+c</code> Append the comment character to the end of the line.</p>
</li>
</ul>
</li>
</ul>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a> <a href="https://codegolf.meta.stackexchange.com/a/14339/"><code>-R</code></a>, 16 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>q| √•√èiX√Æ√É√∫ m+S+V
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;flags=LVI&amp;code=cXwg5c9pWO7D%2biBtK1MrVg&amp;input=IjR8OHwxNXwxNnwyM3w0MiIsICIlIg" rel="nofollow noreferrer">Try it</a></p>
<p>The boilerplate is similar to <a href="https://codegolf.stackexchange.com/a/264570/108687">@Shaggy's 17 byte Japt submission</a>.</p>
<p>Explanation:</p>
<pre><code>q|                 split on |
   √•√è              cumulatively reduce each X, Y to:
     i               prepend to Y
      X√Æ             spaces to the length of X
        √É          end cumulative reduce
         √∫         right-pad each to the longest line
           m+      to each, append
             S+V     space (S) and comment char (V)

flag -R            join the final result on newlines
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 84 bytes</h1>
<pre class="lang-javascript prettyprint-override"><code>c=&gt;s=&gt;(a=s.split`|`).map(x=&gt;x.padStart(n+=x.length).padEnd(a.join``.length+1)+c,n=0)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=LYy7DcIwFAB3Mc2zAlboaJyOCWAAG3_ywXm2sJFSvE1oLARDsQ1CpDrppLvHC6N19enl-1787vA5G9ll2YGWWeQUxqJIcTHrBIvsFpG0PRV9K4CNXERw2JeB_-wRLWgxxRGVWn2z543Zomz5-m5NxByDEyH24IFtGAem6WLIkiPfDzROdKVAM1JMjK9drX9-AQ" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Called like <code>f(commentChar)(seperatedCode)</code>. Works similarly to @Shaggy's Japt answer.</p>
<p>Explanation:</p>
<p><code>c=&gt;s=&gt;</code> Curried arrow function taking comment character <code>c</code> and code <code>s</code>.</p>
<ul>
<li><p><code>(a=s.split`|`)</code> Assign <code>a</code> to <code>s</code> split on <code>|</code> characters.</p>
</li>
<li><p><code>.map(x=&gt;...,n=0)</code> Assign <code>n</code> to <code>0</code> and map each <code>x</code> in <code>a</code> to:</p>
<ul>
<li><code>x.padStart(n+=x.length)</code> Add the length of <code>x</code> to <code>n</code>, then pad <code>x</code> to length <code>n</code> by repeatedly prepending spaces.</li>
<li><code>.padEnd(a.join``.length+1)</code> Pad that result to the length of <code>a</code> joined back to a string, plus 1 to add an extra space before the comment character, by repeatedly <em>appending</em> spaces.</li>
<li><code>+c</code> Finally, append <code>c</code> to that line.</li>
</ul>
</li>
</ul>
<p>This returns a list of lines.</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a> <a href="https://codegolf.meta.stackexchange.com/a/14339/"><code>-R</code></a>, 17 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<p>There's a byte to be saved here, <em>at least</em>, I just can't quite see it.</p>
<pre><code>q| √ã√πT¬±D√ä√É√∫ √ã+ViS
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;flags=LVI&amp;code=cXwgy/lUsUTKw/ogyytWaVM&amp;input=ImF8YmN8ZHxlfGZnaHxpanxrfGx8bW58b3AiCiIjIg" rel="nofollow noreferrer">Try it</a></p>
<pre><code>q| √ã√πT¬±D√ä√É√∫ √ã+ViS     :Implicit input of strings U=programme &amp; V=character
q|                    :Split U on |
   √ã                  :Map each D
    √π                 :  Left pad with spaces to length
     T¬±               :    Increment T (initially 0) by
       D√ä             :    Length of D
         √É            :End map
          √∫           :Right pad each with spaces to length of longest
            √ã         :Map
             +        :  Append
              Vi      :    V prepended with
                S     :      Space
                      :Implicit output joined with newlines
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://go.dev" rel="nofollow noreferrer">Go</a>, 209 bytes</h1>
<pre class="lang-go prettyprint-override"><code>import.&quot;strings&quot;
func f(C,c string)string{L,Q,S:=Split(C,&quot;|&quot;),[]string{},0
for _,l:=range L{q:=len(l)
if q&lt;1{continue}
Q=append(Q,Repeat(&quot; &quot;,S)+l+Repeat(&quot; &quot;,len(Join(L,&quot;&quot;))-q+1-S)+c)
S+=q}
return Join(Q,&quot;\n&quot;)}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=TVFNjtMwFBZbn-KNUaVYddF0GNAoIghpxAZ1QSm7tkKu66RmEjuJnQXKi8Q92FRIHIJjsITTYDcBjWTZft_3vf9v3wt7_lkL-SAKBZXQhuiqtq1_RvPK0x-dzxd3v3_9w5xvtSkcJXlnJOTJPZcwYmx8-hVf802abepS-0BTpIxv9xM58GuS2xY-8TLNWmFCylXfpFmpTFIyonNoXi17aY3XplMDWWeirpU5Jmv-QdVK-IQC5Rs2L-eP7Oj9zmqTrDiljC2a-XIRNJKRzTxrBtIq37UGLpI1pztD2TA29ufJ10sjse-EQU-0qTvvIM1gu_9fNempwANKPKLCHAvKQ1I68Igf5FHlFyQdkVu8w-ULXL7Em-d4exOZ2ci8RSHxBA6V9BqtAe0QrFEQUNEK6RW2UNowlBbBn4QJl0IohfNXMczVGObjKfjd26MKXg5RVbX_guhiUGtcFL6ZasPDVHJxQv0ZH7DEyqCto-Zp1Axk2oaKHY_7mCbQExlSRFhtr_fBqCpl_Ggv98R2l3-eRBWHiWbkfRiYzxM6ayCc7PXOzNzOhIlHzSMlhxCBhQKmRZzP4_sX" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h3>Explanation</h3>
<pre class="lang-go prettyprint-override"><code>import.&quot;strings&quot;
func f(C,c string)string{
// split C into substrings, and init the output slice and space count
L,Q,S:=Split(C,&quot;|&quot;),[]string{},0
// for each substring...
for _,l:=range L{
// if it's empty, skip it
q:=len(l)
if q&lt;1{continue}
// add to the output slice...
Q=append(Q,
    // initial spaces
    Repeat(&quot; &quot;,S)+
    // the substring
    l+
    // the following spaces 
    Repeat(&quot; &quot;,len(Join(L,&quot;&quot;))-q+1-S)
    // and the comment    
    +c)
// increment the space count
S+=q}
// join together with newlines
return Join(Q,&quot;\n&quot;)}
</code></pre>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/Thunno/Thunno2" rel="nofollow noreferrer">Thunno 2</a> <code>N</code>, 25 <a href="https://github.com/Thunno/Thunno2/blob/main/docs/codepage.md" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>'|/DJl‚Å∫X0Yƒ±y·π£s+x√∞ƒønl·∫è+∆•¬π+
</code></pre>
<p><a href="https://Not-Thonnu.github.io/run#aGVhZGVyPSZjb2RlPSclN0MlMkZESmwlRTIlODElQkFYMFklQzQlQjF5JUUxJUI5JUEzcyUyQnglQzMlQjAlQzQlQkZubCVFMSVCQSU4RiUyQiVDNiVBNSVDMiVCOSUyQiZmb290ZXI9JmlucHV0PSUyMkUlN0NhYyU3Q2glMjBzJTdDZWN0aSU3Q29uJTIwaXMlN0MlMjBvbmUlMjBjJTdDaGFyYWN0ZSU3Q3IlMjBsb25nZXIlN0MlMjB0aGFuJTIwdGhlJTdDJTIwbGFzdCElMjIlMEElMjIhJTIyJmZsYWdzPU4=" rel="nofollow noreferrer">Try it online!</a></p>
<h4>Explanation</h4>
<p><em>(Yes, this is in the exact same format as the outputs for this challenge :P)</em></p>
<pre class="lang-python prettyprint-override"><code>'|/DJl‚Å∫X0Yƒ±y·π£s+x√∞ƒønl·∫è+∆•¬π+  '# Implicit input
'|/                        '# Split the input on &quot;|&quot;
   DJl                      # Duplicate, join, and get length
      ‚Å∫X                    # Increment this and store it in x
        0Y                  # Store 0 in y
          ƒ±                 # Map over the list:
           y·π£               #  Push y spaces
             s+             #  Prepend this to the input
               x√∞ƒø          #  Pad with spaces to length x
                  nl·∫è+∆•     #  Add the length to y
                       ¬π+   #  Append the second input
                            # Implicit output, joined on newlines
</code></pre>
</div>
<div id="pu9" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog Unicode)</a>, 28 bytes</h1>

<p>Full program. Prompts for code, then for comment character.</p>
<pre class="lang-apl prettyprint-override"><code>‚çû,‚ç§1‚ç®‚éïFMT‚éïTC[2]@('|'‚àò=)‚çû,' '
</code></pre>
<p><a href="https://tio.run/##PYy9asMwFIV3PcXNUNxCOthxSigUDKbdunkLGWT52g64krG0BM7eLO4WyNSpQ55LL@LKGXyGM3znR/bdc3WSnWkmf/7uJz/@rv34F/vx5n8uH59F8CLfJ4fsMULkz9e3p7kSUTT3J7qrFxIlFCowajRiLRZeqorrRrwuJMUO8RbxC5IN0kQ8LMk7pEJLFqzcEUbT0YKMZgpUDlI5xkCd0Q0PINdKHYxBnbRuJVbLTdGGXW4qDisL8FfvToCdT422IvsH" rel="nofollow noreferrer" title="APL (Dyalog Unicode) ‚Äì Try It Online">Try it online!</a></p>
<p><code>‚çû,' '</code>‚ÄÉappend a space the to prompted-for code</p>
<p><code>‚éïTC[2]@(</code>‚Ä¶<code>)</code>‚ÄÉplace the 2nd Terminal Control character (Line Feed) <strong>at</strong> the positions indicated by:</p>
<p>‚ÄÉ<code>'|'‚àò=</code>‚ÄÉthe mask indicating where the pipe symbol is equal to the characters</p>
<p><code>‚éïFMT</code>‚ÄÉForMaT as a character matrix, evaluating terminal control characters (Line Feed moves the &quot;cursor&quot; down one line)</p>
<p><code>‚çû,‚ç§1‚ç®</code>‚ÄÉprompt for comment character and append it to each line (lit. to each 1D sub-array)</p>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/tomtheisen/stax" rel="nofollow noreferrer">Stax</a>, 16 <a href="https://github.com/tomtheisen/stax/blob/master/docs/packed.md#packed-stax" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>√π3l‚ïõCrŒ£‚ïù‚ñÄ‚Üï‚îò‚ï£√≥√©t¬∫
</code></pre>
<p><a href="https://staxlang.xyz/#p=97336cbe4372e4bcdf12d9b9a28274a7&amp;i=%22,%22,+%22a%7Cb%7Cc%7Cd%7Ce%7Cf%7Cg%22%0A%22%23%22,+%22a%7Cbc%7Cd%7Ce%7Cfgh%7Cij%7Ck%7Cl%7Cmn%7Cop%22&amp;m=2" rel="nofollow noreferrer">Run and debug it</a></p>
</div>
<div id="pu11" class="pu"><h1><a href="https://www.gnu.org/software/gawk/manual/gawk.html" rel="nofollow noreferrer">AWK</a>, <strike>107</strike> <strike>104</strike> 103 bytes</h1>
<pre><code>w=2-(n=split($1,p,&quot;|&quot;))+gsub(t=&quot;.&quot;,FS,$1){for(;s++&lt;n;gsub(t,FS,b))y=y substr((b=b p[s])$1,1,w)$2RS}$0=y
</code></pre>
<p><a href="https://tio.run/##JczRCsIgFIDhVxnihYdZ5G6XEAQ9QOsuupi1mlQqO4ZIp2e3RZc/H/x9upeSdLMQTmN42Ci4kkEyYgD1DV9GRM2WTO46yRW8r34SLdb12rV//IEByDpXc2OchDDaVOGIJ5hPSibgzb778JXOpRxGi7T1l4HGHomGZ4iZCIdztN5htfkC" rel="nofollow noreferrer" title="AWK ‚Äì Try It Online">Try it online!</a></p>
<p><em>Thanks to Pedro Maimere for helping shave off more 3 chars</em></p>
<p>One interesting thing about this challenge...  I found a quirk about the TIO AWK setup.  I can't figure out way to specify input where a positional argument can contain a space.  Meaning setup a TIO test that behaves like this commandline,</p>
<pre><code>echo &quot;this is the first parameter&quot; second | gawk '{ print $1 }'
</code></pre>
<p>In TIO, the first parameter will be <code>&quot;this</code> not the whole string.  That means while it works in a terminal window, I can't show that it handle the second test for this challenge in TIO.</p>
<p>Here's how the code works...  The test associated with the codeblock is always truthy, so the code always runs.  It's only a test (rather then code) to avoid needing a <code>;</code> character.  It does a couple of things by using AWK's willingness to combine multiple expressions into one &quot;line&quot; of code.</p>
<pre><code>w=2-(n=split($1,p,&quot;|&quot;))+gsub(t=&quot;.&quot;,FS,$1)
</code></pre>
<p>First is splits the first parameter into in array of strings using the pipe character as the delimeter with <code>n=split($1,p,&quot;|&quot;)</code>.  It also saves the number of substrings generated in <code>n</code>.  Then it changes all the characters in the first parameter to spaces with <code>gsub(t=&quot;.&quot;,FS,$1)</code> setting convenience constants <code>t</code> and <code>n</code> in the process.</p>
<p>Finally the value of <code>w</code> is set to the number of non-pipe characters in the first parameter by subtracting the number of sub-strings from the total number of characters in the original.</p>
<p>The associated code block is one statement, a <code>for</code> loop, that processes each substring.</p>
<pre><code>for(;s++&lt;n;gsub(t,FS,b))y=y substr((b=b p[s])$1,1,w)$2RS
</code></pre>
<p>The iteration check is simple <code>s++&lt;n</code>. The end of loop statement converts all the characters in the previous output line to blanks <code>gsub(t,FS,b)</code>, which turns it into the prefix for the next line.  The body of the loop constructs and appends the next line of output to an accumulator <code>y</code>.  That string is a concatenation of the previous string, plus the current string (code fragment) with a bunch of blanks appended (meaning <code>$1</code>) <code>(b=b p[s])$1</code>.  That mess is truncated to the length we want <code>w</code> and the comment delimiter and LF are appended with <code>y=y substr(...,w)$2RS</code>.</p>
<p>Once all the code substrings have been processes, assigning <code>$0</code> to the accumulator takes care if printing out the results.</p>
<pre><code>$0=y
</code></pre>
</div>
<div id="pu12" class="pu"><h1>Python 3.8 (pre-release), 99 bytes</h1>
<p>Different approach:</p>
<pre><code>def f(c,d,i=0):
 for y in(x:=c.split('|')):z=[' '*len(e)for e in x];z[i]=y;print(''.join(z),d);i+=1
</code></pre>
<p><a href="https://tio.run/##ZZHNasMwEITvfoqNS5GVuCF/LcHBUCh9g97SUBR5HSu1JWPpEId9d1eqQy657GH2m9EyantXGb3ett0wFFhCmci0SFW@4FkEpemgB6WTS5bLuW1r5RJGjPPsmu8ZsGmNOkEeMPQYXA67614d8n7Xdkp7ls3PxtuvPC34Ts3y5eDQOiksWshhHyWxoKOkgpDKU0XqTL9UU6PJtHEK8VPM05GhG0SnoKc3/Sj9yf9KNiob2tLylZZvtFrTZhU2z@Pmk4SkCiyhdIqMBmUJjEbwquiEdEgd1EafsCNwldB@IEEtrJuEmMkY81V534cp0LssETat64lsCDXaBvA95tEhikIn0nOpn02D2v1I/04o6d6AL/hW0wubbhcz9q0Zj8IPPPj4HWV8@AM" rel="nofollow noreferrer" title="Python 3.8 (pre-release) ‚Äì Try It Online">Try it online!</a></p>
<p>Ungolfed with explanation:</p>
<pre><code>def f(c,d,i=0):
 x=c.split('|')              # break string by '|'
 for y in x:                 # for each element of list
  z=[' '*len(e) for e in x]  # create a list of blank strings
  z[i]=y                     # insert element we care about into otherwise blank list
  print(''.join(z),d)        # print line
  i+=1                       # increment
</code></pre>
</div>
<div id="pu13" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 108 bytes</h1>
<pre class="lang-python prettyprint-override"><code>s,c=input().split(&quot;|&quot;),input()
i,S=0,len(&quot;&quot;.join(s))
for l in s:L=len(l);print(&quot; &quot;*i+l+&quot; &quot;*(S-L-i+1)+c);i+=L
</code></pre>
<p><a href="https://tio.run/##LYtBCsIwEADvfUXIKWvSonizBApee6sfkBrpStyEbjwU9u/RgqeBGSZvZUl0rpXd7JHypxjoOEcsRosG91cNuskfXQxktO5eCckwQPNMq4oKSfFl9HuM0OcV6TcrfUAb7U4ztWOL9gR2hh6tH2u9LchyTY8gy51FwjuXTYTDXDARN8MX" rel="nofollow noreferrer">Try it online!</a> Simple solution -- keep track of how many spaces we have (i) and accumulate.</p>
</div>
<div id="pu14" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, <s>29</s> <s>38</s> <s>31</s> 29 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>'|‚Äû«ù í:'«ù¬°' í–ºŒµD¬Æ&gt;√∫sg¬Æ+¬©s}.BŒµ√∞¬≤J,
</code></pre>
<p>Can definitely be golfed, but at least its working now..<br />
+9 bytes because <code>¬°</code> (split) removes empty items automatically, so I had to add <code>'|‚Äû«ù í:'«ù¬°' í–º</code>..<br />
-2 bytes thanks to <em>@MagicOctopusUrn</em> by changing <code>'|‚Äû«ù í:'«ù¬°' í–º</code> to <code>'|¬∂:.BŒµ√∞√ú}</code> (current solution doesn't work on items with trailing spaces, but I've assumed that's allowed according to the test cases).</p>
<p><a href="https://tio.run/##AUYAuf8wNWFiMWX//yd84oCex53Kkjonx53CoSfKktC8zrVEwq4@w7pzZ8KuK8Kpc30uQs61w7DCskos//9hYmN8ZHxlfHxmZwoh" rel="nofollow noreferrer">Try it online.</a></p>
<p><strong>Explanation:</strong></p>
<pre><code>'|¬∂:           # Take the first input, and replace every &quot;|&quot; with &quot;¬∂&quot;
               #  i.e. &quot;abc|d|e||fg&quot; ‚Üí &quot;abc¬∂d¬∂e¬∂¬∂fg&quot; (¬∂ are new-lines in 05AB1E)
    .B         # Box all the items (appending trailing whitespace to make it a rectangle)
               #  i.e. &quot;abc¬∂d¬∂e¬∂¬∂fg&quot; ‚Üí ['abc','d  ','e  ','   ','fg ']
      Œµ√∞√ú}     # Remove all trailing spaces from each item
               #  i.e. ['abc','d  ','e  ','   ','fg '] ‚Üí ['abc','d,'e','','fg']
               #  NOTE: `'|¬°` would have resulted in ['abc','d','e','fd'], hence the use of
               #        Box which implicitly splits on new-lines to keep empty items
Œµ              # For-each:
 D             #  Duplicate the current item
  ¬Æ&gt;√∫          #  Prepend global_variable + 1 amount of spaces
               #  (+1 because the global_variable is -1 by default)
               #   i.e. &quot;e&quot; and 3+1 ‚Üí &quot;    e&quot;
 sg            #  Swap so the duplicated item is at the top, and take its length
   ¬Æ+          #  Sum it with the global_variable
               #   i.e. &quot;e&quot; (‚Üí 1) and 4 ‚Üí 5
     ¬©         #  And store it as new global_variable
      s        #  Then swap so the space appended item is at the end again
       }       # And end the for-each loop
.B             # Box all the items (appending the appropriate amount of spaces)
               #  i.e. ['abc','   d','    e','     ','     fg']
               #   ‚Üí ['abc    ','   d   ','    e  ','       ','     fg']
Œµ              # For-each again:
 √∞             #  A space character
  I            #  The second input-character
   J           #  Join both together with the current item
    ,          #  And print the current row with trailing new-line
</code></pre>
</div>
<div id="pu15" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 10 bytes</h1>

<pre><code>·π£‚Äù|‚Å∂·πÅ;…ó\pG
</code></pre>

<p><a href="https://tio.run/##AT8AwP9qZWxsef//4bmj4oCdfOKBtuG5gTvJl1xwR////1RoaXN8Q29kZXxoYXN8fGVtcHR5fHxzZWN0aW9uc/8nQCc" rel="nofollow noreferrer" title="Jelly ‚Äì Try It Online">Try it online!</a></p>
</div>
<div id="pu16" class="pu"><h1>Java 10, <s>189</s> 159 bytes</h1>

<pre class="lang-java prettyprint-override"><code>s-&gt;c-&gt;{var r=&quot;&quot;;int p=0,i;for(var a:s.split(&quot;\\|&quot;)){for(i=p;i--&gt;0;r+=&quot; &quot;);r+=a;for(p+=a.length();i++&lt;s.replace(&quot;|&quot;,&quot;&quot;).length()-p;r+=&quot; &quot;);r+=c+&quot;\n&quot;;}return r;}
</code></pre>
<p>-30 bytes converting Java 7 to Java 10 and optimizing the loops.</p>
<p><a href="https://tio.run/##jZLBbtswDIbveQpWw1AbsbW264ahqo0BxYZdduqAHpYdFFm2lSqSIMkBgjDPnilNUPe0@SIJJL@f1A@u@IaXq@b5IDQPAX5yZXYzgBB5VAJWKUuHqDRtByOisoZ@Pz/uH6NXpiv@WfPQc89FlL6AU3ldQwvVIZS1KOvdhnvwFSFMmQiuuioUa63PjmF@F2hwWsWMLBZI8nx3zKjKMVWW9RXz84oAyY83f4FcelAtTRf7LGdqPr8P1EunuZAZQVIQkr@mS/eWF3OyMITtvYyDN@DZ/sBmyQM3LHXy4GzFxqoG1sme7PST33@A50erAB63Ico1tUOkLqWiNllLuXN6mxGOS4ENSmy7HtUKn1Hj2qB1aZxTyeW7yzxn/xX6IbW2@GS9bkb0wyQ0zYDnIbAb4WIavBSNbN9gd5OwW/yC15/w@jPefMTbmxF/Pwn/hlxgDwFlWiS0BlRAsEZCip5WCj1oazrpEWLPTTokQtrheDH2upjU61efxB9sI5N0QJRrF7eIQb6scBjVvp7V9rP94S8" rel="noreferrer">Try it online.</a></p>
<p><strong>Explanation:</strong></p>
<pre class="lang-java prettyprint-override"><code>s-&gt;c-&gt;{                     // Method with String &amp; char parameters and String return-type
  var r=&quot;&quot;;                 //  Result-String, starting empty
  int p=0,                  //  Position-integer, starting at 0
      i;                    //  Index integer
  for(var a:s.split(&quot;\\|&quot;)){//  Loop over the parts split by &quot;|&quot;
    for(i=p;i--&gt;0;r+=&quot; &quot;);  //   Add `p` amount of spaces to the result-String
    r+=a;                   //   Add the current part to the result-String
    for(p+=a.length();      //   Add the length of the current part to the position-integer
        i++&lt;s.replace(&quot;|&quot;,&quot;&quot;).length()-p;r+=&quot; &quot;);
                            //   Add the row's trailing spaces to the result-String
    r+=c+&quot;\n&quot;;}             //   Add the character and a new-line to the result-String
  return r;}                //  Return the result-String
</code></pre>
</div>
<div id="pu17" class="pu"><h1><a href="https://github.com/TehFlaminTaco/Funky" rel="nofollow noreferrer">Funky</a>, 89 bytes</h1>

<pre><code>s=&gt;c=&gt;{y=0forn inl=s::split"|"print((v=" "::rep)(y)+l[n]+v((#l::reduce@++1)-y+=#l[n])+c)}
</code></pre>

<p><a href="https://tio.run/##dVDdasIwFL62T3GMCA3twDo3RiUiyN7AO@lFTE@1rKZdE4XS02fvUlc2mCwXB/L9JefLrvqj6TPRG7FRYtM2YpGVtYZcF8LEsamK3DJiVZ1r6/s3wYDFcY0V9xseFAedBDffnxUDll4VboMg4k9NIGYDxwPFu36Pxu6kQQMCWm/SMklHUpQSUkYnFgILWRfeiaNKMbtD8Qit6I2iF4peaflMq@VAzUfqnaSiMxhCZXMq3Z8NQakRHCprqSxSDUWpT1gT2LPUbiBBIY2dDjnTMWd/dsZdmaKzGSK8VLYhMkNqqc2g3LLO6zzPFQO5awZ@N2o9GM93Q2z@6fpxwou0/o/skCeHRcLD/9ko4XztTbIHz4Ns/edF/nDv@i8" rel="nofollow noreferrer" title="Funky ‚Äì Try It Online">Try it online!</a></p>
</div>
<div id="pu18" class="pu"><h1>GolfScript, 85 bytes</h1>

<pre><code>{(;);}:r;", "%(r\(r n+:c;;.,\'|'%.,@\-)):l;0:m;{.,0&gt;}{" "m*\(.,m+:m l\-" "\*+c@}while
</code></pre>

<p><a href="http://golfscript.tryitonline.net/#code=eyg7KTt9OnI7IiwgIiUoclwociBuKzpjOzsuLFwnfCclLixAXC0pKTpsOzA6bTt7LiwwPn17IiAibSpcKC4sbSs6bSBsXC0iICJcKitjQH13aGlsZQ&amp;input=IkhlbGxvLHxXb3JsZCF8VGhpc3xpc3xHb2xmU2NyaXB0IiwgIiMi&amp;debug=on" rel="nofollow noreferrer">Try it online</a></p>

<h1>2017 Update - <a href="https://tio.run/##FccxDsIwDADAnVdYZrCgbgJrIiT@QRhooMU00ArY6ubroUyn64bUfuJbxm8pxEA2Zxd93lvDwUykdJiZj6HeuORPS89258RPhqVyAgmkJqBtrMIfXGGYbSl40SbqVW/adneVh/aa9PnSYUQGXOMP" rel="nofollow noreferrer">GolfScript</a> - 71 bytes</h1>

<pre><code>', '/~~:c;~1/.,\.{'|'=},,@\-):l;['|']/0:i;{.,i+:i l i-' '*c+\' '*"
"\}/
</code></pre>

<h3>Explanation</h3>

<pre><code>', '/~~:c;~1/        # Parses input
.,\.{'|'=},,@\-):l;  # Computes string length without '|'
['|']/               # Splits the array
0:i;                 # Counter
{.,                  # Length of the substring
i+:i                 # Counter update
l i-' '*c+\          # Adds spaces after the substring 
' '*"\n"\            # Adds spaces before the next substring
}/                   # ...For each substring
</code></pre>
</div>
<div id="pu19" class="pu"><h1><a href="https://github.com/Destructible-Watermelon/turtl-d/" rel="nofollow">Turtl√®d</a>, 35 bytes (noncompeting)</h1>

<p>Takes one input, the last character is the comment character. Does not work with comment character as space, but I assume that isn't necessary.</p>

<pre><code>!' [*.+(|' dl)r_]' r[*+.(|u)_][ .d]
</code></pre>

<p>Explanation:</p>

<pre><code>!                                  take input into string variable
 '                                 write space over current cell
   [*           ]                  while cell is not *
     .+                            write pointed char of string, stringpointer+1 (starts 0)
       (|    )                     if current cell is |
         ' dl                      write space (over |), move down, left
              r_                   move right, write * if pointed char is
                                   last char, else space

                 ' r               write space, move right
                    [*       ]     while cell is not *
                      +.           increment pointer and write pointed char
                        (|u)       if cell is |, move up
                            _      write * if the pointed char is the last char

                              [   ] while cell is not space
                                .d  write the pointed char from string, move down 
</code></pre>
</div>
<div id="pu20" class="pu"><h1>CJam, 32 bytes</h1>
<pre><code>l'|/_s,)L@{1$,S*\+}%@f{Se]}lN+f+
</code></pre>
<p>Explanation</p>
<pre><code>l                                  get code string
 '|/                               split into code parts
    _s,)                           length of all the parts +1
        L@{1$,S*\+}%               left pad spaces to every part for the length of the previous parts
                    @f{Se]}        right pad spaces
                           lN+f+   add comment character and newline
</code></pre>
<p><a href="http://cjam.tryitonline.net/#code=bCd8L19zLClMQHsxJCxTKlwrfSVAZntTZV19bE4rZis&amp;input=VGhpc3xDb2RlfGhhc3x8ZW1wdHl8fHNlY3Rpb25zCkA" rel="nofollow noreferrer">Try it online</a></p>
</div>
<div id="pu21" class="pu"><h1>Perl, 63 bytes</h1>

<p>Includes +5 for <code>-Xpi</code></p>

<p>Run with input on STDIN and comment character after -i:</p>

<pre><code>perl -Xpi% esolang.pl &lt;&lt;&lt; "Ab|Cd||ef"
</code></pre>

<p><code>esolang.pl</code>:</p>

<pre><code>s/
/|/;s%(.*?)\|%$"x$`=~y/|//c.$1.$"x$'=~y/|//c." $^I
"%eg
</code></pre>

<p>Totally boring straightforward solution</p>
</div>
<div id="pu22" class="pu"><h1>C# <strike>176</strike> <strike>167</strike> 154 bytes</h1>

<pre><code>string f(string s,char x){var c=s.Split('|');var d="";int i=0;foreach(var b in c)d+=b.PadLeft(i+=b.Length).PadRight(s.Length+2-c.Length)+x+"\n";return d;}
</code></pre>

<p>UnGolfed</p>

<pre><code>string f(string s, char x)
{
    var c = s.Split('|');
    var d = "";
    int i = 0;
    foreach (var b in c)
        d += b.PadLeft(i += b.Length).PadRight(s.Length + 2 - c.Length) + x + "\n";
    return d;
}
</code></pre>

<p>A LINQ solution would have been 146 but needed <code>using System.Linq;</code> bringing it back up to 164:</p>

<pre><code>string f(string s,char x){var c=s.Split('|');int i=0;return c.Aggregate("",(g,b)=&gt;g+b.PadLeft(i+=b.Length).PadRight(s.Length+2-c.Length)+x+"\n");}
</code></pre>

<p>Old solutions:</p>

<p>167 bytes:</p>

<pre><code>string f(string s,char x){var c=s.Split('|');var d="";int i=0;foreach(var b in c){d+=b.PadLeft(i+b.Length).PadRight(s.Length+2-c.Length)+x+"\n";i+=b.Length;}return d;}
</code></pre>

<p>176 bytes using string interpolation</p>

<pre><code>string f(string s,char x){var c=s.Split('|');var d="";int i=0;foreach(var b in c){d+=string.Format($"{{1,{i}}}{{0,-{s.Length+2-c.Length-i}}}{x}\n",b,"");i+=b.Length;}return d;}
</code></pre>
</div>
<div id="pu23" class="pu"><h1><a href="https://github.com/TuukkaX/Floroid" rel="nofollow noreferrer">Floroid</a> - 94 bytes</h1>

<pre><code>Ah(a,b):c=a.fn("|");z(" "+b+"\n".y(' '*Z("".y(c[:j]))+l+" "*Z("".y(c[j+1:]))Kj,lIai(c))+' '+b)
</code></pre>

<p>Uses an approach similar to @<a href="https://codegolf.stackexchange.com/users/53748/jonathan-allan">JonathanAllan</a>s' Python solution.</p>

<h2>Testcases</h2>

<pre><code>Call: h("a|bc|d|e|fgh|ij|k|l|mn|op", "#")
Output: 
a                #
 bc              #
   d             #
    e            #
     fgh         #
        ij       #
          k      #
           l     #
            mn   #
              op #
</code></pre>
</div>
<div id="pu24" class="pu"><h1>Python 2, <s>107</s> <s>105</s> <s>102</s> 99 bytes</h1>
<p>Tested with all test cases above</p>
<p><strong>EDIT</strong> Golfed off 2 bytes by changing d=a.split(&quot;|&quot;);i=0 to d,i=a.split(&quot;|&quot;),0
Not sure how I missed that one. Thanks @Oliver Ni</p>
<p>Another 3 bytes gone. Thanks again.</p>
<p>Suggestion from @Jonathan actually saves 3 bytes and takes it down to the magic 99. Thanks.</p>
<pre><code>def c(a,b):
 d,i=a.split(&quot;|&quot;),0
 for e in d:j=i+len(e);print&quot; &quot;*i+e+&quot; &quot;*(len(&quot;&quot;.join(d))-j+1)+b;i=j
</code></pre>
</div>
<div id="pu25" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow">Jelly</a>, 41 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow">bytes</a></h1>

<p>This looks like it has far to many increments, and probably too many links...</p>

<pre><code>·π´√∏‚Åπ‚Äò‚Äò¬µFL‚Äò‚Å∂·∫ã
‚Äò·ªã
·∏£FL‚Å∂·∫ã$;√ß@;1≈Ä
J‚Äô√ß@‚Ç¨
·π£‚Äù|√á;‚Ç¨Y
</code></pre>

<p>Test it at <a href="http://jelly.tryitonline.net/#code=4bmrw7jigbnigJjigJjCtUZM4oCY4oG24bqLCuKAmOG7iwrhuKNGTOKBtuG6iyQ7w6dAOzHFgApK4oCZw6dA4oKsCuG5o-KAnXzDhzvigqxZ&amp;input=&amp;args=IlRoaXN8Q29kZXxoYXN8fGVtcHR5fHxzZWN0aW9ucyI+IkAi" rel="nofollow"><strong>TryItOnline</strong></a></p>

<p>How?</p>

<pre><code>·π´√∏‚Åπ‚Äò‚Äò¬µFL‚Äò‚Å∂·∫ã  - link 1: get the spaces for after the code, dyadic(split string, index)
 √∏           - next chain as a nilad
  ‚Åπ‚Äò‚Äò        - right argument incremented twice (the index we actually want)
·π´            - tail (get the rest of the split string)
     ¬µ       - next chain as a monad
      FL‚Äò    - flatten, get its length and increment
         ‚Å∂   - a space character " "
          ·∫ã  - repeat the space character that many times

‚Äò·ªã           - Link 2: get the code for a line dyadic(index, split string)
‚Äò            - increment the index
 ·ªã           - retrieve the string at that index

·∏£FL‚Å∂·∫ã$;√ß@;1≈Ä - Link 3: get the code and join with spaces, dyadic (index, split string)
·∏£            - head: split string[index:]
 FL          - flatten and get its length
     $       - previous two atoms as a monad
   ‚Å∂         - a space character, " "
    ·∫ã        - repeat the space that many times
      ;      - concatenate with
       √ß@    - the result of the previous link (the code) - reverse inputs
         ;   - concatenate with
          1≈Ä - the result of Link 1 (the spaces after the code)

J‚Äô√ß@‚Ç¨        - Link 3: a for loop, monadic(split string)
J‚Äô           - [0,...,Len(split string)-1]
  √ß@‚Ç¨        - the result of the previous link, with revered inputs, for each

·π£‚Äù|√á;‚Ç¨Y      - Main Link: dyadic(code string, comment character)
·π£‚Äù|          - split on "|"
   √á         - the result of the previous link
    ;‚Ç¨       - concatenate each with the comment character
      Y      - join with line feeds
             - implicit print
</code></pre>
</div>
<div id="pu26" class="pu"><h1>Python 2, <s>125 124</s> 132 bytes</h1>

<p>-1 byte thanks to @TuukkaX (missed golfing the space from <code>i, v</code>)</p>

<pre class="lang-python prettyprint-override"><code>def g(s,c):x=s.split('|');print((' '+c+'\n').join(' '*len(''.join(x[:i]))+v+' '*len(''.join(x[i+1:]))for i,v in enumerate(x))+' '+c)
</code></pre>

<p>All test cases on <a href="http://ideone.com/MWZ0Lx" rel="nofollow"><strong>ideone</strong></a></p>
</div>
<div id="pu27" class="pu"><h1>Vim, <s>39</s> 38 keystrokes</h1>

<p>-1 byte thanks to DJMcMayhem</p>

<p>Expects as input a buffer (e.g. a file) whose first character is the comment delimiter, followed by the code, e.g. <code>#foo|bar|baz</code>.</p>

<pre><code>"cxqaf|m`Yp&lt;Ctrl+o&gt;v$r jv0r x@aq@a$p&lt;Ctrl+v&gt;gg$C &lt;Ctrl+r&gt;c&lt;Esc&gt;
</code></pre>

<h2>Explanation</h2>

<p>("<code>_</code>" denotes a literal space.)</p>

<pre><code>"cx          " Delete the first character (the comment delimiter) and store in register 'c'
qa           " Start recording macro 'a'
f|m`         " Advance to the first '|' on the line and set mark
Yp&lt;Ctrl+o&gt;   " Duplicate this line and return to mark
v$r_         " Replace everything after the cursor on this line (inclusive) with spaces
jv0r_x       " Go down a line and replace everything before the cursor on this line (inclusive) with
             "   spaces, then delete one space
@a           " Call macro recursively
q@a          " Stop recording and immediately call the macro
$p           " Paste the deleted space at the end of the last line
&lt;Ctrl+v&gt;gg$       " Highlight the column where the comment delimiters will go and all trailing spaces
C_&lt;Ctrl+r&gt;c&lt;Esc&gt;  " Replace the highlighted text on each line with a space and the contents of
                  "   register 'c' (the comment delimiter)
</code></pre>
</div>
<div id="pu28" class="pu"><h1>Pyth, 30 bytes</h1>
<pre><code>VJcE\|s[*ZdN*h--lsJZlNdQ)=+ZlN
</code></pre>
<p>or</p>
<pre><code>jm+dQ.t.t+MC,.u*l+NYdJc+Ed\|kJ
</code></pre>
<p>Both are full programs that take input on STDIN of the comment string, and then the program string, newline-separated.</p>
<p><a href="https://pyth.herokuapp.com/?code=VJcE%5C%7Cs%5B%2aZdN%2ah--lsJZlNdQ%29%3D%2BZlN&amp;test_suite=1&amp;test_suite_input=%27%23%27%0A%22a%7Cbc%7Cd%7Ce%7Cfgh%7Cij%7Ck%7Cl%7Cmn%7Cop%22%0A%22%2F%22%0A%22Hello%7CWorld%22%0A%22%2C%22%0A%22a%7Cb%7Cc%7Cd%7Ce%7Cf%7Cg%22%0A%22%3A%22%0A%22abcdefg%22%0A%27%25%27%0A%224%7C8%7C15%7C16%7C23%7C42%22%0A%22%21%22%0A%22E%7Cac%7Ch+s%7Cecti%7Con+is%7C+one+c%7Characte%7Cr+longer%7C+than+the%7C+last%21%22%0A%22%40%22%0A%22This%7CCode%7Chas%7C%7Cempty%7C%7Csections%22&amp;debug=0&amp;input_size=2" rel="nofollow noreferrer">Try the first version online</a></p>
<p><a href="https://pyth.herokuapp.com/?code=jm%2BdQ.t.t%2BMC%2C.u%2al%2BNYdJc%2BEd%5C%7CkJ&amp;test_suite=1&amp;test_suite_input=%27%23%27%0A%22a%7Cbc%7Cd%7Ce%7Cfgh%7Cij%7Ck%7Cl%7Cmn%7Cop%22%0A%22%2F%22%0A%22Hello%7CWorld%22%0A%22%2C%22%0A%22a%7Cb%7Cc%7Cd%7Ce%7Cf%7Cg%22%0A%22%3A%22%0A%22abcdefg%22%0A%27%25%27%0A%224%7C8%7C15%7C16%7C23%7C42%22%0A%22%21%22%0A%22E%7Cac%7Ch+s%7Cecti%7Con+is%7C+one+c%7Characte%7Cr+longer%7C+than+the%7C+last%21%22%0A%22%40%22%0A%22This%7CCode%7Chas%7C%7Cempty%7C%7Csections%22&amp;debug=0&amp;input_size=2" rel="nofollow noreferrer">Try the second version online</a></p>
<p><strong>How they work</strong></p>
<pre><code>VJcE\|s[*ZdN*h--lsJZlNdQ)=+ZlN  Program. Inputs: E, Q
  cE\|                          Split E on &quot;|&quot;
 J                              Assign to J
                                Implicit Z=0
V                               For N in that:
       [                )        Create a list with elements:
        *Zd                       Z spaces
           N                      N
               -lsJZ              len(concatenate(J))-Z
              -     lN             -len(N)
             h                     +1
            *         d            spaces
                       Q          Q
      s                          Concatenate the list
                                 Implicitly print
                        =+ZlN    Z=Z+len(N)

jm+dQ.t.t+MC,.u*l+NYdJc+Ed\|kJ  Program. Inputs: E, Q
                       +Ed      Add a trailing space to E
                      c   \|    Split that on &quot;|&quot;
                     J          Assign to J
             .u                 Cumulatively reduce J with:
                            k    starting value empty string and
                                 function N, Y -&gt;
                l+NY              len(N+Y)
               *    d             spaces
            ,                J  Two-element list of that and J
           C                    Transpose
         +M                     Map concatenation over that
       .t                       Transpose, padding with spaces
     .t                         Transpose again
 m+dQ                           Map concatenation with Q over that
j                               Join on newlines
                                Implicitly print
</code></pre>
</div>
<div id="pu29" class="pu"><h1>GNU sed (85 + 1 for -r) 86</h1>

<pre><code>:s;h;:;s,\|( *)[^ \|](.),|\1 \2,;t;s,\|,,g
p;g;:l;s,^( *)[^ \|],\1 ,;tl;s,\|,,;/\S/bs
</code></pre>

<p>The inputs are strings separated by a space.   </p>

<p><strong>Tests:</strong><br>
input.txt:</p>

<pre><code>a|b|c|d|e|f|g ,
abcdefg :
4|8|15|16|23|42 %
E|ac|h s|ecti|on is| one c|haracte|r longer| than the| last! !
This|Code|has||empty||sections @
</code></pre>

<p>Output:</p>

<pre><code>$ cat input.txt | sed -rf template
a       ,
 b      ,
  c     ,
   d    ,
    e   ,
     f  ,
      g ,

abcdefg :

4          %
 8         %
  15       %
    16     %
      23   %
        42 %

E                                                   !
 ac                                                 !
   h s                                              !
      ecti                                          !
          on is                                     !
                one c                               !
                     haracte                        !
                            r longer                !
                                     than the       !
                                              last! !

This                     @
    Code                 @
        has              @
                         @
           empty         @
                         @
                sections @
</code></pre>
</div>
<div id="pu30" class="pu"><h1>Pyth - <s>28</s> <s>27</s> <s>24</s> 23 bytes</h1>
<p><s>Might be able to golf a little off.</s> A lot off, apparently!</p>
<pre><code>jt+R+;zC.t.u+*lNdYcQ\|k
</code></pre>
<p><a href="http://pyth.herokuapp.com/?code=jt%2BR%2B%3BzC.t.u%2B%2alNdYcQ%5C%7Ck&amp;input=%22a%7Cbc%7Cd%7Ce%7Cfgh%7Cij%7Ck%7Cl%7Cmn%7Cop%22%0A%23&amp;debug=0" rel="noreferrer">Try it online here</a>.</p>
</div>
<div id="pu31" class="pu"><h1>Ruby, <s>96</s> 80 bytes</h1>

<pre><code>-&gt;s,c{s.gsub(/(^|\|)([^|]*)/){" "*$`.count(t="^|")+$2+" "*(1+$'.count(t))+c+$/}}
</code></pre>

<p>See it on eval.in: <a href="https://eval.in/639012" rel="nofollow">https://eval.in/639012</a></p>

<p>I really ought to just learn Retina.</p>
</div>
<div id="pu32" class="pu"><h1><a href="http://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, <s>33</s> 31 bytes</h1>
<pre><code>'\|'0'|'hYXo8M&amp;YbY:&amp;YdtaZ)0ihYc
</code></pre>
<p><a href="http://matl.tryitonline.net/#code=J1x8JzAnfCdoWVhvOE0mWWJZOiZZZHRhWikwaWhZYw&amp;input=J1RoaXN8Q29kZXxoYXN8fGVtcHR5fHxzZWN0aW9ucycKJyMn" rel="nofollow noreferrer">Try it online!</a></p>
<h3>Explanation</h3>
<p>The builtin function <code>Yd</code> (<code>blkdiag</code>), which builds a block-diagonal matrix from its inputs, does most of the work. The fill values in the matrix are 0, and char 0 is treated as a space for displaying purposes. The code would simply split on <code>|</code>, build a matrix from the resulting blocks, convert to char, and append two columns with space and comment symbol.</p>
<p>However, the possibility of empty sections in the input string <s>complicates</s> makes the problem more interesting: the resulting block would be empty and thus wouldn't show in the resulting matrix.</p>
<p>To solve this, we introduce a char 0 before each <code>|</code>, so no block will be empty; and then in the resulting char matrix we remove columns that are formed by char 0 only. A non-empty code section will have some printable ASCII char, and thus the columns it spans will survive. An empty section will contribute a row, but won't introduce an extra column.</p>
<pre><code>'\|'    % Push this string: source for regexp matching. It's just | escaped
0'|'h   % Push a string formed by char 0 followed by | (no escaping needed)
YX      % Input string implicitly. Replace first of the above string by the second
o       % Convert from chars to code points. Gives a numeric vector
8M      % Push '|' again
&amp;Yb     % Split numeric vector at occurences of | (the latter is automatically
        % converted  to its code point). This gives a cell array of numeric vectors
Y:      % Unbox cell array: pushes the numeric vectors it contains
&amp;Yd     % Form a block-diagonal matrix from those vectors
ta      % Duplicate. Compute vector that equals true for columns that have some
        % nonzero value
Z)      % Used that as a logical index (mask) for the columns of the matrix.
        % This removes columns that contain only zeros
0ih     % Input comment symbol and prepend char 0 (which will be displayed as space)
Yc      % Append that to each row of the matrix. The matrix is automatically 
        % converted from code points to chars
        % Display implicitly
</code></pre>
</div>
<div id="pu33" class="pu"><h2>PowerShell v2+, <s>103</s> 99 bytes</h2>

<pre><code>param($a,$b)$a-split'\|'|%{" "*$l+$_+" "*(($a-replace'\|').length+1-$_.length-$l)+$b;$l+=$_.Length}
</code></pre>

<p>Takes input as two strings, <code>-split</code>s the first on literal pipe (since split uses regex syntax), and feeds the elements into a loop <code>|%{...}</code>.</p>

<p>Each iteration, we construct a string as being a number of spaces defined by <code>$l</code> concatenated with the current element. For the first loop, <code>$l</code> initializes to <code>$null</code>, which gets evaluate here as <code>0</code>.</p>

<p>That string is further concatenated with another number of spaces (defined by how long <code>$a</code> would be if we <code>-replace</code>d every pipe with nothing, plus <code>1</code> for the additional padding between code and comments, minus the <code>.length</code> of the current element, minus <code>$l</code> which is how many spaces we padded left on this iteration), concatenated with our comment character <code>$b</code>. That's left on the pipeline.</p>

<p>We then update <code>$l</code> for the next iteration.</p>

<p>The resultant strings are all left on the pipeline, and output via implicit <code>Write-Output</code> happens at program execution, with a newline between them by default.</p>

<h3>Examples</h3>

<pre><code>PS C:\Tools\Scripts\golfing&gt; .\esolang-comment-template-generator.ps1 "This|Code|has||empty||sections" "@"
This                     @
    Code                 @
        has              @
                         @
           empty         @
                         @
                sections @

PS C:\Tools\Scripts\golfing&gt; .\esolang-comment-template-generator.ps1 "a|bc|def|ghi|h" "|"
a          |
 bc        |
   def     |
      ghi  |
         h |
</code></pre>
</div>
<div id="pu34" class="pu"><h2><a href="http://github.com/mbuettner/retina">Retina</a>, <s>35</s> 34 bytes</h2>

<p>Byte count assumes ISO 8859-1 encoding.</p>

<pre><code>\|
¬∑$'¬∂$`¬±
T0-2`¬∑¬±|p`___ `.+¬±.|¬∑.+
</code></pre>

<p>The two input strings are separated by a space (which is unambiguous since we know that the comment delimiter is always a single character).</p>

<p><a href="http://retina.tryitonline.net/#code=XHwKwrckJ8K2JGDCsQpUMC0yYMK3wrF8cGBfX18gYC4rwrEufMK3Lis&amp;input=RXxhY3xoIHN8ZWN0aXxvbiBpc3wgb25lIGN8aGFyYWN0ZXxyIGxvbmdlcnwgdGhhbiB0aGV8IGxhc3QhICE">Try it online!</a></p>
</div>
<div id="pu35" class="pu"><h1>Groovy, <s>120</s> <s>113</s> 111 Bytes</h1>

<pre><code>def m(s,c){s.split(/\|/).inject(0,{e,t-&gt;println((' '*e+t).padRight(s.replace('|','').size()+1)+c);e+t.size()})}
</code></pre>

<p><strong>ungolfed*</strong></p>

<pre><code>def m(s,c){
  s.split(/\|/).inject(0, { e, t -&gt;
    println((' '*e+t).padRight(s.replace('|','').size())+' '+c)
    e+t.size()
  })
}
</code></pre>

<h1>(First Draft with 120 Bytes)</h1>

<pre><code>def m(s,c){def l=0;s.split(/\|/).collect{l+=it.size();it.padLeft(l).padRight(s.replace('|','').size())+' '+c}.join('\n')}
</code></pre>

<p><strong>ungolfed*</strong></p>

<pre><code>def m(s,c){
  def l=0 // minimized version needs a semicolon here
  s.split(/\|/).collect{
    l+=it.size() // minimized version needs a semicolon here
    it.padLeft(l).padRight(s.replace('|','').size())+' '+c
  }.join('\n')
}
</code></pre>

<p><strong>Tests</strong></p>

<pre><code>%&gt; m('a|bc|d|e|fgh|ij|k|l|mn|op', '#')
a                #
 bc              #
   d             #
    e            #
     fgh         #
        ij       #
          k      #
           l     #
            mn   #
              op #

%&gt; m('Hello|World', '/')
Hello      /
     World /

%&gt; m('a|b|c|d|e|f|g', ',')
a       ,
 b      ,
  c     ,
   d    ,
    e   ,
     f  ,
      g ,

%&gt; m('abcdefg', ':')
abcdefg :

%&gt; m('4|8|15|16|23|42', '%')
4          %
 8         %
  15       %
    16     %
      23   %
        42 %

%&gt; m('E|ac|h s|ecti|on is| one c|haracte|r longer| than the| last!', '!')
E                                                   !
 ac                                                 !
   h s                                              !
      ecti                                          !
          on is                                     !
                one c                               !
                     haracte                        !
                            r longer                !
                                     than the       !
                                              last! !

%&gt; m('This|Code|has||empty||sections', '@')
This                     @
    Code                 @
        has              @
                         @
           empty         @
                         @
                sections @
</code></pre>
</div>
<div id="pu36" class="pu"><h2>Pyke, <s>31</s> <s>28</s> 24 bytes</h2>
<pre><code>\|cDslF2l-hd*Q+Zi:il?+ZK
</code></pre>
<p><a href="http://pyke.catbus.co.uk/?code=%5C%7CcDslF2l-hd%2aQ%2BZi%3Ail%3F%2BZK&amp;input=%23%0Aa%7Cbc%7Cd%7Ce%7Cfgh%7Cij%7Ck%7Cl%7Cmn%7Cop" rel="noreferrer">Try it here!</a></p>
</div>
<div id="pu37" class="pu"><h1>Scala, 123 bytes</h1>

<pre><code>def?(i:String,c:String)={var b=0
i.split('|').map{s=&gt;println(" "*b+s+" "*(i.replace("|","").size-b-s.size+1)+c)
b+=s.size}}
</code></pre>

<p>Test code + Output:</p>

<pre><code>?("a|b|c|d|e|f|g", ",")
a       ,
 b      ,
  c     ,
   d    ,
    e   ,
     f  ,
      g ,

?("abcdefg", ":")
abcdefg :

?("4|8|15|16|23|42", "%")
4          %
 8         %
  15       %
    16     %
      23   %
        42 %

?("E|ac|h s|ecti|on is| one c|haracte|r longer| than the| last!", "!")
E                                                   !
 ac                                                 !
   h s                                              !
      ecti                                          !
          on is                                     !
                one c                               !
                     haracte                        !
                            r longer                !
                                     than the       !
                                              last! !

?("This|Code|has||empty||sections", "@")
This                     @
    Code                 @
        has              @
                         @
           empty         @
                         @
                sections @
</code></pre>
</div>
<div id="pu38" class="pu"><h1>PHP, <s>120</s> <s>117</s> <s>116</s> <s>110</s> 109 bytes</h1>
<pre><code>foreach($a=split('\|',$argv[1])as$i=&gt;$t){$c=preg_replace('#.#',' ',$a);$c[$i]=$t;echo join($c),&quot; $argv[2]
&quot;;}
</code></pre>
<p>or</p>
<pre><code>foreach($a=split('\|',$argv[1])as$t){$c=preg_replace('#.#',' ',$a);$c[$i++|0]=$t;echo join($c),&quot; $argv[2]
&quot;;}
</code></pre>
</div>
<div id="pu39" class="pu"><h1>Haskell, <s>139</s> 135 bytes</h1>

<pre><code>s#p=j$foldl g("",0)s where g(a,n)c|c=='|'=(j(a,n)++"\n"++q n,n)|1&gt;0=(a++[c],n+1);q m=' '&lt;$[1..m];j(a,n)=a++q(sum[1|c&lt;-s,c/='|']-n+1)++p
</code></pre>

<p>Saved 4 bytes by inlining a definition.</p>

<p><strong>Ungolfed:</strong></p>

<pre><code>template :: String -&gt; String -&gt; String
template code comment = format $ foldl g ("", 0) code
    where g (acc, n) c
            | c == '|' = (format (acc, n) ++ "\n" ++ spaces n, n)
            | otherwise = (acc ++ [c], n+1)
          l = length $ filter (/= '|') code
          spaces n = replicate n ' '
          format (acc, n) = acc ++ spaces (l-n+1) ++ comment
</code></pre>
</div>
<div id="pu40" class="pu"><h2>JavaScript (ES6), 92 bytes</h2>

<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>f=
(s,c)=&gt;s.split`|`.map((_,i,a)=&gt;a.map((e,j)=&gt;i-j?e.replace(/./g,` `):e).join``+` `+c).join`
`
;</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;div oninput=o.textContent=f(s.value,c.value)&gt;&lt;input id=s placeholder=Code&gt;&lt;input id=c size=1 maxlength=1 value=#&gt;&lt;pre id=o&gt;</code></pre>
</div>
</div>
</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/92776/">92776</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




