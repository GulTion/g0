<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::44878</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>307</td><td>Perl 5 + p0513l012 M5.10.0</td><td>240816T125713Z</td><td><a href="https://codegolf.stackexchange.com/questions/44878/put-the-line-in-the-code-you-nut-and-shake-it-all-up/275012#275012">Dom Hast</a></td></tr>
<tr d-ix="1"><td>389</td><td>JavaScript V8</td><td>210401T101242Z</td><td><a href="https://codegolf.stackexchange.com/questions/44878/put-the-line-in-the-code-you-nut-and-shake-it-all-up/222731#222731">l4m2</a></td></tr>
<tr d-ix="2"><td>006</td><td>Deadfish~</td><td>210401T012224Z</td><td><a href="https://codegolf.stackexchange.com/questions/44878/put-the-line-in-the-code-you-nut-and-shake-it-all-up/222715#222715">emanresu</a></td></tr>
<tr d-ix="3"><td>290</td><td>CJam</td><td>150124T083602Z</td><td><a href="https://codegolf.stackexchange.com/questions/44878/put-the-line-in-the-code-you-nut-and-shake-it-all-up/44890#44890">Optimize</a></td></tr>
<tr d-ix="4"><td>703</td><td>><></td><td>150124T112938Z</td><td><a href="https://codegolf.stackexchange.com/questions/44878/put-the-line-in-the-code-you-nut-and-shake-it-all-up/44896#44896">Sp3000</a></td></tr>
<tr d-ix="5"><td>2035</td><td>Prelude</td><td>150124T095926Z</td><td><a href="https://codegolf.stackexchange.com/questions/44878/put-the-line-in-the-code-you-nut-and-shake-it-all-up/44893#44893">Martin E</a></td></tr>
<tr d-ix="6"><td>430</td><td>Ruby</td><td>150124T011551Z</td><td><a href="https://codegolf.stackexchange.com/questions/44878/put-the-line-in-the-code-you-nut-and-shake-it-all-up/44880#44880">histocra</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> + <code>-p0513l012 -M5.10.0</code>, 307 bytes, 120 valid permutations</h1>

<pre class="lang-perl prettyprint-override"><code>$\.="She put the lime in the coconut, she drank them both up\n";
$_='His sister had another one, she paid it for a lime';
$\.="She put the lime in the coconut, she drank them both up\n";
say'Brother bought a coconut, he bought it for a dime';
$\.="She put the lime in the coconut, she drank them both up\n";</code></pre>
<p><a href="https://dom111.github.io/code-sandbox/#eyJsYW5nIjoid2VicGVybC01LjI4LjEiLCJjb2RlIjoiJFxcLj1cIlNoZSBwdXQgdGhlIGxpbWUgaW4gdGhlIGNvY29udXQsIHNoZSBkcmFuayB0aGVtIGJvdGggdXBcXG5cIjtcbiRfPSdIaXMgc2lzdGVyIGhhZCBhbm90aGVyIG9uZSwgc2hlIHBhaWQgaXQgZm9yIGEgbGltZSc7XG4kXFwuPVwiU2hlIHB1dCB0aGUgbGltZSBpbiB0aGUgY29jb251dCwgc2hlIGRyYW5rIHRoZW0gYm90aCB1cFxcblwiO1xuc2F5J0Jyb3RoZXIgYm91Z2h0IGEgY29jb251dCwgaGUgYm91Z2h0IGl0IGZvciBhIGRpbWUnO1xuJFxcLj1cIlNoZSBwdXQgdGhlIGxpbWUgaW4gdGhlIGNvY29udXQsIHNoZSBkcmFuayB0aGVtIGJvdGggdXBcXG5cIjsiLCJhcmdzIjoiLXAwNTEzbDAxMlxuLU01LjEwLjAifQ==" rel="nofollow noreferrer">Try it online!</a></p>
<h2>Explanation</h2>
<p>This uses the implicit output of <code>-p</code> combined with not requiring any input <code>-0513</code> to build the string in the right order. The first line is immediately output using <code>say</code> (from <code>-M5.10.0</code>, which adds a newline), the second line is stored in <code>$_</code> which is implicitly output at the end of the script (from <code>-p</code>), which also outputs <code>$\</code> as the trailer for the output. <code>$\</code> (which starts as a newline thanks to <code>-l012</code>) is appended to three times for the last three identical lines.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://v8.dev/" rel="nofollow noreferrer">JavaScript (V8)</a>, 389 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>a=setTimeout;a(_=&gt;a(_=&gt;print`She put the lime in the coconut, she drank them both up`))
a=setTimeout;a(_=&gt;a(_=&gt;print`She put the lime in the coconut, she drank them both up`))
a=setTimeout;a(_=&gt;a(_=&gt;print`She put the lime in the coconut, she drank them both up`))
setTimeout(_=&gt;print`His sister had another one, she paid it for a lime`)
print`Brother bought a coconut, he bought it for a dime`
</code></pre>
<p><a href="https://tio.run/##1U4xDsIwDNz7Co9Ugh0JlYGJHXbqNoEYaBwlTr8f3BaVN7DY5/Pd2U8cMfWRguzGfSnYJCtXGixnOeDm1hznEiJ5aS/OQsgCov2tGiA/45579lm2kHQwEf1rogfoWBzk0NZ19W@5v9Rf3JkSJEpiIzg0gF7litnbJSkgGSCBO0fA@WBbV4v1FBdtx/nhRLfrC@r7kqvTTM5SPg" rel="nofollow noreferrer" title="JavaScript (V8) â€“ Try It Online">Try it online!</a></p>
<p>Silly</p>
</div>
<div id="pu2" class="pu"><h1>Deadfish~, 6 (it's probably not possible to do more)</h1>
<pre><code>{iiiiii}iiiiiic{iiiii}ddcdddciiiiic{d}ddcdddc{i}iiic{{d}ii}ddc{iiiiii}iiiiiic{i}iiiciiiiiic{d}ddddcic{i}iic{{d}ii}ddddc{iiiiii}iiiiic{dddddd}dddddc{{i}ddd}dddc{i}iic{d}ddc{i}iicdc{i}dddcdc{{d}iii}ddc{d}ddc{{i}ddd}iicdddc{{d}iii}ic{iiiiii}iiiiiic{i}iiiciiiiiic{d}ddddcic{i}iic{{d}ii}ddddc{{i}ddd}iiic{i}ic{{d}ii}ddddc{{i}ddd}c{i}dciiic{{d}ii}ddc{iiiiii}iiiiic{dddddd}dddddc{{i}ddd}ddciiiiiciiiic{d}iic
</code></pre>
<pre><code>{iii}iic{iiii}c{iii}iiic{i}c{{d}ii}dddc{{i}dd}iiic{d}c{i}cic{d}dddddc{i}iiic{{d}ii}ddc{{i}ddd}iic{d}iiiciiic{{d}iii}iic{iiiiii}iiiiic{i}iiiciciiiiic{d}ddcdddc{i}iiic{{d}ii}ddc{{i}dd}dcdc{d}ic{dddddd}iiic{d}ddc{{i}dd}iiic{d}dcdddc{{d}iii}ic{{i}dd}c{d}dddddc{i}ddcdddddc{{d}iii}iic{{i}ddd}iiic{i}ic{{d}ii}ddddc{{i}ddd}c{i}dciiic{{d}ii}ddc{iiiiii}iiiiic{dddddd}dddddc{{i}ddd}iiiiiicdddciiiic{d}iic
</code></pre>
<pre><code>{iii}iic{iiiii}ic{ii}icdddc{{d}iii}ic{{i}dd}ciiiiicdc{{d}ii}ddddc{{i}dd}iiiic{d}ddcdddc{{d}iii}ic{{i}ddd}iiiiiicdddciiiic{d}iic{{d}iii}ic{{i}ddd}iiiciiiiic{{d}ii}iic{{i}dd}iiiic{d}ddcdddc{{d}iii}ic{{i}ddd}dddc{i}iic{d}ddc{i}iicdc{i}dddcdc{{d}iii}ddc{d}ddc{{i}dd}iiic{d}dcdddc{{d}iii}ic{{i}ddd}ddc{i}iiiic{dd}iiic{i}iiicdddc{{d}iii}dddddc{{i}dd}iiiic{d}ddcdddc{i}ddc{{d}ii}iiic{iiiiii}iiiiiic{i}iiiciiiiic{d}ddc{{d}iii}ddc{{i}dd}iiiiicdddddc
</code></pre>
<pre><code>{iii}iic{iiiii}ic{ii}icdddc{{d}iii}ic{{i}dd}ciiiiicdc{{d}ii}ddddc{{i}dd}iiiic{d}ddcdddc{{d}iii}ic{{i}ddd}iiiiiicdddciiiic{d}iic{{d}iii}ic{{i}ddd}iiiciiiiic{{d}ii}iic{{i}dd}iiiic{d}ddcdddc{{d}iii}ic{{i}ddd}dddc{i}iic{d}ddc{i}iicdc{i}dddcdc{{d}iii}ddc{d}ddc{{i}dd}iiic{d}dcdddc{{d}iii}ic{{i}ddd}ddc{i}iiiic{dd}iiic{i}iiicdddc{{d}iii}dddddc{{i}dd}iiiic{d}ddcdddc{i}ddc{{d}ii}iiic{iiiiii}iiiiiic{i}iiiciiiiic{d}ddc{{d}iii}ddc{{i}dd}iiiiicdddddc
</code></pre>
<pre><code>{iii}iic{iiiii}ic{ii}icdddc{{d}iii}ic{{i}dd}ciiiiicdc{{d}ii}ddddc{{i}dd}iiiic{d}ddcdddc{{d}iii}ic{{i}ddd}iiiiiicdddciiiic{d}iic{{d}iii}ic{{i}ddd}iiiciiiiic{{d}ii}iic{{i}dd}iiiic{d}ddcdddc{{d}iii}ic{{i}ddd}dddc{i}iic{d}ddc{i}iicdc{i}dddcdc{{d}iii}ddc{d}ddc{{i}dd}iiic{d}dcdddc{{d}iii}ic{{i}ddd}ddc{i}iiiic{dd}iiic{i}iiicdddc{{d}iii}dddddc{{i}dd}iiiic{d}ddcdddc{i}ddc{{d}ii}iiic{iiiiii}iiiiiic{i}iiiciiiiic{d}ddc{{d}iii}ddc{{i}dd}iiiiicdddddc
</code></pre>
<p>This is so long.....</p>
</div>
<div id="pu3" class="pu"><h1>CJam, 120 valid permutations, <s>334 299</s> 290 bytes</h1>
<pre><code>&quot;She put the lime in the coconut, she drank them both up&quot;N+
&quot;Brother bought a coconut, he bought it for a dime&quot;N+]$~
&quot;She put the lime in the coconut, she drank them both up&quot;N+
&quot;His sister had another one, she paid it for a lime&quot;N+]$~
&quot;She put the lime in the coconut, she drank them both up&quot;N+
</code></pre>
<p>Pretty simple logic:</p>
<ul>
<li>Put each line of the song in each of the 5 programs</li>
<li>Wrap everything on stack in an array</li>
<li>Sort the array</li>
<li>Unwrap the array so that the next program can use the same logic</li>
<li>In each step, we have the partial lyrics in an array. Luckily, sorting the array gives the correct order of the lyrics.</li>
</ul>
<p><strong>UPDATE</strong>: Turns out that you don't need the wrap-sort-unwrap cycle after the 3 similar and appearing at the end lines of the song. I can explain why if its not that apparent :)</p>
</div>
<div id="pu4" class="pu"><h1><a href="http://esolangs.org/wiki/Fish" rel="noreferrer">&gt;&lt;&gt;</a>, 120 permutations, 703 bytes</h1>
<pre><code>&lt;    /a&quot;emid a rof ti thguob eh ,tunococ a thguob rehtorB&quot;0a.#.!50padpacpabpaapa9pa8pa7p97p87p77p67p57p95p84p73p62p51&quot;/////\\\\\&gt;l0=?;o&quot;
&lt;   / a&quot;emil a rof ti diap ehs ,eno rehtona dah retsis siH&quot;09.#.!50padpacpabpaapa9pa8pa7p97p87p77p67p57p95p84p73p62p51&quot;/////\\\\\&gt;l0=?;o&quot;
&lt;  /  a&quot;pu htob meht knard ehs ,tunococ eht ni emil eht tup ehS&quot;08.#.!50padpacpabpaapa9pa8pa7p97p87p77p67p57p95p84p73p62p51&quot;/////\\\\\&gt;l0=?;o&quot;
&lt; /   a&quot;pu htob meht knard ehs ,tunococ eht ni emil eht tup ehS&quot;07.#.!50padpacpabpaapa9pa8pa7p97p87p77p67p57p95p84p73p62p51&quot;/////\\\\\&gt;l0=?;o&quot;
&lt;/    a&quot;pu htob meht knard ehs ,tunococ eht ni emil eht tup ehS&quot;06.#.!50padpacpabpaapa9pa8pa7p97p87p77p67p57p95p84p73p62p51&quot;/////\\\\\&gt;l0=?;o&quot;
</code></pre>
<p>The one-liner restriction was pretty tough for a 2D language, so I had to find a way to make the most of the <code>.</code> teleport instruction.</p>
<p>The initial <code>&lt;</code> makes program flow leftward, wrapping around and executing</p>
<pre><code>&quot;o;?=0l&gt;\\\\\\/////&quot;15p26p37p48p59p75p76p77p78p79p7ap8ap9apaapbapcapdap
</code></pre>
<p>This is a series of <code>p</code> (put) instructions which places chars until the board looks like this:</p>
<pre><code>&lt;    /&lt;lyrics1&gt;0a.#.!50&lt;blah&gt;
&lt;   / &lt;lyrics2&gt;09.#.!50&lt;blah&gt;
&lt;  /  &lt;lyrics3&gt;08.#.!50&lt;blah&gt;
&lt; /   &lt;lyrics4&gt;07.#.!50&lt;blah&gt;
&lt;/    &lt;lyrics5&gt;06.#.!50&lt;blah&gt;
 /     \
  /    \
   /   \
    /  \
     / \
       &gt;l0=?;o
</code></pre>
<p>The <code>#.!50</code> then flips program flow back to rightward again, before jumping to line 5. What follows is this:</p>
<ul>
<li>Following the <code>/</code> mirror on line 5 finds lyrics 5, which is pushed onto the stack. We then teleport to line 6.</li>
<li>Following the <code>/</code> mirror on line 6 finds lyrics 4, which is pushed onto the stack. We then teleport to line 7.</li>
<li>Following the <code>/</code> mirror on line 7 finds lyrics 3...</li>
</ul>
<p>This happens until we push lyrics 1, at which point we teleport to line 10. This is a loop to print the whole stack until it is empty.</p>
<p>If only one line of the program is present, then the <code>\</code> mirrors do the same job as the teleports on each lyric line.</p>
<p>If the program is scrambled, then the explanation above still applies, so the program works for all permutations!</p>
</div>
<div id="pu5" class="pu"><h1><a href="http://esolangs.org/wiki/Prelude">Prelude</a>, 120 permutations, <s>2045</s> 2035 bytes</h1>

<pre><code>9-9-9-9-9-9-9-9-9-5-97+993++09-9-9-9-9-9-9-1-8992++96+209-9-9-9-9-9-9-1-94+58992++09-9-9-9-9-9-9-1-92+95+199+409-9-9-9-9-9-9-1-58991++09-9-9-9-9-9-9-1-09-9-9-9-9-7-992++993++95+96+396+309-9-9-9-9-9-9-1-58992++09-9-9-9-9-9-9-1-95+909-9-9-9-9-9-9-1-594+993+09-9-9-9-9-9-9-1-58992++09-9-9-9-9-9-9-1-992++993++97+09-9-9-9-9-9-9-1-5809-4-                                                                          (9+9+9+9+9+9+9+9+9+9+6+!)
9-9-9-9-9-9-9-9-9-5-594+9409-9-9-9-9-9-9-1-109-9-9-9-9-9-9-1-99+96+609-9-9-9-9-9-9-1-992++909-9-9-9-9-9-9-1-992++87993++96+209-9-9-9-9-9-9-1-5809-9-9-9-9-9-9-1-09-9-9-9-9-7-992++993++95+96+396+309-9-9-9-9-9-9-1-109-9-9-9-9-9-9-1-992++87993++96+209-9-9-9-9-9-9-1-99+58992++96+99+09-9-9-3-                                             (9+9+9+9+9+9+9+9+9+9+6+!)
9-9-9-9-9-9-9-9-9-5-97+993++09-9-9-9-9-9-9-1-8992++96+209-9-9-9-9-9-9-1-94+58992++09-9-9-9-9-9-9-1-92+95+199+409-9-9-9-9-9-9-1-58991++09-9-9-9-9-9-9-1-09-9-9-9-9-7-992++993++95+96+396+309-9-9-9-9-9-9-1-58992++09-9-9-9-9-9-9-1-95+909-9-9-9-9-9-9-1-594+993+09-9-9-9-9-9-9-1-58992++09-9-9-9-9-9-9-1-992++993++97+09-9-9-9-9-9-9-1-5809-4-                                                 (9+9+9+9+9+9+9+9+9+9+6+!)
9-9-9-9-9-9-9-9-9-5-594+993+09-9-9-9-9-9-9-1-109-9-9-9-9-9-9-1-99+96+609-9-9-9-9-9-9-1-992++909-9-9-9-9-9-9-1-49197+09-9-9-9-9-9-9-1-58991++09-9-9-9-9-9-9-1-09-9-9-9-9-7-595+96+09-9-9-9-9-9-9-1-99+58992++96+95+109-9-9-9-9-9-9-1-41809-9-9-9-9-9-9-1-99+5992++991++9991++09-9-9-9-9-9-9-1-991++909-9-6-                                                           (9+9+9+9+9+9+9+9+9+9+6+!)
9-9-9-9-9-9-9-9-9-5-97+993++09-9-9-9-9-9-9-1-8992++96+209-9-9-9-9-9-9-1-94+58992++09-9-9-9-9-9-9-1-92+95+199+409-9-9-9-9-9-9-1-58991++09-9-9-9-9-9-9-1-09-9-9-9-9-7-992++993++95+96+396+309-9-9-9-9-9-9-1-58992++09-9-9-9-9-9-9-1-95+909-9-9-9-9-9-9-1-594+993+09-9-9-9-9-9-9-1-58992++09-9-9-9-9-9-9-1-992++993++97+09-9-9-9-9-9-9-1-5809-4-                                                                                                   (9+9+9+9+9+9+9+9+9+9+6+!)
</code></pre>

<p>This has ultimately convinced me that Prelude and CJam need a child. If it wasn't for Prelude's very limited instruction set, this submission would actually be very competitive, if it wouldn't even beat CJam.</p>

<p>The basic idea is the following</p>

<pre><code>"push line 4"               print
"push line 1"print
"push line 3"          print
"push line 2"     print
"push line 5"                    print
</code></pre>

<p>In Prelude, each line is its own "voice" with its own stack, and these voices are executed in parallel. That is, in the full program, each line will just individually construct the string and at print it at the end. But due to the offsets of the print statements, the order of the lines doesn't matter at all for the order of the output, since execution is left-to-right, not top-to-bottom.</p>

<p>Now, why are the lines so long? Prelude only stores numbers on its stack. Furthermore, it can only push a single-digit number at a time, so larger numbers have to be constructed from addition and subtraction (there is no multiplication either or other arithmetic either). So the largest part of code is simply calculating and pushing the right character codes. To shorten this a bit, I offset them by <code>96</code>. At the end, to print, I loop until the stack is empty (i.e. a <code>0</code> is encountered), add 96 to each number, and print it.</p>

<p>Note that the strings are pushed in reverse, since they're printed from last to first character.</p>

<p>This assumes <a href="https://web.archive.org/web/20060504072747/http://z3.ca/~lament/prelude.py">the Python interpreter</a> with <code>NUMERIC_OUTPUT = False</code> (which is how the spec defines I/O).</p>

<p>I used the following CJam code to generate the string construction:</p>

<pre><code>"Brother bought a coconut, he bought it for a dime
"W%{i96-_0&lt;{zLa*9/:,'-*'-+0\+}{La*9/:,_,'+*W&lt;}?}%
</code></pre>

<p>Lastly, just for fun, why I think this would be really short if Prelude had a concept of strings:</p>

<pre><code>"pu htob meht knard ehs ,tunococ eht ni emil eht tup ehS"N+!
"emid a rof ti thguob eh ,tunococ a thguob rehtorB"N+!
"pu htob meht knard ehs ,tunococ eht ni emil eht tup ehS"N+!
"emil a rof ti diap ehs ,eno rehtona dah retsis siH"N+!
"pu htob meht knard ehs ,tunococ eht ni emil eht tup ehS"N+!
</code></pre>

<p>Now the print statements <code>!</code> are already in the right order, so I wouldn't even need to offset them. I think I'll get down to implementing this some time.</p>
</div>
<div id="pu6" class="pu"><h1>Ruby, 120 valid permutations, 430 bytes</h1>

<pre><code>$*[1]='His sister had another one, she paid it for a lime';a||=at_exit{puts($*-[p])}
$*[0]='Brother bought a coconut, he bought it for a dime';a||=at_exit{puts($*)}
$*[2]='She put the lime in the coconut, she drank them both up';a||=at_exit{puts($*-[p])}
$*[3]='She put the lime in the coconut, she drank them both up';a||=at_exit{puts($*-[p])}
$*[4]='She put the lime in the coconut, she drank them both up';a||=at_exit{puts($*-[p])}
</code></pre>

<p>Works in any order, or individually. Each line modifies global state, then sets a hook to be executed at the end of the program unless the hook has already been set.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/44878/">44878</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




