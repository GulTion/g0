<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::100898</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>065</td><td>JavaScript Node.js</td><td>240825T233310Z</td><td><a href="https://codegolf.stackexchange.com/questions/100898/turn-this-array-into-a-matrix/275146#275146">l4m2</a></td></tr>
<tr d-ix="1"><td>056</td><td>Wolfram Language Mathematica</td><td>201004T215558Z</td><td><a href="https://codegolf.stackexchange.com/questions/100898/turn-this-array-into-a-matrix/212035#212035">att</a></td></tr>
<tr d-ix="2"><td>012</td><td>Uiua</td><td>231105T235145Z</td><td><a href="https://codegolf.stackexchange.com/questions/100898/turn-this-array-into-a-matrix/266508#266508">Bubbler</a></td></tr>
<tr d-ix="3"><td>020</td><td>Uiua 0.1.0</td><td>231105T091339Z</td><td><a href="https://codegolf.stackexchange.com/questions/100898/turn-this-array-into-a-matrix/266481#266481">Pseudo N</a></td></tr>
<tr d-ix="4"><td>154</td><td>Scala</td><td>231104T053507Z</td><td><a href="https://codegolf.stackexchange.com/questions/100898/turn-this-array-into-a-matrix/266459#266459">138 Aspe</a></td></tr>
<tr d-ix="5"><td>072</td><td>Ruby</td><td>231104T051943Z</td><td><a href="https://codegolf.stackexchange.com/questions/100898/turn-this-array-into-a-matrix/266457#266457">Value In</a></td></tr>
<tr d-ix="6"><td>022</td><td>K ngn/k</td><td>231104T033845Z</td><td><a href="https://codegolf.stackexchange.com/questions/100898/turn-this-array-into-a-matrix/266455#266455">doug</a></td></tr>
<tr d-ix="7"><td>014</td><td>J</td><td>231103T155155Z</td><td><a href="https://codegolf.stackexchange.com/questions/100898/turn-this-array-into-a-matrix/266442#266442">Jonah</a></td></tr>
<tr d-ix="8"><td>6875</td><td>Vyxal</td><td>231103T144141Z</td><td><a href="https://codegolf.stackexchange.com/questions/100898/turn-this-array-into-a-matrix/266440#266440">pacman25</a></td></tr>
<tr d-ix="9"><td>110</td><td>Ruby</td><td>161126T023521Z</td><td><a href="https://codegolf.stackexchange.com/questions/100898/turn-this-array-into-a-matrix/101169#101169">Cary Swo</a></td></tr>
<tr d-ix="10"><td>008</td><td>Husk</td><td>201004T050053Z</td><td><a href="https://codegolf.stackexchange.com/questions/100898/turn-this-array-into-a-matrix/212009#212009">Razetime</a></td></tr>
<tr d-ix="11"><td>084</td><td>R</td><td>161124T104849Z</td><td><a href="https://codegolf.stackexchange.com/questions/100898/turn-this-array-into-a-matrix/100958#100958">Billywob</a></td></tr>
<tr d-ix="12"><td>105</td><td>JavaScript ES6 100 101</td><td>161123T211859Z</td><td><a href="https://codegolf.stackexchange.com/questions/100898/turn-this-array-into-a-matrix/100910#100910">edc65</a></td></tr>
<tr d-ix="13"><td>085</td><td>Mathematica</td><td>161123T235939Z</td><td><a href="https://codegolf.stackexchange.com/questions/100898/turn-this-array-into-a-matrix/100927#100927">user6198</a></td></tr>
<tr d-ix="14"><td>092</td><td>Mathematica</td><td>161123T230549Z</td><td><a href="https://codegolf.stackexchange.com/questions/100898/turn-this-array-into-a-matrix/100922#100922">Greg Mar</a></td></tr>
<tr d-ix="15"><td>093</td><td>Mathematica 93 Bytes</td><td>161123T224837Z</td><td><a href="https://codegolf.stackexchange.com/questions/100898/turn-this-array-into-a-matrix/100920#100920">Kelly Lo</a></td></tr>
<tr d-ix="16"><td>096</td><td>Python 2</td><td>161123T210918Z</td><td><a href="https://codegolf.stackexchange.com/questions/100898/turn-this-array-into-a-matrix/100909#100909">Karl Nap</a></td></tr>
<tr d-ix="17"><td>011</td><td>Jelly</td><td>161123T213011Z</td><td><a href="https://codegolf.stackexchange.com/questions/100898/turn-this-array-into-a-matrix/100911#100911">lynn</a></td></tr>
<tr d-ix="18"><td>017</td><td>MATL</td><td>161123T204408Z</td><td><a href="https://codegolf.stackexchange.com/questions/100898/turn-this-array-into-a-matrix/100903#100903">Luis Men</a></td></tr>
<tr d-ix="19"><td>116</td><td>JavaScript ES6</td><td>161123T205556Z</td><td><a href="https://codegolf.stackexchange.com/questions/100898/turn-this-array-into-a-matrix/100905#100905">Neil</a></td></tr>
<tr d-ix="20"><td>013</td><td>05AB1E</td><td>161123T202554Z</td><td><a href="https://codegolf.stackexchange.com/questions/100898/turn-this-array-into-a-matrix/100899#100899">Oliver N</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 65 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>x=&gt;x.map(_=&gt;x.map(g=_=&gt;x[i=~i?i:++j]*x[j-i]?x[i--]:g(i--)),i=j=0)
</code></pre>
<p><a href="https://tio.run/##y0osSyxOLsosKNHNy09J/Z9m@7/C1q5CLzexQCMexki3BTGjM23rMu0zrbS1s2K1KqKzdDNj7YGCurqxVukaQEpTUyfTNsvWQPO/dXJ@XnF@TqpeTn66RppGtKGOkY6xjomOaaym5n8A" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, <s>60</s> <s>58</s> 56 bytes</h1>
<pre><code>ListConvolve[#,Less/@#,All,,Pick,##&amp;]~Partition~Tr[1^#]&amp;
</code></pre>
<p><a href="https://tio.run/##y00syUjNTSzJTE78n2b73yezuMQ5P68sP6csNVpZxye1uFjfQVnHMSdHRycgMzlbR1lZLbYuILGoJLMkMz@vLqQo2jBOOVbtf0BRZl5JtLKuXZoDkFsXnJyYV1fNVW2oY6RjrGOiY1rLVfsfAA" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
<pre><code>ListConvolve[ ,       ,   ,,    ,   ]                       convolve
                     #                                        list length of input
             #                                                with input as kernel
                       All                                    with maximum overhang
               Less/@       Pick                              by taking from kernel where overlap
                                 ##&amp;                          flattened
                                     ~Partition~Tr[1^#]     reshape
</code></pre>
<p><code>All</code> is not documented as a third argument to <a href="https://reference.wolfram.com/language/ref/ListConvolve.html" rel="nofollow noreferrer"><code>ListConvolve</code></a>. It behaves like <code>{1,-1}</code>.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://uiua.org" rel="nofollow noreferrer">Uiua</a>, 12 <a href="https://codegolf.stackexchange.com/a/265917/97916">bytes</a></h1>
<pre><code>⊏⍜♭⍏⊞+.⊃⇡▽⧻.
</code></pre>
<p><a href="https://www.uiua.org/pad?src=ZiDihpAg4oqP4o2c4pmt4o2P4oqeKy7iioPih6Hilr3ip7suCgpmIFsxIDIgMyA0IDVdCmYgWzFdCg==" rel="nofollow noreferrer">Try it online!</a></p>
<pre><code>⊏⍜♭⍏⊞+.⊃⇡▽⧻.   input: vector V of length N
               ⧻.    keep V and push N
           ⊃⇡▽     consume both and push [0..N-1], V cycled N times
       ⊞+.          self outer product of range by addition
 ⍜♭⍏              flatten, replace the array with its sorting order, and
                     put it back into the same sized matrix
⊏                   for each number in the matrix, select the item at that index
                    in &quot;V cycled N times&quot;
</code></pre>
<p>The above is a slightly golfuscated version of the code below:</p>
<h1><a href="https://uiua.org" rel="nofollow noreferrer">Uiua</a>, 14 <a href="https://codegolf.stackexchange.com/a/265917/97916">bytes</a></h1>
<pre><code>⍜∩♭'⊏⍏⊞+.⍏.↯⧻.
</code></pre>
<p><a href="https://www.uiua.org/pad?src=ZiDihpAg4o2c4oip4pmtKOKKj-KNjyniip4rLuKNjy7ihq_ip7suCgpmIFsxIDIgMyA0IDVdCmYgWzFdCg==" rel="nofollow noreferrer">Try it online!</a></p>
<pre><code>⍜∩♭'⊏⍏⊞+.⍏.↯⧻.    input: a vector of integers of length N
               ↯⧻.     make the input a matrix by copying the input N times -&gt; X
             ⍏         rise; sorting order of the rows (same as range N)
         ⊞+.           self outer product by addition -&gt; Y
⍜∩♭          .        operate on X and Y flattened and assemble back..
    '⊏⍏                reorder elements of X by sorted order of elements of Y
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://uiua.org" rel="nofollow noreferrer">Uiua</a> (0.1.0), 20 bytes</h1>
<pre><code>↯~√⧻./⊐⊂≐(□↘)-⇡×2.⧻.
</code></pre>
<p><a href="https://www.uiua.org/pad?src=4oavfuKImuKnuy4v4oqQ4oqC4omQKOKWoeKGmCkt4oehw5cyLuKnuy4gWzEgMiAzIDQgNV0K" rel="nofollow noreferrer">Try it online</a></p>
<h2>Explanation</h2>
<pre><code>                  ⧻. # (nondestructively) get array length
             -⇡×2.   # construct a range from len down to -len + 1
        ≐(□↘)        # for each element of the range, drop that many from the array
     /⊐⊂             # join all resulting arrays together
  √⧻.                # get square root of length, suppose we call it N...
↯~                   # ...then this reshapes the array to MxN, where M is inferred
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="http://www.scala-lang.org/" rel="nofollow noreferrer">Scala</a>, 154 bytes</h1>
<p>Golfed version. <a href="https://tio.run/##XY9Na4QwFEX3/oq7TGhGxn5s4mSgy4JZla4GF69OlBQbh5gKrfjbbeKUUrp5cN8798EZG@ppHV7fTBOgyTrMWQZM1KOVYI/e0@fpyYVaHSs7htM2Uq45FFZSxzmxTlE@2i9TTuRRCa1@OcbLdvDMHnZ7hAFuV/C5UpWUMjZ62xi2F/am4Lk3k/GjycOQuqVW@g8TCeH@M0vJ0h9onnd@@LiYM4vMz20FzqbFe1Ri5LtR4uryHLx1Xc0lXpwN0WGOuldhimmDWCFwK3AncC/wwDfgEmuhd6xlxNNmyZb1Gw" rel="nofollow noreferrer">Try it online!</a></p>
<pre class="lang-scala prettyprint-override"><code>a=&gt;{val n=a.size;var L,M=List[Int]();for(i&lt;-0 to n-1){L=L:::a.slice(0,i+1).reverse.toList;M=M:::a.slice(i+1,n).reverse.toList};(L::: M).grouped(n).toList}
</code></pre>
<p>Ungolfed version. <a href="https://tio.run/##bZAxa8MwEIV3/4o3SkQVSdouoh06FuypZAoZVEdxVRTZSJdAGvzb3bNjAoWO9@5770mXaxvsMLSf364mVNZHXAtg7w448iBsarLBW0r2sv2g5GOzkwab6AmvEwmcbYDlaYLESmGt8KjwpPAs70BkwOrgYkNfs5hQKlSslz6TdseOLtv3SLti2h/aBOHx8oAlTpE8R8i5EChHF4wxnJmDr51YKvjFSurkzi5lp6kdU2d8LKn@4MwqDvwP74v7o39817k9m8WtrJK6Se2JNcHe2TPRHV@GQhQ3x/jtvuiH4Rc" rel="nofollow noreferrer">Try it online!</a></p>
<pre class="lang-scala prettyprint-override"><code>object Main {
  def main(args: Array[String]): Unit = {
    val a = Array(1, 2, 3, 4, 5)
    val n = a.length
    var L, M = List.empty[Int]

    for (i &lt;- 0 until n) {
      L = L ::: a.slice(0, i+1).reverse.toList
      M = M ::: a.slice(i+1, n).reverse.toList
    }

    val zipped = (L ::: M).grouped(n).toList

    println(zipped)
  }
}
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 72 bytes</h1>
<pre class="lang-ruby prettyprint-override"><code>-&gt;a,*r{t=[]
a.map{r+=t=[_1]+t}
r+=t while t.pop
[*r.each_slice(a.size)]}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72kqDSpcsGiNNulpSVpuhY3PXTtEnW0iqpLbKNjuRL1chMLqou0bYG8eMNY7ZJaLhBHoTwjMydVoUSvIL-AK1qrSC81MTkjvjgnMzlVI1GvOLMqVTO2FmLe5gIFrbRohWhDHSMdYx0THdNYhViIzIIFEBoA" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu6" class="pu"><h1><a href="https://codeberg.org/ngn/k" rel="nofollow noreferrer">K (ngn/k)</a>, 22 bytes</h1>
<pre><code>{x@l!s#,/=+/!s:2#l:#x}
</code></pre>
<p><a href="https://ngn.codeberg.page/k#eJxLs6qucMhRLFbW0bfV1lcstjJSzrFSrqjl4kpzMNRWNAUAky4INg==" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu7" class="pu"><h1><a href="https://www.jsoftware.com" rel="nofollow noreferrer">J</a>, 14 bytes</h1>
<pre><code>#($$&amp;;&lt;/.)@#,:
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70wa8FNVUtFK8NYM0UrS3V1LiU99TQFWysFdQUdBQMFKyDW1VNwDvJxW1pakqZrsU5ZQ0VFzdpGX0_TQVnHCiJ4006Ty89JT0EjGiLloKJZp6yjDBbTdVCOjVGzVgYJAzVwpSZn5CukKRjqKBjpKBjrKJjoKJhCTFmwAEIDAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<ul>
<li><code>#...#,:</code> Duplicate the input n times, where n is the input length.  We require <code>,:</code> to make the duplication work at the &quot;row level&quot; rather than the element level.</li>
<li><code>&lt;/.</code> Box every diagonal of the resulting n by n matrix.  J's <code>/.</code> does the heavy lifting here.</li>
<li><code>$$&amp;;</code> Unbox that result <code>;</code> into a single list and reshape it <code>$</code> to the shape of duplicated input <code>$</code>.</li>
</ul>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, 55 <a href="https://github.com/Vyxal/Vyncode/blob/main/README.md" rel="nofollow noreferrer">bits<sup>v2</a></sup>, 6.875 bytes</h1>
<pre><code>LẋÞ`f?Lẇ
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2&amp;c=1#WyI9IiwiIiwiTOG6i8OeYGY/TOG6hyIsIiIsIlsxLDIsMyw0LDVdIl0=" rel="nofollow noreferrer">Try it Online!</a></p>
<p>Bitstring:</p>
<pre><code>0110000101111000101000101100100011000011001101100100000
</code></pre>
<pre><code>LẋÞ`f?Lẇ­⁡​‎⁪⁪⁠⁪⁪‏​⁢⁠⁡‌⁢​‎‎⁪⁡⁪⁠⁪⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁪‏‏​⁡⁠⁡‌⁣​‎‎⁪⁡⁪⁠⁪⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁪‏‏​⁡⁠⁡‌⁤​‎‎⁪⁡⁪⁠⁪⁢⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁤⁪‏‏​⁡⁠⁡‌­
# ‎⁡implicit input
Lẋ        # ‎⁢repeated [length] times
  Þ`      # ‎⁣antidiagonals
    f?Lẇ  # ‎⁤flatten and wrap in chunks the size of the length
💎
</code></pre>
<p>Created with the help of <a href="https://vyxal.github.io/Luminespire" rel="nofollow noreferrer">Luminespire</a>.</p>
</div>
<div id="pu9" class="pu"><h1>Ruby, 110 bytes</h1>
<pre><code>n=a.size
b=[*(0...n)]
b.product(b).group_by{|i,j|i+j}.flat_map{|_,f|f.sort.map{|i,j|a[i][j]}}.each_slice(n).to_a
</code></pre>
<pre><code>      #=&gt; [[1, 2, 1, 3, 2],
      #    [1, 4, 3, 2, 1],
      #    [5, 4, 3, 2, 1],
      #    [5, 4, 3, 2, 5],
      #    [4, 3, 5, 4, 5]]
</code></pre>
<p>The <code>sort</code> operation may not be required, but the doc for Enumerable#group_by does not guarantee the ordering of values in the hash values (which are arrays), but current versions of Ruby provide the ordering one would expect and the ordering I would need if <code>sort</code> were removed from my code.</p>
<p>The steps are as follows.</p>
<pre><code>n=a.size 
  #=&gt; 5 
b=[*(0...n)]
  #=&gt; [0, 1, 2, 3, 4] 
c = b.product(b)
  #=&gt; [[0, 0], [0, 1], [0, 2], [0, 3], [0, 4], [1, 0], [1, 1], [1, 2], [1, 3],
  #    [1, 4], [2, 0], [2, 1], [2, 2], [2, 3], [2, 4], [3, 0], [3, 1], [3, 2],
  #    [3, 3], [3, 4], [4, 0], [4, 1], [4, 2], [4, 3], [4, 4]] 
d=c.group_by{|i,j|i+j}
  #=&gt; {0=&gt;[[0, 0]],
  #    1=&gt;[[0, 1], [1, 0]],
  #    2=&gt;[[0, 2], [1, 1], [2, 0]],
  #    3=&gt;[[0, 3], [1, 2], [2, 1], [3, 0]],
  #    4=&gt;[[0, 4], [1, 3], [2, 2], [3, 1], [4, 0]],
  #    5=&gt;[[1, 4], [2, 3], [3, 2], [4, 1]],
  #    6=&gt;[[2, 4], [3, 3], [4, 2]],
  #    7=&gt;[[3, 4], [4, 3]],
  #    8=&gt;[[4, 4]]} 
e=d.flat_map{|_,f|f.sort.map{|i,j|a[i][j]}}
  #=&gt; [1, 2, 1, 3, 2, 1, 4, 3, 2, 1, 5, 4, 3, 2, 1, 5, 4, 3, 2, 5, 4, 3, 5, 4, 5] 
f=e.each_slice(n)
  #=&gt; #&lt;Enumerator: [1, 2, 1, 3, 2, 1, 4, 3, 2, 1, 5, 4, 3, 2, 1, 5, 4, 3, 2,
  #                  5, 4, 3, 5, 4, 5]:each_slice(5)&gt;
</code></pre>
<p>Lastly, <code>f.to_a</code> returns the array shown earlier.</p>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a>, <sup><s>9</s></sup> 8 bytes</h1>
<pre><code>CL¹Σ∂RL¹
</code></pre>
<p><a href="https://tio.run/##yygtzv7/39nn0M5zix91NAUBGf///4821DHSMdYx0TGNBQA" rel="nofollow noreferrer" title="Husk – Try It Online">Try it online!</a></p>
<p>-1 byte from Zgarb.</p>
<h2>Explanation</h2>
<pre><code>CL¹Σ∂*L¹;
       ¹  input(appends a ¹ to the end)
        ; enclosed
     *L   repeated length times
    ∂     antidiagonals
   Σ      flattened into a single list
C         cut into pieces of size
 L¹       of the length of the input       
</code></pre>
</div>
<div id="pu11" class="pu"><h2>R, 84 bytes</h2>
<pre><code>t(matrix(unlist(split(m&lt;-t(matrix(rev(x&lt;-scan()),l&lt;-sum(1|x),l)),row(m)-col(m))),l))
</code></pre>
<p>Reads input from stdin and outputs/returns an R-matrix.</p>
<pre><code>reversed_x &lt;- rev(x&lt;-scan())                # Read input from stdin and reverse
m &lt;- t(matrix(reversed_x,l&lt;-sum(1|x),l))    # Repeat and fit into matrix
diag_list &lt;- split(m,row(m)-col(m))         # Split into ragged list of diagonals
t(matrix(unlist(diag_list),l))              # Flatten and transform back to matrix
</code></pre>
<p><strong>Explained</strong></p>
<p>The most interesting aspect about this answer is how the diagonals are retrieved. In general an object can be split up using the <code>split</code> function if supplied an object containing factors upon which the object is split into. To create these factors we can use <code>col</code> and <code>row</code> which return a matrix containing the column and row indices respectively. By taking the differences: <code>row(m)-col(m)</code> we get a matrix like:</p>
<pre><code>     [,1] [,2] [,3] [,4] [,5]
[1,]    0   -1   -2   -3   -4
[2,]    1    0   -1   -2   -3
[3,]    2    1    0   -1   -2
[4,]    3    2    1    0   -1
[5,]    4    3    2    1    0
</code></pre>
<p>in which each diagonal is uniquely identified. We can now split based on this matrix and turn it into a ragged list by applying <code>split</code>:</p>
<pre><code>$`-4`
[1] 1
$`-3`
[1] 2 1 
$`-2`
[1] 3 2 1
$`-1`
[1] 4 3 2 1
$`0`
[1] 5 4 3 2 1
$`1`
[1] 5 4 3 2
$`2`
[1] 5 4 3
$`3`
[1] 5 4
$`4`
[1] 5
</code></pre>
<p>(Note how the name of each vector correspond to the diagonal values in the matrix above).</p>
<p>The last step is just to flatten and turn it into a matrix of the form:</p>
<pre><code>     [,1] [,2] [,3] [,4] [,5]
[1,]    1    2    1    3    2
[2,]    1    4    3    2    1
[3,]    5    4    3    2    1
[4,]    5    4    3    2    5
[5,]    4    3    5    4    5
</code></pre>
</div>
<div id="pu12" class="pu"><h1>JavaScript (ES6) 100 <S>101 105</S></h1>

<pre class="lang-js prettyprint-override"><code>a=&gt;eval("for(u=r=[],i=l=a.length;i+l;i--)for(j=l;j--;v&amp;&amp;((u%=l)||r.push(s=[]),s[u++]=v))v=a[j-i];r")
</code></pre>

<p><em>Less golfed</em>
</p>

<pre><code>a =&gt; {
  u = 0
  for(r=[], i=l=a.length; i+l&gt;0; i--)
    for(j=l; j--; )
    {
      v = a[j-i]
      if (v) 
      {
        u %= l
        if (u==0) r.push(s=[])
        s[u++] = v
      }
    }
  return r
}
</code></pre>

<p><strong>Test</strong></p>

<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>F=
a=&gt;eval("for(u=r=[],i=l=a.length;i+l;i--)for(j=l;j--;v&amp;&amp;((u%=l)||r.push(s=[]),s[u++]=v))v=a[j-i];r")

function update() {
  var a=I.value.match(/\d+/g)
  if (a) {
    var r=F(a)
    O.textContent = r.join`\n`
  }
}

update()</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;input id=I value='1 2 3 4 5' oninput='update()'&gt;
&lt;pre id=O&gt;&lt;/pre&gt;</code></pre>
</div>
</div>
</p>
</div>
<div id="pu13" class="pu"><p><strong>Mathematica, 85 bytes</strong></p>

<p>Literally performing the steps suggested:</p>

<pre><code>(l=Length@#;Partition[Flatten@Table[Reverse@Diagonal[Table[#,l],i],{i,-l+1,l-1}],l])&amp;
</code></pre>

<p>My gut says that there should be a clever way to use <code>Part</code> to do this shorter, but every attempt I've made has been longer than 85 bytes.</p>
</div>
<div id="pu14" class="pu"><h1>Mathematica, 92 bytes</h1>

<pre><code>n=NestList[#2,(r=Reverse)@#,(l=Length@#)-1]&amp;;{Most@r[#~n~Rest],#~n~Most}~ArrayReshape~{l,l}&amp;
</code></pre>

<p>Unnamed function taking a list as its argument. There might be other structures to such a function, but hopefully I golfed this structure pretty good....</p>

<p>The first part <code>n=NestList[#2,(r=Reverse)@#,(l=Length@#)-1]&amp;</code> defines a function <code>n</code> of two arguments: the first is a list of length <code>l</code>, and the second is a function to apply to lists. <code>n</code> applies that function <code>l-1</code> times to the reversed argument list, saving all the results in its output list. (Defining <code>r</code> and <code>l</code> along the way is just golfing.)</p>

<p><code>n</code> is called twice on the original list, once with the function being <code>Rest</code> (drop the first element of the list) and once with the function being <code>Most</code> (drop the last element). This produces all the desired sublists, but the whole list is there twice (hence the extra <code>Most</code>) and the first half is there in backwards order (hence the <code>r[...]</code>). Finally, <code>~ArrayReshape~{l,l}</code> forgets the current list structure and forces it to be an <code>l</code>x<code>l</code> array.</p>
</div>
<div id="pu15" class="pu"><h2>Mathematica 93 Bytes</h2>

<pre><code>Partition[Flatten[Table[If[i&gt;n,#[[n;;(i-n+1);;-1]],#[[i;;1;;-1]]],{i,1,2(n=Length@#)-1}]],n]&amp;
</code></pre>

<p>Here's how I'd ordinarily write this code (109 Bytes):</p>

<pre><code>Partition[Reverse@Flatten[Table[Reverse@Diagonal[ConstantArray[Reverse@#,n],k],{k,-(n=Length@#)+1,n-1}]],n]&amp;
</code></pre>

<p>This matrix plot gives a good idea from the structure due to a sequentially increasing input vector. </p>

<p><a href="https://i.sstatic.net/vfHbO.png" rel="nofollow noreferrer"><img src="https://i.sstatic.net/vfHbO.png" alt="enter image description here"></a></p>

<p>Here's the matrix plot with a random input vector. Obviously some structure still exists.</p>

<p><a href="https://i.sstatic.net/Z4yIU.png" rel="nofollow noreferrer"><img src="https://i.sstatic.net/Z4yIU.png" alt="enter image description here"></a></p>
</div>
<div id="pu16" class="pu"><h1>Python 2, <s>105</s> 96 bytes</h1>

<p>-1 and -4 and -4 bytes thanks to Flp.Tkc</p>
<pre class="lang-python prettyprint-override"><code>a=input()
n=len(a)
L,M=[],[]
for i in range(n):L+=a[i::-1];M+=a[:i:-1]
print zip(*[iter(L+M)]*n)
</code></pre>
<p>The for loop adds the items like in the description, the real magic happens in the zip which is from <a href="https://stackoverflow.com/a/10124783/7082271">here</a></p>
</div>
<div id="pu17" class="pu"><h1><a href="http://github.com/DennisMitchell/jelly" rel="noreferrer">Jelly</a>, 11 bytes</h1>

<pre><code>WẋLŒDUṙLFsL
</code></pre>

<p><a href="http://jelly.tryitonline.net/#code=V-G6i0zFkkRV4bmZTEZzTA&amp;input=&amp;args=WzEsMiwzLDQsNV0&amp;debug=on" rel="noreferrer">Try it online!</a></p>

<h2>Explanation</h2>

<pre><code>               Input: array z
WẋL            length(z) copies of z
   ŒD          Diagonals (starting with main diagonal)
     U         Reverse each
      ṙL       Rotate left length(z) places
               (now the top-left diagonal is in front)
        F      Flatten
         sL    Split into chunks of size length(z)
</code></pre>
</div>
<div id="pu18" class="pu"><h1><a href="http://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, 17 bytes</h1>
<pre><code>!Gg*tRwZRhPXzGne!
</code></pre>
<p><a href="http://matl.tryitonline.net/#code=IUdnKnRSd1pSaFBYekduZSE&amp;input=WzEgMiAzIDQgNV0" rel="nofollow noreferrer">Try it online!</a></p>
<h3>How it works</h3>
<p>The following explanation uses input <code>[1 2 3 4 5]</code> as an example. To visualize the intermediate results, insert <code>%</code> (comment symbol) after any statement in the code.</p>
<p>Note that <code>;</code> is the row separator for matrices. So <code>[1 2]</code> is a row vector, <code>[1; 2]</code> is a column vector, and <code>[1 0; 0 1]</code> is the 2×2 identity matrix.</p>
<pre><code>!     % Implicitly input a row vector. Transpose. Gives a column vector
      % STACK: [1; 2; 3; 4; 5]
Gg    % Push input with all (nonzero) values replaced by ones
      % STACK: [1; 2; 3; 4; 5], [1 1 1 1 1]
*     % Multiply, with broadcast. Gives a square matrix
      % STACK: [1 1 1 1 1;
                2 2 2 2 2;
                3 3 3 3 3;
                4 4 4 4 4;
                5 5 5 5 5]
tR    % Duplicate. Upper triangular part
      % STACK: [1 1 1 1 1;
                2 2 2 2 2;
                3 3 3 3 3;
                4 4 4 4 4;
                5 5 5 5 5],
               [1 1 1 1 1
                0 2 2 2 2;
                0 0 3 3 3;
                0 0 0 4 4;
                0 0 0 0 5]
wZR   % Swap. Lower triangular part, below main diagonal 
      % STACK: [1 1 1 1 1;
                0 2 2 2 2;
                0 0 3 3 3;
                0 0 0 4 4;
                0 0 0 0 5],
               [0 0 0 0 0;
                2 0 0 0 0;
                3 3 0 0 0;
                4 4 4 0 0;
                5 5 5 5 0]
h     % Concatenate horizontally
      % STACK: [1 1 1 1 1 0 0 0 0 0;
                0 2 2 2 2 2 0 0 0 0;
                0 0 3 3 3 3 3 0 0 0;
                0 0 0 4 4 4 4 4 0 0;
                0 0 0 0 5 5 5 5 5 0]
P     % Flip vertically
      % STACK: [0 0 0 0 5 5 5 5 5 0;
                0 0 0 4 4 4 4 4 0 0;
                0 0 3 3 3 3 3 0 0 0;
                0 2 2 2 2 2 0 0 0 0;
                1 1 1 1 1 0 0 0 0 0]
Xz    % Column vector of nonzeros, taken in column-major order
      % STACK: [1;2;1;3;2;1;4;3;2;1;5;4;3;2;1;5;4;3;2;5;4;3;5;4;5]
Gne   % Reshape into a matrix with as many rows as input size
      % STACK: [1 1 5 5 4;
                2 4 4 4 3;
                1 3 3 3 5;
                3 2 2 2 4;
                2 1 1 5 5]
 !    % Transpose. Implicitly display
      % STACK: [1 2 1 3 2;
                1 4 3 2 1;
                5 4 3 2 1;
                5 4 3 2 5;
                4 3 5 4 5]
</code></pre>
</div>
<div id="pu19" class="pu"><h2>JavaScript (ES6), 116 bytes</h2>

<pre><code>a=&gt;a.map(_=&gt;b.splice(0,a.length),b=[].concat(...a.map((_,i)=&gt;a.slice(~i)),...a.map((_,i)=&gt;a.slice(0,~i))).reverse())
</code></pre>

<p>Well, it's a start...</p>
</div>
<div id="pu20" class="pu"><h1>05AB1E, 13 bytes</h1>

<pre><code>.p¹.sR¦«í˜¹gä
</code></pre>

<p><a href="http://05ab1e.tryitonline.net/#code=LnDCuS5zUsKmwqvDrcucwrlnw6Q&amp;input=WzEsIDIsIDMsIDQsIDVd" rel="nofollow noreferrer">Try it online!</a></p>

<p>Explanation:</p>

<pre><code>                # Implicit input
 .p             # Get prefixes
   ¹            # Get first input
    .s          # Get suffixes
      R         # Reverse
       ¦        # Remove first element
        «       # Concatenate
         í      # Reverse every one
          ˜     # Flatten
           ¹gä  # Split into pieces of the length
                # Implicit print
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/100898/">100898</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




