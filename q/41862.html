<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::41862</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>nan</td><td></td><td>240719T015232Z</td><td><a href="https://codegolf.stackexchange.com/questions/41862/tips-for-golfing-in-go/274255#274255">bigyihsu</a></td></tr>
<tr d-ix="1"><td>nan</td><td></td><td>240131T223125Z</td><td><a href="https://codegolf.stackexchange.com/questions/41862/tips-for-golfing-in-go/269663#269663">bigyihsu</a></td></tr>
<tr d-ix="2"><td>nan</td><td></td><td>240126T160256Z</td><td><a href="https://codegolf.stackexchange.com/questions/41862/tips-for-golfing-in-go/269569#269569">bigyihsu</a></td></tr>
<tr d-ix="3"><td>nan</td><td></td><td>230722T234345Z</td><td><a href="https://codegolf.stackexchange.com/questions/41862/tips-for-golfing-in-go/263193#263193">c--</a></td></tr>
<tr d-ix="4"><td>nan</td><td>When taking a single character substring from a string and want to keep it as a string</td><td>221217T044451Z</td><td><a href="https://codegolf.stackexchange.com/questions/41862/tips-for-golfing-in-go/255615#255615">bigyihsu</a></td></tr>
<tr d-ix="5"><td>005</td><td>When looping a constant n times</td><td>221205T163612Z</td><td><a href="https://codegolf.stackexchange.com/questions/41862/tips-for-golfing-in-go/255233#255233">bigyihsu</a></td></tr>
<tr d-ix="6"><td>nan</td><td></td><td>220928T134251Z</td><td><a href="https://codegolf.stackexchange.com/questions/41862/tips-for-golfing-in-go/252300#252300">bigyihsu</a></td></tr>
<tr d-ix="7"><td>nan</td><td>Since an allowable output format is writing to reference arguments</td><td>200623T004858Z</td><td><a href="https://codegolf.stackexchange.com/questions/41862/tips-for-golfing-in-go/206402#206402">Purple P</a></td></tr>
<tr d-ix="8"><td>nan</td><td></td><td>190912T162304Z</td><td><a href="https://codegolf.stackexchange.com/questions/41862/tips-for-golfing-in-go/192723#192723">Purple P</a></td></tr>
<tr d-ix="9"><td>nan</td><td>Need a string to contain a newline? Don't write \n</td><td>190908T021035Z</td><td><a href="https://codegolf.stackexchange.com/questions/41862/tips-for-golfing-in-go/191471#191471">Purple P</a></td></tr>
<tr d-ix="10"><td>nan</td><td></td><td>190226T164852Z</td><td><a href="https://codegolf.stackexchange.com/questions/41862/tips-for-golfing-in-go/180452#180452">JayXon</a></td></tr>
<tr d-ix="11"><td>nan</td><td>Go has different operator precedence for bit operations</td><td>190226T163251Z</td><td><a href="https://codegolf.stackexchange.com/questions/41862/tips-for-golfing-in-go/180449#180449">JayXon</a></td></tr>
<tr d-ix="12"><td>nan</td><td>Go compiler has predefined print and println functions that don't require importing fmt</td><td>180221T000951Z</td><td><a href="https://codegolf.stackexchange.com/questions/41862/tips-for-golfing-in-go/156318#156318">null</a></td></tr>
<tr d-ix="13"><td>nan</td><td>You can put any number of opening braces on one line</td><td>160929T190355Z</td><td><a href="https://codegolf.stackexchange.com/questions/41862/tips-for-golfing-in-go/94902#94902">EMBLEM</a></td></tr>
<tr d-ix="14"><td>nan</td><td></td><td>160810T195318Z</td><td><a href="https://codegolf.stackexchange.com/questions/41862/tips-for-golfing-in-go/89420#89420">Justin P</a></td></tr>
<tr d-ix="15"><td>nan</td><td></td><td>160605T093826Z</td><td><a href="https://codegolf.stackexchange.com/questions/41862/tips-for-golfing-in-go/82309#82309">user5340</a></td></tr>
<tr d-ix="16"><td>nan</td><td>If you need to compare many different values to a single one</td><td>160604T052346Z</td><td><a href="https://codegolf.stackexchange.com/questions/41862/tips-for-golfing-in-go/81241#81241">EMBLEM</a></td></tr>
<tr d-ix="17"><td>nan</td><td></td><td>160315T053818Z</td><td><a href="https://codegolf.stackexchange.com/questions/41862/tips-for-golfing-in-go/75569#75569">EMBLEM</a></td></tr>
<tr d-ix="18"><td>nan</td><td>Named return values can save a few bytes. For example</td><td>160322T171256Z</td><td><a href="https://codegolf.stackexchange.com/questions/41862/tips-for-golfing-in-go/75974#75974">EMBLEM</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>Use range over int when iterating <code>n</code> times (Go 1.22 or newer)</h1>

<p>Introduced in Go 1.22 is range-over-int, which iterates from 0 inclusive to the integer exclusive:</p>
<pre class="lang-go prettyprint-override"><code>for i := range 123 {} // goes from 0 to 123 exclusive
</code></pre>
<p>It is also conveniently always shorter than the traditional 3-part <code>for</code> loop:</p>
<pre class="lang-go prettyprint-override"><code>for i:=0;i&lt;n;i++{}
for i:=range n{}   // -2 bytes
</code></pre>
<p>However, this requires Go 1.22 or later.</p>
</div>
<div id="pu1" class="pu"><h2>Use <code>min</code> and <code>max</code> to clamp values (Go 1.21+)</h2>
<p>Say you have 2 comparables <code>l</code> and <code>h</code>, where you must satisfy <code>l &lt;= h</code>. It is 1 byte shorter to use the builtins than an if-statement.</p>
<pre class="lang-go prettyprint-override"><code>// assuming
l,h := n, 0

if h&lt;l{h=l}
h=max(h,l)

if l&gt;h{l=h}
l=min(h,l)

// and the opposite
l,h := 0, n

if h&gt;l{h=l}
h=min(h,l)

if l&lt;h{l=h}
l=max(h,l)
</code></pre>
</div>
<div id="pu2" class="pu"><h1>Shuffle elements with <code>rand.Perm</code></h1>
<p>I discovered <code>math/rand.Perm</code> the other day, which returns a slice of integers from 0 to <code>n</code>, shuffled.</p>
<h3>For strings</h3>
<p>Given an input string <code>k</code>, and you need to return a string, and we have that string as a named return, <code>Perm</code> is shorter because you don't need to real with the boilerplate for <code>Shuffle</code> or the swapping:</p>
<pre class="lang-go prettyprint-override"><code>Shuffle(len(k),func(i,j int){k[i],k[j]=k[j],k[i]}) // 48 bytes
for i:=range k{j:=Intn(i);k[i],k[j]=k[j],k[i]}     // 44 bytes, -4, no separate string needed
for i:=range Perm(len(k)){e+=k[i:i+1]}             // 36 bytes, -12
</code></pre>
<h3>For slices</h3>
<p>Assuming the same conditions as above but with a slice, it is still shorter:</p>
<pre class="lang-go prettyprint-override"><code>Shuffle(len(k),func(i,j int){k[i],k[j]=k[j],k[i]}) // 48 bytes
for i:=range k{j:=Intn(i);k[i],k[j]=k[j],k[i]}     // 44 bytes, -4, no separate slice needed
for i:=range Perm(len(k)){e=append(e,k[i])}        // 41 bytes, -7
</code></pre>
</div>
<div id="pu3" class="pu"><p>Don't declare variables in the <code>for</code>'s init statement:</p>
<pre class="lang-go prettyprint-override"><code>for i:=0;i&lt;n;i++{...}
</code></pre>
<p>By declaring it outside you may save a byte when you need a variable outside of it beacause you can now assign to it (<code>=</code>) instead of declaring it (<code>:=</code>):</p>
<pre class="lang-go prettyprint-override"><code>i:=0
for;i&lt;n;i++{...}
i=0
for;i&lt;n;i++{...}
</code></pre>
<p>You might even save a byte if you're not using the <code>for</code>'s post-statement by removing the semicolons</p>
</div>
<div id="pu4" class="pu"><p>When taking a single character substring from a string and want to keep it as a string, use string slices to not get a rune:</p>
<pre class="lang-go prettyprint-override"><code>string(s[0]) // 12 bytes
s[:1]        // 4 bytes

string(s[10]) // 13 bytes
s[10:11]      // 8 bytes

string(s[100]) // 14 bytes
s[100:101]     // 10 bytes

string(s[1000]) // 15 bytes
s[1000:1001]    // 12 bytes

string(s[10000]) // 16 bytes
s[10000:10001]   // 14 bytes
</code></pre>
<p>This method is shorter than <code>string(s[index])</code> up to getting from index <code>100000</code> and above, but indexing strings of that size are rare.</p>
</div>
<div id="pu5" class="pu"><h3>When looping a constant <code>n</code> times, <code>for-range</code> is shorter up to <code>n &lt;= 5</code></h3>
<p>If you need to loop a constant number of times, a <code>for range&quot;...&quot;{}</code> loop (where <code>...</code> is <code>n</code> characters) is shorter than a 3-part for loop up to <code>n &lt;= 5</code> iterations.</p>
<p>The two loop forms are equivalent at <code>n == 5</code>:</p>
<pre class="lang-go prettyprint-override"><code>for range`|||||`{}
for i:=0;i&lt;5;i++{}
</code></pre>
<p>Past <code>n &gt; 5</code>, use a 3-part loop.</p>
</div>
<div id="pu6" class="pu">
<p>If you're using a C-style 3-part for-loop, if your loop variable isn't dependent on something outside of its scope for its initialization, declare it with your other variable declarations to save a byte.</p>
<p>In these examples, <code>i</code> is initialized independently of <code>a</code></p>
<pre class="lang-go prettyprint-override"><code>func f(){a:=3;for i:=0;i&lt;a;i++{}}
// vs
func f(){a,i:=3,0;for;i&lt;a;i++{}}
</code></pre>
</div>
<div id="pu7" class="pu"><p>Since <a href="https://codegolf.meta.stackexchange.com/a/4942/88456">an allowable output format is writing to reference arguments</a>, it may save bytes to pass a pointer instead of returning a value.</p>
<pre><code>func f(a,b string)string{if g(a)&gt;g(b){return a};return b}
func f(a,b string, s*string){s=&amp;b;if g(a)&gt;g(b){s=&amp;a}}
</code></pre>
</div>
<div id="pu8" class="pu"><p>Make full use of Go's first-class functions by assigning long library function names to one-letter variables.</p>

<pre><code>import."strings"
r:=Replace
</code></pre>
</div>
<div id="pu9" class="pu"><p>Need a string to contain a newline? Don't write <code>\n</code>, create a raw string with backquotes and put a literal newline in it.</p>

<pre><code>s:="\n" // 7 bytes
s:=`
` // 6 bytes
</code></pre>
</div>
<div id="pu10" class="pu"><p>A lot of stuff in the for range loop is optional.</p>

<p>Standard version:</p>

<pre><code>for i,v:=range a{
// Do stuff
}
</code></pre>

<p>If <code>i</code>, <code>v</code> has already been defined and can be overwritten:</p>

<pre><code>for i,v=range a{
// Do stuff
}
</code></pre>

<p>If you don't care about value:</p>

<pre><code>for i:=range a{
// Do stuff
}
</code></pre>

<p>If you don't care about value and <code>i</code> has already been defined:</p>

<pre><code>for i=range a{
// Do stuff
}
</code></pre>

<p>If you don't care about index or value:</p>

<pre><code>for range a{
// Do stuff
}
</code></pre>

<p>If you want an infinite loop:</p>

<pre><code>for{
// Do stuff
}
</code></pre>
</div>
<div id="pu11" class="pu"><p>Go has different operator precedence for bit operations, <code>&lt;&lt;</code>, <code>&gt;&gt;</code>, <code>&amp;</code>, etc. usually have lower precedence than <code>+</code> and <code>-</code> in most languages, but in Go they have the same precedence as <code>*</code> and <code>/</code>.</p>

<pre><code>Precedence    Operator
5             *  /  %  &lt;&lt;  &gt;&gt;  &amp;  &amp;^
4             +  -  |  ^
3             ==  !=  &lt;  &lt;=  &gt;  &gt;=
2             &amp;&amp;
1             ||
</code></pre>

<p>This could be used to save some parentheses.</p>

<p>Most languages:</p>

<pre><code>(a&amp;b)*c
</code></pre>

<p>Go:</p>

<pre><code>a&amp;b*c
</code></pre>
</div>
<div id="pu12" class="pu"><p>Go compiler has predefined <code>print</code> and <code>println</code> functions that don't require importing fmt, so instead of this.</p>

<pre><code>package main
import."fmt"
func main(){Printf(`Hello World
`)}
</code></pre>

<p>You can write this.</p>

<pre><code>package main
func main(){print(`Hello World
`)}
</code></pre>

<p>Note that this outputs to STDERR.</p>
</div>
<div id="pu13" class="pu"><p>You can put any number of opening braces on one line, but a line that contains opening braces may contain at most one closing brace.</p>

<p>Correct:</p>

<pre><code>func main(){if true{switch{case 1==1:for{break
}}}}
</code></pre>

<p>Also correct:</p>

<pre><code>func main(){if true{switch{case 1==1:for{break}
}}}
</code></pre>

<p>Also correct:</p>

<pre><code>func main(){if true{switch{case 1==1:for{
break}}}}
</code></pre>

<p>Incorrect:</p>

<pre><code>func main() {
    if true{for{break}}
}
</code></pre>
</div>
<div id="pu14" class="pu"><p>Declaring Multiple Variables:</p>

<pre><code>i,s:=0,""

var(i int;s string)
</code></pre>

<p>Int From String Conversion: (limited but sometimes helpful)</p>

<pre><code>n:=byte("9"[0])-48 // actual type is uint8

n,_:=strconv.Atoi("9")
</code></pre>

<p>And Vice Versa</p>

<pre><code>s:=string(9+48)

s:=strconv.Itoa(9)
</code></pre>
</div>
<div id="pu15" class="pu"><p><sub>Inspired by @EMBLEM's answer <a href="https://codegolf.stackexchange.com/a/75569/53406">here</a>.</sub></p>

<p>You can put a package's functions in the global namespace when you import them like so:</p>

<pre><code>package main

import ."fmt"

func main() {
    Printf("Hello World!")
}
</code></pre>
</div>
<div id="pu16" class="pu"><p>If you need to compare many different values to a single one, it may be more space-efficient to use a <code>switch</code> with a single case.</p>

<pre><code>if x==1||x==2||x==3||x==4{}
switch x{case 1,2,3,4:}
</code></pre>
</div>
<div id="pu17" class="pu"><p>You can name packages whatever you like when you import them.</p>

<pre><code>package main

import f "fmt"

func main() {
    f.Printf("Hello World\n")
}
</code></pre>

<p>Learned this <a href="https://stackoverflow.com/a/1727139/3161525">here</a>.</p>
</div>
<div id="pu18" class="pu"><p>Named return values can save a few bytes. For example:</p>

<pre><code>func x()string{
r:="" //Do stuff
return r}
</code></pre>

<p>You can save 3 bytes with</p>

<pre><code>func x()(r string){
//Do stuff
return}
</code></pre>

<p>It's more useful if you need to declare multiple variables at the start of your function.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/41862/">41862</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




