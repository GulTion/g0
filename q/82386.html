<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::82386</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>031</td><td>J</td><td>231110T080018Z</td><td><a href="https://codegolf.stackexchange.com/questions/82386/n-chotomize-a-list/266649#266649">Bubbler</a></td></tr>
<tr d-ix="1"><td>034</td><td>J</td><td>231107T072834Z</td><td><a href="https://codegolf.stackexchange.com/questions/82386/n-chotomize-a-list/266554#266554">Jonah</a></td></tr>
<tr d-ix="2"><td>017</td><td>K ngn/k</td><td>231109T134250Z</td><td><a href="https://codegolf.stackexchange.com/questions/82386/n-chotomize-a-list/266643#266643">bstrat</a></td></tr>
<tr d-ix="3"><td>056</td><td>JavaScript Node.js</td><td>231109T023213Z</td><td><a href="https://codegolf.stackexchange.com/questions/82386/n-chotomize-a-list/266635#266635">l4m2</a></td></tr>
<tr d-ix="4"><td>8375</td><td>Vyxal</td><td>231106T163221Z</td><td><a href="https://codegolf.stackexchange.com/questions/82386/n-chotomize-a-list/266537#266537">Pacmanbo</a></td></tr>
<tr d-ix="5"><td>109</td><td>PHP</td><td>170415T080006Z</td><td><a href="https://codegolf.stackexchange.com/questions/82386/n-chotomize-a-list/116604#116604">J&#246;r</a></td></tr>
<tr d-ix="6"><td>099</td><td>Prolog</td><td>160607T235427Z</td><td><a href="https://codegolf.stackexchange.com/questions/82386/n-chotomize-a-list/82415#82415">Will Nes</a></td></tr>
<tr d-ix="7"><td>067</td><td>Haskell</td><td>160607T174401Z</td><td><a href="https://codegolf.stackexchange.com/questions/82386/n-chotomize-a-list/82402#82402">nimi</a></td></tr>
<tr d-ix="8"><td>114</td><td>Common Lisp</td><td>160607T154108Z</td><td><a href="https://codegolf.stackexchange.com/questions/82386/n-chotomize-a-list/82399#82399">John WH </a></td></tr>
<tr d-ix="9"><td>098</td><td>F#</td><td>160607T143833Z</td><td><a href="https://codegolf.stackexchange.com/questions/82386/n-chotomize-a-list/82397#82397">hlo</a></td></tr>
<tr d-ix="10"><td>125</td><td>PowerShell v2+</td><td>160607T145556Z</td><td><a href="https://codegolf.stackexchange.com/questions/82386/n-chotomize-a-list/82398#82398">AdmBorkB</a></td></tr>
<tr d-ix="11"><td>010</td><td>Pyth</td><td>160607T080554Z</td><td><a href="https://codegolf.stackexchange.com/questions/82386/n-chotomize-a-list/82388#82388">Leaky Nu</a></td></tr>
<tr d-ix="12"><td>073</td><td>Python</td><td>160607T075153Z</td><td><a href="https://codegolf.stackexchange.com/questions/82386/n-chotomize-a-list/82387#82387">Lause</a></td></tr>
<tr d-ix="13"><td>063</td><td>JavaScript ES6</td><td>160607T083029Z</td><td><a href="https://codegolf.stackexchange.com/questions/82386/n-chotomize-a-list/82390#82390">Neil</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.jsoftware.com" rel="nofollow noreferrer">J</a>, 31 bytes</h1>
<pre><code>]&lt;@#~i.@[=/(I.@(&lt;.@%~+-@[{.|)#)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=dZFNTsMwEIXFNqd4Sgqx1WSSSZv-pI5kgVQJCbFgG6IsEBWwYQMr2l6ETVhwCFbcg0NwBpw4ULUoC8v2m2_ePMuvbw_1h0v-CnkGHwFiZGaFhLOri-X789MqnH2WSnvbe9JFHolz0kKRPt4OQ1280Fp60lJfR9-4PCU4KtOFGARKL_SGpAh1i3tSqOugdYrzQpaOhYU4dPNczqOtbsZJQ7v8h_Yn2AeLTC2o4rJcUibWFJxU8ndKx3egcofaUhtq8w56wM4xEnGQldJ0UOvL0uV_-R3p3N7cPWKEFRiJ2cdIMcEUM8zBMZjBCXgEHu-Rjr0lu76dUDEqa1WlVuVDLDXC2MzgFDxBYvTEFqZ9hWZuY5AapAllEpnD3CC7uu_3vsZ-e13b_Qc" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>After all sorts of approaches tried and thrown away, I finally settled with the one that creates a boolean matrix and gives the chunks via <code>#</code>. Most others suffered badly when the &quot;regular buckets&quot; are empty.</p>
<p>For the input of <code>3</code> and <code>[1 2 3 4 5 6 7 8]</code>,</p>
<pre><code>]&lt;@#~i.@[=/(I.@(&lt;.@%~+-@[{.|)#)
           (                 #)    call inner function with 3 and length of array (8):
               (&lt;.@%~       )      size of regular bucket (2)
                           |       number of extra elements (2)
                      -@[{.        left-pad with zeros to the length of 3; [0 0 2]
                     +             elementwise add; [2 2 4]
            I.@    copy each index by the element; [0 0 1 1 2 2 2 2]
     i.@[          range of 3; [0 1 2]
         =/        outer product by equality;
                   [[1 1 0 0 0 0 0 0]
                    [0 0 1 1 0 0 0 0]
                    [0 0 0 0 1 1 1 1]]
]&lt;@#~    for each row of the above, keep places corresponding to 1s;
         {[1 2] [3 4] [5 6 7 8]}
</code></pre>
<p>If I don't need to handle the cases where empty buckets are present, <code>i.@[=/</code> can be golfed to <code>=@</code>.</p>
</div>
<div id="pu1" class="pu"><h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, 34 bytes</h1>
<pre><code>](],#@;@]&lt;@}.[)&lt;:@[{.-@(&lt;.@%~#)&lt;\]
</code></pre>
<p><a href="https://tio.run/##XYzLCsIwEEX3fsVg0SY6HU36UGKUQcGVuHBbQwWxqBs/oJpfr8Eigou5i3PunXvbp7iGpYEYEKZgwiUEm8Nu2zrhMOIFO8svKqU1XDaUsLDEAx9Je3St7O3XBEIk/IxkQ04K9EMyq8bIU6XMyb3@J5@BZdcMaeW1ZVGOb8SJl5NjxA79tzoKtOxdztcHpFCDUKgxxQxzLHCGcwmd08GpkClkP1AprLp2lXd0FmiGc1Q5qgJ1UPr3O47bNw" rel="nofollow noreferrer" title="J – Try It Online">Try it online!</a></p>
<p>This was way harder than it should have been, and I threw away two approaches before getting this, which still feels long.</p>
<ul>
<li><code>(&lt;.@%~#)</code> Integer divide list size by <code>n</code>.  This will be the &quot;regular&quot; bucket size (ie, the size of buckets which are not the final, variable bucket).</li>
<li><code>-@...&lt;\]</code> Break up the list into buckets of those size.  This will result in an extra bucket when the list is not evenly divisible.</li>
<li><code>&lt;:@[{.</code> From that list of buckets, take one less than <code>n</code>.  This many buckets are guaranteed to be the regular size.  Note that if size of the original list is less than <code>n</code>, these regular buckets will have size 0.</li>
<li><code>(],#@;@]&lt;@}.[)</code> To these regular elements append <code>],</code> all the remaining elements <code>#@;@]&lt;@}.[</code>.  That is, if there are <code>r</code> regular elements, kill the first <code>r</code> elements of the original list and put everything that remains into a single bucket.  That is the final bucket which we'll append to the regular buckets.  In the case of an evenly divisible list, it will be just one more regular element.  Otherwise it will be a final jumbo element.</li>
</ul>
<h2><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, 34 bytes, K answer port (ish)</h2>
<pre><code>-@[{.]&lt;;.1~i.@#@]&lt;@e.i.@[*(&lt;.@%~#)
</code></pre>
<p><a href="https://tio.run/##VYxPC4JAEEfvfoohidX8OTbrX0xhKegUHbqKeAiluvQBAr/6trCH6DDD8N5jXnbDaqG@JUWgPbVuUqbT7XK2qRk@PHYHlvXJJjRjZ2Z217CLOjbbNYxtHFyPTJIMbZL5ps/WvySY74835bRQJNDIUaBEhRpNTN5p58TtnIofmASTr6fS09rRAg2khFTQTunfb6XsFw" rel="nofollow noreferrer" title="J – Try It Online">Try it online!</a></p>
<p><a href="https://codegolf.stackexchange.com/a/266643/15469">bstrat's K answer</a> inspired me to revisit an earlier approach of mine, which at a high-level was almost identical.</p>
<p>The difference in length between the J and K answers highlights  interesting differences between K's cut primitive (which specifies cut points by indexes) and J's (which requires a boolean array where ones specify cut points).  The J approach fares quite poorly in this problem, and requires additional post processing to make the empty cells match the problem specification.</p>
<p>Another approach I tried was using J's &quot;remove the fret points&quot; cut option to get the empty cells correct in a natural way, but doing this requires you to duplicate the fret points just-so, and thus incurs a heavy pre-processing cost.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://codeberg.org/ngn/k" rel="nofollow noreferrer">K (ngn/k)</a>, <s>18</s> 17 bytes</h1>
<p>-1 thanks to @coltim</p>
<pre><code>{*[!y;(-y)!#x]_x}
</code></pre>
<p><a href="https://ngn.codeberg.page/k#eJxtjDEOhDAMBHtesRENhxSJTQhw8JTIouMNoBN/Z4mgu8rj2bW3+ddmdyyNPz6u3m3dz6raMhEQ0VsQe8KXDT4V8YYU95jABA4IUsHSHzfK3RcJI0gwgoKvUouKXFfG81WtQb3J4gWXyiED" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 56 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>f=(a,n,l=a.length/n|0)=&gt;[a,...--n?f(a.splice(l),n,l):[]]
</code></pre>
<p><a href="https://tio.run/##jcqxDsIgEADQ3a9whOQ4BVs1JuiHEAaCtLa5HI00Tv474urk/N4cXqHE57SsivM91TpYEYCBbEBKPK6PHb/30l5dAERUim@DCFgWmmISJL9VXpz3NWYumRJSHsUgnAYDB@g8bI2Umx/s4Ay6B30E045pqf8nnVqqHw" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, 67 <a href="https://github.com/Vyxal/Vyncode/blob/main/README.md" rel="nofollow noreferrer">bits<sup>v2</a></sup>, 8.375 bytes</h1>
<pre><code>L&gt;ßwṘÞ÷RṘ
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2&amp;c=1#WyI9IiwiIiwiTD7Dn3fhuZjDnsO3UuG5mCIsIiIsIls0LDgsMTUsMTYsMjMsNDJdXG43Il0=" rel="nofollow noreferrer">Try it Online!</a></p>
<p>Bitstring:</p>
<pre><code>0110000000101110001001111010001000011101011000101111111101011010001
</code></pre>
</div>
<div id="pu5" class="pu"><h1>PHP, 109 Bytes</h1>

<pre><code>&lt;?for($n=(count($a=$_GET[0]))/($d=$_GET[1])^0;$i&lt;$d;)$r[]=array_slice($a,$i*$n,++$i==$d?NULL:$n);print_r($r);
</code></pre>

<p><a href="http://sandbox.onlinephpfunctions.com/code/c7b9461b19c199cf999319a71374690a2230b45d" rel="nofollow noreferrer">All Testcases</a></p>
</div>
<div id="pu6" class="pu"><h2>Prolog, <s>100</s> 99 bytes.</h2>

<pre><code>n(A,B):-length(B,A).
p(L,K,G):-n(K,G),append(A,[_],G),n(N,L),M is N//K,maplist(n(M),A),append(G,L).
</code></pre>

<p>Call e.g. </p>

<blockquote>
  <p>?- p( [1,2,3,4,5,6,7], 3, X). <br/>
  X = [[1, 2], [3, 4], [5, 6, 7]] <b>.</b></p>
</blockquote>
</div>
<div id="pu7" class="pu"><h2>Haskell, <s>69</s> 67 bytes</h2>

<pre><code>a%b=a#b where l#1=[l];l#n|(h,t)&lt;-splitAt(div(length a)b)l=h:t#(n-1)
</code></pre>

<p>Usage example: <code>[1,2,3,4] % 3</code> -> <code>[[1],[2],[3,4]]</code>.</p>

<p>A simple recursive approach, similar to <a href="https://codegolf.stackexchange.com/a/82393/34531">@xnor's answer</a>.</p>

<p>Edit: @Will Ness saved 2 bytes. Thanks!</p>
</div>
<div id="pu8" class="pu"><h2>Common Lisp, 114 bytes</h2>

<pre><code>(defun f(l n &amp;optional(p(floor(length l)n))(i 1))(if(= i n)(list l)(cons(subseq l 0 p)(f(subseq l p)n p(+ i 1)))))
</code></pre>

<p>Ungolfed:</p>

<pre><code>(defun f (l n &amp;optional (p (floor (length l) n)) (i 1))
  (if (= i n) (list l)
              (cons (subseq l 0 p)
                    (f (subseq l p) n p (+ i 1))))
  )
</code></pre>

<p>Example call:</p>

<pre><code>(format t "~A~C~C" (f (read) (read)) #\return #\newline)
</code></pre>

<p><a href="https://ideone.com/Ob2FnU" rel="nofollow">Try it here!</a></p>

<p>Basically:</p>

<ul>
<li>If we are cutting the last group, return whatever's left of the initial list.</li>
<li>Otherwise take <code>p = |L| / N</code> elements out of the list and join that to the result of a recursive call on the remainder. <code>i</code> is an iteration counter used for the stop condition.</li>
</ul>

<p>I had misunderstood the challenge at first, thinking the program should build groups of <code>N</code> elements rather than <code>N</code> groups. Anyway, this version does the job for an extra 10 bytes. LisP won't win this time but I couldn't really miss the opportunity :')</p>
</div>
<div id="pu9" class="pu"><h2>F#, <s>100</s> 98 bytes</h2>

<pre><code>fun n l-&gt;
let a=List.length l/n
List.init n (fun i-&gt;if i&lt;n-1 then l.[a*i..a*i+a-1] else l.[a*i..])
</code></pre>

<p>Using F# list slicing, with an if clause deciding whether to pick <em>a</em> elements or all remaining elements.</p>
</div>
<div id="pu10" class="pu"><h2>PowerShell v2+, 125 bytes</h2>
<pre><code>param($l,$n)if($p=[math]::Floor(($c=$l.count)/$n)){1..$n|%{$l[(($_-1)*$p)..((($_*$p-1),$c)[!($_-$n)])]}}else{(,''*($n-1))+$l}
</code></pre>
<p>Feels too long, but I can't seem to come up with a way to get the slicing to work happily if there are empty arrays in the output, so I need the encapsulating <code>if</code>/<code>else</code> to handle those cases. Additionally, since PowerShell's default <code>.ToString()</code> for arrays via console output can look a little weird, you can tack on a <code>-join','</code> to show the arrays as comma-separated rather than newline-separated on the console. I've done that in the examples below to make the output more clear, but you won't want to do that if you're leaving the output on the pipeline for another command to pick up.</p>
<h3>Explanation</h3>
<p>Takes input <code>param($l,$n)</code> for the list and number of partitions, respectively. We then enter an <code>if</code>/<code>else</code> statement. If the size of each partition, <code>$p</code> is non-zero (setting helper <code>$c</code> to be the <code>.count</code> along the way), we're in the <code>if</code>.</p>
<p>Inside the <code>if</code>, we loop from <code>1</code> to <code>$n</code> with <code>|%{...}</code>, and each iteration we're doing a pretty complex-looking array slice <code>$l[(($_-1)*$p)..((($_*$p-1),$c)[!($_-$n)])]</code>. The first parens is our start index, based on what partition we're on and how big our partition size is. We range that <code>..</code> with our end index, which is formed from a <a href="https://codegolf.stackexchange.com/a/79895/42963">pseudo-ternary</a>. Here, we're choosing between either <code>$c</code> (the literal end of the array), or the length of our partition, based on whether we're in the last chunk <code>$_-$n</code> or not.</p>
<p>Otherwise, we're in the <code>else</code>. We construct an empty array with the comma-operator <code>,''*</code> equal to one fewer partitions than requested, and then tack on the input array as the final element.</p>
<h3>Examples</h3>
<p>Here I'm showing the partitions separated with newlines and each individual element separated with <code>,</code>, as described above.</p>
<pre><code>PS C:\Tools\Scripts\golfing&gt; .\n-chotomize-a-list.ps1 (1,2,3,4) 2
1,2
3,4

PS C:\Tools\Scripts\golfing&gt; .\n-chotomize-a-list.ps1 (-1,-2,3,4,-5) 2
-1,-2
3,4,-5

PS C:\Tools\Scripts\golfing&gt; .\n-chotomize-a-list.ps1 (1,2,3,4) 1
1,2,3,4

PS C:\Tools\Scripts\golfing&gt; .\n-chotomize-a-list.ps1 (4,8,15,16,23,42) 5
4
8
15
16
23,42

PS C:\Tools\Scripts\golfing&gt; .\n-chotomize-a-list.ps1 (4,8,15,16,23,42) 7






4,8,15,16,23,42

PS C:\Tools\Scripts\golfing&gt; .\n-chotomize-a-list.ps1 (2,3,5,7,11,13,17,19,23) 3
2,3,5
7,11,13
17,19,23

PS C:\Tools\Scripts\golfing&gt; .\n-chotomize-a-list.ps1 $null 3



PS C:\Tools\Scripts\golfing&gt; 
</code></pre>
</div>
<div id="pu11" class="pu"><h1>Pyth, <s>11</s> 10 bytes</h1>

<p>1 byte thanks to <a href="https://codegolf.stackexchange.com/users/31625/fryamtheeggman">@FryAmTheEggman</a>.</p>

<pre><code>cJEt*R/lJQ
</code></pre>

<p><a href="http://pyth.herokuapp.com/?code=cJtE*R%2FlJQ&amp;test_suite=1&amp;test_suite_input=5%0A[1%2C2%2C3%2C4%2C5%2C6%2C7]%0A7%0A[1%2C2%2C3%2C4]%0A3%0A[1%2C2%2C3%2C4%2C5%2C6%2C7%2C8]%0A3%0A[1%2C2%2C3]&amp;debug=0&amp;input_size=2" rel="nofollow noreferrer">Test suite.</a></p>

<p>Takes inputs in reversed order.</p>

<p>Sample input:</p>

<pre><code>5
[1,2,3,4,5,6,7]
</code></pre>

<p>Sample output:</p>

<pre><code>[[1], [2], [3], [4], [5, 6, 7]]
</code></pre>

<h3>Explanation</h3>

<pre><code>cJEt*R/lJQ     Main function, first input:Q, second input:E.
cJEt*R/lJQQ    Implicit arguments.

c              The function c is special.
               It can chop arrays.
               If the second argument is a list of integers,
               then it chops the first array at the indices
               specified by the second array.

 JE            The first argument is the second input, stored
               to the variable J.

   t*R/lJQQ    This is the second argument.
      /lJQ     Yield length of J, integer-divided by Q.
    *R    Q    Multiply it to the following respectively:
                   [0,1,2,3,...,Q-1]
   t           Then throw away the first element.
               For example, if Q=3 and E=[1,2,3,4,5,6,7,8],
               we would now have [3,6].
</code></pre>
</div>
<div id="pu12" class="pu"><h2>Python, <s>76</s> 73 bytes</h2>
<pre><code>lambda L,N:list(map(lambda x,r=len(L)//N:L[x*r:][:r+(x&gt;N-2)*N],range(N)))
</code></pre>
<p>Basically an unnamed function that performs the task.
Thanks to LeakyNun for the bytes saved!</p>
</div>
<div id="pu13" class="pu"><h2>JavaScript (ES6), 63 bytes</h2>

<pre><code>(a,n,l=a.length/n|0)=&gt;[...Array(n)].map(_=&gt;--n?a.splice(0,l):a)
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/82386/">82386</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




