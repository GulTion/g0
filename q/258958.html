<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::258958</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>110</td><td>Java 8</td><td>230309T113453Z</td><td><a href="https://codegolf.stackexchange.com/questions/258958/sophie-safe-primes/258968#258968">Kevin Cr</a></td></tr>
<tr d-ix="1"><td>063</td><td>Uiua</td><td>240119T233925Z</td><td><a href="https://codegolf.stackexchange.com/questions/258958/sophie-safe-primes/269391#269391">Maxim Kh</a></td></tr>
<tr d-ix="2"><td>076</td><td>SageMath</td><td>230415T065133Z</td><td><a href="https://codegolf.stackexchange.com/questions/258958/sophie-safe-primes/260109#260109">138 Aspe</a></td></tr>
<tr d-ix="3"><td>016</td><td>Jelly</td><td>230318T001940Z</td><td><a href="https://codegolf.stackexchange.com/questions/258958/sophie-safe-primes/259212#259212">Dan D.</a></td></tr>
<tr d-ix="4"><td>041</td><td>Raku</td><td>230309T164258Z</td><td><a href="https://codegolf.stackexchange.com/questions/258958/sophie-safe-primes/258983#258983">Sean</a></td></tr>
<tr d-ix="5"><td>045</td><td>Arturo</td><td>230309T172051Z</td><td><a href="https://codegolf.stackexchange.com/questions/258958/sophie-safe-primes/258987#258987">chunes</a></td></tr>
<tr d-ix="6"><td>nan</td><td></td><td>230309T155606Z</td><td><a href="https://codegolf.stackexchange.com/questions/258958/sophie-safe-primes/258980#258980">The Thon</a></td></tr>
<tr d-ix="7"><td>063</td><td>Factor + math.primes</td><td>230309T161812Z</td><td><a href="https://codegolf.stackexchange.com/questions/258958/sophie-safe-primes/258982#258982">chunes</a></td></tr>
<tr d-ix="8"><td>146</td><td>Excel ms365</td><td>230309T115026Z</td><td><a href="https://codegolf.stackexchange.com/questions/258958/sophie-safe-primes/258969#258969">JvdV</a></td></tr>
<tr d-ix="9"><td>026</td><td>Charcoal</td><td>230309T141952Z</td><td><a href="https://codegolf.stackexchange.com/questions/258958/sophie-safe-primes/258975#258975">Neil</a></td></tr>
<tr d-ix="10"><td>075</td><td>Retina 0.8.2</td><td>230309T140421Z</td><td><a href="https://codegolf.stackexchange.com/questions/258958/sophie-safe-primes/258974#258974">Neil</a></td></tr>
<tr d-ix="11"><td>118</td><td>Excel</td><td>230309T132435Z</td><td><a href="https://codegolf.stackexchange.com/questions/258958/sophie-safe-primes/258971#258971">Jos Wool</a></td></tr>
<tr d-ix="12"><td>028</td><td>J</td><td>230309T130628Z</td><td><a href="https://codegolf.stackexchange.com/questions/258958/sophie-safe-primes/258970#258970">ovs</a></td></tr>
<tr d-ix="13"><td>010</td><td>05AB1E</td><td>230309T101731Z</td><td><a href="https://codegolf.stackexchange.com/questions/258958/sophie-safe-primes/258965#258965">Kevin Cr</a></td></tr>
<tr d-ix="14"><td>071</td><td>JavaScript ES6</td><td>230309T101835Z</td><td><a href="https://codegolf.stackexchange.com/questions/258958/sophie-safe-primes/258966#258966">Arnauld</a></td></tr>
<tr d-ix="15"><td>071</td><td>R</td><td>230309T102756Z</td><td><a href="https://codegolf.stackexchange.com/questions/258958/sophie-safe-primes/258967#258967">pajonk</a></td></tr>
<tr d-ix="16"><td>010</td><td>Vyxal</td><td>230309T091828Z</td><td><a href="https://codegolf.stackexchange.com/questions/258958/sophie-safe-primes/258959#258959">lyxal</a></td></tr>
<tr d-ix="17"><td>046</td><td>Wolfram Language Mathematica</td><td>230309T093151Z</td><td><a href="https://codegolf.stackexchange.com/questions/258958/sophie-safe-primes/258962#258962">ZaMoC</a></td></tr>
<tr d-ix="18"><td>010</td><td>Japt f</td><td>230309T092708Z</td><td><a href="https://codegolf.stackexchange.com/questions/258958/sophie-safe-primes/258961#258961">Shaggy</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>Java 8, <s>117</s> <s>115</s> 110 bytes</h1>

<pre class="lang-java prettyprint-override"><code>i-&gt;{for(;i--&gt;5;)if(p(i)+p(i-~i)+p(i/2)&lt;4)System.out.println(i);};int p(int i){for(int k=i;k%--i&gt;0;);return i;}
</code></pre>
<p>Outputs each Sophie Safe prime on a separated newline in reversed order.<br />
Based on <a href="https://codegolf.stackexchange.com/a/258841/52210">my answer for the Imtiaz Germain Primes challenge</a>.</p>
<p><a href="https://tio.run/##LY/PDoIwDMbvPEUvJlvMEI2eqryBXjgaD3MMU8BBxtAYg6@OBe2hf740v34t9UOrMq9GU@uug6Mm944AyAXrC20snKYR4NFQDkawDiSRpSHidAIHh5FU@i4aL5CUSncoqRCtILnkpD6/utrI/VZmry7Ye9z0IW49o2rHazjgRG3/7Jk0tdWBsFooRWmCEr0NvXdAOIw4XW77a00GuqADl9ndnb2LLDD4dr5o@fPt7HN@SsjYxUasE46//2H8Ag" rel="nofollow noreferrer">Try it online.</a></p>
<p><strong>Explanation:</strong></p>
<pre class="lang-java prettyprint-override"><code>i-&gt;{                          // Method with integer parameter and no return-type
  for(;i--&gt;5;)                //  Loop `i` in the range (input,5]:
    if(p(i)                   //   If `i` is a prime number
       +p(i-~i)               //   and `2i+1` is a prime number
       +p(i/2)                //   and `i` integer-divided by 2 is a prime number
       &lt;4)                    //   (by checking if all three are 0 or 1)
      System.out.println(i);} //    Print `i` with trailing newline

// Separated method with integer as both parameter and return-type,
// to check whether the given number (≥2) is a prime number (0 or 1)
boolean p(int i){
  for(int k=i;                //  Set `k` to the given integer `i`
      k%--i&gt;0;);              //  Decrease `i` before every iteration with `--i`
                              //  Keep looping as long as `k` is NOT divisible by `i`
  return i;}                  //  After the loop, return `i`
                              //  (if it's 1 or 0, it means it's a prime number)
</code></pre>
</div>
<div id="pu1" class="pu"><h1>Uiua, 63 Bytes</h1>
<pre><code>▽⍥×3∩∩∵(¬∊0↘2◿⇡.)⌊÷2:+1×2⍥.4↘3+1⇡
</code></pre>
<p><a href="https://uiua.org/pad?src=0_8_0__4pa94o2lw5cz4oip4oip4oi1KMKs4oiKMOKGmDLil7_ih6EuKeKMisO3MjorMcOXMuKNpS404oaYMysx4oehIDEwMDAK" rel="nofollow noreferrer">Try It</a></p>
<pre><code>▽⍥×3∩∩∵(¬∊0↘2◿⇡.)⌊÷2:+1×2⍥.4↘3+1⇡
                                +1⇡ # generate all numbers from [1, n]
                             ↘3 # drop first three since the prime number function will flag 3 (it returns true for 1)
                          ⍥.4 # make four copies, 3 for checking 2p+1, p, and floor(p/2), 
                              # one extra so that we can use a double both (∩) later
                      +1×2 # calculate 2p+1
                  ⌊÷2: # calculate floor(p/2)
     ∩∩∵(¬∊0↘2◿⇡.) # apply prime number function to the top four stack elements
                . # copy so we can divide by the number later
               ⇡ # generate numbers [0, x] where x is the number we are checking
              ◿ # calculate mod, to see if it evenly divides
            ↘2 # drop first two so we discard mod by 0 and 1
          ∊0 # check if there is remainder of 0
         ¬ # if there exists no divisors which yield a remainder of zero, it is prime
 ⍥×3 # use multiplication to and conditions together: prime(floor(p/2)) &amp; prime(2p+1) &amp; prime(p) &amp; prime(p)
▽ # only keep numbers that matched condition
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.sagemath.org/" rel="nofollow noreferrer">SageMath</a>, 76 bytes</h1>
<p><a href="https://sagecell.sagemath.org/?z=eJwtzEEKgzAQBdC9kDsMrmbaqIlLwZNIKClVSUmixAjx9k2ws_iL_x-zjla790eDH6YEyxYggfGTbFvfSGUW0NaiOV57MG7Gi4q4ikgcUyOp63reP9JTKlKsYlXZ_emygKkXHKQQ_xRqYBXkC_Nx2ggjrJgl3WX-7yPWvG6_m_Ho9I5HDPy2RPQDfSQwog==&amp;lang=sage&amp;interacts=eJyLjgUAARUAuQ==" rel="nofollow noreferrer">Run it on SageMathCell!</a></p>
<pre><code>g=lambda n:[x for x in[1..n-1]if all(is_prime(y)for y in[x,(x-1)//2,2*x+1])]
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 16 bytes</h1>
<pre><code>ÆRḤ‘$ÆP$Ƈ’H$ÆP$Ƈ
</code></pre>
<p><a href="https://tio.run/##y0rNyan8//9wW9DDHUseNcxQOdwWoHKs/VHDTA8o8////4YGQPD/PwA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<pre><code>ÆR - list of prime numbers up to the input
Ḥ‘ - 2x+1
$ÆP$Ƈ - evaluates as primes 
’H - (x-1)/2
$ÆP$Ƈ - evaluates as primes (again)
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://raku.org/" rel="nofollow noreferrer">Raku</a>, 41 bytes</h1>
<pre><code>{grep {is-prime $_&amp;2*$_+1&amp;$_/2-.5},1..$_}
</code></pre>
<p><a href="https://tio.run/##Fcq9CoAgFAbQV/mQi0M/pkJt9iqXBo0gSWwK8dmtprOc5PO5tPhABrhW9uwTynGPKR/Rg1jajrg3kniyo5rrYJQiru3eHghiuBUlfK8KhCvD6gFGs9a/P@0F" rel="nofollow noreferrer" title="Perl 6 – Try It Online">Try it online!</a></p>
<p>This filters (<code>grep</code>s) the numbers from 1 to the input argument to those where the conjunction (<code>&amp;</code>) of the number (<code>$_</code>), twice that number plus one (<code>2 * $_ + 1</code>) and half the number minus one half (<code>$_ / 2 - .5</code>) is prime.  The conjunction is prime if all of its elements are.</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://arturo-lang.io" rel="nofollow noreferrer">Arturo</a>, 45 bytes</h1>
<pre><code>$=&gt;[select..1&amp;'n[every?@[1+n*2n/2n]=&gt;prime?]]
</code></pre>
<p><a href="http://arturo-lang.io/playground?Hnas1X" rel="nofollow noreferrer">Try it</a></p>
<pre><code>$=&gt;[                   ; a function
    select..1&amp;'n[      ; select numbers from 1 to &lt;input&gt;, assign current elt to n
        every?         ; is every element in the block...
        @[1+n*2n/2n]   ; ... [n/2, n, n*2+1]     (where / is integer division)
        =&gt;prime?       ; prime?
    ]                  ; end select
]                      ; end function
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/Thunno/Thunno" rel="nofollow noreferrer">Thunno</a> <code>+</code>, <span class="math-container">\$ 16 \log_{256}(96) \approx\$</span> 13.17 bytes</h1>
<pre><code>gzt2*1+s2,ZPsTNP
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72sJKM0Ly9_abSStlLsgqWlJWm6FhvSq0qMtAy1i410ogKKQ_wCIMJQ2QWLjAwgLAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h4>Explanation</h4>
<pre class="lang-python prettyprint-override"><code>gzt2*1+s2,ZPsTNP  # Implicit input
g                 # Filter [1..input] by the following:          n
 zt               #  Triplicate the number                       n, n, n
   2*1+           #  Multiply by two and add one                 n, n, 2n+1
       s2,        #  Swap and integer divide by two              n, 2n+1, n//2
          ZP      #  Pair the top two items                      n, [2n+1, n//2]
            sT    #  Swap and append to the list                 [2n+1, n//2, n]
              NP  #  Are they all prime?
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://factorcode.org/" rel="nofollow noreferrer">Factor</a> + <code>math.primes</code>, 63 bytes</h1>
<pre><code>[ primes-upto [ dup 2/ swap 2 * 1 + [ prime? ] both? ] filter ]
</code></pre>
<p><a href="https://tio.run/##LYq7DsIwEAT7fMXWRASHEgpKREODqKIUxlyUCMc257Mivt6YR7Ojnd1BG/Gcr5fT@bhDpGciZyjiQezIYtYyfqMJPM3FByaRVylOsK@qVimVO/zGdQri0eGeArYbxEUXYoUWNf6fA3rcvIwfDpMVYvTZaGvR5Dc" rel="nofollow noreferrer" title="Factor – Try It Online">Try it online!</a></p>
<ul>
<li><code>primes-upto</code> get a list of primes up to the input</li>
<li><code>[ ... ] filter</code> select <span class="math-container">\$p\$</span> where...</li>
<li><code>dup 2/</code> <span class="math-container">\$\lfloor{p/2}\rfloor\$</span></li>
<li><code>swap 2 * 1 +</code> and <span class="math-container">\$2p+1\$</span></li>
<li><code>[ prime? ] both?</code> are both prime</li>
</ul>
</div>
<div id="pu8" class="pu"><h1>Excel (ms365), 146 bytes</h1>
<p><a href="https://i.stack.imgur.com/gtOj6.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/gtOj6.png" alt="enter image description here" /></a></p>
<pre><code>=LET(x,SEQUENCE(A1*2+1),y,MAP(x,LAMBDA(z,SUM(--((z/x)=INT(z/x)))))=2,q,FILTER(x,y),FILTER(q,MAP(q,LAMBDA(p,SUM(--(q=(p-1)/2))*SUM(--(q=2*p+1))))))
</code></pre>
<hr />
<p><strong>EDIT:</strong></p>
<p>Since the above is rather slow (thought should work for all given samples), I was looking for ways to gain more speed. Just for fun, I created my own <code>LAMBDA()</code> based function called 'a' within Excel's name-manager based on one of the more simplistic ways to <a href="https://en.wikipedia.org/wiki/Generation_of_primes" rel="nofollow noreferrer">generate prime numbers</a>; the <a href="https://en.wikipedia.org/wiki/Sieve_of_Eratosthenes" rel="nofollow noreferrer"><em><strong>Sieve of Eratosthenes</strong></em></a>:</p>
<pre><code>=LAMBDA(x,y,z,IF(x=MAX(y),SORT(y),a(SMALL(y,z),FILTER(y,MOD(y,x)+(y=x)),z+1)))
</code></pre>
<p>Now, since we can output all primenumbers, we can call this on the worksheet and do some filtering on the output:</p>
<pre><code>=LET(q,a(2,SEQUENCE(A1*2,,2),1),FILTER(q,MAP(q,LAMBDA(p,SUM(--(q=(p-1)/2))*SUM(--(q=2*p+1))))))
</code></pre>
<p>The combined byte-count == 173, but it is working faster then the original answer of 146 bytes.</p>
<p>This makes me wonder if I, or someone, else can come up with ways to implement other known ways of generating primes and gain more speed.</p>
</div>
<div id="pu9" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 26 bytes</h1>
<pre><code>Ｉ⊕⊗Φ…²⊘⊕Ｎ⬤⊖×⊕ιＥ³Ｘ²λ⬤…²λ﹪λν
</code></pre>
<p><a href="https://tio.run/##VY1BCsIwEEWvkuUUIkRduhKL2IVSxAuk6aCB6aSkST1@HEGs/s3A57357mGjC5ZKaaPnBAc7JWjYRRyQE/ZQh9yR3KOnhBGulu8IG61Olmapf9GGx5wueeiEqyRa7YmgxoW4@QGnP8cLdbYjbLVqw1NEeU2L/J2jNxf6TAFIK64@2ZWyNsaU1Uwv" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>    …                       Range from
     ²                      Literal integer `2 to
        Ｎ                   Input integer
       ⊕                    Incremented
      ⊘                     Halved
   Φ                        Filtered where
               ³            Literal integer `3`
              Ｅ             Map over implicit range
                 ²          Literal integer `2`
                Ｘ           Raised to power
                  λ         Inner value
           ×                Vectorised multiply by
             ι              Outer value
            ⊕               Incremented
          ⊖                 Vectorised decrement
         ⬤                  All values satisfy
                    …       Range from
                     ²      Literal integer `2`
                      λ     To inner value
                   ⬤        All values satisfy
                        λ   Inner value
                       ﹪    Modulo i.e. is not a multiple of
                         ν  Innermost value
  ⊗                         Vectorised double
 ⊕                          Vectorised increment
Ｉ                           Cast to string
                            Implicitly print
</code></pre>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language/a950ad7d925ec9316e3e2fb2cf5d49fd15d23e3d" rel="nofollow noreferrer">Retina 0.8.2</a>, 75 bytes</h1>
<pre><code>.+
$*

¶11$`$`
4A`
A`^(11+)\1+$
1(1?)
$1
A`^(11+)\1+$
A`^1((11+)\2+)\1$
%`1
</code></pre>
<p><a href="https://tio.run/##K0otycxL/P9fT5tLRYuL69A2Q0OVBJUELhPHBC7HhDgNQ0NtzRhDbRUuQw1De00uFUNUUSDHUAPCNQIJqXCpJhj@/29oYGAAAA" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation: Based on my Retina answer to <a href="https://codegolf.stackexchange.com/q/258817">Imtiaz Germain Primes</a>.</p>
<pre><code>.+
$*
</code></pre>
<p>Convert to unary.</p>
<pre><code>
¶11$`$`
</code></pre>
<p>Generate all numbers of the form <code>2n+1</code> up to the input. Due to golfing, the last entry is not odd, so I have to add <code>2</code> to each value so that the final odd entry is <code>2n+1</code>. (Although, the non-golfy way only goes up to <code>2n-1</code> so wouldn't work anyway.)</p>
<pre><code>4A`
</code></pre>
<p>Deleting composite numbers won't work when the number to be tested is <code>0</code> or <code>1</code> so delete the small numbers manually.</p>
<pre><code>A`^(11+)\1+$
</code></pre>
<p>Delete the remaining non-prime numbers.</p>
<pre><code>1(1?)
$1
</code></pre>
<p>Integer divide by <code>2</code>.</p>
<pre><code>A`^(11+)\1+$
</code></pre>
<p>Delete all composite numbers.</p>
<pre><code>A`^1((11+)\2+)\1$
</code></pre>
<p>Delete all numbers that are <code>1</code> more than <code>2</code> times a composite number.</p>
<pre><code>%`1
</code></pre>
<p>Convert the results to decimal.</p>
</div>
<div id="pu11" class="pu"><h1>Excel, 118 bytes</h1>
<pre><code>=LET(
    a,SEQUENCE(2*A1+1),
    b,IF(MMULT(N(MOD(a,TOROW(a))=0),a^0)=2,a),
    FILTER(b,1-ISNA(XMATCH(2*b+1,b)*XMATCH((b-1)/2,b)))
)
</code></pre>
<p>Fails where <code>A1&gt;3663</code>.</p>
</div>
<div id="pu12" class="pu"><h1><a href="https://www.jsoftware.com" rel="nofollow noreferrer">J</a>, 28 bytes</h1>
<pre><code>[:I.1*/@p:i.&gt;:@+:^:_1 0 1@,]
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70wa8FOJT31NAVbKwV1BR0FAwUrINbVU3AO8nFbWlqSpmuxJ9rKU89QS9-hwCpTz87KQdsqzireEKjK0EEnFqJkryZXanJGvoKDQppCamJyhoIRUNbAAEIYQNQsWAChAQ" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p><code>i.,]</code> Integers from 0 to n.<br />
<code>&gt;:@+:</code> Function f that computes <code>i</code> -&gt; <code>1+2*i</code>.<br />
<code>f^:_1 0 1</code> Apply f -1 times (inverse), 0 times, and 1 time and collect results in a 3-row matrix.<br />
<code>1 p:</code> For each integer, is it prime?<br />
<code>*/</code> Take the product of each column.<br />
<code>I.</code> Indices of 1s in the resulting vector.</p>
</div>
<div id="pu13" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 10 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>Lʒx&gt;y2÷)pP
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f/f59SkCrtKo8PbNQsC/v83NAACAA" rel="nofollow noreferrer">Try it online.</a></p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>L       # Push a list in the range [1, (implicit) input-integer]
 ʒ      # Filter it by:
  x     #  Double the current value (without popping)
   &gt;    #  And increase it by 1
  y     #  Push the current value again
   2÷   #  Integer-divide it by 2
  )     #  Wrap all three values into a list: [n,2n+1,(n-1)/2]
   p    #  Check for each whether it's a prime number
    P   #  Check if all three are truthy
        # (after which the filtered list is output implicitly as result)
</code></pre>
</div>
<div id="pu14" class="pu"><h1>JavaScript (ES6), 71 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>f=p=&gt;p&gt;4?f(p-1)+[[,p+' '][(P=x=&gt;p%--x?P(x):x)(p)*P(p-=~p)*P(p&gt;&gt;=2)]]:''
</code></pre>
<p><a href="https://tio.run/##y0osSyxOLsosKNHNy09J/f8/zbbA1q7AzsQ@TaNA11BTOzpap0BbXUE9NlojwLYCKKWqq1thH6BRoWlVoalRoKkVAFRnWwdh2NnZGmnGxlqpq/9Pzs8rzs9J1cvJT9dI0zA0MDDQ1PwPAA" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Commented</h3>
<pre class="lang-javascript prettyprint-override"><code>f = p =&gt;         // recursive function taking a prime candidate p
p &gt; 4 ?          // if p is greater than 4:
  f(p - 1) +     //   do a recursive call with p - 1
  [[, p + ' '][  //   append p followed by a space iff the following
                 //   result is 1:
    ( P = x =&gt;   //     helper recursive function taking x
      p % --x ?  //     decrement x; if x is not a divisor of p:
        P(x)     //       do recursive calls until it is
      :          //     else:
        x        //       return x (smallest proper divisor of p)
    )(p) *       //     first call with p
    P(p -= ~p) * //     second call with 2p + 1
    P(p &gt;&gt;= 2)   //     third call with floor((2p + 1) / 4) which is
                 //     (p - 1) / 2 if p is odd
                 //   the product is 1 iff all calls return 1,
  ]]             //   i.e. all tested numbers are prime
:                // else:
  ''             //   stop
</code></pre>
</div>
<div id="pu15" class="pu"><h1><a href="https://www.r-project.org" rel="noreferrer">R</a>, 71 bytes</h1>
<pre class="lang-r prettyprint-override"><code>f=\(n)if(n&gt;4)c(f(n-1),n[all(Map(\(y)sum(!y%%2:y)&lt;2,(n+1)*2^(-1:1)-1))])
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72waMGCpaUlaboWN93TbGM08jQz0zTy7Ew0kzWAtK6hpk5edGJOjoZvYoFGjEalZnFproZipaqqkVWlpo2RjkaetqGmllGchq6hlaEmULlmrCbEuE1pGoaGmlxpGkYGINLUwAAqAbMPAA" rel="noreferrer">Attempt This Online!</a></p>
<p>Heavily inspired by <a href="https://codegolf.stackexchange.com/a/258874/55372">@Dominic van Essen's answer</a> to <a href="https://codegolf.stackexchange.com/q/258817/55372">Imtiaz Germain Primes</a>.</p>
</div>
<div id="pu16" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, 10 bytes</h1>
<pre><code>':d›n‹½WæA
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/#WyIiLCIiLCInOmTigLpu4oC5wr1Xw6ZBIiwiIiwiMTAwMCJd" rel="nofollow noreferrer">Try it Online!</a></p>
<p>Ports japt. Quite literally get all numbers where n, 2n incremented, and n decremented halved are all prime. Here's a more fun 11 byter</p>
<h2><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, 11 bytes</h2>
<pre><code>~æ~≬‹½æ'd›æ
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/#WyIiLCIiLCJ+w6Z+4oms4oC5wr3Dpidk4oC6w6YiLCIiLCIxMDAiXQ==" rel="nofollow noreferrer">Try it Online!</a></p>
<h2>Explained</h2>
<pre><code>~æ~≬‹½æ'd›æ
~æ          # keep only from range [1, input] where prime
  ~≬---     # from that, keep where:
   ‹½       #   (n - 1) / 2
     æ      #   is prime
      '     # from that, keep where:
       d›   #   2n + 1
         æ  #   is prime
</code></pre>
</div>
<div id="pu17" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="noreferrer">Wolfram Language (Mathematica)</a>, 46 bytes</h1>
<pre><code>Select[Range@#,And@@PrimeQ@{#,(#-1)/2,2#+1}&amp;]&amp;
</code></pre>
<p><a href="https://tio.run/##y00syUjNTSzJTE78n277Pzg1JzW5JDooMS891UFZxzEvxcEhoCgzNzXQoVpZR0NZ11BT30jHSFnbsFYtVu0/UCqvREHfIV3fQaHayEDH0MAAQhjU/v8PAA" rel="noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
</div>
<div id="pu18" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="noreferrer">Japt</a> <a href="https://codegolf.meta.stackexchange.com/a/14339/"><code>-f</code></a>, 10 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="noreferrer">bytes</a></h1>
<pre><code>[UUÑÄUz]ej
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;flags=LWY&amp;code=W1VV0cRVel1lag&amp;input=MTAwMA" rel="noreferrer">Try it</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/258958/">258958</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




