<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::2442</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>150</td><td>Python 2</td><td>110503T224428Z</td><td><a href="https://codegolf.stackexchange.com/questions/2442/pirate-treasure/2446#2446">Keith Ra</a></td></tr>
<tr d-ix="1"><td>165</td><td>R</td><td>240504T173334Z</td><td><a href="https://codegolf.stackexchange.com/questions/2442/pirate-treasure/272951#272951">int 21h </a></td></tr>
<tr d-ix="2"><td>093</td><td>J</td><td>190609T034428Z</td><td><a href="https://codegolf.stackexchange.com/questions/2442/pirate-treasure/186545#186545">Jonah</a></td></tr>
<tr d-ix="3"><td>122</td><td>Perl 5 n</td><td>190609T032900Z</td><td><a href="https://codegolf.stackexchange.com/questions/2442/pirate-treasure/186544#186544">Xcali</a></td></tr>
<tr d-ix="4"><td>152</td><td>C gcc</td><td>190609T022630Z</td><td><a href="https://codegolf.stackexchange.com/questions/2442/pirate-treasure/186543#186543">gastropn</a></td></tr>
<tr d-ix="5"><td>215</td><td>Groovy</td><td>110705T212401Z</td><td><a href="https://codegolf.stackexchange.com/questions/2442/pirate-treasure/3100#3100">TheBigS</a></td></tr>
<tr d-ix="6"><td>nan</td><td>JavaScript</td><td>110613T025657Z</td><td><a href="https://codegolf.stackexchange.com/questions/2442/pirate-treasure/2851#2851">Casey Ch</a></td></tr>
<tr d-ix="7"><td>178</td><td>PowerShell</td><td>110619T115622Z</td><td><a href="https://codegolf.stackexchange.com/questions/2442/pirate-treasure/2908#2908">Joey</a></td></tr>
<tr d-ix="8"><td>352</td><td>Java</td><td>110613T070339Z</td><td><a href="https://codegolf.stackexchange.com/questions/2442/pirate-treasure/2853#2853">trutheal</a></td></tr>
<tr d-ix="9"><td>332</td><td>Scala</td><td>110612T152957Z</td><td><a href="https://codegolf.stackexchange.com/questions/2442/pirate-treasure/2846#2846">Lalith</a></td></tr>
<tr d-ix="10"><td>199</td><td>Haskell</td><td>110613T185333Z</td><td><a href="https://codegolf.stackexchange.com/questions/2442/pirate-treasure/2855#2855">hammar</a></td></tr>
<tr d-ix="11"><td>319</td><td>C99</td><td>110504T220941Z</td><td><a href="https://codegolf.stackexchange.com/questions/2442/pirate-treasure/2461#2461">pmg</a></td></tr>
<tr d-ix="12"><td>291</td><td>Haskell</td><td>110504T160801Z</td><td><a href="https://codegolf.stackexchange.com/questions/2442/pirate-treasure/2455#2455">marinus</a></td></tr>
<tr d-ix="13"><td>117</td><td>Ruby 1.9</td><td>110503T215956Z</td><td><a href="https://codegolf.stackexchange.com/questions/2442/pirate-treasure/2444#2444">Lowjacke</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, <strike>158</strike> <strike>154</strike> 150 chars</h1>
<hr />
<pre><code>p=0j
for s in raw_input().split(','):c,d=s.split();v=sum(dict(N=1j,E=1,S=-1j,W=-1)[x]for x in c);p+=v*int(d)/abs(v)
print'%.3f, %.3f'%(p.real,p.imag)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=LY6xDoIwGIR3nuJfCK3-oMBiNB1ZWRgYjDEIojVaGloQH8TJhcX4Er6IbyMNLF_uLpfLvT7yoc-VCPr-3ejSXf2eki0vVlnVoIALqLP7ngvZaEI9Ja9cEwcdus6xYGoK6KZlqrmRgueaxMy_YMR8TJg7qHQg3XY7s9eZvZxu5Jy1My40KegiOyjSUkvWg3dsLywRDB2bSK8-ZleUHr9lJzqemz723xhChAh8hNggMjaBACEFf-z8AQ" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, 165 bytes</h1>
<pre class="lang-r prettyprint-override"><code>\(s,L=c(N=1i,S=-1i,E=1,W=-1))sprintf(&quot;%.3f, %.3f&quot;,Re(b&lt;-sum(mapply(\(x,y)(m=sum(L[el(strsplit(x,&quot;&quot;))]))*y/abs(m),(a=read.table(te=gsub(&quot;,&quot;,&quot;
&quot;,s)))$V1,a$V2))),Im(b))
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=LU69asMwEN7zFIdI4K6c0yrp0CEaPQSMhxqSoekgtXIxWMFYMsTP0sUl5KHyNpWIOfju-zmO7_evn671LrsNoc7e7rcTei7UF5ZKNlypLGKuJB8jI_Jd35xDjWK13tYMCQW_WzS7zA8One66dsQTXngkdCp5xYdt0Yfed20TYiAE0SfR0_isjUdHjFr1Vn-vgzatxWDVjx8MCo6zEOyJaHmQrJeHTaS8d2iI5rJFbFLCliEHyVAmyJOsYMNwBClokS4ie5lpDq8xik5a1UNVSYn55zQ99j8" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>This solution is based on the complex plane: N-S is the imaginary axis, E-W – the real one.
In my first solution I have used an inner join to match the cardinal directions with the values but then I saw this answer in Python (<a href="https://codegolf.stackexchange.com/a/2446/101276">https://codegolf.stackexchange.com/a/2446/101276</a>) and ended up by borrowing the idea to make a named vector so that subsetting it with a letter will give the value behind that geographic direction:</p>
<pre><code>&gt; L
    N     S     E     W 
 0+1i  0-1i  1+0i -1+0i
</code></pre>
<p>It seems that at the end I have got a translation of that already mentioned post, so please consider upvoting it.</p>
<p>In both cases I was using <code>read.table</code> to simultaneously convert a string into a character and a numeric column.</p>
<p>Below is my original golf:</p>
<h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, 181 bytes</h1>
<pre class="lang-r prettyprint-override"><code>\(s,r=read.table)sprintf(&quot;%.3f, %.3f&quot;,Re((x=sum(with(merge(r(te=gsub(&quot;,&quot;,&quot;
&quot;,s)),r(te=&quot;E 1
W -1
N 1i
S -1i
NE 1+1i
NW -1+1i
SE 1-1i
SW -1-1i&quot;),by=1),(V2.x*V2.y)/abs(V2.y))))),Im(x))
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=LU69asMwEN71FIcgcGoubpVk6KLRQ6F4iKBZuthUTgx1KJJMnWfJ4hb6CH2Yvk3vEkvw_R7HXb7i9N26nyG3q8e_31dMFF0M9VuR6-Y9mPQRu1NuUS-KTUsgqGkXEEeXhh4_u3zEPsRDwIg5uEMaGtTEX2lKxtA11SVYtYeVVRXYTnlWnao4XApLIcJzIIWXgIU21JydNYQv62K8Yzib-7pJeFXy6KnH0Zj5-Ge-soINAe8hqARKsR7WBHuw2iiZYPUwyxK2XHEi5G_Oi9Pzzmm68T8" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu2" class="pu"><h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, 93 bytes</h1>

<pre><code>[:0j3&amp;":@+.@(1#.".@&gt;@{:*(0j1^2%~i.8){~&lt;;._1@' E NE N NW W SW S SE'i.{.)@|:[:(&lt;;._1);._1', ',]
</code></pre>

<p><a href="https://tio.run/##VU3BqsJADLz3K4aKptU1ZFtBWX2y8Kgn8eAePIh6EEV78QMq/npftvoePEgmGTKTqduU6YovB4KBwGmPGd/b9ardO6nLQer8iH1me5yyX/rGDTOp7bHov@48y5vXYs4n6wkVNlrY7LBD0EKo6M4N5/7p9i7rZHkEMiBzaPPkcr49QKcpy9SiQ8LY4QrSJ1boIyhZRFBE/LujNBpojQbauCkNKIxG21@bdDb5Z6swUZF@jyO8WYiMkqT9AQ" rel="nofollow noreferrer" title="J – Try It Online">Try it online!</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> <code>-n</code>, 122 bytes</h1>



<pre class="lang-perl prettyprint-override"><code>s,(N|S)?(E|W)? (\d+),$d=$3/($1&amp;$2?2**.5:1);$x+=$2&amp;&amp;$d*(-1)**($2gt F);$y+=$1&amp;&amp;$d*(-1)**($1gt O),ge;printf"%.3f, %.3f",$x,$y
</code></pre>

<p><a href="https://tio.run/##VckxDoMgFADQqxDzawCB@jEuNYap3WqHDl06osbEIFEGTTx7qR27vOX5dh7LGBdBm/3JDL3uL2YIfduMCbA1FGcKmII2mnNVXpBVsGY16DQFy6lExjkF3QdyO2Y7Bv8Gj3kw0beVnwcXuuSkik6Qn4mAVcAWY0Mw/0w@DJNboryXKsc8SvcF" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu4" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, <s>155</s> 152 bytes</h1>

<p>-3 bytes thanks to <a href="https://codegolf.stackexchange.com/users/52904/ceilingcat">ceilingcat</a></p>



<pre class="lang-c prettyprint-override"><code>float x,y,l;D;main(d){for(;scanf("%s%f,",&amp;d,&amp;l)&gt;0;y+=d^78?d^83?0:-l:l)D=d,l/=D&gt;99?D/=256,d&amp;=255,sqrt(2):1,x+=D^87?D^69?0:l:-l;printf("%.3f, %.3f",x,y);}
</code></pre>

<p><a href="https://tio.run/##FY5NC4JAFEX/ykNIHHpmKubHMLqZtm1atBOGGSaEl5W6UKK/3qSbc7mLw706vGvtnKWnmmDGBYlL/lBdHxj2sc8h4KNWvQ283biz6KFv0CdWH/myF6bNi8a0Rdocq5AqYlIYpEjIuiwbGYkkO6Hx18hwfA9TkLAqxnkvZFvkjWxP5erRavLX0PXTtnFILcJGD9cvjH@du0CKcIYY4bLhvNUrJAg3iH/akrqPLqTHHw" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
</div>
<div id="pu5" class="pu"><h2>Groovy (215)</h2>

<pre><code>x=0.0;y=0.0;args.join(' ').split(', ').each{d=it.split(' ');c=d[0]==~/../?Math.sqrt(2):1;s=d[1] as int;a=['N':1,'S':-1,'E':1,'W':-1];m=d[0]=~/N|S/;y+=m?a[m[0]]*(s/c):0;m=d[0]=~/E|W/;x+=m?s/c*a[m[0]]:0};print "$x,$y"
</code></pre>

<p>reads input as program arguments. Example:</p>

<pre><code>groovy golf.groovy NW 10, SW 10, W 10
</code></pre>
</div>
<div id="pu6" class="pu"><h2>JavaScript, <del>179</del> <del>164</del> <del>170</del> <del>168</del> <del>158</del> <del>156</del> 153 chars</h2>

<pre><code>prompt(X=Y=0).replace(/(N|S)?(.)? (\d+)/g,
        function(m,y,x,n){
            n/=x&amp;&amp;y?Math.SQRT2:1
            Y+=y?y&lt;'S'?n:-n:0
            X+=x?x&lt;'W'?n:-n:0
        })
alert(X.toFixed(3)+', '+Y.toFixed(3))
</code></pre>

<ul>
<li>170: fixed accuracy issue</li>
<li>168: replaced <code>(E|W)</code> in regex with <code>(.)</code></li>
<li>158: replaced repetitive logic in function with variable <code>d</code></li>
<li>156: reused <code>n</code> instead of a new variable <code>d</code></li>
<li><p>153: Personally, I think this edit makes it ten times uglier, but it's three characters shorter. It's based on the non-standard behavior that you can call RegExp objects as functions: <code>/./g('string')</code> is the same as <code>/./g.exec('string')</code>:</p>

<p><code>for(p=prompt(X=Y=0),R=/(N|S)?(.)? (\d+)/g;[,y,x,n]=R(p)||0;X+=x?x&lt;'W'?n:-n:0)n/=x&amp;&amp;y?Math.SQRT2:1,Y+=y?y&lt;'S'?n:-n:0;alert(X.toFixed(3)+', '+Y.toFixed(3))</code></p></li>
</ul>
</div>
<div id="pu7" class="pu"><h2>PowerShell, 178</h2>
<pre><code>$input-split','|%{,@{N=0,1
NE=($s=.707106781186548),$s
E=1,0
SE=$s,-$s
S=0,-1
SW=-$s,-$s
W=-1,0
NW=-$s,$s}[($a=-split$_)[0]]*$a[1]}|%{$x+=$_[0]
$y+=$_[1]}
'{0:N3}, {1:N3}'-f$x,$y
</code></pre>
<p>This can probably lose up to 10 characters by reducing the accuracy of √2/2.</p>
</div>
<div id="pu8" class="pu"><h2>Java <s>(459) (445) (402) (382) (363)</s> (352)</h2>



<pre class="lang-java prettyprint-override"><code>import java.util.*;class
M{public
static void main(String[]a){double
x=0,y=0;Scanner
s=new
Scanner(System.in);s.useDelimiter("\\W+");while(s.hasNext()){String
d=s.next();double
z=Math.sqrt(d.length());int
w=s.nextInt();y+=(d.contains("N")?w:d.contains("S")?-w:0)/z;x+=(d.contains("E")?w:d.contains("W")?-w:0)/z;}System.out.format("%1.3f %1.3f",x,y);}}
</code></pre>

<p>stdin input</p>
</div>
<div id="pu9" class="pu"><p><strong>Scala (<strike>367</strike>, 332)</strong></p>

<pre><code>var (x,y,s)=(.0,.0,.7071);args.mkString(" ").split(",").foreach{m=&gt;val a=m.trim.split(" ");var (n,u,v)=(a(1).toInt,.0,.0);a(0) match{case "N"=&gt;v=1;case "S"=&gt;v= -1;case "E"=&gt;u=1;case "W"=&gt;u= -1;case "NW"=&gt;{u= -s;v=s};case "NE"=&gt;{u=s;v=s};case "SW"=&gt;{u= -s;v= -s};case "SE"=&gt;{u=s;v= -s}};x += n*u;y += n*v};printf("%1.3f %1.3f\n",x,y)
</code></pre>
</div>
<div id="pu10" class="pu"><h1>Haskell, 199 characters</h1>

<pre><code>import Text.Printf
import Complex
i=0:+(1::Float)
e 'S'= -i
e d=i^mod(fromEnum d-1)4
g p(d:s:t)=g(p+(signum.sum.map e)d*(fst(reads s!!0):+0))t
g(x:+y)[]=printf"%.3f, %.3f"x y
main=interact$g 0.words
</code></pre>
</div>
<div id="pu11" class="pu"><h2>C99 (319 chars)</h2>

<pre><code>#define B ;break;
#include&lt;math.h&gt;
#include&lt;stdio.h&gt;
float x,y,w,z,j;int
main(void){int
k;char
c[3];while(scanf("%s%d,",c,&amp;k)==2){j=k;w=1;switch(c[1]){case'E':w=3;default:w-=2;j=sqrt(k*k/2)B
case
0:w=z=0;}switch(*c){case'N':z=1
B
case'S':z=-1
B
case'E':w=1
B
default:w=-1;}x+=w*j;y+=z*j;}printf("%5.3f, %5.3f\n",x,y);}
</code></pre>

<p>input in <code>stdin</code>, <a href="http://ideone.com/HNj3d" rel="nofollow">test run</a> at ideone :)</p>
</div>
<div id="pu12" class="pu"><h2>Haskell (291)</h2>

<pre><code>import Text.Printf
d=sqrt(0.5)
f"N"n(x,y)=(x,y+n)
f"S"n(x,y)=(x,y-n)
f"E"n(x,y)=(x+n,y)
f"W"n(x,y)=(x-n,y)
f[a,b]n(x,y)=(s,t)where(s,_)=f[b](d*n)(x,y);(_,t)=f[a](d*n)(x,y)
p[]=(0,0)
p(a:b:c)=f a(read b::Float)$p c
s(a,b)=printf"%.3f, %.3f"a b
main=getLine&gt;&gt;=putStrLn.s.p.words.filter(/=',')
</code></pre>
</div>
<div id="pu13" class="pu"><h2>Ruby 1.9, <strike>175</strike> <strike>171</strike> <strike>162</strike> <strike>153</strike> <strike>130</strike> <strike>120</strike> 117</h2>

<pre><code>l=0
gets.scan(/(\w+) (\d+)/){|d,n|l+=n.to_i*?i.to_c**%w[E NE N NW W SW S SE].index(d).quo(2)}
puts'%.3f, %.3f'%l.rect
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/2442/">2442</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




