<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::164647</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>637</td><td>TypeScript's Type System</td><td>230811T144002Z</td><td><a href="https://codegolf.stackexchange.com/questions/164647/programming-puzzles-code/264020#264020">noodle m</a></td></tr>
<tr d-ix="1"><td>159</td><td>jq</td><td>230219T224143Z</td><td><a href="https://codegolf.stackexchange.com/questions/164647/programming-puzzles-code/258041#258041">GammaFun</a></td></tr>
<tr d-ix="2"><td>139</td><td>Haskell</td><td>210613T214024Z</td><td><a href="https://codegolf.stackexchange.com/questions/164647/programming-puzzles-code/229597#229597">Lynn</a></td></tr>
<tr d-ix="3"><td>162</td><td>Java 10</td><td>180514T081404Z</td><td><a href="https://codegolf.stackexchange.com/questions/164647/programming-puzzles-code/164741#164741">Kevin Cr</a></td></tr>
<tr d-ix="4"><td>121</td><td>PowerShell</td><td>190306T162634Z</td><td><a href="https://codegolf.stackexchange.com/questions/164647/programming-puzzles-code/181009#181009">mazzy</a></td></tr>
<tr d-ix="5"><td>075</td><td>Perl 5 pF MListUtil=sum</td><td>180512T190042Z</td><td><a href="https://codegolf.stackexchange.com/questions/164647/programming-puzzles-code/164653#164653">msh210</a></td></tr>
<tr d-ix="6"><td>165</td><td>Haskell</td><td>180525T141733Z</td><td><a href="https://codegolf.stackexchange.com/questions/164647/programming-puzzles-code/165433#165433">Laikoni</a></td></tr>
<tr d-ix="7"><td>296</td><td>Python 3.5</td><td>180516T052615Z</td><td><a href="https://codegolf.stackexchange.com/questions/164647/programming-puzzles-code/164888#164888">Travis</a></td></tr>
<tr d-ix="8"><td>100</td><td>C gcc</td><td>180513T082105Z</td><td><a href="https://codegolf.stackexchange.com/questions/164647/programming-puzzles-code/164681#164681">ErikF</a></td></tr>
<tr d-ix="9"><td>078</td><td>Perl 5 p</td><td>180514T152850Z</td><td><a href="https://codegolf.stackexchange.com/questions/164647/programming-puzzles-code/164780#164780">Xcali</a></td></tr>
<tr d-ix="10"><td>113</td><td>R</td><td>180514T145952Z</td><td><a href="https://codegolf.stackexchange.com/questions/164647/programming-puzzles-code/164776#164776">Giuseppe</a></td></tr>
<tr d-ix="11"><td>022</td><td>Stax</td><td>180513T210644Z</td><td><a href="https://codegolf.stackexchange.com/questions/164647/programming-puzzles-code/164724#164724">recursiv</a></td></tr>
<tr d-ix="12"><td>036</td><td>Pyth</td><td>180514T153221Z</td><td><a href="https://codegolf.stackexchange.com/questions/164647/programming-puzzles-code/164784#164784">user4854</a></td></tr>
<tr d-ix="13"><td>025</td><td>Japt</td><td>180514T152117Z</td><td><a href="https://codegolf.stackexchange.com/questions/164647/programming-puzzles-code/164779#164779">Shaggy</a></td></tr>
<tr d-ix="14"><td>103</td><td>Ruby</td><td>180513T162216Z</td><td><a href="https://codegolf.stackexchange.com/questions/164647/programming-puzzles-code/164699#164699">Kirill L</a></td></tr>
<tr d-ix="15"><td>189</td><td>Scala</td><td>180512T185821Z</td><td><a href="https://codegolf.stackexchange.com/questions/164647/programming-puzzles-code/164652#164652">Xavier G</a></td></tr>
<tr d-ix="16"><td>100</td><td>JavaScript Node.js</td><td>180514T024940Z</td><td><a href="https://codegolf.stackexchange.com/questions/164647/programming-puzzles-code/164735#164735">tsh</a></td></tr>
<tr d-ix="17"><td>026</td><td>Jelly</td><td>180512T223126Z</td><td><a href="https://codegolf.stackexchange.com/questions/164647/programming-puzzles-code/164667#164667">Erik the</a></td></tr>
<tr d-ix="18"><td>156</td><td>Go</td><td>180512T210002Z</td><td><a href="https://codegolf.stackexchange.com/questions/164647/programming-puzzles-code/164662#164662">ollien</a></td></tr>
<tr d-ix="19"><td>046</td><td>APL Dyalog Unicode</td><td>180513T103020Z</td><td><a href="https://codegolf.stackexchange.com/questions/164647/programming-puzzles-code/164684#164684">Ad&#225;</a></td></tr>
<tr d-ix="20"><td>247</td><td>Red</td><td>180513T080435Z</td><td><a href="https://codegolf.stackexchange.com/questions/164647/programming-puzzles-code/164680#164680">Galen Iv</a></td></tr>
<tr d-ix="21"><td>090</td><td>Retina</td><td>180512T212311Z</td><td><a href="https://codegolf.stackexchange.com/questions/164647/programming-puzzles-code/164665#164665">Neil</a></td></tr>
<tr d-ix="22"><td>150</td><td>Clean</td><td>180512T225925Z</td><td><a href="https://codegolf.stackexchange.com/questions/164647/programming-puzzles-code/164668#164668">Οurous</a></td></tr>
<tr d-ix="23"><td>026</td><td>Jelly</td><td>180512T195007Z</td><td><a href="https://codegolf.stackexchange.com/questions/164647/programming-puzzles-code/164657#164657">Jonathan</a></td></tr>
<tr d-ix="24"><td>061</td><td>J</td><td>180512T200015Z</td><td><a href="https://codegolf.stackexchange.com/questions/164647/programming-puzzles-code/164658#164658">FrownyFr</a></td></tr>
<tr d-ix="25"><td>124</td><td>JavaScript Node.js</td><td>180512T202357Z</td><td><a href="https://codegolf.stackexchange.com/questions/164647/programming-puzzles-code/164659#164659">l4m2</a></td></tr>
<tr d-ix="26"><td>113</td><td>Python 2</td><td>180512T190128Z</td><td><a href="https://codegolf.stackexchange.com/questions/164647/programming-puzzles-code/164654#164654">Lynn</a></td></tr>
<tr d-ix="27"><td>018</td><td>05AB1E</td><td>180512T181647Z</td><td><a href="https://codegolf.stackexchange.com/questions/164647/programming-puzzles-code/164649#164649">Adnan</a></td></tr>
<tr d-ix="28"><td>043</td><td>CJam</td><td>180512T182231Z</td><td><a href="https://codegolf.stackexchange.com/questions/164647/programming-puzzles-code/164650#164650">Esolangi</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>TypeScript's Type System, 637 bytes</h1>
<pre class="lang-typescript prettyprint-override"><code>//@ts-ignore
type S&lt;A,B=[]&gt;=A extends`${infer C}${infer R}`?S&lt;R,[...B,C]&gt;:B;type A=S&lt;&quot;abcdefghijklmnopqrstuvwxyz&quot;&gt;;type R&lt;S,F,X&gt;=S extends`${infer A}${F}${infer B}`?R&lt;`${A}${X}${B}`,F,X&gt;:S;type C&lt;S&gt;=S extends A[any]?0:1;type K&lt;I,T=&quot;&quot;&gt;=I extends`${infer V}${infer W}${infer X}${infer Y}${infer Z}${infer L}`?K&lt;L,`${T}${A[S&lt;R&lt;R&lt;R&lt;`${C&lt;V&gt;}${C&lt;W&gt;}${C&lt;X&gt;}${C&lt;Y&gt;}${C&lt;Z&gt;}`,1,&quot;0*&quot;&gt;,&quot;*0&quot;,&quot;0**&quot;&gt;,0,&quot;&quot;&gt;&gt;[&quot;length&quot;]]}`&gt;:T;type P&lt;S,O=&quot;&quot;&gt;=S extends`${infer X}${infer R}`?P&lt;R,Lowercase&lt;X&gt;extends A[any]?`${O}${X}`:O&gt;:O;type B&lt;S,F&gt;=S extends`${infer A}_${infer C}`?F extends`${infer X}${infer R}`?B&lt;`${A}${X}${C}`,R&gt;:S:S;type F&lt;S&gt;=Lowercase&lt;B&lt;S,K&lt;P&lt;S&gt;&gt;&gt;&gt;
</code></pre>
<p><a href="https://www.typescriptlang.org/play?#code/PTAEAcCcHkHFIIYFkkEkB2BzUAFArgFoEA2ApgMqgBkoAxtACamgD6bLoAtKAGwDMAdlAAjAJ4AXUgGdQACjGgAAugD2KhmQC2CdAEoAUPpCLxUzgEtMqyKX3jR4ZuQA8AQQA0AIQC8AbQC6AHzerqCkAB6S6AxSAAYAJADe5ugAZqSQoADCAL5JKemZAEo5sQD8LkXuvgB0dZ7uWUEAXJ4A3PaOoK7eLgBECMK0TKmYABbmAFYA1sSaquAAjpBS4ngAbgDu4aIAXn2BHQ7MRc7k7gBi7gAawZQRUTEJyWkZ3XmJFx8Fb56lZadnq4PtcPn9YpcboFmuQjl0smc7mFIqRojJXL4dKJ-GUAAzNACMcOYAGlnKh3AAVbx9A7eVDIx5xfKvTIANW+rNAAHVOYVQKCWfyAJp8t4EMWZAAy-zJUvcz0pHwxlWcp0BSQRbMCHwR3J1muct11zmFBsSCIIOohBPcfVxACoDnaHbi+nbHU7Au5cXaDoFfH0yFhxGM+v5-KVoZTibgzu5oDS6fcUWjnj9MoKXvySuUcGr3FKVJsMrQEFJSEbAg9UTFupj0Niys9oCDSs1oNDoLHPPGLkia2mhW9gSxh5lcuULoza8zs28sxnQLmyr2gW3NaV3EVoeQYbGLojvEWS5AyxXnL3zmT8+RAvfAoZOsxKdJxLjQN5QIe+gAJUjEMQKgAIQHG0RhgKAoAAHplHYxygK+qwEp+37OH0UBwIgKAYNg+BEGQlA0PQTCsOwYEQVBMFwc+iFvgATKhP5jABUrQO4oCbCokDECwoGHJRUGwfBXRIeIfBMeh5igMgoCiCoACqmSpAglJjGwNQUSAVHCbRYkACySX0lL-qAiwKagWTTCIkDFug37QOEoAAFIKUg4AyCobIAKKZKGzDEAgbBkSwmkCdpQk0QhYkAKxGZ4GAIJALBaZB1H6EAA" rel="nofollow noreferrer">Try it at the TS Playground!</a></p>
<p>Ungolfed version:</p>
<pre class="lang-typescript prettyprint-override"><code>type Split&lt;
  Str extends string,
  Arr extends string[] = []
&gt; = Str extends `${infer A}${infer R}` ? Split&lt;R, [...Arr, A]&gt; : Arr;

type Alphabet = Split&lt;&quot;abcdefghijklmnopqrstuvwxyz&quot;&gt;;

type Case&lt;C extends string&gt; = C extends Alphabet[number] ? 0 : 1;

type Replace&lt;
  Str extends string,
  Find extends string,
  Rep extends string
&gt; = Str extends `${infer Start}${Find}${infer Rest}`
  ? Replace&lt;`${Start}${Rep}${Rest}`, Find, Rep&gt;
  : Str;

type BinToUn_1&lt;In extends string&gt; = Replace&lt;In, &quot;1&quot;, &quot;0*&quot;&gt;
type BinToUn_2&lt;In extends string&gt; = Replace&lt;In, &quot;*0&quot;, &quot;0**&quot;&gt;
type BinToUn_3&lt;In extends string&gt; = Replace&lt;In, &quot;0&quot;, &quot;&quot;&gt;
type BinaryToUnary&lt;Binary extends string&gt; = BinToUn_3&lt;
  BinToUn_2&lt;BinToUn_1&lt;Binary&gt;&gt;
&gt;;

type Chunk&lt;
  S extends string,
  T extends string = &quot;&quot;
&gt; = S extends `${infer A}${infer B}${infer C}${infer D}${infer E}${infer R}`
  ? Chunk&lt;
      R,
      `${T}${Alphabet[Split&lt;
        BinaryToUnary&lt;`${Case&lt;A&gt;}${Case&lt;B&gt;}${Case&lt;C&gt;}${Case&lt;D&gt;}${Case&lt;E&gt;}`&gt;
      &gt;[&quot;length&quot;]]}`
    &gt;
  : T;

type Alphabetics&lt;
  S extends string,
  O extends string = &quot;&quot;
&gt; = S extends `${infer A}${infer R}`
  ? Alphabetics&lt;R, Lowercase&lt;A&gt; extends Alphabet[number] ? `${O}${A}` : O&gt;
  : O;

type FillBlanks&lt;
  Str extends string,
  Fill extends string
&gt; = Str extends `${infer Start}_${infer Rest}`
  ? Fill extends `${infer X}${infer R}`
    ? FillBlanks&lt;`${Start}${X}${Rest}`, R&gt;
    : Str
  : Str;

type F&lt;S extends string&gt; = Lowercase&lt;FillBlanks&lt;S, Chunk&lt;Alphabetics&lt;S&gt;&gt;&gt;&gt;;
</code></pre>
<p><a href="https://www.typescriptlang.org/play?#code/C4TwDgpgBAymA2BLYAeAUFWwBOUIA9gIA7AEwGcpydFiBzAGgygEFtcCizLrta6A2gF0oAXijC0APjFYOhEhSgADACQBvWgDMIuFgF8N23VABK+5VAD8sBMhSmGEgHSu22JyyEyAXK3YA3GhooJCs8GAAFgCGAEYQwLJwSKgARHEAxqQQWnSRiABWANbwALbEAPZgAI7Y1ACuAG4A7vggAF6pUkEh4NAAwtHkECj9eArcVDT0MuJjnIqULBEx8cACxPWl8dgiNgAMUH4AjD2h0KYQCNEZI8wwOONcSrz8TJgAYrSkT4tTfPR3mYrr9Jq96NIko8FpM1JpiDpcA9othgIZ1F8yOjjLhLtQLMwbJdrrcUHDkaj0cSqRB8conJjSE5iVJmH4Htgzn0oAAhWgAFQqAFViAB9Y4oACSxFBL2mdFmwJJI2lTlSx1Sav2ACour0wnziIKRaKAExSmUwuUAhWyYnwG4q4hq7X7TVQVI63Ws868gXCsUAZgtsp48sV9sdFq17tSet9hpRIGNxCTKET2BAof+-EVhpTouDzHzAbN6f9JolGZAUlZ3WCvv6kXqxCK6EwMGz4MYzH5XflsjjkPEnatlDhONY2IRJh508RUH685MABFl7gAKLrswEzA2JsttvMTCYRzHk9w-no5ZROIJATJeznk9+1OZlNpuGDYYoFhSdHfiMPL-hogGjCB6hgSuEFgRu-7KKyL6YFIAipPAJB0MAkSpEIQi7ieiFHFA-JcmEN6rAkiAZOQ7awP2NpAgA8vR-CDqkw50WOKhGDOejbuYyiEuEt5rFRNGOFAAAyFTNLoGRDCMf7ZuRd7rJs2y6Hs3HqIx14WERjGEX4jGkdAXzwPAPIOq2NH3NCEzWm8zDmfALEQoqHLZhOvFYCiaKijxC54migl7lALleYFJgABr8fhYUuVZ0Q2WSGgUmiGixRowUWMyhGYOyOBsnIpnhSgo4OWGNqKtJsnYPJP6JdZRQ0TATgHq2v4rKpYnlbWtalfytLAIc4gfCgqQABIQBZFQAIRdEEAD0S0ngAelY+rQEN1DHLI42pGA2CMQA4tg0QALIXdKdBQAACvUABaj3oZ2ABkUAZIx2RQKKf2iotaAretm2+jtwCmvtE2RDNkmMU4zQVNg8Cigt9bA5gG1bcRw2BlDqSIFAl1QCAwq4Fo0T8pEf3OIDGNQFjYPDQALPj-LTVA1RCpK-RFFAsTYDJMofIx+BQAAUkKF1gJQFQAGobrgWHQA6f2-TTdOrZjoPcuDACs+M8tKKIA+jWsM5tQA" rel="nofollow noreferrer">Try it at the TS Playground!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://stedolan.github.io/jq/" rel="nofollow noreferrer">jq</a>, <s>165</s> 159 bytes</h1>
<p><em>Unnecessary space before <code>as</code>, and found a place where<code>(a|[thing])[]</code> could be replaced with <code>(a|thing)</code></em></p>
<pre><code>reduce(split(&quot;[^a-z]&quot;;&quot;i&quot;)|add|explode|while(length&gt;4;.[5:])[:5]|map(try(.&gt;91//1)+0//0)|reduce .[]as $x(3;2*.+$x)+1)as $r(ascii_downcase;sub(&quot;_&quot;;[$r]|implode))
</code></pre>
<p><s><a href="https://tio.run/##NY/dbptAEIXveYopsmqoFRynzUWDlKh1SEwajOW/qEZ0tWansM1ml@ziYrf01UuJo87FXBydOeebH89tq5HtMnRMKXjl2Mk3evIrtX2b225DGWtwXwrFsEnqggt0BMq8Ki4/@F5yfpG6ycV52jzR0qn0wfEuP46Gw5E7OB0OT93mNRi8JAVqoLd33vtn77xBb@8ORt3lq6odajLOCVO1zKhB3@y2jk1sP@nptOFPx3LXbdsChVBvLA40goNaafhOlwUhnlXq@FbTKAplDrPdZiNwAW8hixkC6cYaUwlf4x3kKzQLqCYBBFMG6gaWBTdHy5W1nCA8r8LxI2x1BwI38R7uVlFpQK0DDVWBICghL27PmivKFldQT4I5Qo19jZArLm/hIQCmpv0KJCI7Jnfuqggg10irYFHBUvPsEV6ka1yHAoI1apithAgY1J8MjOPpz1BmfJp3oAgPSt9fQ3HsJX3yP/JzKKkm1ugMIiW/4IFYxWGGeqtEuOke/p3EEuGemq4Pu5V15Omfv6qsuJKmPZnrfw" rel="nofollow noreferrer" title="jq – Try It Online">Try it online!</a>
</s>
<a href="https://tio.run/##NY9db9MwFIbv8ysOUUUTqqXrYBcs0ibosjWwNlXbdKJRsNz4kJh5dmanpIXw1wlpEefiXLx69H58f2lbjWyXoWNKwSvHTr7Ss5@p7dvcdhvKWIP7UiiGTV1wgY5AmVfF9TvfSy6vUje5ukybZ1o6lT443vX70XA4cgfnw@G52/zzBS9JqYHe3nnrX7zxBr29Oxi5R0U71GScE6ZqmVGDvtltHZvYftLTacOfT7Gu27YFCqFeWRzoFA4q1vCNrgpCPKvU0b2m02koc5jvNhuBS3gNWcQQSHfWmEr4Eu0gj9EsoZoEEMwYqDtYFdyckBtrNUF4icPxE2x1VwTuoj18iqelAbUONFQFgqCEHGnPWijKljdQT4IFQo19jZArLu/hMQCmZv0KJCI7OXd0VQSQa6RVsKxgpXn2BEfpFtehgGCNGuaxEAGD@oOBcTT7EcqMz/KuKMKj0g@3UJxySZ/8t/wYSqqJNbqAqZKf8UCs4jBHvVUi3HSDfyWRRHigpsvD7mVd8/T3H1VWXEnTni30Xw" rel="nofollow noreferrer" title="jq – Try It Online">Try it online!</a></p>
<p>Phew, this was a fun one! <code>reduce</code> is the real star of the show here.</p>
<pre><code>reduce (
    # filter to alphanumeric characters and explode string into codepoints
    split(&quot;[^a-z]&quot;;&quot;i&quot;) | add | explode |
    # chunk letters from string into full groups of 5
    while(length&gt;4; .[5:])[:5] |
    # for each chunk emit 1 if uppercase, 0 if lowercase
    map(try(.&gt;91//1)+0//0) |
    # reduce each chunk to a codepoint
    # start with 3, double and add the next element in the array.
    # [0,0,1,1,0] -&gt; 6 [0,1,1,0] -&gt; ... 102, we need to add one to map correctly
    reduce .[] as $x(3;2*.+$x)+1
# for each code point $r:
) as $r (
    # initialize with lowercased input
    ascii_downcase;
    # substitute &quot;_&quot; with the current letter ([codepoint]|implode)
    sub(&quot;_&quot;;[$r]|implode)
)
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 139 bytes</h1>

<pre class="lang-hs prettyprint-override"><code>([]%)
a%(x:y)|x=='_'=['a'..]!!foldl1((+).(2*))(take 5a):drop 5a%y|x&gt;'@',x&lt;'['=[x..]!!32:(a++[1])%y|x&gt;'`',x&lt;'{'=x:(a++[0])%y|1&lt;2=x:a%y
a%e=e
</code></pre>
<p><a href="https://tio.run/##JU1PC4IwHL33KZZk27IkjS7iolt0EINumtgPnRYtG1awyM/eGvpOj/f3As8bF0JX7KRJmtl0BDZRwYd2ijGcY5ZiwK6bjcfVQ5TCI8ShLvFnlJIX3DhaAw3K9iENsT@d2uAtnqsQp6ao@trKDwg4TupldAic@8AXMzUYy97wQt8IZsP8c8b1Ha4Nk@21eaEJqpAl23jXQhTtmxod3kki@BFNURGXHOUGlv4VlYD6qReFlH8" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
</div>
<div id="pu3" class="pu"><h1>Java 10, <s>186</s> <s>184</s> 162 bytes</h1>

<pre class="lang-java prettyprint-override"><code>s-&gt;{var b=&quot;&quot;;for(Byte c:s.getBytes())s=(b+=c&gt;64&amp;c&lt;91?1:c&gt;96&amp;c&lt;123?0:&quot;&quot;).length()&gt;4?s.replaceFirst(&quot;_&quot;,(char)(97+c.valueOf(b,2))+(b=&quot;&quot;)):s;return s.toLowerCase();}
</code></pre>
<p>-2 bytes thanks to <em>@ceilingcat</em>.</p>
<p><a href="https://tio.run/##jVHvb9owEP3ev@ItH4qjttFgVafCAK00bdkKqcqPakxTZJwjSXFtZhsYqvjbWejQvqaWLd2d3717d/fMV/zsOZnvhOTWosdz9XoE5MqRmXFB6O9dYOBMrlIIdjCs3yji2@IV1zrucoE@FJrY2bPW64obTJue15hpw642jiDqNkjJ7W3LfN822fSkKVoX58fiy2W1Xa2L1uVFYVdrn9of657nB5JU6jLmt87bNjC0kIWcm9xYx7zYO2Ui48Znl59PRLDicknRjE1Pa75/wvaFfb9uG4bc0ijYwOl7vSbT4ZaY39juGv90L5ZTWeg@yF/pPMFLMYBDjz9/gfuH7jfW0Uugly5YFF9OKqYCwbyMpNQfimKNMth9dIq1NjIuR@fgPWz0yGDGh1kcB6UZCxPdGt7rdYvFPCwnE0kDHENECSEuTml@hyv8iJZIR2QHcHchwn4CfYNhlts3inYpx/CO8HvU7cwxNXqtcBP9wbdRb2Ghx6GBywiSx/GerbyhR82TQRvru/CRsKaKIaQ6V7d4CpHofsVBESVvyt7B5rIQqSHuwoHD0ORijn3omsZdiXBMBg8jKcME668Wnai/6iqR99NiEIQnbe6vkb3pjivxe0tedRU35YOv1tDT6jttyqHZ5oHMVMvu5P9Ct0fb3V8" rel="nofollow noreferrer">Try it online.</a></p>
<p><strong>Explanation:</strong></p>
<pre class="lang-java prettyprint-override"><code>s-&gt;{                        // Method with String as both parameter and return-type
  var b=&quot;&quot;;                 //  Binary-String, starting empty
  for(Byte c:s.getBytes())  //  Loop over the characters of the input-String:
    s=(b+=c&gt;64&amp;c&lt;91?        //   If the current character is a lowercase letter:
           1                //    Append &quot;1&quot; to the binary-String
          :c&gt;96&amp;c&lt;123?      //   Else-if it's an uppercase letter:
           0                //    Append &quot;0&quot; to the binary-String
          :                 //   Else (it's not a letter):
           &quot;&quot;               //    Append nothing to the binary-String
      ).length()&gt;4?         //   And if the length of the new binary-String is now 5:
       s.replaceFirst(&quot;_&quot;,  //    Replace the first &quot;_&quot; in the input-String with
          (char)(97+c.valueOf(b,2))
                            //    the binary-String as character
         +(b=&quot;&quot;)):s;        //    And reset the binary-String
  return s.toLowerCase();}  //  Return the modified lowercased input-String
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/TryItOnline/TioSetup/wiki/Powershell" rel="nofollow noreferrer">PowerShell</a>, 121 bytes</h1>



<pre class="lang-powershell prettyprint-override"><code>switch -r($args|% t*y){_{$_=$a[$n++]+97}[a-z]{$x+=$x+($_-le96);if(!(++$i%5)){$a+=,$x;$x=0};$_=$_-bor32}.{$r+=[char]$_}}$r
</code></pre>

<p><a href="https://tio.run/##bVR/b9pADP2fT@Gia4HxQ1unbeoq1G1t2rIVqAq0WhGKQmKSrEeO3iVASPPZmS@UDZadFCmy33t@9jmZiQVK5SHnazaBJiRrtfBD24O6LDNLuurlEMI3cSUxE2Y2mTVkQbU6qp58SodWfTVK2LLapKfMzDrHk4@VU39SPihXq8w//FCpJMyqNmtsecqWzbfpqVYw62Mh3x@njYTJanNoe5YcMTNNmVynhcKXcgHo1MoAJTJ1063BQkhuHpRqWUIfneBik3AOSpUssUfjIo/PA32w2hCLgYSJ1fdMs7HLoeSUkpFOhh7KRo4@k90rabXbrcCF2@jxkWMPjsDuOggmnV2xmRSutKZTn6CzaLXiqDRUENQVfJKTPrcC@NmNwB2g6kF4bYDRcUBcQt/zVaZ@titvE5ysghuhUkBuAQOCT@iV4CEuw7Ncif41wvOgdf4EYykWAVx2l/B90J4pEPeGzES4ZZq62N5cdOI58u0tbyKW8Cuaat4ct7xVDI5wcyMr3gnL6Z3B4tq4Q1hgSer@/eAKHgwidEohBIhO1qDZKP6tWpREVESki9gluvROxGBLzGCN4r9lQ88AV6IVGr0Q@lKb16ELvG9xMO7J9u2Ac8OBxVcF593OvBXYfselwSM8CHlzAZ65uVPzP950y5k6qhDCV3WyhXOfA@qhzCLOyd3CUnTnwdwndbKuQdkKg0b7ju4Cl74Kcw2UvrUCS@5t1NinSJy71XfH0BbBD4z3wBSdiuAJY5X/WOJblGPBW4/7G@vFsyzur9DJkZJhN0C4sajfvm7apkUZpbv0ZCgCvQh6IhuEQkJUChV4gUNIMiRTNWC4nKEd0nSawMxNWKKKeEiBI/ojMZUFi6z8Gq/b@PyHVfm8hRcL6fo3" rel="nofollow noreferrer" title="PowerShell – Try It Online">Try it online!</a></p>

<p>Less golfed:</p>

<pre class="lang-powershell prettyprint-override"><code>switch -Regex ($args|% toCharArray){
    _ {                     # is underscore
        $_=$a[$n++]+97      # get a char from the array of letter
    }

    [a-z] {                 # is letter
        $x+=$x+($_-le96)    # $x=2*$x+($_-le96)
        if(!(++$i%5)){      # if(++$i%5 -eq 0)
            $a+=,$x         # add an element to the array of letters
            $x=0            # init
        }
        $_=$_-bor32         # to lower
    }

    . {                     # is any char ('_' and letters included)
        $r+=[char]$_        # add the char to result
    }
}
$r
</code></pre>
</div>
<div id="pu5" class="pu"><h1>Perl 5 <code>-pF -MList::Util=sum</code>, 75 bytes</h1>



<pre class="lang-perl prettyprint-override"><code>@a=grep!/\W|\d/,@F;s!_!(a..z)[sum map{a gt shift@a&amp;&amp;16/2**$_}0..4]!eg;$_=lc
</code></pre>

<p><a href="https://tio.run/##Fc3PCoIwHADgV/kNREtyVlQHRfKidagORXjIGCPXGqgbbiH059Vb9b3Ap1hXz61NacI7plBYFq@yCkdpHmtE0IBi/Bie9L2BhqonBW5A38TVpNR1J4tw6vsOeY8xnp0R47FDkvpi7V7S6rCEfp3tGfTM6xhwKdoVFBlUcucZaBmrgPzhj1RGyFbbQOUQbDdCmyg6GlEnv/UL" rel="nofollow noreferrer">Try it online!</a></p>

<h2>Explanation:</h2>

<ul>
<li><code>-pF</code> reads a line of input into the variable <code>$_</code> and, split into characters, into the array <code>@F</code>.</li>
<li><code>@a=grep!/\W|\d/,@F</code> sets the array <code>@a</code> equal to those members of <code>@F</code> that don't satisfy the regex <code>\W|\d</code>. <code>\W</code> is anything but letters, numbers, and <code>_</code>; <code>\d</code> is numbers. So <code>\W|\d</code> is anything but letters and <code>_</code>, and <code>@a</code> has all the letters and <code>_</code> characters. We will wind up never examining the <code>_</code> characters in <code>@a</code>. (Note that this only works because the input is guaranteed ASCII.)</li>
<li><code>map{a gt shift@a&amp;&amp;16/2**$_}0..4</code> does the following for 0 through 4: It shifts the next element off of <code>@a</code>, shortening it, and evaluates whether <code>a</code> is asciibetically greater than that element (i.e. whether that element is uppercase). If so, <code>&amp;&amp;</code> isn't short-circuited, so we get 16 divided by 2 to rhe power of the input value (0 through 4). Otherwise <code>&amp;&amp;</code> is short-circuited and we get 0. <code>map</code> returns the list of five numbers to <code>sum</code>, which adds them.</li>
<li>That's the element we want from the list <code>a..z</code>, and that's what we get from <code>(a..z)[…]</code>.</li>
<li><code>s!_!…!eg</code> converts each <code>_</code> in <code>$_</code>, in turn, to the appropriate letter.</li>
<li><code>$_=lc</code> converts <code>$_</code> to the lowercase version of itself, and <code>-p</code> prints it.</li>
</ul>
</div>
<div id="pu6" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 165 bytes</h1>



<pre class="lang-hs prettyprint-override"><code>g""
import Data.Char
f t(x:s)('_':r)=x:f t s r
f[0,a]s r=g(s++[chr a])r
f[n,a]s(c:r)=toLower c:f[div n$1+sum[1|isAlpha c],a+sum[n|isUpper c]]s r
f _ s e=e
g=f[16,97]
</code></pre>

<p><a href="https://tio.run/##NZBfb9owFMXf8ylOq2qA@KOxh01DQlUHaUkHJCqEbrDIchMTRxg7s00D0j77mBNp9@Ve/c7RPb7m1ByYENd@H7@u@e2tVxxLpS2m1NLBhFPt7WHb55HptFukNdKd8XnkCAycsvvYo4mbxnnbdLu7lGvQpFMLshbaae23aq4qppGO9ruseIe8G3bN6bgb/inMgyg5RZr0aIOkQ3FZ1uYkaRJAXBIbMy8f73fDz72vX5LrkRYSYxTSMk1TizucpCgkMxjgSEu03RkdNzfsyt116sZzbR72UCktyI1XgC5wUbHGnq45IQOv1OGTpotFIHNEp@1WsBU@IA0zBuLKm1CJn@EJeczMCnbmw19mUI9Y88I0lntvPWP4HQeTA960qiQewzOe40VpoDa@huUMghJSuwfei6LZ6h7VzH9hqFhLM@SqkE949ZGpZctCMpY1m53bch@5ZtT6K4u1LtIDajRlm0DA37gfi2Ih/AzVg8EkXL4HMi2WuXsow6vS8yl4k0ta5P/Kb4GkmnjDT1go@Z1diMcvEdNvSgRbQv6me0Fzc@3/mETRPw" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a> Example usage: <code>g"" "BInar_"</code> yields <code>"binary"</code>.</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://docs.python.org/3.5/" rel="nofollow noreferrer">Python 3.5</a>, 296 bytes</h1>
<pre><code>u=input();f=u.find('_');m=''.join([c for c in u if c.isalpha()]);z=[chr(int(''.join(['0'if o.islower() else'1' for o in l]),2)+65)for l in[m[h:h+5]for h in range(0,len(m),5)]if len(l)==5];[z.insert(v,d)for v,d in enumerate(u[f:])if d!=&quot;_&quot;];u=list(u);u[f:]=z[:len(u[f:])];print(''.join(u).lower())
</code></pre>
<p><a href="https://tio.run/##TY/BSsQwEIZfZewlGbaUVVnEDTmJooJ4cb2EEGo3NdE0qWnj6r58bXZFPA3zz/d/MP33aII/n6bEre/TSJG1PFWt9VtKFEHWcUKqt2A9FQ20IUID1kMC20JT2aF2vakpSmR7LhoTqfUj/WuQJZm5MHMu7HSkCNoNmpySgylkk5NYnuHi8gJz5OZIdMKszWIlc2AyE2v/qumydNrTDssVytmaF4ecryQT@8r6QceRfpbbg2eeuah96nSsR02TaNcS59r2hBeqkCxxZ4eRJmSHE9@LdTYeOcn6@P@RhNXvAzhNxdOtho/N3dU7vMSw83Dz@AX3m4d@gPB8HWE0GlytFCilquIH" rel="nofollow noreferrer">Try it online</a></p>
<h2>First code golf :)</h2>
<h2>(I know its not small in bytes, I was just having fun making a 1 line code)</h2>
<h2>Here is the explanation:</h2>
<hr />
<p><em>User input</em></p>
<blockquote>
<p>u=input()</p>
</blockquote>
<hr />
<p><em>Finds the index of the first _ in the string and stores it</em></p>
<blockquote>
<p>f=u.find('_')</p>
</blockquote>
<hr />
<p><em>strips string of all non-alpha characters</em></p>
<blockquote>
<p>m=''.join([c for c in u if c.isalpha()])</p>
</blockquote>
<hr />
<p><em>Splits the alpha string into an array with each element consisting of 5 characters</em></p>
<p>Ex. ['THeqU', 'ICkbr', 'ownFO', 'xJUMp', 'soVEr', 'thela']</p>
<p><em>Then converts lowercase characters to 0 and uppercase characters to 1</em></p>
<p>Ex. ['11001', '11000', '00011', '01110', '00110', '00000']</p>
<p><em>and converts the binary string to an integer, adds 65 and converts that to a character</em></p>
<p>Ex. ['z', 'y', 'd', 'o', 'g', 'a']</p>
<blockquote>
<p>z=[chr(int(''.join(['0' if o.islower() else '1' for o in l]),2)+65) for l in [m[h:h+5] for h in range(0,len(m),5)] if len(l)==5]</p>
</blockquote>
<hr />
<p><em>finds all characteres after the first _ and pushes them into the array z at their respective locations (defined above)</em></p>
<p>Ex. ['z', 'y', ' ', 'd', 'o', 'g', '.', 'a']</p>
<blockquote>
<p>[z.insert(v,d) for v,d in enumerate(u[f:]) if d!=&quot;_&quot;]</p>
</blockquote>
<hr />
<p><em>split our string into a list of characters</em></p>
<blockquote>
<p>u=list(u)</p>
</blockquote>
<hr />
<p><em>slice our string from the first _ to the end of the list and replace it with the array z.  I also had to slice the array z to the length of the split string from the first _ to the end because I got an extra character in the lazy dog example (the &quot;a&quot; at the end of the examples above)</em></p>
<blockquote>
<p>u[f:]=z[:len(list(u[f:]))]</p>
</blockquote>
<hr />
<p>*print out the answer *</p>
<blockquote>
<p>print(''.join(u).lower())</p>
</blockquote>
<hr />
</div>
<div id="pu8" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, <strike>111</strike> <strike>109</strike> <strike>101</strike> 100 bytes</h1>

<p><em>Edit:</em> Added lowercasing per @FrownyFrog's comment; thanks to Lynn, Christoph and user5329483 for their suggestions!</p>



<pre class="lang-c prettyprint-override"><code>f(s,t,i)char*s,*t;{for(t=s;t=strchr(t,95);*t=i+1)for(i=3;i&lt;64;s++)isalpha(*s)?i=2*i|*s&lt;97,*s|=32:0;}
</code></pre>

<p><a href="https://tio.run/##VY/bSsNAEIbv8xRDRcxu1mJbD9RNKmIDFqQKar1QCWFzGoxJ2J1GpM2zx6S9qQPDzPf9F8Oo01Sp9ggLla@jGFxDEZbDbGYdKo1F@t8p@q3iTrWJbQQJZCoLNTeCk9wkpbbJM7Jr0irrQEwvmOTkoTNifYreRKJ7eS6N4zA0YV5loc0Nu0FvzHHLjTu9Etxsvcn4@kw2LRYE3yEWdr@EOlWiPwecd3vNYGMBYGL3wWy0R4Ad1@@jTyZ3XHVPUGIPjs1HMRCHWWM1bUuZD6mOQ/KfCV40qi/o1TxeLXLwV7GGp9c89yP4uTVw97isF4XCZQp0H8NbqR/mkAUQdHWyH8HwDw" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
</div>
<div id="pu9" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> <code>-p</code>, 78 bytes</h1>



<pre class="lang-perl prettyprint-override"><code>for$h(s/\W|\d//gr=~y/a-z/0/r=~y/A-Z/1/r=~/.{5}/g){s%_%chr 65+oct"0b$h"%e}$_=lc
</code></pre>

<p><a href="https://tio.run/##JYxNi8IwFEX3/oqHtIwi7YuLunMhWlBwdEBHwQ9CjbEphqYkQRlr/enGOt7FuYe7uAXXMnLupLQnWgZ36/vuiJjq/uMPk@CGBP91EGyw@1YMy6jCtF0an/pMaOhFHcVskxw80fR55dG@ZM5ZImJINU9svLCw1Bk7g62nEV9NJMQrruHnV8r4CNeBgeF8dpnkLJulYMcc1kpPRyAo0Dpfn6Jho9zOcw7TxNSHvAZLKN1XT1XYTOXGBd9RSLrEBcUL" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu10" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, <s>153</s> <s>135</s> 113 bytes</h1>



<pre class="lang-r prettyprint-override"><code>function(s,S=utf8ToInt(s)){S[S==95]=2^(4:0)%*%matrix(S[S%in%c(65:90,97:122)]&lt;95,5)+97
cat(tolower(intToUtf8(S)))}
</code></pre>

<p><a href="https://tio.run/##LYxtS8MwHMTf91P8KVQTrTKLdbasL8QVLWzrIN2EjVpClnbBmkiaOmHss9f4cC/u4O746aGGyRUMdS@ZEUqizidJb@r7QmXSoA7jI9mSJInCMgle0W08wt6F906NFl/ILp6QHkN3YRyN/Ggc3wQBLidR6If4Mho7jBpkVKsOXCMhTaFWlowIxvg01Mj90PmTpvN5JhtY9ptNywmcAct3HCorx8WOfZl9Co3m1KTEQKEFe4OfasrXWQvpmmtYrto23cHhoYPHfPGZSSYWDZhnDi9Kz6awr355539RXf@Dj9tccpjRzmK5NUarqjy5ePgG" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>

<p>Issues some warnings with the use of <code>matrix</code> but that shouldn't affect the result. Also issues warnings as <code>[&lt;-</code> assignment will remove extraneous assigned objects by default.</p>

<p><em>40(!) bytes down thanks to JayCe's improvements</em></p>
</div>
<div id="pu11" class="pu"><h1><a href="https://github.com/tomtheisen/stax" rel="nofollow noreferrer">Stax</a>, 22 <a href="https://github.com/tomtheisen/stax/blob/master/docs/packed.md#packed-stax" rel="nofollow noreferrer">bytes</a></h1>

<pre><code>â╟▓ïMeee¶▐f◄┴≈┘n╛äyΩ○N
</code></pre>

<p><a href="https://staxlang.xyz/#p=83c7b28b4d65656514de6611c1f7d96ebe8479ea094e&amp;i=hello%21%0AhelLO,+worl_%21%0Ai+aM+yoUr+faTh__.%0AprOGraMMIng+PuZZleS+%26+cOde+____%0ACan+YOu+gUesS+tHE+ENd+oF+This+____%3F%0ATHe+qUICk+brown+FOx+JUMps+oVEr+the+la__+___.%0ARoadS%3F+wHERe+we%27re+goinG+WE+doN%27t+need+_____.%0AthE+greatESt+Trick+thE+DeVIl+EVer+PUllEd+wAs+CONvInciNg+tHe+WorLD+h_+____%27_+_____.&amp;a=1&amp;m=2" rel="nofollow noreferrer">Run and debug it</a></p>

<p>The general approach is a regular expression replacement of <code>"_"</code> using a callback function that slices letters of the inputs to compute each replacement character.</p>

<pre><code>v       convert to lower case
'_      "_" string literal
{       begin block for regex replacement
  yVl|&amp; all the letters only from the original input
  5/    split into chunks of 5
  i@    keep the ith one, where i is the 0-based number of times this block has run
  {97&lt;m map 5-letter chunk to bits to indicate which are lowercase
  :b    decode as 5-bit integer
  97+]  add 97 and wrap in array to convert to lower case character
}       end block for regex replacement
R       do regex replacement
</code></pre>

<p><a href="https://staxlang.xyz/#c=v%0A%27_%0A%7B%0A++yVl%7C%26%0A++5%2Fi%40%0A++%7B%27a%3Cm%3Ab%0A++97%2B]%0A%7D%0AR&amp;i=hello%21%0AhelLO,+worl_%21%0Ai+aM+yoUr+faTh__.%0AprOGraMMIng+PuZZleS+%26+cOde+____%0ACan+YOu+gUesS+tHE+ENd+oF+This+____%3F%0ATHe+qUICk+brown+FOx+JUMps+oVEr+the+la__+___.%0ARoadS%3F+wHERe+we%27re+goinG+WE+doN%27t+need+_____.%0AthE+greatESt+Trick+thE+DeVIl+EVer+PUllEd+wAs+CONvInciNg+tHe+WorLD+h_+____%27_+_____.&amp;a=1&amp;m=2" rel="nofollow noreferrer">Run this one</a></p>
</div>
<div id="pu12" class="pu"><h1>Pyth, 36 bytes</h1>

<pre><code>Km@Gim!}kGd2c@+r1GGQ5VQp?qN\_.(KZr0N
</code></pre>

<p><a href="http://pyth.herokuapp.com/?code=Km%40Gim!%7DkGd2c%40%2Br1GGQ5VQp%3FqN%5C_.(KZr0N&amp;input=%22THe%20qUICk%20brown%20FOx%20JUMps%20oVEr%20the%20la__%20___.%22&amp;debug=0" rel="nofollow noreferrer">Try it here</a></p>

<h3>Explanation</h3>

<pre><code>Km@Gim!}kGd2c@+r1GGQ5VQp?qN\_.(KZr0N
             @+r1GGQ                   Get the letters from the input...
            c       5                  ... in chunks of 5.
 m        d                            For each chunk...
     m!}kG                             ... check if each letter is uppercase...
    i      2                           ... converted to binary...
  @G                                   ... and get the corresponding letter.
                     VQp               For each character in the input...
K                       ?qN\_.(KZ      ... if the character is '_', replace it...
                                 r0N   ... otherwise, lowercase it.
</code></pre>
</div>
<div id="pu13" class="pu"><h1>Japt, 25 bytes</h1>
<pre><code>r'_@r\L mè\A sTT±5 ÍdIÄÃv
</code></pre>
<p><a href="https://ethproductions.github.io/japt/?v=2.0a0&amp;code=cidfQHJcTCBt6FxBIHNUVLE1IM1kScTDdg==&amp;input=InByT0dyYU1NSW5nIFB1WlpsZVMgJiBjT2RlIF9fX18i" rel="nofollow noreferrer">Try it</a></p>
<hr />
<h2>Explanation</h2>
<pre><code>r'_                           :Replace underscores
   @                          :Pass each match through a function
    r                         :  From original input remove
     \L                       :    /[^a-zA-Z]/g
        m                     :  Map
         è                    :    Count
          \A                  :      /[A-Z]/g
             s                :  Slice
              T               :    From index T (initially 0)
               T±5            :    To index T+=5
                   Í          :  Convert from base-2 string to base-10 integer
                     IÄ       :  Add 64+1
                    d         :  Get character at that codepoint
                       Ã      :End function
                        v     :Lowercase
</code></pre>
</div>
<div id="pu14" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, <s>107</s> <s>106</s> 103 bytes</h1>



<pre class="lang-ruby prettyprint-override"><code>-&gt;s{s.chars.map{|c|c !~/\W|\d/?c&lt;?a?1:0:p}.join.scan(/.{5}/){|b|s[?_]&amp;&amp;=(b.to_i(2)+97).chr};s.downcase}
</code></pre>

<p><a href="https://tio.run/##TVBdb5tAEHzvr5j4wR9qiptIUdW0KWodEtMYY8XGVu1Yp@NYAw3h6B2uawH96y6Ql@7DaXc0O7Nzau8fT7ub07svutCGiLjSxgvPilKUAmd/h0@r8ikYmuKzyc2L6/fXWWX8lHFqaMHT/tAorqrhoCj9Um9Mtu12b/q@kUsW9y8Hbz9@GNSCqvqkjUAeUsE1VadNJ6IkkWed8zdNN3HPcZAqYS0Qgzs4Sk9hxxcRY0YDZsq9V9xx7DTEbL9eJzRHF8INCKyuhjLiKX64e4Qe6TnysQVrGkDeYRHFumWZDW0xJvzy7NEzfFUfhDv3D757TqYhl5ZCHhESzliz0Do/Sh7MTRzG1iPhQD1FCOvs91hZCOS0lyMlClr914U8shAq4rk1z7FQsXhGA93S0k5gLUlh5iWJFeDwVWPkTn/bqYinYX0xYSXV5BZR68567D/Vb3bKVZvz4hKOTB/o2E7RcUbKl4m9fv2FYuOmhAnXtTfVj6izbKvO1iAuoqLMa6xEts81dptm2Fanfw" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
</div>
<div id="pu15" class="pu"><h1><a href="https://github.com/scala/scala" rel="nofollow noreferrer">Scala</a>, 189 bytes</h1>



<pre class="lang-scala prettyprint-override"><code>def f(s:Array[Char])={var j=0;s.zipWithIndex.collect{case(95,i)=&gt;s(i)=(Integer.parseInt(s.filter(_.isLetter)slice(j,j+5)map(k=&gt;if(k&lt;91)1 else 0)mkString,2)+97)toChar;j+=5};s.map(_.toLower)}
</code></pre>

<p><a href="https://tio.run/##rZBZawIxFIXf/RW3vjRBGVSQYu0IokKlLgW3B5EhHe84GeNkSIJLZX67jV1QW8GX5iHLufd8nBvtM8EO8i1C30CX8RhwazCea6gnCewzhzkGEBD9WFeK7aaNkKkZdfdrpiByC1XtvPNkwk3Yjue4dXwphAXtfaaRVMp5Tt2aJnYn7djgApWTMKXRPoh2Ai4MKuI5XHfQ2CvVgvtIonyUK9MVS8jSrfGALJ8qRVoEFBqhQFfLgVE8XuRLNFd5oEYeI1WjnFtObZqjy3OM7MiN5aUHgMQ2GxGTbIhCyDtwa5CFnB3pW8ja7s/ZqPODpplLW6efh41UwvvlPum3IBxYF3ZypCBgw9DznDPQn9otmAlbsFDITGtgYKi4v4Sj1MRxW0BrjApeR0K05rCpa2j0e@t27PPeAswzwkSqThNCDzy77r@OizT/D781TrEEXRm/4M47i3ESb/7tfloszdIrjMvCVUx6@AA" rel="nofollow noreferrer">Try it online!</a></p>

<p>Explanation:</p>

<pre class="lang-scala prettyprint-override"><code>def f(s: Array[Char]) = {                // takes a String in input
  var j = 0                              // j stores at which block of 5 letters we're currently at
  s.zipWithIndex.collect {               // Array('h', 'e', ...) =&gt; Array(('h', 0) ('e', 1), ...) and we apply a collect transformation (filter/map)
    case (95, i) =&gt;                      // we only handle cases where the char is '_' (95)
      s(i) = (                           // we modify the char at index i with the following
        Integer.parseInt(                // Integer.parseInt("00110", 2) = 6
          s                              //
            .filter(_.isLetter)          // filter out non letter chars (spaces, punct, figures, ...) from the input string (thanks @Arnauld for the fix)A
            .slice(j, j+5)               // "substring" the array to the block of 5 letters in question
            .map(                        // map on the current block of 5 letters
              k =&gt;                       // the index of the next char in the block f 5 (e.g. 13)
                if (k &lt; 91) 1 else 0     // if the current char is upper case (&lt;91) then we replace it by a bit true, otherwise by a bit false
            )mkString,                   // Array(0, 1, 1, ...) =&gt; "011..."
          2                              // cast string to binary
        )                                //
        + 97                             // +97 to create a lower case char
      )toChar                            // cast from int to char
      j += 5                             // update the starting index of the next block of 5 letters
    }                                    //
  s.map(_.toLower)                       // return the updated seq of chars all in lower case
}                                        //
</code></pre>
</div>
<div id="pu16" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 100 bytes</h1>



<pre class="lang-javascript prettyprint-override"><code>s=&gt;s.toLowerCase(c=/[a-z]/gi).replace(/_/g,_=&gt;(g=n=&gt;n?(c.exec(s)&lt;{})*n+g(n&gt;&gt;1):10)(16).toString(36))
</code></pre>

<p><a href="https://tio.run/##ZVPbUtswEH3PV2xfapuCQ9oZHqBOphMMpEMShiQw5TJGtTeOqCIZSU5CGL49XQVyGfDTavecs2fX0iObMJNqXtg9qTJcDKOFieomtOpcTVE3mUE/jaq3bG9@X815EGosBEvRrybVfDeJ6n4eyaguG34a4gxT3wQ/X16DHfkt92W9XgsOa/uBXzsISLFnNZe5/@MgCBYWjU1JHCJ4aMmitHAIIxRCfal0S0vn9bGyVT7v7sJUaZF8QL1lsy0wB9aGZzXQMGT9UZKEawJVxlQpXcWOUIcbUqG7p5q12y2Zw0V5cyOwB18h7WYICX1riUKrXLPxmKaBopzPBRqHo/1BrsRwI9hkEv50S8gHaHpgz2KIOxmoE@iPuFlqNtaiKWHJFuQlGgPkDFASdkghYS3ObGMj3D9DeBq0mv/gr1ZTCSfdGfwetAsD6irWS7ZgSeJabCZ32aeSpyvSUM3gsRw70gRXpPkzZCrfWsqlYlmvAdOz@BJhip52Q3J5CtcxITueBYmYLYfZ6qWJZYhFC95m5RQTS65YS9hWMzuKIdfIbNyz0NfOq0sd41VLQHxFLi8GQsQZTH8ZaHY7k5ZMeSen1SJcK31@DKPl0ImXfHTkxltK080D@y5NZnDCBaBbQFEKQZ6mzNC/lBNO0mTYgZa3CxyaZ847zrixYeXhqLK6x@GY2XTkV1eDhDt3ctXZxdU8IEjhG4jq8FIBmDANt3wX8J6eAL03zcd@EJpCcOt7d9J7g1sHt6v0oRfc1u7fscERqZBPowSGQuX@0Oefk/gp4@157hHTIvzv@47wGhwt/gM" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>

<p>Thanks to @Arnauld, saves 2 bytes.</p>
</div>
<div id="pu17" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 26 bytes</h1>

<pre><code>xn¥Œs&lt;”[s5Ḅ‘ịØaṛi”_ḟ0Ɗ¦ƒŒl
</code></pre>

<p><a href="https://tio.run/##y0rNyan8/78i79DSo5OKbR41zI0uNn24o@VRw4yHu7sPz0h8uHN2JlA0/uGO@QbHug4tOzbp6KSc////FxT5uxcl@vp65qUrBJRGReWkBiuoKST7p6QqxAMBAA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>

<p>Different approach from Jonathan Allan's. EDIT: So, I, uh, apparently thought of the same byte reduction as Jonathan Allan, so it doesn't hurt to mention his name again.</p>
</div>
<div id="pu18" class="pu"><h1>Go, <s>219</s> <s>217</s> <s>192</s> <s>210</s> <s>209</s> 156 bytes</h1>

<p>Saved 25 bytes thanks to <a href="https://codegolf.stackexchange.com/users/3852/lynn">@Lynn!</a>
Saved 53 bytes thanks to <a href="https://codegolf.stackexchange.com/users/64121/ovs">@ovs!</a></p>

<p>Had to lose 18 bytes because of a bug with strings with no underscores :(</p>

<pre><code>func p(s string){b:=0;n:=0;for _,c:=range s{if IsLetter(c){b+=b;if IsUpper(c){b+=1};n++;s=g.Replace(s,"_",string('a'+b%32),(5-n%5)/5)}};Print(g.ToLower(s))}
</code></pre>

<p><a href="https://tio.run/##LU/LasMwEDxHX7EI2kjYNUlLLxY6F0NCQh@XlBJkWRamsSwkmQaMv91V7OxhYWdmZ3Z1N1khf4VW0IrGINS0tnMBCFppwD64xmiP0SoD3JtGdpVahroNGFGE6t7IeZNQGNCqMbYPkHPA1h3enNjvC6Ph2J9OF/UBjyAPlYJzrOhiyaymaJxmF0s8LIF0KHO@YebWXM51VphKXYlP8RlT1tTgOH/aDo5vRlZ3Ds6pzLkTJj7hvze5@xmipvA7FYJyRNLhenOasS9r7xDfjqxMeJlcmUmS8UYbzl8HE6U@Zr4rexFSLanpchhZi3VSPrw803RLWRnzR3aMRCA6@@x23V/09pSOaJr@AQ" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu19" class="pu"><h1><a href="https://www.dyalog.com/" rel="noreferrer">APL (Dyalog Unicode)</a>, 46 <a href="https://codegolf.meta.stackexchange.com/a/9429/43319" title="When can APL characters be counted as 1 byte each?">bytes</a><sup><a href="https://github.com/abrudz/SBCS" rel="noreferrer" title=".dyalog files using a single byte character set">SBCS</a></sup></h1>



<p>Anonymous lambda, Assumes <code>⎕IO</code> (Index Origin) to be <code>0</code>.</p>

<pre class="lang-apl prettyprint-override"><code>{_←'_'=⊢⋄819⌶A[2⊥⍉(+/_⍵)5⍴A∊⍨⍵∩A,819⌶A←⎕A]@_⍵}
</code></pre>

<p><a href="https://tio.run/##TY/NTttAFIX3fYrTDdOqQH9QpbKoqBsGYkTiKLaDSIVGQzyxLUaedGJwo4oVFYJQI1jwAkhIsGLT9gH6KPMi6cRm0VnM3HP0nXvn8pFciiZcqnhmLm9cz5xevZl9Z/YhjHw001tz8ePD21Xz84/z5Z2Z3pny/MWr18yUv1@@N@Uvx5xNTXlvpTl7cBafSJu2zZy9T3PueDac6/Ky7j89@fu4Yk6vrfK7DXsHTdefDUESIaV6Tp7V5ba3iEJpyWonBW9hokKNIQ8SxpYrd6S9Tc1bLTeL0Tns96XwsYCBFwkweyqmwTPseoeIQzH2kTcpaDuC2kCQpOMKW6u4oCnwNXQbB9jXqsiw4X3DVtgajaF6VCNPBCRnbJ6oh3cVj/w1FE3aFSgEIVogVmm2iR2KSLUJyZEJEVUznjJ5QhFrwXPq5wh0OjjA3FoXPVeC9oRGJ5SSRiicMRpe@8jNBmk7tt8W2FF6ex0Jq1cj7P@@n92M63rfZNIRel9Jt2@pfw" rel="noreferrer" title="APL (Dyalog Unicode) – Try It Online">Try it online!</a></p>

<p><code>{</code>…<code>⋄</code>…<code>}</code> two-statement function; <code>⍵</code> is the argument, <code>⋄</code> separates statements</p>

<p> <code>⊢</code> argument (no-op function)<br>
 <code>'_'=</code> where equal to an underscore (i.e. a Boolean mapping function)<br>
 <code>_←</code> assign that function to <code>_</code></p>

<p> <code>A[</code>…<code>]@_⍵</code> put the following characters of <code>A</code> <strong>at</strong> positions of underscores in the argument<br>
  <code>⎕A</code> the uppercase <strong>A</strong>lphabet<br>
  <code>A←</code> assign that to <code>A</code><br>
  <code>819⌶</code> lowercase it (<em>819 ≈ BIg</em>, with no left argument means not big, i.e. lowercase)<br>
  <code>A,</code> prepend the uppercase alphabet; this gives us all letters<br>
  <code>⍵∩</code> intersection of the argument and that; just the letters of the argument<br>
  <code>A∊⍨</code> which of those are members of the uppercase alphabet; uppercase bits<br>
  <code>(</code>…<code>)5⍴</code> <strong>r</strong>eshape that to the following number of rows, and five columns:<br>
   <code>_⍵</code> the mask of underscores in the argument<br>
   <code>+/</code> sum that; number of underscores<br>
  <code>⍉</code> transpose (to treat each row as a number rather than as a bit position)<br>
  <code>2⊥</code> evaluate as base-2<br>
 <code>819⌶</code> lowercase everything</p>
</div>
<div id="pu20" class="pu"><h1><a href="http://www.red-lang.org" rel="nofollow noreferrer">Red</a>, 247 bytes</h1>

<pre><code>func[s][a: charset[#"a"-#"z"#"A"-#"Z"]v: copy""parse s[any[copy c a(append v to-string c)|
skip]]k: 0 t: copy""repeat n(length? v)/ 5[c: 0 p: 16
loop 5[if v/(k: k + 1) &lt;#"a"[c: c + p]p: p / 2]append t#"a"+ c]foreach c
t[replace s"_"c]lowercase s]
</code></pre>

<p><a href="https://tio.run/##VZBta9swFIW/@1ecKbAkdF3WQfchDEJJ3SajiUveymKM0eTrFywsTVbidlt/eyaHFTx9ks59zr3nylByWlESRl46PqWHSoR1FPIxRM5NTTbsMc4ue@wX67Gb9rJn0dFVlX5hTLcI6pBXL2GrQIAPuNZUJTjCqsvamqLKIIZ/UJeFjiKvHOMT7FsDQ5q4RTWQVGU2n@A4HOE6FC2kx7j64kmltFOKFMfRwJlLXOBqiK9trJYT7q0jx2qM8Dn6N9y25QuIKFWGuMghPBu6YZILl5fFTERSNWQEb/NHJ@1iWqT4nZOU6t2r1xUegg9olJFxV9cmuDd8sZi79R4P@72kNd5DBAkhdqdDTnmF78EB2ZbqNezMh79MoO6wyYv6DE869GZG@LmdT0v8MKqpcBc849t2oWuonW9gc4Lkcdz6PnZsK8WT9QTNzF8RGuobQqaK6h5PPhK17Ls/JkrO0/7z2dxH5r7I@muLjSlEiVa6pd1cwt@RweNWSj9Bc1NjGiyP80oUy8ytQXhS5uEW@TlL3I/fmp/@Ag" rel="nofollow noreferrer" title="Red – Try It Online">Try it online!</a></p>

<h2>More readable:</h2>

<pre><code>f: func[s][
    a: charset[#"a"-#"z"#"A"-#"Z"]
    v: copy ""
    parse s[any[copy c a(append v to-string c)| skip]]
    k: 0
    t: copy ""
    repeat n (length? v) / 5[
        c: 0
        p: 16
        loop 5[
            if v/(k: k + 1) &lt; #"a" [c: c + p]
            p: p / 2
        ]
        append t #"a" + c
    ]
    foreach c t[replace s "_" c]
    lowercase s
]
</code></pre>
</div>
<div id="pu21" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language" rel="nofollow noreferrer">Retina</a>, <s>91</s> 90 bytes</h1>

<pre><code>T`l`a
T`L`A
[^Aa]

L`.{5}
A
aA
+`Aa
aAA
+T`_lA`l_`[^A]A
^
$+¶
+`_(.*)¶a+(.)
$2$1
0G`
T`L`l
</code></pre>

<p><a href="https://tio.run/##K0otycxLNPz/PyQhJyGRKyTBJ8GRKzrOMTGWi8snQa/atJbLkSvRkUs7wTERSAMZIQnxOY4JOfEJQFWxjlxxXCrah7YB5eM19LQ0D21L1NbQ0@RSMVIx5DJwTwAbmPP/f0GRv3tRoq@vZ166QkBpVFROarCCmkKyf0qqQjwQAAA" rel="nofollow noreferrer" title="Retina – Try It Online">Try it online!</a> Explanation:</p>

<pre><code>T`l`a
T`L`A
[^Aa]
</code></pre>

<p>Translate lowercase letters to <code>a</code> and uppercase letters to <code>A</code>, deleting everything else.</p>

<pre><code>L`.{5}
</code></pre>

<p>Split the <code>Aa</code>s into groups of 5.</p>

<pre><code>A
aA
+`Aa
aAA
</code></pre>

<p>Convert from binary into unary, treating <code>A</code> as 1 and <code>a</code> as 0. Since there were 5 <code>Aa</code>s originally, there are 5 <code>a</code>s left, plus a number of <code>A</code>s depending on the desired position in the alphabet.</p>

<pre><code>+T`_lA`l_`[^A]A
</code></pre>

<p>Increment the last <code>a</code> according to the number of following <code>A</code>s.</p>

<pre><code>^
$+¶
</code></pre>

<p>Prepend the original input.</p>

<pre><code>+`_(.*)¶a+(.)
$2$1
</code></pre>

<p>Replace any <code>_</code>s with the next decoded letter.</p>

<pre><code>0G`
</code></pre>

<p>Remove any spare decoded letters.</p>

<pre><code>T`L`l
</code></pre>

<p>Lowercase everything.</p>

<h1><a href="https://github.com/m-ender/retina/wiki/The-Language/a950ad7d925ec9316e3e2fb2cf5d49fd15d23e3d" rel="nofollow noreferrer">Retina 0.8.2</a>, 117 bytes</h1>

<pre><code>.+
$&amp;¶$&amp;
T`L`l`^.*
T`l`a`.*$
T`L`A
T`aAp`aA_`.*$
(.*¶)?.{5}
$&amp;;
A
aA
+`Aa
aAA
+T`_lA`l_`[^A]A
+`_(.*¶)a+(.);
$2$1
1G`
</code></pre>

<p><a href="https://tio.run/##K0otycxL/P9fT5tLRe3QNhU1rpAEn4SchDg9LSArJyExQU9LBSzmCCQTHQuAOB4spqGndWibpr1etWktUKs1lyNXoiOXdoJjIpAGMkIS4nMcE3LiE6LjHGNBEvEQDYnaGnqa1lwqRiqGXIbuCf//FxT5uxcl@vp65qUrBJRGReWkBiuoKST7p6QqxAMBAA" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Explanation:</p>

<pre><code>.+
$&amp;¶$&amp;
</code></pre>

<p>Duplicate the input.</p>

<pre><code>T`L`l`^.*
</code></pre>

<p>Lowercase the first copy.</p>

<pre><code>T`l`a`.*$
</code></pre>

<p>Translate lowercase letters to <code>a</code> in the second copy.</p>

<pre><code>T`L`A
</code></pre>

<p>Translate uppercase letters to <code>A</code>. These must be in the second copy because the first copy was already lowercased.</p>

<pre><code>T`aAp`aA_`.*$
</code></pre>

<p>Delete everything else in the second copy.</p>

<pre><code>(.*¶)?.{5}
$&amp;;
</code></pre>

<p>Split the second copy (now just <code>Aa</code>s) into groups of 5.</p>

<pre><code>A
aA
+`Aa
aAA
+T`_lA`l_`[^A]A
+`_(.*¶)a+(.);
$2$1
1G`
</code></pre>

<p>Decode the letters and insert them as before.</p>
</div>
<div id="pu22" class="pu"><h1><a href="https://clean.cs.ru.nl" rel="nofollow noreferrer">Clean</a>, <s>180</s> ... 150 bytes</h1>

<pre><code>import StdEnv
?s=['a'+sum[i\\i&lt;-:"&#16;&#8;&#4;&#2;&#1;"&amp;c&lt;-s|c&lt;'a']: ?(drop 5s)]
@['_':b][x:y]=[x: @b y]
@[a:b]z=[toLower a: @b z]
@e _=e
$s= @s(?(filter isAlpha s))
</code></pre>

<p><a href="https://tio.run/##JYxNS8NAFEVRXEhW/oRHLU6CxJ2bkCEpJmAgVCFaF0kIk8mkHZx8MDNtTfG3G6d6F@/yzoFLBSP93A3NXjDoCO9n3o2D1JDpJu4PVqBwjgi6V/su50XBfddb3FxfXV4s7qjvqm/qG1t6ENiNHEZ4VE5phTmqkFeX@Zc3ldhcCGuYzpwYesK5HtLhyCSQP3MyhkGFmbVUGEJlB3bLhTaeq5UYdwSU48yZJlJbt9AChqWFTedI72LYSkZ0nGl4k5x@whlFbJMIiDdm4fVdiLiB40rB08v6kPSUr7egnxl8DDKNYFdBZVKg/64eUDn/0FaQrZrdJJ2jqScdp@apfwE" rel="nofollow noreferrer" title="Clean – Try It Online">Try it online!</a></p>

<p>Defines the function <code>$ :: [Char] -&gt; [Char]</code> with <code>@ :: [Char] [Char] -&gt; [Char]</code> as a helper to replace underscores, and <code>? :: [Char] -&gt; [Char]</code> as a helper to generate the replacement characters.</p>
</div>
<div id="pu23" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, <s>&nbsp;28 27&nbsp;</s> 26 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>

<p>-1 thanks to Erik the Outgolfer &amp; dylnan</p>

<p><sup>Not a very Jelly-friendly challenge!</sup></p>

<pre><code>ḟŒs$Ƈ&lt;”[s5Ḅ+97Ọż@ṣ”_$FṁLŒl
</code></pre>

<p>A monadic link accepting and returning lists of characters.</p>

<p><strong><a href="https://tio.run/##y0rNyan8///hjvlHJxWrHGu3edQwN7rY9OGOFm1L84e7e47ucXi4czFQMF7F7eHORp@jk3L@//8flJ@YEmyvUO7hGpSqUJ6qXpSqkJ6fmeeuEO6qkJLvp16ikJeamqIQDwJ6AA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>

<h3>How?</h3>

<pre><code>ḟŒs$Ƈ&lt;”[s5Ḅ+97Ọż@ṣ”_$FṁLŒl - Link: list of characters    e.g. "MfUNE_?"  (shorthand for ['M','f','U','N','E','_','?'])
    Ƈ                      - filter keep each if:
   $                       -   last two links as a monad:
 Œs                        -     swap-case
ḟ                          -     filter discard
                           - ...i.e. keep A-Z,a-z since they change when the case is swapped
                           -                                  "MfUNE"
      ”[                   - literal character                '['
     &lt;                     - less than? (i.e. is upper-case?) [1,0,1,1,1]
        s5                 - split into fives                 [[1,0,1,1,1]]
          Ḅ                - from base two (vectorises)       [[23]]
           +97             - add (vectorises) ninety-seven    [[120]]
              Ọ            - from ordinals (vectorises)       [['x']]
                    $      - last two links as a monad:
                  ”_       -   literal character              '_'
                 ṣ         -   split at                       [['M','f','U','N','E'],['?']]
               ż@          - swapped @rgument zip             [[['M','f','U','N','E'],'x'],['?']]
                     F     - flatten                          "MfUNEx?"
                       L   - length (of input)                7
                      ṁ    - mould like                       "MfUNEx?"
                           - ...removes any excess characters
                        Œl - lower-case                       "mfunex?"
</code></pre>
</div>
<div id="pu24" class="pu"><h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, <s>62</s> 61 bytes</h1>

<pre><code>tolower u:@]`(I.@t=.'_'=[)`[}+/@t$97+_5#.\3|0 2 4-.~'@Z`z'&amp;I.
</code></pre>

<p><a href="https://tio.run/##TVBdT8JAEHz3V4zRcBq0Gj9iNCFg4IAa2hLaQgTNUenRVi89vB5WjfrXK2AM3bedndnZ2eeimNcMaClkzhWWN43H6YFpNHTNIIzUJofTyXf1pKH3r6@q7HLPeDj/OsUZLo6NH9IYTz9JxTQKPosl5iAxF0Lukp1S33OOkEslWAlOEFj4kL7CPPBixoztaKGcjgosy0wj9JfjseAuKpg5IQdb1ZbYDFLcO0tEPs9c6C4FtUPINrw4yTbc@pbsdTlefbP5gicl8xRt5x13vrXIIIdUQcccImBsLSvdMpBB6NaRd@mAI@eEKI5IJmkHI4pQ2oRopJyHG7eyUMcUkeKBpq6Gp5LZC9ZQiw9NATpcvbnvC0FD5LcZmo79ZqazxI5WKThGUvVaiNlfXML@lxe/" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu25" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, <s>125</s> 124 bytes</h1>



<pre class="lang-javascript prettyprint-override"><code>x=&gt;x.replace(s=/./g,c=&gt;parseInt(c,36)&gt;9?c.toLowerCase(s+=+(c&lt;{})):c=='_'?('0b'+s.slice(4,9)-~9).toString(36,s=s.slice(5)):c)
</code></pre>

<p><a href="https://tio.run/##NYxBC4IwGIb/iqe24ZyBFRhND4EhJAbevMj6HGKMTTYrIeqvmx16r8/zvDfxEA5sP4yBNq2cMz5PPJmYlYMSILHjIQs7CjwZhHUy1yMGGu1IEqfARnM2T2mPwi2iz30Mh9ebkD1wjhqUYrS@It8xp/rlaUNjEnxislTVaHvd4WhHHf/j7a8jMxjtjJJMmQ5nGA22PFlRFLnuvMu9rpWsvJUHZSu9ZhkiZP4C" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu26" class="pu"><h1><a href="https://docs.python.org/2/" rel="noreferrer">Python 2</a>, 113 bytes</h1>



<pre class="lang-python prettyprint-override"><code>s=input()
i=k=0
for c in s:
 if c.isalpha():k+=k+(c&lt;'a');i+=1;s=s.replace('_',chr(k%32+97),i%5&lt;1)
print s.lower()
</code></pre>

<p><a href="https://tio.run/##JcjLagIxFIDh/TzFQZAkjAxqKeIlC9EBBbEFb8shxGgOCZlwklZ8@qnSf/PBH5/ZtmHcdUliiD@ZiwKlk8Pi1hJowABpVgDeQFeYlI9WcTFzpXQl1wummJhjKUfzJFNFJnqlDWcNG2hL3PU/xuV0IgbY/1yMRBEJQ4ZU@fZhiIuu62Vbw52MyvUhw5FQO3ivtTlvPdRnQ/B98r6@wmOZYPW1/90Gjfs75I2BS0u7NdgGmlfsn6bq/QE" rel="noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
</div>
<div id="pu27" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="noreferrer">05AB1E</a>, 18 bytes</h1>

<h3>Code:</h3>

<pre><code>áS.u5ôJC&gt;.bv'_y.;l
</code></pre>

<p>Uses the <strong>05AB1E</strong> encoding. <a href="https://tio.run/##MzBNTDJM/f//8MJgvVLTw1u8nO30ksrU4yv1rHP@/y/JcFVIL0pNLHENLlEIKcpMzlYACbmkhnnmKLiGpRYpBITm5LimKJQ7Fis4@/uVeeYlZ/qlK5R4pCqE5xf5uChkxCvEA4E6hIrXAwA" rel="noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>

<h3>Explanation:</h3>

<pre><code>á                       # Remove non-letters from the input string.
 S                      # Split the result into individual characters.
  .u                    # Check if is uppercase for each character.
    5ôJ                 # Split into binary numbers of length 5.
       C                # Convert from binary to decimal.
        &gt;               # Add one.
         .b             # Map 1 → A, 2 → B, 3 → C, ..., 25 → Y, 26 → Z.
           v            # For each letter:
            '_y.;       #   Replace the first occurrence of '_' with the current letter.
                 l      #   Convert the string to lowercase.
</code></pre>
</div>
<div id="pu28" class="pu"><h1><a href="https://sourceforge.net/p/cjam" rel="nofollow noreferrer">CJam</a>, 43 bytes</h1>

<pre><code>q'_/_0={el_eu=!},_eu.=5/2fb65f+:c1$,(&lt;.+:el
</code></pre>

<p><a href="https://tio.run/##S85KzP3/v1A9Xj/ewLY6NSc@tdRWsVYHSOnZmuobpSWZmaZpWyUbquho2OhpW6Xm/P9fkuGqkF6UmljiGlyiEFKUmZytABJySQ3zzFFwDUstUggIzclxTVEodyxWcPb3K/PMS870S1co8UhVCM8v8nFRyIhXiAcCdQgVrwcA" rel="nofollow noreferrer" title="CJam – Try It Online">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/164647/">164647</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




