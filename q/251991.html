<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::251991</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>067</td><td>Perl 5 Mutf8 MListUtil=pairgrep p</td><td>240123T075324Z</td><td><a href="https://codegolf.stackexchange.com/questions/251991/was-it-a-king-or-a-queen-or-neither/269502#269502">Xcali</a></td></tr>
<tr d-ix="1"><td>nan</td><td>x8664 machine code</td><td>220918T152847Z</td><td><a href="https://codegolf.stackexchange.com/questions/251991/was-it-a-king-or-a-queen-or-neither/252005#252005">m90</a></td></tr>
<tr d-ix="2"><td>059</td><td>C gcc</td><td>220920T140805Z</td><td><a href="https://codegolf.stackexchange.com/questions/251991/was-it-a-king-or-a-queen-or-neither/252081#252081">jdt</a></td></tr>
<tr d-ix="3"><td>050</td><td>JavaScript Node.js</td><td>220918T084034Z</td><td><a href="https://codegolf.stackexchange.com/questions/251991/was-it-a-king-or-a-queen-or-neither/251999#251999">Arnauld</a></td></tr>
<tr d-ix="4"><td>120</td><td>Python 3</td><td>220919T002840Z</td><td><a href="https://codegolf.stackexchange.com/questions/251991/was-it-a-king-or-a-queen-or-neither/252008#252008">Pandu</a></td></tr>
<tr d-ix="5"><td>057</td><td>Python 3.8</td><td>220918T202830Z</td><td><a href="https://codegolf.stackexchange.com/questions/251991/was-it-a-king-or-a-queen-or-neither/252007#252007">Jonathan</a></td></tr>
<tr d-ix="6"><td>194</td><td>Squire</td><td>220918T080249Z</td><td><a href="https://codegolf.stackexchange.com/questions/251991/was-it-a-king-or-a-queen-or-neither/251998#251998">Sampersa</a></td></tr>
<tr d-ix="7"><td>022</td><td>Jelly</td><td>220918T142921Z</td><td><a href="https://codegolf.stackexchange.com/questions/251991/was-it-a-king-or-a-queen-or-neither/252004#252004">Jonathan</a></td></tr>
<tr d-ix="8"><td>117</td><td>Retina 0.8.2</td><td>220918T064504Z</td><td><a href="https://codegolf.stackexchange.com/questions/251991/was-it-a-king-or-a-queen-or-neither/251994#251994">Neil</a></td></tr>
<tr d-ix="9"><td>060</td><td>Python 3</td><td>220918T100926Z</td><td><a href="https://codegolf.stackexchange.com/questions/251991/was-it-a-king-or-a-queen-or-neither/252003#252003">dingledo</a></td></tr>
<tr d-ix="10"><td>131</td><td>Python 3</td><td>220918T094602Z</td><td><a href="https://codegolf.stackexchange.com/questions/251991/was-it-a-king-or-a-queen-or-neither/252002#252002">matteo_c</a></td></tr>
<tr d-ix="11"><td>067</td><td>Zsh</td><td>220918T092410Z</td><td><a href="https://codegolf.stackexchange.com/questions/251991/was-it-a-king-or-a-queen-or-neither/252000#252000">pxeger</a></td></tr>
<tr d-ix="12"><td>078</td><td>Knight v2.0alpha</td><td>220918T071151Z</td><td><a href="https://codegolf.stackexchange.com/questions/251991/was-it-a-king-or-a-queen-or-neither/251996#251996">Sampersa</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> <code>-Mutf8 -MList::Util=pairgrep -p</code>, 67 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>$_=/^165/?N:pairgrep{$a&lt;$_&amp;&amp;$_&lt;$b}unpack&quot;U*&quot;,&quot;ؑكڙڞڦڲܭݭޠߦ&quot;
</code></pre>
<p><a href="https://tio.run/##K0gtyjH9/18l3lY/ztDMVN/ez6ogMbMovSi1oFol0UYlXk1NJd5GJam2NK8gMTlbKVRLSUfpxsSbzbdm3pp3a9mtTXfW3l17b8H9ZUr//xsZGJn8yy8oyczPK/6v62uqZ2BoAKRLS9IsgJRPZnGJlVVoSWaOLcyG/7oFOQA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
<p>Outputs <code>1</code> for a Queen, <code>0</code> for a King, or <code>N</code> for none.</p>
</div>
<div id="pu1" class="pu"><h1>x86-64 machine code, <del>38</del> <del>32</del> 31 bytes</h1>
<pre><code>48 B9 64 12 33 20 9F A1 52 B8 31 C0 99 B6 06 88 EA 48 C1 C1 07 14 04 29 D7 99 79 F3 24 05 C3
</code></pre>
<p><a href="https://tio.run/##bVLbjtowEH22v2JKhdZmwyqEAFsI/YO@9KkPSJWxncRVcGguNKjsr5eOnbDb7q6U2DMnZ87cIqeZlNfrR2Nl0SoNSd0oUz7kn@l/UGH2r7HK2Mxh1NgGUuZOwTdwKo0CbZUslWZ8Q0V9AAZfR4w@ZEW5FwWkNF1TcihPUMkugNljkjzCBRZhkszwjpdJsnDADIGFR6IkiWOHoDFfeSNGK0RriUY0d@EzDF9S0pUVaIG6eFAi1c8@lcoDWNJKH7VohuyqCEDmlFRl0VeyokQoCQLxmJK63YNWBoXUTeiHraGXQKZVnrlAAd3QoeM15SPArv1QDsLYfi5VJl0uUcFkgs6J09@UuC8dbCEM4OyuTQ8Vom6c283ngXe@142omoGRYnvMRX2KVhsMT7YQhdEczft7TgnKEpN6Rv8BLhdgTj5lHefwYeslkempnvuSw8GEHHGzTcpG49hM8V3D2Ozs6N9aAuimsx7AXjFkqPn87DzX3DnoibrnpruzX4TMjdXgJzZyEq2tTWa1GoZ0xEj2CuMp8n7lptDAjq6RN4RhBxxumWAcRt@w8skRh7N5qQDY2MD@3Oia@87ckjiKTt9Jyn1g2zif3e3snfNx421l3UKe6PX6R6aFyOrr9LCM8cA/fouCuvgL" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
<p>Following the standard calling convention for Unix-like systems (from the System V AMD64 ABI), this takes the year number in EDI and returns a value in EAX: 4 for kings, 0 for queens, and 1 for the interregnum.</p>
<p>In assembly:</p>
<pre><code>f:
    mov rcx, 18&lt;&lt;8 | 50&lt;&lt;1 | 46&lt;&lt;58 | 10&lt;&lt;51 | 42&lt;&lt;44 | 12&lt;&lt;37 | 124&lt;&lt;30 | 64&lt;&lt;23 | 51&lt;&lt;16
                    # Put this constant in RCX.
    xor eax, eax    # Set EAX to 0.
    cdq             # Set EDX to 0 by sign-extending EAX.
    mov dh, 6       # Set the second-lowest byte of EDX to 6.
repeat:
    mov dl, ch      # Set the low byte of EDX to the second-lowest byte of RCX.
    rol rcx, 7      # Rotate RCX left by 7 bits.
    adc al, 4       # Add 4+CF to AL.
    sub edi, edx    # Subtract EDX from EDI.
    cdq             # Set EDX to 0 by sign-extending EAX.
    jns repeat      # Jump back to repeat if the subtraction's result is nonnegative.
    and al, 5       # Keep only the 1s bit and the 4s bit of AL.
    ret             # Return.
</code></pre>
<p>The basic way this works is to decrease the given number by 1554, 50, 46, 10, 42, 12, 124, 64, 51, 137, stopping when the result is negative, so that the loop executes a different number of times for each period of constant output.</p>
<p>The years of change were assigned to make all the period lengths even, except the last two. This allows the values to be stored in 7 bits each, so that nine can fit into a 64-bit register, while extracting 8 bits at a time (which includes the previous value's low bit) and still functioning correctly.</p>
<p>The 10th value extracted (for Elizabeth II's reign) entirely overlaps the 1st and 9th values, so we can only control its high bit, by assigning the year 1952. But because only years up to 2022 have to be handled, it is OK for this value to be higher than necessary.</p>
<p>The 1st value, which is 1554, is created by setting the second-lowest byte before the loop and then inserting the low byte within the loop (saving 2 bytes compared to pre-setting the whole thing).</p>
<p>To handle the interregnum, notice that the low bit of RCX ends up being 1 only when the given year is during the interregnum or the king period that follows it, and that is the same bit that gets copied into CF by the <code>ROL</code> instruction. An <code>ADC</code> instruction adds 4+CF to AL with each iteration, so that the 4s bit alternates between 0 and 1, while the 1s bit stays 0 initially, then becomes 1 for the interregnum and becomes 0 again for the next period, and stays 0 thereafter. At the end, an <code>AND</code> instruction picks out those two bits.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, 59 bytes</h1>

<pre class="lang-c prettyprint-override"><code>*p;f(y){for(p=L"2/\n+&#12;{@3,//";y&gt;1552;)y-=*p++;y=2704%*p&amp;3;}
</code></pre>
<p><a href="https://tio.run/##XU9NS8QwEL0Xf8QYWEmalu5mXRaJEe@K4NnuocS0W9BasvGjlP5146RRVxxImHnz3rwZnTdae5/2sqYDG@sXS3t1S0RRdvxkvF5nRUHkcLXabIRkQ67SnnM5KLFdni/S/mwtJ992Dp6rtqMsGRPA0PvKpuDMh3vYgYIRyE3bNSQDcv9qTBeSO9O6vbEEJjlLwozemjek56sI4SpAAz6YyiJ@IbYy5pcKxFKIWHHOZnq0/plljUMJnoQMJo@tGuhsc6oChf02juoQ35sgQ/7DcXZNyeKxdPM7lOGaYJIFdhaPxmz3x3RK4j8l/lPXT1Vz8Pn7Fw" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
<p>-2 bytes thanks to ceilingcat!!</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 50 bytes</h1>
<p>Returns <span class="math-container">\$0\$</span> for Queen, <span class="math-container">\$1\$</span> for King, or <span class="math-container">\$2\$</span> for neither.</p>
<p>This code includes some unprintable characters.</p>

<pre class="lang-javascript prettyprint-override"><code>y=&gt;2132%Buffer(`&#11;2/
+&#12;{@3`).find(c=&gt;(y-=c)&lt;1542)&3
</code></pre>
<p><a href="https://tio.run/##bYpNa8JAEEDv2h8xBprMkI82E0WkrpReC0LxKIIh2bUR2ZVxLSz98em2557eg/fO7Vd762S4@tK6Xo9GjUFtuG748e1ujBY8Tvlpkj98vzZHqsxge@zUBkOpOlrXizlT2ozGCQooKOsCQuSKly9R1gr4mTlqntMEQGCm4G80GIggTaFz9uYuurq4E4bKu52XwZ6Qqmvb73wrHudUgPxbOJYEE8hhn33ctbZZAdl7nH651YP/1JId9nKIR0IJjT8" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>How?</h3>
<p>The ASCII codes of the data string are:</p>
<pre class="lang-javascript prettyprint-override"><code>[ 11, 50, 47, 10, 43, 12, 123, 64, 51 ]
</code></pre>
<p>They represent the number of years to be added to get the exclusive upper bound of the next interval, starting at <span class="math-container">\$1542\$</span>.</p>
<p>Once the correct interval has been identified, we apply the following formula to its encoding number <span class="math-container">\$N\$</span> to figure out whether it was a King, a Queen or neither:</p>
<p><span class="math-container">$$(2132 \bmod N)\bmod 4$$</span></p>
<p>The last interval is not explicitly encoded. For any input greater than <span class="math-container">\$1952\$</span>, <code>find()</code> returns <code>undefined</code> which is turned into <code>NaN</code>. But because we use a bitwise AND with <span class="math-container">\$3\$</span> rather than an actual modulo <span class="math-container">\$4\$</span>, it is eventually coerced to <span class="math-container">\$0\$</span> -- the expected result for Queen Elizabeth II.</p>
<div class="s-table-container">
<table class="s-table">
<thead>
<tr>
<th style="text-align: center;">N</th>
<th style="text-align: center;">Exclusive upper bound</th>
<th style="text-align: center;">Interval</th>
<th style="text-align: center;">2132 mod N</th>
<th style="text-align: center;">and 3</th>
<th style="text-align: center;">Result</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">11</td>
<td style="text-align: center;">1553</td>
<td style="text-align: center;">927 - 1552</td>
<td style="text-align: center;">9</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">King</td>
</tr>
<tr>
<td style="text-align: center;">50</td>
<td style="text-align: center;">1603</td>
<td style="text-align: center;">1553 - 1602</td>
<td style="text-align: center;">32</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">Queen</td>
</tr>
<tr>
<td style="text-align: center;">47</td>
<td style="text-align: center;">1650</td>
<td style="text-align: center;">1603 - 1649</td>
<td style="text-align: center;">17</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">King</td>
</tr>
<tr>
<td style="text-align: center;">10</td>
<td style="text-align: center;">1660</td>
<td style="text-align: center;">1650 - 1659</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">Neither</td>
</tr>
<tr>
<td style="text-align: center;">43</td>
<td style="text-align: center;">1703</td>
<td style="text-align: center;">1660 - 1702</td>
<td style="text-align: center;">25</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">King</td>
</tr>
<tr>
<td style="text-align: center;">12</td>
<td style="text-align: center;">1715</td>
<td style="text-align: center;">1703 - 1714</td>
<td style="text-align: center;">8</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">Queen</td>
</tr>
<tr>
<td style="text-align: center;">123</td>
<td style="text-align: center;">1838</td>
<td style="text-align: center;">1715 - 1837</td>
<td style="text-align: center;">41</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">King</td>
</tr>
<tr>
<td style="text-align: center;">64</td>
<td style="text-align: center;">1902</td>
<td style="text-align: center;">1838 - 1901</td>
<td style="text-align: center;">20</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">Queen</td>
</tr>
<tr>
<td style="text-align: center;">51</td>
<td style="text-align: center;">1953</td>
<td style="text-align: center;">1902 - 1952</td>
<td style="text-align: center;">41</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">King</td>
</tr>
<tr>
<td style="text-align: center;">undefined</td>
<td style="text-align: center;">n/a</td>
<td style="text-align: center;">1953 - ...</td>
<td style="text-align: center;">NaN</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">Queen</td>
</tr>
</tbody>
</table>
</div></div>
<div id="pu4" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 120 bytes</h1>

<pre class="lang-python prettyprint-override"><code>r=lambda s,l:{*range(s,s+l)}
f=lambda y:2*(y in r(1650,10))+(y in r(1553,51)|r(1689,6)|r(1702,13)|r(1837,65)|r(1952,71))
</code></pre>
<p><a href="https://tio.run/##TY3LDoIwEEX3fEWXHZhFH5mWkvgxNYqS1EoKm0b99gpNMO7OfeTeOa/3Z9SlpFPwj/PFswXD8GqTj7crX3DpAnya8QjzoFqe2RRZ4tKQQCkAup9DpJEkvPewd2gqWaFQ6oq9tmiooiOFVgKUOU1x5SN3ygI0h9qn/uX2tXW/" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
<p>Interpreting the output: 0 = King, 1 = Queen, 2 = Neither.</p>
<p>Nothing too fancy here. Commented version of <code>f</code>:</p>
<pre class="lang-python prettyprint-override"><code>f=lambda y:(
  2

  # y in r(1650,10) = is neither king nor queen
  * (y in r(1650,10))

  # y in ... = is queen
  + (y in r(1553,51)|r(1689,6)|r(1702,13)|r(1837,65)|r(1952,71))
)
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://docs.python.org/3.8/" rel="nofollow noreferrer">Python 3.8</a>, <s> 58 </s> 57 bytes</h1>

<pre class="lang-python prettyprint-override"><code>lambda y:9%(6-sum((y:=y-v)&lt;1500for v in b'61/\n+|?4'))%2
</code></pre>
<p>(Contains an unprintable byte between <code>+</code> and <code>|</code>.)</p>
<p>An unnamed function that accepts an integer from <span class="math-container">\$[927,2022]\$</span> and:</p>
<ul>
<li>produces a <code>ZeroDivisionError</code> for years when neither a king nor queen reigned;</li>
<li>returns <span class="math-container">\$0\$</span> if a king was on the throne during the year (except Charles III (2022)); or</li>
<li>returns <span class="math-container">\$1\$</span> otherwise (when a queen was on the throne the entire year, or 2022)</li>
</ul>
<p><strong><a href="https://tio.run/##XZDNTsMwEITv5SW2h8q2SEOSQqERERfoBQmJK20PbrppLbVOtHEirNJnD06g4Wcv9o6/mdW6sGaX68ldQU2WLJu9PKw3Emw8G/HpuKwOnNs4seNa3Ic3QZDlBDUoDWs2Da@W@vLi4@GaCTGKmoKwVnlVQgKMDVrQtiBJvUU@i249iIJoIuIBuDJkvy5tkbNk3IpekGWJZJzu/DzwIBQeZGwu1X4I8zYYJcHRniCrdGpU7qagqUjjBo50Yl0OvqdYGHhDyh9VrUpHPRHl9Hds1HVpRYTauH7BnpXeMo@9VojanS@ozA6JrRa06liV9fgwgfPSP6kFKW249c6U@PfCfN9nv8X@174NzSc" rel="nofollow noreferrer" title="Python 3.8 (pre-release) – Try It Online">Try it online!</a></strong></p>
<h3>How?</h3>
<p>The byte-string <code>b'61/\n+|?4'</code> encodes the integers <code>[54,49,47,10,43,11,124,63,52]</code>. The <code>for</code> loop subtracts each from the year, <code>y</code>, cumulatively by employing the walrus operator, <code>:=</code>, and counts, with <code>sum(...)</code>, how many are less than <code>1500</code> (<span class="math-container">\$54\$</span> years before the first lone queen). To force an error for the sixth period (no monarch) and two distinct values otherwise arithmetic is employed:</p>
<div class="s-table-container">
<table class="s-table">
<thead>
<tr>
<th style="text-align: center;">years</th>
<th style="text-align: center;">sum=N</th>
<th style="text-align: center;">6-N</th>
<th style="text-align: center;">9 mod (6-N)</th>
<th style="text-align: center;">(9 mod (6-N)) mod 2</th>
<th style="text-align: center;">identifies</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">927-1553</td>
<td style="text-align: center;">9</td>
<td style="text-align: center;">-3</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">king</td>
</tr>
<tr>
<td style="text-align: center;">1554-1602</td>
<td style="text-align: center;">8</td>
<td style="text-align: center;">-2</td>
<td style="text-align: center;">-1</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">queen</td>
</tr>
<tr>
<td style="text-align: center;">1603-1649</td>
<td style="text-align: center;">7</td>
<td style="text-align: center;">-1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">king</td>
</tr>
<tr>
<td style="text-align: center;">1650-1659</td>
<td style="text-align: center;">6</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">err</td>
<td style="text-align: center;">err</td>
<td style="text-align: center;">none</td>
</tr>
<tr>
<td style="text-align: center;">1660-1702</td>
<td style="text-align: center;">5</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">king</td>
</tr>
<tr>
<td style="text-align: center;">1703-1713</td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">queen</td>
</tr>
<tr>
<td style="text-align: center;">1714-1837</td>
<td style="text-align: center;">3</td>
<td style="text-align: center;">3</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">king</td>
</tr>
<tr>
<td style="text-align: center;">1738-1900</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">queen</td>
</tr>
<tr>
<td style="text-align: center;">1901-1953</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">5</td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">king</td>
</tr>
<tr>
<td style="text-align: center;">1954-2022</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">6</td>
<td style="text-align: center;">3</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">queen</td>
</tr>
</tbody>
</table>
</div><hr />
<h2>Non-erroring alternative, 57 bytes</h2>
<pre class="lang-python prettyprint-override"><code>lambda y:2**sum((y:=y-v)&lt;1500for v in b'61/\n+|?4')%40%3
</code></pre>
<p>Returns <span class="math-container">\$2\$</span> for King, <span class="math-container">\$1\$</span> for Queen, or <span class="math-container">\$0\$</span> for neither.</p>
<p><a href="https://tio.run/##XY9Pb8IwDMXv7EuYA3LCsi5NYX@qVbvtMmnSzsChQAqRIK3ctFLE@Oxd2g00zRfLz79nPVfe7UubPFXUFdmyO@TH9TYHn6rptG6OjPk083ctf4nnUhYlQQvGwhof4vulvb35ep0hn8zkJOkq0q0pmxoyQBz1qO9Ryu1Os2f1KEBJlfB0BKEoUAXzfBjyutbkghZwJkUsFBdQ4FtuDuNAnfyZA2nXkNVbONEZB9emIdLWhUML/NDG7TWhwM9Gaxv6u7E7XC1oNbCmuOLjDC5Jf6L0VZGxjnlxofi/DUZRhH/F66u/hu4b" rel="nofollow noreferrer" title="Python 3.8 (pre-release) – Try It Online">Try it online!</a></p>
<h3>How?</h3>
<p>Same sum as before with different arithmetic:</p>
<div class="s-table-container">
<table class="s-table">
<thead>
<tr>
<th style="text-align: center;">years</th>
<th style="text-align: center;">sum=N</th>
<th style="text-align: center;">2**N</th>
<th style="text-align: center;">(2**N) mod 40</th>
<th style="text-align: center;">((2**N) mod 40) mod 3</th>
<th style="text-align: center;">identifies</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">927-1553</td>
<td style="text-align: center;">9</td>
<td style="text-align: center;">512</td>
<td style="text-align: center;">32</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">king</td>
</tr>
<tr>
<td style="text-align: center;">1554-1602</td>
<td style="text-align: center;">8</td>
<td style="text-align: center;">256</td>
<td style="text-align: center;">16</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">queen</td>
</tr>
<tr>
<td style="text-align: center;">1603-1649</td>
<td style="text-align: center;">7</td>
<td style="text-align: center;">128</td>
<td style="text-align: center;">8</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">king</td>
</tr>
<tr>
<td style="text-align: center;">1650-1659</td>
<td style="text-align: center;">6</td>
<td style="text-align: center;">64</td>
<td style="text-align: center;">24</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">none</td>
</tr>
<tr>
<td style="text-align: center;">1660-1702</td>
<td style="text-align: center;">5</td>
<td style="text-align: center;">32</td>
<td style="text-align: center;">32</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">king</td>
</tr>
<tr>
<td style="text-align: center;">1703-1713</td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">16</td>
<td style="text-align: center;">16</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">queen</td>
</tr>
<tr>
<td style="text-align: center;">1714-1837</td>
<td style="text-align: center;">3</td>
<td style="text-align: center;">8</td>
<td style="text-align: center;">8</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">king</td>
</tr>
<tr>
<td style="text-align: center;">1738-1900</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">queen</td>
</tr>
<tr>
<td style="text-align: center;">1901-1953</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">king</td>
</tr>
<tr>
<td style="text-align: center;">1954-2022</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">queen</td>
</tr>
</tbody>
</table>
</div></div>
<div id="pu6" class="pu"><h1><a href="https://github.com/sampersand/squire" rel="noreferrer">Squire</a>, 194 characters</h1>
<pre class="lang-php prettyprint-override"><code>d=tally(inquire())i=\(d,s,e)=&gt;s&lt;=d&amp;&amp;d&lt;=e;o=𝔎𝔦𝔫𝔤;if i(d,MDCL,MDCLIX){o=𝔏𝔬𝔯𝔡 𝔓𝔯𝔬𝔱𝔢𝔠𝔱𝔬𝔯}alas if i(d,MCMLII,MMXXII)||i(d,MDCCCXXXVII,MCMI)||i(d,MDCCII,MDCCXIV)||i(d,MDLIII,MDCIII){o=𝔔𝔲𝔢𝔢𝔫}proclaim(o)
</code></pre>
<p>This contest doth be marvelously suited for ye medieval-inspired parlance, <a href="https://github.com/sampersand/squire" rel="noreferrer">Squire</a>. Whilst Squire doth hath a veritable cornucopia of features, lamentably suitability for golfing doth be nary amongst them.</p>
<p>Squire only has roman numeral literals, as well as some fairly length constructs (e.g. <code>inquire</code>, <code>tally</code>, <code>proclaim</code>), so it's not as short as other languages. On the plus side, squire has bare words—however only when the strings are comprised entirely exclusively of the unicode fraktur characters or whitespace.</p>
<p>Unfortunately, <a href="https://github.com/sampersand/squire" rel="noreferrer">the interpreter</a> is not able to fit onto TIO or anything else, so if you want to test it you'll need to build locally...</p>
<p>Ungolfed, the program is:</p>
<pre><code>N.B. Journeys are functions, and you get a reward for returning from them.
journey in(date, start, end) {
    reward start &lt;= date &amp;&amp; date &lt;= end
}

N.B. `tally` converts to a number, `inquire` reads from stdin. 
N.B. In addition to roman numerals, `tally` also reads arabic ones too.
date = tally(inquire())

N.B. Using the fraktur literals, set the default value for `whom`.
N.B. This is sugar for &quot;King&quot;.
whom = 𝔎𝔦𝔫𝔤; N.B. The `;` is needed here because the parser is bad lol

N.B. Check to see if the date is within Cromwell's time.
if in(date, MDCL, MDCLIX) { 
    whom = 𝔏𝔬𝔯𝔡 𝔓𝔯𝔬𝔱𝔢𝔠𝔱𝔬𝔯
} alas if
    in(date, MCMLII, MMXXII)
    || in(date, MDCCCXXXVII, MCMI)
    || in(date, MDCCII, MDCCXIV)
    || in(date, MDLIII, MDCIII)
{
    whom = 𝔔𝔲𝔢𝔢𝔫
}

N.B. The printing press wasn't around way back when. So instead we have
N.B. the town crier proclaim our outputs.
proclaim(&quot;The {whom} reigned during the year {date}&quot;)
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="noreferrer">Jelly</a>, <s> 25 23 </s> 22 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="noreferrer">bytes</a></h1>
<pre><code>⁽£4;“1/½+¿|?4‘Ä&lt;⁸SḂ⁻¡3
</code></pre>
<p>A monadic Link that accepts an integer in <span class="math-container">\$[927,2022]\$</span> and yields:</p>
<ul>
<li><span class="math-container">\$0\$</span> if there was a king on the throne at any point during the year (except for Charles III (2022));</li>
<li><span class="math-container">\$3\$</span> if neither a king nor queen reigned; or</li>
<li><span class="math-container">\$1\$</span> otherwise (if a queen and only a queen reigned all year or Charles III succeeded (2022)).</li>
</ul>
<p><strong><a href="https://tio.run/##ATUAyv9qZWxsef//4oG9wqM0O@KAnDEvwr0rwr98PzTigJjDhDzigbhT4biC4oG7wqEz////MTY1MA" rel="noreferrer" title="Jelly – Try It Online">Try it online!</a></strong> Or see <a href="https://tio.run/##AUYAuf9qZWxsef//4oG9wqM0O@KAnDEvwr0rwr98PzTigJjDhDzigbhT4biC4oG7wqEz/yzDhylH//9yYW5nZSg5MjcsIDIwMjMp" rel="noreferrer" title="Jelly – Try It Online">all years</a>.</p>
<h3>How?</h3>
<pre><code>⁽£4;“1/½+¿|?4‘Ä&lt;⁸SḂ⁻¡3 - Link: integer, Y
⁽£4                    - 1553
    “1/½+¿|?4E‘        - code-page indices = [49,47,10,43,11,124,63,52]
   ;                   - concatenate -&gt; [1553,49,47,10,43,11,124,63,52]
              Ä        - accumulate -&gt; [1553,1602,1649,1659,1702,1713,1837,1900,1952]
               &lt;⁸      - less than Y? (vectorises)
                 S     - sum -&gt; S
                    ¡  - repeat...
                   ⁻ 3 - ...number of times: not equal to three
                                             (leave as 3 when no monarch)
                  Ḃ    - ...action: mod 2
                                    -&gt; 0 if a king during the year except 2022; or
                                       1 otherwise
</code></pre>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language/a950ad7d925ec9316e3e2fb2cf5d49fd15d23e3d" rel="nofollow noreferrer">Retina 0.8.2</a>, <s>118</s> 117 bytes</h1>
<pre><code>165.
LP
155[4-9]|15[6-9].|160[0-2]|170[3-9]|171[0-3]|183[89]|18[4-9].|1900|195[3-9]|19[4-9].|20[01].|202[01]
Q
...+
K
</code></pre>
<p><a href="https://tio.run/##Lcw5DsJADAXQ3ldBseyZeJYzkAJqK0UKChoKRJm7D/6jNM/W9/J9/d6fYwwtxrQ9SM18Xfp@qnmJyqcWcVlSJFU8z1HVSHI0LXtD0OZN7HaRwK69fsUpPuisCQ09iZlvdB@jWyUVoCCBDFZgoIAKGoiLPw" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Link includes some test cases. Outputs <code>K</code> if there was ever a King in that year, otherwise <code>Q</code> if there was ever a Queen in that year, otherwise <code>LP</code>, as the Cromwells used the title &quot;Lord Protector&quot; for some of that period. Edit: Saved 1 byte thanks to @pxeger.</p>
</div>
<div id="pu9" class="pu"><h1><a href="https://docs.python.org/3/" rel="noreferrer">Python 3</a>, 60 bytes</h1>
<p>A function that returns <code>0</code> for <strong>King</strong>, <code>1</code> for <strong>Queen</strong>, and <code>2</code> for <strong>Neither</strong>.</p>

<pre class="lang-python prettyprint-override"><code>lambda n:sum(c&gt;n-ord('ؑٱڦޟܭ'[c%5])&gt;0for c in b'2&#11;&#11;&#12;@I')
</code></pre>
<p><a href="https://tio.run/##RY5BTsMwFET3KYf4G2RbtZHt1GldKRVbzhAi5KYEIjVOlKRSOQYnYMeOBbcBhLhK8I/UdmON/sybcfsyPDc@Hsv0fty7ertz4Nf9oabFxoum21Hy9fr9@fP@9/b7QbLi2uRsI8umgwIqD1uiZ7Or2zvCRgcpZFkO6D2g1zn/9Ei11DHLozMhueJ6HU2xHg@Vbw8DZTd9u68GSjgQFmzYc@hCY@1aWvmBQ38KCMJY8JE/Xmam@BzUxILLjjnMUyh4NC37S9DqJYfpUyFZlVBSz8A3AyZc5nPk2y5MhvsYwkIZE3NQiYyFShYWZSKFWkod5FIthFrFoVJZqYSyRk/tWuATISsQRWplg7QLpKQWiAYZWIEoFpgTlZgwkBj7Dw" rel="noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
</div>
<div id="pu10" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 131 bytes</h1>

<pre class="lang-python prettyprint-override"><code>a=[1553,1603,1689,1694,1702,1714,1837,1901,1952,2022]
f=lambda x:&quot;AKQ&quot;[any(i for i in range(5)if a[2*i]&lt;x&lt;a[2*i+1])*2or x//10!=165]
</code></pre>
<p><a href="https://tio.run/##HYuxDoIwFEV3vuLJ1GIT@ooFSmBwdnJuOtRotYkWQhzK19ficnJucs@yfV9zaFKyk0YpG4Yt39GrDHVi2HGRgdn6pmOoOGZIwQQXwhRuetvP7W4hDuX5ci21DRvx4OYVPPgAqw3PB5HUO7BaVN6McfzLEQ2tRL7FukZ@mLCVJu1Z3DOdJzJAhZyB4MjNUMCy@vAljkRK0w8" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
</div>
<div id="pu11" class="pu"><h1><a href="https://www.zsh.org/" rel="nofollow noreferrer">Zsh</a>, 67 bytes</h1>
<pre class="lang-bash prettyprint-override"><code>&gt;$1&lt;165?&amp;&amp;bye 2
&lt; (1(&lt;553-603&gt;|6&lt;89-94&gt;|7&lt;2-14&gt;|&lt;837-901&gt;)|&lt;1952-&gt;)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m724qjhjwe5i20BvP660_CIFQwWNaksjcz09IwMjo1rNao2lpSVpuhY3ne1UDG0MzUzt1dSSKlMVjLhsFDQMNWxMTY11zQyM7WrMbCwsdS1N7GrMbYx0DYG0jYWxua6lgaGdZo2NoaWpka6dJtQoXU01O_2U1DL9vNKcHGsbGxsVQz09vRgFleJoe23DWOuiXAWt2prSvMxCBd00Q4imRdGxCyAsAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Outputs via exit code: 0 for queen, 1 for king, and 2 for neither.</p>
<p>Explanation:</p>
<ul>
<li><code>&gt;$1</code>: create a file named according to the input</li>
<li><code>&lt;165?</code>: search for a file beginning with <code>165</code> (as there was no monarch during that decade)
<ul>
<li><code>&amp;&amp;bye 2</code>: if one exists, exit early with exit code 2</li>
</ul>
</li>
<li><code>&lt;</code>: otherwise, search for a file matching the long pattern of periods when there was a queen
<ul>
<li><code>&lt;x-y&gt;</code> is a Zsh pattern searching for a number in the range <span class="math-container">\$ [x, y] \$</span></li>
</ul>
</li>
<li>Zsh will then exit with 1 if no file matches that pattern, and 0 otherwise</li>
</ul>
</div>
<div id="pu12" class="pu"><h1><a href="https://github.com/knight-lang/knight-lang" rel="noreferrer">Knight</a> (v2.0-alpha), 78 bytes</h1>
<pre><code>O I|&gt;927=xP?GxF3'165'0I|&amp;&lt;1553x&lt;1603x|&amp;&lt;1702x&lt;1714x|&amp;&lt;1837x&lt;1901x&amp;&lt;1952x&lt;2022x
</code></pre>
<p><a href="https://knight-lang.netlify.app/v2#WyJPIEl8PjkyNz14UD9HeEYzJzE2NScwSXwmPDE1NTN4PDE2MDN4fCY8MTcwMng8MTcxNHh8JjwxODM3eDwxOTAxeCY8MTk1Mng8MjAyMngiLCIzIl0=" rel="noreferrer">Try it online!</a></p>
<p>Nothing special, just check for ranges with <code>&lt;</code> and <code>&gt;</code>. Since we have to output just three distinct things, <code>0</code> is for when it's neither, <code>true</code> for a queen and <code>false</code> for a king. Slightly unminified:</p>
<pre><code>O I|&gt;927=xP?GxF3'165'0
  I|&amp;&lt;1553x&lt;1603x
   |&amp;&lt;1702x&lt;1714x
   |&amp;&lt;1837x&lt;1901x
    &amp;&lt;1952x&lt;2022x
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/251991/">251991</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




