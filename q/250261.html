<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::250261</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>nan</td><td>PARI/GP</td><td>230413T051634Z</td><td><a href="https://codegolf.stackexchange.com/questions/250261/exponential-transform-of-an-integer-sequence/260032#260032">138 Aspe</a></td></tr>
<tr d-ix="1"><td>036</td><td>Charcoal</td><td>220724T234334Z</td><td><a href="https://codegolf.stackexchange.com/questions/250261/exponential-transform-of-an-integer-sequence/250279#250279">Neil</a></td></tr>
<tr d-ix="2"><td>024</td><td>Wolfram Language Mathematica</td><td>220724T192655Z</td><td><a href="https://codegolf.stackexchange.com/questions/250261/exponential-transform-of-an-integer-sequence/250273#250273">naffetS</a></td></tr>
<tr d-ix="3"><td>016</td><td>Vyxal R</td><td>220725T010353Z</td><td><a href="https://codegolf.stackexchange.com/questions/250261/exponential-transform-of-an-integer-sequence/250280#250280">naffetS</a></td></tr>
<tr d-ix="4"><td>059</td><td>Haskell</td><td>220724T210800Z</td><td><a href="https://codegolf.stackexchange.com/questions/250261/exponential-transform-of-an-integer-sequence/250276#250276">Anders K</a></td></tr>
<tr d-ix="5"><td>085</td><td>Python</td><td>220724T194313Z</td><td><a href="https://codegolf.stackexchange.com/questions/250261/exponential-transform-of-an-integer-sequence/250274#250274">naffetS</a></td></tr>
<tr d-ix="6"><td>016</td><td>05AB1E</td><td>220724T084304Z</td><td><a href="https://codegolf.stackexchange.com/questions/250261/exponential-transform-of-an-integer-sequence/250262#250262">Command </a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="http://pari.math.u-bordeaux.fr/" rel="nofollow noreferrer">PARI/GP</a>, <del>103</del> 92 bytes</h1>
<p>saved 11 bytes thanks to the comment of @alephalpha</p>
<p>Golfed vesrion, <a href="https://tio.run/##dZDdboMwDIXv9xRWdxM6R8KBAF2Vt9gd4iJUtApaWwRsr8@csR8QqRQriXU@H9ud7Z28dNN0FjYytflsTuO9F88WHcbRsS6pMnQ8c8oZhZyuS1eZ4eMqWkPoJGHtbvers@/CSYWtpGhvy/aFqj0rZVtFXGTqencbxe6tGUY42aEBeoUdwlmUMcL/8eKnjVYttPQtlPP1@wljyRpTCAlCiqARMoQ8DKULyLvwSCCZkwxKJiWj8gGr14Z/nowV/OWX4lziW9DhCtmiwgzmDNIMk38fwmC@sf45YXmxWQ1bEYdWYeCwBnw3DGW@TV2EEYrXDI@tlHdJ/Thx@oCiNaW9A4dvLknnvU1f" rel="nofollow noreferrer">try it online!</a></p>
<pre><code>f(a)=b=vector(#a,i,0);b[1]=1;for(i=2,#a,b[i]=sum(j=1,i-1,binomial(i-2,j-1)*a[j+1]*b[i-j]));b
</code></pre>
<p>Ungolfde version, modified from the provided Python example code</p>
<pre><code>exponential_transform(a) = {
    b = vector(#a, i, 0); \\ Initialize b as a zero vector of the same length as a
    b[1] = 1; \\ Set the first element of b to 1

    for(i=2, #a,
        b[i] = sum(j=1, i-1, binomial(i-2, j-1) * a[j+1] * b[i-j])
    );
    return(b);
}
print(&quot;Test case 1: &quot;, exponential_transform([0, 0, 0, 0, 0]));
print(&quot;Test case 2: &quot;, exponential_transform([0, 1, 0, -1, 0, 1, 0, -1]));
print(&quot;Test case 3: &quot;, exponential_transform([0, 1, 2, 3, 4, 5, 6, 7]));
print(&quot;Test case 4: &quot;, exponential_transform([0, -1, -2, -3, -4, -5, -6, -7]));
print(&quot;Test case 5: &quot;, exponential_transform([0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55]));
print(&quot;Test case 6: &quot;, exponential_transform([0, 3, 5, 7, 11, 13, 17, 19]));
print(&quot;Test case 7: &quot;, exponential_transform([0, 1, 1, 1, 1, 1]));
print(&quot;Test case 8: &quot;, exponential_transform([0, 1, 2, 5, 15, 52]));
print(&quot;Test case 9: &quot;, exponential_transform([0, 1, 3, 12, 60, 358]));
print(&quot;Test case 10: &quot;, exponential_transform([0, 1, 4, 22, 154, 1304]));
print(&quot;Test case 11: &quot;, exponential_transform([0, 1, 5, 35, 315, 3455]));
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 36 bytes</h1>
<pre><code>ＦＬθ⊞υ∨¬ιΣＥυ××κ§θ⁻ιλ∨¬λ÷Π…⁻ιλιΠ…·¹λＩυ
</code></pre>
<p><a href="https://tio.run/##TYzLCsIwEEX3fsUsJxDBrl2Jbgo@irorXYQ0toNpYvMo/n1sLUovw3Dnca5shZNW6JQe1gEelWlCiz1jUETfYuRwcXi2AYlxuMUOT@I1be/UKY9zf3LYhdzU6o09hxOZ6JE4aMbYH9ejzU040EC1wsLZOsqAV2EahQuCA03Q754bqaOnQc2P2Rz61XZVODIB98IHjOOcUlluOGTLqqq0HvQH" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation: A translation of the recurrence formula given in the question, except the subscript of <code>b</code> is used as the loop index, and the combination has to be written out as a ratio of products of ranges.</p>
<p>33 bytes using the newer version of Charcoal on ATO:</p>
<pre><code>ＦＬθ⊞υ∨¬ιΣＥυ××κ§θ⁻ιλ÷Π…⁻ιλιΠ…·¹λＩυ
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=TY89CsJAEIV7TzGkmoUNaCdYiTYBf4LahRTrZmMG40b3J3gXGwtFD-BlvI2GKGR4DLw33wzM5SkLYWQlyuv17l0eDt-vvDKAM6V3rsATYxB7W6DnsDS4qBwS47D2B5yLY5Nu6KAstn3PYewinakznjjMSXuLxKFk7LsTaTelmjKFsakyLx2uhN4p7GAcqCH_80jL0luqVQsO2ktNjXqxIe1wIqxD__U3u5X298EjCcK6DNJXkvQ5DLpK0xb5AA" rel="nofollow noreferrer" title="Charcoal – Attempt This Online">Attempt This Online!</a> Link is to verbose version of code.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, <s>37</s> 24 bytes</h1>
<pre><code>BellY[#,,#2]~Sum~{,0,#}&amp;
</code></pre>
<p><a href="https://tio.run/##LU9dasJAEH7PKRYDkugnZnezKoIllD4WWupTCXmYyiYGki2YLW0J8RC9QU/YI6TrKgPDfD/zMdOSPeqWbH2g8aks8/23sfS13U4O7@2kYNGMPdQdvTWaOR/7pJOpTcVmcRCUu/FeN81rHgKhKM77j/bcI0E4TEerO9uxHev7BL4G9BwCEikUVlh7nGBxadfBM1ePwgZcQnBIZ1c3xdctR4ErKOGRBBdYJZBq43EKIZycuogk9YxyGqTbkKlLG4KI/n5@n0@1sTkt7qIyD90dVEyX2QuZSmcRnz9qU9ljRnFcxGyZMf/Q@A8" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
<p>Based on the Mathematica code given by <a href="https://oeis.org/wiki/User:Vladimir_Reshetnikov" rel="nofollow noreferrer">Vladimir Reshetnikov</a> on OEIS <a href="https://oeis.org/A256180" rel="nofollow noreferrer">A256180</a>. Takes the 0-indexed item to output and the list.</p>
<p><em>-13 bytes thanks to alephalpha</em></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a> <code>R</code>, 16 bytes</h1>
<pre><code>ṗṗ'fs¹ɾ⁼;vvLİvΠ∑
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/#WyJSIiwiIiwi4bmX4bmXJ2ZzwrnJvuKBvDt2dkzEsHbOoOKIkSIsIiIsIjNcblswLCAxLCA1LCAzNSwgMzE1LCAzNDU1XSJd" rel="nofollow noreferrer">Try it Online!</a></p>
<p>Port of Command Master's 05AB1E answer, upvote that!</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 59 bytes</h1>

<pre class="lang-hs prettyprint-override"><code>f@(a:b)&amp;g@(c:d)=a*c:zipWith(+)(b&amp;g)(f&amp;d)
_&amp;_=[]
e b=1:e b&amp;b
</code></pre>
<p><a href="https://tio.run/##bY7NCsJADITvfYo9Lbs6C92ftFoo@BYeRKS1rRZ/UU@@fE31pCuBIeTLTLKv7of2eByGbqGqotZyt1DbotFlNdkWz/667B97NdWqljutOtnoZCM35WqdtKIubcEq6@FU9WdRiuaSCHG99eeHUK1YpXjXWn9NLc/MKJ8mog4eAYQM@Q9jl3EwHibAEEwGk0f2TwBhBuvhLDxn0c/WyHNYO65YbuZ/Ut715zmCJZCLCCc5ZCk8zSIW4BzbAt9LQ0SJPfCc6sP46fAC" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
<p><code>e</code> accepts the sequence as a list of integers without the leading 0.</p>
<p>If <span class="math-container">\$f(x)\$</span> is the e.g.f. of <span class="math-container">\$a_n\$</span>, then <span class="math-container">\$f(0) = a_0\$</span> and <span class="math-container">\$f'(x)\$</span> is the e.g.f. of <span class="math-container">\$a_{n + 1}\$</span>.  So this program is a direct encoding of the product rule <span class="math-container">\$[f(x)g(x)]' = f'(x)g(x) + f(x)g'(x)\$</span> and the chain rule <span class="math-container">\$[e^{f(x)}]' = e^{f(x)}f'(x)\$</span>.</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 85 bytes</h1>
<pre>import math
f=lambda n,l:sum(math.comb(n-1,i)*l[i]*f(n-i-1,l)for i in range(n))+(n&lt;1)</pre>
<p><a href="https://ato.pxeger.com/run?1=XZBBboMwEEX3nGKUlZ18KmzjBEWlt-gKsSAtbiyBQeAsepZusmnv1Jt0WWPophrJ8vsz_vb3x9f47q-Du98_b96kxfez7cdh8tQ3_pqYsmv6y2tDDt15vvVsUR9ehv7CXCpg-b6rbL03gWzgjpthIkvW0dS4t5Y5zg_MPQq-mf_4dvYzlVRVGWLVqAQkFHJoHHGKnCFdlnUTlXVGo4BQkAIqjOutE2vz0RAaWkZSEBLHDEoXkXNIGdp5sMjyqOjQgwonVB7d1jtOEMFQ1XWSLHH8Eie--5wQjZN1nnnQrnzagaqFDLMgzzn9S9-1jnl-ELze8v998i8" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Doesn't take the leading zero in the input. If that's not allowed, I will change.
Based on the Maple code given by <a href="https://oeis.org/wiki/User:Alois_P._Heinz" rel="nofollow noreferrer">Alois P. Heinz</a> in <a href="https://oeis.org/A007446" rel="nofollow noreferrer">A007446</a> and <a href="https://oeis.org/A353079" rel="nofollow noreferrer">A353079</a>.</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="noreferrer">05AB1E</a>, <s>21</s> <s>20</s> <s>18</s> 16 bytes</h1>
<pre><code>L©ææʒ˜{®Q}€€gèPO
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f/f59DKw8sOLzs16fSc6kPrAmsfNa0BovTDKwL8//835oo20FEw1lEw1VEw11EwNARiIM8QxLaMBQA" rel="noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>
<p>Returns the <span class="math-container">\$ i \$</span>-th term, zero indexed. It runs in complexity <span class="math-container">\$ \Omega(2^{2^i}) \$</span>, so it can only work in a reasonable time for <span class="math-container">\$ i \leq 4 \$</span>.</p>
<h1>Explanation</h1>
<p>We will define <span class="math-container">\$ c_n = \frac{a_n x^n}{n!} \$</span>.</p>
<p>In the expression
<span class="math-container">$$ \left(\sum_{m=1}^{\infty} \frac{a_m}{m!} x^m\right)^n = \left(\sum_{m=1}^{\infty} c_m\right)^n $$</span></p>
<p>we know from the multinomial theorem that the coefficient of
<span class="math-container">\$ \prod {c_m ^ {k_m}} \$</span>
is
<span class="math-container">$$ \frac{n!}{\prod{k_m !}} $$</span>
The <span class="math-container">\$ n! \$</span> cancels with the <span class="math-container">\$ \frac{1}{n!} \$</span> in <span class="math-container">\$ \sum_{n=0}^{\infty} \frac{1}{n!} \left(\sum_{m=1}^{\infty} \frac{a_m}{m!} x^m\right)^n \$</span>, so we get
<span class="math-container">$$ \exp(f(x)) = \sum \frac{\prod{c_m ^ {k_m}}}{\prod{k_m!}} $$</span>
If the exponent of <span class="math-container">\$ x \$</span> in the equation is <span class="math-container">\$ j \$</span>, we get that <span class="math-container">\$ \sum k_m m = j \$</span>. If we create a sequence <span class="math-container">\$ d_m \$</span> by repeating <span class="math-container">\$ m \$</span> <span class="math-container">\$ k_m \$</span> times, we get that <span class="math-container">\$ d_m \$</span> is a partition of <span class="math-container">\$ j \$</span>.</p>
<p>Now that we have a mathematical expression for how much time each partition of <span class="math-container">\$ i \$</span> occurs, we can think of a combinatorical one.</p>
<p>By playing with equations, we can find out that the coefficient of <span class="math-container">\$ \prod {a_{d_i}} \$</span> is the number of unique ways to divide a set with <span class="math-container">\$ j \$</span> elements to sets of sizes <span class="math-container">\$ d_i \$</span>. Therefore, we can generate a set of size <span class="math-container">\$ j \$</span>, list all of its separations to other sets, take the size of each set in those separations, index that size to <span class="math-container">\$ a \$</span>, take the product of each, and take the total sum.</p>
<pre><code>L       push the list 1...input index
©       save it in register ® (without popping)
æ       take its powerset
æ       take the powerset's powerset
ʒ       and only keep sets such that
 ˜       if you flatten them
 {       and sort the result
 ®       and then push the original list
 Q       they compare equal
}
€        for each of those sets
 €       map each of its sets
  g      to its size
è        index that size into the input list
P        take the product of each list
O        and take the sum
</code></pre>
<p>If the index is 0, <code>L</code> returns <code>[1, 0]</code>, and no array sorted can be equal to it, so the filter returns an empty list. The map and index then do nothing, then <code>P</code> multiplies it to get <code>1</code>, which <code>O</code> preserves.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/250261/">250261</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




