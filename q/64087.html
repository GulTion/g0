<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::64087</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>383</td><td>C++</td><td>170628T010853Z</td><td><a href="https://codegolf.stackexchange.com/questions/64087/layout-text-in-columns/128758#128758">Jerry Je</a></td></tr>
<tr d-ix="1"><td>335</td><td>Python 3</td><td>220321T174217Z</td><td><a href="https://codegolf.stackexchange.com/questions/64087/layout-text-in-columns/245400#245400">des54321</a></td></tr>
<tr d-ix="2"><td>338</td><td>Python 2</td><td>151120T205035Z</td><td><a href="https://codegolf.stackexchange.com/questions/64087/layout-text-in-columns/64415#64415">TFeld</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>C++ 383</h1>
<p><strong>Thanks to @ceilingcat for some very nice pieces of golfing - now even shorter</strong></p>
<pre><code>#import&lt;bits/stdc++.h&gt;
#define b t.push_back
using namespace std;main(int n,char**a){int i=0,p,c=atoi(a[1]),w=atoi(a[2]);vector&lt;string&gt;t;for(string l;getline(cin,l);)for(;p=l.find_last_of(&quot; \n&quot;,w),l=~p&amp;&amp;p&gt;w-4?b(l.substr(0,p)),&amp;l[p+1]:w/l.size()?b(l),&quot;&quot;:(b(l.substr(0,w-1)+&quot;-&quot;),&amp;l[w-1]),l[0];);for(p=~-t.size()/c+1;i&lt;p;i+=puts(&quot;&quot;))for(n=0;n&lt;c;b(&quot;&quot;))cout&lt;&lt;left&lt;&lt;setw(w+4)&lt;&lt;t[i+n++*p];}
</code></pre>
<p><a href="https://tio.run/##ZZHBjtsgFEX3@YonjxRBsJ24ndVgZxbzC92lUYQxtlExIHgeq606v@7izFRV1Q3S5R3uveJJ74tBynV90JN3AetWYzxG7CRj5XjePXSq11ZBC1j6OY63VshvuzlqO4AVk4peSAWJ55PQlmiLYHM5inA4CPpzk7o55T6XjUCnibhUV5ovf8SnK@WvSqILdcSQPM/IexfIuwDDB4UmxROpbW4op9uQ@8aUqVR3MyLizfUkg682yxeam@bN7/f@vBSPzy0xZZzbZEVSAUrzvbl4Vl2flmMa6B@K0I2heZY9kX/gpagoy4rs/iSJ1NhcTldO791881bgh8FRsorr2nPNGj9jJFlG7x1tc@K2lry930g3Y10b1aczKlzIwh5pXeNFM8vYwV/5r3X9Miqw89SqAK4H6cw82QiLNgZaBQK8ixr1q4L0qWpQoQR4@YDi6GbTbVhUXgSBKonv6c0kwqDt5te7OcD7srbtCIkqxHK321LlfzatMMJK1aWMv0Dq0uEIOsIQVMoIgKOwgIsr189rdfoN" rel="nofollow noreferrer" title="C++ (gcc) â€“ Try It Online">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1>Python 3, <s>336</s> <s>339</s> 335 bytes</h1>
<p><a href="https://codegolf.stackexchange.com/users/24812/jerry-jeremiah">@Jerry Jeremiah</a>'s recent activity on this question inspired me to try it myself, and see if Python 3 couldn't manage to beat the old Python 2 answer, and, after some painful golfing, I managed to get this slightly shorter:</p>
<pre class="lang-python prettyprint-override"><code>def F(c,w,s):
 r,R,i,e=[&quot;&quot;],[],0,&quot; &quot;
 for j in s.split(e):
  while 1:
   if(a:=len(r[i]))+len(j)&lt;=w:r[i]+=j.replace(&quot;\n&quot;,e*(w-a))+e;break
   elif a+min(3,w)&gt;w:r[i]+=e*(w-a+1)
   else:r[i]+=j[:w-a-1]+&quot;- &quot;;j=j[w-a-1:]
   i+=1;r+=[&quot;&quot;]
 h=-(-len(r)//c);r+=[e]*c;exec(c*&quot;R.append(r[:h]);del r[:h];&quot;);return&quot;\n&quot;.join(map(&quot;   &quot;.join,zip(*R)))
</code></pre>
<p><a href="https://tio.run/##bZFNj9owEIbv/IqpD61NTHYDy3YLpdKq0kq9rnqDHEwyENNgW7ZpSv88O04W9VCUKPHHM@@8M@POsbFm9uT85VLjDl54JTsZxGIEXr5KLXG1ZqyU61LeSwZsBDvr4QDaQMiDa3XkmGDoGt0iFGkJesfVYtWi4X6tSyGytDyIr6tukQ6y1SH36FpVIWcbwySOeTdRxOFy61H9ShrY6h2o7KgNn8lOfLuGDmxWiAEKeJVcL@h8UpQZmwBbHuig3y/K3lG2KpY@62sZQbOa8ElvT9zdVaK/wHJcLfEPVrwas9dcOYemJv@LphTLGlvol0tGNMaTN8l4frBk76gcZ5Rj2Mq/2vHxqxDi4rw2kb@Q/4J697NBMKfjFj3YHVS2PR1NgE63LWwRFDgbdNS/kVobcY8@B/j@DoXGnto6YQGd8ioibc4Uc1R@T5MgvZ09eQiOWgpVQ0gV0YccNia9KXX1n9ZWtcpUWFOifwAZqmMDOsCeJkEiEBtlIHY2Z0KMhpKu/xdeyGlfGvGtNpjimrNr0CSP@ZD7/U6CJR1KZOnjgVRrmXhj403pBzklZW3OV@s3qXlPdRaG4qnkW9RUziUNDJ7BNV4FvFnKfYKeU4N8pEbTFKg7N5PO5KNkP@KnABtmLHTW1xsGxXT2MH/8/PTlHibZ8AAff/wgSOLyBg" rel="nofollow noreferrer">Try it online!</a></p>
<p>Takes three arguments, as <code>columns, width, text</code>. It does require that all newlines in the input have a leading and trailing space, despite my best efforts to fix that.</p>
<p>Edit +3 bytes: Thanks @jezza_99 for pointing out it was erroring out, turns out my golf of assigning <code>w-a</code> to <code>b</code> didn't work, because the assignment wasn't in code that ran every loop.</p>
<p>Edit -4 bytes: -3 from @Sylvester Kruin spotting that I could save bytes by defining a variable for <code>&quot; &quot;</code>, and another -1 by cleaning up the line that pads <code>r</code> so the <code>zip()</code> doesn't truncate the text if some of the columns in the final row aren't filled up.</p>
<h2>Ungolfed code and explanation</h2>
<pre class="lang-python prettyprint-override"><code>def F(c,w,s):
    r,R,i=[&quot;&quot;],[],0
    for j in s.split(&quot; &quot;): ## Loop through each word in the input
        while 1: ## While we havent finished adding this word
            if (a:=len(r[i]))+len(j)&lt;=w: ## If theres room for the full word
                r[i]+=j.replace(&quot;\n&quot;,&quot; &quot;*(w-a))+&quot; &quot; ## Add it + a trailing space, and if the string is a newline, replace it with enough spaces to finish the line
                break ## Break to next word
            elif a+min(3,w)&gt;w: # If this line can be padded with spaces
                r[i]+=&quot; &quot;*(w-a+1) ## Pad with spaces
            else: ## Need to hypenate
                r[i]+=j[:w-a-1]+&quot;- &quot; ## Add as much word as can fit plus the hypen
                j=j[w-a-1:] ## Trim the part of this word we added
            i+=1 ## Jump to next line
            r+=[&quot;&quot;] ## Initialize that line to the empty string
    h=-(-len(r)//c) ## Determine column height
    r+=[&quot;&quot;]*c ## Pad the last row with empty strings so the zip() truncate it if some of the columns are incomplete
    for j in range(c): ## Convert the flat list into a list containing each column
        R.append(r[:h])
        del r[:h]
    return &quot;\n&quot;.join( ## Join each line with a newline
                    map(&quot;   &quot;.join, ## Use map() to .join the columns of each line with 3 spaces
                                    zip(*R))) ## Zip the lists to get a list of each line
</code></pre>
</div>
<div id="pu2" class="pu"><h1>Python 2, <s>346</s> 338 bytes</h1>
<pre><code>i,C,W=input()
r=[]
for l in [x or' 'for x in i.split('\n')]:
 while l:
  if' '==l[0]:l=l[1:]
  w=l[:W];x=W;s=w.rfind(' ')+1
  if max(W-3,0)&lt;s:w=w[:s];x-=W-s
  elif x&lt;len(l)and' 'not in l[x:x+1]:w=w[:-1]+'-';x-=1
  r+=[w];l=l[x:]
r=[s.ljust(W)for s in r+['']*(C-1)]
print'\n'.join('    '.join(s)for s in zip(*zip(*[iter(r)]*((len(r))/C))))
</code></pre>
<p>Input as <code>'string',C,W</code></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/64087/">64087</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




