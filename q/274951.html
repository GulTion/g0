<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::274951</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>037</td><td>05AB1E</td><td>240814T083430Z</td><td><a href="https://codegolf.stackexchange.com/questions/274951/sum-of-four-squares-grid/274969#274969">Kevin Cr</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, <s>38</s> 37 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>∞Íonîü2íε`U0LsãεXô]€`.Δ2δô2ä€ø˜4äOnOQ
</code></pre>
<p>Brute-force. Generates all <span class="math-container">\$2^k\times 2^k\$</span> sized matrices consisting of 0s and 1s, and will output the first valid one for the given input-integer <span class="math-container">\$n\$</span>.</p>
<p>-1 byte by changing the <code>∞&lt;on1š</code> (-1 and prepend <span class="math-container">\$1\$</span> manually) to <code>∞Íonî</code> (-2 and ceil the <span class="math-container">\$0.25\$</span> to <span class="math-container">\$1\$</span>)</p>
<p><a href="https://tio.run/##AUYAuf9vc2FiaWX//@KInsONb27DrsO8MsOtzrVgVTBMc8OjzrVYw7Rd4oKsYC7OlDLOtMO0MsOk4oKsw7jLnDTDpE9uT1H//zE1" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##AVoApf9vc2FiaWX/MTXGkk4/IiDihpIgIj9OViL/4oiew41vbsOuw7wyw63OtWBVMExzw6POtVjDtF3igqxgLs6UMs60w7Qyw6TigqzDuMucNMOkT25PWVH/Ii5WLP8" rel="nofollow noreferrer">verify the smaller test cases up to n=15</a>. (Times out for test cases resulting in 8x8 outputs - e.g. <span class="math-container">\$n=39\$</span>. It won't time out for some larger <span class="math-container">\$n\$</span> - e.g. <span class="math-container">\$n=57\$</span>, since that one still results in a 4x4 output.)</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>∞          # Push an infinite positive list: [1,2,3,4,5,...]
 Í         # Decrease each by 2 to start at -1: [-1,0,1,2,3,...]
  o        # Take 2 to the power each: [0.5,1,2,4,8,...]
   n       # Square each: [0.25,1,4,16,64,...]
    î      # Ceil each: [1,1,4,16,64,...]
ü2         # Create overlapping pairs: [[1,1],[1,4],[4,16],[16,64],...]
  í        # Reverse each pair: [[1,1],[4,1],[16,4],[64,16],...]
ε          # Map over each pair:
 `         #  Pop and push both to the stack
  U        #  Pop the top smaller value, and save it in variable `X`
  0L       #  Push pair [1,0]
    s      #  Swap so the larger value is at the top of the stack
     ã     #  Cartesian product to create all combinations using the 1s/0s
      ε    #  Map over each list of 1s/0s
       Xô  #   Split it into blocks of size `X`
]          # Close the nested maps
 €`        # Flatten the list of list of lists one level down
           # (which has as side-effect that it reverses the inner lists)
.Δ         # Find the first matrix in this infinite list that's truthy for:
  2δô2ä€ø  #  Split the matrix into four corner-blocks:
   δ       #   Map over each inner row:
  2 ô      #    Split it into pairs
     2ä    #   Then split the entire list into 2 equal parts as well
       €   #   Map over each inner matrix:
        ø  #    Zip/transpose; swapping rows/columns
  ˜        #  Flatten it to a single list again
   4ä      #  Then split it into 4 equal-sized lists
     O     #  Sum each inner list
      n    #  Square each sum
       O   #  And sum those four values together again
        Q  #  Check whether it now equals the (implicit) input-integer
           # (after which the found matrix is output implicitly)
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/274951/">274951</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




