<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::275815</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>091</td><td>C gcc</td><td>240927T131704Z</td><td><a href="https://codegolf.stackexchange.com/questions/275815/randomly-color-the-words/275817#275817">jdt</a></td></tr>
<tr d-ix="1"><td>038</td><td>Uiua</td><td>240928T164813Z</td><td><a href="https://codegolf.stackexchange.com/questions/275815/randomly-color-the-words/275854#275854">noodle p</a></td></tr>
<tr d-ix="2"><td>085</td><td>JavaScript Node.js</td><td>240928T181603Z</td><td><a href="https://codegolf.stackexchange.com/questions/275815/randomly-color-the-words/275855#275855">noodle p</a></td></tr>
<tr d-ix="3"><td>031</td><td>Vyxal Ḣso</td><td>240927T231612Z</td><td><a href="https://codegolf.stackexchange.com/questions/275815/randomly-color-the-words/275835#275835">emanresu</a></td></tr>
<tr d-ix="4"><td>099</td><td>Javascript</td><td>240928T025352Z</td><td><a href="https://codegolf.stackexchange.com/questions/275815/randomly-color-the-words/275842#275842">l4m2</a></td></tr>
<tr d-ix="5"><td>119</td><td>JavaScript ES2019</td><td>240928T040419Z</td><td><a href="https://codegolf.stackexchange.com/questions/275815/randomly-color-the-words/275844#275844">Neil</a></td></tr>
<tr d-ix="6"><td>106</td><td>PHP 7.4+  109</td><td>240928T010145Z</td><td><a href="https://codegolf.stackexchange.com/questions/275815/randomly-color-the-words/275839#275839">Ismael M</a></td></tr>
<tr d-ix="7"><td>033</td><td>05AB1E</td><td>240927T151859Z</td><td><a href="https://codegolf.stackexchange.com/questions/275815/randomly-color-the-words/275828#275828">Kevin Cr</a></td></tr>
<tr d-ix="8"><td>073</td><td>Arturo</td><td>240927T150056Z</td><td><a href="https://codegolf.stackexchange.com/questions/275815/randomly-color-the-words/275827#275827">chunes</a></td></tr>
<tr d-ix="9"><td>040</td><td>Japt</td><td>240927T135632Z</td><td><a href="https://codegolf.stackexchange.com/questions/275815/randomly-color-the-words/275819#275819">Shaggy</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, <s>92</s> 91 bytes</h1>

<pre class="lang-c prettyprint-override"><code>x;f(int*s){for(x=srand(s);*s;x=!s++)printf(&quot;\e[38;5;%dm%s&quot;,x|isspace(*s)?rand()%256:-1,s);}
</code></pre>
<p><a href="https://onlinegdb.com/1kpXAEhuT" rel="nofollow noreferrer">Demo</a></p>
<p>-1 byte thanks to ceilingcat!</p>
</div>
<div id="pu1" class="pu"><h1>Uiua, <sub><s>41</s></sub> 38 bytes</h1>
<pre class="lang-python prettyprint-override"><code>&amp;p⍜⊜□⍚($&quot;\x1b[_m_&quot;+×60⁅⚂+30⌊×7⚂)¬⊸∈&quot;\t \n&quot;
</code></pre>
<p>where <code>\x1b</code> is a literal ESC byte and <code>\t</code> is a literal tab, both of which are included in the SBCS encoding for Uiua, at least as of 0.13.0-dev-2. (The <code>\n</code> is intentionally two bytes.)</p>
<p>Explanation:</p>
<pre class="lang-python prettyprint-override"><code>¬⊸∈&quot;\t \n&quot;   # mask of non-whitespace characters
⍜⊜□⍚(        # apply to each island of corresponding 1s:
  +30⌊×7⚂      # random integer in [30, 37)
  +×60⁅⚂       # add 60 times a random boolean
  $&quot;\x1b[_m_&quot;) # Prepend this ANSI color code to the word
&amp;p           # print with newline
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 85 bytes</h1>
<pre class="lang-javascript prettyprint-override"><code>s=&gt;console.log(s.replace(/\S+/g,s=&gt;`&#27;[${r(2)*60+r(7)+30}m`+s,r=n=&gt;Math.random()*n|0))
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70kLz8ldcGiNNulpSVpuhY3Q4tt7ZLz84rzc1L1cvLTNYr1ilILchKTUzX0Y4K19dN1gPIJ0tEq1UUaRppaZgbaRRrmmtrGBrW5CdrFOkW2ebZ2voklGXpFiXkp-bkamlp5NQaamlDDDdM0EsJTc5Lzc1MVSvK5uJyBdiu45-ekcQFVg3iZeekKzhmJOTmpeempxYoJUI0LFkBoAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>The code includes a raw ESC (0x1B) byte at the start of the template string.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-2" rel="nofollow noreferrer">Vyxal</a> <code>Ḣso</code>, 31 bytes</h1>
<pre><code>`&lt;ß∵&gt;`,`¨|Þ`Ẏƛk66ƈ∑`&lt;¨² ÷¥=#Π&gt;Π
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2&amp;c=1#WyLhuKJzbyIsIuKWoeKBiyIsImA8w5/iiLU+YCxgwqh8w55g4bqOxptrNjbGiOKIkWA8wqjCsiDDt8KlPSPOoD7OoCIsIiIsIldlbGNvbWUgdG8gXG5Db2RlIEdvbGYgYW5kIENvZGluZyBDaGFsbGVuZ2VzXG5TdGFjayBFeGNoYW5nZSEgXG5cblRoaXMgaXMgYSBzaXRlIGZvciByZWNyZWF0aW9uYWwgcHJvZ3JhbW1pbmcgY29tcGV0aXRpb25zLCBcbm5vdCBnZW5lcmFsIHByb2dyYW1taW5nIHF1ZXN0aW9ucy4gQ2hhbGxlbmdlcyBtdXN0IGhhdmUgYW4gXG5vYmplY3RpdmUgc2NvcmluZyBjcml0ZXJpb24sIGFuZCBpdCBpcyBoaWdobHkgXG5yZWNvbW1lbmRlZCB0byBmaXJzdCBwb3N0IHByb3Bvc2VkIGNoYWxsZW5nZXMgaW4gdGhlIFNhbmRib3guICJd" rel="nofollow noreferrer">Try it Online!</a> Indirect -3 thanks to l4m2 for reminding me that <code>font</code> tags exist. <a href="https://vyxal.pythonanywhere.com/?v=2&amp;c=1#WyLhuKJzbyIsIuKWoeKBiyIsImA8w5/iiLU+YCxgwqh8w55g4bqOxptgPHo+YGprNjbGiOKIkWA8wqjCsiDDt8KlPSPOoD7OoCIsIiIsIjx0aGlzPiA8aXM+IDxodG1sXG4+ICYjMTI7Il0=" rel="nofollow noreferrer">Add 6 bytes</a> if handling HTML tags is required.</p>
<p>This would be a lot simpler (<a href="https://vyxal.pythonanywhere.com/?v=2&amp;c=1#WyLhuKJTIiwiIiwi4oyIxptrNjbGiOKIkWA8wqjCsiDDt8KlPSPOoD7OoCIsIiIsIldlbGNvbWUgdG8gQ29kZSBHb2xmIGFuZCBDb2RpbmcgQ2hhbGxlbmdlcyBTdGFjayBFeGNoYW5nZSEgVGhpcyBpcyBhIHNpdGUgZm9yIHJlY3JlYXRpb25hbCBwcm9ncmFtbWluZyBjb21wZXRpdGlvbnMsIG5vdCBnZW5lcmFsIHByb2dyYW1taW5nIHF1ZXN0aW9ucy4gQ2hhbGxlbmdlcyBtdXN0IGhhdmUgYW4gb2JqZWN0aXZlIHNjb3JpbmcgY3JpdGVyaW9uLCBhbmQgaXQgaXMgaGlnaGx5IHJlY29tbWVuZGVkIHRvIGZpcnN0IHBvc3QgcHJvcG9zZWQgY2hhbGxlbmdlcyBpbiB0aGUgU2FuZGJveC4gIl0=" rel="nofollow noreferrer">19 bytes</a>) if only handling spaces was required, but oh well.</p>
<pre><code>`&lt;ß∵&gt;`,                 # Output &quot;&lt;pre&gt;&quot; (required because newlines)
            Ẏ           # Get all matches for
       `¨|Þ`            # Compressed regex &quot;\S+|\s&quot;
             ƛ          # Over each
                6ƈ      # Choose six random
              k6        # hexadecimal digits
                  ∑     # Concatenate them, and insert into
                   `... # Compressed string &quot;&lt;font color=#[color]&gt;[text]&quot;
                        # s flag concatenates this, o flag outputs it
                        # and Ḣ flag renders the result as HTML
</code></pre>
<p><a href="https://i.sstatic.net/2I1VkAM6.png" rel="nofollow noreferrer"><img src="https://i.sstatic.net/2I1VkAM6.png" alt="enter image description here" /></a></p>
</div>
<div id="pu4" class="pu"><h1>Javascript, 99 bytes</h1>
<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>f=
s=&gt;document.write(`&lt;pre&gt;`+s.replace(/\s|^|(.)/g,(h,c)=&gt;`&lt;font color=${z=c?z:Math.random()*1e6}&gt;`+h))</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;textarea id=input1&gt;&amp;lt;font color=#123456&amp;gt; test &amp;lt;/font&amp;gt;&lt;/textarea&gt;&lt;input type=button onclick=f(input1.value)&gt;</code></pre>
</div>
</div>
</p>
<p><code>&lt;z&gt;${c}</code> to allow input with <code>&lt;&gt;</code>, later use nop <code>&lt;font&gt;</code> instead</p>
</div>
<div id="pu5" class="pu"><h1>JavaScript (ES2019), 119 bytes</h1>
<p><div class="snippet" data-lang="js" data-hide="false" data-console="false" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>f=
s=&gt;console.log(s.replace(r=/\s*\S+\s*/g,"%c%s"),...s.match(r).flatMap(w=&gt;['color:#'+Math.random().toFixed(3).slice(2),w]))</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;input type=button value=Run onclick=f(i.value)&gt;&lt;textarea id=i&gt;Test&amp;#9;of
various whitespace&lt;/textarea&gt;</code></pre>
</div>
</div>
</p>
<p>Works by logging to the browser's console which should honour tabs and newlines. Colours are random from the selection <code>#000</code>...<code>#999</code>.</p>
</div>
<div id="pu6" class="pu"><h1>PHP 7.4+ - <del>109</del> 106 bytes</h1>
<p>Thanks to <a href="https://codegolf.stackexchange.com/users/11261/jordan">Jordan</a> for pointing out that the <code>#RGB</code> format works, and saved me 3 bytes.</p>
<hr />
<p>An anonymous arrow function that print the HTML containing all the stylized words.<br>
The <code>&lt;pre&gt;</code> is needed to keep the whitespace.</p>
<pre class="lang-php prettyprint-override"><code>fn($t)=&gt;print('&lt;pre&gt;'.preg_replace_callback('/\S+\s*/',fn($m)=&gt;'&lt;font color=#5'.rand(10,99).&quot;&gt;$m[0]&quot;,$t))
</code></pre>
<p>The idea is simple: randomly generates 89 colors (the minimum required is 16), into a deprecated <code>&lt;font&gt;</code> tag.<br>
I chose to change the green and bçue channels for a decent visual variety in the colors (1 digit for each channel).<br>
Does it's best to keep whitespaces by using the <code>&lt;pre&gt;</code> tag.</p>
<p>As per the rules, HTML output is allowed, and a function is also allowed.</p>
<p>You can try it here:</p>
<p><div class="snippet" data-lang="js" data-hide="true" data-console="false" data-babel="false">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-js lang-js prettyprint-override"><code>// This is my code
let answer = "fn($t)=&gt;print('&lt;pre&gt;'.preg_replace_callback('/\\S+\\s*/m',fn($m)=&gt;'&lt;font color=#5'.rand(10,99).\"&gt;$m[0]\",$t))";

document.getElementById('code').value = answer;
document.getElementById('code_length').textContent = answer.length;

// Here's the PHP code that will run
let code = `
// Example text
$text = "Write a program or function that takes a string as input and prints or otherwise renders the text with each word in a random color";

// My code
$fn = ${answer};

// Run the code
$fn($text);
`;

run_php(code);

async function run_php(code) {
  const { PhpWeb } = await import('https://cdn.jsdelivr.net/npm/php-wasm/PhpWeb.mjs');
  const php = new PhpWeb;
  
  let out = '';
  
  php.addEventListener('output', (event) =&gt; {
    out += event.detail.join('');
  });

  let x = await php.run('&lt;?php ' + code);
  
  document.getElementById('output_text').value = out;
  document.getElementById('output_html').innerHTML = out;
}</code></pre>
<pre class="snippet-code-css lang-css prettyprint-override"><code>body {
  margin: 0;
  padding: 0;
  
  font-family: sans-serif;
}

p {
  margin: 0;
}

#code {
  width: 100vw;
  width: 100dvw;
  
  resize: resize-x;
}

#output_text {
  width: 100vw;
  width: 100dvw;
  
  height: 50vh;
  height: 50dvh;
  
  resize: resize-x;
}

#output_html {
  max-width: 100vw;
  max-width: 100dvw;
  
  overflow: auto;
}</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;p&gt;Code: - Length: &lt;span id="code_length"&gt;0&lt;/span&gt;&lt;/p&gt;
&lt;textarea id="code"&gt;&lt;/textarea&gt;
&lt;p&gt;Output:&lt;/p&gt;
&lt;textarea id="output_text"&gt;&lt;/textarea&gt;
&lt;div id="output_html"&gt;&lt;/div&gt;</code></pre>
</div>
</div>
</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 33 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>.γ9çð¶)ćå}ε7Ý30+D60+«Ω27ç&quot;ÿ[ÿmÿ&quot;?
</code></pre>
<p>Uses <a href="https://en.wikipedia.org/wiki/ANSI_escape_code#Colors" rel="nofollow noreferrer">the 16 Windows 10 console colors</a>.</p>
<p>Screenshot (which took a while to make, since apparently there was a Windows-10 patch that disabled ANSI again, so I had to enable it (again) in my Registry..):</p>
<p><a href="https://i.sstatic.net/zh7Lsu5n.png" rel="nofollow noreferrer"><img src="https://i.sstatic.net/zh7Lsu5n.png" alt="enter image description here" /></a></p>
<p><a href="https://tio.run/##XVCxSgQxEO39inE7udvlUPCwsjjFDzjBwiqbnd1Ek8ya5OROsPYrLOUQG0G0XbhY7y@tyTaKMMzwMpP33gw5VkochqL/OAnb8L77Ovh@Ci@P/ec8PB/NJmfHs8nurX89nIdtFrrr0OnQZafDkGXZFSpOGsETLKhCuCBVAzNVQtI0sBBMKTQNOlh6xm/hfM0Fi3gfLoV0EIOBkx6hJgsWuUXmJRmmoLXUWKZ1ookaLXqZOm4Khjw0aND@m7pboRtHir0/unrlPAh2j9EXUHmD3MsIHCc7UtuobuOv6ehb@uRJyEaoTfJDWmOFVVqwljYytZSSpVjjM//VkQa8QFhGlpLWRTzOkOeGcsUeNj8" rel="nofollow noreferrer">Try it online (to see the actual ANSI-escaped output).</a></p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>.γ              # Adjacent group-by on the (implicit) input-string:
                #  (implicitly push the current character)
  9çð¶)ćå       #  Check whether this character is a whitespace
  9ç            #   Push a 9, and convert it to a character: &quot;\t&quot;
    ð           #   Push a space &quot; &quot;
     ¶          #   Push a newline &quot;\n&quot;
      )         #   Wrap all four values into a list
       ć        #   Extract head: [&quot;\t&quot;,&quot; &quot;,&quot;\n&quot;],char
        å       #   Check if the character is in this whitespaces-triplet
 }ε             # After the group-by: map over each substring:
                #  (implicitly push the current substring)
   7Ý           #  Push a list in the range [0,7]
     30+        #  Add 30 to each to make the range [30,37]
        D       #  Duplicate it
         60+    #  Add 60 to each in the copy to make the range [90,97]
            «   #  Merge the two lists together
             Ω  #  Push a random integer from this list
   27ç          #  Push 27, and convert it to an ASCII character: ␛
      &quot;ÿ[ÿmÿ&quot;   #  Push this string, where:
                #   - the first `ÿ` is replaced with the ␛
                #   - the second `ÿ` is replaced with the random integer
                #   - the third `ÿ` is replaced with the current substring
             ?  #  Pop and output it (without newline)
</code></pre>
</div>
<div id="pu8" class="pu"><h1><a href="https://arturo-lang.io" rel="nofollow noreferrer">Arturo</a>, 73 bytes</h1>
<pre class="lang-arturo prettyprint-override"><code>$=&gt;[loop match&amp;{\S+|\s+}=&gt;[prints color to :color map 3=&gt;[255 1random]&amp;]]
</code></pre>
<p><a href="http://arturo-lang.io/playground?NNWhqt" rel="nofollow noreferrer">Try it!</a></p>
<p>Works in the online playground and most terminals.</p>
</div>
<div id="pu9" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, <s>44</s> 40 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<p>Making Japt do things it shouldn't be able to do again!<br>The unnecessary requirement to be able to handle <em>any</em> type of whitespace cost <em>far</em> too many bytes :(</p>
<pre><code>OlUrV=&quot;%S+&quot;Èici%Ã$,...$UfV £Aö3 ¬i`¬l:#
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;header=Ck94YNYOb6QuY9IjKClg&amp;code=T2xVclY9IiVTKyLIaWNpJcMkLC4uLiRVZlYgo0H2MyCsaWCsbI46Iw&amp;input=IldyaXRlIGEJcHJvZ3JhbSBvcgpmdW5jdGlvbiB0aGF0IHRha2VzIGEgc3RyaW5nIGFzIGlucHV0IGFuZCBwcmludHMgb3Igb3RoZXJ3aXNlIHJlbmRlcnMgdGhlIHRleHQgd2l0aCBlYWNoIHdvcmQgaW4gYSByYW5kb20gY29sb3VyIg" rel="nofollow noreferrer">Try it</a> (open your browser's console)</p>
<h2>JavaScript &quot;Translation&quot;</h2>
<p><div class="snippet" data-lang="js" data-hide="false" data-console="false" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>f=

U=&gt;console.log(U.replace(V=/\S+/g,X=&gt;`%c`+X),...U.match(V).map(_=&gt;"color:#"+[...Array(3)].map(_=&gt;Math.random()*10|0).join``))

console.clear();
f(`Write a  program or
function that takes a string as input and prints or otherwise renders the text with each word in a random colour`)</code></pre>
</div>
</div>
</p>
<h2>Explanation</h2>
<pre><code>OlUrV=&quot;%S+&quot;Èici%Ã$,...$UfV £Aö3 ¬i`...     :Implicit input of string U
Ol                                         :console.log
  Ur                                       :  Replace in U
    V=                                     :    Assign to variable V
      &quot;%S+&quot;                                :    RegEx /\S+/g
           È                               :    Pass each match through a function
            ic                             :      Prepend &quot;c&quot;
              i%                           :      Prepend &quot;%&quot;
                Ã                          :  End Replace
                 $                         :  Switch to JavaScript
                  ,...                     :    To allow use of the spread operator
                      $                    :  Switch to Japt
                       UfV                 :  Match all occurrences of V in U
                           £               :  Map
                            A              :    10
                             ö3            :    Generate 3 random integers in the range [0,A)
                                ¬          :    Join
                                 i         :    Prepend
                                  `...     :      Compressed string &quot;color:#&quot;
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/275815/">275815</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




