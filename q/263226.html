<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="g.js"></script>
    <title>cg::263226</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>088</td><td>Charcoal</td><td>230725T084921Z</td><td><a href="https://codegolf.stackexchange.com/questions/263226/simulate-keyboard-inputs/263297#263297">Neil</a></td></tr>
<tr d-ix="1"><td>145</td><td>Ruby</td><td>230725T042530Z</td><td><a href="https://codegolf.stackexchange.com/questions/263226/simulate-keyboard-inputs/263286#263286">Value In</a></td></tr>
<tr d-ix="2"><td>228</td><td>Python 3.8 prerelease</td><td>230725T041111Z</td><td><a href="https://codegolf.stackexchange.com/questions/263226/simulate-keyboard-inputs/263285#263285">Ethan C</a></td></tr>
<tr d-ix="3"><td>248</td><td>Q</td><td>230724T171115Z</td><td><a href="https://codegolf.stackexchange.com/questions/263226/simulate-keyboard-inputs/263265#263265">scottste</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 88 bytes</h1>
<pre><code>Ｓθ≔⁻ＬθＮηＷＳ≡ι´⟲≔∧υ⊟υι⊞υιＦυ≡ι´←≧⁺‹ηＬθη´→≧⁻‹⁰ηη´⮌≔⁺✂θ⁰±⊕η¹✂θ⁻ＬθηＬθ¹θ≔⁺⁺✂θ⁰⁻Ｌθη¹ι✂θ⁻ＬθηＬθ¹θθ
</code></pre>
<p><a href="https://tio.run/##nVKxTsMwEN39FQeTIwVExVYmRqQWVcCGGFz3GltyndTn0AGxMjFU/AB/0IFP4kfCOaQQ1A6AlJPtu3fvXe5OGxV0qVzTXPiqjtcxWF/IZXYmzols4eXY@prkCH0RDftzaHGX9WKKQWb8NoxdGesQZJ8iy4BWNmoD0mbwILQihMP317fDIXTU534m6xwmZSXrxGSZaYZzVbs4hElNJkWT81HMywAM2kv5tGbKsao@Wa9sYaKcuJpyGCGRNOnsqu/K3Sa@7Ca2v9tlniT0j4zN83f1SUJeO6tRLnNg7CUWKiI3QQdcoI84kyYpDti@cDvtTAq95yBlLPuN6MvtaO6lG7S9/I/oo5jw8GKaf9PcGEvA321UxVCXMzwqSje/y4FKIFOGiBRBeVphgJX1dCwGp4Kbut82z0ILI0jwCgj1w98a30dtjOcpnOPisHWG1rGFfJ2/tS19z6Y9xLqT/HwHpKr0PGnetr/J/FLeOgdKa6x4OUBR173jtogUm@Ke8IFoju7dBw" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Takes the input sequence as a list of newline-terminated strings where <code>⟲</code> is undo, <code>←</code> is left, <code>→</code> is right, and <code>⮌</code> is backspace. Explanation:</p>
<pre><code>Ｓθ≔⁻ＬθＮη
</code></pre>
<p>Input the starting string and position, but calculate the position as a count from the end of the string, because that remains invariant under insertion and deletion.</p>
<pre><code>ＷＳ
</code></pre>
<p>Loop through each command string.</p>
<pre><code>≡ι´⟲≔∧υ⊟υι⊞υι
</code></pre>
<p>If it's a <code>⟲</code> then remove the previous command if any otherwise add the command.</p>
<pre><code>Ｆυ≡ι
</code></pre>
<p>Loop through the remaining commands.</p>
<pre><code>´←≧⁺‹ηＬθη
</code></pre>
<p>Handle left.</p>
<pre><code>´→≧⁻‹⁰ηη
</code></pre>
<p>Handle right.</p>
<pre><code>´⮌≔⁺✂θ⁰±⊕η¹✂θ⁻ＬθηＬθ¹θ
</code></pre>
<p>Handle backspace.</p>
<pre><code>≔⁺⁺✂θ⁰⁻Ｌθη¹ι✂θ⁻ＬθηＬθ¹θ
</code></pre>
<p>Handle everything else.</p>
<pre><code>θ
</code></pre>
<p>Output the resulting string.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 145 bytes</h1>
<p>Not sure if it breaks the rules to have the special commands as integers. <code>U=0, L=-1, R=1, B=8</code></p>
<p>The only reason <code>B=8</code> is because the control code for backspace is <code>\x08</code> lol</p>

<pre class="lang-ruby prettyprint-override"><code>-&gt;s,l,i{i[(x=i.index 0)-[1,x].min..x]=[]while[]!=[0]&amp;i
i.map{|e|l=l.clamp 0,s.size;e.ord==e ?e&lt;5?l+=e:(s[l-=1]=''if l&gt;0):(s[l,0]=e;l+=e.size)}
s}
</code></pre>
<p><a href="https://tio.run/##lVHRatswFH33V9yUUifMFvZKoYuqBPq0hzyVlT0oojjyTSxQLKPrkmxpvj3V1GRjELYWfPA5517pXK788@LHYSnmh3xCmc3MzsjhVhhm2hq3F/PiYpTLMtsqtjYtY1slpNo0xqJUAyGn80JdmcSwddXtXvDFCsu0rdYdFBkxMj@Ra4HM@Zrruy9TfXcztZ@Ezj@PhyRtLkol0tQswU6KUbSyQgnkoQfj6dE@of0h5sEKe0oACARcPjHduHUXpA3yV4X17skEbU46NjDqrOmHKU9HpxFRhgiRyhSmsEsfUxCTMCyk95HdBvYQ2XVgs8jKvURZKhWu9DAG3IeY7rknWMq4MZVgWx@@orUug@/O23qQ3CTyUfGI@zMIvuHyQf0foZsl3xpDED7ZV6uxdjXmK2eXKgNyQI3zPVIPVUsb9LAxLbGkvE7@daXmDac4RvWXHxH47G30meLWYrvCaPponFp@/9@LM3tY/KnOjts6ao/UuZYQnIePxbwz3lgLldbY9VhDRcftsbenCbUFnikPXgE" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
<h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 153 bytes</h1>
<p>Version that uses characters only in case the above answer breaks the rules: <code>U=\x00, L=\x01, R=\x03, B=\x08</code></p>

<pre class="lang-ruby prettyprint-override"><code>-&gt;s,l,i{i[(x=i.index&quot;\0&quot;)-[1,x].min..x]=[]while[]!=[?\0]&amp;i
i.map{|e|l=l.clamp 0,s.size;c=e.ord;c&lt;9?c&lt;5?l+=c-2:(s[l-=1]=''if l&gt;0):(s[l,0]=e;l+=e.size)}
s}
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://docs.python.org/3.8/" rel="nofollow noreferrer">Python 3.8 (pre-release)</a>, 228 bytes</h1>

<pre class="lang-python prettyprint-override"><code>def f(s,c,Z,d=[]):
 for i in Z:d=d[:-1]if i[0]and'T'&lt;i[1]else d+[i]
 for S,D in d:
  if S:
   if'Q'&lt;D:c=min(c+1,len(s))
   elif'K'&lt;D:c=max(c-1,0)
   else:s=s[:(f:=max(c-1,0))]+s[c:];c=f
  else:s=s[:c]+D+s[c:];c+=len(D)
 return s
</code></pre>
<p><a href="https://tio.run/##nVRdb9owFH3nV9zy4kS4iPAxuqTRpIqHTuNla9GkRkZyYwcsMjuyU3Xtn28dJ0BgVKJDXGL53Gvfc84lxUu5VnJ0Vei3N8YzyDyDU/yAWZwQP@xApjQIEBIeQhazJLwMiMhAJANCJUP36FokAeG54cB6iSB1wR2eVSXM1oPNvquedoF@outZmMZ/hPTSXoBzLj3j@xXIcwv/aGD610svAzxoEMNDE5sk9LKwhfmkZ5I0JFEaZ512Wkp6sy3Ui6s7ZvYgzcsnLcE4kgXVhntCFr7rDIwl6xY7thbrmyIXpYci1GSBIwEoQS5jv@mO6NOi4JJ5XoArSWpa7uNa@yB5gEWTuW2w06HGcF1aJ9D9Whiw36SkqzBVjF@uVJ4RDEaBWStdclMCleaZa3gW0vQRDka4ZtdNfpHoZNxYYaJ1ZKJkQSJ6sO/CrucOS@Ykyq2AK@42tdvYpuye58bNv/G4R6uTF/tszU2hpJ0qa8jnrjnzepHnQNOUFyVnQE2jYt81UWGP/AR80fX9OD5hS7qmtVC1N4@VL20KO48@PBm1fO9@h42QjAJTEpWQiw2HgtuJ0UoKUBIK8fpKMbxspHr@1sWDneVtkvMm/lewxZFon6yHj23YZtg3CKyozkUKpVJWlfLJyviyqbMWLmrF94K01YBKjiM12jqi0der6TIYQg/Goy@TahXDeDwd2hXCw2kjG9qN9VayE6PatHM4qHZ/sq9qVx@fcmzGnJxXdyLG7ne0RE6Z0TJw9AJLbbIcHtC/5XmuMPxWOmcXCE92fBcn7G3xFGf/o/p1E7eiuaVv7y@0kPa1aZ7skBuD/Ld3" rel="nofollow noreferrer" title="Python 3.8 (pre-release) – Try It Online">Try it online!</a></p>
<p>The first <code>for</code> loop uses the stack <code>d</code> to get rid of all the undos. The second <code>for</code> loop loops over each instruction and modifies the string <code>s</code> accordingly. Almost definitely still golfable.</p>
<p>Inputs: list of tuples: (opcode, string). The opcode is 1 if the string is a special command, and 0 otherwise. Ex: <code>[(1, 'R'), (1, 'U'), (0, 'hi')]</code> This may be stretching the acceptable input format a bit, so I made a version which can accept the input format that the OP used:</p>
<h1><a href="https://docs.python.org/3.8/" rel="nofollow noreferrer">Python 3.8 (pre-release)</a>, 267 bytes</h1>

<pre class="lang-python prettyprint-override"><code>def f(s,c,Z,d=[]):
 for i in Z.split(';'):g='['in i;i=i[1]if g else i;d=d[:-1]if g and'T'&lt;i else d+[(g,i)]
 for S,D in d:
  if S:
   if'Q'&lt;D:c=min(c+1,len(s))
   elif'K'&lt;D:c=max(c-1,0)
   else:s=s[:(f:=max(c-1,0))]+s[c:];c=f
  else:s=s[:c]+D+s[c:];c+=len(D)
 return s
</code></pre>
<p><a href="https://tio.run/##nVRdb9owFH3nV9zy4kS4qOFj7ZJGkyoeOo2XrUWTGgXJTZxgkdmRnaqjf769cQKkjEp0iEuse67vxzmXlJtqpeT4qtSvrynPIHMMTegDTcModv0eZEqDACHhYWjKQlQOCYjr5yGJCDpFIEIRebHIIAdeGI6eNEwj/7z1MZmSe3ItGjAdRE5OhRs3ee/orM6cYhnA6Lv6iQfyk1zP/CT8I6STDDxacOkY161BXiD8o4XZXyc59@hFixjum9BEvpP5HcyNByZK/DhIwqzXDUviwWwLDcK6xgwTaV49aQnGclEybbgjZOnazsAgJ/awIwWxLi0WBDsEIEE2Yu@0KYasLLlMHcejNXHNWPZjW/sg@AJJayK3DfZ6zBiuKxSM3K@EAfxGFcv9RKX8PFdFFlMwCsxK6YqbCpUwz1zDs5BmSKg3ps10/ehXHBy1GyQmWAUmiBZxwN75reF5brFoHgcFEphz69TWsQ3ZPU@1m3/tcY/WmRf7aM1NqSRuFgryuTInlhdFASxJeFnxFJhpWRzaJmrskR@Bz/quG4ZHZElWrCGq0eax1qU7wk6jDzOTju7977AWMmWQKkkqKMSaQ8lxY7SSApSEUry8MAqbtVTP3/r0Yid5d8h5a/9L2OKAtE/eh49l2EbgOwRypguRQKUUslI9IY2bdRO1sNYwviekywbUdByw0eWRjL9eXS69EQxgMv4yrU8hTCaXIzwROrpsaSO7td5SdmRV23beLyr6p/tb3duHWQ7FmMen3TtiE/s7XhLLzHjp2fE8HG26HL0b/5YXhaLwW@kiPSN0upt3cUTezpzi5H/UsGniVrRVhli/1ELia9M84ZIbQ9zXNw" rel="nofollow noreferrer" title="Python 3.8 (pre-release) – Try It Online">Try it online!</a></p>
</div>
<div id="pu3" class="pu"><h1>Q, 248 bytes</h1>
<pre><code>w:{s:{x like&quot;[[]&quot;,y,&quot;[]]&quot;};if[10=(@:)z;z:&quot;;&quot;vs z];while[z[0]~&quot;[U]&quot;;z:1_z];$[0=(#:)z;x;not(^:)r:(*:)(&amp;:)s[z;&quot;U&quot;];w[x;y;_[z _ r;r-1]];s[o:z 0;&quot;R&quot;];w[x;(#:)[x]&amp;y+1;1_z];s[o;&quot;L&quot;];w[x;0|y-1;1_z];s[o;&quot;B&quot;];w[x _ y-1;0|y-1;1_z];w[#[y;x],o,_[y;x];y+1;1_z]]}
</code></pre>
<p><strong>ungolfed</strong>:</p>
<pre><code>wp: { [text; cursor; input]
    if[10h=type input; input: &quot;;&quot; vs input];                    // convert semicolon-delimited string to list of strings
    special: {x like &quot;[[]&quot;,y,&quot;[]]&quot;};                            // function to check whether a string is like e.g. &quot;[E]&quot;
    while[input[0]~&quot;[U]&quot;; input: 1 _ input];                    // remove leading undo's since there's nothing to undo
    if[not null rm: first where special[input; &quot;U&quot;];            // find the first &quot;[U]&quot; operation -- re-call this function after removing it and the preceding operation
        : wp[text; cursor; _[input _ rm;rm-1]];
    ];
    if[0=count input; : text];                                  // base case -- return text if there are no more operations
    op: input 0;
    if[special[op; &quot;R&quot;];                                        // re-call this function with 1 added to cursor (capping at length of text)
        : wp[text; count[text]&amp;cursor+1; 1_input]];
    if[special[op; &quot;L&quot;];                                        // re-call this function with 1 removed from the cursor (capping at 0)
        : wp[text; 0|cursor-1; 1_input]];
    if[special[op; &quot;B&quot;];                                        // re-call this function with a) the character before the cursor removed from text and b) 1 removed from the cursor (capping at 0)
        : wp[text _ cursor-1; 0|cursor-1; 1_input]];
    : wp[ #[cursor;text],op,_[cursor;text]; cursor+1; 1_input]; // re-call this function with the characters added after the cursor in text
    }
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../index.html">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/263226/">263226</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




