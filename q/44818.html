<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::44818</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>006</td><td>K ngn/k</td><td>201223T153308Z</td><td><a href="https://codegolf.stackexchange.com/questions/44818/find-the-substring-with-the-most-1s-in-a-sequence/216835#216835">coltim</a></td></tr>
<tr d-ix="1"><td>012</td><td>Burlesque</td><td>211130T111345Z</td><td><a href="https://codegolf.stackexchange.com/questions/44818/find-the-substring-with-the-most-1s-in-a-sequence/237843#237843">DeathInc</a></td></tr>
<tr d-ix="2"><td>005</td><td>APL Dyalog Unicode</td><td>201223T030312Z</td><td><a href="https://codegolf.stackexchange.com/questions/44818/find-the-substring-with-the-most-1s-in-a-sequence/216812#216812">Bubbler</a></td></tr>
<tr d-ix="3"><td>050</td><td>Perl 5 pl</td><td>201223T024212Z</td><td><a href="https://codegolf.stackexchange.com/questions/44818/find-the-substring-with-the-most-1s-in-a-sequence/216809#216809">Xcali</a></td></tr>
<tr d-ix="4"><td>005</td><td>Jelly</td><td>201222T212438Z</td><td><a href="https://codegolf.stackexchange.com/questions/44818/find-the-substring-with-the-most-1s-in-a-sequence/216795#216795">caird co</a></td></tr>
<tr d-ix="5"><td>185</td><td>C</td><td>150126T095953Z</td><td><a href="https://codegolf.stackexchange.com/questions/44818/find-the-substring-with-the-most-1s-in-a-sequence/44958#44958">Ari Mali</a></td></tr>
<tr d-ix="6"><td>070</td><td>Scala  70 Bytes</td><td>150125T121805Z</td><td><a href="https://codegolf.stackexchange.com/questions/44818/find-the-substring-with-the-most-1s-in-a-sequence/44923#44923">Dominik </a></td></tr>
<tr d-ix="7"><td>148</td><td>C# Linq</td><td>150125T083709Z</td><td><a href="https://codegolf.stackexchange.com/questions/44818/find-the-substring-with-the-most-1s-in-a-sequence/44918#44918">Krzyszto</a></td></tr>
<tr d-ix="8"><td>036</td><td>Mathematica</td><td>150123T073259Z</td><td><a href="https://codegolf.stackexchange.com/questions/44818/find-the-substring-with-the-most-1s-in-a-sequence/44852#44852">alephalp</a></td></tr>
<tr d-ix="9"><td>062</td><td>Haskell</td><td>150122T233934Z</td><td><a href="https://codegolf.stackexchange.com/questions/44818/find-the-substring-with-the-most-1s-in-a-sequence/44838#44838">nimi</a></td></tr>
<tr d-ix="10"><td>042</td><td>Matlab</td><td>150123T162129Z</td><td><a href="https://codegolf.stackexchange.com/questions/44818/find-the-substring-with-the-most-1s-in-a-sequence/44867#44867">Luis Men</a></td></tr>
<tr d-ix="11"><td>329</td><td>Java</td><td>150123T151843Z</td><td><a href="https://codegolf.stackexchange.com/questions/44818/find-the-substring-with-the-most-1s-in-a-sequence/44865#44865">Bryan De</a></td></tr>
<tr d-ix="12"><td>196</td><td>C# Regex</td><td>150123T112541Z</td><td><a href="https://codegolf.stackexchange.com/questions/44818/find-the-substring-with-the-most-1s-in-a-sequence/44859#44859">n̴̖̋h̷͉̃</a></td></tr>
<tr d-ix="13"><td>096</td><td>PHP</td><td>150123T110614Z</td><td><a href="https://codegolf.stackexchange.com/questions/44818/find-the-substring-with-the-most-1s-in-a-sequence/44858#44858">Stephen</a></td></tr>
<tr d-ix="14"><td>011</td><td>Dyalog APL</td><td>150122T193227Z</td><td><a href="https://codegolf.stackexchange.com/questions/44818/find-the-substring-with-the-most-1s-in-a-sequence/44821#44821">Zgarb</a></td></tr>
<tr d-ix="15"><td>222</td><td>Batch</td><td>150123T002541Z</td><td><a href="https://codegolf.stackexchange.com/questions/44818/find-the-substring-with-the-most-1s-in-a-sequence/44841#44841">unclemea</a></td></tr>
<tr d-ix="16"><td>056</td><td>Python 2</td><td>150122T215519Z</td><td><a href="https://codegolf.stackexchange.com/questions/44818/find-the-substring-with-the-most-1s-in-a-sequence/44829#44829">feersum</a></td></tr>
<tr d-ix="17"><td>021</td><td>CJam</td><td>150122T191846Z</td><td><a href="https://codegolf.stackexchange.com/questions/44818/find-the-substring-with-the-most-1s-in-a-sequence/44819#44819">Martin E</a></td></tr>
<tr d-ix="18"><td>073</td><td>JavaScript ES6</td><td>150122T213220Z</td><td><a href="https://codegolf.stackexchange.com/questions/44818/find-the-substring-with-the-most-1s-in-a-sequence/44826#44826">edc65</a></td></tr>
<tr d-ix="19"><td>014</td><td>J</td><td>150122T205414Z</td><td><a href="https://codegolf.stackexchange.com/questions/44818/find-the-substring-with-the-most-1s-in-a-sequence/44825#44825">randomra</a></td></tr>
<tr d-ix="20"><td>012</td><td>Pyth</td><td>150122T194401Z</td><td><a href="https://codegolf.stackexchange.com/questions/44818/find-the-substring-with-the-most-1s-in-a-sequence/44823#44823">Jakube</a></td></tr>
<tr d-ix="21"><td>042</td><td>Ruby</td><td>150122T194356Z</td><td><a href="https://codegolf.stackexchange.com/questions/44818/find-the-substring-with-the-most-1s-in-a-sequence/44822#44822">histocra</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://codeberg.org/ngn/k" rel="nofollow noreferrer">K (ngn/k)</a>, <s>11</s> 6 bytes</h1>
<pre><code>*&gt;+/':
</code></pre>
<p><a href="https://ngn.codeberg.page/k#eJytUG1qwzAM/e9TiDJouy1f0EKJYacojFEKdVMnNk3kzFa2dGM7++y0aXuAIWFbT7Ke9Mr88eUpmeaMrfPvh83p1+YlxNDznTny2a4UuuY9P3E73/6w9Wa24Clk3s5nuM/m33OebUPJkk/SLPU+WPDzcQPTa+rersgtyNKJ75puGUuYImpdniSFOcjK1GXsSBRH2RdKYCXjwjTJeycdaYMuWSxW2SopNR4iUjJy3d6R1VhFn5rUADXGUZS5SGMkIif9VyykV0FJGCPQDgSeALtmLy2YEtJpQA6QTZ1X7P+2vPCOU0ItsSI18rfGadIfEtBg9CWtAY0kK2n9DEvG3kxnobWmsqIBp0xXH8B01HYEFLqSsBSaejFkH7YIaKmtozvGC1x5GhzpSQmCwiAJjW5IB9HC8jG86qFAgtgbP5lGT/c8ABdqHRTym/0BZj2y3w==" rel="nofollow noreferrer">Try it online!</a></p>
<p>Uses the &quot;argmax&quot; trick from <a href="https://codegolf.stackexchange.com/a/216812/98547">Bubbler's answer</a>.</p>
<ul>
<li><code>+/':</code> do a window-reduce (with the first implicit arg being the window length, and the second the sequence)</li>
<li><code>*&gt;</code> argmax/index of first maximum</li>
</ul>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/FMNSSun/Burlesque" rel="nofollow noreferrer">Burlesque</a>, 12 bytes</h1>
<pre><code>J'0;;qL[&gt;mss
</code></pre>
<p><a href="https://tio.run/##SyotykktLixN/f/fS93A2rrQJ9out7j4/38DQwMgAkMQghAIQQO4FDKEiyA4hgYA" rel="nofollow noreferrer" title="Burlesque – Try It Online">Try it online!</a></p>
<pre><code>J     # Duplicate input
'0;;  # Split by 0s
qL[&gt;m # Maximum by length
ss    # Find index of substring in original
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog Unicode)</a>, 5 <a href="https://github.com/abrudz/SBCS" rel="nofollow noreferrer">bytes</a></h1>

<pre class="lang-apl prettyprint-override"><code>⊃∘⍒+/
</code></pre>
<p><a href="https://tio.run/##SyzI0U2pTMzJT///qG@qp/@jtgkG/x91NT/qmPGod5K2/v80oMij3j6g0KH1xo/aJgJVBQc5A8kQD8/g/yYKaQoGCoZACCFBNAQC2QA" rel="nofollow noreferrer" title="APL (Dyalog Unicode) – Try It Online">Try it online!</a></p>
<p><code>⊃∘⍒</code> is an idiom for &quot;index of maximum&quot;, or &quot;argmax&quot;, and <code>n +/ bitarray</code> computes the sums over all <code>n</code>-length segments. Uses the system setting <code>⎕IO←0</code> to make the output 0-based.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> <code>-pl</code>, 50 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>$i++,$;[y/1//]||=$i-1for&lt;&gt;=~/(?=(.{$_}))/g;$_=pop@
</code></pre>
<p><a href="https://tio.run/##K0gtyjH9/18lU1tbR8U6ulLfUF8/tqbGViVT1zAtv8jGzrZOX8PeVkOvWiW@VlNTP91aJd62IL/A4f9/Uy4DQwMgAkMQghAIQQO4FDKEiyA4hgb/8gtKMvPziv/r@prqASX@6xbkAAA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
<p>Input is on two lines with the length first and then the string.</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 5 bytes</h1>
<pre><code>ṡ§MḢ’
</code></pre>
<p><a href="https://tio.run/##y0rNyan8///hzoWHlvs@3LHoUcPM////G@gY6hjoQEgEhpHILGwqDbDowoUx1WCTAZL/TQE" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<h2>How it works</h2>
<pre><code>ṡ§MḢ’ - Main link. Takes the sequence s on the left and the length n on the right
ṡ     - Overlapping slices of s of length n
 §    - Sum of each slice
  M   - Indices of the maximal element
   Ḣ  - First (smallest) one
    ’ - Decrement as Jelly uses 1 indexing
</code></pre>
</div>
<div id="pu5" class="pu"><h3>C, <s>245</s> 185</h3>

<pre><code>#include &lt;stdio.h&gt;
main(int argc,char **argv){char *p,*q;int i,s,m=0;for(p=argv[1];*p;p++){for(s=0,q=p;q-p&lt;atoi(argv[2])&amp;&amp;*q;q++)s+=*q-'0';if(s&gt;m){m=s;i=p-argv[1];}}printf("%d\n", i);}
</code></pre>

<p><strong>Formatted:</strong></p>

<pre><code>#include &lt;stdio.h&gt;
main(int argc, char **argv) {
        char *p, *q;
        int i, s, m = 0;
        for (p = argv[1]; *p; p++) {
                for (s = 0, q = p; q - p &lt; atoi(argv[2]) &amp;&amp; *q; q++)
                        s += *q - '0';
                if (s &gt; m) {
                        m = s;
                        i = p - argv[1];
                }
        }
        printf("%d\n", i);
}
</code></pre>

<p><strong>Usage:</strong></p>

<pre><code>$ ./m1s 01001010101101111011101001010100010101101010101010101101101010010110110110 5
10
</code></pre>
</div>
<div id="pu6" class="pu"><h1>Scala - 70 Bytes</h1>

<pre><code>readLine.sliding(readInt).zipWithIndex.maxBy(x=&gt;x._1.count(_=='1'))._2
</code></pre>

<p>But with function names as long as <em>zipWithIndex</em> I guess Scala is not the best choice for code golf.</p>
</div>
<div id="pu7" class="pu"><h3>C# (Linq), 148 bytes</h3>

<pre><code>using System.Linq;class C{int F(string s,int l){return s.IndexOf(s.Skip(l-1).Select((c,i)=&gt;s.Substring(i,l)).OrderBy(p=&gt;-p.Sum(c=&gt;c)).First());}}
</code></pre>

<p>Formatted:</p>

<pre><code>using System.Linq;

class C
{
    int F(string s, int l)
    {
        return s.IndexOf(
            s
                .Skip(l - 1)
                .Select((c, i) =&gt; s.Substring(i, l))
                .OrderBy(p =&gt; -p.Sum(c =&gt; c))
                .First()
        );
    }
}
</code></pre>

<p>Takes input as method params.</p>

<p>What it does:</p>

<pre><code>string result = s // string is also char collection
    .Skip(l - 1) // make it collection shorter by l-1
    .Select((c, i) =&gt; s.Substring(i, l)) // so we can iterate, and select all substrings
    .OrderBy(p =&gt; -p.Sum(c =&gt; c)) // order substrings descending by sum of characters
    .First() // take first (most ones)

return s.IndexOf(result); // find index of result string
</code></pre>
</div>
<div id="pu8" class="pu"><h1>Mathematica, <s>38</s> 36</h1>
<pre><code>f=#-1&amp;@@Ordering[-MovingAverage@##]&amp;
</code></pre>
<p>Example:</p>
<pre><code>f[{0,1,0,0,1,0,1,0,1,0,1,1,0,1,1,1,1,0,1,1,1,0,1,0,0,1,0,1,0,1,0,0,0,1,0,1,0,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1,0,1,1,0,1,0,1,0,0,1,0,1,1,0,1,1,0,1,1,0},5]
</code></pre>
<p>Output:</p>
<blockquote>
<p>10</p>
</blockquote>
</div>
<div id="pu9" class="pu"><h1>Haskell, <strike>64</strike> 62 Bytes</h1>

<pre><code>n#l=0-(snd$maximum[(sum$take n$drop x l,-x)|x&lt;-[0..length l]])
</code></pre>

<p>Usage:</p>

<pre><code>5#[0,1,0,0,1,0,1,0,1,0,1,1,0,1,1,1,1,0,1,1,1,0,1,0,0,1,0,1,0,1,0,0,0,1,0,1,0,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1,0,1,1,0,1,0,1,0,0,1,0,1,1,0,1,1,0,1,1,0]
</code></pre>
</div>
<div id="pu10" class="pu"><h1>Matlab (42)</h1>

<p>Let <code>s</code> denote the string and <code>n</code> the substring length. The result is <code>r</code>.</p>

<p>Compute convolution of <code>s</code> with a sequence of <code>n</code> ones, then find the maximum. Convolution is done easily with <code>conv</code>, and the <code>max</code> function returns the position of the <em>first</em> maximum. It's necessary to subtract <code>1</code> to the resulting index, because Matlab indexing starts at <code>1</code>, not <code>0</code>. </p>

<pre><code>[~, r] = max(conv(s, ones(1,n), 'valid'));
r = r-1;
</code></pre>

<p>Golfed:</p>

<pre><code>[~,r]=max(conv(s,ones(1,n),'valid'));r=r-1
</code></pre>
</div>
<div id="pu11" class="pu"><h2>Java  329 bytes</h2>

<p>was going to implent a .matches(regex), but it would have been near identical to the python solutions above,  so i tried a sliding window instead. new here, so if anyone has any pointers be glad to hear them.</p>

<pre><code>public class ssMostOnes{
public static void main(String[] a){
    int b=0,w=0;
    for(int i=0;i&lt;a[0].length()-Integer.valueOf(a[1]);i++){
        int c=a[0].substring(i,i+Integer.valueOf(a[1])).length() - a[0].substring(i,i+Integer.valueOf(a[1])).replace("1","").length();
        if(c&gt;w){w=c;b=i;}
    }
    System.out.println(b);
}
</code></pre>

<p>}</p>
</div>
<div id="pu12" class="pu"><h1>C# (Regex), 196</h1>

<pre><code>class Test{static void Main(string[]a){System.Console.Write(System.Text.RegularExpressions.Regex.Match(a[1],"(?=((?&lt;o&gt;1)|0){"+a[0]+"})(?!.+(?=[10]{"+a[0]+"})(?!((?&lt;-o&gt;1)|0){"+a[0]+"}))").Index);}}
</code></pre>

<p>The actual regex is not that long, but all the fluffs needed for a C# program to compile double the size of the code.</p>

<p>The actual regex, setting the length to 5:</p>

<pre><code>(?=((?&lt;o&gt;1)|0){5})(?!.+(?=[10]{5})(?!((?&lt;-o&gt;1)|0){5}))
</code></pre>

<ul>
<li><code>(?=((?&lt;o&gt;1)|0){5})</code>: Look-ahead to read 5 characters without consuming, and push all <code>1</code>'s into "stack" <code>o</code>.</li>
<li><code>(?=[10]{5})(?!((?&lt;-o&gt;1)|0){5})</code>: At a position which has 5 characters ahead, there is not enough item in "stack" <code>o</code> to pop out, i.e. the substring has strictly more <code>1</code> than what we have in the current position.</li>
<li><code>(?!.+(?=[10]{5})(?!((?&lt;-o&gt;1)|0){5}))</code>: A position as described above can't be found for the rest of the string, i.e. all position  has less than or equal number of <code>1</code>'s.</li>
</ul>

<p>Taking the first result gives the answer, since all substrings in front of it has some substring ahead with more <code>1</code>'s, and we have check that any index larger than the current index has less than or equal number of <code>1</code>'s.</p>

<p>(And I learn something nice: the "stack" is restored on backtracking).</p>
</div>
<div id="pu13" class="pu"><h1>PHP (96)</h1>

<p><code>for($a=$b=$c=0;(($d=@substr_count($s,1,$a,$n))&gt;$c&amp;&amp;($b=$a)&amp;&amp;($c=$d))||$a++&lt;strlen($s););echo $b;</code></p>

<p><a href="http://3v4l.org/J4vqa" rel="nofollow">http://3v4l.org/J4vqa</a></p>

<p>variables <code>$s</code> and <code>$n</code> should be defined on the command line to the search string and substring length, respectively.</p>

<p>This would also work in any C-like language with appropriate functions for <code>substr_count()</code> and <code>strlen()</code>.  </p>
</div>
<div id="pu14" class="pu"><h1>Dyalog APL, 11</h1>

<pre><code>(-∘1+⍳⌈/)+/
</code></pre>

<p><a href="http://tryapl.org/">Try it here.</a> Usage:</p>

<pre><code>   f ← (-∘1+⍳⌈/)+/
   4 f 0 1 1 0 1 1 1 0 0 0 0 1 1
1
</code></pre>

<h3>Explanation</h3>

<p>This is a dyadic (meaning binary) function that takes the substring length from the left, and the sequence from the right. Its structure is the following:</p>

<pre><code>   ┌───┴────┐
 ┌─┴──┐     /
 ∘  ┌─┼─┐ ┌─┘
┌┴┐ + ⍳ / +  
- 1   ┌─┘    
      ⌈      
</code></pre>

<p>Explanation by explosion:</p>

<pre><code>(-∘1+⍳⌈/)+/
(       )+/  ⍝ Take sums of substrings of given length, and feed to function in parentheses
    + ⌈/     ⍝ The array of sums itself, and its maximum
     ⍳       ⍝ First index of right argument in left
 -∘1         ⍝ Subtract 1 (APL arrays are 1-indexed)
</code></pre>

<p>As an example, let's take <code>4</code> and <code>0 1 1 0 1 1 1 0</code> as inputs. First we apply the function <code>+/</code> to them and get <code>2 3 3 3 3</code>. Then, <code>+</code> and <code>⌈/</code> applied to this array give itself and <code>3</code>, and <code>2 3 3 3 3 ⍳ 3</code> evaluates to <code>2</code>, since <code>3</code> first occurs as the second element. We subtract <code>1</code> and get <code>1</code> as the final result.</p>
</div>
<div id="pu15" class="pu"><h2>Batch - 222</h2>

<p>Batch is obviously the perfect language for this kind of operation.</p>

<pre><code>@echo off&amp;setLocal enableDelayedExpansion&amp;set s=%1&amp;set l=-%2
:c
if defined s set/Al+=1&amp;set "s=%s:~1%"&amp;goto c
set s=%1&amp;set x=0&amp;for /l %%a in (0,1,%l%)do set c=!s:~%%a,%2!&amp;set c=!c:0=!&amp;if !c! GTR !x! set x=!c!&amp;set y=%%a
echo !y!
</code></pre>

<p><strong>Un-golfed / dissected:</strong></p>

<p>Initial setup. The variable <code>s</code> is the input string, and <code>l</code> will be the length of the input string, minus the sub-string length (initialized at negative <code>%2</code> where <code>%2</code> is the given sub-string length).</p>

<pre><code>@echo off
setLocal enableDelayedExpansion
set s=%1
set l=-%2
</code></pre>

<p>Get the length of the input as <code>l</code>, using a pure Batch string length solution - this mangles the variable <code>s</code> containing the input string, so we then set it again.</p>

<pre><code>:c
if defined s (
    set /A l += 1
    set "s=%s:~1%"
    goto c
)
set s=%1
</code></pre>

<p>The value of <code>x</code> is used to check which sub-string had the greatest number of 1's. Start a loop from 0 to the length of the string, minus the sub-string length (variable <code>l</code>). Get the sub-string starting from the current point in the loop (<code>%%a</code>), <code>c</code> is set as the input string starting at <code>%%a</code>, and taking <code>%2</code> (the given sub-string length) characters. Any <code>0</code>s are removed from <code>c</code>, then the value of <code>c</code> is compared to <code>x</code> - i.e. <code>111</code> is a greater number than <code>11</code> so we can just use the 'string' to do a greater than comparison. <code>y</code> is then set to current location in the string - which is finally outputted.</p>

<pre><code>set x=0
for /l %%a in (0, 1, %l%) do (
    set c=!s:~%%a,%2!
    set c=!c:0=!
    if !c! GTR !x! (
        set x=!c!
        set y=%%a
    )
)
echo !y!
</code></pre>

<p>Using OPs example -</p>

<pre><code>h:\&gt;sub1.bat 01001010101101111011101001010100010101101010101010101101101010010110110110 5
10
</code></pre>
</div>
<div id="pu16" class="pu"><h1>Python 2, 56</h1>
<pre><code>lambda s,l:max(range(len(s)),key=lambda i:sum(s[i:i+l]))
</code></pre>
<p>Accepts an array of integers, then the length.</p>
</div>
<div id="pu17" class="pu"><h1>CJam, <s>25</s> 21 bytes</h1>

<pre><code>q~_,,{1$&gt;2$&lt;:+~}$(]W=
</code></pre>

<p><a href="http://cjam.aditsu.net/" rel="nofollow">Test it here.</a></p>

<p>Takes input as an integer for the substring length, and an array of zeroes and ones as the sequence:</p>

<pre><code>5 
[0 1 0 0 1 0 1 0 1 0 1 1 0 1 1 1 1 0 1 1 1 0 1 0 0 1 0 1 0 1 0 0 0 1 0 1 0 1 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 1 0 1 1 0 1 0 1 0 0 1 0 1 1 0 1 1 0 1 1 0]
</code></pre>

<h2>Explanation</h2>

<pre><code>q~_,,{1$&gt;2$&lt;:+~}$(p];
q~                    "Read and evaluate the input.";
  _,                  "Duplicate the sequence and get its length N.";
    ,                 "Get an array [0 1 ... N-1].";
     {         }$     "Sort this array stably by the result of the given block.";
      1$              "Copy the sequence.";
        &gt;             "Slice off the first i bits.";
         2$           "Copy the substring length.";
           &lt;          "Truncate the sequence.";
            :+        "Get the sum to find the number of 1s.":
              ~       "Bitwise complement in order to sort from highest to lowest.";
                 (    "Shift off the first index from the sorted list.";
                  ]   "Wrap the entire stack in an array.";
                   W= "Extract the last element (the result), discarding the rest.";
</code></pre>

<p>The result is printed automatically at the end of the program.</p>

<p>Note that I'm also considering slices that start closer to the end than the desired substring length, but that's okay, because they are substrings of the last valid substring and will therefore never have more <code>1</code>s than that last valid substring.</p>
</div>
<div id="pu18" class="pu"><h1>JavaScript (ES6) 73</h1>
<p>A function returning the requested value.
The for loop scans the input string keeping a running total, saving the position of the max value.</p>
<pre class="lang-js prettyprint-override"><code>F=(a,n)=&gt;(x=&gt;{for(r=t=i=x;a[i];t&gt;x&amp;&amp;(x=t,r=i-n))t+=a[i]-~~a[i++-n]})(0)|r
</code></pre>
<p><strong>Ungolfed</strong></p>
<pre class="lang-js prettyprint-override"><code>F=(a, n) =&gt; {
   for(x = r = t = i = 0; a[i]; i++)
     t += a[i] - ~~a[i-n], // ~~ convert undefined values (at negative index) to 0
     t &gt; x &amp;&amp; (x=t, r=i-n+1);
   return r;
}
</code></pre>
<p><strong>Test</strong> In FireFox/FireBug console</p>
<pre><code>F(&quot;01001010101101111011101001010100010101101010101010101101101010010110110110&quot;,5)
</code></pre>
<p><em>Output</em> <code>10</code></p>
</div>
<div id="pu19" class="pu"><h1>J, <strike>15</strike> 14 chars</h1>

<pre><code>   ([:(i.&gt;./)+/\)

   5 ([:(i.&gt;./)+/\) 0 1 0 0 1 0 1 0 1 0 1 1 0 1 1 1 1 0 1 1 1 0 1 0 0 1 0 1 0 1 0 0 0 1 0 1 0 1 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 1 0 1 1 0 1 0 1 0 0 1 0 1 1 0 1 1 0 1 1 0
10
</code></pre>
</div>
<div id="pu20" class="pu"><h1><a href="https://github.com/isaacg1/pyth" rel="nofollow">Pyth</a>, 12</h1>

<pre><code>Mho/&lt;&gt;GNHZUG
</code></pre>

<p>This defines a function <code>g</code>, which requires a list of numbers and a number as input. 
E.g. </p>

<pre><code>Mho/&lt;&gt;GNHZUGg[0 1 0 0 1 0 1 0 1 0 1 1 0 1 1 1 1 0 1 1 1 0 1 0 0 1 0 1 0 1 0 0 0 1 0 1 0 1 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 1 0 1 1 0 1 0 1 0 0 1 0 1 1 0 1 1 0 1 1 0)5
</code></pre>

<p>You can test it here: <a href="https://pyth.herokuapp.com/" rel="nofollow">Pyth Compiler/Executor</a></p>

<h3>Explanation:</h3>

<pre><code>Mho/&lt;&gt;GNHZUG
M             defines a function g(G,H), G is the sequence, H the sequence length
  o       UG  orders the numbers between 0 and len(G)-1 according to the following key
    &lt;&gt;GNH     take the subsequence G[N:N+5]
   /     Z    count the zeros in this subsequence (this is the key)
 h            return the first value of the sorted list (minimum)
</code></pre>

<h3>Alternative:</h3>

<pre><code>Mho_s&lt;&gt;GNHUG
</code></pre>
</div>
<div id="pu21" class="pu"><h1>Ruby, 42</h1>

<pre><code>f=-&gt;s,n{(0..s.size).max_by{|i|s[i,n].sum}}
</code></pre>

<p>Takes input by calling it, e.g.</p>

<p><code>f['01001010101101111011101001010100010101101010101010101101101010010110110110',5]</code></p>

<p>This compares substrings using their total ASCII value and returns the index of the maximum. I'm not sure if <code>max_by</code> is required by the Ruby spec to be stable but it appears to be in the C implementation.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/44818/">44818</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




