<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::226849</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>260</td><td>Raku Perl 6 rakudo</td><td>240803T181842Z</td><td><a href="https://codegolf.stackexchange.com/questions/226849/ambiguous-chemical-formula/274649#274649">bb94</a></td></tr>
<tr d-ix="1"><td>124</td><td>Jelly</td><td>210608T224102Z</td><td><a href="https://codegolf.stackexchange.com/questions/226849/ambiguous-chemical-formula/229292#229292">Nick Ken</a></td></tr>
<tr d-ix="2"><td>265</td><td>JavaScript ES6</td><td>210603T173942Z</td><td><a href="https://codegolf.stackexchange.com/questions/226849/ambiguous-chemical-formula/226864#226864">Arnauld</a></td></tr>
<tr d-ix="3"><td>117</td><td>05AB1E</td><td>210604T083545Z</td><td><a href="https://codegolf.stackexchange.com/questions/226849/ambiguous-chemical-formula/228921#228921">ovs</a></td></tr>
<tr d-ix="4"><td>194</td><td>Jelly</td><td>210603T140810Z</td><td><a href="https://codegolf.stackexchange.com/questions/226849/ambiguous-chemical-formula/226852#226852">hyper-ne</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://raku.org" rel="nofollow noreferrer">Raku (Perl 6) (rakudo)</a>, 260 bytes</h1>
<pre class="lang-perl prettyprint-override"><code>{2 min+(.match(/^(\d|a&lt;[cglmrstu]&gt;|b&lt;[aehikr]&gt;?|c&lt;[adeflmnorsu]&gt;?|d&lt;[bsy]&gt;|e&lt;[rsu]&gt;|f&lt;[elmr]&gt;?|g&lt;[ade]&gt;|h&lt;[efgos]&gt;?|in|ir?|kr?|l&lt;[airuv]&gt;|m&lt;[cdgnot]&gt;|n&lt;[abdehiop]&gt;?|os?|og|p&lt;[abdmortu]&gt;?|r&lt;[abefghnu]&gt;?|s&lt;[bcegimnr]&gt;?|t&lt;[abcehilms]&gt;|u|v|w|yb?|xe|zn|zr)+$/):ex)}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=XZDRToMwFIZj4tWegkxjIItuYGKIw_EgOBMohTbQdmlhjnl8Em-40MRXck_jocguvDhp_--c8_9NPz51WrX9t-icm8J5mn21TXEbni4u3wJHcLlw70TaEOYuX9znHNIoIWUttGna7QayKEkp45XebmIgKHJa1EIqbdqB5FGSmQ7naJRYBEWUUNwemqUdR8aQFaUyA-QSuI6hwqqxz3W7xwmBoXkpVYN3iTjLMVTthgVlsErYWSqUbmywHiSaMmmlwXcQWnIhbXIzdAla1AJDoYU9vEKXxXCgcJRw1N7ieuk90oP3Pn7Gj1rPTNo5hTsnau6tnSsnmEDAwnv1MEJ_gjX_D0a9OttME2cf4q9Y-Gfuj7F9P56_" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 124 bytes</h1>
<pre><code>“€ṡƥvẏÄhʠ!ịẈ?iḥẋỌ¹'ṅɦçç⁹.Sð$ṚṠȥṢK}/&gt;œ;ỵZƤẓ}:;tÆṾḶj⁶ḄỵḋİʠUḊẈ½^ɲṆßṇµ⁶æḟɦ1¥©ḟþjHṀṪỤƑgạȥḂṾḞƓƑ@Ð⁾æƭVẈṣ’ḃ90Äḃ26ịØaØDW€¤;
ŒṖfƑƇ¢L«2
</code></pre>
<p><a href="https://tio.run/##JY9LS0JRFIXn/Yq6BE2i1MAeQjVoENQsKmgQhFQqgpMIGghqppFBmRAWkY@8V3qBBMrZ95KDs/OQ/ot1/8jtaJO1F6zFt1mxw3j8zPPc1JOb@QDVlHkK@4azkUF1Ak4B9uVKFMKEXYBzLWkKdNG3uMlNN00zW9yaBD2Cqr8mqL6RnF3ulUJw2nuqAbuUXAqdcA7UhejE3HQHIqsziMJPa1DdhrjSdPm93/8C5bgCysu2brEFUelbfmnKV@24G1sHpUBvcBqqeAy7pp@JzAj7rEqquMq3brrLlvrc0UDQi5t6gDhf9HFWn0BQz@DyAZfXdvVE2QiN9e5A90eqqPKyvinfAx7ndeJ5RjhhTI8bgcjCXCI4dPHoSIcS/vdhvy8ynzD@AA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<p>A set of links that takes a string argument and returns 0 for impossible, 1 for a single valid interpretation and 2 for ambiguous.</p>
<p>Loosely based on <a href="https://codegolf.stackexchange.com/a/226852/42248">@hyper-neutrino’s answer</a>, but mostly rewritten.</p>
</div>
<div id="pu2" class="pu"><h1>JavaScript (ES6), 265 bytes</h1>
<p><em>Saved 6 bytes thanks to @tsh</em></p>
<p>Expects an array of characters. Returns <strong>0</strong> for <em>unambiguous</em>, <strong>1</strong> for <em>ambiguous</em>, or <strong>-1</strong> for <em>impossible</em>.</p>
<pre class="lang-javascript prettyprint-override"><code>s=&gt;s.reduce((p,c,i)=&gt;p|=1/c||b?b=0:/[bcfhiknopsuvwy]/.test(c)+(b=/([ace][rsu]|[cgn][ade]|[iz][nr]|a[cglmt]|b[aehikr]|c[fl-o]|d[bsy]|f[elmr]|h[efgos]|kr|l[airuv]|m[cdgnot]|n[bhiop]|o[gs]|p[abdmortu]|r[abe-hnu]|s[bcegimnr]|t[abcehilms]|xe|yb)$/.test(c+s[i+1]))-1,b=0)
</code></pre>
<p><a href="https://tio.run/##lY/NTsMwEITvPEVVcUjUJmlBAoSU8iArH@zNJjF1vFGclBb53cvyU4lDBa1Po9HnmdlXvdMBB9uPmeeKjnV5DOUm5ANVE1KS9Etc2rTc9LFcFxijeTHl6rkAg3Vrt577MO3eDqrIRwpjgukiMWWRgEZSMIRJRcDGK9AVibTvCvygohbTdaOKBjRJjFgItctYxQpMOKhYA7lO7BaobjiouB2iA22HaadiB1g1nuW/B9Na7lVkaATqQZuq42GU3kE0Za0XGWQtNbb7rB7FRul0nfB7igeT3p7GLwLYxVqlabZeypXpEdkHdpQ7bpI6gTzP58jzmTyBZkUx052xzcRTuDmD3rVP9/ww/0En/yfs7O/c/@Av9gTbrucQrHF0jsXv5EsG43rVPvKFg/d0xeA90fzSwYxXBCPvzwYfPwA" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h2>How?</h2>
<p>The variable <span class="math-container">\$p\$</span> holds the final result. The flag <span class="math-container">\$b\$</span> is set whenever a 2-character chemical symbol is matched.</p>
<p>For each character <span class="math-container">\$c\$</span> at position <span class="math-container">\$i\$</span> in the input array:</p>
<ul>
<li><p>If <span class="math-container">\$c\$</span> is a digit or the flag <span class="math-container">\$b\$</span> is set, we clear <span class="math-container">\$b\$</span> and leave <span class="math-container">\$p\$</span> unchanged.</p>
</li>
<li><p>Otherwise, we compute:</p>
<pre class="lang-javascript prettyprint-override"><code>p |= /E1/.test(c) + (b = /E2/.test(c + s[i + 1])) - 1
</code></pre>
<p>where <code>/E1/</code> and <code>/E2/</code> are regular expressions matching 1-character and 2-character chemical symbols respectively.</p>
<p>Which leads to:</p>
<pre><code> /E1/ matching | /E2/ matching | sum - 1 | meaning
---------------+---------------+---------+------------
 no            | no            |   -1    | impossible
 no            | yes           |    0    | unchanged
 yes           | no            |    0    | unchanged
 yes           | yes           |    1    | ambiguous
</code></pre>
</li>
</ul>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, 117 bytes</h1>
<p>Prints <code>-1</code> for impossible, <code>0</code> for unambiguous and <code>1</code> for ambiguous.</p>
<pre><code>.œε.•B‚Δ—₅H^ƶƵXJ∍æ“ºl¦¯í-āмIõVÑK:Λ‘(·÷ΓKå&lt;70'V∍∞±ζÚšË›¿ĆÅRÙΔu”ípā&lt;À¿ýÌQмÛì‰Óǝ“§KhúγIÑËM`Êιš•#€SASõšøε`ì}˜žhS«såP}O&lt;.±
</code></pre>
<p><a href="https://tio.run/##JY7NS8JgHMf/lViHOtSwgozYpU7ZiF4GEkRhjWCCsEA6Co@CIVkH2Q7lS2CgHZqUxLSGJTzfzQ7Bg3/D7x9ZW10@fC7fFzN/epY9D4UbyoElXJnY4yaxurCJ2VQqb51MBhP3cJsqt@gSa3Ivx7v8Bb1FvzgdpeCmUVPXRYPY3TwfYigsFR0lmZhLRwmqPPC@GKAetFEl5vGxf4XyAe6FfUmshd6FX1TA@BifuNmfjtCAQ@wV1ncrnnpSDXjiLYUaqjsZXIuPoB3dm6WSo21ocKPWd@Fm4BR@msGXofHnPDp7hV1F5v0wPJJ0U1qYkZaNtRVzNbZc9o8x9H/XlxJG0pSOfwE" rel="nofollow noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>
<pre class="lang-python prettyprint-override"><code>.œ              # push all partitions of the input
  ε      }      # map over the partitions:
   ...          #   push the table of valid parts (see below)
      s         #   swap to the current partition
       åP       #   test if every part is in the table
          O     # take the sum over all results
           &lt;    # decrease by 1
            .±  # print the sign of this
</code></pre>
<h4>Compressing the table</h4>
<pre class="lang-python prettyprint-override"><code>.•B...š•                  # alphabet compressed string (contains 26 spaces)
        #                 # split on spaces
         €S               # split each string into a list of chars
           ASõš           # the characters of the alphabet with the empty string prepended
               øε`ì}      # zip alphabet with previous list and prepend matching characters
                    ˜     # flatten the list
                     žhS« # append the digits
</code></pre>
<p><a href="https://tio.run/##XY67SgNBFIb7fYphLbSIYieIFrEQNVhoRMRCHHfH7MBmd8iMioUwCop4KcQU3iJEUAsjKhIvwQvsSbQQFp9hXiTOZhMF2/Of7/t/n@M5Sur1LiXPBpQ8CvNK5tXa@tDMx8NHeWpEbe7ChZInQcUNLoIbuO6srn6/DEN5EvZSveGxkgcdwSM8hvspOO/r6W6f1ITaPA3uwgc4qhVhW8lK8F7dgPVxOAzzC0oW4JpVV/tABu/wCjtj3y9wDCUlb2H/sxBVXaYcqIT3w7AH26OzsBU@14p6nmEmXebgOSKQ5WdZjnBObMRFjnqZXjPRbxhthmmkmUsF8j3EGbYIjwO1Vkr/ZgRbThND1BM@wsilXDPzyHJwrokk01CuFTU04ZDGHVuC5Hj0JfQFt6YsUeE0LiTLxHLLq9cx4tnEjmXwFJZnobSiddOU/YP17yL1F3i8Ant2i0ZZLCwn0v31x76vE20adLEQxGuUR2gc1d6cdHCl4yRrOKLUphkqmqhpJuAWXhP1@g8" rel="nofollow noreferrer">Try this part with step-by-step output!</a></p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 194 bytes</h1>
<pre><code>“×ĿcṚ¦mßṛy|3¹,GƊ§ḋCƤṂỴƇƈÇ¡ɱɓkȷ¶ʂạ⁺ịọ9ėżḣ÷8ÆC⁼³°0|KṪƈŀ@:ḤvƥÄƭsɲẸpI0⁷tÞO§ƒ;ḷ8ḟhıA€ḊṪḷ`ɦḊa¥IƭịƤñ¡÷?²ạ©œ5EẏṢɲ⁺ȷɗL4Q¤F⁹~Ṿ⁸ṪṄ|eėgṖ€ṂɠƲ2ʂ⁺ɱḌḳWƘɠṛ;⁵2nȦƝ]ṇUṆ84¥ẸṪḲdþ¹Ẋd©’ṃØẠØD;µe€ØD;ØA¤œṗ
¢Œl⁸ŒṖ¤e€€ȦƇL«2
</code></pre>
<p><a href="https://tio.run/##JY9bSwJREMff@xThcw9mN8uHim5EQfQQPQWFSVaWQREEEu4WbVgRKLR211qNbpB22XPWKJjjHjx9izlfZDtbMAz/GWZ@85@lWCKx5XkyfcHM@ncU6RmUV9g10vOtVBvQlhGegTskBwPcQqpj7Y0bfJ8ZUBQVkVtu2PDxo6NTlJqDtQOsHXXXTfcTyS2zw2xvQGqf8AovwdQY0ge@76b7epBYm7zEdvnzuqiiQ9ZGg1KzN9jVBNzxbASJHUZyHa9X@qX@hCSjFlVvVpSVnoPSKH9Wh7jFKlBkdi8oRBHu3VzHEDrHSG9EVVlp2MIcb58Ea1hqdBvpl9SIz6G7qVjdXEB64rOpLgq8GvrR1YaoIDlE8jrN86Kgno9I7T202ijzyxmkxhTSvXA7lJTdPzvVefYFFJ3MPNzL9CnSHZZHp8DygxF4jym2r1i@Hyw3h9Rsghs3m1Ae3Kw6DZY/oULRjXF4DHnMUJXnBaLJQEtzIBQPtyU7fZVY/Mt@iv7raGsw3pUM/AI" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<p>-2 bytes thanks to caird coinheringaahing via better usage of chaining</p>
<p>Output 2 for ambiguous, 1 for unambiguous, 0 for impossible.</p>
<p>The logic behind this is pretty trivial, I just need to figure out a better way of encoding this periodic table...</p>
<pre><code>“...’ṃØẠØD;µe€ØD;ØA¤œṗ  Helper Link; produce the list of components
“...’                   Compressed Integer
     ṃØẠ                Base-decoded into the upper and lower-case alphabet
        ØD;             Prepend the digits (as strings) as well
           µ            With the list of components (joined on nothing) as the left argument
            e€          Check if each element is in
              ØD;ØA¤    The digits + uppercase alphabet
                    œṗ  And partition the components before those indices

¢Œl⁸ŒṖ¤e€€ȦƇL«2         Main Link
¢Œl                     The components above, lowercased
   ⁸ŒṖ¤                 All ways of partitioning the input
         €              For each partition
        €               For each component
       e                Is it in the list of valid components?
          ȦƇ            Filter to keep partitions where every component was valid
            L           Length; 0 if impossible, 1 if unambiguous, 2+ if ambiguous
             «2         Minimum of the above and 2 (sets ambiguous case to 2 no matter how many occurrences existed)
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/226849/">226849</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




