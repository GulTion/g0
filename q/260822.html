<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::260822</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>096</td><td>Perl 5 MListUtil=pairmap pa</td><td>240207T223327Z</td><td><a href="https://codegolf.stackexchange.com/questions/260822/compare-two-fractions-with-ascii-art/269876#269876">Xcali</a></td></tr>
<tr d-ix="1"><td>230</td><td>AWK</td><td>230511T143101Z</td><td><a href="https://codegolf.stackexchange.com/questions/260822/compare-two-fractions-with-ascii-art/260877#260877">Marius_C</a></td></tr>
<tr d-ix="2"><td>030</td><td>Thunno 2 N</td><td>230526T164540Z</td><td><a href="https://codegolf.stackexchange.com/questions/260822/compare-two-fractions-with-ascii-art/261250#261250">The Thon</a></td></tr>
<tr d-ix="3"><td>134</td><td>Excel ms365</td><td>230510T081811Z</td><td><a href="https://codegolf.stackexchange.com/questions/260822/compare-two-fractions-with-ascii-art/260833#260833">JvdV</a></td></tr>
<tr d-ix="4"><td>nan</td><td>J</td><td>230513T201938Z</td><td><a href="https://codegolf.stackexchange.com/questions/260822/compare-two-fractions-with-ascii-art/260899#260899">Jonah</a></td></tr>
<tr d-ix="5"><td>027</td><td>Vyxal j</td><td>230512T003351Z</td><td><a href="https://codegolf.stackexchange.com/questions/260822/compare-two-fractions-with-ascii-art/260881#260881">noodle m</a></td></tr>
<tr d-ix="6"><td>166</td><td>Java JDK</td><td>230511T161212Z</td><td><a href="https://codegolf.stackexchange.com/questions/260822/compare-two-fractions-with-ascii-art/260878#260878">Fhuvi</a></td></tr>
<tr d-ix="7"><td>113</td><td>JavaScript ES6</td><td>230510T092041Z</td><td><a href="https://codegolf.stackexchange.com/questions/260822/compare-two-fractions-with-ascii-art/260838#260838">Arnauld</a></td></tr>
<tr d-ix="8"><td>050</td><td>Charcoal</td><td>230510T134859Z</td><td><a href="https://codegolf.stackexchange.com/questions/260822/compare-two-fractions-with-ascii-art/260847#260847">Neil</a></td></tr>
<tr d-ix="9"><td>093</td><td>Ruby</td><td>230510T140635Z</td><td><a href="https://codegolf.stackexchange.com/questions/260822/compare-two-fractions-with-ascii-art/260849#260849">G B</a></td></tr>
<tr d-ix="10"><td>nan</td><td>SAS</td><td>230511T101226Z</td><td><a href="https://codegolf.stackexchange.com/questions/260822/compare-two-fractions-with-ascii-art/260873#260873">Bartosz </a></td></tr>
<tr d-ix="11"><td>105</td><td>Arturo</td><td>230510T221149Z</td><td><a href="https://codegolf.stackexchange.com/questions/260822/compare-two-fractions-with-ascii-art/260867#260867">chunes</a></td></tr>
<tr d-ix="12"><td>045</td><td>Pyth</td><td>230510T195321Z</td><td><a href="https://codegolf.stackexchange.com/questions/260822/compare-two-fractions-with-ascii-art/260864#260864">CursorCo</a></td></tr>
<tr d-ix="13"><td>030</td><td>Jelly</td><td>230510T191451Z</td><td><a href="https://codegolf.stackexchange.com/questions/260822/compare-two-fractions-with-ascii-art/260863#260863">Jonathan</a></td></tr>
<tr d-ix="14"><td>077</td><td>Julia</td><td>230510T150157Z</td><td><a href="https://codegolf.stackexchange.com/questions/260822/compare-two-fractions-with-ascii-art/260851#260851">Kirill L</a></td></tr>
<tr d-ix="15"><td>045</td><td>APL Dyalog APL</td><td>230510T122244Z</td><td><a href="https://codegolf.stackexchange.com/questions/260822/compare-two-fractions-with-ascii-art/260842#260842">ovs</a></td></tr>
<tr d-ix="16"><td>032</td><td>05AB1E</td><td>230510T084541Z</td><td><a href="https://codegolf.stackexchange.com/questions/260822/compare-two-fractions-with-ascii-art/260836#260836">Kevin Cr</a></td></tr>
<tr d-ix="17"><td>152</td><td>Python</td><td>230510T040536Z</td><td><a href="https://codegolf.stackexchange.com/questions/260822/compare-two-fractions-with-ascii-art/260823#260823">blaketyr</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> <code>-MList::Util=pairmap -pa</code>, <s>97</s> 96 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>($_,$\)=pairmap{&quot;|x&quot;x$a.&quot;|-&quot;x($b-$a).&quot;|
&quot;}@F;($c&lt;0?$_:$\)=~s/\|\K./$&amp;$&amp;/g while$c=y///c-length$\
</code></pre>
<p><a href="https://tio.run/##NY1BC4IwGEDv/YoxPkShOS2EWEmdulTHbgOZY@hg6XCDjKyf3rJDx/fg8awaTBFCDNUSeFJaoYebsE88jXgEkeKJ4DGGmoBIZljg1@G4jUHusj1U7Fe8HeUTP6UUIohog@6tNgpk@aCUSmJU1/gWeAg5WqE12nx663XfuUAuZ@08Y1evzX87yyLN8iwQK74" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
<p>Brute force method.  Creates each fraction with only one character between the lines.  Then it extends the length of the shorter by one more character between the lines, repeatedly, until the two lengths are the same.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.gnu.org/software/gawk/manual/gawk.html" rel="nofollow noreferrer">AWK</a>, <s>265 253 248 239</s> 230 bytes</h1>
<pre><code>function g(p,q){return q?g(q,p%q):p}function l(s,j){a=s;for(i=1;i++&lt;M;)a=a s;b=a=j?a&quot;|&quot;:z;for(i=1;i++&lt;j;)b=b a;return b}L+=(L=(B=$2)*(D=$4)/g(B,D))==(B&lt;D?D:B)?L:0,$0=&quot;|&quot;l(&quot;x&quot;,$1,M=L/B-1)l(&quot;-&quot;,B-$1)&quot;\n|&quot;l(&quot;x&quot;,$3,M=L/D-1)l(&quot;-&quot;,D-$3)
</code></pre>
<p><a href="https://tio.run/##VY1fa4MwFMXf/RQXcZA7IzWJxVZ7EcRH@w32EscqumK1f9hY18/urtIVCkl@JzfnnNivz3HcXbr3c3PooBa9HPB6/Dhfjh0MWS0G2b8MmPS3h2cvTrLFq6VTujscRUMqbXx/s03RkoVTWpGlNrPur5v8PDnaFCuqwKb3@upW@iRKEjl5Gl9FQV6Ei1rkskAkHm@KrEhyzMoklF5I3LgX7rcrPSW3VC7yQCEPAlfmgafQfeseBjMbioehCDyD46hAwxJWTggKeN@pHQWG1UTNNDM1RHdqx8zva@YSIogdvQLDuTWfTgx801yqIJ7i5l9EU304/aM4yCqalJqHSvH6Aw" rel="nofollow noreferrer" title="AWK – Try It Online">Try it online!</a></p>
<ul>
<li>-9 bytes thanks to <a href="https://codegolf.stackexchange.com/users/52904/ceilingcat">@ceilingcat</a></li>
<li>-9 bytes:
<ul>
<li>-1 replaced <code>&quot;&quot;</code> with <code>z</code></li>
<li>-8 replaced last structure by implicit assignation</li>
</ul>
</li>
</ul>
<hr />
<p>This use POSIX awk, and not gawk.<br />
In gawk you can use the abbreviation <code>func</code> for <code>function</code>. <br />
<a href="https://www.gnu.org/software/gawk/manual/html_node/Definition-Syntax.html" rel="nofollow noreferrer">GAWK function</a> :</p>
<blockquote>
<p>In many awk implementations, including gawk, the keyword function may be abbreviated func. (c.e.) However, POSIX only specifies the use of the keyword function. This actually has some practical implications. If gawk is in POSIX-compatibility mode (see Command-Line Options), then the following statement does not define a function:</p>
<pre><code>func foo() { a = sqrt($1) ; print a }
</code></pre>
</blockquote>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/Thunno/Thunno2" rel="nofollow noreferrer">Thunno 2</a> <code>N</code>, 30 <a href="https://github.com/Thunno/Thunno2/blob/main/docs/codepage.md" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>zẸÐDŀƁƇ⁺×_\µ«L©ı`x-si;×ı'|j'|ṛ
</code></pre>
<p>Requires Thunno 2.2.0+ for stack rotation. ATO is on v2.1.9.</p>
<p>Port of Jacob's Vyxal answer. See that answer for a more detailed explanation.</p>
<h4>Explanation</h4>
<pre><code>zẸ          # Uninterleave into two pieces
  ÐD        # Quadruplicate so four copies are on the stack
    ŀ       # Pop one copy and push the LCM
     ƁƇ     # Without popping anything, check for containment
       ⁺×   # Increment and multiply (i.e. double if true)
         _  # Subtract the list from this number
\           # Divide the two lists
 µ«         # Rotate the stack left
   L        # Lowered range of each number
    ©       # Less than or equal to
     ı      # Map over this list of lists:
      `x-   #  Push the string &quot;x-&quot;
         s  #  Swap so the list is on top
i           #  Index into the string
 ;          # End map
  ×         # Multiply each string by each number
   ı        # Map over this list of lists:
    '|j     #  Join the list by the character &quot;|&quot;
       '|ṛ  #  And surround this string by the character &quot;|&quot;
            # N flag joins by newlines
            # Implicit output
</code></pre>
<h4>Screenshot</h4>
<p><a href="https://i.stack.imgur.com/G1D4H.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/G1D4Hm.png" alt="Screenshot" /></a></p>
</div>
<div id="pu3" class="pu"><h1>Excel (ms365), 134 bytes</h1>
<p>Credits to @<a href="https://codegolf.stackexchange.com/users/116680/jos-woolley">JosWooley</a> for this is essentially his answer.</p>
<p><a href="https://i.stack.imgur.com/BDlDL.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/BDlDL.png" alt="enter image description here" /></a></p>
<p>Formula in <code>E2</code>:</p>
<pre><code>=&quot;|&quot;&amp;TEXTJOIN({&quot;&quot;;&quot;
|&quot;},0,REPT(REPT({&quot;x&quot;,&quot;-&quot;},(1+(MOD(D1,B1)=0))*LCM(B1,D1)/VSTACK(B1,D1)-1)&amp;&quot;|&quot;,CHOOSE({1,2;3,4},A1,B1-A1,C1,D1-C1)))
</code></pre>
<hr />
<p><strong>2nd Answer</strong>: 74 + 81 = 155 bytes</p>
<p>Credits to @<a href="https://codegolf.stackexchange.com/users/38183/engineer-toast">EngineerToast</a> for this is essentially his answer.</p>
<p>Formula in <code>E2</code>:</p>
<pre><code>=LET(x,2-SIGN(MOD(D1,B1)),z(A1,B1,LCM(B1,D1)*x)&amp;&quot;
&quot;&amp;z(C1,D1,LCM(B1,D1)*x))
</code></pre>
<p>Note that there should be a literal newline character pieces this together, where <code>z()</code> refers to a named function:</p>
<pre><code>=LAMBDA(a,b,m,LET(x,m/b-1,&quot;|&quot;&amp;REPT(REPT(&quot;x&quot;,x)&amp;&quot;|&quot;,a)&amp;REPT(REPT(&quot;-&quot;,x)&amp;&quot;|&quot;,b-a)))
</code></pre>
<hr />
<p><em><strong>Original Answer:</strong> 118 + 138 = 256 bytes</em></p>
<p>Formula in <code>E2</code>:</p>
<pre><code>=z(TEXTJOIN(&quot;|&quot;,0,,IF(SEQUENCE(B1)&lt;=A1,&quot;x&quot;,&quot;-&quot;),),TEXTJOIN(&quot;|&quot;,0,,IF(SEQUENCE(D1)&lt;=C1,&quot;x&quot;,&quot;-&quot;),))
</code></pre>
<p>This refers to a named function called 'z':</p>
<pre><code>=LAMBDA(a,b,LET(x,LEN(a),y,LEN(b),q,SUBSTITUTE(SUBSTITUTE(IF(x&lt;y,a,b),&quot;|-&quot;,&quot;|--&quot;),&quot;|x&quot;,&quot;|xx&quot;),IF(x=y,a&amp;CHAR(10)&amp;b,IF(x&lt;y,z(q,b),z(a,q)))))
</code></pre>
<p>The idea here is that we create two strings with single 'x' and '-' between pipe-symbols. Z is a named function that will now check the length of both strings and will replace '|x' and '|-' with '|xx' and '|--' respectively for the shortest of the two. It will do so untill the strings have the same length. When found the same length, just concat them together with a newline.</p>
</div>
<div id="pu4" class="pu"><h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, <sup>55 52</sup> 51 bytes</h1>
<pre><code>'-x|'{~(*.(%*1+e.),)&amp;{:(2,~&amp;,2,.}.@#&quot;+)&amp;&gt;;&amp;((&gt;i.)/)
</code></pre>
<p><a href="https://tio.run/##lZExb4MwEIV3fsXFFLDBGNsoLTgNQq3UqerQlXiqEjVdulZK8F@nB2WAELXqYFv@7t57Z/mjK1dG2duVKaPIIyI6wNZABBwkGFypgMfX56cuSr/O0cnRWNAgVsleMM7Ck6Gau5BrLlpR@yRhYbUJKa2OgmWsY97Lg4BflbJ1oV4o/9ANga41/9VhXlo3Q@TOXwopxfZKZEQxOpr0ORZRzU1zQxJlmI7l1jJLA3fOjqK2LBYZbX5y7DS/MRxftiGqH8QGrpnOgmPc11Qb2Vq2IxKUH1ZsMs7@7f0TFKzhABry4Yq/M1KNdA3FjKIFUtyvUn3hkCNVC6oHei1NX/Tmo0M5o7qAXPbdJZ6zyl1f620Kz@u@AQ" rel="nofollow noreferrer" title="J – Try It Online">Try it online!</a></p>
<p>Great challenge, surprisingly difficult to golf, and tried a few different approaches just to get this:</p>
<p>The basic idea is:</p>
<ol>
<li><p>First create each fraction with no dividing bars, using 0 for &quot;empty&quot; and 1 for &quot;full&quot;.  Eg, <span class="math-container">\$ \frac{2}{3}\$</span> is <code>1 1 0</code> and <span class="math-container">\$\frac{1}{5}\$</span> is <code>1 0 0 0 0</code>.</p>
</li>
<li><p>Next we compute the amount each number needs to &quot;puff up&quot;, so that the final length is the modified LCM -- 15 in this case.  The modification, described in many other answers, is to double the LCM when one of the denominators <em>is</em> the LCM.</p>
</li>
<li><p>&quot;Puff up&quot; each number as needed -- 5x for <span class="math-container">\$ \frac{2}{3}\$</span> and 3x for <span class="math-container">\$\frac{1}{5}\$</span> (extra spaces for clarity):</p>
<pre><code>1 1 1 1 1   1 1 1 1 1   0 0 0 0 0 
1 1 1  0 0 0  0 0 0  0 0 0  0 0 0
</code></pre>
</li>
<li><p>Change the first element in each group to a 2, to represent the divider, and append and extra 2 at the end:</p>
<pre><code>2 1 1 1 1   2 1 1 1 1   2 0 0 0 0  2
2 1 1  2 0 0  2 0 0  2 0 0  2 0 0  2
</code></pre>
</li>
<li><p>Convert to ascii:</p>
<pre><code>|xx|--|--|--|--|
|xxxx|xxxx|----|
</code></pre>
</li>
</ol>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a> <code>j</code>, <s>31 29</s> 27 bytes</h1>
<pre><code>yD∆Ŀ~cßdεȮ/‟ʁ≤‛x-i*ƛ\|j\|ø.
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=1#WyJqIiwiIiwieUTiiIbEv35jw59kzrXIri/igJ/KgeKJpOKAm3gtaSrGm1xcfGpcXHzDuC4iLCIiLCJbMywgNSwgMiwgM10iXQ==" rel="nofollow noreferrer">Try it Online!</a> or <a href="https://vyxal.pythonanywhere.com/?v=1#WyJBIiwiIiwieUTiiIbEv35jw59kzrXIri/igJ/KgeKJpOKAm3gtaSrGm1xcfGpcXHzDuC4iLCI74oGLwrbDuC4gIyBmb3JtYXQgdGVzdCBjYXNlcyIsIlszLCA1LCAyLCAzXVxuWzEsIDIsIDUsIDhdXG5bMCwgMSwgMCwgMV1cblszLCAzLCAxLCA5XVxuWzI4LCAzMCwgMjksIDMwXSJd" rel="nofollow noreferrer">Verify some test cases</a></p>
<p>-2 bytes thanks to lyxal :)</p>
<p>I'm aware of Vyncode but I'm probably going to stick to regular SBCS bytes in my answers for the time being.</p>
<div class="s-table-container">
<table class="s-table">
<thead>
<tr>
<th>Code</th>
<th>Stack (bottom to top)</th>
</tr>
</thead>
<tbody>
<tr>
<td>Implicit input</td>
<td><code>(3 | 5 | 2 | 3)</code></td>
</tr>
<tr>
<td><code>y</code> Every other, and the rest</td>
<td><code>(3 | 2) (5 | 3)</code></td>
</tr>
<tr>
<td><code>D</code> Push top of stack twice</td>
<td><code>(3 | 2) (5 | 3) (5 | 3) (5 | 3)</code></td>
</tr>
<tr>
<td><code>∆Ŀ</code> Least Common Multiple</td>
<td><code>(3 | 2) (5 | 3) (5 | 3) 15</code></td>
</tr>
<tr>
<td><code>~c</code> Execute without pop: Is A in B?</td>
<td><code>(3 | 2) (5 | 3) (5 | 3) 15 0</code></td>
</tr>
<tr>
<td><code>ßd</code> If so, double, otherwise don't</td>
<td><code>(3 | 2) (5 | 3) (5 | 3) 15</code></td>
</tr>
<tr>
<td><code>ε</code> Absolute difference</td>
<td><code>(3 | 2) (5 | 3) (10 | 12)</code></td>
</tr>
<tr>
<td><code>Ȯ</code> Carry second-to-top over</td>
<td><code>(3 | 2) (5 | 3) (10 | 12) (5 | 3)</code></td>
</tr>
<tr>
<td><code>/</code> Divide</td>
<td><code>(3 | 2) (5 | 3) (2 | 4)</code></td>
</tr>
<tr>
<td><code>‟</code> Rotate stack right</td>
<td><code>(2 | 4) (3 | 2) (5 | 3)</code></td>
</tr>
<tr>
<td><code>ʁ</code> Range [0, n)</td>
<td><code>(2 | 4) (3 | 2) ((0 | 1 | 2 | 3 | 4) | (0 | 1 | 2))</code></td>
</tr>
<tr>
<td><code>≤</code> Greater than or equal to?</td>
<td><code>(2 | 4) ((0 | 0 | 0 | 1 | 1) | (0 | 0 | 1))</code></td>
</tr>
<tr>
<td><code>‛x-</code> String literal &quot;x-&quot;</td>
<td><code>(2 | 4) ((0 | 0 | 0 | 1 | 1) | (0 | 0 | 1)) &quot;x-&quot; </code></td>
</tr>
<tr>
<td><code>i</code> Index into</td>
<td><code>(2 | 4) ((&quot;x&quot; | &quot;x&quot; | &quot;x&quot; | &quot;-&quot; | &quot;-&quot;) | (&quot;x&quot; | &quot;x&quot; | &quot;-&quot;))</code></td>
</tr>
<tr>
<td><code>*</code> Repeat string n times</td>
<td><code>((&quot;xx&quot; | &quot;xx&quot; | &quot;xx&quot; | &quot;--&quot; | &quot;--&quot;) | (&quot;xxxx&quot; | &quot;xxxx&quot; | &quot;----&quot;))</code></td>
</tr>
<tr>
<td><code>ƛ</code> Map over each item:</td>
<td>Showing first pass through:</td>
</tr>
<tr>
<td><code>\|j</code> Join by &quot;|&quot;</td>
<td><code>&quot;xx|xx|xx|--|--&quot;</code></td>
</tr>
<tr>
<td><code>\|ø.</code> Enclose in &quot;|&quot;</td>
<td><code>&quot;|xx|xx|xx|--|--|&quot;</code></td>
</tr>
<tr>
<td><code>j</code> flag: Join final result by newlines</td>
<td>Implicit output of result</td>
</tr>
</tbody>
</table>
</div>
<p>Let me know if this format of explanation is good, by the way. I'm trying to experiment with doing it in a method that is more obvious what is happening, but it does take up a lot of space.</p>
</div>
<div id="pu6" class="pu"><h1><a href="http://jdk.java.net/" rel="nofollow noreferrer">Java (JDK)</a>, 166 <sup><s>172</s></sup> bytes</h1>
<blockquote>
<p>-6 bytes thanks to @KevinCruijssen !</p>
</blockquote>
<p>Thank you for the challenge, it was very cool!</p>

<pre class="lang-java prettyprint-override"><code>(a,b,c,d)-&gt;{var r=&quot;&quot;;int i,j=0,p=b,q=d;while(p!=q|p&lt;=b|q&lt;=d)p+=p&lt;q?b:0*(q+=d);for(;j++&lt;2;r+=&quot;|\n&quot;,b=d,a=c)for(i=0;i++&lt;b;)r+=&quot;|&quot;+(i&gt;a?&quot;-&quot;:&quot;x&quot;).repeat(p/b-1);return r;}
</code></pre>
<p><a href="https://tio.run/##tVXNmpowFN3PU6RZQQlW0PmcMWZ8gXbVZaeLAHGKRYSAln6jy@76CNOXmxexAQKCRL9aRwPk797DOffm4pyuqTn3vu@ilRP4LnADmiTgE/VD8HxzA4AfpozPqMvAR7pwPCpWgfh9TrkfPoGZJvYBRbkZcMrOLTtPx8Jym2MkKU0FtAQIyo7sNIoc5CJPNx@e15QDTiDEuauP5qSPIuKgmHj4xzc/YFr0jsSbaEKcTTwhnh4ZJJrEU2fcf6/FhljAsyXX8NwwJjbmBoGbxxAih3iIElfP93zSx77YdrBe7END8x/oFJpwDDOo9ziLGE216INjWjrmLF3xEHC83eFcgoyOVLJe@h5gaxqckI@qGLEsYm7KPL0dOs6SVZACIuPRm9XhwKXZzyRli95ylfYi4ZAGoaZVUD0Wr2iQaCWGPoWvL7@E3jF8/fNb9LohN@oMKOgvRIq1ksuXr4Dyp6QiWAgDNrpFFhoAgACAmyzLL9OU12MopsVCMS9WIJDMS38L5Qh3tX9WO5gSoG5m0ToIffF@cUuEwueolV1ZmdJOyWggbCvLTBpJXUr@Lf0V6yPYtmjDvdpNQ@UJjyYbad2xHBS875uRbD1rVs2mQLlFQzRq5eOgk7lppKjabDz2KVfn3b5DA5GPe/Gstf1fMzcH5@R8gA67ERL87P2x7Lzw35qMzbHQneoUB2GUH7VBu1Ja5dIEuGByAesLhB0WhepuFIo63N2i7@ffBmtf9l3FVxvmH5ju@hVHimIW@od7/Y0jox6@tX7FS5SjK@m3igNgWWdE4E2HZ0TgbUYyAuX/@Xb3Fw" rel="nofollow noreferrer" title="Java (JDK) – Try It Online">Try it online!</a></p>
<hr />
<p>A little explanation of my answer: first we calculate the<br>
&quot;<strong>Least Common Multiple strictly greater than the <code>b</code> and <code>d</code> parameters</strong>&quot;<br>
using the following:
<code>p=b,q=d;while(p!=q|p&lt;=b|q&lt;=d)p+=p&lt;q?b:0*(q+=d);</code><br>
which leaves the result in <code>p</code>.<br>
<br>
Then we draw the 2 lines (using a small loop) with an inner loop that decides using its index wether we should draw a <code>x</code> or <code>-</code>, and we repeat this character a number of times using:<br>the &quot;<strong>greater-LCM</strong>&quot;, divided by the <code>b</code> or <code>d</code> parameter (depending on the current line), minus 1.<br>
And the <code>|</code> and <code>\n</code> are put where they should be during the process.</p>
</div>
<div id="pu7" class="pu"><h1>JavaScript (ES6), 113 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>(p,q,P,Q)=&gt;(F=w=&gt;(n=q*w-Q*W)?F(w+=n&lt;0||!++W):(g=w=&gt;n&gt;q*w?n=`
`:'x-|'[n++%w?n&gt;p*w|0:2]+g(w))(w)+g(W,p=P,q=Q))(W=2)
</code></pre>
<p><a href="https://tio.run/##Zc9Ba4MwFAfwu58iO5QmJopGh60u9rSe68mDCBVb3UaJ2o45mPvs7ql1pAgxhl/@eXn5yL6yW359rz8NWZ3OfSF6XLOGHVhERIj3ooVZikZvjUiPyW6PWyrki9V1T5TGxMflkJAhBHZSHLWjv/42unUiKV2BhLXedpbPU1rilhD4YBGzWhxYIyKAWHDSB4mGUII4Q88M2Qw5KGWjwHrCzSzWGBjmhXDllDMif6yzrAzDXcj/KWeus1UEmnEZ8mbhGwgNl2@H/6weGze40jiU8aYunCW56mOs6X22culgrmr2PWjbk2qpZhbV9TXL33CGRIh@UF7JW3U5m5eqxKZpZiR4oGJC0F8S9H8" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Commented</h3>
<pre class="lang-javascript prettyprint-override"><code>( p, q,                // p / q = 1st fraction
  P, Q                 // P / Q = 2nd fraction
) =&gt; (                 //
  F = w =&gt;             // F is a recursive function taking a first width w
                       // explicitly and a second width W implicitly
  (n = q * w - Q * W)  // let n be the difference between q * w and Q * W
                       // (NB: n is reused as a counter in the 2nd phase)
  ?                    // if n is not equal to 0:
    F(                 //   do a recursive call to F:
      w += n &lt; 0       //     increment w if n is negative
           || !++W     //     increment W if n is positive
    )                  //   end of recursive call
  :                    // else (n = 0):
    ( g = w =&gt;         //   g is a recursive function taking w
      n &gt; q * w ?      //   if n is greater than q * w:
        n = `\n`       //     append a linefeed and reset n to a 0'ish value
      :                //   else:
        'x-|'[         //     append one of these characters:
          n++ % w      //       if w is not a divisor of n (which is
          ?            //       incremented afterwards):
            n &gt; p * w  //         append '-' if n &gt; p * w, or 'x' otherwise
            | 0        //
          :            //       else:
            2          //         append the separator '|'
        ] + g(w)       //     append the result of a recursive call
    )(w) +             //   1st call to g, using (w, p, q)
    g(W, p = P, q = Q) //   2nd call to g, using (W, P, Q)
)(W = 2)               // initial call to F with w = W = 2
</code></pre>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 50 bytes</h1>
<pre><code>Ｎθ⊞υＮＮη⊞υＮ≔ΣυζＷΣ﹪ζυ≦⊕ζＦυ«⟦⭆⊕ζ⎇﹪κ÷ζι§-x‹κ×θ÷ζι|⟧≔ηθ
</code></pre>
<p><a href="https://tio.run/##fZBPa8JAEMXP@imGnGZgPbTSU0@Cl4AWQW/iISZTdzHZ6P6xmraffd2tCoGCp2Eev/fmMaUsTNkWdQi5Pnj34ZstGzzS@3DhrUQvoK9T1Pu7fMJNrFU7jUvfoCcBXZS@pKoZ/qR5W/m6xU6AJyKYF4c7n@vScMPacXUzfbYGYgJ8DwcLo7TD9dLFuYuWPoxdPLJiowtzeaTvUys3VSdVcTqlKDITl@uKz5iNzpmAGVubuJVq2OLxvyFZsp@MaBO7DO4lpYD0ot8QXuENXmAcRqf6Cg" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>Ｎθ⊞υＮＮη⊞υＮ
</code></pre>
<p>Input the four integers, but push the denominators to the predefined empty list.</p>
<pre><code>≔ΣυζＷΣ﹪ζυ≦⊕ζ
</code></pre>
<p>Calculate the adjusted LCM of the denominators, which is like the LCM execpt that it can't equal either denominator. This is achieved by starting the search with the sum of the denominators.</p>
<pre><code>Ｆυ«
</code></pre>
<p>Loop over the denominators.</p>
<pre><code>⟦⭆⊕ζ⎇﹪κ÷ζι§-x‹κ×θ÷ζι|⟧
</code></pre>
<p>Calculate the display for this denominator.</p>
<pre><code>≔ηθ
</code></pre>
<p>Copy the second numerator to the first so that the second loop calculates the display for the second denominator correctly.</p>
<p>43 bytes by taking the inputs in the order B, D, A, C:</p>
<pre><code>Ｆ²⊞υＮ≔ΣυζＷΣ﹪ζυ≦⊕ζＦυ«Ｎθ⟦⭆⊕ζ⎇﹪κ÷ζι§-x‹κ×θ÷ζι|
</code></pre>
<p><a href="https://tio.run/##ZY49i8JAEIZr/RVDqhmIxXlYWQnXBPQQTCcWuWQ0i8lGd3c0F73fvm78AOGqgZn3mefNy8zkTVZ5v20M4JhgKbZEiSHRB3HfUv@wQaLpcGat2mlcSY1CMXRhdS5VxXBfLZpCqga7GISIYJEdnvlE54Zr1o6LB3T3CMFlOHhXHMNpsDRKO1yvXJi78OOdxi5YUzY6M78v3b6v6b7USRXcuxWFzMwluuAWo1EbxTBna/tcqmq2ePwP9Eh0jYg2ocGf9xP4hDF8@NGpugE" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code.</p>
</div>
<div id="pu9" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, <s>98 94</s> 93 bytes</h1>

<pre class="lang-ruby prettyprint-override"><code>-&gt;a,b,c,d{[[a,b],[c,d]].map{|x,y|[p,*[?x*~k=b.lcm(d)/y*~1[b%d*(d%b)]]*x,*[?-*~k]*y-=x,p]*?|}}
</code></pre>
<p><a href="https://tio.run/##VcpLCoMwFAXQeVfRiaDhxhptoR1YF/J4A2Nw0gqhrZDgZ@tphCJ0dj/nNWof@jrIewuNDmYiiolBMTPnQ2un2cHPZCGocWJ91Dp/dkNqspMXqyKdGJGaRGfMwm1GRsPCy9rBsmjmZQl2/LyPPZW4QKHiw68XuKGAKvYhnij/gNrA3iuco7hy@AI" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
</div>
<div id="pu10" class="pu"><h1>SAS, 181 (73+108) bytes</h1>
<ol>
<li>The code:</li>
</ol>
<p>Macro (73):</p>
<pre><code>%macro m(x,n,k);s=repeat(&quot;&amp;k&quot;,&amp;n-2);do i=1to &amp;x;put s+(-1)&quot;|&quot;@;end;%mend;
</code></pre>
<p>Data step (108):</p>
<pre><code>data;set;L=LCM(b,d);L=L+(L=b&lt;&gt;d)*L;put&quot;|&quot;@;%m(a,L/b,*)%m(b-a,L/b,-)put/&quot;|&quot;@;%m(c,L/d,*)%m(d-c,L/d,-)put;run;
</code></pre>
<p><em>Process:</em></p>
<p>Process assumes that input data are passed in a SAS dataset with variables <code>a</code>, <code>b</code>, <code>c</code>, and <code>d</code>. Dataset has to be created just before executing the code.</p>
<p>Example data (extending test cases):</p>
<pre><code>data i;
  input A B C D;
cards;
2 5 1 3
1 2 1 3
1 2 2 4
1 2 2 2
3 3 1 9
1 3 1 9
1 3 3 9
3 9 5 15
3 5 4 7
28 30 29 30
7 28 2 8
1 7 2 13
1 7 2 14
0 10 0 11
3 10 4 11
10 10 11 11
2 3 11 17
1 10 2 10
10 100 20 100
1 10 10 100
1 10 1 1
1 1 1 10
3 3 1 9
1 1 1 1
0 1 0 1
;
run;
</code></pre>
<ol start="2">
<li>Human readable code:</li>
</ol>
<p>Macro:</p>
<pre><code>%macro m(x,n,k);
  s = repeat(&quot;&amp;k&quot;, &amp;n-2);

  do i = 1 to &amp;x;
    put s +(-1) &quot;|&quot; @;
  end;
%mend;
</code></pre>
<p>Data step:</p>
<pre><code>data ;
  set ;
  L = LCM(b, d);
  L = L + (L = b&lt;&gt;d)*L;

  /* put / / a +(-1)&quot;/&quot; b &quot;  &quot; c +(-1)&quot;/&quot; d; */

  put &quot;|&quot; @;
    %m(  a, L/b, *)
    %m(b-a, L/b, -)
  put / &quot;|&quot; @;
    %m(  c, L/d, *)
    %m(d-c, L/d, -)
  put ;
run;
</code></pre>
<p>Uncoment the <code>put / / a +(-1)&quot;/&quot; b &quot;  &quot; c +(-1)&quot;/&quot; d;</code> line to have nicer
looking result in the log.</p>
</div>
<div id="pu11" class="pu"><h1><a href="https://arturo-lang.io" rel="nofollow noreferrer">Arturo</a>, <s>113</s> 105 bytes</h1>
<pre class="lang-arturo prettyprint-override"><code>$-&gt;a[e:lcm@[a\1a\3]if∨e=a\1e=a\3-&gt;'e*2map a[x y]-&gt;[124]++map
e'z-&gt;(0=z%e/y)?-&gt;124-&gt;(z&gt;x*e/y)?-&gt;45-&gt;120]
</code></pre>
<p><a href="http://arturo-lang.io/playground?U5lJE0" rel="nofollow noreferrer">Try it</a></p>
<pre><code>$-&gt;a[                     ; a function taking a list of four integers named a
    e:lcm@[a\1a\3]        ; assign lcm of 2nd and 4th args to e
    if∨e=a\1e=a\3-&gt;       ; if e is equal to 2nd or 4th arg...
        'e*2              ; double e in place; this ensures no zero-width sections
    map a[x y]-&gt;          ; map over input in pairs, assign to x and y
        [124]++           ; prepend pipe character to...
        map e'z-&gt;         ; map over [1..e] and assign current elt to z
            (0=z%e/y)?-&gt;  ; does e/y divide z? Then...
                124       ; pipe
            -&gt;            ; otherwise
            (z&gt;x*e/y)?-&gt;  ; is z greater than x times e/y? Then...
                45        ; x
            -&gt;            ; otherwise
                120       ; hyphen
]                         ; end function
</code></pre>
</div>
<div id="pu12" class="pu"><h1><a href="https://github.com/isaacg1/pyth" rel="nofollow noreferrer">Pyth</a>, 45 bytes</h1>
<pre><code>=GyW}J/*FKeMQiFKKJjmsm?%k/Ged?&gt;cFdckG\x\-\|hG
</code></pre>
<p><a href="https://tio.run/##K6gsyfj/39a9MrzWS1/LzTvVNzDTzdvbKyu3ONdeNVvfPTXF3i7ZLSU52z2mIkY3pibD/f//6GhjHdNYnWgTHfPYWAA" rel="nofollow noreferrer" title="Pyth – Try It Online">Try it online!</a></p>
<p>Takes input as a list of lists <code>[[a, b], [c, d]]</code>.</p>
<h3>Explanation</h3>
<p>First we compute the length of the lines (minus 1). This is the least common multiple of <code>b</code> and <code>d</code>, multiplied by 2 if it is exactly <code>b</code> or <code>d</code>. We save this number in the variable <code>G</code>.</p>
<pre><code>                      # implicitly assign Q = eval(input())
         KeMQ         # assign K to [b, d]
       *FK            # multiply the elements of K
      /      iFK      # divide by the gcd of K (to obtain lcm)
     J                # assign this to J
  yW             J    # conditional apply doubling to J
    }J          K     # if J is in K
=G                    # assign this to G
</code></pre>
<p>Next, we loop through the input and <code>G+1</code> choosing the correct character for each position through two conditional operators.</p>
<pre><code>jmsm?%k/Ged?&gt;cFdckG\x\-\|hGQ    # implicitly add Q
 m                         Q    # map d over Q
   m                     hG     #   map k over G+1
    ?%k/Ged                     #     if (k % (G / d[-1])):
           ?&gt;cFdckG             #       if (d[0] / d[1] &gt; k / G):
                   \x           #         &quot;x&quot;
                                #       else:
                     \-         #         &quot;-&quot;
                                #     else:
                       \|       #       &quot;|&quot;
  s                             #   sum the list of chars into a string
j                               # join on newlines and print
</code></pre>
</div>
<div id="pu13" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 30 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>:g/He¡$$ṚṬ€ḷⱮ&quot;Ʋ~R}¦&quot;ṭ€1ị“|x-”Y
</code></pre>
<p>A full program that accepts the denominators, <code>[B, D]</code> and the numerators, <code>[A, C]</code>, and prints the result.</p>
<p><strong><a href="https://tio.run/##AU4Asf9qZWxsef//OmcvSGXCoSQk4bma4bms4oKs4bi34rGuIsayflJ9wqYi4bmt4oKsMeG7i@KAnHx4LeKAnVn///9bMTAsIDExXf9bMywgNF0" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong> Or see the <a href="https://tio.run/##y0rNyan8/98qXd8j9dBCFZWHO2c93LnmUdOahzu2P9q4TunYprqg2kPLlB7uXAsUNHy4u/tRw5yaCt1HDXMj/xcbhUYdXq4fruPgHamZ9ahx36Fth7b9/x8dbaSjYKqjYKijYByroxANpCECFiCeAVgCRKLwjKAqjcECRgh9qKYAkQkKD6zSGKbPEsoDWmaio2AO4hlZACVBFliCaJCIOZBjAdZsATXKHGKTMSrXBOZAA4h7DaGGg/gmML4hVIGhIVgkFgA" rel="nofollow noreferrer" title="Jelly – Try It Online">test-suite</a>.</p>
<h3>How?</h3>
<pre><code>:g/He¡$$ṚṬ€ḷⱮ&quot;Ʋ~R}¦&quot;ṭ€1ị“|x-”Y - Main Link: [B, D]; [A, C]
              Ʋ                - last four links as a monad - f([B, D]):
       $                       -   last two links as a monad - f([B, D]):
      $                        -     last two links as a monad - f([B, D]):
  /                            -       reduce by:
 g                             -         greatest common divisor (GCD)
     ¡                         -       repeat...
    e                          -       ...number of times: exists in?
                                              - i.e. if the GCD is one B or D:
   H                           -       ...action: halve (the GCD)
:                              -     ([B, D]) integer divide (that) (vectorises)
        Ṛ                      -   reverse
         Ṭ€                    -   untruth each - e.g. 4 -&gt; Patten = [0,0,0,1]
             &quot;                 -   zip with ([B, D]) applying:
            Ɱ                  -     map (across implicit range [1..x]):
           ḷ                   -       left argument
                                   - i.e. B and D copies of the respective Patterns
                   &quot;           - zip with ([A, C]) applying:
                  ¦            -   sparse application...
                R}             -   ...to indices: range of right -&gt; [1..A] or [1..C]
               ~               -   ...action: bitwise NOT -&gt; 0:-1 and 1:-2
                    ṭ€1        - tack each to a one - handles the leading &quot;|&quot;
                        “|x-”  - list of characters = &quot;|x-&quot;
                       ị       - (repeated, augmented Patterns) index into (those)
                                   - 1-based and modular so -2 &amp; 1 are '|',
                                     0 is '-', and -1 is 'x'.
                             Y - join with a newline
                               - implicit, smashing print
</code></pre>
</div>
<div id="pu14" class="pu"><h1><a href="https://julialang.org" rel="nofollow noreferrer">Julia</a>, 77 bytes</h1>
<pre><code>n|d=(l=lcm(d...);x=l*2^(l∈d).÷d.-1;p='|';@. p*('x'^x*p)^n*('-'^x*p)^(d-n))
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=TZBBbsMgEEXVrW_Q3ewMVo0MODIRQuoFegIrliLjqKkosRIieeED5A7dZJMz9AA9RbvsSQrGqbyB9zV_PsN83N7OZr-9Xm9nt8vF94sdtUJGmfYdaUIIloMyGWuQ-b1cNCZfn5rkVPYqHVP5TKDPUDqkzZD1uLGe85mRzi3GMfTn4dF1J3dSdVIzWEmgwDdPSU2BSViBCFwAleCPBbPo4cHP_v3LXgblgicPj_51ZP9WCVVgJoAX3rX2V9AVMBGaRAyoAlO-FOU8SjHNRWNgUOWsaCxSGnSySXaHIzg1_RT64946YwkaUbdtX9uDQQ6HdWJ5ryEMndVxQ_f1_wE" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Accepts input as two vectors: numerators <code>n</code> and denominators <code>d</code>.</p>
</div>
<div id="pu15" class="pu"><h1><a href="https://www.dyalog.com/products.htm" rel="nofollow noreferrer">APL (Dyalog APL)</a>, 45 <a href="https://github.com/abrudz/SBCS" rel="nofollow noreferrer">bytes</a></h1>
<p>Call as <code>A C f B D</code>.</p>
<pre><code>{'-x|'[2,⍨↑⍺(&gt;⌈2×1,2≠/⊢)¨⌊⍵×⊂÷⍨∘⍳⍨(∧⌈2×⌈)/⍵]}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=XZHPSsNAEMbxmqeYW1JoaXaT0j8HL1WwFwXbi5QisUlEqLWQCkrtRSXE2BRFpIKXIIqhVymCx_Yp9DhP4uxGWvCQye_75tuZhX2e2udW5-Rw3-p14mll2zp2vJ7Vdt5O-26u9N0YqLmzC7XJsxgl6N9j9KWt4yjgiwnLcryJ8xi-ZOYJjkKMZosJhpeLTxENnjD6INAweE_zVDN5CrWGr95B2_tZ21DtI6-nAo4fq3ug2m7XUxUStR3073TFpYrRGMMrhv4D-fXdKtXGVq2u9B2vD9SHATkyNwO8vYZUibFANyG3qQNvgQsCGRitoSLPzhPQOBSArAxoDASXiHRy6FsSl12DmP_lVic4mEsSXUPmypIKYEKRiJfAoCllqqSKQJrLRQyKYpixQjNdqov9TA4hNlNmssGYUIpS2eza_94pjtP_Lw" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Or, for the same length:</p>
<pre><code>{'-x|'[2,⍨↑,¨2,¨(¯1+⊃(,÷⍨∧⌈2×⌈)/⍵)/¨⍪¨⍺&gt;⍳¨⍵]}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=XZG_S8NAFMdxzV_xtiSY0twlpT8GlyrYQQXrIqVIbBoRai1cBaV2USmlNUURcXDpoBi6OEgQHNO_Qsf3l_juIi043Pc-733ffd9wzzP_wmudHh14ndZ0Vtr2Tpqi4zWar2fdIFP43urpmfNLvcYtDCMc3FtJxOkYyTtbxdG1Yc0_pTF8w9shnz-RmlkMYzObRBjOpHytYfghIa73X8RhQ_ysrOv-sejogJPH8j7oftAWukZFZQcHd7YWkGI4oXiGgwfqV3fLpHublarWbYoukA896qi5GHB8A2klYwFHV9St2cDrEIBEBk69r6m3SQQGhxxQywSDgeQCkU0dOgviynWI-d_c8gUHd0HSddRcUVEOXMgT8QI4lFIkpSoPVHO1iEFehjlLdNOlttzPVAixmzJTBmOy0rTSRtv_90HTaXr_Ag" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu16" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="noreferrer">05AB1E</a>, 32 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="noreferrer">bytes</a></h1>
<pre><code>ø`©.¿D®àQ&gt;*®÷&lt;„x-Sδ×'|ìsIíÆø×J€Ć
</code></pre>
<p>Port of <a href="https://codegolf.stackexchange.com/a/260823/52210"><em>@blaketyro</em>'s Python answer</a>, so make sure to upvote him/her as well!</p>
<p>Input as a pair of pairs <code>[[a,b],[c,d]]</code>, output as a pair of strings.</p>
<p><a href="https://tio.run/##AUoAtf9vc2FiaWX//8O4YMKpLsK/RMKuw6BRPirCrsO3POKAnngtU860w5cnfMOsc0nDrcOGw7jDl0rigqzEhv//W1syLDVdLFsxLDNdXQ" rel="noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/V@m5JlXUFpipaBkX6nDpeRfWgLh6VT@P7wj4dBKvUP7XQ6tO7wg0E4LSG23edQwr0I3@NyWw9PVaw6vKa48vPZw2@Edh6d7PWpac6Tt/6HdOoe22f@Pjo420jGN1Yk21DGOjdVRiAYyjIBcUx0LCNdAxxDIBZEoXCOYYmOwXiNkvWhGGemYoHKhio2hei1hXJAzTHTMIVwjCx1jA5BySxANFjLXMbIAG2ABM88czDU0RuObwN1qAHG7IcwKsIAJXMAQqsTQECwUCwA" rel="noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>ø              # Zip/transpose the (implicit) input-matrix, swapping rows/columns:
               #  [[a,b],[c,d]] → [[a,c],[b,d]]
 `             # Pop and push both rows separated to the stack
  ©            # Store the top pack [b,d] in variable `®` (without popping)
   .¿          # Pop and get its Least Common Multiple
     D         # Duplicate that
      ®à       # Push the maximum from pair [b,d]
        Q      # Check if it's equal to the LCM
         &gt;     # Increase that 0 or 1 by 1
          *    # Multiply it to the LCM
           ®/  # Divide it by the values of pair `®`
             &lt; # Decrease both by 1
  „x-          # Push string [&quot;x-&quot;]
     S         # Convert it to a pair [&quot;x&quot;,&quot;-&quot;]
        δ      # Apply double-vectorized on the two pairs:
         ×     #  Repeat the string the integer amount of times
          '|ì '# Then prepend a &quot;|&quot; in front of each of the four strings
  s            # Swap so the pair of numerators is at the top of the stack
   I           # Push the input-matrix again
    í          # Reverse each inner row
     Æ         # Reduce each inner list by subtracting
      ø        # Create pairs of the two top pairs
               #  [a,c] and [b-a,d-c] → [[a,b-a],[c,d-c]]
       ×       # Repeat the earlier strings that many times
J              # Join the inner pair of strings together
 €             # Map over both strings in this pair:
  Ć            #  Enclose it; appending its own head (the &quot;|&quot;)
               # (after which the pair of strings is output implicitly as result)
</code></pre>
</div>
<div id="pu17" class="pu"><h1>Python, 152 bytes</h1>
<p>Here's the program I used to generate the testcases. I'm sure someone more skilled could golf it down more (and I'd be interested to see!).</p>
<pre class="lang-python prettyprint-override"><code>import math
def p(a,b,c,d):
 L=math.lcm(b,d)
 if L==max(b,d):L*=2
 def f(l,x,d):print('|'+f'{&quot;x&quot;*l}|'*x+f'{&quot;-&quot;*l}|'*d)
 f(L//b-1,a,b-a)
 f(L//d-1,c,d-c)
</code></pre>
<p>It defines the function <code>p</code> so calling <code>p(A, B, C, D)</code> produces the output.</p>
<p>The idea is to imagine all but the first <code>|</code> in each line as part of the <code>x</code> or <code>-</code> sections to simplify the math, and then put the <code>|</code>'s back in later.</p>
<p>The lcm of the denominators L is the length of the lines, not counting the first <code>|</code>. When L is equal to the larger of B or D then each section would be length 1 which would end up looking like <code>||||||</code> so the <code>if L==max(b,d):L*=2</code> line fixes that situation. Other than that trick it's mostly doing some f-string fanciness to print the lines with the correct values.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/260822/">260822</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




