<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::83873</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>022</td><td>Jelly</td><td>230815T150932Z</td><td><a href="https://codegolf.stackexchange.com/questions/83873/theoretically-output-grahams-number/264209#264209">caird co</a></td></tr>
<tr d-ix="1"><td>875</td><td>Vyxal</td><td>230810T151023Z</td><td><a href="https://codegolf.stackexchange.com/questions/83873/theoretically-output-grahams-number/263993#263993">The Empt</a></td></tr>
<tr d-ix="2"><td>064</td><td>Ruby</td><td>170801T133038Z</td><td><a href="https://codegolf.stackexchange.com/questions/83873/theoretically-output-grahams-number/137038#137038">Simply B</a></td></tr>
<tr d-ix="3"><td>114</td><td>PHP</td><td>160725T094928Z</td><td><a href="https://codegolf.stackexchange.com/questions/83873/theoretically-output-grahams-number/86514#86514">Titus</a></td></tr>
<tr d-ix="4"><td>118</td><td>R</td><td>160722T162346Z</td><td><a href="https://codegolf.stackexchange.com/questions/83873/theoretically-output-grahams-number/86325#86325">Andre&#2</a></td></tr>
<tr d-ix="5"><td>041</td><td>Dyalog APL</td><td>160722T133219Z</td><td><a href="https://codegolf.stackexchange.com/questions/83873/theoretically-output-grahams-number/86305#86305">lstefano</a></td></tr>
<tr d-ix="6"><td>030</td><td>Sesos</td><td>160722T071159Z</td><td><a href="https://codegolf.stackexchange.com/questions/83873/theoretically-output-grahams-number/86270#86270">Anders K</a></td></tr>
<tr d-ix="7"><td>108</td><td>F#</td><td>160722T002106Z</td><td><a href="https://codegolf.stackexchange.com/questions/83873/theoretically-output-grahams-number/86225#86225">asibahi</a></td></tr>
<tr d-ix="8"><td>109</td><td>C</td><td>160721T130731Z</td><td><a href="https://codegolf.stackexchange.com/questions/83873/theoretically-output-grahams-number/86114#86114">algmyr</a></td></tr>
<tr d-ix="9"><td>161</td><td>C</td><td>160629T070129Z</td><td><a href="https://codegolf.stackexchange.com/questions/83873/theoretically-output-grahams-number/83999#83999">thepierc</a></td></tr>
<tr d-ix="10"><td>nan</td><td>Prolog SWIPL</td><td>160628T123111Z</td><td><a href="https://codegolf.stackexchange.com/questions/83873/theoretically-output-grahams-number/83954#83954">SQB</a></td></tr>
<tr d-ix="11"><td>085</td><td>Python</td><td>160629T060818Z</td><td><a href="https://codegolf.stackexchange.com/questions/83873/theoretically-output-grahams-number/83998#83998">user4594</a></td></tr>
<tr d-ix="12"><td>063</td><td>JavaScript ES7</td><td>160627T085111Z</td><td><a href="https://codegolf.stackexchange.com/questions/83873/theoretically-output-grahams-number/83877#83877">Neil</a></td></tr>
<tr d-ix="13"><td>107</td><td>J</td><td>160628T195324Z</td><td><a href="https://codegolf.stackexchange.com/questions/83873/theoretically-output-grahams-number/83983#83983">Conor O&</a></td></tr>
<tr d-ix="14"><td>nan</td><td>Binary lambda calculus</td><td>160627T231726Z</td><td><a href="https://codegolf.stackexchange.com/questions/83873/theoretically-output-grahams-number/83920#83920">Anders K</a></td></tr>
<tr d-ix="15"><td>038</td><td>Caramel</td><td>160627T230615Z</td><td><a href="https://codegolf.stackexchange.com/questions/83873/theoretically-output-grahams-number/83919#83919">Anders K</a></td></tr>
<tr d-ix="16"><td>059</td><td>Mathematica</td><td>160627T204156Z</td><td><a href="https://codegolf.stackexchange.com/questions/83873/theoretically-output-grahams-number/83911#83911">miles</a></td></tr>
<tr d-ix="17"><td>043</td><td>Haskell</td><td>160627T085841Z</td><td><a href="https://codegolf.stackexchange.com/questions/83873/theoretically-output-grahams-number/83879#83879">xnor</a></td></tr>
<tr d-ix="18"><td>041</td><td>Haskell</td><td>160627T100207Z</td><td><a href="https://codegolf.stackexchange.com/questions/83873/theoretically-output-grahams-number/83883#83883">Anders K</a></td></tr>
<tr d-ix="19"><td>025</td><td>Pyth</td><td>160627T090120Z</td><td><a href="https://codegolf.stackexchange.com/questions/83873/theoretically-output-grahams-number/83880#83880">Leaky Nu</a></td></tr>
<tr d-ix="20"><td>057</td><td>Brachylog</td><td>160627T084722Z</td><td><a href="https://codegolf.stackexchange.com/questions/83873/theoretically-output-grahams-number/83876#83876">Fatalize</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 22 bytes</h1>
<pre><code>’ß’ß’}ð‘3*ða?
4’2çƊ64¡
</code></pre>
<p><a href="https://tio.run/##y0rNyan8//9Rw8zD82FE7eENjxpmGGsd3pBoz2UCFDA6vPxYl5nJoYV41OmARJfrcx1ernR00sOdMx41rYn8z/XfWEfBVEfB8L8RkAAyAQ" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<p>I believe this is close to identical to <a href="https://codegolf.stackexchange.com/a/83923/66833">Dennis' deleted Jelly answer</a> but was developed independently and uses a language feature that wasn't available at the time of his answer.</p>
<p>The first line defines a function <span class="math-container">\$v(n, m) = u(3, n+1, m+1)\$</span> and the TIO footer demonstrates this for <span class="math-container">\$u(3, 3, 2)\$</span>, <span class="math-container">\$u(3, 5, 1)\$</span> and <span class="math-container">\$u(3, 1, 5)\$</span>.</p>
<p>With our defined <span class="math-container">\$v\$</span>, we then have the recurrence relation</p>
<p><span class="math-container">\begin{align*}
g_1 &amp; = v(2, 3) \\
g_{i+1} &amp; = v(2, g_i - 1) \\
G = g_{64} &amp; = v(2, g_{63} - 1)
\end{align*}</span></p>
<p>A more standard approach, which defines <span class="math-container">\$w(n, m) = u(3, n, m)\$</span> and then uses</p>
<p><span class="math-container">\begin{align*}
g_1 &amp; = w(3, 4) \\
g_{i+1} &amp; = w(3, g_i) \\
G = g_{64} &amp; = w(3, g_{63})
\end{align*}</span></p>
<p>comes out at 23 bytes:</p>
<pre><code>3*ð’ßṛß’}ð«Ị¥?
4 3ç$64¡
</code></pre>
<p><a href="https://tio.run/##y0rNyan8/99Y6/CGRw0zD89/uHP24flAVu3hDYdWP9zddWipPZeJgvHh5SpmJocW4ld3eLnS0UkPd8541LQm8j/Xf2MdBVMdBcP/RkACyAQA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<h2>How they work</h2>
<h3><span class="math-container">\$v(n, m)\$</span></h3>
<pre><code>’ß’ß’}ð‘3*ða? - Helper link, v(n, m). Takes n on left, m on right
            ? - If:
           a  -   n and m are both non-zero
      ð       - Then:
’             -   n-1
 ß            -   v(n-1, m)
  ’           -   v(n-1, m)-1
    ’}        -   m-1
   ß          -   v(v(n-1, m)-1, m)
          ð   - Else:
       ‘      -   n+1
        3*    -   3^(n+1)

4’2çƊ64¡ - Main link. No arguments
4        - Set the return value and left argument to 4
    Ɗ    - Last 3 links as a monad f(x):
 ’       -   x-1
  2ç     -   v(2, x-1)
     64¡ - Starting with x = 4, iterate f(x) 64 times
</code></pre>
<h3><span class="math-container">\$w(n, m)\$</span></h3>
<pre><code>3*ð’ßṛß’}ð«Ị¥? - Helper link, w(n, m). Takes n on left, m on right
            ¥? - If:
          «    -   min(n, m)
           Ị   -   is insignificant (abs(x) ≤ 1)
  ð            - Then:
3*             -   3^n
         ð     - Else:
   ’           -   n-1
     ṛ         -   m
    ß          -   w(n-1, m)
       ’}      -   m-1
      ß        -   w(w(n-1, m), m-1)

4 3ç$64¡ - Main link. No arguments
4        - Set the return value and left argument to 4
    $    - Last two links as a monad g(x):
  3ç     -  w(3, x)
     64¡ - Starting with x = 4, iterate g(x) 64 times
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, 0.875 bytes</h1>
<h2>Prints in base <span class="math-container">\$G\$</span>, where <span class="math-container">\$G\$</span> is Graham's number</h2>
<h2>Uses vyncode encoding</h2>
<h2>Thanks The Thonnu, I forgot about the constant for 10.</h2>
<pre><code>₀
</code></pre>
<p>Outputting in a different base from base 10 is allowed...</p>
<p><a href="https://vyxal.pythonanywhere.com/?v=2#WyI9IiwiIiwi4oKAIiwiIiwiIl0=" rel="nofollow noreferrer">Try it Online!</a></p>
</div>
<div id="pu2" class="pu"><h1>Ruby, 64 bytes</h1>
<p>Borrowing from <a href="https://codegolf.stackexchange.com/questions/20711/theoretical-algorithm-to-compute-grahams-number">Theoretical algorithm to compute Graham's number</a>.</p>
<pre><code>def f(a,b=3)b&lt;2?3:a&lt;1?3*b:f(a-1,f(a,b-1))end;a=4;64.times{a=f a};p a
</code></pre>
<p>Simply put, <code>f a = u(3,3,a)</code> and it applies this 64 times.</p>
</div>
<div id="pu3" class="pu"><h1>PHP, 114 bytes</h1>
<p>ignore the line breaks; they are for readability only.</p>
<pre><code>function u($n,$m){return$m&gt;1&amp;$n&gt;1?u(u($n-1,$m),$m-1):3**$n;}
function g($x){return u(3,$x&gt;1?g($x-1):4);}
echo g(63);
</code></pre>
<p>It is possible to integrate the second case into the first one: for <code>n=1</code>, <code>3^n</code> equals <code>3</code>.<br />
This will save a few bytes on - as far as I can see - all existing answers; saved two bytes on my</p>
<p><strong>previous version, 62+43+11=116 bytes</strong></p>
<pre><code>function u($n,$m){return$m&gt;1?$n&gt;1?u(u($n-1,$m),$m-1):3:3**$n;}
</code></pre>
<p>PHP´s left associativity of the ternary requires parentheses ... or a specific order of tests.<br />
This saved two bytes on the parenthesized expression.</p>
<hr />
<p>There is probably an iterative approach, which <em>may</em> allow further golfing ...<br />
but I can´t take the time for it now.</p>
</div>
<div id="pu4" class="pu"><h2>R, <s>154</s> <s>142</s> <s>128</s> <s>126</s> 118 bytes</h2>

<pre><code>u=function(n,b)return(if(n&amp;!b)1 else if(n)u(n-1,u(n,b-1))else 3*b)
g=function(x)return(u(if(x-1)g(x-1)else 4,3))
g(64)
</code></pre>

<p>I used the Wikipedia definition of this recursive function because for some odd reason the suggested one did not work... or I just suck at R golfing.</p>

<p>UPD: shaved off 12+14=26 bytes thanks to a tip from <a href="https://codegolf.stackexchange.com/users/48934/leaky-nun">Leaky Nun</a>. The prior version used the bulky and less efficient</p>

<pre><code>u=function(n,b)if(n==0)return(3*b)else if(n&gt;0&amp;b==0)return(1)else return(u(n-1,u(n,b-1)))
g=function(x)if(x==1)return(u(4,3))else return(u(g(x-1),3))
</code></pre>

<p>UPD: shaved off 2+6+2 more bytes (again, kudos to <a href="https://codegolf.stackexchange.com/users/48934/leaky-nun">Leaky Nun</a>) owing to an ingenious replacement with “if(x)” instead of “if(x==0)” because x&lt;0 is never fed into the function... right?</p>
</div>
<div id="pu5" class="pu"><h2>Dyalog APL, 41 bytes</h2>

<pre><code>u←{1=⍺:3⋄1=⍵:3*⍺⋄(⍵∇⍨⍺-1)∇⍵-1}
3u 3u⍣64⊣4
</code></pre>

<p>Test case:</p>

<pre><code>      3u 2
7625597484987
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/DennisMitchell/sesos">Sesos</a>, 30 bytes</h1>

<pre><code>0000000: 286997 2449f0 6f5d10 07f83a 06fffa f941bb ee1f33  (i.$I.o]...:....A...3
0000015: 065333 07dd3e 769c7b                              .S3..&gt;v.{
</code></pre>

<h3>Disassembled</h3>

<pre><code>set numout
add 4
rwd 2
add 64
jmp
    sub 1
    fwd 3
    add 3
    rwd 1
    add 1
    jmp
        sub 1
        jmp
            fwd 1
            jmp
                jmp
                    sub 1
                    fwd 1
                    add 1
                    rwd 1
                jnz
                rwd 1
                jmp
                    sub 1
                    fwd 3
                    add 1
                    rwd 3
                jnz
                fwd 3
                jmp
                    sub 1
                    rwd 2
                    add 1
                    rwd 1
                    add 1
                    fwd 3
                jnz
                rwd 1
                sub 1
            jnz
            rwd 1
            jmp
                sub 1
            jnz
            add 1
            rwd 1
            sub 1
        jnz
        fwd 1
        jmp
            sub 1
            rwd 1
            add 3
            fwd 1
        jnz
        rwd 2
    jnz
    rwd 1
jnz
fwd 2
put
</code></pre>

<p>Or in Brainfuck notation:</p>

<pre><code>++++&lt;&lt;++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
[-&gt;&gt;&gt;+++&lt;+[-[&gt;[[-&gt;+&lt;]&lt;[-&gt;&gt;&gt;+&lt;&lt;&lt;]&gt;&gt;&gt;[-&lt;&lt;+&lt;+&gt;&gt;&gt;]&lt;-]&lt;[-]+&lt;-]&gt;[-&lt;+++&gt;]&lt;&lt;]&lt;]&gt;&gt;.
</code></pre>

<h3>Testing</h3>

<p>To compute <em>u</em>(3, <em>n</em>, <em>u</em>(3, <em>n</em>, … <em>u</em>(3, <em>n</em>, <em>m</em>) … )) with <em>k</em> nested calls to <em>u</em>, replace the first three <code>add</code> instructions <code>add 4</code>, <code>add 64</code>, <code>add 3</code> with <code>add m</code>, <code>add k</code>, <code>add n</code>, respectively.  Because Sesos can’t build numbers faster than in linear time, you’re practically limited to small values like <em>u</em>(3, 2, 2) = 27, <em>u</em>(3, 5, 1) = 243, and <em>u</em>(3, 1, <em>u</em>(3, 1, … <em>u</em>(3, 1, <em>m</em>) … )) = 3.</p>
</div>
<div id="pu7" class="pu"><h1>F#, <s>111</s> 108 bytes</h1>
<h3>Edit</h3>
<p>This is using the function below to calulcate Graham's number</p>
<pre><code>let rec u=function|b,1-&gt;int&lt;|3I**b|1,c-&gt;3|b,c-&gt;u(u(b-1,c),c-1)
and g=function|1-&gt;u(3.,4.)|a-&gt;u(3.,g (a-1))
g 63
</code></pre>
<p>Here's my previous answer which, well, didnt:</p>
<p>Pretty straightforward. Just a definition of the <code>u</code> function.</p>
<pre><code>let rec u=function|a,b,1-&gt;a**b|a,1.,c-&gt;a|a,b,c-&gt;u(a,u(a,b-1.,c),c-1)
</code></pre>
<p>Usage:</p>
<pre><code>u(3.,3.,2)
val it : float = 7.625597485e+12
</code></pre>
<p>If I assumed 3 as the value for a, I could cut it to 60:</p>
<pre><code>let rec u=function|b,1-&gt;3.**b|1.,c-&gt;3.|b,c-&gt;u(u(b-1.,c),c-1)
</code></pre>
<p>Usage:</p>
<pre><code>u(3.,2)
val it : float = 7.625597485e+12
</code></pre>
</div>
<div id="pu8" class="pu"><h1>C, <s>114</s> 109 bytes</h1>

<p>Based on the answer by @thepiercingarrow (<a href="https://codegolf.stackexchange.com/a/83999/45611">link</a>) I golfed the answer down quite a bit. Most savings are due to the abuse of default typing of arguments when doing K&amp;R style functions and replacement of if statements with ternary operators. Added optional newlines between functions for readability.</p>

<p>Improved to 109 thanks to @LeakyNun.</p>

<pre><code>u(a,b){return a&lt;2?3:b&lt;2?pow(3,a):u(u(a-1,b),b-1);}
g(a){return u(3,a&lt;2?4:g(a-1));}
main(){printf("%d",g(64));}
</code></pre>
</div>
<div id="pu9" class="pu"><h1>C, 161 bytes</h1>

<pre><code>u(int a, int b){if(a==1)return 3;if(b==1)return pow(3,a);return u(u(a-1,b),b-1);}
g(int a){if(a==1)return u(3,4);return u(3,g(a-1));}
main(){printf("%d",g(64));}
</code></pre>

<p>EDIT: saved 11 bytes by removing tabs and newlines.
EDIT: thx auhmann saved another byte and fixed my program</p>
</div>
<div id="pu10" class="pu"><h1>Prolog (SWIPL), 129 / 137 bytes</h1>

<pre><code>g(1,R):-u(3,4,R).
g(L,R):-M is L-1,g(M,P),u(3,P,R).
u(N,1,R):-R is 3**N.
u(1,_,3).
u(N,M,R):-K is N-1,L is M-1,u(K,M,Y),u(Y,L,R).
</code></pre>

<p>To output Graham's number, query for <code>g(64,G).</code> (if the 8 bytes of this query are to be counted, the length is 137 bytes):</p>

<pre><code>?- g(64, G).
ERROR: Out of local stack
</code></pre>

<p>But as can be expected, this runs out of stack.</p>

<h2>Test</h2>

<pre><code>?- u(3, 2, X).
X = 7625597484987
</code></pre>

<p>Backtracking causes it to run out of stack:</p>

<pre><code>?- u(3, 2, X).
X = 7625597484987 ;
ERROR: Out of local stack
</code></pre>

<h2>Ungolfed</h2>

<p>The ungolfed version adds the general up-arrow notation, not just for 3, and uses cuts and checks to avoid backtracking and undefined situations.</p>

<pre><code>% up-arrow notation
u(X, 1, _M, X) :- !.
u(X, N, 1, R) :-
    R is X**N, !.
u(X, N, M, R) :-
    N &gt; 1,
    M &gt; 1,
    N1 is N - 1,
    M1 is M - 1,
    u(X, N1, M, R1),
    u(X, R1, M1, R).

% graham's number
g(1,R) :- u(3, 3, 4, R), !.
g(L,R) :-
    L &gt; 1,
    L1 is L - 1,
    g(L1,G1),
    u(3, G1, R).
</code></pre>
</div>
<div id="pu11" class="pu"><h2>Python, 85 bytes</h2>
<pre class="lang-py prettyprint-override"><code>v=lambda n,m:n*m and v(v(n-1,m)-1,m-1)or 3**-~n
g=lambda n=63:v(2,n and g(n-1)-1or 3)
</code></pre>
<p>The <code>v</code> function defines the same function as the one found in <a href="https://codegolf.stackexchange.com/a/83923/45941">Dennis's answer</a>: <code>v(n,m) = u(3,n+1,m+1)</code>. The <code>g</code> function is a zero-indexed version of the traditional iteration: <code>g(0) = v(2,3), g(n) = v(2,g(n-1))</code>. Thus, <code>g(63)</code> is Graham's number. By setting the default value of the <code>n</code> parameter of the <code>g</code> function to <code>63</code>, the required output can be obtained by calling <code>g()</code> (with no parameters), thus meeting our requirements for a function submission which takes no input.</p>
<p>Verify the <code>v(2,1) = u(3,3,2)</code> and <code>v(4,0) = u(3,5,1)</code> test cases online: <a href="http://ideone.com/a5lkxi" rel="nofollow noreferrer">Python 2</a>, <a href="http://ideone.com/1XQwsQ" rel="nofollow noreferrer">Python 3</a></p>
</div>
<div id="pu12" class="pu"><h2>JavaScript (ES7), 63 bytes</h2>

<pre><code>u=(n,m)=&gt;n&gt;1&amp;m&gt;1?u(u(n-1,m),m-1):3**n
g=n=&gt;n?u(3,g(n-1)):4
g(64)
</code></pre>
</div>
<div id="pu13" class="pu"><h1>J, 107 bytes</h1>

<pre><code>u=:4 :0
if.y=1 do.3^x
elseif.x=1 do.3
elseif.1 do.x:(y u~&lt;:x)u&lt;:y
end.
)
(g=:(3 u 4[[)`(3 u$:@&lt;:)@.(1&amp;&lt;))64
</code></pre>

<p>I'm working on converting <code>u</code> to an agenda, but for now it'll do.</p>
</div>
<div id="pu14" class="pu"><h1><a href="https://tromp.github.io/cl/cl.html">Binary lambda calculus</a>, 114 bits = 14.25 bytes</h1>

<p>Hexdump:</p>

<pre><code>00000000: 4457 42b0 2d88 1f9d 740e 5ed0 39ce 80    DWB.-...t.^.9..
</code></pre>

<p>Binary:</p>

<pre><code>010001000101011101000010101100000010110110001000000111111001110101110100000011100101111011010000001110011100111010
</code></pre>

<h3>Explanation</h3>

<pre><code>01 00                                           (λx.
│    01 00                                        (λy.
│    │    01 01 01 110                              x
│    │    │  │  └─ 10                               y
│    │    │  └─ 00                                  (λm.
│    │    │       01 01 01 10                         m
│    │    │       │  │  └─ 00                         (λg.
│    │    │       │  │       00                         λn.
│    │    │       │  │         01 01 10                  n
│    │    │       │  │         │  └─ 110                 g
│    │    │       │  │         └─ 00                     (λz.
│    │    │       │  │              10                     z))
│    │    │       │  └─ 00                            (λn.
│    │    │       │       00                            λf.
│    │    │       │         01 111110                    x
│    │    │       │         └─ 01 110                    (n
│    │    │       │            └─ 10                      f))
│    │    │       └─ 1110                             x)
│    │    └─ 10                                     y)
│    └─ 00                                        (λf.
│         00                                        λz.
│           01 110                                   f
│           └─ 01 01 1110                            (x
│              │  └─ 110                              f
│              └─ 10                                  z)))
└─ 00                                           (λf.
     00                                           λz.
       01 110                                      f
       └─ 01 110                                   (f
          └─ 01 110                                 (f
             └─ 10                                   z)))
</code></pre>

<p>This is (λ<em>x</em>. (λ<em>y</em>. <em>x</em> <em>y</em> (λ<em>m</em>. <em>m</em> (λ<em>g</em>. λ<em>n</em>. <em>n</em> <em>g</em> 1) (λ<em>n</em>. λ<em>f</em>. <em>x</em> (<em>n</em> <em>f</em>)) <em>x</em>) <em>y</em>) (λ<em>f</em>. λ<em>z</em>. <em>f</em> (<em>x</em> <em>f</em> <em>z</em>))) 3, where all numbers are represented as <a href="https://en.wikipedia.org/wiki/Church_encoding#Church_numerals">Church numerals</a>.  Church numerals are the standard lambda calculus representation of natural numbers, and they are well suited to this problem because a Church number is defined by function iteration: <em>n</em> <em>g</em> is the <em>n</em>th iterate of the function <em>g</em>.</p>

<p>For example, if <em>g</em> is the function λ<em>n</em>. λ<em>f</em>. 3 (<em>n</em> <em>f</em>) that multiplies 3 by a Church numeral, then λ<em>n</em>. <em>n</em> <em>g</em> 1 is the function that takes 3 to the power of a Church numeral. Iterating this operation <em>m</em> times gives</p>

<p><em>m</em> (λ<em>g</em>. λ<em>n</em>. <em>n</em> <em>g</em> 1) (λ<em>n</em>. λ<em>f</em>. 3 (<em>n</em> <em>f</em>)) <em>n</em> = <em>u</em>(3, <em>n</em>, <em>m</em>).</p>

<p>(We use multiplication <em>u</em>(–, –, 0) rather than exponentiation <em>u</em>(–, –, 1) as the base case, because subtracting 1 from a Church numeral is <a href="https://en.wikipedia.org/wiki/Church_encoding#Derivation_of_predecessor_function">unpleasant</a>.)</p>

<p>Substitute <em>n</em> = 3:</p>

<p><em>m</em> (λ<em>g</em>. λ<em>n</em>. <em>n</em> <em>g</em> 1) (λ<em>n</em>. λ<em>f</em>. 3 (<em>n</em> <em>f</em>)) 3 = <em>u</em>(3, 3, <em>m</em>).</p>

<p>Iterating that operation 64 times, starting at <em>m</em> = 4, gives</p>

<p>64 (λ<em>m</em>. <em>m</em> (λ<em>g</em>. λ<em>n</em>. <em>n</em> <em>g</em> 1) (λ<em>n</em>. λ<em>f</em>. 3 (<em>n</em> <em>f</em>)) 3) 4 = <em>G</em>.</p>

<p>To optimize this expression, substitute 64 = 4^3 = 3 4:</p>

<p>3 4 (λ<em>m</em>. <em>m</em> (λ<em>g</em>. λ<em>n</em>. <em>n</em> <em>g</em> 1) (λ<em>n</em>. λ<em>f</em>. 3 (<em>n</em> <em>f</em>)) 3) 4 = <em>G</em>.</p>

<p>Remember 4 = succ 3 = λ<em>f</em>. λ<em>z</em>. <em>f</em> (3 <em>f</em> <em>z</em>) as a lambda argument:</p>

<p>(λ<em>y</em>. 3 <em>y</em> (λ<em>m</em>. <em>m</em> (λ<em>g</em>. λ<em>n</em>. <em>n</em> <em>g</em> 1) (λ<em>n</em>. λ<em>f</em>. 3 (<em>n</em> <em>f</em>)) 3) <em>y</em>) (λ<em>f</em>. λ<em>z</em>. <em>f</em> (3 <em>f</em> <em>z</em>)) = <em>G</em>.</p>

<p>Finally, remember 3 = λ<em>f</em>. λ<em>z</em>. <em>f</em> (<em>f</em> (<em>f</em> <em>z</em>)) as a lambda argument:</p>

<p>(λ<em>x</em>. (λ<em>y</em>. <em>x</em> <em>y</em> (λ<em>m</em>. <em>m</em> (λ<em>g</em>. λ<em>n</em>. <em>n</em> <em>g</em> 1) (λ<em>n</em>. λ<em>f</em>. <em>x</em> (<em>n</em> <em>f</em>)) <em>x</em>) <em>y</em>) (λ<em>f</em>. λ<em>z</em>. <em>f</em> (<em>x</em> <em>f</em> <em>z</em>))) 3 = <em>G</em>.</p>
</div>
<div id="pu15" class="pu"><h1><a href="https://github.com/MaiaVictor/caramel" rel="nofollow">Caramel</a>, 38 bytes</h1>

<pre><code>(64 ((f-&gt;(f,1)),(n f-&gt;(3 (n f))),3) 4)
</code></pre>

<p>This is syntactic sugar for the lambda calculus expression 64 (λ<em>m</em>. <em>m</em> (λ<em>f</em>. λ<em>n</em>. <em>n</em> <em>f</em> 1) (λ<em>n</em>. λ<em>f</em>. 3 (<em>n</em> <em>f</em>)) 3) 4, where all numbers are represented as <a href="https://en.wikipedia.org/wiki/Church_encoding#Church_numerals" rel="nofollow">Church numerals</a>.</p>
</div>
<div id="pu16" class="pu"><h1>Mathematica, 59 bytes</h1>

<pre><code>n_ ±1:=3^n
1 ±m_:=3
n_ ±m_:=((n-1)±m)±(m-1)
Nest[3±#&amp;,4,64]
</code></pre>

<p>Uses an undefined infix operator <code>±</code> which requires only 1 byte when encoded in ISO 8859-1. See @Martin's <a href="https://codegolf.stackexchange.com/a/82740/6710">post</a> for more info. Mathematica functions support pattern matching for their arguments, such that the two base cases can be defined separately.</p>
</div>
<div id="pu17" class="pu"><h2>Haskell, 43 bytes</h2>

<pre class="lang-haskell prettyprint-override"><code>q=((!!).).iterate
g=q(`q`1)(3*)
q(`g`3)4$64
</code></pre>
<p>There has be a better way to flip <code>g</code> inline.</p>
<p><strong>46 bytes:</strong></p>
<pre class="lang-haskell prettyprint-override"><code>i=iterate
n%0=3*n
n%m=i(%(m-1))1!!n
i(3%)4!!64
</code></pre>
<hr />
<p><strong>48 bytes:</strong></p>
<pre class="lang-haskell prettyprint-override"><code>n%1=3^n
1%m=3
n%m=(n-1)%m%(m-1)
iterate(3%)4!!64
</code></pre>
<p>Just writing down the definitions.</p>
<p>The base cases are a bit cleaner backed up to 0, though it saves no bytes. Perhaps it will make it easier to write an alternate definition.</p>
<pre class="lang-haskell prettyprint-override"><code>n%0=3*n
0%m=1
n%m=(n-1)%m%(m-1)
z=iterate(3%)2!!1
</code></pre>
</div>
<div id="pu18" class="pu"><h1>Haskell, 41 bytes</h1>

<pre class="lang-hs prettyprint-override"><code>i=((!!).).iterate
i(($3).i(`i`1)(*3))4 64
</code></pre>

<p>Explanation:</p>

<p><code>(`i`1)f n</code> = <code>i f 1 n</code> computes the <code>n</code>th iterate of the function <code>f</code> starting at <code>1</code>.  In particular, <code>(`i`1)(*3)n</code> = 3^<em>n</em>, and iterating this construction <em>m</em> times gives <code>i(`i`1)(*3)m n</code> = <em>u</em>(3, <em>n</em>, <em>m</em>).  We can rewrite that as <code>(($n).i(`i`1)(*3))m</code> = <em>u</em>(3, <em>n</em>, <em>m</em>), and iterate this construction <em>k</em> times to get <code>i(($3).i(`i`1)(*3))4 k</code> = <em>g</em>_<em>k</em>.</p>
</div>
<div id="pu19" class="pu"><h1>Pyth, 25 bytes</h1>
<pre><code>M?H.UgbtH*G]3^3Gug3tG64 4
</code></pre>
<p>The first part <code>M?H.UgbtH*G]3^3G</code> defines a method <code>g(G,H) = u(3,G,H+1)</code>.</p>
<p>To test the first part, check that <code>7625597484987=u(3,3,2)=g(3,1)</code>: <a href="http://pyth.herokuapp.com/?code=M%3FH.UgbtH%2aG%5D3%5E3Gg3+1&amp;debug=0" rel="noreferrer"><code>g3 1</code></a>.</p>
<p>The second part <code>ug3tG64 4</code> starts from <code>r0 = 4</code> and then compute <code>rn = u(3,3,r(n-1)) = g(3,r(n-1))</code> 64 times, outputting the final value (<code>r</code> is chosen instead of <code>g</code> to avoid confusion).</p>
<p>To test this part, start from <code>r0=2</code> and then compute <code>r1</code>: <a href="http://pyth.herokuapp.com/?code=M%3FH.UgbtH%2aG%5D3%5E3Gug3tG1+2&amp;debug=0" rel="noreferrer"><code>ug3tG1 2</code></a>.</p>
</div>
<div id="pu20" class="pu"><h1><a href="https://github.com/JCumin/Brachylog">Brachylog</a>, 57 bytes</h1>

<pre><code>4:64:1iw
:3{[1:N],3:N^.|t1,3.|hM:1-X,?t:1-:Mr:2&amp;:Xr:2&amp;.}.
</code></pre>

<p>Expects no Input nor Output and writes the result to <code>STDOUT</code>. This will produce a stack overflow at one point.</p>

<p>To check that this works for small values (e.g <code>u(3,3,2)</code>) you can replace the <code>4</code> with the value of <code>m</code> and <code>64</code> with <code>1</code>.</p>

<h3>Explanation</h3>

<p>This is basically a straightforward implementation of the explained way of computing the number.</p>

<ul>
<li><p>Main predicate:</p>

<pre><code>4:64:1i                    Call Predicate 1 64 times with 4 as initial input (the second
                           call takes the output of the first as input, etc. 64 times).
       w                   Write the final output to STDOUT
</code></pre></li>
<li><p>Predicate 1:</p>

<pre><code>:3{...}.                   Call predicate 2 with input [Input, 3]. Its output is the 
                           output of predicate 1.
</code></pre></li>
<li><p>Predicate 2:</p>

<pre><code>[1:N],                     M = 1
      3:N^.                Output = 3^N
|                          Or
t1,                        N = 1
   3.                      Output = 3
|                          Or
hM:1-X,                    X is M - 1
       ?t:1-:Mr:2&amp;         Unify an implicit variable with u(3,N-1,M)
                  :Xr:2&amp;.  Unify Output with u(3,u(3,N-1,M),X)
</code></pre></li>
</ul>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/83873/">83873</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




