<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::269433</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>007</td><td>Brachylog</td><td>240122T104844Z</td><td><a href="https://codegolf.stackexchange.com/questions/269433/make-1s-and-2s-composite/269469#269469">Fatalize</a></td></tr>
<tr d-ix="1"><td>064</td><td>JavaScript Node.js</td><td>240121T182351Z</td><td><a href="https://codegolf.stackexchange.com/questions/269433/make-1s-and-2s-composite/269443#269443">l4m2</a></td></tr>
<tr d-ix="2"><td>012</td><td>Vyxal 3</td><td>240122T011903Z</td><td><a href="https://codegolf.stackexchange.com/questions/269433/make-1s-and-2s-composite/269459#269459">lyxal</a></td></tr>
<tr d-ix="3"><td>060</td><td>JavaScript ES11</td><td>240121T213112Z</td><td><a href="https://codegolf.stackexchange.com/questions/269433/make-1s-and-2s-composite/269454#269454">Arnauld</a></td></tr>
<tr d-ix="4"><td>013</td><td>Jelly</td><td>240121T170150Z</td><td><a href="https://codegolf.stackexchange.com/questions/269433/make-1s-and-2s-composite/269437#269437">Jonathan</a></td></tr>
<tr d-ix="5"><td>026</td><td>Charcoal</td><td>240121T220149Z</td><td><a href="https://codegolf.stackexchange.com/questions/269433/make-1s-and-2s-composite/269455#269455">Neil</a></td></tr>
<tr d-ix="6"><td>047</td><td>Retina 0.8.2</td><td>240121T201536Z</td><td><a href="https://codegolf.stackexchange.com/questions/269433/make-1s-and-2s-composite/269450#269450">Neil</a></td></tr>
<tr d-ix="7"><td>018</td><td>Vyxal 3 o</td><td>240121T171051Z</td><td><a href="https://codegolf.stackexchange.com/questions/269433/make-1s-and-2s-composite/269439#269439">pacman25</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/JCumin/Brachylog" rel="nofollow noreferrer">Brachylog</a>, 7 bytes</h1>
<pre><code>⊇PḋṀh;P
</code></pre>
<p><a href="https://tio.run/##SypKTM6ozMlPN/r//1FXe8DDHd0PdzZkWAf8/29oZGRo@D8KAA" rel="nofollow noreferrer" title="Brachylog – Try It Online">Try it online!</a></p>
<p>Outputs a list with the factor <code>p</code> first, and <code>k'</code> second.</p>
<h3>Explanation</h3>
<p>Since it’s been proven in a comment that it’s always possible for any input, we can state that P is a subset of the input without specifying the number of digits to remove. Since <code>⊇</code> will try the biggest subsets first (including the original input), it will succeed with at most 1 digit removed.</p>
<pre><code>⊇P         P is an integer which is a subset of the input integer
  PḋṀ      P has Ṁany prime divisors (at least 2, so P is composite)
    Ṁh;P   Output = [First prime divisor of P, P]
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 64 bytes, string input</h1>

<pre class="lang-javascript prettyprint-override"><code>f=(x,p=9n)=&gt;BigInt(a=x.replace(p%3n,''))%(b=p/3n)?f(x,-~p):[a,b]
</code></pre>
<p><a href="https://tio.run/##y0osSyxOLsosKNHNy09J/f8/zVajQqfA1jJP09bOKTPdM69EI9G2Qq8otSAnMTlVo0DVOE9HXV1TU1UjybZA3zhP0z4NqEG3rkDTKjpRJyn2f3J@XnF@TqpeTn66RpqGuqGhIVA1F7qoEQhikzAESmDVYITVICOQBAjiMA8kbwQ2FG7CfwA" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 68 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>f=(x,k=1n,p=3n)=&gt;(a=x%k+x/k/10n*k)&gt;p&gt;a%p?[a,p]:f(x,p&gt;5?k*10n:k,8n^p)
</code></pre>
<p><a href="https://tio.run/##bYxBCsIwEEX33qOQ1GidiFAKSQ8iCqE2olMmgxXJ7WOycCPh795/vKf7uHV6Pfi9o3CbU/JGRIUGSLE5kjRWOBMb3MYOOzhQi9KydQ2PZ6f4Mvhssz2N2OZzQNXTlWWaAq1hmfdLuAsvAICk3PxBXVbhkHlN17WKLrzsF0tf" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>Fast. Use fact that input is only 1 and 2.</p>
<blockquote>
<p>Proof that it's always possible: For all 1 or 2, remove one digit if odd number of digits, then it's always 11x10101; Otherwise, one of keep, remove a 1, and remove a 2 result 0 modulo 3</p>
<p>Neil：Edge case <code>111</code> falls under <code>0 modulo 3</code> case.</p>
</blockquote>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-3" rel="nofollow noreferrer">Vyxal 3</a>, 12 bytes</h1>
<pre><code>ι*J⌊ᵐϩṄ¬:ḟh;
</code></pre>
<p><a href="https://vyxal.github.io/latest.html#WyIiLCIiLCLOuSpK4oyK4bWQz6nhuYTCrDrhuJ9oOyIsIiIsIlwiMTIyMTFcIiIsIjMuNC4xIl0=" rel="nofollow noreferrer">Try it Online!</a></p>
<p>Outputs largest possible <code>k'</code> and the first prime factor. Takes input as a string</p>
<h2>Explained</h2>
<pre><code>ι*J⌊ᵐϩṄ¬:ḟh;­⁡​‎‎⁪⁡⁪⁠⁪⁡⁪‏⁠⁪⁪‏​⁡⁠⁡‌⁢​‎‎⁪⁡⁪⁠⁪⁢⁪‏⁠⁪⁪‏​⁡⁠⁡‌⁣​‎‎⁪⁡⁪⁠⁪⁣⁪‏‏​⁡⁠⁡‌⁤​‎‎⁪⁡⁪⁠⁪⁤⁪‏‏​⁡⁠⁡‌⁢⁡​‎‎⁪⁡⁪⁠⁪⁢⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁢⁪‏‏​⁡⁠⁡‌⁢⁢​‎‎⁪⁡⁪⁠⁪⁢⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁤⁪‏‏​⁡⁠⁡‌⁢⁣​‎‎⁪⁡⁪⁠⁪⁣⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁢⁪‏‏​⁡⁠⁡‌⁢⁤​‎‎⁪⁡⁪⁠⁪⁣⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁤⁪‏‏​⁡⁠⁡‌­
ι             # ‎⁡Range 0 -&gt; len input
 *            # ‎⁢And to each index, remove the letter at that position in the input
  J           # ‎⁣Add the input to that list so the unaltered input is an option
   ⌊          # ‎⁤Convert each to int
    ᵐϩ        # ‎⁢⁡Get the maximum by
      Ṅ¬      # ‎⁢⁢Not a prime
        :ḟ    # ‎⁢⁣Push a list of prime factors of that without popping
          h;  # ‎⁢⁤And pair the first of those with k'
💎
</code></pre>
<p>Created with the help of <a href="https://vyxal.github.io/Luminespire" rel="nofollow noreferrer">Luminespire</a>.</p>
</div>
<div id="pu3" class="pu"><h1>JavaScript (ES11), 60 bytes</h1>
<p>Similar to <a href="https://codegolf.stackexchange.com/a/269443/58563">l4m2</a>'s strategy, but we first test whether <span class="math-container">\$11\$</span> is a divisor of either <span class="math-container">\$n\$</span> or <span class="math-container">\$\lfloor n/10\rfloor\$</span> before considering removing a digit according to <span class="math-container">\$n\bmod 3\$</span>.</p>
<p>Expects a BigInt and returns <code>&quot;k',p&quot;</code> as a comma-separated string.</p>

<pre class="lang-javascript prettyprint-override"><code>n=&gt;(x=n)%11n&amp;&amp;(x/=10n)%11n?`${n},3`.replace(n%3n,&quot;&quot;):x+[,11]
</code></pre>
<p><a href="https://tio.run/##dczBCsIwDAbgu48x3GixTpPdBtUHEWGldqKUdGwiBfHZ66I36fKf8oX8d/M0kx1vw2NL4eJSrxPpg4iaZAlAVSXiTsP@tx279Yvequnq0Q3eWCeobEgVhWzj5qQAzskGmoJ3tQ9X0QtADkm5@nOYPcOIkGFk5@TL@IzfxqX/efK6xOzpAw" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<hr />
<h1>JavaScript (ES6), 51 bytes</h1>
<p>A more limited version without BigInts. This time we first attempt to remove a digit and move to <span class="math-container">\$p=11\$</span> only on failure.</p>
<p>Expects a string and returns <code>[k',p]</code>.</p>

<pre class="lang-javascript prettyprint-override"><code>n=&gt;(q=n.replace(n%3,''))%3?[q%11?q/10|0:q,11]:[q,3]
</code></pre>
<p><a href="https://tio.run/##y0osSyxOLsosKNHNy09J/Z9m@z/P1k6j0DZPryi1ICcxOVUjT9VYR11dU1PV2D66UNXQ0L5Q39CgxsCqUMfQMNYqulDHOPZ/cn5ecX5Oql5OfrpGmoaSoREIKmlqcqFLGAIlsIkbGRliEzcCAhzCOMVBEv8B" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, <s> 15 </s> 13 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>DŒPḌẒÐḟṪÆḌṪṭƊ
</code></pre>
<p>A monadic Link that accepts an integer, <code>k</code>, and yields a pair of integers, <code>[k', p]</code>.</p>
<p><strong><a href="https://tio.run/##y0rNyan8/9/l6KSAhzt6Hu6adHjCwx3zH@5cdbgNxN@56uHOtce6/v//b2RoZGRkaGgIxCAaAA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>
<h3>How?</h3>
<p>Creates the powerset of <code>k</code>s digits to look for candidates for <code>k'</code>. Jelly produces powersets that are sorted by length, so <code>k</code> will be at the right and all other <em>valid</em> <code>k'</code> candidates to the right of any other junk.</p>
<p>The code then takes, as <code>k'</code>, the rightmost that is not prime (due to length this is also composite), which will either be <code>k</code> or <code>k</code> less one of its digits. It then tacks on the largest proper divisor of this, <code>p</code>.</p>
<pre><code>DŒPḌẒÐḟṪÆḌṪṭƊ - Link: integer, k         e.g. 212
D             - decimal digits {k}            [2,1,2]
 ŒP           - powerset                      [[],[2],[1],[2],[2,1],[2,2],[1,2],[2,1,2]]
   Ḍ          - convert from decimal digits   [0,2,1,2,21,22,12,212]
     Ðḟ       - discard those for which:
    Ẓ         -   is prime?                   [0,1,21,22,12,212]
       Ṫ      - tail                          212
            Ɗ - last three links as a monad - f(k'=that):
        ÆḌ    -   proper divisors of k'       [1,2,4,53,106]
          Ṫ   -   tail                        106
           ṭ  -   tack to k'                  [212,106]
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 26 bytes</h1>
<pre><code>Ｉ⮌⌈ＥＩＥ³Φθ⁻μ⌕θＩι⟦⌈Φι∧λ¬﹪ιλι
</code></pre>
<p><a href="https://tio.run/##S85ILErOT8z5/z@gKDOvRMM5sbhEIyi1LLWoOFXDN7EiM7c0F0gXQCRADGMdBbfMnJLUIo1CHQXfzLzSYo1ckFBeCkgArCxTEwx0FKJhJkB1ZOooOALV5ego@OUDTctPKc3JBwnmQNVnxoIZ1v//GxoZGRr@1y3LAQA" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation: Just tries removing one <code>1</code> and one <code>2</code> since by @l4m2's comment at least one of the two or three numbers will be composite. (Removing every possible digit turns out to take the same length but it will of course be slower.)</p>
<pre><code>      ³                     Literal integer `3`
     Ｅ                      Map over implicit range
        θ                   Input as a string
       Φ                    Filtered where
          μ                 Current index
         ⁻                  Does not equal
           ⌕                Index of
              ι             Outer value
             Ｉ              Cast to string
            θ               In input string
    Ｉ                       Cast to integer
   Ｅ                        Map over values
                  ι         Current value
                 Φ          Filter on implicit range
                    λ       Inner value
                   ∧        Logical And
                       ι    Outer value
                     ¬﹪     Is divisible by
                        λ   Inner value
                ⌈           Take the maximum
                         ι  Current value
               ⟦            Make into list
  ⌈                         Take the maximum
 ⮌                          Reversed
Ｉ                           Cast to string
                            Implicitly print
</code></pre>
<p>31 bytes for a very fast version which only looks for factors below <code>12</code> (except for <code>11</code> itself, which is a special case):</p>
<pre><code>Ｉ⮌⌈ＥＩＥ³Φθ⁻μ⌕θＩι⟦⌈Φ⌊⟦¹²ι⟧∧λ¬﹪ιλι
</code></pre>
<p><a href="https://tio.run/##NYyxDsIwDER/xaORzNAyMiEktiLEWjFEbSQsOQkkacXfByeU82D7/M7T08QpGCnlFtlnPJuU8W5XG5PFwXzYLU7763eow4HgwpJtxDfBwH5J6Krl52o0jHdNBOP/w5ZQvK1j1xPwQ4mTxoTgGvR5mBcJyASyxZWoOpbSd7XKfpUv" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code.</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language/a950ad7d925ec9316e3e2fb2cf5d49fd15d23e3d" rel="nofollow noreferrer">Retina 0.8.2</a>, 47 bytes</h1>
<pre><code>.|$
$`$'¶
.+
$*
1G`^(..+)\1+$
(..+)\1+$
$.&amp; $.1
</code></pre>
<p><a href="https://tio.run/##K0otycxL/K@q4Z7wX69GhUslQUX90DYuPW0uFS0uQ/eEOA09PW3NGENtFS4ES0VPTUFFz/D/f0MjEOQyNARSXIZGRoZg0sgQAA" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Link includes faster test cases. Removes the earliest possible digit. Explanation:</p>
<pre><code>.|$
$`$'¶
</code></pre>
<p>List the number with each digit removed in turn, then end with the original input.</p>
<pre><code>.+
$*
</code></pre>
<p>Convert all of the numbers to unary.</p>
<pre><code>1G`^(..+)\1+$
</code></pre>
<p>Keep only the first composite number.</p>
<pre><code>(..+)\1+$
$.&amp; $.1
</code></pre>
<p>Convert it and its highest proper factor to decimal.</p>
<p>In Retina 1 you would be able to fold those last two stages into a single stage, something like this:</p>
<pre><code>0L$m`^(..+)\1+$
$.&amp; $.1
</code></pre>
<p>(The <code>m</code> flag is not needed in Retina 0.8.2 because there the <code>G</code> stage type splits the input into lines and then matches each line in turn against the regex.)</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-3" rel="nofollow noreferrer">Vyxal 3</a> <code>o</code>, 18 bytes</h1>
<pre><code>Ṅ[ṢḶṪ⸠LĠt“⌊ᶻṄh]ỌḄt
</code></pre>
<p><a href="https://vyxal.github.io/latest.html#WyJvIiwiIiwi4bmEW+G5ouG4tuG5quK4oEzEoHTigJzijIrhtrvhuYRoXeG7jOG4hHQiLCIiLCIxMjEyMTIiLCIzLjQuMSJd" rel="nofollow noreferrer">Try it Online!</a></p>
<p>prints k' and the largest prime factor</p>
<pre><code>Ṅ[ṢḶṪ⸠LĠt“⌊ᶻṄh]ỌḄt­⁡​‎‎⁪⁡⁪⁠⁪⁡⁪‏‏​⁡⁠⁡‌⁢​‎‎⁪⁡⁪⁠⁪⁢⁪‏⁠⁪⁪‏​⁡⁠⁡‌⁣​‎‎⁪⁡⁪⁠⁪⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁪‏⁠⁪⁪‏​⁡⁠⁡‌⁤​‎⁪⁪⁠‎⁪⁡⁪⁠⁪⁢⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁡⁪‏‏​⁡⁠⁡‌⁢⁡​‎‎⁪⁡⁪⁠⁪⁣⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁡⁪‏‏​⁡⁠⁡‌⁢⁢​‎‎⁪⁡⁪⁠⁪⁤⁢⁪‏‏​⁡⁠⁡‌⁢⁣​‎‎⁪⁡⁪⁠⁪⁤⁣⁪‏⁠⁪⁪‏​⁡⁠⁡‌⁢⁤​‎‎⁪⁡⁪⁠⁪⁤⁤⁪‏⁠⁪⁪⁠⁪⁪‏​⁡⁠⁡‌⁣⁡​‎‎⁪⁡⁪⁠⁪⁢⁡⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁢⁪‏‏​⁡⁠⁡‌­
Ṅ                   # ‎⁡is prime?
 [                  # ‎⁢
  ṢḶṪ               # ‎⁣group sublists by length and drop the tail 
     ⸠LĠt           # ‎⁤group by max length, take the longest
         “⌊ᶻṄ       # ‎⁢⁡convert to number and filter by not prime
             h      # ‎⁢⁢take the first number left
              ]     # ‎⁢⁣
               Ọ    # ‎⁢⁤print k'
                Ḅt  # ‎⁣⁡largest prime of k'
💎
</code></pre>
<p>Created with the help of <a href="https://vyxal.github.io/Luminespire" rel="nofollow noreferrer">Luminespire</a>.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/269433/">269433</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




