<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::271425</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>797</td><td>JavaScript Node.js</td><td>240302T015918Z</td><td><a href="https://codegolf.stackexchange.com/questions/271425/%c2%b5unitdc-a-unit-aware-rpn-calculator/271474#271474">2pichar</a></td></tr>
<tr d-ix="1"><td>117</td><td>K ngn/k</td><td>240229T174254Z</td><td><a href="https://codegolf.stackexchange.com/questions/271425/%c2%b5unitdc-a-unit-aware-rpn-calculator/271426#271426">ovs</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 797 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>Z=require('util');O=Object;N=&quot;length&quot;;A=u=&gt;O.fromEntries([...u.matchAll(/([a-zA-Z])(-?\d+)/g)].map(_=&gt; _.slice(1)));B=u=&gt;{s=&quot;&quot;;e=O.entries(u);for(i=0;i&lt;e[N];i++){s+=e[i][0]+e[i][1]}return s};D=T=&gt;{S=[];U=[];p=/[+*\/]/;for(t of T){if(/\d+/.test(t[0])||(/\d+/.test(t[1])&amp;&amp;(t[0]==&quot;-&quot;||t[0]==&quot;+&quot;))){S.push(t)}else if(p.test(t)){let[r,l]=[S.pop(),S.pop()];[h,H]=[U.pop(),U.pop()];if(H){f=A(h);g=A(H);m=1;if(t==&quot;+&quot;){if(Z.isDeepStrictEqual(g,f)){n=B(g)}else{return'*'}}if(t==&quot;/&quot;){m=-1}L=O.keys(g);P=O.keys(f);z={};for(i=0;i&lt;L[N];i++){k=L[i];if(k in f){y=+g[k]+m*+f[k];y!=0?(z[k]=y):0}else{z[k]=+g[k]}}for(i=0;i&lt;P[N];i++){k=P[i];if(!(k in z||k in g)){z[k]=m*+f[k]}}n=B(z);n!=&quot;&quot;?U.push(n):0}S.push(&quot;&quot;+eval(l+t+r))}else{if(t[N] &gt; 1){U.push(t)}else{U.push(t+1)}}}return S.map((E,I)=&gt; E+(U[I]||&quot;&quot;)).join(&quot; &quot;)}
</code></pre>
<p><a href="https://tio.run/##bVRbU9s6EH6GXyH80EgokWMejyoYOjBDZ5jCDM0LrodJg@wIfKsl05M4@u05K1uG9EwfEq328u23q12/LN@WetWo2szK6lnu736@yJVhzzJVpbxvqlo2ZoMfTKPKjNVNZSqzqeUUBcXSrNaXeR5MUXd89LbMW4kbSUA@yqVBDfwEihPu76aonfh7rXKJ4QLGRjL5r1xhs1aa9IFHEMXqVq9xzBgDr4S4IHvcW9qmdLCgsccWDH@nOminaJI2VXFdAnGpJwcc5aB6J1r9fAEunXWJ0qrBTqdAM@dwfEbeneWyzMwadJQOVCEu9sZYJfE8SSDoQBEl/6MOASP1/aNo5K9WNRJPWqPyCeF3YiDOv4lgyBXwS9GK8zt2UEjfl5aNvcchjpez7eXsMSF4dvHjmZIwIwnYa/wkztET07laSRwRQvgXh9ZpEQRcijvmqeKWcFe2EnOuPsv4W8L7EjUVcqiLyqEc6@vQll@J7wD1IOB5F@6vFmFMT3@ESdhjQVNT9J10KsUhcAqZkdpgA1hkt/tTFSXk06feJEQwC3Y7L9IAKHcPwzAYYmWuJQK82geCER4qbqZ5ImJwq2pMpv5MeLye3oB@4fWLUQ8AN6RLxSVeE57BcUN4ISKnN0NSx/mRKX0lZe2GfmWuf7XLHGfTFFKW4gvOBjLd0I3J6cRaHx5CeCFmkb2F9r7KjQZffj/KKeFbAWP20ezb92a/ilvosaPxilSJUtJtBM3i14QWpzSFk29OxPwCb0EUG/LPfKDQX3s/az9g7w9g7z3syQC83e36M4Na@mAPb62rbEt4eQLjcbEY2l66RP4JgoBK2B@cU0Mb4lvg6oZk6BxFpFv88VbvVxoRa8fReegnE19PvxKYzmuKF/HXZLcL4LHZS6VKHKCA2H3//ajLJ2AqEHxzVlJrtmyyNz/OZ7D8f1nVIWTcVL@oq6rUVS5ZXmX4Cg8u0BSm61wZPEETtxrHdr@P9hHS7ofOUIEoSAVytxB9SNTbNTpFo3dvOfB20WcH3iPGiFjATf8H" rel="nofollow noreferrer" title="JavaScript (Node.js) â€“ Try It Online">Try it online!</a> Input is as an array of token strings passed to <code>D</code>. Output is to STDOUT.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://codeberg.org/ngn/k" rel="noreferrer">K (ngn/k)</a>, <s>134</s> <s>124</s> 117 bytes</h1>
<pre><code>{,//$x,(!y),'.y}.'|(){(,$[43=*y-*|&amp;/=/h;E;1=C;**x;^[_%;.y].|*'h],(&amp;~b)_b:(y!C;*|(1-3!*y)/h:C#x)2=C),(C:3!&quot;0a&quot;'*y)_x}/
</code></pre>
<p><a href="https://ngn.codeberg.page/k#eJxVTMEOgjAMvfMVpSpsc64CnraQmBDPJlwRUQ+Giyc9bAH8dkGMaJr29fX1vatuJNHcSuY7LkPlOhW2jDdMzotNkgq3Em1AKdVmZ6I0M0JYcyyqhVGuVK0I61Ky4Hnh1UUz5/d6y6JV4gvHqdbZzPI4zbhkmU58XJ8x7IXKduR5D92oAgHpujWyxwOitOa0y/N9XnbeAyMcBtw/ADHcYDmSGwwHgmlbTl93EPBje+v/tiEpnmwjHVv0FX9jCF+Q30J4" rel="noreferrer">Try it online!</a> Input and output as list of strings, <code>t</code> converts between that and space separated format.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/271425/">271425</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




