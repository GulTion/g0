<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::85084</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>052</td><td>Perl 5</td><td>240416T220410Z</td><td><a href="https://codegolf.stackexchange.com/questions/85084/calculate-swatch-internet-time/272628#272628">Xcali</a></td></tr>
<tr d-ix="1"><td>110</td><td>FreePascal</td><td>240416T100002Z</td><td><a href="https://codegolf.stackexchange.com/questions/85084/calculate-swatch-internet-time/272620#272620">Kai Burg</a></td></tr>
<tr d-ix="2"><td>064</td><td>Python 3</td><td>201021T114351Z</td><td><a href="https://codegolf.stackexchange.com/questions/85084/calculate-swatch-internet-time/213925#213925">Jitse</a></td></tr>
<tr d-ix="3"><td>048</td><td>Javascript</td><td>200728T001856Z</td><td><a href="https://codegolf.stackexchange.com/questions/85084/calculate-swatch-internet-time/207715#207715">minceraf</a></td></tr>
<tr d-ix="4"><td>021</td><td>05AB1E</td><td>200730T093252Z</td><td><a href="https://codegolf.stackexchange.com/questions/85084/calculate-swatch-internet-time/207836#207836">SomoKRoc</a></td></tr>
<tr d-ix="5"><td>015</td><td>Japt</td><td>201020T095148Z</td><td><a href="https://codegolf.stackexchange.com/questions/85084/calculate-swatch-internet-time/213878#213878">Razetime</a></td></tr>
<tr d-ix="6"><td>034</td><td>CJam</td><td>200726T214248Z</td><td><a href="https://codegolf.stackexchange.com/questions/85084/calculate-swatch-internet-time/207645#207645">Ethan Ch</a></td></tr>
<tr d-ix="7"><td>4846</td><td>PHP</td><td>160716T002059Z</td><td><a href="https://codegolf.stackexchange.com/questions/85084/calculate-swatch-internet-time/85495#85495">mystery</a></td></tr>
<tr d-ix="8"><td>056</td><td>C</td><td>160711T041347Z</td><td><a href="https://codegolf.stackexchange.com/questions/85084/calculate-swatch-internet-time/85107#85107">veganaiZ</a></td></tr>
<tr d-ix="9"><td>083</td><td>Javascript</td><td>160722T085949Z</td><td><a href="https://codegolf.stackexchange.com/questions/85084/calculate-swatch-internet-time/86275#86275">user5418</a></td></tr>
<tr d-ix="10"><td>144</td><td>Common Lisp Lispworks</td><td>160722T052421Z</td><td><a href="https://codegolf.stackexchange.com/questions/85084/calculate-swatch-internet-time/86258#86258">sadfaf</a></td></tr>
<tr d-ix="11"><td>112</td><td>C#</td><td>160717T224200Z</td><td><a href="https://codegolf.stackexchange.com/questions/85084/calculate-swatch-internet-time/85591#85591">aloisdg</a></td></tr>
<tr d-ix="12"><td>121</td><td>Python 2.7</td><td>160715T230951Z</td><td><a href="https://codegolf.stackexchange.com/questions/85084/calculate-swatch-internet-time/85490#85490">R. Kap</a></td></tr>
<tr d-ix="13"><td>021</td><td>q/k</td><td>160716T090828Z</td><td><a href="https://codegolf.stackexchange.com/questions/85084/calculate-swatch-internet-time/85507#85507">skeevey</a></td></tr>
<tr d-ix="14"><td>143</td><td>Java 8</td><td>160716T055827Z</td><td><a href="https://codegolf.stackexchange.com/questions/85084/calculate-swatch-internet-time/85503#85503">user5585</a></td></tr>
<tr d-ix="15"><td>064</td><td>Octave</td><td>160715T212659Z</td><td><a href="https://codegolf.stackexchange.com/questions/85084/calculate-swatch-internet-time/85482#85482">beaker</a></td></tr>
<tr d-ix="16"><td>012</td><td>PHP</td><td>160710T235443Z</td><td><a href="https://codegolf.stackexchange.com/questions/85084/calculate-swatch-internet-time/85086#85086">mystery</a></td></tr>
<tr d-ix="17"><td>098</td><td>JavaScript</td><td>160711T030840Z</td><td><a href="https://codegolf.stackexchange.com/questions/85084/calculate-swatch-internet-time/85104#85104">charredg</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a>, 52 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>$_=((@t=gmtime)[1]/60+$t[2]+1)/24 .000;/\d{3}/;say$&amp;
</code></pre>
<p><a href="https://tio.run/##K0gtyjH9/18l3lZDw6HENj23JDM3VTPaMFbfzEBbpSTaKFbbUFPfyERBz8DAwFo/JqXauFbfujixUkXt/39D03/5BSWZ@XnF/3V9TfUMDA0A" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h2><a href="https://www.freepascal.org/" rel="nofollow noreferrer">FreePascal</a>, 110 byte</h2>
<p>Speaking of brain‑damaged time formats, Delphi invented a time format <a href="http://docwiki.embarcadero.com/Libraries/Sydney/en/System.TDateTime" rel="nofollow noreferrer"><code>tDateTime</code> using floating‑point numbers</a>.</p>
<div class="s-table-container"><table class="s-table">
<thead>
<tr>
<th style="text-align: right;">integral part</th>
<th style="text-align: center;">radix point</th>
<th style="text-align: left;">fractional part</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: right;"><code>45398</code></td>
<td style="text-align: center;"><code>.</code></td>
<td style="text-align: left;"><code>5</code></td>
</tr>
<tr>
<td style="text-align: right;">number of complete days elapsed since 1899‑12‑30</td>
<td style="text-align: center;"></td>
<td style="text-align: left;">fractional part of day since midnight (here noon)</td>
</tr>
</tbody>
</table></div>
<pre><code>uses
sysUtils,dateUtils;begin
writeLn(format('%3.3U',[trunc(frac(localTimeToUniversal(time)+1/24)*1E3)]))end.
</code></pre>
<p>The <a href="https://www.freepascal.org/docs-html/current/rtl/sysutils/time.html" rel="nofollow noreferrer"><code>time</code> function</a> returns the fraction of the day since midnight.
This value is subject to local time, so <a href="https://www.freepascal.org/docs-html/current/rtl/dateutils/localtimetouniversal.html" rel="nofollow noreferrer"><code>localTimeToUniversal</code></a> converts it to UTC.
Then you add <a href="https://www.freepascal.org/docs-html/current/rtl/dateutils/onehour.html" rel="nofollow noreferrer"><code>oneHour</code> (= 1/24)</a> to obtain UTC+1.
Since this may cause the value equal to or exceed 1.0, <a href="https://www.freepascal.org/docs-html/current/rtl/system/frac.html" rel="nofollow noreferrer"><code>frac</code></a> discards any integral part.
Multiply that by 1000 and <a href="https://www.freepascal.org/docs-html/current/rtl/system/trunc.html" rel="nofollow noreferrer"><code>trunc</code></a> for an <code>integer</code> value.
Finally <a href="https://www.freepascal.org/docs-html/current/rtl/sysutils/format.html" rel="nofollow noreferrer"><code>format</code></a> emits a zero‑padded value.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 64 bytes</h1>

<pre class="lang-python prettyprint-override"><code>import time
t=time.gmtime()
print(int(-~t[3]%24/.024+t[4]/1.44))
</code></pre>
<p><a href="https://tio.run/##K6gsycjPM/7/PzO3IL@oRKEkMzeVq8QWROml54IoDU2ugqLMvBINENatK4k2jlU1MtHXMzAy0S6JNonVN9QzMdHU/P8fAA" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
</div>
<div id="pu3" class="pu"><h1>Javascript, <s>53</s> <s>52</s> 48 bytes</h1>
<pre><code>alert((new Date/864e5%1+1/24+'0000').slice(2,5))  
</code></pre>
<p>Explanation:</p>
<p><code>new Date/864e5%1</code> is the fraction of a day in UTC. <code>+1/24</code> adds 1/24th of a day (1 hour), moving it to UTC+1.</p>
<p><code>&quot;0000&quot;</code> is concatenated with this, turning it into a string. Then the 3rd through 5th characters are taken. The reason <code>&quot;0000&quot;</code> is concatenated instead of an empty string is for the cases in which there are fewer than 3 decimal places:</p>
<ul>
<li><code>&quot;0.XXX</code>(any number of digits here)<code>0000&quot;</code> Swatch time is XXX</li>
<li><code>&quot;0.XX0000&quot;</code> Swatch time is XX0</li>
<li><code>&quot;0.X0000&quot;</code> Swatch time is X00</li>
<li><code>&quot;00000&quot;</code> Swatch time is 000</li>
</ul>
<p>(the first character is 1 instead of 0 from 23:00 UTC to 24:00 UTC, but the first character is ignored.)</p>
</div>
<div id="pu4" class="pu"><h1>05AB1E, <s>29</s> 21 bytes</h1>
<pre><code>ža&gt;60©%®*žb+₄*1440÷Dg3s-Å0š˜J
</code></pre>
<p>After compressing integers thanks to @KevinCruijssen (-8 bytes) :</p>
<pre><code>ža&gt;60©%®*žb+₄*Ž5¦÷₄+¦
</code></pre>
<p>Explanation:</p>
<pre><code>ža&gt;60©%®*žb+₄*1440÷Dg3s-Å0š˜J
ža                               push current hours in UT 
  &gt;                              increment
   60©                           push 60 and save in register c
      %                          hours mod 60
       ®*                        push from register c and Multiply
         žb+                     add current minutes    
            ₄*                   multiply by 1000
              1440÷              Integer division with 1440
                   D             Duplicate
                    g            Length
                     3s-         3-length
                        Å0       create list of a 0s
                          š      Prepand
                           ˜J    Flat and joon
</code></pre>
<p>I didn't find a better idea for prepanding Zeros, so if anyone got a better idea I'll be glad to know :)</p>
<p><a href="https://tio.run/##ATEAzv9vc2FiaWX//8W@YT42MMKpJcKuKsW@YivigoQqMTQ0MMO3RGczcy3DhTDFocucSv//" rel="nofollow noreferrer">Try it online!</a></p>
<p><a href="https://tio.run/##yy9OTMpM/f//6L5EOzODQytVD63TOrovSftRU4vW0b2mh5Yd3g5kah9a9v8/AA" rel="nofollow noreferrer">Try the 21 bytes online!</a></p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, <sup><s>27 23 19</s></sup>  15 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>Kj z86400 s t3n
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;code=S2ogejg2NDAwIHMgdDNu" rel="nofollow noreferrer">Test it</a></p>
<p>Javascript port.</p>
<p>I hope I've done it correctly.</p>
<p>-4 bytes from Shaggy.</p>
<p>-4 more bytes from Shaggy.</p>
<p>-4 more more bytes from Shaggy.</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://sourceforge.net/projects/cjam/" rel="nofollow noreferrer">CJam</a>, 34 bytes</h1>
<p>Update: I shouldn't code hungry. My previous answer was shorter, but didn't cast to int or left-pad. These are now fixed, with +8 bytes to left-pad (probably improvable), +1 to int cast, and -2 to optimizations. My old comment no longer applies.</p>
<pre><code>r':/~\~)24md60*@~+1.44/i&quot;%03d&quot;e%o;
</code></pre>
<p><a href="https://tio.run/##S85KzP3/v0jdSr8upk7TyCQ3xcxAy6FO21DPxEQ/U0nVwDhFKVU13/r/fyNjKxNzAA" rel="nofollow noreferrer">Try it online</a></p>
<p>Explanation:</p>
<pre><code>r                   read input
 ':/                split on :
    ~               unwrap array
     \~             evaluate hour to numbers
       )            increment hour
        24md        modulo 24
            60*     multiply by 60
               @~   switch to minute and eval to num
+                   add hour*60 and minute
 1.44/              divide by 1.44 to get SIT
      i             cast to int
       &quot;%03d&quot;e%     format as 3 leading 0s
               o;   output and discard spare 0 from modulo
</code></pre>
</div>
<div id="pu7" class="pu"><h1>PHP, <del>48</del> 46 bytes</h1>
<pre><code>&lt;?=sprintf(&quot;%03d&quot;,((time()+3600)%86400)/86.4);
</code></pre>
<p>I have another PHP answer above, but this one avoids using PHP's built-in Swatch Internet Time support, so it's more interesting, if longer.</p>
<p>This is largely self-explanatory if you're familiar with UNIX time and <code>sprintf</code>, <del>though note I'm using <code>|0</code> as a short way to truncate a float to an integer</del> (actually I realised this is unnecessary in PHP, oops!)</p>
</div>
<div id="pu8" class="pu"><h1>C, <em>56 bytes</em></h1>

<pre><code>main(){printf("%03d",(int)((time(0)+3600)%86400/86.4));}
</code></pre>

Explanation:

<ul>
<li><strong>%03d</strong> - tells printf to zero-pad up to 3 digits.</li>
<li><strong>time(NULL)+3600</strong> - gets amount of seconds (UTC) elapsed since epoch and adds an hour to it (UTC+1).</li>
<li><strong>%86400</strong> - divides epoch by the amount of seconds in a 24hr day and gets the remainder (representing seconds elapsed, so far, "today").</li>
<li><strong>/86.4</strong> - divide remaining seconds by 86.4 to get the ".beat" count since midnight (UTC+1).</li>
</ul>

<h3>Compile (MSVC):</h3>

<p>C:> cl swatch.c</p>

<h3>Compile (GCC):</h3>

<p>$ gcc swatch.c</p>
</div>
<div id="pu9" class="pu"><h1>Javascript, 83 bytes</h1>

<pre><code>a=(((36e5+(+new Date()))%864e5)/864e2).toFixed(),alert("00".slice(Math.log10(a))+a)
</code></pre>
</div>
<div id="pu10" class="pu"><h2>Common Lisp (Lispworks), 144 bytes</h2>

<pre><code>(defun f(s)(let*((d(split-sequence":"s))(h(parse-integer(first d)))(m(parse-integer(second d))))(round(/(+(*(mod(1+ h) 24)3600)(* m 60))86.4))))
</code></pre>

<p>ungolfed:</p>

<pre><code>    (defun f (s)
      (let* ((d (split-sequence ":" s))
             (h (parse-integer (first d)))
             (m (parse-integer (second d))))
        (round
         (/
          (+
           (*
            (mod (1+ h) 24)
            3600)
           (* m 60))
          86.4))))
</code></pre>

<p>usage:</p>

<pre><code>CL-USER 2759 &gt; (f "23:47")
33
-0.36111111111111427
</code></pre>
</div>
<div id="pu11" class="pu"><h1>C#, 112 bytes</h1>

<pre><code>class P{static void M(){System.Console.Write((int)((DateTime.UtcNow.TimeOfDay.TotalSeconds%86400+3600)/86.4));}}
</code></pre>

<hr>

<h1>C#, 68 bytes</h1>

<pre><code>()=&gt;(int)((DateTime.UtcNow.TimeOfDay.TotalSeconds%86400+3600)/86.4);
</code></pre>

<p>A simple port of @veganaiZe's code. Thanks to him :)</p>

<p><a href="https://dotnetfiddle.net/7yE0Lz" rel="nofollow">Try it online!</a></p>
</div>
<div id="pu12" class="pu"><h1>Python 2.7, <s>131</s> <s>128</s> 121 bytes:</h1>

<pre><code>from datetime import*;S=lambda f:int(datetime.utcnow().strftime(f));print'%03.0f'%(((S('%H')+1%24)*3600+S('%M')*60)/86.4)
</code></pre>

<p>A full program that outputs the Swatch Internet Time.</p>

<p>Simply uses Python's built in <code>datetime</code> module to first get the <code>UTC+0</code> time in hours and minutes using <code>datetime.utfnow().strftime('%H')</code> and <code>datetime.utfnow().strftime('%M')</code>, respectively. Then, the time is converted into <code>UTC+1</code> by adding <code>1</code> to the hours and then modding the sum by <code>24</code> to ensure the result is in the 24-hour range. Finally, the hour is turned into its equivalent in seconds, which is added to the minute's equivalent in seconds, and the resulting sum is divided by <code>86.4</code>, as there are <code>86.4</code> seconds or <code>1 min. 24 sec.</code> in 1 ".beat", after which,  using string formatting, the quotient is rounded to the nearest integer and padded with zeroes until the length is <code>3</code>. </p>

<hr>

<p>However, I am not the one to stop here. In the above solution, I used a more direct method to convert the time to <code>UTC+1</code>. However, wanted to add a bit of a bigger challenge for myself and implement this using <em>only</em> Python's built in <code>time</code> module, which apparently does <em>not</em> have any built-in method that I know of to convert local time into <code>UTC+0</code> time. So now, without further ado, here is the perfectly working version using <em>only</em> the time module, currently standing at <strong>125 bytes</strong>:</p>

<pre><code>from time import*;I=lambda g:int(strftime(g));print'%03.0f'%((((I('%H')+1-daylight)%24*3600+timezone)%86400+I('%M')*60)/86.4)
</code></pre>

<p>This can output the correct Swatch Internet Time for <em>any and all</em> time zones, and basically does pretty much everything the same as in the first solution, except this time converts the local time into <code>UTC+1</code> by first adding <code>1</code> to the hour, and then subtracting <code>1</code> if daylight-savings time is currently, locally observed, or <code>0</code> otherwise. Then, this difference is modded by <code>24</code> to ensure that the result stays within the <code>24</code> hour range, after which it is multiplied by <code>3600</code> for conversion into seconds. This product is then added to the result from the built-in <code>timezone</code> method, which returns the local offset from <code>UTC+0</code>. After this, you finally have your hours in <code>UTC+1</code>. This then continues on from here as in the first solution.</p>
</div>
<div id="pu13" class="pu"><h1>q/k (21 bytes)</h1>

<pre><code>7h$1e3*(.z.n+0D01)%1D
</code></pre>
</div>
<div id="pu14" class="pu"><h1>Java 8, 143 bytes</h1>
<pre><code>import java.time.*;interface A{static void main(String[]a){System.out.format(&quot;%03.0f&quot;,LocalTime.now(ZoneId.of(&quot;UT+1&quot;)).toSecondOfDay()/86.4);}}
</code></pre>
<p>this uses Java 8's java.time package to get current time, convert it to UTC+1, and then get the number of seconds. At the end it divides by the number of 1000s of seconds in a day, which turns out to be 86.4.</p>
<p>Funny how the function that actually calculates the time is only about a third of the overall program size.</p>
</div>
<div id="pu15" class="pu"><h1>Octave, 64 bytes</h1>
<pre><code>t=gmtime(time);sprintf(&quot;%03.f&quot;,(mod(++t.hour,24)*60+t.min)/1.44)
</code></pre>
<p>Uses <a href="https://codegolf.stackexchange.com/a/85107/42892">veganaiZe's</a> <code>printf</code> formatting.</p>
<p>I'm having a bit of difficulty with the time that ideone is returning, so here's a sample run with the time struct returned by <code>gmtime</code> for reference. I'll look around and see if I can get any of the other online Octave compilers to give me proper time.</p>
<pre><code>t =    
  scalar structure containing the fields:
    usec =  528182
    sec =  17
    min =  24
    hour =  21
    mday =  15
    mon =  6
    year =  116
    wday =  5
    yday =  196
    isdst = 0
    zone = UTC

ans = 933
</code></pre>
</div>
<div id="pu16" class="pu"><h1>PHP, 12 bytes</h1>

<pre><code>&lt;?=@date(B);
</code></pre>

<p>But it can only be so short because PHP has built-in Swatch Internet Time support. So this answer isn't much fun.</p>

<hr>

<p><code>&lt;?=</code> exits HTML mode and evaluates an expression, then echoes it.</p>

<p><code>@</code> silences an error.</p>

<p><code>date()</code> outputs the current time, formatting it with a given format string.</p>

<p><code>B</code> is an undefined constant. In PHP, if you reference a constant that doesn't exist, you get back a string containing its name, and it also produces a “notice”-level error. Here, the <code>@</code> suppresses that error. <code>B</code> is the <code>date()</code> format code for Swatch Internet Time.</p>

<p><code>;</code> terminates the expression.</p>

<hr>

<p>If we assume PHP is being run with the default error-reporting settings, where “notices” are silenced, we could skip the <code>@</code>, and it would only be 11 bytes.</p>
</div>
<div id="pu17" class="pu"><h1>JavaScript, 98 bytes</h1>
<pre><code>d=new Date();t=;console.log(Math.floor((360*d.getHours()+60*d.getMinutes()+d.getSeconds())/86.4));
</code></pre>
<p>Definitely could be optimized, I had some problems with the <code>Date</code> object so I'm looking into shorter ways to do that.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/85084/">85084</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




