<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::274665</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>181</td><td>Python + SymPy</td><td>240804T134410Z</td><td><a href="https://codegolf.stackexchange.com/questions/274665/lexicographically-earliest-permutation-of-the-initial-segment-of-nonnegative-int/274669#274669">shape wa</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a> + <a href="https://www.sympy.org/en/index.html" rel="nofollow noreferrer">SymPy</a>, 181 bytes</h1>
<pre class="lang-python prettyprint-override"><code>lambda n:next(l for l in i.permutations(range(n+1))if all(all((a%f&gt;0)^(c%f&gt;0)for f in sympy.factorint(b)if f)for(a,b),(_,c)in p(p(l+(1,)))))
import itertools as i,sympy
p=i.pairwise
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=LY5BagMxDEX3OYUoFCTihsyuBJKTlBbN1G4FHtnYCsmcpZuB0t6gh-ltGs9UIP5C_-u_j-882XvS-TMcn77OFh4ef38ij_0rgx7UXw0jhFQggijILvsyno1NklYsrG8eddsRSQCOEdsi34fTnp5xWLSFQwvXaczTLvBgqYga9i0U2h3Z9eTwxQ1082XMGLfYOWqzkTGnYiDmi6UUK3AFccuzTT7eiFjKRar_h79rfdr6VrrOQbenA-SlM6ASrc55XvUP" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Relatively direct translation of the criteria laid out in the challenge description. Manages to have a triply-nested loop and a double application of <code>itertools.pairwise</code>.</p>
<p>Ungolfed:</p>
<pre><code>import itertools
import sympy

def f(n):
    # itertools.permutations generates permutations in lexicographic order
    return next(lst for lst in itertools.permutations(range(n + 1))
                    if meets_conditions(lst))

def meets_conditions(lst):
    # condition 1 is really just condition 2 except there is no successor
    #     for the prime factors to divide
    # a number that is never divided by any prime factor works just as well
    return all(term_meets_conditions(prev, curr, next_)
               for prev, curr, next_ in triplewise(lst + (1,)))

def term_meets_conditions(prev, curr, next_):
    # a XOR b &lt;=&gt; (not a) XOR (not b),
    #     where a and b in this case denote divisibility by the prime factor
    # sympy.factorint(0) returns {0: 1}, so we need to filter out keys of 0
    return all((prev % prime_factor &gt; 0) ^ (next_ % prime_factor &gt; 0)
               for prime_factor in sympy.factorint(curr) if prime_factor != 0)

def triplewise(iterable):
    p = itertools.pairwise
    return ((prev, curr, next_)
            for (prev, curr), (_, next_) in p(p(iterable)))
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/274665/">274665</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




