<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::118252</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>014</td><td>Uiua</td><td>240808T213054Z</td><td><a href="https://codegolf.stackexchange.com/questions/118252/minus-plus-times-exponentiation/274822#274822">nyxbird</a></td></tr>
<tr d-ix="1"><td>042</td><td>R</td><td>170624T085151Z</td><td><a href="https://codegolf.stackexchange.com/questions/118252/minus-plus-times-exponentiation/128142#128142">JAD</a></td></tr>
<tr d-ix="2"><td>059</td><td>C gcc</td><td>170502T152946Z</td><td><a href="https://codegolf.stackexchange.com/questions/118252/minus-plus-times-exponentiation/118438#118438">user5898</a></td></tr>
<tr d-ix="3"><td>027</td><td>Haskell</td><td>170501T131809Z</td><td><a href="https://codegolf.stackexchange.com/questions/118252/minus-plus-times-exponentiation/118262#118262">nimi</a></td></tr>
<tr d-ix="4"><td>039</td><td>C#</td><td>170503T095934Z</td><td><a href="https://codegolf.stackexchange.com/questions/118252/minus-plus-times-exponentiation/118629#118629">user1655</a></td></tr>
<tr d-ix="5"><td>037</td><td>PHP</td><td>170501T130948Z</td><td><a href="https://codegolf.stackexchange.com/questions/118252/minus-plus-times-exponentiation/118256#118256">J&#246;r</a></td></tr>
<tr d-ix="6"><td>192</td><td>x86 Assembler</td><td>170509T214456Z</td><td><a href="https://codegolf.stackexchange.com/questions/118252/minus-plus-times-exponentiation/119850#119850">user6909</a></td></tr>
<tr d-ix="7"><td>115</td><td>C</td><td>170509T214759Z</td><td><a href="https://codegolf.stackexchange.com/questions/118252/minus-plus-times-exponentiation/119851#119851">user6909</a></td></tr>
<tr d-ix="8"><td>026</td><td>Groovy</td><td>170513T000642Z</td><td><a href="https://codegolf.stackexchange.com/questions/118252/minus-plus-times-exponentiation/120323#120323">David Co</a></td></tr>
<tr d-ix="9"><td>033</td><td>Axiom</td><td>170507T161657Z</td><td><a href="https://codegolf.stackexchange.com/questions/118252/minus-plus-times-exponentiation/119426#119426">user5898</a></td></tr>
<tr d-ix="10"><td>075</td><td>Java 7</td><td>170501T141857Z</td><td><a href="https://codegolf.stackexchange.com/questions/118252/minus-plus-times-exponentiation/118277#118277">Kevin Cr</a></td></tr>
<tr d-ix="11"><td>6362</td><td>C</td><td>170501T161510Z</td><td><a href="https://codegolf.stackexchange.com/questions/118252/minus-plus-times-exponentiation/118293#118293">Tim Čas</a></td></tr>
<tr d-ix="12"><td>027</td><td>dc</td><td>170502T162447Z</td><td><a href="https://codegolf.stackexchange.com/questions/118252/minus-plus-times-exponentiation/118443#118443">Digital </a></td></tr>
<tr d-ix="13"><td>035</td><td>Pure Bash</td><td>170502T161803Z</td><td><a href="https://codegolf.stackexchange.com/questions/118252/minus-plus-times-exponentiation/118442#118442">Digital </a></td></tr>
<tr d-ix="14"><td>020</td><td>oK</td><td>170502T141149Z</td><td><a href="https://codegolf.stackexchange.com/questions/118252/minus-plus-times-exponentiation/118420#118420">zgrep</a></td></tr>
<tr d-ix="15"><td>067</td><td>Swift</td><td>170501T215719Z</td><td><a href="https://codegolf.stackexchange.com/questions/118252/minus-plus-times-exponentiation/118347#118347">Caleb Kl</a></td></tr>
<tr d-ix="16"><td>026</td><td>Ruby</td><td>170502T070246Z</td><td><a href="https://codegolf.stackexchange.com/questions/118252/minus-plus-times-exponentiation/118379#118379">G B</a></td></tr>
<tr d-ix="17"><td>036</td><td>PHP</td><td>170502T064043Z</td><td><a href="https://codegolf.stackexchange.com/questions/118252/minus-plus-times-exponentiation/118377#118377">user6395</a></td></tr>
<tr d-ix="18"><td>042</td><td>C#</td><td>170501T151912Z</td><td><a href="https://codegolf.stackexchange.com/questions/118252/minus-plus-times-exponentiation/118284#118284">MetaColo</a></td></tr>
<tr d-ix="19"><td>023</td><td>TIBASIC</td><td>170502T020354Z</td><td><a href="https://codegolf.stackexchange.com/questions/118252/minus-plus-times-exponentiation/118368#118368">Scott Mi</a></td></tr>
<tr d-ix="20"><td>029</td><td>Cubix</td><td>170501T235729Z</td><td><a href="https://codegolf.stackexchange.com/questions/118252/minus-plus-times-exponentiation/118359#118359">Luke</a></td></tr>
<tr d-ix="21"><td>024</td><td>Dyvil</td><td>170501T212900Z</td><td><a href="https://codegolf.stackexchange.com/questions/118252/minus-plus-times-exponentiation/118346#118346">Clashsof</a></td></tr>
<tr d-ix="22"><td>101</td><td>vba</td><td>170501T190822Z</td><td><a href="https://codegolf.stackexchange.com/questions/118252/minus-plus-times-exponentiation/118331#118331">SeanC</a></td></tr>
<tr d-ix="23"><td>008</td><td>Pyth</td><td>170501T162751Z</td><td><a href="https://codegolf.stackexchange.com/questions/118252/minus-plus-times-exponentiation/118295#118295">Erik the</a></td></tr>
<tr d-ix="24"><td>087</td><td>Retina</td><td>170501T155916Z</td><td><a href="https://codegolf.stackexchange.com/questions/118252/minus-plus-times-exponentiation/118290#118290">Neil</a></td></tr>
<tr d-ix="25"><td>135</td><td>Batch</td><td>170501T153405Z</td><td><a href="https://codegolf.stackexchange.com/questions/118252/minus-plus-times-exponentiation/118287#118287">Neil</a></td></tr>
<tr d-ix="26"><td>009</td><td>Pyth</td><td>170501T152654Z</td><td><a href="https://codegolf.stackexchange.com/questions/118252/minus-plus-times-exponentiation/118286#118286">isaacg</a></td></tr>
<tr d-ix="27"><td>025</td><td>Mathematica 25 Bytes</td><td>170501T140553Z</td><td><a href="https://codegolf.stackexchange.com/questions/118252/minus-plus-times-exponentiation/118273#118273">Kelly Lo</a></td></tr>
<tr d-ix="28"><td>050</td><td>Vim</td><td>170501T141443Z</td><td><a href="https://codegolf.stackexchange.com/questions/118252/minus-plus-times-exponentiation/118275#118275">xenia</a></td></tr>
<tr d-ix="29"><td>013</td><td>Japt</td><td>170501T135127Z</td><td><a href="https://codegolf.stackexchange.com/questions/118252/minus-plus-times-exponentiation/118271#118271">ETHprodu</a></td></tr>
<tr d-ix="30"><td>025</td><td>Oasis</td><td>170501T133915Z</td><td><a href="https://codegolf.stackexchange.com/questions/118252/minus-plus-times-exponentiation/118269#118269">Leaky Nu</a></td></tr>
<tr d-ix="31"><td>024</td><td>JavaScript</td><td>170501T133036Z</td><td><a href="https://codegolf.stackexchange.com/questions/118252/minus-plus-times-exponentiation/118266#118266">Business</a></td></tr>
<tr d-ix="32"><td>014</td><td>J</td><td>170501T132340Z</td><td><a href="https://codegolf.stackexchange.com/questions/118252/minus-plus-times-exponentiation/118263#118263">Leaky Nu</a></td></tr>
<tr d-ix="33"><td>010</td><td>05AB1E</td><td>170501T131646Z</td><td><a href="https://codegolf.stackexchange.com/questions/118252/minus-plus-times-exponentiation/118261#118261">Adnan</a></td></tr>
<tr d-ix="34"><td>030</td><td>Python</td><td>170501T131549Z</td><td><a href="https://codegolf.stackexchange.com/questions/118252/minus-plus-times-exponentiation/118260#118260">user4594</a></td></tr>
<tr d-ix="35"><td>012</td><td>Pyth</td><td>170501T130505Z</td><td><a href="https://codegolf.stackexchange.com/questions/118252/minus-plus-times-exponentiation/118255#118255">Leaky Nu</a></td></tr>
<tr d-ix="36"><td>012</td><td>Actually</td><td>170501T131312Z</td><td><a href="https://codegolf.stackexchange.com/questions/118252/minus-plus-times-exponentiation/118257#118257">user4594</a></td></tr>
<tr d-ix="37"><td>008</td><td>Jelly</td><td>170501T130248Z</td><td><a href="https://codegolf.stackexchange.com/questions/118252/minus-plus-times-exponentiation/118253#118253">Leaky Nu</a></td></tr>
<tr d-ix="38"><td>012</td><td>CJam</td><td>170501T130301Z</td><td><a href="https://codegolf.stackexchange.com/questions/118252/minus-plus-times-exponentiation/118254#118254">Business</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.uiua.org/" rel="nofollow noreferrer">Uiua</a>, 14 bytes</h1>
<pre><code>⨬(-|+|×|ⁿ)◿4..
</code></pre>
<p><a href="https://www.uiua.org/pad?src=0_12_0-rc_1__ZiDihpAg4qisKC0rw5figb8p4pe_NC4uCuKJoWYrMeKHoTEyCg==" rel="nofollow noreferrer">Try it!</a></p>
<pre><code>⨬(-|+|×|ⁿ)◿4..
⨬              # switch on
          ◿4.  # the input modulo 4
 (-|+|×|ⁿ)     # and call -, +, *, or ^ on
             . # the input duplicated
</code></pre>
</div>
<div id="pu1" class="pu"><h1>R, <s>47</s> 42 bytes</h1>

<pre><code>x=scan();c(`-`,`+`,`*`,`^`)[[x%%4+1]](x,x)
</code></pre>

<p>Applies the function <code>-</code>, <code>+</code>, <code>*</code>, or <code>^</code> based on the modulus of <code>x</code> to <code>x</code> and <code>x</code>.</p>

<p><code>-</code> is the only (somewhat) smart thing, since <code>x-x</code> is always 0.</p>

<h1>R, 33 bytes</h1>

<pre><code>pryr::f(c(0,2*x,x^2,x^x)[x%%4+1])
</code></pre>

<p>Same method as other people use. Though it is shorter, I don't like it nearly as much.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, 59 bytes</h1>
<pre><code>#include&lt;math.h&gt;
h(x){return x&amp;2?pow(x,x&amp;1?x:2):(x&amp;1)*2*x;}
</code></pre>
<p>Test and results. It overflows at 11.</p>
<pre><code>main()
{int i;
 for(i=0;i&lt;20;++i)
       printf(&quot;%u %u\n&quot;, i, h(i));
}

0 0
1 2
2 4
3 27
4 0
5 10
6 36
7 823543
8 0
9 18
10 100
11 1843829075
12 0
13 26
14 196
15 1500973039
16 0
17 34
18 324
19 0
</code></pre>
<p><a href="http://ideone.com/4eI270" rel="nofollow noreferrer">Ideone</a></p>
<p><a href="https://tio.run/nexus/c-gcc#JcpBDoIwEEDR/ZxigoF0AA12SVEu4oYg2ElKIZXGJoSrW0n8q7f48cS2N/45NFO36ou@gxaBNjes3lkMmWyX@SNCGbJrG2pJtThEucyD2iFOHVtBsLFdkRXgODvBt0pxIytVFEyA/xZ3LKNIUo@pf9ikRC5RCyZSsAPEbz@a7vWOZzP9AA" rel="nofollow noreferrer" title="C (gcc) – TIO Nexus">Try it online!</a></p>
</div>
<div id="pu3" class="pu"><h2>Haskell, <s>28</s> 27 bytes</h2>

<pre><code>f x=cycle[0,x+x,x*x,x^x]!!x
</code></pre>

<p><a href="https://tio.run/##y0gszk7Nyfn/P02hwja5MjknNdpAp0K7QqdCC4jjKmIVFSv@5yZm5inYKhQUZeaVKKgo5CYWKKQpRBvq6Rkaxf4HAA" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>

<p>Edit: Thanks to @Ørjan Johansen for 1 byte.</p>
</div>
<div id="pu4" class="pu"><h1>C#, 39 bytes</h1>

<pre><code>x=&gt;new[]{0,2,x,Math.Pow(x,x-1)}[x&amp;3]*x;
</code></pre>

<h3>Explanation</h3>

<p>Observe that:</p>

<p>(x-x, x+x, x*x, x^x) == (0, 2, x, x^(x-1)) * x</p>

<p>The solution creates an array, indexes into it and then multiplies the result by <code>x</code>:</p>

<pre><code>x =&gt; new[] { 0, 2, x, Math.Pow(x,x-1) }[x&amp;3] * x;
</code></pre>

<h3>Alternative versions:</h3>

<pre><code>x=&gt;new[]{0,x+x,x*x,Math.Pow(x,x)}[x%4];
</code></pre>

<p>(39B, all multiplication done in the array, <code>x%4</code> replaces <code>x&amp;3</code>)</p>

<pre><code>x=&gt;x%4&lt;2?x%2*2*x:Math.Pow(x,x%4&lt;3?2:x);
</code></pre>

<p>(39B, same as @MetaColon's answer but <code>x%2*2*x</code> replacing <code>x*x%4&lt;1?0:2</code>)</p>
</div>
<div id="pu5" class="pu"><h1>PHP, 37 Bytes</h1>

<pre class="lang-php prettyprint-override"><code>&lt;?=[0,2*$x=$argn,$x*$x,$x**$x][$x&amp;3];
</code></pre>

<p><a href="http://sandbox.onlinephpfunctions.com/code/992a252296d9bddff362ea213f918c004681c1dc" rel="nofollow noreferrer">Online Version</a></p>

<h1>PHP, 47 Bytes</h1>

<pre class="lang-php prettyprint-override"><code>&lt;?=(bc.[sub,add,mul,pow][($x=$argn)&amp;3])($x,$x);
</code></pre>

<p><a href="http://sandbox.onlinephpfunctions.com/code/29748e1a3da588d1988e55ed9d82273b2a6969e5" rel="nofollow noreferrer">Online Version</a></p>

<p><a href="http://php.net/manual/en/ref.bc.php" rel="nofollow noreferrer">BC Math functions</a></p>
</div>
<div id="pu6" class="pu"><h2>x86 Assembler, Intel syntax, 192 bytes</h2>

<pre><code>.data
f dw @q,@w,@e,@r
.code
mov ecx, eax
and ecx, 3
mov edx,dword ptr f[ecx*4]
call [edx]
ret
q:
xor eax,eax
ret
w:
add eax,eax
ret
e:
mul eax,eax
ret
r:
mov ecx,eax
t:
mul eax,eax
loop t
ret
</code></pre>

<p>Example pretends for fastest working speed. Is is a program or program part, which uses fastcall convention. It assumes input variable <code>x</code> in register <code>eax</code>, and returns result also in <code>eax</code>. Basic idea is stay away from using conditional jumps, as in some examples here. Also, it is not to evaluate everything (as in C example with arrays) but to use array of pointers to functons and make faster unconditional jumps (jmp/call) as an optimized "C language switch()-case.." analog. This technique could be also useful in kinds of finita automata - like processor emulators, executors and so on.</p>

<p>Upd: for x64 use "r" in register names, instead of "e" (e.g. <code>rax</code> instead of <code>eax</code>, <code>rcx</code> instead of <code>ecx</code>). Size will not be changed, and it will use 64-bit unsigned words.</p>
</div>
<div id="pu7" class="pu"><h2>C, 115 bytes</h2>

<pre><code>#include&lt;math.h&gt;
#define D(K,L)K(x){return L;}
D(q,0)D(w,x+x)D(e,x*x)D(r,pow(x,x))(*g[])()={q,w,e,r};D(f,g[x%4](x))
</code></pre>

<p>Example is a function <code>int f(int x)</code></p>

<p>It pretends for fastest working speed as it keeps CPU away from using conditional jumps. And this is only correct speed-optimisation way for this task. Also, it tries not to evaluate everything, as in array C example <code>return(int[]){0,x+x,x*x,pow(x,x)}[x%4];</code> But but to wisely use array of pointers to functons, in order to make much faster unconditional jumps (jmp/call) with much faster address arithmetics, as an optimized version of "switch()-case..". This technique could be also useful in several kinds of finita automata - like processor emulators, executors, command stream parsers, and so on - where speed matters and code like <code>switch(x%4) case(0):... case(1):...</code>  is unsuitable because it produces multiple cmp/jnz instructions; and these are <a href="https://en.wikipedia.org/wiki/Branch_predictor" rel="nofollow noreferrer">costly operations for CPU</a></p>

<p>Simpliest and shortest test program (in default conditions) for the case will be as follows:</p>

<pre><code>D(main,f(x))
</code></pre>

<p>It will add just 12 bytes of payload and will total our size to 127 bytes;</p>

<p>But you should better tell the linker to use <code>f</code> function as an entry point, instead of <code>main</code>. That is the way, if we aim to get fastest possible working binary for this task from shortest code ;-) This happens because C library adds extra init/shutdown code before calling your main() function.</p>

<p>Code compiles on MSVS Community 2015 without any tricks and issues and produces correct results. I haven't tested it with gcc, but i'm sure it will work fine as well.</p>
</div>
<div id="pu8" class="pu"><h1>Groovy, 26 bytes</h1>

<pre><code>{x-&gt;[0,x+x,x*x,x**x][x%4]}
</code></pre>

<p><a href="https://tio.run/nexus/groovy#q1CwVQiuLC5JzdXLzNPLSy0PSk1MSS3S0NQrAjJ8MvNSNTQVEosVMvNKuFJS0xTSFGz/V1fo2kUb6FRoV@hUaIGwVkVsdIWqSWzt/4IioMKcPI00jQpNzf/mAA" rel="nofollow noreferrer" title="Groovy – TIO Nexus">Try it online!</a></p>
</div>
<div id="pu9" class="pu"><h1>Axiom, <s>59</s> 33 bytes</h1>

<pre><code>h(x)==[0,x+x,x*x,x^x].(1+x rem 4)
</code></pre>

<p>traslate in Axiom the answer of Mego... this is the old 59 bytes</p>

<pre><code>h(x)==(x quo 2 rem 2=1=&gt;(x rem 2=0=&gt;x^2;x^x);(x rem 2)*2*x)
</code></pre>

<p>results</p>

<pre><code>(24) -&gt; for i in 0..30 repeat output [i,h(i)]
   [0,0]
   [1,2]
   [2,4]
   [3,27]
   [4,0]
   [5,10]
   [6,36]
   [7,823543]
   [8,0]
   [9,18]
   [10,100]
   [11,285311670611]
   [12,0]
   [13,26]
   [14,196]
   [15,437893890380859375]
   [16,0]
   [17,34]
   [18,324]
   [19,1978419655660313589123979]
   [20,0]
   [21,42]
   [22,484]
   [23,20880467999847912034355032910567]
   [24,0]
   [25,50]
   [26,676]
   [27,443426488243037769948249630619149892803]
   [28,0]
</code></pre>
</div>
<div id="pu10" class="pu"><h1>Java 7, 75 bytes</h1>
<pre><code>long c(int n){int x=n%4;return x&lt;1?0:x&lt;2?n+n:x&lt;3?n*n:(long)Math.pow(n,n);}
</code></pre>
<p>Even though it is valid according to the rules, <code>long</code> is 64-bits, so it fails for the exponentiation test cases of <code>19^19</code> and above. To fix that we can use a <code>BigDecimal</code> approach:</p>
<p><strong><s>148</s> 146 bytes</strong></p>
<pre><code>import java.math.*;BigDecimal c(int n){int x=n%4;BigDecimal m=new BigDecimal(n);return x&lt;1?m.subtract(m):x&lt;2?m.add(m):x&lt;3?m.multiply(m):m.pow(n);}
</code></pre>
<p><strong>Explanation (of BigDecimal approach):</strong></p>
<pre><code>import java.math.*;                // Import required for BigDecimal
BigDecimal c(int n){               // Method with integer parameter and BigDecimal return-type
  int x=n%4;                       //  Input modulo-4
  BigDecimal m=new BigDecimal(n);  //  Convert input integer to BigDecimal
  return x&lt;1?                      //  If the input mod-4 is 0:
    m.subtract(m)                  //   Return input - input (shorter than BigDecimal.ZERO)
   :x&lt;2?                           //  Else if the input mod-4 is 1:
    m.add(m)                       //   Return input + input
   :x&lt;3?                           //  Else if the input mod-4 is 2:
    m.multiply(m)                  //   Return input * input
   :                               //  Else:
    m.pow(n);                      //   Return input ^ input
}                                  // End of method
</code></pre>
<p><strong>Test code:</strong></p>
<p><a href="https://tio.run/nexus/java-openjdk#TU9BasMwELz7FUOgINUgSNpeKptC6bWnHEsPiuwmKl5ZyKvEIfjtrpwU2sMyO7PDMOso9JHxbY5GkeGDuteF7cww4P1SAAMbdhbzq9u/tdaR6WCF8wwvLwuMtb971P@uVPv2hD9BeKljyyl6jNX6hdSQdhyNZUHyeaw2WTFNcyMPmVDq2IXuvCikQn9aAqYZCGnX5Sa/hY69a0DGebHl6Pz@4xNGLoWBrz7iWtGhxlpnqGpsnvJSlhI3D7A9D9yS6hOrkANY5LckSqw0VlJfTVOxzDT/AA" rel="nofollow noreferrer">Try it here.</a></p>
<pre><code>import java.math.*;
class M{
  static BigDecimal c(int n){int x=n%4;BigDecimal m=new BigDecimal(n);return x&lt;1?m.subtract(m):x&lt;2?m.add(m):x&lt;3?m.multiply(m):m.pow(n);}

  public static void main(String[] a){
    for (int i = 1; i &lt;= 25; i++) {
      System.out.print(c(i) + &quot;; &quot;);
    }
  }
}
</code></pre>
<p><strong>Output:</strong></p>
<pre><code>2; 4; 27; 0; 10; 36; 823543; 0; 18; 100; 285311670611; 0; 26; 196; 437893890380859375; 0; 34; 324; 1978419655660313589123979; 0; 42; 484; 20880467999847912034355032910567; 0; 50; 
</code></pre>
</div>
<div id="pu11" class="pu"><h1>C, 63 or 62 bytes</h1>

<pre><code>#include&lt;math.h&gt;
f(x){return(int[]){0,x+x,x*x,pow(x,x)}[x&amp;3];}
</code></pre>

<p>-1 byte if macros are allowed, assuming <code>x</code> is not an expression like <code>3+5</code> (since that'd mess up the precedence):</p>

<pre><code>#include&lt;math.h&gt;
#define f(x)(int[]){0,x+x,x*x,pow(x,x)}[x&amp;3]
</code></pre>
</div>
<div id="pu12" class="pu"><h1>dc, 27</h1>
<p>I've never had the occasion to use arrays in dc before:</p>
<pre><code>[+]1:r[*]2:r[^]3:r?dd4%;rxp
</code></pre>
<p><a href="https://tio.run/nexus/bash#S8svUihJLS5JTixOVcjMU6g21NMzNKq1VkjJ51IAguLUEgVdXQUVmBqwYEFRZl5JmoK6arGCrp2COppsanJGPkJIoUYhJVlBN1VB6X@0dqyhVVG0VqwRkIyLNbYqsk9JMVG1Lqoo@K/ElZKfl/ofAA" rel="nofollow noreferrer">Try it online</a>.</p>
</div>
<div id="pu13" class="pu"><h1>Pure Bash, 35</h1>

<pre class="lang-bash prettyprint-override"><code>a=(- + * **)
echo $[$1${a[$1%4]}$1]
</code></pre>
<p><a href="https://tio.run/nexus/bash#RYoxCoAwEAR7X7HFSTQSIWIn@hGxCOZEm0RMOvHtUQRxiylmdvEHIoc4m8DYHE5d17q5Olif4VngCKVA3@eV@7G5uEDkAWqA@GsyfaFQQULKMuN59aCRNJ3mYd5OF@kpWe843Q" rel="nofollow noreferrer">Try it online</a>.</p>
</div>
<div id="pu14" class="pu"><h1>oK, 20 bytes</h1>

<pre><code>{*/(."-+*#"4!x).x,x}
</code></pre>

<p><a href="https://tio.run/#uqICt" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu15" class="pu"><h1>Swift, <s>105</s> <s>68</s> 67 bytes</h1>

<p>Here is the body of the function:</p>

<pre><code>i in let a=i%4;return [0,i+i,i*i,Int(pow(Double(i),Double(i)))][a]
</code></pre>

<p>Here is the full implementation:</p>

<pre><code>import Foundation;var e:(Int)-&gt;Int={i in let a=i%4;return [0,i+i,i*i,Int(pow(Double(i),Double(i)))][a]}
</code></pre>

<p>Try it <a href="https://iswift.org/playground?4YoLc9" rel="nofollow noreferrer">here</a></p>
</div>
<div id="pu16" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 26 bytes</h1>



<pre class="lang-ruby prettyprint-override"><code>-&gt;x{x*[0,2,x,x**~-x][x%4]}
</code></pre>

<p><a href="https://tio.run/nexus/ruby#S7P9r2tXUV2hFW2gY6RToVOhpVWnWxEbXaFqElv7X8NQT8/QSFMvN7GguqaipkAhLboCKAwA" rel="nofollow noreferrer" title="Ruby – TIO Nexus">Try it online!</a></p>
</div>
<div id="pu17" class="pu"><h1>PHP, 36 bytes</h1>
<pre><code>&lt;?=[0,2,$x=$argn,$x**~-$x][$x&amp;3]*$x;
</code></pre>
</div>
<div id="pu18" class="pu"><h1>C#, 42 Bytes</h1>
<pre class="lang-cs prettyprint-override"><code>x=&gt;x%4&lt;2?x*x%4&lt;1?0:2:Math.Pow(x,x%4&lt;3?2:x)
</code></pre>
<p>Actually it's normal C#, but as you can't run it as a whole program and you have to type it into the interactive, I guess you may call it <em>C# interactive</em>.</p>
<p><strong>Explanation</strong>:</p>
<pre class="lang-cs prettyprint-override"><code>x =&gt; (x % 4) &lt; 2     //If the bits are smaller than 2 (1 or 0)
? x *           //multiply x with
    (x % 4) &lt; 1 //if the bits are 0
    ? 0         //0 (results in 0)
    : 2         //or else with 2 (results in 2*x or x+x)
: Math.Pow(x,   //otherwise power x by
    (x % 4) &lt; 3 //if the bits are 2
    ? 2         //2 (results in x^2 or x*x)
    : x);       //or else x (results in x^x)
</code></pre>
<p>I can't tell wether it's the shortest variant, any suggestions are appreciated.</p>
</div>
<div id="pu19" class="pu"><h1>TI-BASIC, <s>27</s>, 23 bytes</h1>
<pre><code>:Prompt X          //Get input as X, 3 bytes
:{2X,X²,X^X,0      //Implicitly store the list {2X,X²,X^X,0} to Ans, 16 bytes
:Ans(remainder(X,4 //Compute X&amp;3 (as X%4), get that element of the list, and implicitly print 8 bytes
</code></pre>
<p>TI-BASIC doesn't have bitwise operators, so I used the modulus operator (<code>remainder(</code>) instead.</p>
</div>
<div id="pu20" class="pu"><h1><a href="https://github.com/ETHproductions/cubix" rel="nofollow noreferrer">Cubix</a>, 29 bytes</h1>

<pre><code>.;.O+@.UOI:4%!^s;((?u.^P;&lt;^*;
</code></pre>

<p><a href="https://tio.run/nexus/cubix#@69nreev7aAX6u9pZaKqGFdsraFhX6oXF2BtE6dl/f@/OQA" rel="nofollow noreferrer" title="Cubix – TIO Nexus">Try it online!</a></p>

<p>Explanation will be added soon...</p>
</div>
<div id="pu21" class="pu"><h1><a href="https://github.com/dyvil/dyvil/" rel="nofollow noreferrer">Dyvil</a>, 24 Bytes</h1>

<pre><code>x=&gt;[0,x+x,x*x,x**x][x&amp;3]
</code></pre>

<p><strong>Usage</strong>:</p>

<pre><code>let f: int-&gt;int = x=&gt;[0,x+x,x*x,x**x][x&amp;3]
print f(10) // =&gt; 100
</code></pre>

<p><strong>Explanation</strong>:</p>

<p>The code creates a lambda expression that takes and returns a 32-bit integer. The body stores the result of all calculations in an array and retrieves the result from the index given by the last 2 bits of <code>x</code>.</p>
</div>
<div id="pu22" class="pu"><h2>vba, 101</h2>

<pre><code>Function x(f)
Select Case f Mod 4
Case 0:x=0
Case 1:x=f+f
Case 2:x=f*f
Case 3:x=f ^f
End Select
End Function
</code></pre>
</div>
<div id="pu23" class="pu"><h1>Pyth, 8 bytes</h1>
<pre><code>.v@&quot;0y*^
</code></pre>
<p><a href="//pyth.herokuapp.com?code=.v%40%220y%2a%5E&amp;test_suite=1&amp;test_suite_input=1%0A2%0A3%0A4%0A5%0A6%0A7%0A8%0A9%0A10%0A11%0A12" rel="noreferrer">Interpreter</a></p>
</div>
<div id="pu24" class="pu"><h1><a href="https://github.com/m-ender/retina" rel="nofollow noreferrer">Retina</a>, 87 bytes</h1>

<pre><code>.+
$*1;$&amp;$*
;((1111)*)(1?)$
;$3$3
1(?=1.*;((1111)*111)$)
$1;
+`\G1(?=.*;(1*))|;1*$
$1
1
</code></pre>

<p><a href="https://tio.run/nexus/retina#PckxEkBAEETRvM/R1MyoUtoimVJClxA4iLsvm/jBT15n513HAQwlewbSTF8ebjqcSBYWyI5dY/zYRgeVGO7rbNxU4f6kgp9AtU4QZhQsWLG9" rel="nofollow noreferrer" title="Retina – TIO Nexus">Try it online!</a> (Link includes test suite.)</p>

<p>Explanation: The first two lines convert the input into unary and duplicate it (so we now have <code>x;x</code>). The next two lines look for an <code>x&amp;3</code> of either <code>0</code> or <code>1</code> and change <code>x;x</code> into <code>x;0</code> or <code>x;2</code> appropriately. The next two lines look for <code>x&amp;3==3</code> and change <code>x;x</code> into <code>x;x;x;...;x;1;x</code> (<code>x</code> <code>x</code>s). This means that we have either <code>x;0</code>, <code>x;2</code>, <code>x;x</code>, or <code>x;...;x</code> and it remains to multiply everything together and convert back to decimal. (The multiplication code is based on that in the Retina wiki but amended to handle multiplication by zero.)</p>
</div>
<div id="pu25" class="pu"><h2>Batch, 135 bytes</h2>

<pre><code>@set/an=%1*2^&amp;6
@goto %n%
:6
@set n=1
@for /l %%i in (1,1,%1)do @set/an*=%1
@goto 0
:4
@set n=%1
:2
@set/an*=%1
:0
@echo %n%
</code></pre>

<p>I was hoping to create the exponentiation by building up and evaluating a string of the form <code>[0+...+0, 2+...+2, x+...+x, x*...*x]</code> depending on the last two bits of <code>x</code> but unfortunately the code to select the operation took too long to express because I couldn't use <code>*</code> as a <code>for</code> parameter, but I was at least able to use some fall-though trickery to golf away some bytes.</p>
</div>
<div id="pu26" class="pu"><h1>Pyth, 9 bytes</h1>

<pre><code>@[0yQ*QQ^
</code></pre>

<p><a href="https://pyth.herokuapp.com/?code=%40%5B0yQ%2aQQ%5E&amp;test_suite=1&amp;test_suite_input=1%0A2%0A3%0A4%0A5%0A6%0A7%0A8%0A9%0A10%0A11%0A12&amp;debug=0" rel="nofollow noreferrer">Test suite</a></p>

<p>Nothing fancy going on here, just calculate the four values, and select one with modular indexing.</p>

<pre><code>@[0yQ*QQ^
@[0yQ*QQ^QQ)Q    Implicit variable introduction
@           Q    Modularly index into the following list
 [0        )     0
   yQ            Q*2
     *QQ         Q*Q
        ^QQ      Q^Q
</code></pre>
</div>
<div id="pu27" class="pu"><h2>Mathematica 25 Bytes</h2>

<pre><code>0[2#,#*#,#^#][[#~Mod~4]]&amp;
</code></pre>

<p>Saved 4 Bytes thanks to @MartinEnder</p>
</div>
<div id="pu28" class="pu"><h2>Vim, 50 bytes</h2>

<pre><code>y$o^R"A-+*^^V^[0^R"lx0"_Dp^[0D@"kJ0"ad$:r!echo ^R"^R0|bc^&lt;Enter&gt;
</code></pre>

<p>Here, <code>^V</code> represents a <code>Ctrl+V</code>, <code>^R</code> represents <code>Ctrl-R</code> and <code>^[</code> represents the <code>esc</code> key</p>

<p>Works by first building up the expression and then letting <code>bc</code> evaluate it. Expects the input on the first line in an otherwise empty buffer.</p>

<p>Explanation:</p>

<pre><code>y$o^R"                                                          Copies the input into register " and pastes it on the second line
      A-+*^^V^[0^R"lx0"_Dp                                      Enters that text after the input on the second line
                          ^[0D@"                                Executes the second line as a Vim command.
                                                                For example, if the input is 12, the second line would be 12A-+*^^[012lx0"_Dp, which means:
                                                                  12A-+*^^[           Insert the text -+*^ 12 times
                                                                           012lx0"_Dp Go 12 chars to the right and remove everything except for that.
                                                                If effect, this basically just selects the appropriate operation.
                                kJ0"ad$                         Put the operator after the number, cut it into register a
                                       :r!                      Execute the following shell command and put the result into the buffer:
                                          echo ^R"^R0|bc&lt;Enter&gt; The shell command "echo [contents of register a][contents of registers 0]|bc. As said above, register a contains the input and the operator, and register 0 contains the input. The &lt;enter&gt; then executes this command.
</code></pre>
</div>
<div id="pu29" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, 13 bytes</h1>

<pre><code>Ov"^+*p"gU +U
</code></pre>

<p><a href="https://tio.run/nexus/japt#@@9fphSnrVWglB6qoB36/7@hIQA" rel="nofollow noreferrer" title="Japt – TIO Nexus">Try it online!</a></p>

<p>This uses the same method as the other eval answers, except the program <code>-U</code> just negates <code>U</code>, so we use <code>^</code> (bitwise XOR) instead.</p>
</div>
<div id="pu30" class="pu"><h1><a href="https://github.com/Adriandmen/Oasis" rel="nofollow noreferrer">Oasis</a>, 25 bytes</h1>

<pre><code>mn4%3Q*nkn4%2Q*nxn4%1Q*++
</code></pre>

<p><a href="https://tio.run/nexus/oasis#@5@bZ6JqHKiVlw2kjYB0BZA2DNTS1v7//7@hIQA" rel="nofollow noreferrer" title="Oasis – TIO Nexus">Try it online!</a></p>

<h2>How it works</h2>

<p>Notice that <code>x&amp;3</code> is equivalent to <code>x%4</code>, where <code>%</code> is modulo.</p>

<pre><code>mn4%3Q*nkn4%2Q*nxn4%1Q*++  input is n
mn4%3Q*                    (n**n)*((n%4)==3)
       nkn4%2Q*            (n**2)*((n%4)==2)
               nxn4%1Q*    (n*2)*((n%4)==1)
                       +   add the above two
                        +  add the above two
</code></pre>

<p>Oasis is a stack-based language where every character is a command.</p>
</div>
<div id="pu31" class="pu"><h1>JavaScript, 24 bytes</h1>



<pre class="lang-javascript prettyprint-override"><code>a=&gt;[0,a+a,a*a,a**a][a%4]
</code></pre>

<p><a href="https://tio.run/nexus/javascript-node#S7P9n2hrF22gk6idqJOoBcJaibHRiaomsf@T8/OK83NS9XLy0zXSNCw0Na25UIUsMYUMDbCIGQLF/gMA" rel="nofollow noreferrer" title="JavaScript (Node.js) – TIO Nexus">Try it online!</a></p>
</div>
<div id="pu32" class="pu"><h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, 14 bytes</h1>

<pre><code>4&amp;|{0,+:,*:,^~
</code></pre>

<p><a href="https://tio.run/nexus/j#@59ma2WiVlNtoKNtpaNlpRNX9z81OSNfIU3JQMHOyiFTT8HQqIIrtSKz5D8A" rel="nofollow noreferrer" title="J – TIO Nexus">Try it online!</a></p>
</div>
<div id="pu33" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, 10 bytes</h1>

<pre><code>Ð"-+*m"è.V
</code></pre>

<p>Uses the <strong>05AB1E</strong> encoding. <a href="https://tio.run/nexus/05ab1e#@394gpKutlau0uEVemH//5sCAA" rel="nofollow noreferrer" title="05AB1E – TIO Nexus">Try it online!</a></p>
</div>
<div id="pu34" class="pu"><h1><a href="https://docs.python.org/" rel="noreferrer">Python</a>, 30 bytes</h1>



<pre class="lang-python prettyprint-override"><code>lambda x:[0,x+x,x*x,x**x][x%4]
</code></pre>

<p><a href="https://tio.run/nexus/python3#S7ON@Z@TmJuUkqhQYRVtoFOhXaFToQXCWhWx0RWqJrH/C4oy80o00jRAZGZeQWmJhiYQ/DcGAA" rel="noreferrer" title="Python 3 – TIO Nexus">Try it online!</a></p>
</div>
<div id="pu35" class="pu"><h1><a href="https://github.com/isaacg1/pyth" rel="nofollow noreferrer">Pyth</a>, 12 bytes</h1>

<pre><code>.vjd,+@"-+*^
</code></pre>

<p><a href="http://pyth.herokuapp.com/?code=.vjd%2C%2B%40%22-%2B%2a%5E&amp;test_suite=1&amp;test_suite_input=1%0A2%0A3%0A4%0A5%0A6%0A7%0A8%0A9%0A10%0A11%0A12&amp;debug=0" rel="nofollow noreferrer">Try it online!</a></p>

<h2>How it works</h2>

<p>Firstly, notice that <code>x&amp;3</code> is equivalent to <code>x%4</code>, where <code>%</code> is modulo. Then, since Pyth uses modular indexing (<code>a[n] == a[n+len(a)]</code>), so we don't even need to deal with that.</p>

<p>Then:</p>

<ul>
<li>If <code>x%4==0</code>, return <code>x-x</code> (for consistency);</li>
<li>If <code>x%4==1</code>, return <code>x+x</code>;</li>
<li>If <code>x%4==2</code>, return <code>x*x</code>;</li>
<li>If <code>x%4==3</code>, return <code>x^x</code>.</li>
</ul>

<hr>

<pre><code>.vjd,+@"-+*^  example input: 10
      @"-+*^  "-+*^"[10], which is "*"
     +        "*10"
    ,         ["*10","10"]
  jd          "*10 10"
.v            evaluate as Pyth expression
              (Pyth uses Polish notation)
</code></pre>

<p>More about Polish notation: <a href="https://en.wikipedia.org/wiki/Polish_notation" rel="nofollow noreferrer">Wikipedia</a> (too bad if you are in Turkey).</p>
</div>
<div id="pu36" class="pu"><h1><a href="https://github.com/Mego/Seriously" rel="nofollow noreferrer">Actually</a>, 12 bytes</h1>

<pre><code>;;3&amp;"-+*ⁿ"Eƒ
</code></pre>

<p><a href="https://tio.run/nexus/actually#@29tbaympKut9ahxv5LrsUn//xsDAA" rel="nofollow noreferrer" title="Actually – TIO Nexus">Try it online!</a></p>

<p>Explanation:</p>

<pre><code>;;3&amp;"-+*ⁿ"Eƒ
;;            two copies of input (so 3 total)
  3&amp;          bitwise AND with 3
    "-+*ⁿ"E   index into this string
           ƒ  call the respective function
</code></pre>
</div>
<div id="pu37" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="noreferrer">Jelly</a>, 8 bytes</h1>

<pre><code>ị“+×*_”v
</code></pre>

<p><a href="https://tio.run/nexus/jelly#@/9wd/ejhjnah6drxT9qmFv239AoSOdwu8qjpjXu/wE" rel="noreferrer" title="Jelly – TIO Nexus">Try it online!</a></p>

<h2>How it works</h2>

<p>Firstly, notice that <code>x&amp;3</code> is equivalent to <code>x%4</code>, where <code>%</code> is modulo. Then, since Jelly uses modular indexing (<code>a[n] == a[n+len(a)]</code>), so we don't even need to deal with that.</p>

<p>Then:</p>

<ul>
<li>If <code>x%4==0</code>, return <code>x_x</code> (subtraction) (for consistency);</li>
<li>If <code>x%4==1</code>, return <code>x+x</code>;</li>
<li>If <code>x%4==2</code>, return <code>x×x</code>(multiplication);</li>
<li>If <code>x%4==3</code>, return <code>x*x</code>(exponentiation)</li>
</ul>

<p>Note that Jelly uses 1-indexing, so the subtraction <code>"_"</code> is moved to the end.</p>

<pre><code>ị“+×*_”v  example input: 10
ị“+×*_”   index 10 of the string “+×*_”, which gives "×"
       v  evaluate the above as a Jelly expression,
          with 10 as the argument, meaning "10×" is the
          expression evaluated. The dyad "×" takes the
          second argument from the only argument, effectively
          performing the function to itself.
</code></pre>
</div>
<div id="pu38" class="pu"><h1><a href="https://sourceforge.net/p/cjam" rel="noreferrer">CJam</a>, 12 bytes</h1>

<pre><code>ri__"-+*#"=~
</code></pre>

<p><a href="https://tio.run/nexus/cjam#@1@UGR@vpKutpaxkW/f/vwUA" rel="noreferrer" title="CJam – TIO Nexus">Try it online!</a></p>

<h3>Explanation</h3>

<pre><code>ri            e# Read an int from input (call it x).
  __          e# Duplicate x twice.
    "-+*#"    e# Push this string.
          =   e# Get the character from the string at index x (mod 4).
           ~  e# Eval that char, using the two copies of x from before.
</code></pre>

<p>Runs one of the following operations depending on <code>x</code>'s value mod 4 (mod 4 is equivalent to AND 3).</p>

<pre><code>0:  -  Subtraction
1:  +  Addition
2:  *  Multiplication
3:  #  Exponentiation
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/118252/">118252</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




