<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::94348</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>005</td><td>Vyxal 3</td><td>240919T183853Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/275654#275654">Ginger</a></td></tr>
<tr d-ix="1"><td>033</td><td>Ruby rprime</td><td>240908T161847Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/275415#275415">Jordan</a></td></tr>
<tr d-ix="2"><td>003</td><td>Husk</td><td>240908T064229Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/275412#275412">int 21h </a></td></tr>
<tr d-ix="3"><td>002</td><td>Thunno 2 L</td><td>230709T090034Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/262557#262557">The Thon</a></td></tr>
<tr d-ix="4"><td>055</td><td>Python 2</td><td>220717T224718Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/250048#250048">Deadcode</a></td></tr>
<tr d-ix="5"><td>006</td><td>Japt</td><td>230315T150831Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/259152#259152">Shaggy</a></td></tr>
<tr d-ix="6"><td>004</td><td>Stax</td><td>230315T145731Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/259151#259151">emirps</a></td></tr>
<tr d-ix="7"><td>nan</td><td></td><td>230315T115314Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/259142#259142">The Thon</a></td></tr>
<tr d-ix="8"><td>022</td><td>Retina 0.8.2</td><td>160923T204646Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/94363#94363">mbomb007</a></td></tr>
<tr d-ix="9"><td>002</td><td>Vyxal l</td><td>220717T194947Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/250044#250044">Deadcode</a></td></tr>
<tr d-ix="10"><td>049</td><td>C clang</td><td>220719T172512Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/250095#250095">c--</a></td></tr>
<tr d-ix="11"><td>032</td><td>Regex Perl / Java / PCRE</td><td>210327T210623Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/222468#222468">Deadcode</a></td></tr>
<tr d-ix="12"><td>165</td><td>Python 3</td><td>210407T201214Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/223050#223050">Symmetr1</a></td></tr>
<tr d-ix="13"><td>042</td><td>Haskell</td><td>210406T225019Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/222977#222977">Donat</a></td></tr>
<tr d-ix="14"><td>012</td><td>APL Dyalog Unicode</td><td>210331T164809Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/222697#222697">Andrew O</a></td></tr>
<tr d-ix="15"><td>085</td><td>Kotlin</td><td>180331T201631Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/160969#160969">JohnWell</a></td></tr>
<tr d-ix="16"><td>017</td><td>Add++</td><td>180331T161718Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/160956#160956">caird co</a></td></tr>
<tr d-ix="17"><td>150</td><td>APL NARS</td><td>180118T185113Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/153528#153528">user5898</a></td></tr>
<tr d-ix="18"><td>006</td><td>Pyth</td><td>180119T023511Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/153566#153566">ericesch</a></td></tr>
<tr d-ix="19"><td>003</td><td>Pyt</td><td>180116T223607Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/153400#153400">mudkip20</a></td></tr>
<tr d-ix="20"><td>009</td><td>MATL</td><td>160923T220303Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/94375#94375">Luis Men</a></td></tr>
<tr d-ix="21"><td>138</td><td>pure BASH</td><td>180117T135039Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/153426#153426">user1921</a></td></tr>
<tr d-ix="22"><td>040</td><td>Python 3</td><td>180118T005546Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/153476#153476">Sandeep </a></td></tr>
<tr d-ix="23"><td>077</td><td>C# 5.0</td><td>180116T212044Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/153393#153393">Ariel Be</a></td></tr>
<tr d-ix="24"><td>013</td><td>APL Dyalog Unicode</td><td>180117T105124Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/153418#153418">Ad&#225;</a></td></tr>
<tr d-ix="25"><td>084</td><td>Java 8</td><td>170512T142017Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/120255#120255">Kevin Cr</a></td></tr>
<tr d-ix="26"><td>031</td><td>Perl 6</td><td>180117T004359Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/153407#153407">Sean</a></td></tr>
<tr d-ix="27"><td>060</td><td>Racket</td><td>160925T034915Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/94450#94450">rnso</a></td></tr>
<tr d-ix="28"><td>043</td><td>JavaScript ES6</td><td>160923T220753Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/94377#94377">ETHprodu</a></td></tr>
<tr d-ix="29"><td>092</td><td>PHP</td><td>160923T225158Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/94383#94383">Mario</a></td></tr>
<tr d-ix="30"><td>003</td><td>Actually</td><td>160925T063151Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/94454#94454">Sherlock</a></td></tr>
<tr d-ix="31"><td>015</td><td>PARI/GP</td><td>160925T050016Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/94451#94451">alephalp</a></td></tr>
<tr d-ix="32"><td>033</td><td>Perl</td><td>160923T212435Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/94371#94371">Ton Hosp</a></td></tr>
<tr d-ix="33"><td>010</td><td>Actually</td><td>160925T032306Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/94449#94449">Sherlock</a></td></tr>
<tr d-ix="34"><td>006</td><td>Jelly</td><td>160923T215612Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/94374#94374">Jonathan</a></td></tr>
<tr d-ix="35"><td>035</td><td>q</td><td>160924T201211Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/94425#94425">reuben t</a></td></tr>
<tr d-ix="36"><td>102</td><td>Java 7</td><td>160924T190634Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/94423#94423">Numberkn</a></td></tr>
<tr d-ix="37"><td>006</td><td>Jelly</td><td>160924T190518Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/94422#94422">Dennis</a></td></tr>
<tr d-ix="38"><td>043</td><td>JavaScript ES6</td><td>160923T212256Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/94370#94370">Hedi</a></td></tr>
<tr d-ix="39"><td>003</td><td>Jelly</td><td>160923T213541Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/94372#94372">Jonathan</a></td></tr>
<tr d-ix="40"><td>nan</td><td>MediaWiki templates with ParserFunctions</td><td>160924T173432Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/94418#94418">DuhHello</a></td></tr>
<tr d-ix="41"><td>010</td><td>Actually</td><td>160924T120841Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/94408#94408">Sherlock</a></td></tr>
<tr d-ix="42"><td>003</td><td>Jelly</td><td>160924T015034Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/94392#94392">Dennis</a></td></tr>
<tr d-ix="43"><td>045</td><td>Python 2</td><td>160923T232521Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/94385#94385">xnor</a></td></tr>
<tr d-ix="44"><td>005</td><td>Jelly</td><td>160923T202432Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/94360#94360">Luis Men</a></td></tr>
<tr d-ix="45"><td>060</td><td>Matlab</td><td>160923T215032Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/94373#94373">ptev</a></td></tr>
<tr d-ix="46"><td>005</td><td>MATL</td><td>160923T200342Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/94354#94354">DJMcMayh</a></td></tr>
<tr d-ix="47"><td>157</td><td>C#</td><td>160923T210111Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/94368#94368">Yodle</a></td></tr>
<tr d-ix="48"><td>003</td><td>05AB1E</td><td>160923T204702Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/94364#94364">Dennis</a></td></tr>
<tr d-ix="49"><td>005</td><td>05AB1E</td><td>160923T203745Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/94362#94362">Adnan</a></td></tr>
<tr d-ix="50"><td>098</td><td>PowerShell v2+</td><td>160923T203216Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/94361#94361">AdmBorkB</a></td></tr>
<tr d-ix="51"><td>006</td><td>Pyke</td><td>160923T195254Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/94349#94349">Blue</a></td></tr>
<tr d-ix="52"><td>030</td><td>Bash + coreutils</td><td>160923T201952Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/94357#94357">Digital </a></td></tr>
<tr d-ix="53"><td>006</td><td>Pyth</td><td>160923T201456Z</td><td><a href="https://codegolf.stackexchange.com/questions/94348/prime-counting-function/94355#94355">Maltysen</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-3/" rel="nofollow noreferrer">Vyxal 3</a>, 5 bytes</h1>
<pre><code>ÞPᶤ⁰&gt;
</code></pre>
<p><a href="https://vyxal.github.io/latest.html#JTdCJTIyZm9ybWF0JTIyJTNBMiUyQyUyMmhlYWRlciUyMiUzQSUyMiUyMiUyQyUyMmNvZGUlMjIlM0ElMjIlQzMlOUVQJUUxJUI2JUE0JUUyJTgxJUIwJTNFJTIyJTJDJTIyZm9vdGVyJTIyJTNBJTIyJTIyJTJDJTIyZmxhZ3MlMjIlM0ElNUIlNUQlMkMlMjJpbnB1dHMlMjIlM0ElNUIlMjI1JTIyJTVEJTJDJTIydmVyc2lvbiUyMiUzQSUyMjMuNC45JTIyJTdE" rel="nofollow noreferrer">Vyxal It Online!</a></p>
<pre><code>  ᶤ     Index of the first item
ÞP      in the set of all primes
   ⁰&gt;   which is greater than the input
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a> <code>-rprime</code>, 33 bytes</h1>
<pre class="lang-ruby prettyprint-override"><code>-&gt;n{Prime.take_while{_1&lt;=n}.size}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72kqDSpcnW0km5RQVFmbqpS7CI326WlJWm6FjcVde3yqgNAonolidmp8eUZmTmp1fGGNrZ5tXrFmVWptRCFWwoU3KINY7lAlBGEMo2FSC1YAKEB" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a>, 3 bytes</h1>
<pre><code>#ṗḣ
</code></pre>
<p><a href="https://tio.run/##yygtzv7/X/nhzukPdyz@//@/oREA" rel="nofollow noreferrer" title="Husk – Try It Online">Try it online!</a></p>
<p>A very simple solution.
Commented:</p>
<pre class="lang-java prettyprint-override"><code>#    // count
 ṗ   // all primes
  ḣ  // in the range [1...input number]
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/Thunno/Thunno2" rel="nofollow noreferrer">Thunno 2</a> <code>L</code>, 2 <a href="https://github.com/Thunno/Thunno2/blob/main/docs/codepage.md" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>wƑ
</code></pre>
<p><a href="https://Not-Thonnu.github.io/run#P2hlYWRlcj0mY29kZT13JUM2JTkxJmZvb3Rlcj0maW5wdXQ9MTAwJmZsYWdzPUw=" rel="nofollow noreferrer">Try it online!</a></p>
<p>Port of Dennis's 05AB1E answer.</p>
<h4>Explanation</h4>
<pre class="lang-python prettyprint-override"><code>wƑ  # Implicit input
w   # Factorial of input
 Ƒ  # Unique prime factors
    # Implicit output of length
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, 55 bytes</h1>
<pre><code>n=input()
s=p=i=1
while i&lt;n:p*=i*i;i+=1;s+=p%i
print~-s
</code></pre>
<p><a href="https://tio.run/##NVBLbsMgEN1zihFVFYg/srOq7HCMrqLIchqSjDQFBLhRsuiyB@gRexEXGncHb@bN@7hbvFizmZ/e7BHNWb2@MHx31kdAW4ZbKNOPHfUJBjRuikJ2cCZ7GAmiDrEHr@PkDeiPkURGJBuGw4QU0YRhqP9IoBZ2D9ZpI3heDLW78ZJfuayvHqMWnnM@G7XIsKCcQtWy6wVJA25N59YK19hjodo@FMo9I3MeTfyswpy4u7ar2r3sIbmu3RgvSTxoH0VTwmqV8Ltq2Ml6IEDztxRiitwxIEV1cIRR8IpLBngCSjZJbjcdUKGIQeaZzPOjOWuRVAXtmr0sH6@kW7Qynfq/a6e4xArRCyOLFfx8fUO2kcOnRh54Dy63Mzw6H4alm@wi27h3kCa112THo3AZvat2bqpN0/wC" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
<p>A programification of the below. The Python 3 equivalent is <a href="https://tio.run/##NVBdjsIgEH7nFBOSjWBr07pvrZzEGFIj6iQsEJim0QPsAfaIe5EuaPeNmfn@@MKD7t59LvgVfCRAX6dHqvPELuYKGl2YSMgebtafRwtkEg0QDU3RvQam9XlCS@iS1s0LDmrlDeCDcYIXXGrCg9d85rKZI5IRkXO@OIWOxGoiWVLtEBSqjs13tAbw4PqwVbjFASvVDalS4QNZiIWV5JIljl2/605ygBy7CSPdc4ZkIom2hs0m75@qZVcfwQK6FyjRBV3PwCrbpGCRBN9xyQCvYHNaKw/7HmylLIPCc4UXR3czorjaY3uS9fuVfatOZql/XT/R@rtEUThZbeD3@wdKjNJBLua9HyCUkvS7dK3XikqKEuPZQ7400Vg/XkQo26fqlna3b9s/" rel="nofollow noreferrer" title="Python 3 – Try It Online">62 bytes</a>.</p>
<p>Note that although <a href="https://codegolf.stackexchange.com/a/94385/17216">xnor's recursive answer</a> outgolfs this at <strong>45 bytes</strong>, it cannot handle an input of <code>999</code> or greater, due to Python's recursion limit: <a href="https://tio.run/##ZY5BTsMwEEX3PsWoFYqnToPdFUrrY7CCLgJJimV3bNlGqDkAB@CIXCTYQqzYzf9f72nCLb95OqzbVz8auujHB2auwccM6ZbWWbvh@jIOQK3Vqg1a9XRvYaARwp0VMy@9KP3O7iyui5Zs9hEcGKp4l3Jx9gycdl0KzmS@2W@QgZnBTcQdng49OKEdg8pR5eJAl4kbytw9yTO2v5c6o1BYVJVd@j@7f8/dRzR54s0zNXgs@6LV8f@ccuSEooHvzy9oRI3leURc5V5JKX8A" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a> - this limit can be increased, though: <a href="https://tio.run/##ZY/BboMwDIbvPIXVaSJuKCPtZYXmMXbaemAF2gjjoCTVVB5gD7BH3IuwsGqn@WDZ/vV/tsdbuFjezg8n2xg@65fnxAyjdQH8zVdLyn0bXHu6Om8skxlMEKr4DZw7TfXw3tTAWa9VNmpV8lMPNTcwPvayE3Eu43zdr3ucJ10knXVAYPhODnFnmQBpyv1IkbzarDAB0wG1LAgP2xJIakpg8fHiczWfW2E4CHotjpjdK3VEqTCiFu9U/tHtNeQfzoRWpG@cYhX1Savqv@yDE4wyhe/PL0jl0sbjEXFWu2JfbNQu/vwD" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
<p>This 55 byte solution can go well beyond that. For example, all inputs up to <code>3000</code>: <a href="https://tio.run/##NVBLbsMgEN1zihFVFYg/stNNZYdjdBVFyGlwMhIFBLhRsuiyB@gRexEXEncHb@bN@7hrPFuzmZ/e7RHNSby9Evxw1kdAW4ZrKNOPHNUIEo2bIuMdnLQ9DBqiCrEHr@LkDajPQbOMcCLlYUId0QQp6zsJxMLuwTplGM2LoXZXWtIL5fXFY1TMU0pnIxYZEoQTKFpyOaNWgFvTubXANfZYiLYPhXDPSJxHE7@qMCfuru2qds97SK5rN8RzEg/KR9aUsFol/CYaMloPGtDcl0JMkTsCWug6OI2R0YpyAjiCTjY132460IXQBDLPZJ4fzEmxpMr0rtnz8vFKukXL06n/u3aKS6wQPTO8WMHv9w9kGzl8auSB9@ByO/LRuZRLN9lFtnHrIE1qr7Qdjsxl9Cbaualemqb5Aw" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
<h1><a href="https://docs.python.org/3.8/" rel="nofollow noreferrer">Python 3.8+</a>, <s>57</s> 54 bytes</h1>
<pre><code>lambda n,p=1:sum([(p:=p*i*i)%-~i for i in range(1,n)])
</code></pre>
<p><a href="https://tio.run/##ZcxLTsMwEIDhfU4xqoTiaR6yywY5@CRtFkFNYaTJxLJdoWaBuuIAXKx34CIhASEW7Gbm13z@kl5GuX/wYabBjyFBvMTmdnWHmbvh6diBlN4ZG8@D2itvnd/SlvCueiM4jQEISCB08twrUwq2OE9OZ2vhtSxYHdORxGbAjuvomZLaVBvMgE7AvSjGx50FLhxn36L8iSRJ8V63WP5MpsXC4EKtv5P91cdzql8DpV7lB8mxWfrkTPM/xxSUYJHD5/sH5MW63q7LBXHW1U7rLw" rel="nofollow noreferrer" title="Python 3.8 (pre-release) – Try It Online">Try it online!</a> / <a href="https://ato.pxeger.com/run?1=ZY49TsNAEIV7n2IUCXkn_pE3BUJr9iSJC6PYMNJ6vNpdC8UFSsUBaGnShJaKc6Sm5STYJIiCbt689z691ze7Cw89H96ps70L4He-PO315jiENrv5vDZ1d7etgVOrpfJDJ9bCKm2XtCS8yp4I2t4BATG4mu8bIVPGCi_tj1EX0Rwwc2BC5z5siVUERpvcW0NBLLIFRkAtmIaFwduVApNoE_2A-Q9MHIRZFxWm50tWmEicUHN3VL_0fgj5o6PQiHjDMZaTP2pZ_rd9cIIxieHr-QXiZJan_fTBy_jDschWRXEW3w" rel="nofollow noreferrer" title="Python - Attempt This Online">Attempt This Online!</a></p>
<p>A lambdafication of the below, taking advantage of the <code>:=</code> operator.</p>
<p>Although <a href="https://codegolf.stackexchange.com/a/94385/17216">xnor's recursive answer</a> outgolfs this at <strong>46 bytes</strong> when ported to Python 3, it still can't handle an input of <code>999</code> or greater: <a href="https://tio.run/##ZY5BTsMwEEX3PsWoCMVTp6kNG5TiY7CCLgJJWsvu2LKNUHMADsARuUiwhVixm6@n9zThms@e7tebNz8aOumnB2YuwccM6ZrWWbvh8joOQK3Vqg1a9bTfWxhohHBrxcwLEAVs7dbiumjJZh/BgaHqdymXaM/Aadel4Ezmm90GGZgZ3ETc4eNdD05ox6B6VL040GnihjJ3z/KI7e@ljigUllR1l/6v7t9z9xFNnnjzQg0eCl@0OvzHKUdOKBr4/vyCRtRZnkfEVe6UlPIH" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a> - this limit can be increased: <a href="https://ato.pxeger.com/run?1=RU9BTsMwELznFasilLhx0pgKqST4F3BCPYTGbq04G8t2Ds0DeABXLr3AAV7UKy_BaUDsYbWa2dmZffswR3_o8XS-vdr1jcI9f9xEqjO99eCOrppa7oS3YjdYp3rUqlM-YcWlyPvgZbY555LruntuakDackYNZyWuVi3U2IC5blOZBCINxLJdtn-qz5EXkewtaFA4G_kQoYxAc507o4PRIluQCJQELTDR5P6mBJ1yHcGkw0lna9yLRKFP9FOxJXSe2JakjIRTk3YswdgJl3pwB_5gB0GqQI2cVb8M0vj75TWmISihAhseh_l_e058-mLr4q7I2Dr8P0M_" rel="nofollow noreferrer" title="Python - Attempt This Online">Attempt This Online!</a></p>
<h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python</a>, 59 bytes</h1>
<pre><code>def P(n):
 s=p=i=1
 while i&lt;n:p*=i*i;i+=1;s+=p%i
 return~-s
</code></pre>
<p><a href="https://tio.run/##ZY9BTsMwEEX3PsWoCMWuSeRkVSWdO7BhBV0g6rQjmbFlu6qaBUsOwBG5SLCFWLGbr6//5v9wy2fPw3r35o/EJ3zaCXoPPmZIt7Qe7QyPktUoIGFAwl7A9UzOAu15DFukLU2ksZ@SxnBPAqLNl8gfbVoXNGL2ERwQV1iXcvlQSA5dl4KjLDftRgmgGZxl6dR@GMFpdAJqjmsuvvLJSuIs3bM5qIffqz8o3ddSNbuMf3R/yd01UrayeeFGTcVfSrX/dsqxjNINfH9@QaOrrCuVWk07GPMD" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a> - Python 2<br />
<a href="https://tio.run/##ZY8xTgMxEEV7n2IUhNaOsytvaNBu5g5pqCAFIt5kJDO2bEdRtqDkAByRiyy2EBXdfH39N/@HWz57flju3vyR@IRPj4Leg48Z0i0tRzvBXrIaBCQMSNgLuJ7JWaAdD2GNtKaRNPZj0hjuSUC0@RL5o03LjEZMPoID4grrUi4fCsmh61JwlOWqXSkBNIGzLJ3abQdwGp2AmuOai698spI4S/dsDmrze/UHpftaqmbn4Y/uL7m7RspWNi/cqLH4c6n23045llG6ge/PL2h0lXWlUotpt8b8AA" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a> - Python 3</p>
<p>Based on <a href="https://codegolf.stackexchange.com/questions/130390/is-it-a-super-prime/141516#141516">miles's answer to &quot;Is it a super-prime?&quot;</a>.</p>
<p>This exploits <a href="https://en.wikipedia.org/wiki/Wilson%27s_theorem" rel="nofollow noreferrer">Wilson's theorem</a> and Python's arbitrary precision integers to count primes. At each iteration of the loop, with <span class="math-container">\$i\in[2,n]\$</span>, it calculates <span class="math-container">\${(i-1)^2}!\pmod i\$</span>. This <span class="math-container">\$\equiv 1\$</span> when <span class="math-container">\$i\$</span> is prime and <span class="math-container">\$\equiv 0\$</span> otherwise. The squaring is done to compensate for the fact that <span class="math-container">\$4\$</span> is the only exception, with <span class="math-container">\$(4-1)!\equiv 2\pmod 4\$</span>, but <span class="math-container">\$(4-1)^2!\equiv 0\pmod 4\$</span>. Note that squaring also changes the modulus from <span class="math-container">\$-1\$</span> to <span class="math-container">\$1\$</span> for prime <span class="math-container">\$i\$</span>.</p>
<p>If not for the exception at <code>i=4</code>, we could have done</p>
<pre><code>while i&lt;n:p*=i;i+=1;s+=-p%i
</code></pre>
<p>For 1 byte less, because Python returns a positive result when taking a negative number modulo a positive number.</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, 6 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>Êk â Ê
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;code=ymsg4iDK&amp;input=NQ" rel="nofollow noreferrer">Try it</a></p>
<pre><code>Êk â Ê     :Implicit input of integer
Ê          :Factorial
 k         :Prime factors
   â       :Deduplicate
     Ê     :Length
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/tomtheisen/stax" rel="nofollow noreferrer">Stax</a>, 4 <a href="https://github.com/tomtheisen/stax/blob/master/docs/packed.md#packed-stax" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>Ü:÷/
</code></pre>
<p><a href="https://staxlang.xyz/#p=9a3af62f&amp;i=3" rel="nofollow noreferrer">Run and debug it</a></p>
<p>Same approach as many other answers. This is a packed stax program which unpacks to the following 5 bytes:</p>
<pre><code>|F:F%
</code></pre>
<p><a href="https://staxlang.xyz/#c=%7CF%3AF%25&amp;i=3" rel="nofollow noreferrer">Run and debug it</a></p>
<h1>Explanation</h1>
<pre><code>|F    # factorial of input
  :F  # distinct prime factors
    % # length
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/Thunno/Thunno" rel="nofollow noreferrer">Thunno</a>, <span class="math-container">\$ 4 \log_{256}(96) \approx \$</span> 3.29 bytes</h1>
<pre><code>FAFL
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72sJKM0Ly9_UXTsgqWlJWm6FkvcHN18IEyoyIKFphAGAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Port of Dennis's 05AB1E answer.</p>
<h4>Explanation</h4>
<pre class="lang-python prettyprint-override"><code>F       # Push the factorial of the input
 AF     # Get the unique prime factors
   L    # Push the length of the list
</code></pre>
</div>
<div id="pu8" class="pu"><h1>Retina 0.8.2, <s>31</s> 22 bytes</h1>
<p>Byte count assumes ISO 8859-1 encoding.</p>
<pre><code>.+
$*
(?!(..+)\1+$).\B
</code></pre>
<p><a href="https://tio.run/##K0otycxL/P9fT5tLRYtLw15RQ09PWzPGUFtFUy/G6f9/QwMA" rel="nofollow noreferrer"><strong>Try it online</strong></a> - Input much larger than 2800 either times out or runs out of memory.</p>
<h3>References:</h3>
<p><a href="https://codegolf.stackexchange.com/a/58682/34718">Martin's range generator</a></p>
<p><a href="https://codegolf.stackexchange.com/a/57618/34718">Martin's prime checker</a></p>
</div>
<div id="pu9" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a> <code>l</code>, 2 bytes</h1>
<pre><code>¡Ǐ
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/#WyJBbCIsIiIsIsKhx48iLCIiLCIxXG4yXG41Il0=" rel="nofollow noreferrer">Try it Online!</a> - test cases only</p>
<p>This is the same as the 3 byte answer below except the length is taken by the <code>l</code> flag rather than an <code>L</code> element.</p>
<h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, 3 bytes</h1>
<pre><code>¡ǏL
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/#WyIiLCLKgChu4oK0YCA9PiBg4oK0bs67IiwiwqHHj0wiLCI74oCgLCkiLCIyMDAiXQ==" rel="nofollow noreferrer">Try it Online!</a></p>
<pre><code>¡  # Factorial
Ǐ  # Prime factorization - list of distinct prime factors
L  # Length of that list
</code></pre>
<p>Direct port of <a href="https://codegolf.stackexchange.com/a/94364/17216">Dennis's 05AB1E solution</a>, which is the accepted answer, so one would infer that it meets the challenge's specifications.</p>
<p>The element <code>†</code> could be considered a &quot;prime-counting function&quot;, even though it counts the distinct prime factors of the input, not the primes less than or equal to the input. The solution using that built-in is <strong>2 bytes</strong>:</p>
<pre><code>¡†
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/#WyIiLCLKgChu4oK0YCA9PiBg4oK0bs67IiwiwqHigKAiLCI74oCgLCkiLCIyMDAiXQ==" rel="nofollow noreferrer">Try it Online!</a></p>
<pre><code>¡  # Factorial
†  # Number of distinct prime factors
</code></pre>
<h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, 9 bytes</h1>
<pre><code>ɾ⟑‹¡²$%;∑
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/#WyIiLCLKgChu4oK0YCA9PiBg4oK0bs67Iiwiyb7in5HigLnCocKyJCU74oiRIiwiO+KAoCwpIiwiMjAwIl0=" rel="nofollow noreferrer">Try it Online!</a></p>
<p>With no factorization built-ins, instead using Wilson's theorem:</p>
<pre><code>ɾ  # Inclusive One Range (from 1 to input)
⟑  # Apply lambda to each individual list item:
‹  # Subtract 1
¡  # Factorial
²  # Square
$  # Swap 
%  # Modulo - this will be (n-1)!² % n
;  # Close lambda
∑  # Sum
</code></pre>
<p>With the <code>r</code> flag this is <strong>8 bytes</strong>: <a href="https://vyxal.pythonanywhere.com/#WyJyIiwiyoAobuKCtGAgPT4gYOKCtG7OuyIsIsm+4p+R4oC5wqHCsiU74oiRIiwiO+KAoCwpIiwiMjAwIl0=" rel="nofollow noreferrer">Try it Online!</a><br />
With the <code>rs</code> flags this is <strong>6 bytes</strong>: <a href="https://vyxal.pythonanywhere.com/#WyJBcnMiLCIiLCLJvuKfkeKAucKhwrIlIiwiIiwiMFxuMVxuMlxuM1xuNFxuNVxuNlxuN1xuOFxuOVxuMTBcbjExXG4xMlxuMTNcbjE0XG4xNVxuMTZcbjE3XG4xOFxuMTlcbjIwXG4yMVxuMjJcbjIzXG4yNFxuMjVcbjI2XG4yN1xuMjhcbjI5XG4zMFxuMzFcbjMyIl0=" rel="nofollow noreferrer">Try it Online!</a></p>
</div>
<div id="pu10" class="pu"><h1><a href="http://clang.llvm.org/" rel="nofollow noreferrer">C (clang)</a>, 49 bytes</h1>

<pre class="lang-c prettyprint-override"><code>p(n,i){for(i=n;--i&amp;&amp;n%i;);return--n?p(n)+!--i:0;}
</code></pre>
<p>Assumes <code>n</code> is positive.</p>
<p><a href="https://tio.run/##DYzBDoIwEAXP7VesJJBuYBPFmyv6I14IiHmJLqRBL4Rvr73OTGaQ4d3bK6UlWAPepjkGdKYiqCoroazxuX6jidg9N1wfsrocdU@w1X96WPjNGNlv3mVCUO/yhAKoo5MS6ErnVqmuwd65JeZoCkUp7Uhyo3J8WNEQGloCmNXv6Q8" rel="nofollow noreferrer" title="C (clang) – Try It Online">Try it online!</a></p>
</div>
<div id="pu11" class="pu"><h1>Regex (Perl / Java / PCRE), 32 bytes</h1>
<pre><code>((?=(\2?+x*?(?!(xx+)\3+$))xx)x)*
</code></pre>
<p><a href="https://tio.run/##RU7dSsMwGL3fU8QRlnxLu6YVb0yzdjBvvfLOjjBlg0DcalIhEuKlD@Aj@iI1q4I3h@87nL/@YM3N@PKOsBUomPPz3iBciPTKert52Kzj7Hi2FDvJRb0WEJA@pg9Cb/VpQPPuNBcRtUa63uiBkpxk7u3JDcmisrzMSji8XkTNP8sTD7dYgbhkudS4t62pKwiteSx3MiHfiThDaGrWfwTWtZwE6WIMQvJS4onHGuRHgW0BAbvFYto1zUqbS/E7E@sVQd@fX4isaMtSWt7mCUHEGJW6u98qNVLaSNpVDfPLhjZX1HsG3TXDAN6Dh@U48rzi/Ac" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a> - Perl<br />
<a href="https://tio.run/##bVLLbtswELz7KzZCA5OyzcjprYxgtEULFGjaIjk6PtASZTOhKJWkYjlBrv2AfmJ/xF3K7CNAdFnt7nCWM9xbcS9mt@XdQdVtYz3cYs5Uw1IO/1c6r/SLNSs3ssfOqO3WWhVQaOEcXApl4BFizXnhMdw3qoQaO@TaW2U2IOzGLVcU/NY2Owcf@kK2XjV4cgTwUWkJVW7kbvglCSuaUjLsJ5S/66pKWlleSVFKC@sB9rxI/pyMaUUpj3Pd1PPdNvAT4vI1ahDlZ2UkofQkN53WVFXEMfm9E9qR5CxN04TSx@fQIwMh/kWCR2TwfxmQ4AwZ1oi7426Sj2/MOETPn461p2/Ce2kN2Dz@odq6DQMc5ejGumm0FAYe8goZJYfrQhiD0pVpOw85BLWxRq73zsuaKUM5RJ0DjG2F@yJ7j9ccLAaIhmi8O3IcQQYRUWLsL1egsR1QzLVaeZLM8BEQ78Fk2PlkPK6BZa2wTmJC9DJb0SmY@YtNpqXZ@O3FOSwgIOENhvkKGYutsMtVH/UMmZmvOLy1Vuwdq5TWpJ@O@/FgCkDV2KANr5GbjIO5yM0cw2SCAi@FL7boUI1sltXHjAyba3DB3yP5cWPYzoqWxBFF0@6/VlfCbCROyqaG0qC0AlLjeFOid@FtH2g0uUHHdlZ5ScKjUv6Qe9uF9/nXbtFDX5HktIRfP37CaZmgM1Oo2cY2XUsyGv1Aav4UvlHYuAMhi5zcnC8mfbogixPS9xN683ryitK@pz1ND2GrDtnsPMt@Aw" rel="nofollow noreferrer" title="Java (JDK) – Try It Online">Try it online!</a> - Java<br />
<a href="https://tio.run/##XVDNatwwEL7nKaZC4Jm11ut105ZFa3xpC4HSQ9NbHITjamNTWxayAoaQax@gj9gX2Y6X9NLDDPP3fd/M@M6fj5XvPMgAJYidgAx8sI8mWD80rcVkl20qY7pmiKadRt8PNtRYk66/7eZEQcJ24qJ5tOuAi9bFGY35fPPlkzGkYE9MycQaeteb2UYUvg02e2janzGwM0M/9lEoENfF4frw/kNxeCdIX52mgLIvcy2H8sTsM95@/3jzlTQ9Q39COdzNMQzWcUTb/X1ZitoJ4uH56YE7XFa52u5pxdvFD9MPi2IrFI9rxrfTk4sr9lgw6I4J2Of3@grgouxec@mO5aXPUZoSSwNePjQ2se1QBsVi67tsEzFZEiUdKTkSwfO6ZU@27aZ1NQ18zV7DmoN0mYA/v36DyP5dMbIa6ZeX/56NpM@IVYl1UaXLpsLqDS5LSvXbVBItCy20OZ/zbZHnfwE" rel="nofollow noreferrer" title="PHP – Try It Online">Try it online!</a> - PCRE</p>
<p>Takes its input in unary, as a string of <code>x</code> characters whose length represents the number. Returns its output as the length of the match.</p>
<pre><code>        # tail = N = input value; no anchor needed, as every value returns a match
# Count the number of primes &lt;= N, from the largest to the smallest prime.
(       # J = 0
    (?=
        # \2 starts at zero, and on each subsequent iteration, contains the difference
        # N-P-(J-1) where P is the previously found prime, and J is the running total of
        # our prime count.
        (
            \2?+           # Start from the previous value of \2, atomically so that it
                           # can't be backtracked and started again from zero if the
                           # following fails to match. This will make tail = P-1, where
                           # P is the previously found prime.
            x*?            # Advance as little as necessary to make the following match,
                           # and add this to \2, while subtracting it from tail.
            (?!(xx+)\3+$)  # Assert tail is not composite; note that this needs to be
                           # inside group \2 for it to work in PCRE1 and older versions of
                           # PCRE2, which atomicize groups that have nested backreferences
        )
        xx                 # Assert tail is prime by eliminating the false positives 0, 1
    )
    x   # J += 1; tail -= 1
)*      # Iterate zero or more times, until there are no more smaller primes
# Return J as our match
</code></pre>
<h1>Regex (Python<sup><a href="https://bitbucket.org/mrabarnett/mrab-regex/src/hg/" rel="nofollow noreferrer"><code>regex</code></a></sup> / Ruby), <s>41</s> 39 bytes</h1>
<pre><code>((?=(?=(\3?))(\2x*?(?!(xx+)\4+$))xx)x)*
</code></pre>
<p><a href="https://tio.run/##PY5NTsMwEIX3OcVgIXUmf4pTVglWDpJmEYHbGjlOZBvhXoADcEQuEuwikGbx5ud987abv67muKtlW60Hd3OllRcZyje3mh6ssIyxHXEQqU7HgQhPbcgHHB4whIJOT8UjUQgUKN/j7ci7ik89KNFk59WCBmUStnb@VZkuAy107TatPLKKUQbqDFoa1PTcdqBHPgk9NlMGyWyS2c7mIlEZj2lB5a/iExWcIg8WcU9cOznblyvaElhguYnoxF7SSRKqg80mL/X3ieD9X6713dcfVnmJzls0VBzg@/MLDkVql5h2NkjxY/WvYw7am6ptmh8" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a> - Python <sub><sup><code>import regex</code></sup></sub><br />
<a href="https://tio.run/##PY5BasMwEEX3OcXEhFrj2EJ2u4orjGlM6SaFtDs7mJYojkAoRnGIuumyB@gRexFXdtrAMPAf/898c3r/6A1wWItG2JZqcYZl/ppTI9624QUuFk@Pq@d18ZC/FClIzlI476USoHgjuqNDO1BlFG849yrtpY6rklEaJZsUhN6OgB5bJTviRz5eAlQJ3XR7gveJM5Qu7UKXwARgdzCgQWoYIO0OtSQxQ0oH41WOh4hnvUAj8E8wI5DToWF7GpqN3yWPnTZSd6BDH36@vsEPZzfXAn@2/zWp62K1rOuekIwPU91miKRKbJCRbEqsnWN1N58hWosWg75nUcLYLw" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a> - Ruby</p>
<p>This is a port of the Perl/Java/PCRE regex to flavors that have no support for nested backreferences. Python's built-in <code>re</code> module does not even support forward backreferences, so for Python this requires <a href="https://bitbucket.org/mrabarnett/mrab-regex/src/hg/" rel="nofollow noreferrer"><code>regex</code></a>.</p>
<pre><code>        # tail = N = input value; no anchor needed, as every value returns a match
# Count the number of primes &lt;= N, from the largest to the smallest prime.
(       # J = 0
    (?=
        # \2 starts at zero, and on each subsequent iteration, contains the difference
        # N-P-(J-1) where P is the previously found prime, and J is the running total of
        # our prime count.
        (?=(\3?))          # \2 = \3 (or 0 if \3 is unset), to make up for the lack of
                           #      nested backreferences
        (
            \2             # Start from the previous value of \3 (as copied into \2).
                           # This will make tail = P-1, where P is the previously found
                           # prime.
            x*?            # Advance as little as necessary to make the following match,
                           # and add this to \3, while subtracting it from tail.
            (?!(xx+)\4+$)  # Assert tail is not composite; note that this needs to be
                           # inside group \3 for it to work in PCRE1 and older versions of
                           # PCRE2, which atomicize groups that have nested backreferences
        )
        xx                 # Assert tail is prime by eliminating the false positives 0, 1
    )
    x   # J += 1; tail -= 1
)*      # Iterate zero or more times, until there are no more smaller primes
# Return J as our match
</code></pre>
<h1>Regex (.NET), 35 bytes</h1>
<pre><code>((?=((?&gt;\2?)x*?(?!(xx+)\3+$))xx)x)*
</code></pre>
<p><a href="https://tio.run/##ZZHNTuswEIX39yncCqke8qOk7DBukSIWSCCubpFYAAuTToslx4lsp5gGtvcBeERepLhJYYMlS2PNsec7x6VNytrgTosKbSNKJItX67DqWiv1mhS8qLWtFbLhfIvepf9w3SphLnxj0FoZBKxUwlpSddYJJ0uyqeWSXAupCYVuIwyx/Hy8o3TOw549TOfgj@d0PqLeR/BwEh0BeA8ejndjtpcbrvGFhDnoqU0X7ZN1JoyneWzTK9Rr95xMIe77N43bE6RFXTVS4RLYoCWKrWpDpXZE84xRxYsALpZXUiMFGHHdKsU0z6GTK6pnGRTpnZEOB0GP0XCVLholHZ0kE2D7t2SM7E@40Bw4ZtO3t1FopLfm9a8wFmlznz3GdRuk8Lv1fS3JBw3C91g6vtQboUJuRug1npIuex/HChgqi32Gvg9lMSQx8ZNYwo/FbbAozzgyGUWxj3hoQ3ctXPlMKm7SvqI@WFjRKuRZluHjeuPbX8a3PGc/TAGCfP7/IF0eYPwBPq4OBbD3Ye2yZJplXw" rel="nofollow noreferrer" title="C# (.NET Core) – Try It Online">Try it online!</a></p>
<p>This is a direct port of the Perl/Java/PCRE regex.</p>
<h1>Regex (.NET), 35 bytes</h1>
<pre><code>^(?=(x*?(?!(xx+)\2+$)x)*x)(?&lt;-1&gt;x)*
</code></pre>
<p><a href="https://tio.run/##ZZFNbtswEIX3PQVtFPBM9APJyzK0CwhdFEjQog7QRX8AVh47BChKICmXsZJtD9Aj9iIuLTnZhKsh5g3ne4@1y@rW0snIhlwna2KbB@epGXqnzJ5VomqNazXx6X5HwedfaN9raT@EzpJzKgp4raVzrBmcl17V7NCqLbuVyjDA4SAtc@L9/PQT1gLC1RrWMwghwe/L5C0GvAoI6@usXMXyNOdnuRWGfrO4hwK4fNP/ct7G9VCmLr8hs/f32RLTsf@p82eCvGqbTmnaIp@0TPNda0EZz4woOGhRRXC5vVGGAHEmTK81N6LEQe3ArAqs8q9WeZoEI0YndL7ptPKwyBbIz2@plPibONBdOFbLx8dZbOR39uGztI6g@1b8SNs@SvF163ksKycN4fNamH80B6ljblaaPb1jQ/E0TzVy0o7GDMMYymZKYhEWqcIXi8doUV0L4ipJ0pCI2MbhVvr6njXC5mMFIVrYQRPzrOv4caPx4yvjR1HyF6YIwf79@cuGMsKEC3zaXArkT9M5ldmyKP4D" rel="nofollow noreferrer" title="C# (.NET Core) – Try It Online">Try it online!</a></p>
<p>This uses the .NET feature of balanced groups to do the counting. It does not return a value for zero, but doing so only requires +1 byte (<strong>36 bytes</strong>):</p>
<pre><code>^(?=(x*?(?!(xx+)\2+$)x)*x|)(?&lt;-1&gt;x)*
</code></pre>
<p><a href="https://tio.run/##ZZHPTuMwEMbvPIVbIdVD/ijpEeN2pYgDEmhXFIkD7EredFosOU5kO8U07XUfYB@RFyluUrjg01jzjef3fS5tUtYGD1pUaBtRIlm8WYdV11qp16TgRa1trZAN9wf0Lr3HdauEufaNQWtlELBSCWtJ1VknnCzJppZLciekJhS6jTDE8h/jwx8659RfzOl8RL2P4HkanYOHC78DOr9K8lmoD2N21Buu8ZWEReipTRftX@tM2E/z2Ka3qNfuJZlC3Pd/Nu6IkBZ11UiFS2CDlii2qg2V2hHNM0YVLwK5WN5KjRRgxHWrFNM8h06uqJ5lUKSPRjocBD1Gw1W6aJR0dJJMgB3fkjGyszDQnDhm091uFBrpg3n7JYxF2jxlv@O6DVL43vocS/JBg/C5lo5v9EaoEJwReo2XpMv241gBQ2WxD9H3oSyGJCZ@Ekv4srgNFuUVRyajKPYRD23o7oQrX0jFTdpX1AcLK1qFPMsy/FxvfPvN@Jbn7IspQJD3f/9JlwcYf4KPq1MBbD@cQ5ZMs@wD" rel="nofollow noreferrer" title="C# (.NET Core) – Try It Online">Try it online!</a></p>
<pre><code>^                      # tail = N = input number
(?=
    (
        x*?            # Advance as little as necessary to make the following match
        (?!(xx+)\3+$)  # Assert tail is not composite
        x              # Eliminate the false primality positive of 0, and advance forward
                       # so that the next prime can be found (if we didn't do this, the
                       # regex engine would exit the loop due to a zero-width match)
    )*                 # Every time this loop matches an iteration, the capture group 1
                       # match is pushed onto the stack. This (balanced groups) is how we
                       # count the number of primes.
    x                  # Eliminate the false primality positive of 1
|                      # Allow us to return a value of 0 for N=0
)
(?&lt;-1&gt;x)*              # Pop all of the group 2 captures off the stack, doing head += 1
                       # for each one. This gives us our return value match.
</code></pre>
<hr />
<p>I strongly suspect this function is impossible to implement in ECMAScript regex, even with the addition of <code>(?*)</code> or <code>(?&lt;=)</code> / <code>(?&lt;!)</code>. There doesn't seem to be room to multiplex the count and the current prime into a single tail variable, but I <a href="https://cs.stackexchange.com/questions/137112/what-can-be-proven-regarding-the-differences-in-power-between-unary-ecmascript-r">don't know if this can be proved</a>.</p>
<p>Only one variable can be modified within a loop, such that must decrease by at least 1 on every step – and only <span class="math-container">\$O(n)\$</span> space is available; no variable may contain a value larger than <span class="math-container">\$n\$</span>, and the language has no concept of arrays (although it is possible to take them as immutable input), only scalar variables (i.e. capture groups and the cursor position).</p>
<p>So it would seem that calculating this function would require <span class="math-container">\$O({n^2\over log(n)})\$</span> scratch space, to multiplex the iteration count and current prime into a single number. While multiple loops in a row would be able to get closer to <span class="math-container">\$\pi(n)\$</span> than a single loop, the number of such loops could only be a constant; it seems that it would need to be able to grow with <span class="math-container">\$n\$</span> to be able to actually asymptotically calculate <span class="math-container">\$\pi(n)\$</span>. And a nested loop would still have to distill all the information gained by its innermost loop into a single number <span class="math-container">\$\le n\$</span>.</p>
<p>But these things are just indications and vague evidence, not a proof. I have <a href="https://codegolf.meta.stackexchange.com/a/21941/17216">set a bounty</a> regarding this open question.</p>
</div>
<div id="pu12" class="pu"><h1>Python 3, <s>197</s> 165 bytes</h1>
<p>Removed the need for the import math by checking every divisor of i besides i itself, though mathematically only checking up to the square root is required.</p>
<pre><code>def c(x):
    p=0
    for i in range(2,x+1):
        P=1
        for d in range(1,i):
            if i%d==0 and d!=1:
                P=0
        p+=1*P
    return p
</code></pre>
<p>Original:</p>
<pre><code>import math
def c(x):
    p=0
    for i in range(2,x+1):
        P=1
        for d in range(1,round(math.sqrt(i))+1):
            if i%d==0 and d!=1:
                P=0
        p+=1*P
    return p
</code></pre>
</div>
<div id="pu13" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, <s>46</s> 42 bytes</h1>

<pre class="lang-hs prettyprint-override"><code>p n=sum[mod(product[1..i-1]^2)i|i&lt;-[1..n]]
</code></pre>
<p><a href="https://tio.run/##y0gszk7Nyfn/v0Ahz7a4NDc6Nz9Fo6AoP6U0uSTaUE8vU9cwNs5IM7Mm00YXxM@Ljf2fm5iZZ1tQlJlXolKVWQASNTQwiNXITSxQKFCAcTX/AwA" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
</div>
<div id="pu14" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog Unicode)</a>, 12 bytes</h1>

<pre class="lang-apl prettyprint-override"><code>(≢⊢~∘.×⍨)1↓⍳
 ≢ ⍝ tally
  ⊢~ ⍝ index values not in matrix of composite numbers
    ∘.×⍨ ⍝ outer product of positive integers with themselves
        1↓⍳ ⍝ range from 1–n less the first element
</code></pre>
<p>h/t <a href="https://codegolf.stackexchange.com/users/43319/ad%C3%A1m">@adám</a></p>
<p><a href="https://tio.run/##SyzI0U2pTMzJT///P@1R2wSNR52LHnUtqnvUMUPv8PRHvSs0DR@1TX7UuxkorWDAlaZgCMRGQGwKxJbmQMLYwMAAAA" rel="nofollow noreferrer" title="APL (Dyalog Unicode) – Try It Online">Try it online!</a></p>
</div>
<div id="pu15" class="pu"><h1><a href="https://kotlinlang.org" rel="nofollow noreferrer">Kotlin</a>, 85 bytes</h1>

<pre><code>{n:Int-&gt;var r=0
for(i in 2..n){var t=1
for(p in 2..i/2)if(i%p==0){t--
break}
r+=t}
r}
</code></pre>

<p><a href="https://tio.run/##lVVti9tGEP6uXzEJTSMRW5Z9ub6YKnBcEzhIuND0Sz@upZW9WNpVdld@wRj6D/uTrjOzki4xuNDjMJZ2duaZ53lmvDW@VvppNoN7K4WXJXgDbS2OsFd@A36jHBQbUddSr@UywriN961bzmaFKeXa1FXqvCi28oBRGJIWppl97aTzymg3@/XtzdtfZq1VjZwWptNe6fW06nRBx5TtQXtryi4804s/NxI@Uzzc9/HwoY@fgKidga02ew3CITgMVTCkg3/@jg/JBKz0ndXhWDSUBEwFjMFBLR2dCA3GgvzaiZoaPqRU@n7ok4H8ZTqLt8zaigbJqDFQbDGjBqW9XEsLB9hvVLGBo@mgEATJdYgb860ktMYpr3YSQesSTOfbzoMAhw3VckwxIvhfYJEklAX/BZAKU5LhWaUJuJBvr7TGGowdEdGr535YXAmV3KNWsDp66dKhb2hQ/85Rs0eoUdZOrCXhOhInxcYYaoOS7VRJltkID8qDPChHFlrJylh5YR7YS2yuayewQiZUxeXH5BtB3aw6Vfup0vC9Y54lRh4EH4pa@SMml8X2u4DYdagIJvskMH8jvCoEeoIRjkEoljaeOMEmSxSjbwy5ZCO8P4imRZUeNIrmouBT/Mr@n9PHI@vJz9nF@eLifH5xfntxfsPnd1mW/bzIYAqP7x@@RAFFi9ZBfDtpHTdffdOCoRPssxbNqhRpGuERMGGx7pqVtEuarYQ/4RRFAJjyd1mJrvbkIm00NguwExYnxtHbnHrhuA/IM8ljaaShsqaBxeDSkB1NJiWpqPxrFy6xZpQSxYdYIfQDUbtI03AlCTA49i6MCnqGXcxX@8HhHmSZciih82TQnHjsL19Dh04Lrio6a9FsQzyOolOrWoYyE0JNxjYc3EAlCh8yXr3gyTKv/TfwaMbQ7mMNKhvGrTamDeCZh7AHjO6pYFpmi4QDgKAEpl6NcTnKQFRB/0ftT6fj4wrX9LZ/OlNlVT2zWpb9lBOdjDQg6QV@k3O2qL@J@Hq9/@CVGUjlULoW9mj/IuIbnDKsaRKltLjg0Ghr6WmSbO8NmlLaHvMJLCZwO4H5HH5kq2fBpo1QOhZ27ZZwZ604/vbFW5zid8lo1I/samS4xfKD@UW9NhYXV0NiO7HDCj8NmytYZVwY@dNJL9H503fs7zyLsNlYDX5MTmysfM6v20Eb1EVVsXrV5nmWnIh1Zvsc2Te5x8/z00CXwNkbuqX9jquwoGWtmDlvj72AqIT2tY5f/nAasMWYsvyotIyTFy9SbxBlnCTnl0nf@qPGtgvZhl@8IbEzqGjZj28ozF2f0ZkeN17sl/irYM1eoG@T/6g@p1LAe@tayGIImV8NuR1Cbq4XGivdXo25ycZS2eBKJC@YjVwSPf0L" rel="nofollow noreferrer" title="Kotlin – Try It Online">Try it online!</a></p>

<p>Try lambda for first time as saved 16 bytes.</p>

<h1><a href="https://kotlinlang.org" rel="nofollow noreferrer">Kotlin</a>, 101 bytes</h1>

<pre><code>fun c(n:Int):Int{var r=0
for(i in 2..n){var t=1
for(p in 2..i/2)if(i%p==0){t--
break}
r+=t}
return r}
</code></pre>

<p><a href="https://tio.run/##lVXbbttGEH3nV0yCpiERiaLkGG2FqoDhJoCBBimavvRxRS7FhchdZndoSTAM9A/7Se7MLCk3dvJQwyBMzmXPnHNmvXfYGvuwWMC11wp1Beigb9UJDgYbwMYEKBvVttru9DqhvAaxD@vFonSV3rm2zgOqcq@PlEUpeem6xedBBzTOhsVPby/e/rjoven0vHSDRWN383qwJYe5241F76ohvvOHPxsNv3M@XI/58H7Mn4Fqg4O9dQcLKhA4SjUwtYN//k6P2Qy8xsHbGFYdNwFXg2AI0OrAEWXBedCfB9XywMecj76e5hQgf7nBU5XbedURGS0lqj11tGAs6p32cIRDY8oGTm6AUjGkMBBu6rfV0Ltg0NxqAm0rcAP2A4KCQAO1@tzijOB/gSWSSBb6VcAqzFmGR5VmEGK/g7GWzhDshIg/Pc4j4mqo9YG0gu0JdcinuaEj/YfAw56gJVkHtdOM68SclI1zPAY3uzUVW6ZRCAZBH01gC2117bx@Yh44aBpu6GewJSZMLcefmzeKp9kOpsW5sfClYx4lJh6UBFVr8ETNdbn/IiENAylCzT4o6t8pNKUiTwjCcxKJZR0yJzRkRWKMgxGXYoR3R9X1pNKNJdFCEn1Kf4r/l/z4KHrKe/EkvnoSXz6JXz6JX0j8qiiKH1YFzOHju5tPUlcsoywPhBvK1K5pVzJ@3N0qD35TJMRyahj@Ks9tJp9xs5TP/fjZLFaZqVPzqt9siuwO5/NkS4u@v0/8mw3SU5YF/P1DHLwntxIlt9oH3kg5mlVI7dBttV@DgOAn3CUJABX9qms1tMjWtM4SgwACUAf@umGCJO89iceae74noPaug9Vk/didnKs1W8Pg6xCLxAjckoaC1BC44zSwlGQRhuRexf0jI8pqSOm4jTKDrnJJFZ7Y9RsWZyz@Fjqyb7RqOXhPDp7yab@D2bY6HjNj1LwtTpI7qFWJseM3C5B9@Br/A48Xl3bofAYfG3e4da6P4IWHeLk4O4nMtJDQkgAMJTL16py3IRmYKhh/eHyywvQqlhjf7vlkUz@yWlXj1cF0CtKIZBT4zUa6JWMl4Rv1/iNaS0iVVC6b/CYfEqmQlvHuZ1EqT7cmGW2nkdfTj97g1ecraTmD1QwuZ7BcwveyP0UOH1xl6lNcMhaNE2Wl@T9FrM/Fy50yNlV@F9Zw5b06/fwJPd0fv0Ru0J9GjmhYi61NX353V6ZETvWbsTrNXrzI0ZH30yy7f5nJyKVCunBSXNOl7N1BkcLZ15osuQLkvngWW02x5fPY5RS7@ErPc9PL58GL4ty1mMShASPnzEPy8C8" rel="nofollow noreferrer" title="Kotlin – Try It Online">Try it online!</a></p>
</div>
<div id="pu16" class="pu"><h1><a href="https://github.com/cairdcoinheringaahing/AddPlusPlus" rel="nofollow noreferrer">Add++</a>, 17 bytes</h1>

<pre><code>L,RB*f0b]@bLA1=!*
</code></pre>

<p><a href="https://tio.run/##S0xJKSj4/99HJ8hJK80gKdYhycfR0FZR679KTmJuUkqigqGdgoIhp7WCAZc/F7KYKVDMGFXM0AAoZsLl/x8A" rel="nofollow noreferrer" title="Add++ – Try It Online">Try it online!</a></p>
</div>
<div id="pu17" class="pu"><h1>APL NARS, 150 bytes</h1>
<pre><code>∇r←g n;h;i;k
i←0⋄h←1+⍳n-1⋄→B
A:k←i⊃h⋄h←k∪(0≠k∣h)/h
B:→A×⍳(⍴h)≥i+←1
r←⍴h
∇
</code></pre>
<p>this would be the &quot;Crivello di Eratostene&quot; or something as that.</p>
<p>If h=2..n</p>
<p>In the first  iteration of the loop eliminate each multiple of 2 in h except 2</p>
<p>in the second iteration of the loop eliminate each multiple of 3 in h except 3</p>
<p>...</p>
<p>return the number of final element of h.(in h primes return ⍴h)</p>
<pre><code>  g¨1 2 5
0  1  3 
  g 20000
2262
</code></pre>
<p>As note negative for the question: There would be a range limit for the arg of the function; something as 1..20000 and each answer would indicate the range the argument has to be for to be safe to pass to the function (without one seg fault in the code, without one memory insufficient for the program, without one incorrect value return as result )</p>
</div>
<div id="pu18" class="pu"><h1>Pyth, 6 bytes</h1>

<pre><code>l{P.!Q
</code></pre>

<p>Explanation follows:</p>

<pre><code>   .!Q Factorial of input
  P    List primes of factorial with multiplicity
 {     Remove duplicates formed by said multiplicity
l      Length of deduplicated list
</code></pre>
</div>
<div id="pu19" class="pu"><h1><a href="https://github.com/mudkip201/pyt" rel="nofollow noreferrer">Pyt</a>, 3 <a href="https://github.com/mudkip201/pyt/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>

<pre><code>řṗƩ
</code></pre>

<p>Explanation:</p>

<pre><code>ř         Push [1,2,...,input]
 ṗ        Elementwise isPrime(k)
  Ʃ       Sum of array (autoconverts booleans to 0/1)
</code></pre>

<p><a href="https://tio.run/##K6gs@f//6MyHO6cfW/n/v6ERAA" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu20" class="pu"><h1><a href="http://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, 9 bytes</h1>

<p>This avoids prime-factor decomposition. Its complexity is O(<em>n</em>²).</p>

<pre><code>:t!\~s2=s
</code></pre>

<p><a href="http://matl.tryitonline.net/#code=OnQhXH5zMj1z&amp;input=NTA" rel="nofollow noreferrer">Try it online!</a></p>

<pre><code>:     % Range [1 2 ... n] (row vector)
t!    % Duplicate and transpose into a column vector
\     % Modulo with broadcast. Gives matrix in which entry (i,j) is i modulo j, with
      % i, j in [1 2 ... n]. A value 0 in entry (i,j) means i is divisible by j
~     % Negate. Now 1 means i is divisible by j
s     % Sum of each column. Gives row vector with the number of divisors of each j
2=    % Compare each entry with 2. A true result corresponds to a prime
s     % Sum
</code></pre>
</div>
<div id="pu21" class="pu"><h1>(pure) BASH, 138 bytes</h1>

<p>Look, Mom!<br>
No preloaded prime tables, no prime related builtins, not even a division or plultimication!</p>

<pre><code>a=2
l=0
while((a&lt;=$1));do if((b[a]))
then((c=b[a]));else((c=a,l++));fi;((d=a+c))
while((b[d]));do((d+=c));done
((b[d]=c,a++));done;echo $l
</code></pre>

<p>Eating the pudding:</p>

<pre><code>$ for i in 1 2 3 11033 ; do bash fsoe-primecounter-in-bash $i ; done
0
1
2
1337
</code></pre>

<p>Ok, probably looping while looking at candidates modulo all possible divisors would have been shorter in "pure BASH" too but we've seen those loops at least 1001 times now.</p>

<p>This solution builds its own prime table on the fly and so is bearably fast even in "pure BASH".</p>
</div>
<div id="pu22" class="pu"><h2>Python 3, 40 bytes</h2>

<pre class="lang-python prettyprint-override"><code>f=lambda n:1if n&lt;1else(2**n%n==2)+f(n-1)
</code></pre>

<p>An odd integer k is prime if an only if 2**(k-1) is congruent to 1 mod k. Thus, we just check for this condition and add 1 for the case of k=2.</p>
</div>
<div id="pu23" class="pu"><h1>C# 5.0 <strike>78</strike> 77</h1>

<pre><code>int F(int n){int z=n;if(n&lt;2)return 0;for(;n%--z!=0;);return(2&gt;z?1:0)+F(n-1);}
</code></pre>

<p>Ungolfed</p>

<pre><code>int F(int n)
{
    var z = n;
    if (n &lt; 2) return 0;
    for (; n % --z != 0;) ;
    return F(n - 1) + (2 &gt; z ? 1 : 0);
}
</code></pre>
</div>
<div id="pu24" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog Unicode)</a>, 13 <a href="https://codegolf.meta.stackexchange.com/a/9429/43319" title="When can APL characters be counted as 1 byte each?">bytes</a><sup><a href="https://github.com/abrudz/SBCS" rel="nofollow noreferrer" title=".dyalog files using a single byte charater set">SBCS</a></sup></h1>



<pre class="lang-apl prettyprint-override"><code>2+.=0+.=⍳∘.|⍳
</code></pre>

<p><a href="https://tio.run/##SyzI0U2pTMzJT///P@1R2wQjbT1bAyB@1Lv5UccMvRogDZQ4tMJQwUjBFAA" rel="nofollow noreferrer" title="APL (Dyalog Unicode) – Try It Online">Try it online!</a></p>

<p><code>⍳</code> <strong>ɩ</strong>ndices 1…N<br>
 ⧽ <code>∘.|</code> remainder-table (using those two as axes)<br>
<code>⍳</code> <strong>ɩ</strong>ndices 1…N</p>

<p><code>0+.=</code> the sum of the elements equal to zero (i.e. how many dividers does each have)</p>

<p><code>2+.=</code> the sum of the elements equal to two (i.e. how many primes are there)</p>
</div>
<div id="pu25" class="pu"><h1>Java 8, <s>95</s> 84 bytes</h1>

<pre class="lang-java prettyprint-override"><code>z-&gt;{int c=0,n=2,i,x;for(;n&lt;=z;c+=x&gt;1?1:0)for(x=n++,i=2;i&lt;x;x=x%i++&lt;1?0:x);return c;}
</code></pre>
<p><strong>Explanation:</strong></p>
<p><a href="https://tio.run/##hZDBasMwEETv@Yq9FCTkGMvQS2QlX9Bccgw9qIpSNnXWRpaD4uBvd2U315LLwM5bmGEu5mbWTevocvqZbG26Dj4M0mMFgBScPxvrYD@fiwGWzTpwlZxxlaQLJqCFPRBomIb19rG86SIjXWaYRXVuPFNU6UFZoeNW7uSm4LMZNQmRoS4VVlFFHd9QiEruik3kyrvQewKrxknNOW3/VaecZ9ytwRNcU1F2CB7p@/hp@F/Jw70L7po3fcjbREJNjHLLJF8q/8vLF/z9BZcFf24yTr8" rel="nofollow noreferrer">Try it online.</a></p>
<pre class="lang-java prettyprint-override"><code>z-&gt;{                // Method with integer parameter and integer return-type
  int c=0,          //  Start the counter at 0
      n=2,          //  Starting prime is 2
      i,x;          //  Two other temp integers
  for(;n&lt;=z;        //  Loop (1) as long as `n` is smaller than or equal to the input `z`
       c+=x&gt;1?1:0)  //    and increase the counter if we've came across a prime
                    //    (if `x` is larger than 0, it means the current `n` is a prime)
     for(x=n++,i=2;i&lt;x;x=x%i++&lt;1?0:x);
                    //   Determine if the next integer in line is a prime by setting `x`
                    //   (and increase `n` by 1 afterwards)
                    //  End of loop (1) (implicit / single-line body)
  return c;         //  Return the resulting counter
}                   // End of method
</code></pre>
</div>
<div id="pu26" class="pu"><h1><a href="http://perl6.org/" rel="nofollow noreferrer">Perl 6</a>, 31 bytes</h1>

<pre><code>{+grep {$_%%none 2..^$_},2..$_}
</code></pre>

<p><a href="https://tio.run/##K0gtyjH7n1upoHa@QcH2f7V2elFqgUK1Sryqal5@XqqCkZ5enEp8rQ6QBlL/ixMrFc43aBhqWitAmUYIpqmm9X8A" rel="nofollow noreferrer" title="Perl 6 – Try It Online">Try it online!</a></p>
</div>
<div id="pu27" class="pu"><h2>Racket 60 bytes</h2>

<pre><code>(require math)(λ(n)(length(filter prime?(range 1(+ 1 n)))))
</code></pre>

<p>Testing: </p>

<pre><code>(require math)
(define f
    (λ(n) (length (filter prime? (range 1 (+ 1 n)))))
)

(f 1)
(f 2)
(f 3)
(f 5)
</code></pre>

<p>Output: </p>

<pre><code>0
1
2
3
</code></pre>
</div>
<div id="pu28" class="pu"><h1>JavaScript (ES6), <s>45</s> 43 bytes</h1>

<pre><code>f=(n,x=n)=&gt;n&gt;1&amp;&amp;(--x&lt;2)+(n%x?f(n,x):f(n-1))
</code></pre>

<p>A modification of my <s>36</s> <s>35</s> 33-byte primality function (1 byte saved by @Neil, 2 by @Arnauld):</p>

<pre><code>f=(n,x=n)=&gt;n&gt;1&amp;--x&lt;2||n%x&amp;&amp;f(n,x)
</code></pre>

<p>(I can't post this anywhere because <a href="https://codegolf.stackexchange.com/q/57617/42545">Is this number a prime?</a> only accepts full programs...)</p>

<h3>Test snippet</h3>

<p><div class="snippet" data-lang="js" data-hide="true" data-console="true" data-babel="false">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-js lang-js prettyprint-override"><code>f=(n,x=n)=&gt;n&gt;1&amp;&amp;(--x&lt;2)+(n%x?f(n,x):f(n-1))</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;input type="number" oninput="console.log('f('+this.value+') is '+f(this.value))" value=2&gt;</code></pre>
</div>
</div>
</p>
</div>
<div id="pu29" class="pu"><h1>PHP, <s>96</s> 92 bytes</h1>

<pre><code>for($j=$argv[1]-1;$j&gt;0;$j--){$p=1;for($i=2;$i&lt;$j;$i++)if(is_int($j/$i))$p=0;$t+=$p;}echo $t;
</code></pre>

<p>Saved 4 bytes thanks to Roman Gräf</p>

<p><a href="http://sandbox.onlinephpfunctions.com/code/f2572d44a90f3d1e3c4d0b9f0bf839c102b97ea8" rel="nofollow">Test online</a></p>

<p>Ungolfed testing code:</p>

<pre><code>$argv[1] = 5;

for($j=$argv[1]-1;$j&gt;0;$j--) {
    $p=1;
    for($i=2;$i&lt;$j;$i++) {
        if(is_int($j/$i)) {
            $p=0;
        }
    }
    $t+=$p;
}
echo $t;
</code></pre>

<p><a href="http://sandbox.onlinephpfunctions.com/code/b7278074256589459c294fdeb1f7dc791acec6bb" rel="nofollow">Test online</a></p>
</div>
<div id="pu30" class="pu"><h1>Actually, 3 bytes</h1>

<p>This uses a prime factorization function, which may or may not be allowed after the OP clarifies. Golfing suggestions welcome. <a href="http://actually.tryitonline.net/#code=IXls&amp;input=NA" rel="nofollow">Try it online!</a></p>

<pre><code>!yl
</code></pre>

<p><strong>Ungolfing</strong></p>

<pre><code>     Implicit input n.
!    Push n factorial.
 y   Push a list of all of the positive prime factors of n! (every prime &lt; n)
  l  Take the length of that list of primes.
     Implicit return.
</code></pre>
</div>
<div id="pu31" class="pu"><h1>PARI/GP, 15 bytes</h1>

<pre><code>n-&gt;#factor(n!)~
</code></pre>

<p>Take the factorial and count its unique prime factors.</p>
</div>
<div id="pu32" class="pu"><h1>Perl, 33 bytes</h1>

<p>Includes +1 for <code>-p</code></p>

<p>Give the input number on STDIN</p>

<p><code>primecount.pl</code></p>

<pre><code>#!/usr/bin/perl -p
$_=1x$_;$_=s%(?!(11+)\1+$)%%eg-2
</code></pre>

<p>Gives the wrong result for <code>0</code> but that's OK, the op asked for support for positive integers only.</p>
</div>
<div id="pu33" class="pu"><h1>Actually, 10 bytes</h1>

<p>If my first Actually answer is disallowed for using a prime-generating function, here is a backup answer using Wilson's theorem. Golfing suggestions welcome. <a href="http://actually.tryitonline.net/#code=UmA7RCHCsiVgTc6j&amp;input=MzA" rel="nofollow">Try it online!</a></p>

<pre><code>R`;D!²%`MΣ
</code></pre>

<p><strong>Try it online</strong></p>

<pre><code>         Implicit input n.
R        Push range [1..n]
`...`M   Map the following function over the range. Variable k.
  ;        Duplicate k.
  D        Decrement one of the copies of k.
  !²       Push ((k-1)!)².
  %        Push ((k-1)!)² % k. This returns 1 if k is prime, else 0.
Σ        Sums the result of the map, adding all the 1s that represent primes, 
          giving the total number of primes less than n.
         Implicit return.
</code></pre>
</div>
<div id="pu34" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow">Jelly</a>, <s>13 11 10 9 8 7</s> 6 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow">bytes</a></h1>

<p><strong>Using no built-in prime functions whatsoever</strong><br>
-1 byte thanks to @miles (use a table)<br>
-1 byte thanks to @Dennis (convert from unary to count up the divisors)</p>

<pre><code>ḍþḅ1ċ2
</code></pre>

<p><strong><a href="http://jelly.tryitonline.net/#code=4biNw77huIUxxIsy&amp;input=&amp;args=MTA" rel="nofollow">TryItOnline</a></strong><br>
Or see the first 100 terms of the series <code>n=[1,100]</code>, also at <strong><a href="http://jelly.tryitonline.net/#code=4biNw77huIUxxIsyCsKzw4figqw&amp;input=" rel="nofollow">TryItOnline</a></strong></p>

<p>How?</p>

<pre><code>ḍþḅ1ċ2 - Main link: n
 þ     - table or outer product, n implicitly becomes [1,2,3,...n]
ḍ      - divides
  ḅ1   - Convert from unary: number of numbers in [1,2,3,...,n] that divide x
                             (numbers greater than x do not divide x)
    ċ2 - count 2s: count the numbers in [1,2,3,...,n] with exactly 2 divisors
                   (only primes have 2 divisors: 1 and themselves)
</code></pre>
</div>
<div id="pu35" class="pu"><h1>q 35 bytes</h1>

<pre><code>{sum 1=sum'[0=2_' a mod\: a:til x]}
</code></pre>
</div>
<div id="pu36" class="pu"><h1>Java 7,102 bytes</h1>
<p><strong>Brute force</strong></p>
<pre><code>int f(int n){int i=2,j=2,c=1,t=0;for(;i&lt;=n;j=2,c+=t==1?1:0,i++)for(;j&lt;i;t=i%j++==0?j=i+1:1);return c;}
</code></pre>
<h1>Ungolfed</h1>
<pre><code>int f(int n){
int i=2,j=2,c=1,t=0;
for(;i&lt;=n;j=2,c+=t==1?1:0,i++)
    for(;j&lt;i;)
        t=i%j++==0?j=i+1:1;
    return c;
 }
</code></pre>
</div>
<div id="pu37" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow">Jelly</a>, 6 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow">bytes</a></h1>

<pre><code>Ḷ!²%RS
</code></pre>

<p>This uses only basic arithmetic and Wilson's theorem. <a href="http://jelly.tryitonline.net/#code=4bi2IcKyJVJT&amp;input=&amp;args=MTAw" rel="nofollow">Try it online!</a> or <a href="http://jelly.tryitonline.net/#code=4bi2IcKyJVJTCsW8w4figqxH&amp;input=&amp;args=MSwgMiwgNQ" rel="nofollow">verify all test cases</a>.</p>

<h3>How it works</h3>

<pre><code>Ḷ!²%RS  Main link. Argument: n

Ḷ       Unlength; yield [0, ..., n - 1].
 !      Factorial; yield [0!, ..., (n - 1)!].
  ²     Square; yield [0!², ..., (n - 1)!²].
    R   Range; yield [1, ..., n].
   %    Modulus; yield [0!² % 1, ..., (n - 1)!² % n].
        By a corollary to Wilson's theorem, (k - 1)!² % k yields 1 if k is prime
        and 0 if k is 1 or composite.
     S  Sum; add the resulting Booleans.
</code></pre>
</div>
<div id="pu38" class="pu"><h2>JavaScript (ES6), <s>50+2</s> <s>46+2</s> 43 bytes</h2>

<p>Saved <s>3</s> 5 bytes thanks to Neil:</p>
<pre class="lang-js prettyprint-override"><code>f=n=&gt;n&amp;&amp;eval(`for(z=n;n%--z;);1==z`)+f(n-1)
</code></pre>
<p><code>eval</code> can access the <code>n</code> parameter.<br />
The <code>eval(...)</code> checks if <code>n</code> is prime.</p>
<hr>
<p><strong>Previous solutions:</strong><br />
Byte count should be +2 because I forgot to name the function <code>f=</code> (needed for recursion)</p>
<p>46+2 bytes (Saved 3 bytes thanks to ETHproductions):</p>
<pre class="lang-js prettyprint-override"><code>n=&gt;n&amp;&amp;eval(`for(z=n=${n};n%--z;);1==z`)+f(n-1)
</code></pre>
<p>50+2 bytes:</p>
<pre class="lang-js prettyprint-override"><code>n=&gt;n&amp;&amp;eval(`for(z=${n};${n}%--z&amp;&amp;z;);1==z`)+f(n-1)
</code></pre>
</div>
<div id="pu39" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow">Jelly</a>, 3 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow">bytes</a></h1>

<pre><code>ÆRL
</code></pre>

<p>Jelly has a built-in prime counting function, <code>ÆC</code> and a prime checking function, <code>ÆP</code>, this instead uses a built-in prime generating function, <code>ÆR</code> and takes the length <code>L</code>.</p>

<p>I guess this is about as borderline as using prime factorisation built-ins, which would also take 3 bytes with <code>!Æv</code> (<code>!</code> factorial, <code>Æv</code> count prime factors)</p>
</div>
<div id="pu40" class="pu"><h1>MediaWiki templates with <a href="https://www.mediawiki.org/wiki/Help:Extension:ParserFunctions" rel="noreferrer">ParserFunctions</a>, 220 + 19 = 239 bytes</h1>

<pre><code>{{#ifexpr:{{{2}}}+1={{{1}}}|0|{{#ifexpr:{{{3}}}={{{2}}}|{{P|{{{1}}}|{{#expr:{{{2}}}+1}}|2}}|{{#ifexpr:{{{2}}} mod {{{3}}}=0|{{#expr:1+{{P|{{{1}}}|{{#expr:{{{2}}}+1}}|2}}|{{P|{{{1}}}|{{{2}}}|{{#expr:{{{2}}}+1}}}}}}}}}}}}
</code></pre>

<p>To call the template:</p>

<pre><code>{{{P|{{{n}}}|2|2}}}
</code></pre>

<p>Arranged in Lisp style:</p>

<pre><code>{{#ifexpr:{{{2}}} + 1 = {{{1}}}|0|
    {{#ifexpr:{{{3}}} = {{{2}}} |
        {{P|{{{1}}}|{{#expr:{{{2}}} + 1}}|2}} |
            {{#ifexpr:{{{2}}} mod {{{3}}} = 0 |
                {{#expr:1 + {{P|{{{1}}}|{{#expr:{{{2}}} + 1}}|2}} |
                {{P|{{{1}}}|{{{2}}}|{{#expr:{{{2}}} + 1}}}}}}}}}}}}
</code></pre>

<p>Just a basic primality test from 2 to <em>n</em>. The numbers with three braces around them are the variables, where <code>{{{1}}}</code> is <em>n</em>, <code>{{{2}}}</code> is the number being tested, <code>{{{3}}}</code> is the factor to check.</p>
</div>
<div id="pu41" class="pu"><h1>Actually, 10 bytes</h1>

<p>This was the shortest solution I found that didn't run into interpreter bugs on TIO. Golfing suggestions welcome. <a href="http://actually.tryitonline.net/#code=O-KVl3JgUOKVnD5g4paRbA&amp;input=MzA" rel="nofollow">Try it online!</a></p>

<pre><code>;╗r`P╜&gt;`░l
</code></pre>

<p><strong>Ungolfing</strong></p>

<pre><code>         Implicit input n.
;╗       Duplicate n and save a copy of n to register 0.
r        Push range [0..(n-1)].
`...`░   Push values of the range where the following function returns a truthy value.
  P        Push the a-th prime
  ╜        Push n from register 0.
  &gt;        Check if n &gt; the a-th prime.
l        Push len(the_resulting_list).
         Implicit return.
</code></pre>
</div>
<div id="pu42" class="pu"><h1><a href="http://github.com/DennisMitchell/jelly" rel="nofollow">Jelly</a>, 3 bytes</h1>

<pre><code>!Æv
</code></pre>

<p><a href="http://jelly.tryitonline.net/#code=IcOGdg&amp;input=&amp;args=" rel="nofollow">Try it online!</a></p>

<h3>How it works</h3>

<pre><code>!Æv  Main link. Argument: n

!    Compute the factorial of n.
 Æv  Count the number of distinct prime factors.
</code></pre>
</div>
<div id="pu43" class="pu"><h2>Python 2, 45 bytes</h2>

<pre class="lang-python prettyprint-override"><code>f=lambda n,k=1,p=1:n/k and p%k+f(n,k+1,p*k*k)
</code></pre>

<p>Uses the <a href="https://codegolf.stackexchange.com/a/27022/20260">Wilson's Theorem</a> prime generator. The product <code>p</code> tracks <code>(k-1)!^2</code>, and <code>p%k</code> is 1 for primes and 0 for nonprimes.</p>
</div>
<div id="pu44" class="pu"><h1><a href="http://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, <s>8</s> 5 bytes</h1>

<p><em>3 bytes saved thanks to @Dennis!</em></p>

<pre><code>RÆESL
</code></pre>

<p><a href="http://jelly.tryitonline.net/#code=UsOGRVNM&amp;input=&amp;args=NQ" rel="nofollow noreferrer">Try it online!</a></p>

<p>Port of <a href="https://codegolf.stackexchange.com/a/94354/36398">DJMcMayhem's MATL answer</a> (former version) refined by Dennis. </p>

<pre><code>R          Range of input argument
 ÆE        List of lists of exponents of prime-factor decomposition
   S       Vectorized sum. This right-pads inner lists with zeros
    L      Length of result
</code></pre>
</div>
<div id="pu45" class="pu"><h1>Matlab, 60 bytes</h1>
<p>Continuing my attachment to one-line Matlab functions. Without using a factorisation built-in:</p>
<pre><code>f=@(x) nnz(arrayfun(@(x) x-2==nnz(mod(x,[1:1:x])),[1:1:x]));
</code></pre>
<p>Given that a prime <code>y</code> has only two factors in <code>[1,y]</code>: we count the numbers in the range <code>[1,x]</code> which have only two factors.</p>
<p>Using factorisation allows for significant shortening (down to 46 bytes).</p>
<pre><code>g=@(x) size(unique(factor(factorial(x))),2);
</code></pre>
<p>Conclusion: Need to look into them golfing languages :D</p>
</div>
<div id="pu46" class="pu"><h1><a href="http://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, <s>11, 10, 8</s>, 5 bytes</h1>

<pre><code>:pYFn
</code></pre>

<p><a href="http://matl.tryitonline.net/#code=OnBZRm4&amp;input=MTU" rel="nofollow noreferrer">Try it online!</a></p>

<p>I wrote a version that had a really cool explanation of how MATL's matrices work:</p>

<p><a href="http://matl.tryitonline.net/#code=OllGIXMxPTE&amp;inputc=MTU" rel="nofollow noreferrer"><code>:YF!s1=1</code></a></p>

<p>But it's no longer relevant. Check out the revision history if you want to see it.</p>

<p>New explanation:</p>

<pre><code>:p      % Compute factorial(input)
  YF    % Get the exponenents of prime factorization
    n   % Get the length of the array
</code></pre>

<p><em>Three bytes saved thanks to <a href="https://codegolf.stackexchange.com/a/94364/31716">Dennis's genius solution</a></em></p>
</div>
<div id="pu47" class="pu"><h1>C#, 157 bytes</h1>
<pre><code>n=&gt;{int c=0,i=1,j;bool f;for(;i&lt;=n;i++){if(i==1);else if(i&lt;=3)c++;else if(i%2==0|i%3==0);else{j=5;f=1&gt;0;while(j*j&lt;=i)if(i%j++==0)f=1&lt;0;c+=f?1:0;}}return c;};
</code></pre>
<p>Full program with test cases:</p>
<pre><code>using System;

class a
{
    static void Main()
    {
        Func&lt;int, int&gt; s = n =&gt;
            {
                int c = 0, i = 1, j;
                bool f;
                for (; i &lt;= n; i++)
                {
                    if (i == 1) ;
                    else if (i &lt;= 3) c++;
                    else if (i % 2 == 0 | i % 3 == 0) ;
                    else
                    {
                        j = 5;
                        f = 1 &gt; 0;
                        while (j * j &lt;= i)
                            if (i % j++ == 0)
                                f = 1 &lt; 0;
                        c += f ? 1 : 0;
                    }
                }
                return c;
            };

        Console.WriteLine(&quot;1 -&gt; 0 : &quot; + (s(1) == 0 ? &quot;OK&quot; : &quot;FAIL&quot;));
        Console.WriteLine(&quot;2 -&gt; 1 : &quot; + (s(2) == 1 ? &quot;OK&quot; : &quot;FAIL&quot;));
        Console.WriteLine(&quot;5 -&gt; 3 : &quot; + (s(5) == 3 ? &quot;OK&quot; : &quot;FAIL&quot;));
        Console.WriteLine(&quot;10 -&gt; 4 : &quot; + (s(10) == 4 ? &quot;OK&quot; : &quot;FAIL&quot;));
        Console.WriteLine(&quot;100 -&gt; 25 : &quot; + (s(100) == 25 ? &quot;OK&quot; : &quot;FAIL&quot;));
        Console.WriteLine(&quot;1,000 -&gt; 168 : &quot; + (s(1000) == 168 ? &quot;OK&quot; : &quot;FAIL&quot;));
        Console.WriteLine(&quot;10,000 -&gt; 1,229 : &quot; + (s(10000) == 1229 ? &quot;OK&quot; : &quot;FAIL&quot;));
        Console.WriteLine(&quot;100,000 -&gt; 9,592 : &quot; + (s(100000) == 9592 ? &quot;OK&quot; : &quot;FAIL&quot;));
        Console.WriteLine(&quot;1,000,000 -&gt; 78,498 : &quot; + (s(1000000) == 78498 ? &quot;OK&quot; : &quot;FAIL&quot;));
    }
}
</code></pre>
<p>Starts to take awhile once you go above 1 million.</p>
</div>
<div id="pu48" class="pu"><h1><a href="http://github.com/Adriandmen/05AB1E">05AB1E</a>, 3 bytes</h1>

<pre><code>!fg
</code></pre>

<p>This assumes that factorization built-ins are allowed. <a href="http://05ab1e.tryitonline.net/#code=IWZn&amp;input=NQ">Try it online!</a></p>

<h3>How it works</h3>

<pre><code>!    Compute the factorial of the input.
 f   Determine its unique prime factors.
  g  Get the length of the resulting list.
</code></pre>
</div>
<div id="pu49" class="pu"><h1><a href="http://github.com/Adriandmen/05AB1E" rel="nofollow">05AB1E</a>, 5 bytes</h1>

<p>Assumes that prime factorization builtins are allowed.</p>

<p>Code:</p>

<pre><code>LÒ1ùg
</code></pre>

<p>Explanation:</p>

<pre><code>L      # Get the range [1, ..., input]
 Ò     # Prime factorize each with duplicates
  1ù   # Keep the elements with length 1
    g  # Get the length of the resulting array
</code></pre>

<p>Uses the <strong>CP-1252</strong> encoding. <a href="http://05ab1e.tryitonline.net/#code=TMOSMcO5Zw&amp;input=NQ" rel="nofollow">Try it online!</a></p>
</div>
<div id="pu50" class="pu"><h2>PowerShell v2+, 98 bytes</h2>

<pre><code>param($n)if($j='001'[$n]){}else{for($i=1;$i-lt$n){for(;'1'*++$i-match'^(?!(..+)\1+$)..'){$j++}}}$j
</code></pre>

<p><em>Caution:</em> This is <strong>slow</strong> for large input.</p>

<p>Basically the unary-based lookup from <a href="https://codegolf.stackexchange.com/a/57636/42963">Is this number a prime?</a>, coupled with a <code>for</code> loop and a <code>$j++</code> counter. A little additional logic on the front to account for edge cases input <code>1</code> and <code>2</code>, due to how the fenceposting works in the <code>for</code> loops.</p>
</div>
<div id="pu51" class="pu"><h2>Pyke, <s>8</s> 6 bytes</h2>
<pre><code>SmPs}l
</code></pre>
<p><a href="http://pyke.catbus.co.uk/?code=SmPs%7Dl&amp;input=5" rel="nofollow noreferrer">Try it here!</a></p>
<p>Thanks to Maltysen for new algorithm</p>
<pre><code>SmP    -    map(factorise, input)
   s   -   sum(^)
    }  -  uniquify(^)
     l - len(^)
</code></pre>
</div>
<div id="pu52" class="pu"><h1>Bash + coreutils, 30</h1>

<pre class="lang-bash prettyprint-override"><code>seq $1|factor|egrep -c :.\\S+$
</code></pre>
<p><a href="https://ideone.com/VwKgoN" rel="nofollow noreferrer">Ideone.</a></p>
<hr />
<h1>Bash + coreutils + BSD-games package, 22</h1>
<pre class="lang-bash prettyprint-override"><code>primes 1 $[$1+1]|wc -l
</code></pre>
<p>This shorter answer requires that you have the bsdgames package installed: <code>sudo apt install bsdgames</code>.</p>
</div>
<div id="pu53" class="pu"><h1>Pyth - <s>7</s> 6 bytes</h1>
<p>Since others are using prime factorization functions...</p>
<pre><code>l{sPMS
</code></pre>
<p><a href="http://pyth.herokuapp.com/?code=l%7BsPMS&amp;test_suite=1&amp;test_suite_input=1%0A2%0A5%0A100&amp;debug=0" rel="nofollow noreferrer">Test Suite</a>.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/94348/">94348</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




