<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::250283</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>027</td><td>Juby</td><td>221008T204321Z</td><td><a href="https://codegolf.stackexchange.com/questions/250283/rearrange-to-a-palindrome/252858#252858">Jordan</a></td></tr>
<tr d-ix="1"><td>058</td><td>Scala</td><td>230709T065312Z</td><td><a href="https://codegolf.stackexchange.com/questions/250283/rearrange-to-a-palindrome/262552#262552">138 Aspe</a></td></tr>
<tr d-ix="2"><td>055</td><td>JavaScript SpiderMonkey</td><td>230705T065026Z</td><td><a href="https://codegolf.stackexchange.com/questions/250283/rearrange-to-a-palindrome/262426#262426">l4m2</a></td></tr>
<tr d-ix="3"><td>069</td><td>JavaScript Node.js</td><td>220725T060423Z</td><td><a href="https://codegolf.stackexchange.com/questions/250283/rearrange-to-a-palindrome/250292#250292">tsh</a></td></tr>
<tr d-ix="4"><td>005</td><td>Japt</td><td>230704T223553Z</td><td><a href="https://codegolf.stackexchange.com/questions/250283/rearrange-to-a-palindrome/262416#262416">Shaggy</a></td></tr>
<tr d-ix="5"><td>004</td><td>Nekomata</td><td>230704T121217Z</td><td><a href="https://codegolf.stackexchange.com/questions/250283/rearrange-to-a-palindrome/262407#262407">alephalp</a></td></tr>
<tr d-ix="6"><td>035</td><td>Prolog SWI</td><td>220902T222230Z</td><td><a href="https://codegolf.stackexchange.com/questions/250283/rearrange-to-a-palindrome/251579#251579">naffetS</a></td></tr>
<tr d-ix="7"><td>038</td><td>Factor + math.combinatorics</td><td>220725T094050Z</td><td><a href="https://codegolf.stackexchange.com/questions/250283/rearrange-to-a-palindrome/250302#250302">chunes</a></td></tr>
<tr d-ix="8"><td>031</td><td>x8664 machine code</td><td>220727T122033Z</td><td><a href="https://codegolf.stackexchange.com/questions/250283/rearrange-to-a-palindrome/250424#250424">m90</a></td></tr>
<tr d-ix="9"><td>019</td><td>APL Dyalog Classic</td><td>220810T161229Z</td><td><a href="https://codegolf.stackexchange.com/questions/250283/rearrange-to-a-palindrome/250910#250910">atpx8</a></td></tr>
<tr d-ix="10"><td>052</td><td>Haskell</td><td>220729T045708Z</td><td><a href="https://codegolf.stackexchange.com/questions/250283/rearrange-to-a-palindrome/250482#250482">Christia</a></td></tr>
<tr d-ix="11"><td>107</td><td>C gcc</td><td>220725T063342Z</td><td><a href="https://codegolf.stackexchange.com/questions/250283/rearrange-to-a-palindrome/250293#250293">Conor O&</a></td></tr>
<tr d-ix="12"><td>057</td><td>Perl 5 F</td><td>220727T005120Z</td><td><a href="https://codegolf.stackexchange.com/questions/250283/rearrange-to-a-palindrome/250396#250396">Xcali</a></td></tr>
<tr d-ix="13"><td>062</td><td>JavaScript ES6</td><td>220725T233327Z</td><td><a href="https://codegolf.stackexchange.com/questions/250283/rearrange-to-a-palindrome/250324#250324">Arnauld</a></td></tr>
<tr d-ix="14"><td>019</td><td>Alice</td><td>220726T022313Z</td><td><a href="https://codegolf.stackexchange.com/questions/250283/rearrange-to-a-palindrome/250331#250331">Julian</a></td></tr>
<tr d-ix="15"><td>033</td><td>Wolfram Language Mathematica</td><td>220725T153023Z</td><td><a href="https://codegolf.stackexchange.com/questions/250283/rearrange-to-a-palindrome/250311#250311">naffetS</a></td></tr>
<tr d-ix="16"><td>072</td><td>Python 3</td><td>220725T085111Z</td><td><a href="https://codegolf.stackexchange.com/questions/250283/rearrange-to-a-palindrome/250299#250299">tsh</a></td></tr>
<tr d-ix="17"><td>024</td><td>Charcoal</td><td>220725T190430Z</td><td><a href="https://codegolf.stackexchange.com/questions/250283/rearrange-to-a-palindrome/250315#250315">Neil</a></td></tr>
<tr d-ix="18"><td>035</td><td>Retina</td><td>220725T171159Z</td><td><a href="https://codegolf.stackexchange.com/questions/250283/rearrange-to-a-palindrome/250313#250313">Neil</a></td></tr>
<tr d-ix="19"><td>021</td><td>J</td><td>220725T051402Z</td><td><a href="https://codegolf.stackexchange.com/questions/250283/rearrange-to-a-palindrome/250289#250289">Jonah</a></td></tr>
<tr d-ix="20"><td>004</td><td>Vyxal</td><td>220725T033219Z</td><td><a href="https://codegolf.stackexchange.com/questions/250283/rearrange-to-a-palindrome/250285#250285">naffetS</a></td></tr>
<tr d-ix="21"><td>019</td><td>lin</td><td>220725T052700Z</td><td><a href="https://codegolf.stackexchange.com/questions/250283/rearrange-to-a-palindrome/250290#250290">Mama Fun</a></td></tr>
<tr d-ix="22"><td>041</td><td>Ruby</td><td>220725T091316Z</td><td><a href="https://codegolf.stackexchange.com/questions/250283/rearrange-to-a-palindrome/250300#250300">Kirill L</a></td></tr>
<tr d-ix="23"><td>067</td><td>Python</td><td>220725T075647Z</td><td><a href="https://codegolf.stackexchange.com/questions/250283/rearrange-to-a-palindrome/250298#250298">Unrelate</a></td></tr>
<tr d-ix="24"><td>003</td><td>Brachylog</td><td>220725T074545Z</td><td><a href="https://codegolf.stackexchange.com/questions/250283/rearrange-to-a-palindrome/250297#250297">Fatalize</a></td></tr>
<tr d-ix="25"><td>041</td><td>Curry PAKCS</td><td>220725T054852Z</td><td><a href="https://codegolf.stackexchange.com/questions/250283/rearrange-to-a-palindrome/250291#250291">alephalp</a></td></tr>
<tr d-ix="26"><td>120</td><td>Python</td><td>220725T073513Z</td><td><a href="https://codegolf.stackexchange.com/questions/250283/rearrange-to-a-palindrome/250295#250295">pxeger</a></td></tr>
<tr d-ix="27"><td>004</td><td>05AB1E</td><td>220725T035712Z</td><td><a href="https://codegolf.stackexchange.com/questions/250283/rearrange-to-a-palindrome/250286#250286">Command </a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/cyoce/J-uby" rel="nofollow noreferrer">J-uby</a>, 27 bytes</h1>
<p>Port of <a href="https://codegolf.stackexchange.com/a/250300/11261">Kirill L.’s Ruby answer</a>.</p>
<pre class="lang-ruby prettyprint-override"><code>:permutation|:select+:==%:~
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=RU9LCsJADN33FGWKomgL7mSgLr1EKSXGKW3RTOnMLMTPRdwUoafwCl7A2zjTWiWBJO-9vJB7V2Vmd2of27gzOg_XT16L5mg06FLShStxEKgXPI4n_DYo3q_EYwQEii39INz4dlBAzGMoUZLRNkemn7UhiZaGWlpbOXK2dQDzAobWbW-DUPw2HSQsBOgU7p6L_0kCBziub9nXtBd5aSQAi3NttPK3SbaKsIBGpdER6tmUV7KkeZSXjdLX4ae2HeoH" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="http://www.scala-lang.org/" rel="nofollow noreferrer">Scala</a>, 58 bytes</h1>
<p>Golfed version. <a href="https://tio.run/##TU9Na8MwDL3nV4icEhj@AQEHdt/HIfQ0RtEctfMWy57tdhmjvz2T0w5iWWBJT@89J4MTLv7tg0yGR7QMv1V1xglCN@Ro@aj755Ct55dr@Qp62avsB/pSgaI7ZSzTpByGZq/c5xXWqoPlsZl1P2s9q0hnionaBWCkAzjRaTAeUwf3MeLPP3fbwY5tBi0mQE7x8e3jmKTzYFNuakbGVN9BbbzxfMpyS4XBiw@/DgQxSrChUpaFEiuKEbluV@qVdjUdxKuPhOb9pgpgMBEM3lETcJJ/RHm2oHsIYjNPvG1vV5480xZWl8ZN8FKVvFTLHw" rel="nofollow noreferrer">Try it online!</a></p>
<pre class="lang-scala prettyprint-override"><code>_.toSeq.permutations.map(_.mkString).find(x=&gt;x==x.reverse)
</code></pre>
<p>Ungolfed version. <a href="https://tio.run/##dVBNS8QwEL33Vww9tSABrwsVvPsFiycRGdPZbjSdlCS7Vpb97XWS7UoVJclhXt68eW@CRovT5F7fSEe4RcNwKAqAljYwkO93EaNxHKqwgnX0hrt6BTcmxKdT9QwNCB3AbKAKyhJ3cQtNA5d1plWhzt9kA0FQ0SVQLZVVj0P1ovr3WX7mfJtAa7j1rqeH/@zcDwn7bein@1ptRKYaobmCMfkblac9@UD1eVIv4Sv0nUhfe4@fZ0GZ8Mgmiu4hC@/RwofzbRAkRywZGUN5AaV22vEuyk0VDk7mu/whjFYOa0plakgnsxiRy9OWsmxeyN@xJYXzhHo7WwHQKHtdC23RUaeQg3iPlpfwsuXOMS1pZQJmF8civWMxTV8" rel="nofollow noreferrer">Try it online!</a></p>
<pre class="lang-scala prettyprint-override"><code>object Main {

  def permutations(s: String): List[String] = 
    if (s.length == 1) List(s)
    else s.toList.permutations.map(_.mkString).toList

  def palindromePermutations(s: String): Option[String] = 
    permutations(s).find(x =&gt; x == x.reverse)

  def main(args: Array[String]): Unit = {
    val words = List(&quot;nanas&quot;, &quot;coconutnut&quot;, &quot;apotato&quot;, &quot;canadadance&quot;, &quot;nananana&quot;, &quot;anaan&quot;)
    words.map(palindromePermutations).foreach {
      case Some(palindrome) =&gt; println(palindrome)
      case None =&gt; println(&quot;None&quot;)
    }
  }
}
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/Releases/45" rel="nofollow noreferrer">JavaScript (SpiderMonkey)</a>, 55 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>g=a=&gt;a+''==a.reverse()?a:g(a.sort(_=&gt;Math.random()&lt;.5))
</code></pre>
<p><a href="https://tio.run/##bYzBCsIwEETvfkYvTRD35kVM/QK/QESWNI3VZDdkY8Gvr3u3M8Mc5sG8cEHxdS7tIGUeQ81M7/Bdo9OgG3Df984h1LCEKsHYC56iQRCuzTzccMX2hIo0cjb2DEdr18mJG6K5AYDcLbx4JtP3dueZhFOAxNFMpiMklM7@7Z51@DTNBsTCDRtvkIxUEpLX11S0Mqq27pWNavJB6foD" rel="nofollow noreferrer" title="JavaScript (SpiderMonkey) – Try It Online">Try it online!</a></p>
<p>Shuffle until meet requirement</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 69 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>a=&gt;[...p=a.filter(c=&gt;!(a[c]^=1)),...a.filter(c=&gt;a[c]),...p.reverse()]
</code></pre>
<p><a href="https://tio.run/##bczBCoMwDAbg@95iXmxhK@wB4ouIg1CjKDUpbfX1u7jTYCYhh/@Df8UDs09LLE@WkeoMFaHrnXMR0E1LKJSMh@5usPfDG17WPhR/6YRvGF2ig1ImY4c6QYZuNmdTHqxbZWHTtvbmhbMEckFmM5mGkTE39i/3osFe9C4QoxQsciEbcgzIXltD1LehzlW92qjLnlTrBw" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<hr />
<h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 78 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>f=(s,c='',r=s.replace(/^(.)(.*)\1|./,'$2'),t=RegExp.$1)=&gt;s?t+f(r,t?c:s[0])+t:c
</code></pre>
<p><a href="https://tio.run/##bY7NCsIwEITvPkYpJLExtR4LsSdfwKs/sGzToqRJaFbx4LvXPUtnhz3MB8M84Q0Z50eiXYi9WwbLllmjFULPNpvZJQ/oZH2XRkmzVdfma2otyoNQmuzZjadPMmWj7DF3VA1y1tRhmy/7m6qoxQVjyNE74@MoB1kECJALpTZ/OUYOXsRegZAiAcUVMkHgfQG51Sd@E7DW6pn1fAEd0@UH" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>Input / Output as strings.</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, 5 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<p>Outputs all possibilities. Replace <code>f</code> with <code>æ</code> to output just 1.</p>
<pre><code>á fêQ
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;code=4SBm6lE&amp;input=ImFkYWRiY2Mi" rel="nofollow noreferrer">Try it</a></p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/AlephAlpha/Nekomata" rel="nofollow noreferrer">Nekomata</a>, 4 bytes</h1>
<pre><code>↕:↔=
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70iLzU7PzexJHFNtJJurpKOgpKuoVLsgqWlJWm6FisetU21etQ2xXZJcVJyMVRwwU17pbzEvMRiJS6l5Pzk_LzSEiACchIL8ksSS_JBwkDpFCDMS04F8kCKQRCkJC8xMU8JYg4A" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>A port of <a href="https://codegolf.stackexchange.com/a/250297/9288">@Fatalize's Brachylog answer</a>.</p>
<pre><code>↕:↔=
↕       Permutation
 :      Duplicate
  ↔     Reverse
   =    Check equality
</code></pre>
<p>Returns all solutions with duplicates. You can add the <code>-1</code> flag to print only the first solution.</p>
</div>
<div id="pu6" class="pu"><h1><a href="http://www.swi-prolog.org" rel="nofollow noreferrer">Prolog (SWI)</a>, 35 bytes</h1>
<pre><code>X+P:-permutation(P,X),reverse(P,P).
</code></pre>
<p><a href="https://tio.run/##KyjKz8lP1y0uz/z/P0I7wEq3ILUot7QksSQzP08jQCdCU6cotSy1qDgVyAnQ1PtvpauQkJyfnJ9XWgJECdp@Ogpp@UW5iSUaSnXFSjrRfrFARQA" rel="nofollow noreferrer" title="Prolog (SWI) – Try It Online">Try it online!</a></p>
<p>Prolog is perfect for this. I/O as a list of char codes (or list of atoms or list of strings, doesn't matter).</p>
<p>If there are multiple solutions, each solution is its own choice point (may contain duplicates): <a href="https://tio.run/##KyjKz8lP1y0uz/z/P0I7wEq3ILUot7QksSQzP08jQCdCU6cotSy1qDgVyAnQ1PtvpauQkJiSmJKUnJyg7aejkJZflJtYoqFUVxyTp6QT7RerCRRLzClO1fsPAA" rel="nofollow noreferrer" title="Prolog (SWI) – Try It Online">Try it online!</a> If there are none, the goal will simply fail.</p>
<p>In fact, the first argument doesn't even have to be instanciated. If you run with both non-initialized, the first one will just infinitely produce all possible ways to arrange variables in a list where it is possible to rearrange to a palindrome, and the second one will be it rearranged to a palindrome.</p>
<p>You can even do the reverse operation - given a palindromic string for the output, it will give all inputs that will produce that output. <a href="https://tio.run/##DchBCoAgEADAr4inRO0BvcLjQgVtsYVQGbtWt75uHmcuTnvavLyxFLCh8xfxcWfMMZ1NcGAc00MsVBFMWzqvwE44LzNOTq2JD8yN/mQ4tVM9jKYm7kJt@QE" rel="nofollow noreferrer" title="Prolog (SWI) – Try It Online">Try it online!</a></p>
</div>
<div id="pu7" class="pu"><h1><a href="https://factorcode.org/" rel="nofollow noreferrer">Factor</a> + <code>math.combinatorics</code>, <sup><s>41</s></sup> 38 bytes</h1>
<pre class="lang-factor prettyprint-override"><code>[ [ dup reverse = ] find-permutation ]
</code></pre>
<p><a href="https://tio.run/##DcoxDsIwDAXQvaf46t4eAMRcsbAgpqpDSF0RkTjGcZA4fcj83uG8ZW2P@/W2nPAmZYoo9KnEngqSs9fsc3oGdv0FXyBKZj/RwIbzMIxOsnUb24oVexUofUkL4YINR@B9EtJU@wmZsTXvYsTc/g" rel="nofollow noreferrer" title="Factor – Try It Online">Try it online!</a></p>
</div>
<div id="pu8" class="pu"><h1>x86-64 machine code, 31 bytes</h1>
<pre><code>31 C9 FF CA AC 0F BB C1 73 FA 88 04 17 AA 83 EA 02 77 F1 75 09 0F BC C1 75 01 AC 0C 60 AA C3
</code></pre>
<p><a href="https://tio.run/##VZPBjtowEIbPmaeYpkJKlrBiacthKb3suZeeKrEcjD0h3jp2ZBsainj10jEBVpUSK575/2/GHkV23WQr5fksQosF/sgLeNwatxEGa6ifIeudR5J9lRbIFEkk1YOnjkTktHEqbCDbRHlVCVa9WYmDArLW7XHllR571a8rFAayEF3yhN0msSqcsUPcDW/2D5JVzAx1wl0rp3D4pbtbyfTN9bk7YSqc9vPpDcxmTniKUOZYLoD6SN5i/pLjce@0wrqQjfD44CnsTKxQOhsiDrFQobYRgyFbLk4AH7WVZqcIv4aotHtsvv0X8tpuUwySqRXaFiUcIbuwtO12cTX7MudjD6UumwVkvxttCIsgha2LfBTyahCXuFziUwkZI7JENLhELsLNFIOAzVld3Bq/xCo0l/C1hFmzZ5oCHTcXE3/yNA@j8Grzu2PQJtsJ7rpX@13IRlviC1H0nKd0aqJPwAoPvFUOjzc5jqazn4w8LItiZ4PeWlKXS3wo63LVj8drvkC8HvWAHxjSv3xK0DuhGGncHCKF8tJcz8nT@RyIAiinHETh@QHRdcIYiCTaVkQCnpfUQfPUIDoHztUQml1oYK/3WkGgyAPnHFfh8bzLwYgN8WsIOk9Sd1oOMIbaBPbEFtp6kXx/ZW3ENpwn7fwzL/x/LFPW/AM" rel="nofollow noreferrer" title="C++ (gcc) – Try It Online">Try it online!</a></p>
<p>Following the standard calling convention for Unix-like systems (from the System V AMD64 ABI), this takes the address of the input, as an array of single-byte characters, in RSI and its length in RDX, and takes in RDI an address at which to place the result, as a non-overlapping array of single-byte characters of the same length.</p>
<p>Part of this is similar to <a href="https://codegolf.stackexchange.com/a/250369/104752">my answer to &quot;Generate an arbitrary half of a string&quot;</a>.</p>
<p>In assembly:</p>
<pre><code>f:
    xor ecx, ecx    # Set ECX to 0.
    dec edx         # Subtract 1 from the length in EDX.
repeat:
    lodsb           # Load a byte from the string into AL, advancing the pointer.
    btc ecx, eax    # Invert the bit in ECX indexed by the low 5 bits of that byte.
                    #  Set CF to the previous value of that bit.
    jnc repeat      # Jump back if CF is 0.
    mov [rdi+rdx], al   # Place the byte at a position that starts from the end of
                        #  the output string and will move backwards.
    stosb           # Add it to the start of the output, advancing the pointer.
    sub edx, 2      # Subtract 2 from EDX. (= # of unfilled places - 1)
    ja repeat       # Jump back if it is still positive.
    jnz end         # Jump if it is -1 (all places filled: happens for even length).
    bsf eax, ecx    # Set EAX to the index of the 1 bit in ECX.
                    # (If the input is valid, there is at most one 1 bit here.)
    jnz skip        # Jump if there was a 1 bit in ECX.
    lodsb           # (Otherwise, the final instance of the odd-count character
                    #  is at the end of the string and has not yet been read.)
                    # Load a byte from the string into AL, advancing the pointer.
skip:
    or al, 0x60     # Set bits 5 and 6 in AL, making the correct lowercase letter.
    stosb           # Add it to the output (in the centre), advancing the pointer.
end:
    ret             # Return.
</code></pre>
</div>
<div id="pu9" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog Classic)</a>, 19 bytes</h1>

<pre class="lang-apl prettyprint-override"><code>{⌊/⍵=⌽⍵:⍵⋄∇⍵[?⍨≢⍵]}
</code></pre>
<p><a href="https://tio.run/##SyzI0U2pTMzJT9dNzkksLs5M/v@/IDEnMy@lKD839VHbhOpHPV36j3q32j7q2QukrID4UXfLo452ICPa/lHvikedi4DM2Nr///8DAA" rel="nofollow noreferrer" title="APL (Dyalog Classic) – Try It Online">Try it online!</a></p>
<p><strong>Usage:</strong></p>
<pre class="lang-apl prettyprint-override"><code>      palindrome←{⌊/⍵=⌽⍵:⍵⋄∇⍵[?⍨≢⍵]}
      palindrome 'baba'
baab
      palindrome 'daabbcc'
cbadabc
</code></pre>
</div>
<div id="pu10" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 52 bytes</h1>

<pre class="lang-hs prettyprint-override"><code>import Data.List
find(\x-&gt;x==reverse x).permutations
</code></pre>
<p><a href="https://tio.run/##HYxNDsIgEIX3nmLCqk2UG@DKpZ5Au5hQjMQyM4Gp4fYIzfc2L@/ng@Ubtq3FJJwVbqho77HoKWEkcJBQHjBJjqRWZngaQsJizmA8e6Zdu4ZDYUXlI@iNtUM@DDsGg6NFiGSWJu4daZ1e9XKtzuXwC7kEqLOVkNPejyJTae0P" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
<p>Pretty new to Haskell so I'm very open to suggestions on how this could be improved, because I have a feeling it can be a lot - especially concerning that lambda, but I couldn't find how to make it pointfree.</p>
</div>
<div id="pu11" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, <s>124</s> <s>108</s> 107 bytes</h1>
<p><em>16 bytes saved thanks to <a href="https://codegolf.stackexchange.com/users/112488/c">c--</a>! 1 byte saved thanks to ceilingcat!</em></p>

<pre class="lang-c prettyprint-override"><code>f(c,n,i,j,k)char*c;{for(i=j=0;i&lt;n;i++)j=*c-c[i]?j:i;k=c[i=j?n--,n--:i/2];
c[i]=c[j];c[j]=k;n&gt;2&amp;&amp;f(c+!!j,n);}
</code></pre>
<p><a href="https://tio.run/##ZY/RboMgFIbv@xTUZA1WzFYvy2gfZOvFKdUN1IMRtmRr@uzuaF0WmRhy@P7//Bx0/qb1MFRcCxRGWFGn@h36rZbXyvXcKKuepHlGabIstWqrc/1iTke7N7JWVCp7xFwVwuS7vXksTnKUSbBjZU@qlngoNhvKz9ZrKzCVt@HTmQsLpQ98uor5XqfsumL0GQysKZEp5kNPBR81OUl3L5DUQtM4zb35Ll01ZaRbTuZsl85eatbdFwfB/vq7nsIrnjzkxc6z/MASwWDWqtFKCbHVv@Lsuq1W42wtGOS/w05PSJK56X6C5fEMEQA4LwECgo8ReFwiT64IIdngf9a4llQTudBCXUaC0w4/Av3RjJ0LEFwEgxvxEraAXUPBdEPT0dbCPNNt@AE" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a> Linebreak added for clarity. Function <code>f</code> which takes as input a pointer to the start of a <code>char</code> array and its length as <code>n</code>. Modifies the input array in place, yielding a single result.</p>
<p>Annoying that I can't save a few bytes by using <code>c[i]^=c[j]^=c[i]^=c[j]</code> instead of a standard switch, but this expression fails when <code>i == j</code>, and accounting for that doesn't end up saving any bytes.</p>
<h2>Commented explanation</h2>
<p><em>Slightly outdated, but the same general concept is the same. In the current version, we infer the count by observing that <code>k</code> is 1 if and only if <code>j</code> is 0.</em></p>
<pre class="lang-c prettyprint-override"><code>f(c,n,i,j,k,t) char*c; {
    // count the number of instances of the first character, *c
    for(i = k = 0; i &lt; n; i++)
        // if we found *c in the string
        *c == c[i]
            ? k++, j = i // then note it in our tally, and note its index as j
            : 0;         // else do nothing
    
    // i is now the original length n
    // j is now the index of the last occurrence of *c
    
    // we will check if there is more than one occurrence of *c
    --k
        // this is truthy iff k &gt; 1. in this case, we set up further recursion
        ? n -= 2,   // deduct the two solved characters from the solve length
          i--       // we want to swap with the end of the string (i=n-1)
        // else, if k == 1, then we need to put this character in the middle
        // to properly palindromize it
        : (j = 0,   // we want to swap the lone character (at j=0)
           i /= 2); // with the center character (at i=n/2).
    
    // swap characters at positions j and i
    // when k&gt;1,  swaps the last occurrence of *c with the end of the string
    // when k==1, swaps the first character with the middle of the string
    t = c[i];
    c[i] = c[j];
    c[j] = t;
    
    // if n &lt; 2, the string is solved
    // otherwise, we will recurse as follows:
    //  - when k was initially &gt;1, k is now k-1, and !!k evaluates to 1,
    //    letting us recurse starting with c+1.
    //    in this case, n is now n-2, letting us recur on the string without
    //    the bookending characters
    //  - when k was initially 1, k is now 0, and !!k evaluates to 0.
    //    this means we recurse with c, and examine the character we
    //    just swapped there. n is also unchanged in this branch.
    //    furthermore, this swap only ever happens once because
    //    we check n &gt; 2 before attempting to recurse.
    n &gt; 2 &amp;&amp; f(c + !!k, n);
}
</code></pre>
</div>
<div id="pu12" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> <code>-F </code>, 57 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>$_=join&quot;&quot;,sort@F;s/(.)\1/!push@r,$1/ge;say@r,$_,reverse@r
</code></pre>
<p><a href="https://tio.run/##K0gtyjH9/18l3jYrPzNPSUmnOL@oxMHNulhfQ08zxlBfsaC0OMOhSEfFUD891bo4sRLEjtcpSi1LLSpOdSj6/z8pMQ8Ik/7lF5Rk5ucV/9d1@6/ra6pnYGgAAA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu13" class="pu"><h1>JavaScript (ES6), <s> 63 </s> 62 bytes</h1>
<p>Expects and returns a string.</p>

<pre class="lang-javascript prettyprint-override"><code>f=s=&gt;s==(S=s.replace(/(.)(.*)\1/,(_,A,B)=&gt;(s=A,B)))?s:s+f(S)+s
</code></pre>
<p><a href="https://tio.run/##ZU9BTgMxDLzvK6w9NA5dUnFtla1A4gU9lgpZaRZabZNVHHpB/ACJC0f4B@/pB3jC4tWWC9iW5fHYHnlPR2KXdl2@DHHr@76xbGu2FleWTfJdS87jDI1Gc6HvrmYV3lfX1Y22NbIdCq2XPOdpgys95X6xLgDKQIG4rIbSRRfDU5YYMXUxU44jOFAQgeBkvO0kHUjsvCdwKx6cHxvDzcHPZwJRKItNYZqYbsk9IoOt4Vm41mdIYKFB1gvBos@x9aaND5gqWBtj0kZeO/rEHrXZx11ApTRYK3uTye8Ex5T/0APD/5klqO@vt9PHu2QFc1Cnz1cl2i@6/wE" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Commented</h3>
<pre class="lang-javascript prettyprint-override"><code>f =              // f is a recursive function
s =&gt;             // taking the input string s
s == (           // test whether s is unchanged
  S = s.replace( // when turned into the reduced string S
                 // obtained by looking in s for:
    /(.)(.*)\1/, //   a character A, followed by some string B
                 //   (which may be empty), followed by A
    (_, A, B) =&gt; //   if found,
      (s = A, B) //   copy A into s and replace the match with B
  )              //   (i.e. both instances of A are removed)
) ?              // if S is equal to s:
  s              //   we're left with either an empty string or a
                 //   single character; either way, this ends up
                 //   in the middle of the output
:                // else:
  s + f(S) + s   //   append s, followed by the result of a
                 //   recursive call with S, followed by s again
</code></pre>
</div>
<div id="pu14" class="pu"><h1><a href="https://github.com/m-ender/alice" rel="nofollow noreferrer">Alice</a>, 19 bytes</h1>
<pre><code>/@P?w$.R/
\IO&gt;K.-!\
</code></pre>
<p><a href="https://tio.run/##S8zJTE79/1/fIcC@XEUvSJ8rxtPfzltPVzHm///EgvySxJJ8AA" rel="nofollow noreferrer" title="Alice – Try It Online">Try it online!</a></p>
<pre><code>/IP&gt;w..!R-$K?O@      Full program
/                    Switch to ordinal mode
 IP                  Read the input and generate all the possible permutations
   &gt;w     $K         For each permutation
      .!             Store a copy of the permutation on the tape
     .  R            Reverse the permutation
         -           Subtract the reversed permutation from the permutation (leaving &quot;&quot; if it is a palindrome, exiting the loop)
            ?O@      Print the tape
</code></pre>
</div>
<div id="pu15" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, 33 bytes</h1>
<pre><code>Select[PalindromeQ]@*Permutations
</code></pre>
<p><a href="https://tio.run/##DcoxCoAwDEDRq0hH7yAUvEDFURxCTWmhaSSN548Z/vDhEWhFAm0ZrGx2YsesV4LexiNMeNxxTSj0qRse05K0oUtcirdXEMiKMn0CvOyIg/0" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
<p>-1 byte thanks to att</p>
</div>
<div id="pu16" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 72 bytes</h1>

<pre class="lang-python prettyprint-override"><code>*r,=s={''}
for c in input():s^={c};r+={c}-s
print(*r,*s,*r[::-1],sep=&quot;&quot;)
</code></pre>
<p><a href="https://tio.run/##HU2xbgMxCN35CstL7q6XIermymO6ZslWtRIlVDn1gi3sUxNF@fYL7nsPEKAH@VbPSV5XSid20Xnv10HHWOJ9s3nAT1JHbhJTXmrXh/IV7/R405dWtgWyTlI7cwxlHPQjhO3ucyyco/f9ascA/s7TzO6oCwdwhqq34PjK1LWX/f@Mr8S5uv3hfa@aNLhvZfxdBQULUKIkSzUB5lSxJrig5BmFbD9nSxc0QGtPRiGGZm0ECxR4Ag" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
<p>Saved 2 bytes by <a href="https://codegolf.stackexchange.com/users/97857/pxeger">pxeger</a> and <a href="https://codegolf.stackexchange.com/users/20260/xnor">xnor</a>. It could be <a href="https://tio.run/##HU2xbsNACN35CuTJjpUh6naVx3TN0s1yJEqoYtXhTtxZTRTl212u7z1APASkR7lGfds4XgQHbJpms2GcIA/Pnb3gOxoyzupKa2m7kM/Dk1/v1teyz5Bs1tJaP@7y1NsYwv4wdZufAfi9zovgp60SAB3FHgHlLtzWZ92/J3eWVPB4@jiaRQv4ZUI/m5JSBo4cdS0uoBQLlQg30rSQss@X5OlGDqjtxaksUFcrwYP0Dw" rel="nofollow noreferrer">66 bytes</a> as xnor pointed out if output as list of characters.</p>
<p>It is <span class="math-container">\$O(n)\$</span>.</p>
</div>
<div id="pu17" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 24 bytes</h1>
<pre><code>≔Φθ﹪№…θκι²ηηΦΦθ﹪№θι²¬κ⮌η
</code></pre>
<p><a href="https://tio.run/##S85ILErOT8z5/9@xuDgzPU/DLTOnJLVIo1BHwTc/pTQnX8M5vzSvRMO5Mjkn1TkjvwAkk62po5AJxEaaQCJD05oroCgTqAbBghqCw6xCJN1@@SUa2ZqacJ1BqWWpRcWpQLM0rf//T0ksKkr8r1uWAwA" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>≔Φθ﹪№…θκι²ηη
</code></pre>
<p>Using my code from <a href="https://codegolf.stackexchange.com/q/250213">Generate an arbitrary half of a string</a>, extract half (rounded down) of the characters from the string, but also save it in a variable.</p>
<pre><code>ΦΦθ﹪№θι²¬κ
</code></pre>
<p>If there was a character that appeared an odd number of times then output it. (Now if only <code>Maximum(&quot;&quot;)</code> returned the empty string...)</p>
<pre><code>⮌η
</code></pre>
<p>Output the reverse of the half string.</p>
</div>
<div id="pu18" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language" rel="nofollow noreferrer">Retina</a>, 35 bytes</h1>
<pre><code>O`.
|&quot;&quot;L^`((.)\2)*.?
$
$^$`
(.).
$1
</code></pre>
<p><a href="https://tio.run/##FUtBCoQwELvnGdKFuoeCfmCPexH8wCIN1YOg01Lrzb93p8kkkAzJW9mFQ33Zr6@zd3i6blq8ta7/jf3bfWBgFuOhhYMZahUKL4QYotxFD0yxsESclHRQgv6PpHZSgRZXpYQNbdoIFQUrc@Yf" rel="nofollow noreferrer" title="Retina – Try It Online">Try it online!</a> Link includes test cases. Explanation: Based on @Jonah's J solution.</p>
<pre><code>O`.
</code></pre>
<p>Sort the characters into order.</p>
<pre><code>|&quot;&quot;L^`((.)\2)*.?
</code></pre>
<p>If there's an odd character, split the string after that point and exchange (<code>^</code>) and join (<code>|&quot;&quot;</code>) the two halves. (There's also an empty string in the results but obviously it doesn't have any effect.)</p>
<pre><code>$
$^$`
</code></pre>
<p>Append the reverse of the string.</p>
<pre><code>(.).
$1
</code></pre>
<p>Drop every other character.</p>
</div>
<div id="pu19" class="pu"><h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, 21 bytes</h1>
<pre><code>(,~`,/@/:2|1#.e.)@/:~
</code></pre>
<p><a href="https://tio.run/##y/qvpKeepmBrpaCuoKNgoGAFxLp6Cs5BPm7/NXTqEnT0HfStjGoMlfVS9TSBzLr/mlypyRn5CmkK6sn5yfl5pSVApA4Xy0vMSyxGcBML8ksSS/JR5UEQSSQvMTFR/T8A" rel="nofollow noreferrer" title="J – Try It Online">Try it online!</a></p>
<p>A non brute force approach which runs in n*log(n) time.</p>
<ul>
<li><code>/:~</code> Sort.  This ensures that like elements are grouped together.</li>
<li><code>/:2|1#.e.</code> Then sort by number of occurrences, modded by 2.  This puts any items with an odd number of elements at the end of the array, while keeping like elements together.</li>
<li><code>,~`,/@</code> Reduce that from the right by alternately appending and prepending elements.  The upshot is that we start with the middle element, and then build outward by adding pairs of elements to opposite sides.</li>
</ul>
</div>
<div id="pu20" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, 4 bytes</h1>
<pre><code>Ṗ'Ṙ=
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/#WyIiLCIiLCLhuZYn4bmYPSIsIiIsImFwb3RhdG8iXQ==" rel="nofollow noreferrer">Try it Online!</a> Outputs all possibilities with duplicates. Add <code>;U</code> to remove them. Takes permutations and only keeps those that are equal after reversal.</p>
</div>
<div id="pu21" class="pu"><h1><a href="https://github.com/molarmanful/lin" rel="nofollow noreferrer">lin</a>, 19 bytes</h1>
<pre><code>`perm&quot;.+ `rev `=&quot;`?
</code></pre>
<p><a href="https://replit.com/@molarmanful/try-lin" rel="nofollow noreferrer">Try it here!</a></p>
<p>For testing purposes (use <code>-i</code> flag if running locally):</p>
<pre><code>&quot;nanas&quot; ; `_
`perm&quot;.+ `rev `=&quot;`?
</code></pre>
<h2>Explanation</h2>
<p>Prettified code:</p>
<pre><code>`perm (.+ `rev `= ) `?
</code></pre>
<ul>
<li><code>`perm</code> permutations</li>
<li><code>(...) `?</code> find first...
<ul>
<li><code>.+ `rev `=</code> palindrome</li>
</ul>
</li>
</ul>
</div>
<div id="pu22" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 41 bytes</h1>
<pre>-&gt;a{a.permutation.select{_1==_1.reverse}}</pre>
<p><a href="https://ato.pxeger.com/run?1=RU9bCsJADPzvKcoKomAX-idCvUgRiWuKFc2WfQhSehJ_iuhhPIK3MdGqJJBkJjMhl5uLm3N_rYp7DFU2f06zJbSgG3THGCDUlrTHA5rQrvOiWOfa4Qmdx64bBI8yUQQEXs3SUbZMefBAKlHGGksxcH6Z9xwiWcM0NJb97ZfjVgDRsdmWgwz-hAIhQyBKuSbxP0gggJhKpwbH906y0ghm1zYx-LQq-QGzA-dX-gjNZLzY25qmuqqdD8NDff-pLw" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Inputs and outputs array of chars. Output contains all answers with duplicates, but test suite prints only the first one, so that it doesn't flood the output.</p>
</div>
<div id="pu23" class="pu"><h1><a href="https://www.python.org" rel="noreferrer">Python</a>, 67 bytes</h1>
<pre>lambda x:(s:=sorted(x,key=lambda e:(x.count(e)%2,e)))[1::2]+s[::-2]</pre>
<p><a href="https://ato.pxeger.com/run?1=PU9NqsJADF7bUwyCOINVsKvHwKw8hnYRpynP99rM0EmhnsVNQfQeHsPbWNvREPLzfeFLcrn7M_866q-lOdxaLtc_z10F9bEA0WkZtAmuYSxkl_7j2UQGtew21rXEEtUiS1Eptd9qneWrsNd6neVR6lFgKRgDSwsBlU5mDYa2YmFEOUHJzDenQWe53Py5E8mJV6n4DJpYvXW3eSriPXHuzUdklFNJMq6bW2cdtTz4XEUIvGNg9-1rIF8BWSCo_BBqGOzLEo3d9EjfT_kF" rel="noreferrer">Attempt This Online!</a></p>
<p>Port of <a href="https://codegolf.stackexchange.com/a/250289/85334">Jonah's excellent J solution</a>.</p>
</div>
<div id="pu24" class="pu"><h1><a href="https://github.com/JCumin/Brachylog" rel="noreferrer">Brachylog</a>, 3 bytes</h1>
<pre><code>p.↔
</code></pre>
<p><a href="https://tio.run/##SypKTM6ozMlPN/r/v0DvUduU//@VkvOT8/NKS4BI6X8UAA" rel="noreferrer" title="Brachylog – Try It Online">Try it online!</a></p>
<p><a href="https://tio.run/##SypKTM6ozMlPN/r/qG3Do6bGh9sW/C/Qe9Q25f9/pbzEvMRipf9RAA" rel="noreferrer">Also acts as a generator for all possible outputs</a>.</p>
<h3>Explanation</h3>
<pre><code>p.         The output is a permutation of the input
 .↔        The output reversed is itself
</code></pre>
</div>
<div id="pu25" class="pu"><h1><a href="https://www.informatik.uni-kiel.de/%7Epakcs/" rel="nofollow noreferrer">Curry (PAKCS)</a>, 41 bytes</h1>
<pre><code>f a@([]?[_])=a
f(a:b++a:c)=a:f(b++c)++[a]
</code></pre>
<p><a href="https://tio.run/##Sy4tKqrULUjMTi7@/z9NIdFBIzrWPjo@VtM2kStNI9EqSVs70SoZyLNK0wCykzW1taMTY//nJmbmKdgqpCkoJecn5@eVlgCR0n8A" rel="nofollow noreferrer" title="Curry (PAKCS) – Try It Online">Try it online!</a></p>
<p>This may returns multiple results, with duplicates, but not necessarily all of them. If this is not allowed, you can add the flag <code>:set +first</code> to print only the first result: <a href="https://tio.run/##DcdBCoAgEEbhfaeQVsbQBYSoe4jE39REVBJaiy7fJG/zPX5SetsLO2dVMRisD70fQ9OhEgs3EcFxOSe2mBsij6Antmg6I6ZmRMylyEutH8uBNavLy60kW8r3Dw" rel="nofollow noreferrer" title="Curry (PAKCS) – Try It Online">Try it online!</a>.</p>
</div>
<div id="pu26" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 120 bytes</h1>
<pre>lambda a,j=&quot;&quot;.join:[C:=Counter(a),x:=j(C[c]//2*c for c in C)][1]+j(C[c]%2*c for c in C)+x[::-1]
from collections import*</pre>
<p><a href="https://ato.pxeger.com/run?1=XY1RCsIwEET_PUUoCK1tLfolgX71GLXCGg2mJLshbqGexZ-C6J28jYWKUIdlBt4szP3lb3whHB663D871vnu3VtwxxMIyNoyitYtGZR1JcuKOuRziCHJelm2cVWrpii2KyU0BaGEQVElTb1p0qlb_lVpX0uZb5qFDuSEImvPig3hVRjnKfDqu3_wwSDHOo4UKcKOx4uSZPHD4ImBacYcoLeAChCsH83BqNkH4kSmlWGY8gM" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>There's probably a much shorter way to do this in <span class="math-container">\$ O(n!n) \$</span> time or something silly like that, but this is linear I think.</p>
<h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 94 bytes</h1>
<pre>lambda a,j=&quot;&quot;.join:(x:=j(a.count(c)//2*c for c in{*a}))+j(a.count(c)%2*c for c in{*a})+x[::-1]</pre>
<p><a href="https://ato.pxeger.com/run?1=ZY1bCsIwEEX_XUUICElrW_RLAlmJDxhHgi3tTCgpVMSV-FMQ3ZO7MVAUi8MwF84cuLenP4cT03B3dvvogsvWr30NzeEIAhaVlTKvuCSjemMrBTlyR0GhLopVgsJxK1CUdEngqnX6K8z__mm_MSZb7j4tvi2j6ZRERqYuxJVaz74YPAcIPGENkK-BEAhqH08DcSYG0UjGlmEY8w0" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>A little shorter, but runs in <span class="math-container">\$ O(n^2) \$</span> time.</p>
</div>
<div id="pu27" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="noreferrer">05AB1E</a>, 4 bytes</h1>
<pre><code>œʒÂQ
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f//6ORTkw43Bf7/n1iQX5JYkg8A" rel="noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>
<h1>Explanation</h1>
<pre><code>œ          all permutations of the (implicit) input
ʒ          only keep those such that
 Â         push x, reversed(x)
 Q         they are equal
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/250283/">250283</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




