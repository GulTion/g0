<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::111613</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>005</td><td>Thunno 2 +</td><td>230815T191334Z</td><td><a href="https://codegolf.stackexchange.com/questions/111613/pick-a-random-number-between-0-and-n-using-a-constant-source-of-randomness/264216#264216">The Thon</a></td></tr>
<tr d-ix="1"><td>005</td><td>CBLnot COBOL</td><td>210605T140913Z</td><td><a href="https://codegolf.stackexchange.com/questions/111613/pick-a-random-number-between-0-and-n-using-a-constant-source-of-randomness/229042#229042">smarnav</a></td></tr>
<tr d-ix="2"><td>369</td><td>MMIX</td><td>210605T205332Z</td><td><a href="https://codegolf.stackexchange.com/questions/111613/pick-a-random-number-between-0-and-n-using-a-constant-source-of-randomness/229076#229076">NoLonger</a></td></tr>
<tr d-ix="3"><td>051</td><td>Python 3</td><td>210605T163101Z</td><td><a href="https://codegolf.stackexchange.com/questions/111613/pick-a-random-number-between-0-and-n-using-a-constant-source-of-randomness/229048#229048">pxeger</a></td></tr>
<tr d-ix="4"><td>051</td><td>Python 3</td><td>180711T022223Z</td><td><a href="https://codegolf.stackexchange.com/questions/111613/pick-a-random-number-between-0-and-n-using-a-constant-source-of-randomness/168391#168391">The Matt</a></td></tr>
<tr d-ix="5"><td>059</td><td>JDK 9 on jshell</td><td>170301T233529Z</td><td><a href="https://codegolf.stackexchange.com/questions/111613/pick-a-random-number-between-0-and-n-using-a-constant-source-of-randomness/111848#111848">Pete Ter</a></td></tr>
<tr d-ix="6"><td>062</td><td>Java 8</td><td>170228T110530Z</td><td><a href="https://codegolf.stackexchange.com/questions/111613/pick-a-random-number-between-0-and-n-using-a-constant-source-of-randomness/111625#111625">Kevin Cr</a></td></tr>
<tr d-ix="7"><td>016</td><td>Braingolf</td><td>170809T133912Z</td><td><a href="https://codegolf.stackexchange.com/questions/111613/pick-a-random-number-between-0-and-n-using-a-constant-source-of-randomness/138226#138226">Mayube</a></td></tr>
<tr d-ix="8"><td>037</td><td>R</td><td>170714T182524Z</td><td><a href="https://codegolf.stackexchange.com/questions/111613/pick-a-random-number-between-0-and-n-using-a-constant-source-of-randomness/132449#132449">Giuseppe</a></td></tr>
<tr d-ix="9"><td>071</td><td>Golang</td><td>170301T003252Z</td><td><a href="https://codegolf.stackexchange.com/questions/111613/pick-a-random-number-between-0-and-n-using-a-constant-source-of-randomness/111743#111743">Riking</a></td></tr>
<tr d-ix="10"><td>6361</td><td>Go</td><td>170302T151010Z</td><td><a href="https://codegolf.stackexchange.com/questions/111613/pick-a-random-number-between-0-and-n-using-a-constant-source-of-randomness/111904#111904">Kristoff</a></td></tr>
<tr d-ix="11"><td>009</td><td>Jelly</td><td>170228T103301Z</td><td><a href="https://codegolf.stackexchange.com/questions/111613/pick-a-random-number-between-0-and-n-using-a-constant-source-of-randomness/111618#111618">Jonathan</a></td></tr>
<tr d-ix="12"><td>006</td><td>Jelly</td><td>170228T140812Z</td><td><a href="https://codegolf.stackexchange.com/questions/111613/pick-a-random-number-between-0-and-n-using-a-constant-source-of-randomness/111656#111656">Dennis</a></td></tr>
<tr d-ix="13"><td>061</td><td>Python</td><td>170228T120539Z</td><td><a href="https://codegolf.stackexchange.com/questions/111613/pick-a-random-number-between-0-and-n-using-a-constant-source-of-randomness/111639#111639">iwaseate</a></td></tr>
<tr d-ix="14"><td>029</td><td>Mathematica</td><td>170228T102336Z</td><td><a href="https://codegolf.stackexchange.com/questions/111613/pick-a-random-number-between-0-and-n-using-a-constant-source-of-randomness/111615#111615">Martin E</a></td></tr>
<tr d-ix="15"><td>026</td><td>Ohm</td><td>170301T101735Z</td><td><a href="https://codegolf.stackexchange.com/questions/111613/pick-a-random-number-between-0-and-n-using-a-constant-source-of-randomness/111776#111776">Roman Gr</a></td></tr>
<tr d-ix="16"><td>029</td><td>Ruby</td><td>170228T124319Z</td><td><a href="https://codegolf.stackexchange.com/questions/111613/pick-a-random-number-between-0-and-n-using-a-constant-source-of-randomness/111646#111646">G B</a></td></tr>
<tr d-ix="17"><td>038</td><td>SmileBASIC</td><td>170228T150038Z</td><td><a href="https://codegolf.stackexchange.com/questions/111613/pick-a-random-number-between-0-and-n-using-a-constant-source-of-randomness/111661#111661">12Me21</a></td></tr>
<tr d-ix="18"><td>012</td><td>MATL</td><td>170228T134811Z</td><td><a href="https://codegolf.stackexchange.com/questions/111613/pick-a-random-number-between-0-and-n-using-a-constant-source-of-randomness/111654#111654">Luis Men</a></td></tr>
<tr d-ix="19"><td>070</td><td>Haskell</td><td>170228T153232Z</td><td><a href="https://codegolf.stackexchange.com/questions/111613/pick-a-random-number-between-0-and-n-using-a-constant-source-of-randomness/111667#111667">colossus</a></td></tr>
<tr d-ix="20"><td>069</td><td>Python 2</td><td>170228T132430Z</td><td><a href="https://codegolf.stackexchange.com/questions/111613/pick-a-random-number-between-0-and-n-using-a-constant-source-of-randomness/111650#111650">Jonathan</a></td></tr>
<tr d-ix="21"><td>044</td><td>Bash +coreutils</td><td>170228T152053Z</td><td><a href="https://codegolf.stackexchange.com/questions/111613/pick-a-random-number-between-0-and-n-using-a-constant-source-of-randomness/111665#111665">zeppelin</a></td></tr>
<tr d-ix="22"><td>010</td><td>x86 machines with rdrand instruction</td><td>170228T151859Z</td><td><a href="https://codegolf.stackexchange.com/questions/111613/pick-a-random-number-between-0-and-n-using-a-constant-source-of-randomness/111663#111663">Margaret</a></td></tr>
<tr d-ix="23"><td>020</td><td>Bash + coreutils</td><td>170228T112821Z</td><td><a href="https://codegolf.stackexchange.com/questions/111613/pick-a-random-number-between-0-and-n-using-a-constant-source-of-randomness/111630#111630">zeppelin</a></td></tr>
<tr d-ix="24"><td>061</td><td>Python 2</td><td>170228T145824Z</td><td><a href="https://codegolf.stackexchange.com/questions/111613/pick-a-random-number-between-0-and-n-using-a-constant-source-of-randomness/111660#111660">Dennis</a></td></tr>
<tr d-ix="25"><td>089</td><td>Python 2</td><td>170228T110044Z</td><td><a href="https://codegolf.stackexchange.com/questions/111613/pick-a-random-number-between-0-and-n-using-a-constant-source-of-randomness/111624#111624">Yytsi</a></td></tr>
<tr d-ix="26"><td>054</td><td>JavaScript ES6</td><td>170228T113046Z</td><td><a href="https://codegolf.stackexchange.com/questions/111613/pick-a-random-number-between-0-and-n-using-a-constant-source-of-randomness/111631#111631">Arnauld</a></td></tr>
<tr d-ix="27"><td>063</td><td>Labyrinth</td><td>170228T143639Z</td><td><a href="https://codegolf.stackexchange.com/questions/111613/pick-a-random-number-between-0-and-n-using-a-constant-source-of-randomness/111658#111658">Sp3000</a></td></tr>
<tr d-ix="28"><td>035</td><td>PowerShell</td><td>170228T134204Z</td><td><a href="https://codegolf.stackexchange.com/questions/111613/pick-a-random-number-between-0-and-n-using-a-constant-source-of-randomness/111653#111653">AdmBorkB</a></td></tr>
<tr d-ix="29"><td>030</td><td>PHP</td><td>170228T122221Z</td><td><a href="https://codegolf.stackexchange.com/questions/111613/pick-a-random-number-between-0-and-n-using-a-constant-source-of-randomness/111642#111642">Titus</a></td></tr>
<tr d-ix="30"><td>057</td><td>C#</td><td>170228T121908Z</td><td><a href="https://codegolf.stackexchange.com/questions/111613/pick-a-random-number-between-0-and-n-using-a-constant-source-of-randomness/111641#111641">adrianmp</a></td></tr>
<tr d-ix="31"><td>038</td><td>Prolog SWI</td><td>170228T130642Z</td><td><a href="https://codegolf.stackexchange.com/questions/111613/pick-a-random-number-between-0-and-n-using-a-constant-source-of-randomness/111648#111648">Emigna</a></td></tr>
<tr d-ix="32"><td>011</td><td>05AB1E</td><td>170228T122506Z</td><td><a href="https://codegolf.stackexchange.com/questions/111613/pick-a-random-number-between-0-and-n-using-a-constant-source-of-randomness/111643#111643">Emigna</a></td></tr>
<tr d-ix="33"><td>029</td><td>Perl 6</td><td>170228T115050Z</td><td><a href="https://codegolf.stackexchange.com/questions/111613/pick-a-random-number-between-0-and-n-using-a-constant-source-of-randomness/111635#111635">smls</a></td></tr>
<tr d-ix="34"><td>009</td><td>Brachylog</td><td>170228T103846Z</td><td><a href="https://codegolf.stackexchange.com/questions/111613/pick-a-random-number-between-0-and-n-using-a-constant-source-of-randomness/111619#111619">Fatalize</a></td></tr>
<tr d-ix="35"><td>064</td><td>Batch</td><td>170228T102219Z</td><td><a href="https://codegolf.stackexchange.com/questions/111613/pick-a-random-number-between-0-and-n-using-a-constant-source-of-randomness/111614#111614">Neil</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/Thunno/Thunno2" rel="nofollow noreferrer">Thunno 2</a> <code>+</code>, 5 <a href="https://github.com/Thunno/Thunno2/blob/main/docs/codepage.md" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>ƓwwɼŒ
</code></pre>
<p><a href="https://Not-Thonnu.github.io/run#aGVhZGVyPSZjb2RlPSVDNiU5M3d3JUM5JUJDJUM1JTkyJmZvb3Rlcj0maW5wdXQ9MTAmZmxhZ3M9JTJC" rel="nofollow noreferrer">Try it online!</a></p>
<p>Port of Dennis's Jelly answer. Just like that answer, this won't finish for a very long time since <span class="math-container">\$(16!)!\$</span> is so big.</p>
<h4>Explanation</h4>
<pre class="lang-python prettyprint-override"><code>ƓwwɼŒ  # Implicit input
       # Increment implicitly
Ɠ      # Push 16 to the stack
 ww    # Take the factorial twice
   ɼ   # Random item from [1..that]
    Œ  # Modulo by (input + 1)
       # Implicit output
</code></pre>
</div>
<div id="pu1" class="pu"><h1>CBL(not COBOL), <strike>4</strike> 5 bytes</h1>
<p>CBL is a 2d array-based language that I am working on. It has no interpreter (yet), but I plan to make one soon. The code that I have created may not be up to date with the current progress on the language, but I will try. I will also explain the code.</p>
<p>CBL has gone through some major changes recently. This is the updated version.</p>
<p><code>’0’ſr</code></p>
<p>A breakdown of this is as follows:</p>
<pre><code>'0'ſr

'0'   «--numeric literal 0
   ſ  «--previous value (not the 0. it is the value from the previous link
    r «--random function takes the first two as input
</code></pre>
<p>This should solve the problem with rule no.2</p>
<p>As long as the interpreter uses uniform randomness (which it will), this should count. If you have any questions or suggestions, leave a comment.</p>
</div>
<div id="pu2" class="pu"><h1>MMIX, 36 bytes (9 instrs)</h1>
<p>Obvious rejection sampling method (Java version).
Assumes <code>TRAP 82,78,71</code> gets a randomly generated <code>uint64_t</code> from the OS.</p>
<p>(jxd)</p>
<pre><code>00000000: 36010000 f7010000 00524e47 1e02ff00  6¢¡¡ẋ¢¡¡¡RNGœ£”¡
00000010: fe020006 26ffff02 32ffff01 45fffffb  “£¡©&amp;””£2””¢E””»
00000020: f8030000                             ẏ¤¡¡
</code></pre>
<p>Disassembly:</p>
<pre><code>rndr    NEGU $1,0,$0        // y = 2^64 - n
        PUT  rD,0
0H      TRAP 82,78,71       // loop: tmp = sysrand()
        DIVU $2,$255,$0
        GET  $2,rR          // z = tmp % n
        SUBU $255,$255,$2   // tmp -= z
        CMPU $255,$255,$1
        BP   $255,0B        // if(tmp &gt; y) goto loop
        POP  3,0            // return n
</code></pre>
<p>Bonus: version from <a href="https://arxiv.org/pdf/1805.10941.pdf" rel="nofollow noreferrer">https://arxiv.org/pdf/1805.10941.pdf</a> (except that we always calculate the remainder):</p>
<pre><code>00000000: f7010001 e3010000 1e010100 fe010006  ẋ¢¡¢ẉ¢¡¡œ¢¢¡“¢¡©
00000010: 00524e47 1aff00ff 32ffff01 41fffffd  ¡RNGȷ”¡”2””¢A””’
00000020: fe000003 f8010000                    “¡¡¤ẏ¢¡¡
</code></pre>
<pre><code>rndr    PUT  rD,1
        SET  $1,0
        DIVU $1,$1,$0
        GET  $1,rR          // r = 2^64 % n
0H      TRAP 82,78,71       // loop: tmp = sysrand()
        MULU $255,$0,$255   // rH:tmp = tmp * n
        CMPU $255,$255,$1
        BN   $255,0B        // if(tmp &lt; r) goto loop
        GET  $0,rH
        POP  1,0            // return rH
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 51 bytes</h1>
<pre class="lang-python prettyprint-override"><code>lambda n:randrange(1&lt;&lt;31)*n&gt;&gt;31;from random import*
</code></pre>
<p><a href="https://ato.pxeger.com/run?0=ZVI9T8MwEJUYw584YCCpWpRQPqoWWJjYGZEq1760Fo4d7AuImV_BxgJ_hxl-DRcnopFqyb7hvXfP7-z3r_qVNs5-lnAND58NlZPZz9SIaqUE2LkXVvFeY1pcXU2LbGRvbqbFovSughbjoqvaeRp10t-9_YgFEqQDaRl6HOpACp-TiEpnDErSzv7Dt66xhD5JjoAwEKBaI0gRMKm9tpT2eFqmRQal87AEbaG_Wp5lWZIoLKM2NbrSNAbNfBFNsnkCvLpOu2gEJeffmkTSjtFAw36t6gjuN5pDBBDGwB14rLBaoYeYs3odDgJVI6P6hInK2WOCR-teYMObHIc1sjGCEATUk2dhGuwtGAyRtBHEB4Lijl6vmrZZ610K7RdQIhr2RWwFQqmOr-3BIPzh9xtcH47710jlSfQJaTvAAatCEhNu9dSglRrDnCVKy-0zDIU8ijj24nR6dn5xORtDkefLPM-z7k98dOUP" rel="nofollow noreferrer">Attempt this online!</a> Includes a test suite.</p>
<p>Here is a proof that this is fair: <a href="https://arxiv.org/abs/1805.10941" rel="nofollow noreferrer">https://arxiv.org/abs/1805.10941</a>. It's also much faster than a typical modulo reduction because it's just a multiplication and a shift. (although this isn't as noticeable in Python...)</p>
<p>Uses an interesting approach, is O(1), and is the shortest Python answer yet!</p>
</div>
<div id="pu4" class="pu"><h1>Python 3, 51 bytes</h1>

<p>Here is a python solution with an unorthodox random source.</p>

<pre><code>print(list(set(map(str,range(int(input())+1))))[0])
</code></pre>

<p><a href="https://tio.run/##K6gsycjPM/7/v6AoM69EIyezuESjOLVEIzexQKO4pEinKDEvPVUDJJWZV1BaoqGpqW2oCQTRBrGa//8bGhgAAA" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>

<p>So to break this down.</p>

<pre><code>int(input())+1
</code></pre>

<p>Gets the input number, and adds <code>1</code> to it.</p>

<pre><code>set(range(...))
</code></pre>

<p>Creates the set <code>{0, 1, 2, 3, 4, ... n}</code> for all possible results.</p>

<pre><code>print(list(...)[0])
</code></pre>

<p>Takes the set, converts it to list, and grabs the first item.</p>

<p>This works because in Python 3, the order of <code>set()</code> is established by <a href="https://docs.python.org/3/using/cmdline.html#envvar-PYTHONHASHSEED" rel="nofollow noreferrer">PYTHONHASHSEED</a> (<a href="https://stackoverflow.com/q/32538764/">can't be obtained</a> but is established on script execution).</p>

<p>Admittedly, I am guessing that this is a uniform distribution, as the <code>hash()</code> value is randomly assigned and I am looking at randomly picking the value with a specific <code>hash()</code>, rather then just returning the <code>hash(input())</code> itself.</p>

<p>If anyone knows whether this is a uniform distribution, or how I could test that, please comment.</p>
</div>
<div id="pu5" class="pu"><h1>JDK 9 on jshell, <s>75</s> 59 bytes</h1>

<pre><code>n-&gt;(new Random()).ints(0,1&lt;&lt;30).dropWhile(x-&gt;x&gt;n).findAny()
</code></pre>

<h3>Usage</h3>

<pre><code>((IntFunction)(n-&gt;(new Random()).ints(0,1&lt;&lt;30).dropWhile(x-&gt;x&gt;n).findAny())).apply(&lt;n&gt;)
</code></pre>

<ul>
<li>-16 bytes: Thanks Jakob!</li>
<li>Assumes that we consider jshell to be a valid runtime environment.</li>
<li>jshell itself, as a runtime environment, doesn't require explicit imports for core libraries and doesn't require semicolons.</li>
<li>Returns an <code>OptionalInt</code>. Rules don't specify that return type must be a primitive and I'm considering an <code>OptionalInt</code> to be a valid representation of the result.</li>
</ul>
</div>
<div id="pu6" class="pu"><h1>Java 8, <s>84</s> <s>83</s> <s>80</s> <s>71</s> 62 bytes</h1>

<pre class="lang-java prettyprint-override"><code>n-&gt;{int r;for(;(r=(int)(Math.random()*(1&lt;&lt;30)))&gt;n;);return r;}
</code></pre>
<p>-1 byte thanks to <em>@OliverGrégoire</em>.<br />
-3 bytes thanks to <em>@Jakob</em>.<br />
-9 bytes converting Java 7 to Java 8.<br />
-9 bytes by changing <code>java.util.Random().nextInt(1&lt;&lt;30)</code> to <code>(int)(Math.random()*(1&lt;&lt;30))</code>.</p>
<p><strong>Explanation:</strong></p>
<p><a href="https://tio.run/##NY7NCsJADITvPkWOiWCpeFz1DfTiUUTidtXVNlu2qSDSZ6@7/hwykMlk@G784Flondyq@2hr7jrYsJfXBMCLunhm62Cb148BFrMKmeQMkySdsnoLWxBYwSiz9SsHojmHiAbjKucJN6zXIrJUoUGa4ny5XJREtBZDJjrto6SXYTS5se1PdWr8FT@Cr6BJSLjT6OWyPwDTl2f37NQ1Rei1aNNJa0EpLM6PZVn@h36kw/gG" rel="nofollow noreferrer">Try it here.</a></p>
<pre class="lang-java prettyprint-override"><code>n-&gt;{        // Method with integer parameter and integer return-type
  int r;    //  Result-integer
  for(;(r=(int)(Math.random()*(1&lt;&lt;30)))&gt;n;);
            //  Loop as long as the random integer is larger than the input
            //  (the random integer is in the range of 0 - 1,073,741,824 (2^30))
  return r; //  Return the random integer that is within specified range
}           // End method
</code></pre>
<p>NOTE: May obviously take very long for small inputs.</p>
<p><strong>Example output:</strong></p>
<pre class="lang-java prettyprint-override"><code>407594936
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/gunnerwolf/braingolf" rel="nofollow noreferrer">Braingolf</a>, 16 bytes</h1>
<pre><code>Uv2.# ,-^r[R&gt;v]R
</code></pre>
<p><a href="https://tio.run/##SypKzMxLz89J@/8/tMxIT1lBRzeuKDrIriw26P///4bmAA" rel="nofollow noreferrer" title="Braingolf – Try It Online">Try it online!</a></p>
<p>Takes longer than 60 seconds on TIO, but will terminate in a finite amount of time</p>
<h2>Explanation</h2>
<pre><code>Uv2.# ,-^r[R&gt;v]R  Implicit input from commandline args
U                 Pop top of stack and push range 0...n
 v                Switch to stack 2
  2.              Push two 2s
    #&lt;space&gt;      Push 32 (codepoint of space)
      ,           Swap top 2 items on stack
       -          Subtract top of stack from 2nd to top
        ^         Raise 2nd to top of stack to top of stack
                  This whole bit makes 2^30 on the 2nd stack
         r        Pops top of stack and pushes a random integer &lt;= to popped item
                  This uses Python3's randrange, between 0 and the popped item
          [...]   While loop runs X times where X is the previously generated random number
           R&gt;     Move top of stack1 to bottom of stack1
             v    Switch back to stack2 for loop counting
               R  Switch back to stack1 for implicit output
                  Implicit output of top of stack
</code></pre>
<p>So in short, this generates range <code>[0...n]</code>, then generates a random number less than or equal (<code>&lt;=</code>) to 2^30, it then rotates the range that number of times, and outputs the top of the stack at the end.</p>
</div>
<div id="pu8" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, 37 bytes</h1>



<pre class="lang-r prettyprint-override"><code>which.min(sample(2^30)[0:scan()+1])-1
</code></pre>

<p>Takes <code>n</code> from stdin. First it generates a random sample of all the integers in the range, then selects the first <code>n+1</code> values, finds the index of the minimum, and then subtracts one, to generate a number between <code>0</code> and <code>n</code>, inclusive. It won't run on TIO because it can't allocate an array of size <code>2^30</code> to sample from.</p>

<p>I'm fairly confident this is uniformly random.</p>

<p><a href="https://tio.run/##K/r/vzwjMzlDLzczT6M4MbcgJ1XDKM7YQDPawKo4OTFPQ1PbMFZT1/C/4X8A" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>
</div>
<div id="pu9" class="pu"><h1>Golang, <s>84</s> <s>78</s> 71 bytes</h1>

<pre><code>import."math/rand"
func R(n int)int{q:=n+1;for;q&gt;=n;q=Int(){};return q}
</code></pre>

<p>Simple rejection sampling.</p>

<p>Note: since the math/rand seed is a constant 1, the caller must seed unless a constant result is desired.</p>

<p><s>Test: <a href="https://play.golang.org/p/FBB4LKXo1r" rel="nofollow noreferrer">https://play.golang.org/p/FBB4LKXo1r</a>  </s>
No longer practically testable on a 64-bit system, since it's returning 64-bit randomness and using rejection testing.</p>

<pre><code>package main

import "fmt"
import "time"

/* solution here *//* end solution */

func main() {
    Seed(time.Now().Unix())
    fmt.Println(R(1073741823))
}
</code></pre>
</div>
<div id="pu10" class="pu"><h1>Go, <del>63</del> 61 bytes</h1>

<pre><code>import."math/rand"
var n=0;func R(){q:=n;for;q&lt;n+1;n=Int(){}}
</code></pre>

<p>Use it like this:</p>

<pre><code>func main() {
    n = 5000
    R()
    print(n)
}
</code></pre>

<p><a href="https://play.golang.org/p/_T9OreOzcE" rel="nofollow noreferrer">Test it live at the go playground</a></p>
</div>
<div id="pu11" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 9 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>⁴!Ẋ’&gt;Ðḟ⁸Ṫ
</code></pre>
<p><strong><a href="https://tio.run/nexus/jelly#AS0A0v//MTDhuorigJk@w5DhuJ/igbjhuar/wrPDhzvCtTMwwqH//zP1bm8tY2FjaGU" rel="nofollow noreferrer">Try it online!</a></strong> - code above wont run on TIO since a range of size 16! must be built first (not to mention the fact that they then need to be shuffled and then filtered!), so this is the same thing on a much smaller scale, repeated 30 times for an input of 3 with a bound of 10.</p>
<h3>How?</h3>
<pre><code>⁴!Ẋ’&gt;Ðḟ⁸Ṫ - Main link: n
⁴         - 16
 !        - factorial: 20922789888000
  Ẋ       - shuffle random: builds a list of the integers 1 through to 16! inclusive and
          - returns a random permutation via Python's random.shuffle (pretty resource hungry)
   ’      - decrement (vectorises - a whole pass of this huge list!)
     Ðḟ   - filter out if: (yep, yet another pass of this huge list!)
    &gt;     -     greater than
       ⁸  -     left argument, n
        Ṫ - tail: return the rightmost remaining entry.
</code></pre>
<p><em>Note:</em> it would be over a thousand time more efficient for the same byte-count if <code>ȷ⁵</code> would do what one would naively expect and return ten to the ten, but that is not the case since the <code>⁵</code> is not evaluated as a literal ten to be used by the number literal <code>ȷ...</code> but rather two separate literals are parsed, <code>ȷ</code> with it's default exponent of three yielding one thousand, and <code>⁵</code> yielding ten.</p>
</div>
<div id="pu12" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="noreferrer">Jelly</a>, <s>7</s> 6 bytes</h1>

<pre><code>⁴!!X%‘
</code></pre>

<p><em>Thanks to @JonathanAllan for golfing off 1 byte!</em></p>

<p>Cannot be run on TIO because <strong>(16!)!</strong> is a <em>huge</em> number.</p>

<h3>How it works</h3>

<pre><code>⁴!!X%‘  Main link. Argument: n

⁴       Set the return value to 16.
 !!     Compute (16!)!.
   X    Pseudo-randomly choose an integer between 1 and (16!)!.
        Since (16!)! is evenly divisible by any k ≤ 2**30, it is evenly divisible
        by n+1.
    %‘  Take the result modulo n+1.
</code></pre>
</div>
<div id="pu13" class="pu"><h1>Python, 61 bytes</h1>

<pre class="lang-python prettyprint-override"><code>from random import*
lambda n,x=2.**30:int(randrange(x)*-~n/x)
</code></pre>

<p>Edit:
Updated to avoid forbidden form</p>

<p>Edit2:
Saved 2 bytes, thanks @<a href="https://codegolf.stackexchange.com/users/53748/jonathan-allan">JonathanAllan</a></p>

<p>Edit3:
Paid 2 bytes for a fully functional solution - thanks again @JonathanAllan</p>

<p>Edit4:
Removed <code>f=</code>, saving 2 bytes</p>

<p>Edit5:
Saved 1 more byte thanks to @<a href="https://codegolf.stackexchange.com/users/53748/jonathan-allan">JonathanAllan</a></p>

<p>Edit6:
Saved 2 more bytes thanks to @<a href="https://codegolf.stackexchange.com/users/53748/jonathan-allan">JonathanAllan</a></p>

<p>By now, git blame would point at me for the bad things, and JonathanAllan for the stuff that helps. </p>

<p>Edit7: 
When it rains, it pours - another 2 bytes</p>

<p>Edit8: 
And another 2 bytes</p>
</div>
<div id="pu14" class="pu"><h2>Mathematica, 29 bytes</h2>

<p><em>Based on <a href="https://codegolf.stackexchange.com/a/111656/8478">Dennis's Jelly answer</a>.</em></p>

<pre><code>RandomInteger[2*^9!-1]~Mod~#&amp;
</code></pre>

<p>I wouldn't recommend actually running this. <code>2e9!</code> is a pretty big number...</p>

<p>It turns out to be shortest to generate a huge number that is divisible by all possible inputs and the map the result to the required range with a simple modulo.</p>

<h3>Rejection Sampling, 34 bytes</h3>

<p>My old approach that led to somewhat more interesting code:</p>

<pre><code>13!//.x_/;x&gt;#:&gt;RandomInteger[13!]&amp;
</code></pre>

<p>Basic rejection sampling. We initialise the output to <strong>13!</strong> (which is larger than the maximum input <strong>2<sup>30</sup></strong>) and then repeatedly replace it with a random integer between <strong>0</strong> and <strong>13!</strong> as long as the value is bigger than the input.</p>
</div>
<div id="pu15" class="pu"><h1>Ohm, 26 bytes</h1>
<pre><code>IΩ
D31º#╬D0[&gt;?D-+∞;,
</code></pre>
<p>Explanation:</p>
<pre><code>IΩ                 ■Main wire
IΩ                 ■Call wire below

D31º#╬D0[&gt;?D-+∞;,  ■&quot;Real main&quot; wire
D                  ■Duplicate input
 31º#╬D            ■Push random_int in [0..2^31] twice
       0[          ■Push input again
         &gt;?    ;   ■If(random_int &gt; input){
           D-+     ■  remove the random_int
              ∞    ■  recursion
               ;   ■}
                ,  ■Print random_int
</code></pre>
</div>
<div id="pu16" class="pu"><h2>Ruby, <s>23 15 23 32</s> 29 bytes</h2>

<pre><code>-&gt;n{1while n&lt;q=rand(2**30);q}
</code></pre>

<h3>How it works:</h3>

<ul>
<li><code>1while [...];</code> executes the statement at least once: <code>1</code> before <code>while</code> acts as a nop</li>
<li>Get a random number in the range 0..2^30-1 (<em>lower than 2^30</em>, as specified)</li>
<li>Repeat if the number is higher than the input parameter (Could take some time when n is small)</li>
</ul>
</div>
<div id="pu17" class="pu"><h1>SmileBASIC, 38 bytes</h1>
<pre><code>INPUT N@L
R=RND(1&lt;&lt;30)ON N&lt;=R GOTO@L?R
</code></pre>
<p>Generates random numbers until it gets one that is smaller than the input.</p>
</div>
<div id="pu18" class="pu"><h1><a href="https://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, 12 bytes</h1>

<p><em>Thanks to <a href="https://codegolf.stackexchange.com/users/42963/admborkbork">@AdmBorkBork</a> and to <a href="https://codegolf.stackexchange.com/users/51939/suever">@Suever</a> for telling me how to disable TIO cache.</em></p>

<pre><code>`30WYrqG&gt;}2M
</code></pre>

<p><a href="https://tio.run/nexus/matl#@59gbBAeWVTobldr5Pv/v6EBFHzNy9dNTkzOSAUA" rel="nofollow noreferrer">Try it online!</a>.</p>

<p>This uses a <a href="https://en.wikipedia.org/wiki/Rejection_sampling" rel="nofollow noreferrer">rejection method</a>: generate a random integer from <code>0</code> to <code>2^30-1</code>, and repeat while it exceeds the input <code>n</code>. This is guaranteed to terminate with probability <code>1</code>, but the average number of iterations is <code>2^30/n</code>, and so it takes very long for <code>n</code> significantly smaller than <code>2^30</code>.</p>

<pre><code>`         % Do...while
  30W     %   Push 2^30
  Yr      %   Random integer from 1 to 2^30
  q       %   Subtract 1
  G&gt;      %   Does it exceed the input? If so: next iteration. Else: exit
}         % Finally (execute right before exiting the loop)
  2M      %   Push the last generated integer
          % End (implicit). Display (implicit)
</code></pre>
</div>
<div id="pu19" class="pu"><h1>Haskell, 70 bytes</h1>

<pre><code>import System.Random
g n=head.filter(&lt;=n).randomRs(0,2^30)&lt;$&gt;getStdGen
</code></pre>

<p>Not a very efficient algorithm but it works. It generates an infinite list of integers (or floats if needed, because of Haskell's type system) bounded by [0,2^30] and takes the first one less than or equal to n. For small n this can take a long time. The random numbers should be uniformly distributed, as specified in the documentation for <a href="https://www.stackage.org/haddock/lts-8.3/random-1.1/System-Random.html#v:randomR" rel="nofollow noreferrer">randomR</a> so all numbers in the interval [0,2^30] should have the same probability (1/(2^30+1)) therefore all the numbers in [0,n] have the same probability.</p>

<p>Alternate Version:</p>

<pre><code>import System.Random
g n=head.filter(&lt;=n).map abs.randoms&lt;$&gt;getStdGen
</code></pre>

<p>This version is terrible but it saves a whole byte. <code>randoms</code> uses an arbitrary range defined by the type to generate an infinite list of numbers. This may include negatives so we need to map it with <code>abs</code> to force them positive (or zero). This is extremely slow for any values of n that aren't absurdly large. <strong>EDIT</strong>: I realized later that this version isn't uniformly distributed because the probability of getting 0 is worse than the other numbers due to the use of <code>abs</code>. To produce some number <code>m</code> the generator could produce <code>m</code> or <code>-m</code> but in the case of 0 only 0 itself will work, therefore its probability is half of the other numbers.</p>
</div>
<div id="pu20" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, <s>72</s> 69 bytes</h1>

<p>-3 bytes thanks to xnor (override the <code>id</code> built-in as a variable)</p>



<pre class="lang-python prettyprint-override"><code>from random import*
n=input()
while id&gt;n:id=randrange(2**30)
print id
</code></pre>

<p><strong><a href="https://tio.run/nexus/python2#@59WlJ@rUJSYlwKkMnML8otKtLjybDPzCkpLNDS5yjMyc1IVMlPs8qwyU2xByoA4PVXDSEvL2ECTq6AoM68EKP3/v6GBgcHXvHzd5MTkjFQA" rel="nofollow noreferrer">Try it online!</a></strong></p>

<p><code>randrange(2**30)</code> produces a pseudo-uniformly distributed number (Mersenne Twister <strong>2<sup>19937-1</sup></strong>) from the range <strong>[0,2<sup>30</sup>)</strong>. Since <code>n</code> is guaranteed to be below <strong>2<sup>30</sup></strong> this can simply be called repeatedly until it is not greater than the input. It will take a long expected time for very low values of <code>n</code>, but usually works within the a  minute even for inputs as low as 50.</p>
</div>
<div id="pu21" class="pu"><h1>Bash (+coreutils), 44 bytes</h1>
<p><a href="https://linux.die.net/man/4/urandom" rel="nofollow noreferrer">/dev/urandom</a> based solution</p>
<pre class="lang-bash prettyprint-override"><code>od -w4 -vtu4&lt;/d*/ur*|awk '($0=$2)&lt;='$1|sed q
</code></pre>
<p>Will read unsigned 32 bit integers from <code>/dev/urandom</code>, and filter them out with <code>awk</code> until it finds one within a given range, then <code>sed q</code> will abort the pipe.</p>
</div>
<div id="pu22" class="pu"><h2>x86 machines with <code>rdrand</code> instruction, 10 bytes</h2>

<pre><code>BITS 64

_try_again:

 rdrand eax
jnc _try_again

 cmp eax, edi
ja _try_again

 ret
</code></pre>

<p>machine code</p>

<pre><code>0FC7F0 73FB 39F8 77F7 C3
</code></pre>

<hr>

<p>The input is in the register <code>rdi</code> and the output in <code>rax</code>.<br>
This respects the <a href="https://software.intel.com/sites/default/files/article/402129/mpx-linux64-abi.pdf" rel="noreferrer">SYS V AMD64 ABI</a> so the code effectively implement a C function </p>

<pre><code>unsigned int foo(unsigned int max); 
</code></pre>

<p>with 32-bit ints.</p>

<p>The instruction <code>rdrand</code> is described by Intel</p>

<blockquote>
  <p><code>RDRAND</code> returns random numbers that are supplied by a cryptographically secure, deterministic random bit generator DRBG. The DRBG is designed to meet the <a href="http://csrc.nist.gov/publications/nistpubs/800-90A/SP800-90A.pdf" rel="noreferrer">NIST SP 800-90A</a> standard.</p>
</blockquote>

<p>Dealing with CSRNG it is implicit that the distribution is uniform, anyway, quoting the NIST SP 800-90A:</p>

<blockquote>
  <p>A random number is an instance of an unbiased random variable,
  that is, the output produced by a <strong>uniformly</strong> distributed random process.</p>
</blockquote>

<hr>

<p>The procedure generates a random number and if it is non-strictly greater than the input it is returned.<br>
Otherwise, the process is reiterated.  </p>

<p>Since <code>eax</code> is 32-bit, <code>rdrand</code> returns a number between 0 and 2<sup>32</sup>-1, so for every <em>n</em> in [0, 2<sup>32</sup>-1] the number of expected iterations is 2<sup>32</sup>/(n+1) which is defined for all <em>n</em> in [0, 2<sup>30</sup>).  </p>
</div>
<div id="pu23" class="pu"><h1>Bash + coreutils, 20 bytes</h1>
<p><strong>Golfed</strong></p>
<p>seq 0 $1|shuf|sed 1q</p>
<blockquote>
<p>shuf - generate random permutations</p>
</blockquote>
<p>Shuf will use the <a href="https://github.com/wertarbyte/coreutils/blob/master/src/shuf.c#L402" rel="nofollow noreferrer">following code</a>: to generate permutations:</p>
<pre class="lang-c prettyprint-override"><code>permutation = randperm_new (randint_source, head_lines, n_lines);
</code></pre>
<p>which ends up in <a href="https://github.com/wertarbyte/coreutils/blob/master/gl/lib/randint.c#L121" rel="nofollow noreferrer"><code>randint_genmax</code></a></p>
<pre class="lang-c prettyprint-override"><code>/* Consume random data from *S to generate a random number in the range
0 .. GENMAX.  */

randint
randint_genmax (struct randint_source *s, randint genmax) 
{
      ...

      randread (source, buf, i);

      /* Increase RANDMAX by appending random bytes to RANDNUM and
         UCHAR_MAX to RANDMAX until RANDMAX is no less than
         GENMAX.  This may lose up to CHAR_BIT bits of information
         if shift_right (RANDINT_MAX) &lt; GENMAX, but it is not
         worth the programming hassle of saving these bits since
         GENMAX is rarely that large in practice.  */
      ...
}
</code></pre>
<p>which, in turn, will <a href="https://github.com/wertarbyte/coreutils/blob/master/gl/lib/randread.c#L317" rel="nofollow noreferrer">read</a>  a few bytes of the random data from the low-level source of randomness:</p>
<pre class="lang-c prettyprint-override"><code>/* Consume random data from *S to generate a random buffer BUF of size
   SIZE.  */

void
randread (struct randread_source *s, void *buf, size_t size)
{
  if (s-&gt;source)
    readsource (s, buf, size);
  else
    readisaac (&amp;s-&gt;buf.isaac, buf, size);
}
</code></pre>
<p>i.e. at the low-level, there is no direct dependency between the <code>shuf</code> input value and the data read from the source of randomness (aside from computing the required byte buffer capacity).</p>
</div>
<div id="pu24" class="pu"><h1><a href="https://docs.python.org/2/" rel="noreferrer">Python 2</a>, 61 bytes</h1>



<pre class="lang-python prettyprint-override"><code>from random import*
lambda n:map(randrange,range(1,2**31))[n]
</code></pre>

<p>Pseudo-randomly chooses integers between <strong>0</strong> and <strong>k</strong> for all values of <strong>k</strong> between <strong>0</strong> and <strong>2<sup>31</sup> - 2</strong>, then takes the integer corresponding to <strong>k = n</strong>.</p>
</div>
<div id="pu25" class="pu"><h1>Python 2, 89 bytes</h1>

<pre class="lang-python prettyprint-override"><code>l=range(2**31)
import random
random.shuffle(l)
n=input()
print filter(lambda x:x&lt;=n,l)[0]
</code></pre>
<h2>Explanation</h2>
<pre class="lang-python prettyprint-override"><code>L=range(2**31)      # Create a list from 0 to 2^31 exclusive. Call it &lt;L&gt;.
import random       # Import the module &lt;random&gt;.
random.shuffle(L)   # Use 'shuffle' function from &lt;random&gt; module,
                    # to shuffle the list &lt;L&gt;.
n=input()           # Take the input -&gt; &lt;n&gt;.

print
    filter(         # Create a new sequence,
    lambda x:x&lt;=n   # where each element is less than or equal to &lt;n&gt;.
    ,L)             # from the list &lt;L&gt;.
    [0]             # Take the first element.
</code></pre>
<p>This is <em>very</em> inefficient, as it creates <strong>2^31</strong> integers, shuffles and filters them.</p>
<p>I see no point in sharing a TIO link, where it's creating such large lists, so here is a TIO link for <code>n</code> = 100.</p>
<p><a href="https://tio.run/nexus/python2#JcgxCoAgFADQ3VM4KlToGnmSaLDUFL5fMYUu3mxB2@P1EHMqlRaNJkUC6sNpmRSSk/@myzfnwDLgBFXA3CrjJJeAlboA1RYGOu5G03u@F4UD8FVsvUshHkzjoQ9vXw" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu26" class="pu"><h2>JavaScript (ES6), <s>55</s> 54 bytes</h2>
<pre class="lang-js prettyprint-override"><code>f=(n,m=1)=&gt;m&gt;n?(x=Math.random()*m|0)&gt;n?f(n):x:f(n,m*2)
</code></pre>
<p>Generates integers in the range <strong>[0 ... 2<sup>k</sup> - 1]</strong>, where <strong>k</strong> is the smallest integer such that <strong>2<sup>k</sup></strong> is greater than <strong>n</strong>. Repeats until the result falls into <strong>[0 ... n]</strong>.</p>
<h3>Why?</h3>
<p>This is based on the following assumptions:</p>
<ul>
<li><p>Internally, the pseudo-random integer values generated by the JS engine to feed <code>Math.random()</code> are uniform over any interval <strong>[0 ... 2<sup>k</sup>-1]</strong> (with <strong>k &lt; 32</strong>).</p>
</li>
<li><p>Once multiplied by an exact power of 2, the IEEE 754 float values returned by <code>Math.random()</code> are still uniform over such intervals.</p>
</li>
</ul>
<p>If anyone can confirm or refute these hypotheses, please let me know in the comments.</p>
<h3>Demo</h3>
<p>Generates 1 million values in <strong>[0 ... 2]</strong> and displays the outcome statistics.</p>
<p><div class="snippet" data-lang="js" data-hide="true" data-console="true" data-babel="false">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-js lang-js prettyprint-override"><code>f=(n,m=1)=&gt;m&gt;n?(x=Math.random()*m|0)&gt;n?f(n):x:f(n,m*2)

for(i = 0, stat = []; i &lt; 1000000; i++) {
  r = f(2);
  stat[r] = (stat[r] || 0) + 1;
}
console.log(stat.join` `)</code></pre>
</div>
</div>
</p>
</div>
<div id="pu27" class="pu"><h2><a href="https://github.com/m-ender/labyrinth" rel="noreferrer">Labyrinth</a>, 63 bytes</h2>

<pre><code> ?
 #00}__""*_
 ;    #"  _
{-{=  } "&gt;&lt;)
!{ : ;"({ +
@  }}:  &gt;`#
</code></pre>

<p><em>(Thanks to @MartinEnder for help with some heavy golfing here.)</em></p>

<p>Labyrinth is a 2D language, and its only source of randomness is in a situation like the following:</p>

<pre><code>   x
  "&lt;)
 " "
 " "
</code></pre>

<p>Assume the instruction pointer is on the <code>x</code> and moving downwards. It next lands on the <code>&lt;</code>, which if the top of stack is 0 (which is always the case in the actual program above) shifts the current row left by 1:</p>

<pre><code>   "
 "&lt;)
 " "
 " "
</code></pre>

<p>The instruction pointer is now on the <code>&lt;</code> moving downwards. At a junction, Labyrinth turns based on the top of stack - negative is turn left, positive is turn right and zero is move forward. If the top of stack is still zero at this point, we can't move forward or backward since there's no path, so Labyrinth will randomise between turning left or turning right with equal probability.</p>

<p>Essentially what the program above does is use the randomness feature to generate 100-bit numbers (100 specified by <code>#00</code> here) and continue looping until it generates a number <code>&lt;= n</code>.</p>

<p>For testing, it'll probably help to use <code>#0"</code> instead for 10-bit numbers, with the <code>"</code> being a no-op path. <a href="https://tio.run/nexus/labyrinth#@69gz6WgbKBUGx@vpKQVz6VgrQAEykoKCvFc1brVtgoKtQpKdjaaXIrVClYK1koa1QraXA5A0VorBQW7BOX//02/5uXrJicmZ6QCAA" rel="noreferrer">Try it online!</a></p>

<p>Rough explanation:</p>

<pre><code> ?            &lt;--- ? is input and starting point
 #0"}__""*_   &lt;--- * here: first run is *0, after that is *2 to double
 ;    #"  _
{-{=  } "&gt;&lt;)  &lt;--- Randomness section, +0 or +1 depending on path.
!{ : ;"({ +        After &lt;, the &gt;s reset the row for the next inner loop.
@  }}:  &gt;`#

 ^    ^
 |    |
 |    The " junction in this column checks whether the
 |    100-bit number has been generated, and if not then
 |    continue by turning right into }.
 |
 Minus sign junction here checks whether the generated number &lt;= n.
 If so, head into the output area (! is output as num, @ is terminate).
 Otherwise, head up and do the outer loop all over again.
</code></pre>
</div>
<div id="pu28" class="pu"><h1><a href="https://github.com/PowerShell/PowerShell" rel="nofollow noreferrer">PowerShell</a>, 35 bytes</h1>



<pre class="lang-powershell prettyprint-override"><code>for(;($a=Random 1gb)-gt"$args"){}$a
</code></pre>

<p><a href="https://tio.run/nexus/powershell#@5@WX6RhraGSaBuUmJeSn6tgmJ6kqZteoqSSWJRerKRZXauS@P//f1MDg9ykr3n5usmJyRmpAA" rel="nofollow noreferrer" title="PowerShell – TIO Nexus">Try it online!</a></p>

<p>Another rejection sampling method. This is an infinite <code>for</code> loop, setting the value of <code>$a</code> to be a <code>Random</code> integer between <code>0</code> and <code>1gb</code> (<code>= 1073741824 = 2^30</code>), and keeps looping so long as that integer is <code>-g</code>reater<code>t</code>han the input <code>$args</code>. Once the loop is complete, we just put <code>$a</code> on the pipeline and output is implicit.</p>

<p>Note: This will take a <strong><em>long</em></strong> time if the input is a small number.</p>
</div>
<div id="pu29" class="pu"><h1>PHP, 30 bytes</h1>
<pre class="lang-php prettyprint-override"><code>    while($argn&lt;$n=rand());echo$n;
</code></pre>
<p>Run with <code>echo &lt;N&gt; | php -Rn '&lt;code&gt;'</code>.</p>
<p>picks a random number between 0 and <a href="http://php.net/getrandmax" rel="nofollow noreferrer"><code>getrandmax()</code></a> (2**31-1 on my 64 bit machine);<br />
repeats while that is larger than the input.</p>
<p>This <em>may</em> take a while ... my AMD C-50 (1 GHz) needed between 0.3 and 130 seconds for <code>N=15</code>.</p>
<p>A faster way for average <code>N</code> (<strong>46 bytes</strong>):</p>
<pre class="lang-php prettyprint-override"><code>for(;++$i&lt;$x=1+$argn;)$n+=rand()%$x;echo$n%$x;
</code></pre>
<p>or</p>
<pre class="lang-php prettyprint-override"><code>for(;++$i&lt;$x=1+$argn;$n%=$x)$n+=rand();echo$n;
</code></pre>
<p>takes <code>N+1</code> random integers, sums them up and takes the modulo with <code>N+1</code>.<br />
The C-50 needs approx. 8 seconds for 1 million runs.</p>
<p>An invalid solution for <strong>19 bytes</strong>:</p>
<pre class="lang-php prettyprint-override"><code>echo rand(0,$argn);
</code></pre>
</div>
<div id="pu30" class="pu"><h1>C#, 57 bytes</h1>
<pre><code>n=&gt;{int x=n+1;while(x&gt;n)x=new Random().Next();return x;};
</code></pre>
<p>Anonymous function which returns an integer between 0 and n inclusive.</p>
<p>The smaller the input number, the longer the time to return a random value.</p>
<p>Full program:</p>
<pre><code>using System;

class RandomNumber
{
    static void Main()
    {
        Func&lt;int, int&gt; f =
        n=&gt;{int x=n+1;while(x&gt;n)x=new Random().Next();return x;};

        // example
        Console.WriteLine(f(100000));
    }
}
</code></pre>
</div>
<div id="pu31" class="pu"><h1><a href="http://www.swi-prolog.org/" rel="noreferrer">Prolog (SWI)</a>, 38 bytes</h1>
<pre><code>X*Y:-Z is 2^31,random(0,Z,Y),Y=&lt;X;X*Y.
</code></pre>
<p>Works by rejection sampling.</p>
<p>Generate a random number between <em>0</em> and <em>2^31-1</em> = <em>2147483647</em> until one less than or equal to the input has been found.</p>
<p>I feel as if I should be able to use a cut instead of the else, but I can't see how.</p>
</div>
<div id="pu32" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, 11 bytes</h1>

<pre><code>žIÝ.rDI›_Ï¤
</code></pre>

<p><a href="https://tio.run/nexus/05ab1e#@292aMPhuXpFLp6PGnbFH@4/tOT/f0MjYxNTs695@brJickZqQA" rel="nofollow noreferrer">Try it online!</a></p>

<p><strong>Explanation</strong></p>

<pre><code>žIÝ          # push the inclusive range [0 ... 2^31]
   .r        # get a random permutation (pythons random.shuffle)
     D       # duplicate this list
      I      # push input
       ›_Ï   # keep only elements from the list not greater than input
          ¤  # take the last one
</code></pre>

<p>As the list <code>[0 ... 2147483648]</code> is too large for TIO, the link uses <code>1.000.000</code> instead.</p>

<p><strong>Alternate (on average) much faster 11 byte solution</strong></p>

<pre><code>[žIÝ.RD¹›_#
</code></pre>

<p><a href="https://tio.run/nexus/05ab1e#@x9tdmjD4bl6QS6Hdj5q2BWv/P@/oZGxianZ17x83eTE5IxUAA" rel="nofollow noreferrer">Try it online</a></p>

<p><strong>Explanation</strong></p>

<pre><code>[             # start loop
 žIÝ          # push the inclusive range [0 ... 2^31]
    .R        # pick a random integer (pythons random.chiose)
      D       # duplicate
       ¹      # push input
        ›_#   # break if random number is not greater than input
              # implicitly output top of stack (the random number)
</code></pre>
</div>
<div id="pu33" class="pu"><h1><a href="https://perl6.org" rel="nofollow noreferrer">Perl 6</a>, 29 bytes</h1>



<pre class="lang-perl6 prettyprint-override"><code>{first 0..$_,^2**30 .roll(*)}
</code></pre>

<p>Inspired by <a href="https://codegolf.stackexchange.com/a/111615/14880">Martin Ender's Mathematica solution</a>.  </p>

<p>Generates a lazy infinite sequence of random integers between 0 and 2^30-1, and takes the first one that is between 0 and the input.</p>

<p><a href="https://tio.run/nexus/perl6#y61UUEtTsP1fnZZZVFyiYKCnpxKvE2ekpWVsoKBXlJ@To6GlWfu/OLFSIU3B0MAg3sDAwJqLFO5/AA" rel="nofollow noreferrer" title="Perl 6 – TIO Nexus">Try it online!</a></p>
</div>
<div id="pu34" class="pu"><h1><a href="https://github.com/JCumin/Brachylog" rel="noreferrer">Brachylog</a>, 9 bytes</h1>
<pre><code>≥.∧13ḟṙ|↰
</code></pre>
<p><a href="https://tio.run/nexus/brachylog2#@/@oc6neo47lhsYPd8x/uHNmzaO2Df//GxqAwf8oAA" rel="noreferrer" title="Brachylog – TIO Nexus">Try it online!</a></p>
<p>This uses <code>13!</code> like in Martin Ender's answer (<code>13ḟ</code> is one byte less than <code>2^₃₀</code>).</p>
<p><code>ṙ</code> is implemented using <a href="http://www.swi-prolog.org/pldoc/doc_for?object=random_between/3" rel="noreferrer"><code>random_between/3</code></a>, which, when digging its source, uses <a href="http://www.swi-prolog.org/pldoc/doc_for?object=f(random_float/0)" rel="noreferrer"><code>random_float/0</code></a> which is linked to <a href="http://www.swi-prolog.org/pldoc/man?function=random/1" rel="noreferrer"><code>random/1</code></a> which uses the Mersenne Twister algorithm which is uniform for our purposes.</p>
<h3>Explanation</h3>
<pre><code>≥.           Input ≥ Output
  ∧          And
   13ḟṙ      Output = rand(0, 13!)
       |     Else
        ↰    Call recursively with the same input
</code></pre>
</div>
<div id="pu35" class="pu"><h2>Batch, 64 bytes</h2>

<pre><code>@set/ar=%random%*32768+%random%
@if %r% gtr %1 %0 %1
@echo %r%
</code></pre>

<p><code>%random%</code> only gives 15 bits of randomness, so I have to combine two random numbers. Loops until the random value lies within the desired range, so slow for low <code>n</code>; 98 bytes for a faster version:</p>

<pre><code>@set/a"n=%1+1,m=~(3&lt;&lt;30)/n*n,r=%random%*32768+%random%
@if %r% geq %m% %0 %1
@cmd/cset/a%r%%%%n%
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/111613/">111613</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




