<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::268782</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>093</td><td>Python 3.8 prerelease</td><td>231227T004437Z</td><td><a href="https://codegolf.stackexchange.com/questions/268782/golf-a-range-with-modulus-and-subtraction/268792#268792">l4m2</a></td></tr>
<tr d-ix="1"><td>025</td><td>Jelly</td><td>231226T232002Z</td><td><a href="https://codegolf.stackexchange.com/questions/268782/golf-a-range-with-modulus-and-subtraction/268790#268790">Nick Ken</a></td></tr>
<tr d-ix="2"><td>053</td><td>Charcoal</td><td>231226T213147Z</td><td><a href="https://codegolf.stackexchange.com/questions/268782/golf-a-range-with-modulus-and-subtraction/268788#268788">Neil</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://docs.python.org/3.8/" rel="nofollow noreferrer">Python 3.8 (pre-release)</a>, 93 bytes</h1>

<pre class="lang-python prettyprint-override"><code>lambda x:['-',p:=min(x)]+g(sorted(x),p)
g=lambda x,p:x and['+',1,'%',x[-1]+1-p]+g(x[:-1],p-1)
</code></pre>
<p><a href="https://tio.run/##XY9LCsMwDET3OYU2RTZRFmnoL@CTuFmk5FND6hg7FPf0rtJQKF0IZoY3SHKv5T7b6ux8GhRc09Q@bl0LsdZYILlaPYwVUTb5KMLsl75jQ05mo/qSDEVobacxRyoJd0hRF2WTl4Vba1HX7MgVpUxeDULvmTpQRZcLnejYyMx5YxfhZTbMHiIYC/9MnQEEUIDIYqXMSvk1BjADBKUQN7eB5qP7KfTfNHLaP9tJhMXzD5Azx8PGSPnT/KzYLooyvQE" rel="nofollow noreferrer" title="Python 3.8 (pre-release) – Try It Online">Try it online!</a></p>
<p>That's why I need <code>+</code></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 25 bytes</h1>
<pre><code>’¹ƇŻÄạ
ṢI’k$§$żçɗṀ_Ṃ‘ƲṖṭṂ
</code></pre>
<ul>
<li><a href="https://tio.run/##AU4Asf9qZWxsef//4oCZwrnGh8W7w4ThuqEK4bmiSeKAmWskwqckxbzDp8mX4bmAX@G5guKAmMay4bmW4bmt4bmC////MiwxLDUsMyw5OSw3LDY" rel="nofollow noreferrer">Try it online!</a></li>
<li><a href="https://tio.run/##JYu9CsIwGEX3PEWHun0OtsYaBHF1dFIppZNL9QF0iyJ01sEf0EFBuugiCKaKQkIDPkbyIjEiXLj3HLjJYDSamDguyYtctn6xbTTdcibT4iHmKj8gxY5tq4Yuz9ziKbLPWjEaKzbTdCOviq0Uu1gy3YZIoVJQfnIVe@nZOdF055SbjqZ7JFIr@oiQcdCzi9/0NO/IBT@7/G3/enoXqTEhCj2oAAYfCIEAahGg8M9V8H6APcAEsA8YA65HKPoC" rel="nofollow noreferrer" title="Jelly – Try It Online">Test suite</a></li>
</ul>
<p>A pair of links which is called as a monad with a single argument, an unsorted list of non-negative integers, and returns a list structured as <code>[s0, [[s1, m1], [s2, m2]]]</code> where <code>s0</code> is an initial subtraction step and then there are zero or more pairs of subtraction (<code>- sn</code>) and modulo (<code>% mn</code>) steps.</p>
<p>The test suite has three fixed examples followed by a randomly generated fourth example. It also proves that the supplied result works; the header encodes a dyadic link that takes the result as detailed above as its left argument and the original list of integers as the right; it returns the list of integers from 0..(len(n) - 1) that results from applying the specified transformations.</p>
<h2>Explanation</h2>
<pre><code>’¹ƇŻÄạ
ṢI’k$§$żçɗṀ_Ṃ‘ƲṖṭṂ­⁡​‎‎⁪⁡⁪⁠⁪⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁢⁪‏‏​⁡⁠⁡‌⁢​‎‎⁪⁡⁪⁠⁪⁡⁪‏‏​⁡⁠⁡‌⁣​‎‎⁪⁡⁪⁠⁪⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁪‏‏​⁡⁠⁡‌⁤​‎‎⁪⁡⁪⁠⁪⁤⁪‏‏​⁡⁠⁡‌⁢⁡​‎‎⁪⁡⁪⁠⁪⁢⁡⁪‏‏​⁡⁠⁡‌⁢⁢​‎‎⁪⁡⁪⁠⁪⁢⁢⁪‏‏​⁡⁠⁡‌⁢⁣​‎‏​⁢⁠⁢‌⁢⁤​‎‎⁪⁢⁪⁠⁪⁡⁪‏⁠‎⁪⁢⁪⁠⁪⁢⁪‏⁠‎⁪⁢⁪⁠⁪⁣⁪‏⁠‎⁪⁢⁪⁠⁪⁤⁪‏⁠‎⁪⁢⁪⁠⁪⁢⁡⁪‏⁠‎⁪⁢⁪⁠⁪⁢⁢⁪‏⁠‎⁪⁢⁪⁠⁪⁢⁣⁪‏⁠‎⁪⁢⁪⁠⁪⁢⁤⁪‏⁠‎⁪⁢⁪⁠⁪⁣⁡⁪‏⁠‎⁪⁢⁪⁠⁪⁣⁢⁪‏⁠‎⁪⁢⁪⁠⁪⁣⁣⁪‏⁠‎⁪⁢⁪⁠⁪⁣⁤⁪‏⁠‎⁪⁢⁪⁠⁪⁤⁡⁪‏⁠‎⁪⁢⁪⁠⁪⁤⁢⁪‏⁠‎⁪⁢⁪⁠⁪⁤⁣⁪‏⁠‎⁪⁢⁪⁠⁪⁤⁤⁪‏⁠‎⁪⁢⁪⁠⁪⁢⁡⁡⁪‏⁠‎⁪⁢⁪⁠⁪⁢⁡⁢⁪‏‏​⁡⁠⁡‌⁣⁡​‎‎⁪⁢⁪⁠⁪⁡⁪‏‏​⁡⁠⁡‌⁣⁢​‎‎⁪⁢⁪⁠⁪⁢⁪‏‏​⁡⁠⁡‌⁣⁣​‎‎⁪⁢⁪⁠⁪⁣⁢⁪‏⁠‎⁪⁢⁪⁠⁪⁣⁣⁪‏⁠‎⁪⁢⁪⁠⁪⁣⁤⁪‏⁠‎⁪⁢⁪⁠⁪⁤⁡⁪‏⁠‎⁪⁢⁪⁠⁪⁤⁢⁪‏⁠‎⁪⁢⁪⁠⁪⁤⁣⁪‏‏​⁡⁠⁡‌⁣⁤​‎‎⁪⁢⁪⁠⁪⁢⁣⁪‏‏​⁡⁠⁡‌⁤⁡​‎‎⁪⁢⁪⁠⁪⁣⁪‏⁠‎⁪⁢⁪⁠⁪⁤⁪‏⁠‎⁪⁢⁪⁠⁪⁢⁡⁪‏‏​⁡⁠⁡‌⁤⁢​‎⁪⁪⁠‎⁪⁢⁪⁠⁪⁢⁢⁪‏‏​⁡⁠⁡‌⁤⁣​‎‎⁪⁢⁪⁠⁪⁢⁤⁪‏⁠‎⁪⁢⁪⁠⁪⁣⁡⁪‏⁠‎⁪⁢⁪⁠⁪⁣⁢⁪‏‏​⁡⁠⁡‌⁤⁤​‎‎⁪⁢⁪⁠⁪⁤⁤⁪‏‏​⁡⁠⁡‌⁢⁡⁡​‎‎⁪⁢⁪⁠⁪⁢⁡⁡⁪‏⁠‎⁪⁢⁪⁠⁪⁢⁡⁢⁪‏‏​⁡⁠⁡‌­

’¹ƇŻÄạ              # ‎⁡Helper link: takes a list of increments as its left argument and the range + 1 of the original list as its right and returns the modulos needed (with a redundant final one)
’                   # ‎⁢Subtract 1
 ¹Ƈ                 # ‎⁣Keep only those which are non-zero
   Ż                # ‎⁤Prepend a zero
    Ä               # ‎⁢⁡Cumulative sum
     ạ              # ‎⁢⁢Absolute difference (from the range + 1)
‎⁢⁣
ṢI’k$§$żçɗṀ_Ṃ‘ƲṖṭṂ  # ‎⁢⁤Main link
Ṣ                   # ‎⁣⁡Sort
 I                  # ‎⁣⁢Increments
         ɗṀ_Ṃ‘Ʋ     # ‎⁣⁣Following as a dyad, with the increments as the left argument and (max - min + 1) of the original list as the right
      $             # ‎⁣⁤- Following as a monad:
  ’k$               # ‎⁤⁡  - Split the list of increments after any which are &gt;1
     §              # ‎⁤⁢  - Sum inner lists
       żçɗ          # ‎⁤⁣- Zip with the results of calling the helper link with the increments as the left argument and the range + 1 as the right
               Ṗ    # ‎⁤⁤Remove the last member of the list
                ṭṂ  # ‎⁢⁡⁡Tag onto the minimum of the original list
💎
</code></pre>
<p>Created with the help of <a href="https://vyxal.github.io/Luminespire" rel="nofollow noreferrer">Luminespire</a>.</p>
<p>In brief, this works by separately constructing the right hand arguments needed for subtraction and the modulo separately. The arguments for subtraction are the increments, except where there are consecutive numbers (i.e. increments of 1), these are collapsed into the next non-consecutive one. The arguments for modulo start with the range + 1 and decrease each time by the non-consecutive gaps - 1.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 53 bytes</h1>
<pre><code>≔lηＷΦθ⁻…⌊θκθ«≔⊕⁻⌈θ⌊θζ≔⪫⟦(η-⌊ι)%ζ⟧ωη≧⁻⌊ιθ≧﹪ζθ»η¿⌊θ⁺-⌊θ
</code></pre>
<p><a href="https://tio.run/##bY9Pa8MwDMXPzacQhoEE6qEb2yg97TJoIVB6DTmY1EvEHGf515aWfXbPwdu6wg4Cy3q/p6ei0l3RaOv9S99L6VBZxVDRKjlWYg3gq9jBdNgypOLGHnfalQbDW@qxxpYY3kO1RASXZPZtsnZFZ2rjBrPHiKX69AtcYQrdOez64TaNOMwUThEY1FxdxRKkiu7CzzlnOFIMOUv1R2R3UlZDXHYLtf/Jmv1om2AVx5/JthM34OQob/DnOoI42dpww02eKfzK@yy75wU/8gMvl/zMT3nu5wf7BQ" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>≔lη
</code></pre>
<p>Start with just the name of the list.</p>
<pre><code>ＷΦθ⁻…⌊θκθ«
</code></pre>
<p>Repeat while there is a break in the list.</p>
<pre><code>≔⊕⁻⌈θ⌊θζ
</code></pre>
<p>Calculate the span of the list.</p>
<pre><code>≔⪫⟦(η-⌊ι)%ζ⟧ωη
</code></pre>
<p>Update the equation for the break and span.</p>
<pre><code>≧⁻⌊ιθ≧﹪ζθ
</code></pre>
<p>Update the list for the break and span.</p>
<pre><code>»η
</code></pre>
<p>Output the equation.</p>
<pre><code>¿⌊θ⁺-⌊θ
</code></pre>
<p>Handle the case where there was no break in the list.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/268782/">268782</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




