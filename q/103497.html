<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::103497</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>005</td><td>Uiua</td><td>231107T110857Z</td><td><a href="https://codegolf.stackexchange.com/questions/103497/column-wise-sum/266557#266557">chunes</a></td></tr>
<tr d-ix="1"><td>004</td><td>Husk</td><td>201003T162915Z</td><td><a href="https://codegolf.stackexchange.com/questions/103497/column-wise-sum/211991#211991">Razetime</a></td></tr>
<tr d-ix="2"><td>005</td><td>Japt</td><td>161219T225057Z</td><td><a href="https://codegolf.stackexchange.com/questions/103497/column-wise-sum/103767#103767">ETHprodu</a></td></tr>
<tr d-ix="3"><td>048</td><td>JavaScript ES6</td><td>161217T232953Z</td><td><a href="https://codegolf.stackexchange.com/questions/103497/column-wise-sum/103506#103506">Arnauld</a></td></tr>
<tr d-ix="4"><td>063</td><td>PHP</td><td>161219T211135Z</td><td><a href="https://codegolf.stackexchange.com/questions/103497/column-wise-sum/103750#103750">Titus</a></td></tr>
<tr d-ix="5"><td>070</td><td>Clojure</td><td>161219T192052Z</td><td><a href="https://codegolf.stackexchange.com/questions/103497/column-wise-sum/103739#103739">NikoNyrh</a></td></tr>
<tr d-ix="6"><td>045</td><td>Python 2</td><td>161218T010232Z</td><td><a href="https://codegolf.stackexchange.com/questions/103497/column-wise-sum/103512#103512">Dennis</a></td></tr>
<tr d-ix="7"><td>005</td><td>CJam</td><td>161218T031902Z</td><td><a href="https://codegolf.stackexchange.com/questions/103497/column-wise-sum/103524#103524">Luis Men</a></td></tr>
<tr d-ix="8"><td>003</td><td>Dyalog APL</td><td>161219T002625Z</td><td><a href="https://codegolf.stackexchange.com/questions/103497/column-wise-sum/103617#103617">Ad&#225;</a></td></tr>
<tr d-ix="9"><td>005</td><td>J</td><td>161219T011224Z</td><td><a href="https://codegolf.stackexchange.com/questions/103497/column-wise-sum/103618#103618">Conor O&</a></td></tr>
<tr d-ix="10"><td>097</td><td>R</td><td>161218T110837Z</td><td><a href="https://codegolf.stackexchange.com/questions/103497/column-wise-sum/103541#103541">Fr&#233;</a></td></tr>
<tr d-ix="11"><td>003</td><td>MATL</td><td>161218T031350Z</td><td><a href="https://codegolf.stackexchange.com/questions/103497/column-wise-sum/103523#103523">Luis Men</a></td></tr>
<tr d-ix="12"><td>040</td><td>Haskell</td><td>161217T232203Z</td><td><a href="https://codegolf.stackexchange.com/questions/103497/column-wise-sum/103504#103504">flawr</a></td></tr>
<tr d-ix="13"><td>069</td><td>Octave</td><td>161218T070232Z</td><td><a href="https://codegolf.stackexchange.com/questions/103497/column-wise-sum/103530#103530">rahnema1</a></td></tr>
<tr d-ix="14"><td>124</td><td>Java 8</td><td>161218T062057Z</td><td><a href="https://codegolf.stackexchange.com/questions/103497/column-wise-sum/103529#103529">Jack Amm</a></td></tr>
<tr d-ix="15"><td>015</td><td>Mathematica</td><td>161218T053132Z</td><td><a href="https://codegolf.stackexchange.com/questions/103497/column-wise-sum/103528#103528">alephalp</a></td></tr>
<tr d-ix="16"><td>004</td><td>Pyth</td><td>161218T045226Z</td><td><a href="https://codegolf.stackexchange.com/questions/103497/column-wise-sum/103527#103527">Maltysen</a></td></tr>
<tr d-ix="17"><td>130</td><td>C++14</td><td>161218T015905Z</td><td><a href="https://codegolf.stackexchange.com/questions/103497/column-wise-sum/103519#103519">Karl Nap</a></td></tr>
<tr d-ix="18"><td>034</td><td>Haskell</td><td>161218T015808Z</td><td><a href="https://codegolf.stackexchange.com/questions/103497/column-wise-sum/103518#103518">Laikoni</a></td></tr>
<tr d-ix="19"><td>004</td><td>Pyke</td><td>161218T004259Z</td><td><a href="https://codegolf.stackexchange.com/questions/103497/column-wise-sum/103511#103511">Blue</a></td></tr>
<tr d-ix="20"><td>011</td><td>Wonder</td><td>161218T000529Z</td><td><a href="https://codegolf.stackexchange.com/questions/103497/column-wise-sum/103510#103510">Mama Fun</a></td></tr>
<tr d-ix="21"><td>001</td><td>Jelly</td><td>161217T225811Z</td><td><a href="https://codegolf.stackexchange.com/questions/103497/column-wise-sum/103499#103499">Dennis</a></td></tr>
<tr d-ix="22"><td>023</td><td>Perl 6</td><td>161217T230604Z</td><td><a href="https://codegolf.stackexchange.com/questions/103497/column-wise-sum/103500#103500">smls</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://uiua.org" rel="nofollow noreferrer">Uiua</a>, 5 <a href="https://codegolf.stackexchange.com/a/265917/97916">bytes</a></h1>
<pre><code>⊐⬚0/+
</code></pre>
<p><a href="https://uiua.org/pad?src=ZiDihpAg4oqQ4qyaMC8rCgpmIHtbMSAyIDMgNF0gWzFdIFs1IDIgM10gWzYgMV19" rel="nofollow noreferrer">Try it!</a></p>
<pre><code>⊐⬚0/+
   /+  # sum columns
 ⬚0    # filling needed nonexistent elements with zero
⊐      # and unboxing arrays implicitly
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a>, 4 bytes</h1>
<pre><code>mΣT0
</code></pre>
<p><a href="https://tio.run/##yygtzv7/P/fc4hCD////R0cb6hjpGOuYxOpEGwKxKYgHpM10DGNjAQ" rel="nofollow noreferrer" title="Husk – Try It Online">Try it online!</a></p>
<h2>Explanation</h2>
<pre><code>mΣT0
  T0 Transpose matrix, padding with 0's where needed
mΣ   map each column to its sum
</code></pre>
</div>
<div id="pu2" class="pu"><h1>Japt, 5 bytes</h1>

<pre><code>Uz mx
</code></pre>

<p><a href="http://ethproductions.github.io/japt/?v=master&amp;code=VXogbXg=&amp;input=W1sxLDIsMyw0XSxbMV0sWzUsMiwzXSxbNiwxXV0=" rel="nofollow noreferrer">Test it online!</a></p>

<p><code>U</code> is the input array, and <code>z</code> on arrays rotates the array clockwise by 90 degrees. Therefore,</p>

<pre><code>[
 [1,2,3,4],
 [1      ],
 [5,2,3  ],
 [6,1    ]
]
</code></pre>

<p>becomes</p>

<pre><code>[
 [6,5,1,1],
 [1,2,  2],
 [  3,  3],
 [      4]
]
</code></pre>

<p>(Spacing added only for display purposes.)</p>

<p><code>mx</code> then <code>m</code>aps by summation (<code>x</code>), which gives the desired result: <code>[13,5,6,4]</code>.</p>
</div>
<div id="pu3" class="pu"><h2>JavaScript (ES6), <s>51</s> 48 bytes</h2>

<p><em>Saved 3 bytes, thanks to ETHproductions</em></p>

<pre class="lang-js prettyprint-override"><code>a=&gt;a.map(b=&gt;b.map((v,i)=&gt;r[i]=~~r[i]+v),r=[])&amp;&amp;r
</code></pre>

<h3>Test cases</h3>

<p><div class="snippet" data-lang="js" data-hide="true" data-console="true" data-babel="false">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-js lang-js prettyprint-override"><code>let f =

a=&gt;a.map(b=&gt;b.map((v,i)=&gt;r[i]=~~r[i]+v),r=[])&amp;&amp;r

console.log(f([[1,2,3,4],[1],[5,2,3],[6,1]])); // -&gt; [13,5,6,4]
console.log(f([[0]]));                         // -&gt; [0]
console.log(f([[1],[1,1,1,1]]));               // -&gt; [2,1,1,1]
console.log(f([[1],[1,2],[1,2,3],[1,2,3,4]])); // -&gt; [4,6,6,4]
console.log(f([[1,6,2,-6],[-1,2,3,5]]));       // -&gt; [0,8,5,-1]</code></pre>
</div>
</div>
</p>
</div>
<div id="pu4" class="pu"><h1>PHP, 63 bytes</h1>
<pre class="lang-php prettyprint-override"><code>&lt;?foreach($_GETas$a)foreach($a as$i=&gt;$x)$r[$i]+=$x;print_r($r);
</code></pre>
<p>call in browser with GET parameters as list of inputs.</p>
<p>Example:<br />
<code>script.php?a[]=1&amp;a[]=2&amp;a[]=3&amp;a[]=4&amp;b[]=1&amp;c[]=5&amp;c[]=2&amp;c[]=3&amp;d[]=6&amp;d[]=1</code><br />
(Array names are ignored, so you can name them any way you want.)</p>
<p>Try this function for testing:</p>
<pre class="lang-php prettyprint-override"><code>function s($a){foreach($a as$b)foreach($b as$i=&gt;$x)$r[$i]+=$x;return$r;}
</code></pre>
<p>or use <code>http_build_query($array,a)</code> to convert a given array of arrays to GET parameters.</p>
</div>
<div id="pu5" class="pu"><p><strong>Clojure, 70 bytes</strong></p>

<pre><code>#(for[i(range(apply max(map count %)))](apply +(for[v %](get v i 0))))
</code></pre>

<p>A basic nested loop.</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, <s>47</s> 45 bytes</h1>

<pre class="lang-python prettyprint-override"><code>lambda x:map(lambda*y:sum(filter(None,y)),*x)
</code></pre>

<p><em>Thanks to @vaultah for golfing off 2 bytes!</em></p>

<p><a href="https://tio.run/nexus/python2#TYnRCoIwGIWv6ynOzXCTf5CZEkI9Qi@wdmHkQHBTNoP59EuyIA6cw/cdgwvuaWjt49kiNrad@Ab50oSX5aYf5s7z2@g6WoSgPIpkRo@I3oErddCaoFShSRX0yb84bk3lb@n0valeUdarl9tRaS2a/W7yvZuRMVmeA@QVLGRg4JFgeBQivQE" rel="nofollow noreferrer" title="Python 2 – TIO Nexus">Try it online!</a></p>
</div>
<div id="pu7" class="pu"><h1><a href="https://sourceforge.net/p/cjam" rel="noreferrer">CJam</a>, <s>7</s> 5 bytes</h1>
<p><em>2 bytes off thanks to Dennis!</em></p>
<pre><code>{:.+}
</code></pre>
<p>This defines an anonymous block that takes a list of lists, such as <code>[[1 2 3 4] [1] [5 2 3] [6 1]]</code>, and replaces it by a list, <code>[13 5 6 4]</code>.</p>
<p><a href="https://tio.run/nexus/cjam#y6n7X22lp137v67gf3S0oYKRgrGCSaxCtCEQm4J4QNpMwTA2FgA" rel="noreferrer">Try it online!</a> Or <a href="https://tio.run/nexus/cjam#y6n7X22lp137X7Xgf7SCQnS0QWwsiDKMVYg2VABDZAEjCKlgDKMVTKDSCmZArq4ZUFwXImEKkogFAA" rel="noreferrer">verify all test cases</a>.</p>
<h3>Explanation</h3>
<pre><code>{   }   e# Define block
 :      e# Fold over the following dyadic function
  .+    e# Vectorized addition
</code></pre>
</div>
<div id="pu8" class="pu"><h1><a href="http://goo.gl/9KrKoM" rel="nofollow noreferrer">Dyalog APL</a>, 3 <a href="http://meta.codegolf.stackexchange.com/a/9429/43319">bytes</a></h1>

<pre class="lang-apl prettyprint-override"><code>+⌿↑
</code></pre>
<p><code>+⌿</code> sum column-wise</p>
<p><code>↑</code> the mixed (list of list, stacked into matrix, padding with zeros) argument</p>
<p><a href="http://tryapl.org/?a=f%u2190+%u233F%u2191%20%u22C4%20f%281%202%203%204%29%281%29%285%202%203%29%286%201%29&amp;run" rel="nofollow noreferrer">TryAPL online!</a></p>
</div>
<div id="pu9" class="pu"><h1>J, 5 bytes</h1>

<pre><code>+/@:&gt;
</code></pre>

<p>Takes input as a boxed list of lists.</p>

<h2>Test cases</h2>

<pre><code>   1 ; 1 1 1 1
+-+-------+
|1|1 1 1 1|
+-+-------+
   (+/@:&gt;) 1 ; 1 1 1 1
2 1 1 1
   1 ; 1 2 ; 1 2 3 ; 1 2 3 4
+-+---+-----+-------+
|1|1 2|1 2 3|1 2 3 4|
+-+---+-----+-------+
   (+/@:&gt;) 1 ; 1 2 ; 1 2 3 ; 1 2 3 4
4 6 6 4
</code></pre>
</div>
<div id="pu10" class="pu"><h2>R, <s>105</s> 97 bytes</h2>
<pre><code>a=c();l=length;for(i in 1:l(w)){length(w[[i]])=max(sapply(w,l));a=rbind(a,w[[i]])};colSums(a,n=T)
</code></pre>
<p>This takes in input a <code>list</code> object called <code>w</code> in the form :</p>
<pre><code>w=list(c(1,2,3,4),c(1),c(1,2))
</code></pre>
<p>It outputs the column-wise sum : <code>[1] 3 4 3 4</code></p>
<p>This solution is quite long to me. <strong>R</strong> has the particularity to recycle when you try to bind vectors of different length. For example :</p>
<pre><code>a=c(1,2,3,4)
b=c(1,2)

cbind(a,b)

     a b
[1,] 1 1
[2,] 2 2
[3,] 3 1
[4,] 4 2
</code></pre>
<p><code>b</code> is re-used once to fit, which is why I begin with a list.</p>
<p>The program adjusts the length of all the elements of the list as the one of the longest, binds the elements and computs the column-wise sum.
The length adjusting produces <code>NA</code>'s, that are ignored by the <code>sum</code>.</p>
<p><em>-8 bytes</em> thanks to @Jarko Dubbeldam !</p>
</div>
<div id="pu11" class="pu"><h1><a href="https://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, 3 bytes</h1>

<pre><code>oXs
</code></pre>

<p>(<em>MATL doesn't know that the plural of "ox" is "oxen"...</em>)</p>

<p>Input is a cell array of numeric row vectors, in the same format as in the challenge text:</p>

<pre><code>{[1,2,3,4],[1],[5,2,3],[6,1]}
</code></pre>

<p><a href="https://tio.run/nexus/matl#@58fUfz/f3W0oY6RjrGOSaxOtCEQm4J4QNpMxzC2FgA" rel="nofollow noreferrer" title="MATL – TIO Nexus">Try it online!</a> Or <a href="https://tio.run/nexus/matl#S/ifH1H83yXkf3W0QWwtV3W0YaxOtKEOGCLxjSCkjjGM1jGByOqYAXm6ZkBhXYi4aWwtAA" rel="nofollow noreferrer">verify all test cases</a>.</p>

<pre><code>     % Implicit input
o    % Convert cell array to a matrix, right-padding with zeros each row
Xs   % Sum of each column
     % Implicit display
</code></pre>
</div>
<div id="pu12" class="pu"><h1>Haskell, <s>61 41</s> 40 bytes</h1>
<p>Thanks @Laikoni for -20 bytes, @nimi for -1 byte!</p>
<pre><code>f[]=[]
f l=sum[h|h:_&lt;-l]:f[t:u|_:t:u&lt;-l]
</code></pre>
<p><strong>Explanation:</strong> It is just a recursive summation of the first elements of the list, also dealing with discarding empty lists in every intermediate step:</p>
<pre><code>    sum[h|h:_&lt;-l]                    -- sums up all the first elemetns of the list
                    [t:u|_:t:u&lt;-l]   -- removes the first element of all the list, and removes empty lists
                   f                 -- applies f to the remaining list
                 :                   -- prepends the sum to the rest
</code></pre>
</div>
<div id="pu13" class="pu"><h1>Octave, 69 bytes</h1>
<pre><code>@(a){g=1:max(s=cellfun(@numel,a))&lt;=s';f=g'+0;f(g')=[a{:}];sum(f')}{4}
</code></pre>
</div>
<div id="pu14" class="pu"><h1>Java 8, 124 bytes</h1>

<p>this is a lambda expression for a <code>Function&lt; int[ ][ ], int[ ] &gt;</code></p>

<pre><code>i-&gt;{int L=0,t,r[];for(int[]a:i)L=(t=a.length)&gt;L?t:L;r=new int[L];for(;0&gt;L--;)for(int[]a:i)r[L]+=a.length&gt;L?a[L]:0;return r;}
</code></pre>

<p>it takes the largest array length from the input, creates a new array of that size, and then writes the sums of each column to the array.</p>
</div>
<div id="pu15" class="pu"><h1>Mathematica, 15 bytes</h1>

<pre><code>Total@*PadRight
</code></pre>
</div>
<div id="pu16" class="pu"><h1>Pyth - 4 bytes</h1>
<pre><code>sM.T
</code></pre>
<p><a href="http://pyth.herokuapp.com/?code=sM.T&amp;input=%5B1%2C2%2C3%2C4%5D%2C%5B1%5D%2C%5B5%2C2%2C3%5D%2C%5B6%2C1%5D&amp;debug=0" rel="nofollow noreferrer">Try it online here</a>.</p>
</div>
<div id="pu17" class="pu"><h1>C++14, 130 bytes</h1>

<p>As unnamed generic lambda:</p>
<pre class="lang-c++ prettyprint-override"><code>[](auto C,auto&amp;r){r.clear();int i=0,b=1;while(b--){r.push_back(0);for(auto c:C)r.back()+=i&lt;c.size()?c[b=1,i]:0;++i;}r.pop_back();}
</code></pre>
<p>Requires <code>C</code> to be like <code>vector&lt;vector&lt;int&gt;&gt;</code> and return value <code>r</code> to be like <code>vector&lt;int&gt;</code> (should be okay according to <a href="https://codegolf.meta.stackexchange.com/a/4942/53667">meta</a>).</p>
<p>Ungolfed &amp; usage:</p>
<pre class="lang-c++ prettyprint-override"><code>#include&lt;vector&gt;
#include&lt;iostream&gt;

auto f=
[](auto C, auto&amp;r){
 r.clear();         //clearing r just to be sure
 int i=0,b=1;       //i is the position in the row, b is a boolean
 while(b--){        //while something was added
  r.push_back(0);   //add zero
  for(auto c:C)     //for each container
   r.back() += i&lt;c.size() ?   //add to the last element 
    c[b=1,i] : 0;             //set b and get the element or zero 
  ++i;              
 }
 r.pop_back();      //remove last unnecessary zero
}
;

using namespace std;

int main(){
 vector&lt;vector&lt;int&gt; &gt; C = { {1,2,3,4}, {1}, {5,2,3}, {6,1} };
 vector&lt;int&gt; r; 
 f(C,r);
 for (int i: r)
  cout &lt;&lt; i &lt;&lt; &quot;, &quot;;
 cout &lt;&lt; endl;
}
</code></pre>
</div>
<div id="pu18" class="pu"><h1>Haskell, 34 bytes</h1>

<pre class="lang-haskell prettyprint-override"><code>import Data.List
map sum.transpose
</code></pre>
<p><a href="https://tio.run/nexus/haskell#@5@ZW5BfVKLgkliSqOeTWVzClZuYmadgq1BQWhJcUqSgp1CckV8OpHITCxSKS3P1SooS84oL8otTFVQUoqMNdYx0jHVMYnWiDYHYFMQD0mY6hrGx//8DAA" rel="noreferrer" title="Haskell – TIO Nexus">Try it online!</a> Usage:</p>
<pre class="lang-haskell prettyprint-override"><code>Prelude Data.List&gt; map sum.transpose $ [[1,2,3,4],[1],[5,2,3],[6,1]]
[13,5,6,4]
</code></pre>
</div>
<div id="pu19" class="pu"><h2>Pyke, 4 bytes</h2>
<pre><code>.,ms
</code></pre>
<p><a href="http://pyke.catbus.co.uk/?code=.%2Cms&amp;input=%5B%5B1%2C2%2C3%2C4%5D%2C%5B1%5D%2C%5B5%2C2%2C3%5D%2C%5B6%2C1%5D%5D" rel="nofollow noreferrer">Try it here!</a></p>
</div>
<div id="pu20" class="pu"><h1><a href="https://github.com/wonderlang/wonder" rel="nofollow noreferrer">Wonder</a>, 11 bytes</h1>
<pre><code>@-&gt;#sum '#0
</code></pre>
<p>Transpose and map with sum function. Usage:</p>
<pre><code>(@-&gt;#sum '#0)[[1 2 3 4];[1];[5 2 3];[6 1]]
</code></pre>
</div>
<div id="pu21" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="noreferrer">Jelly</a>, 1 byte</h1>

<pre><code>S
</code></pre>

<p><a href="https://tio.run/nexus/jelly#@x/8////6GjDWJ1oQx0jCKljDKN1TGJjAQ" rel="noreferrer" title="Jelly – TIO Nexus">Try it online!</a> or <a href="https://tio.run/nexus/jelly#@x/8/@HuLWGH2x81rXH//z862iA2lis62jBWJ9pQBwyR@EYQUscYRuuYQGR1zIA8XTOgsC5E3DQ2FgA" rel="noreferrer" title="Jelly – TIO Nexus">verify all test cases</a>.</p>

<h3>How it works</h3>

<p>The sum atom <code>S</code> is a shorthand for <code>+/</code>, which performs reduction by addition.</p>

<p>The quick <code>/</code> reduces along the outmost dimension, so it calls its link for the elements of the input. Here, the elements are the rows.</p>

<p>The addition atom <code>+</code> vectorizes, so adding two row vectors perform element-by-element addition. When the arguments have different lengths, the elements of the longer argument that have no counterpart in the shorter one are left unaltered.</p>

<p>All in all, with an irregular matrix as argument, <code>S</code> computes the column-wise sum, skipping missing entries in the shorter rows.</p>
</div>
<div id="pu22" class="pu"><h1><a href="http://perl6.org/" rel="noreferrer">Perl 6</a>, 23 bytes</h1>
<pre><code>{roundrobin(|$_)».sum}
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/103497/">103497</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




