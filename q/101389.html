<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::101389</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>045</td><td>R</td><td>231102T191756Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/266418#266418">Kirill L</a></td></tr>
<tr d-ix="1"><td>050</td><td>Wolfram Language Mathematica</td><td>231101T235052Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/266410#266410">att</a></td></tr>
<tr d-ix="2"><td>068</td><td>Perl 5 MListUtil=</td><td>201223T031135Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/216813#216813">Xcali</a></td></tr>
<tr d-ix="3"><td>019</td><td>Uiua</td><td>231031T023835Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/266366#266366">chunes</a></td></tr>
<tr d-ix="4"><td>011</td><td>Thunno 2</td><td>230628T190240Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/262291#262291">The Thon</a></td></tr>
<tr d-ix="5"><td>159</td><td>Scala</td><td>230527T072857Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/261267#261267">138 Aspe</a></td></tr>
<tr d-ix="6"><td>056</td><td>Arturo</td><td>230127T203235Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/257138#257138">chunes</a></td></tr>
<tr d-ix="7"><td>044</td><td>Julia 1.8</td><td>210420T133031Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/223953#223953">MarcMush</a></td></tr>
<tr d-ix="8"><td>060</td><td>PowerShell</td><td>220501T145325Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/246757#246757">mazzy</a></td></tr>
<tr d-ix="9"><td>017</td><td>Brachylog</td><td>210507T224226Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/225257#225257">DLosc</a></td></tr>
<tr d-ix="10"><td>020</td><td>APL Dyalog Unicode</td><td>220112T112611Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/240939#240939">ovs</a></td></tr>
<tr d-ix="11"><td>055</td><td>JavaScript</td><td>220112T104430Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/240938#240938">CreaZyp1</a></td></tr>
<tr d-ix="12"><td>010</td><td>Vyxal</td><td>210706T212157Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/231067#231067">Undersla</a></td></tr>
<tr d-ix="13"><td>063</td><td>AWK</td><td>210508T005615Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/225262#225262">cnamejj</a></td></tr>
<tr d-ix="14"><td>077</td><td>Factor</td><td>210507T234640Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/225261#225261">chunes</a></td></tr>
<tr d-ix="15"><td>049</td><td>Vim</td><td>210507T173309Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/225246#225246">DLosc</a></td></tr>
<tr d-ix="16"><td>018</td><td>Vyxal aW</td><td>210421T022712Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/224018#224018">Aaroneou</a></td></tr>
<tr d-ix="17"><td>063</td><td>R</td><td>210419T210538Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/223872#223872">Dominic </a></td></tr>
<tr d-ix="18"><td>024</td><td>K oK</td><td>210420T160340Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/223959#223959">mkst</a></td></tr>
<tr d-ix="19"><td>048</td><td>APL Dyalog Unicode</td><td>201222T183618Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/216784#216784">Kamila S</a></td></tr>
<tr d-ix="20"><td>065</td><td>R</td><td>180605T203433Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/166251#166251">JayCe</a></td></tr>
<tr d-ix="21"><td>077</td><td>SmileBASIC</td><td>180605T191711Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/166243#166243">12Me21</a></td></tr>
<tr d-ix="22"><td>101</td><td>SmileBASIC 3</td><td>180426T075320Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/163426#163426">snail_</a></td></tr>
<tr d-ix="23"><td>114</td><td>Tcl</td><td>180425T154321Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/163370#163370">sergiol</a></td></tr>
<tr d-ix="24"><td>053</td><td>MATLAB</td><td>171214T014044Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/150568#150568">Pon pon </a></td></tr>
<tr d-ix="25"><td>nan</td><td>Java 8</td><td>171214T022444Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/150576#150576">Jakob</a></td></tr>
<tr d-ix="26"><td>135</td><td>C++14</td><td>161129T102044Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/101457#101457">neop</a></td></tr>
<tr d-ix="27"><td>100</td><td>Clojure</td><td>161212T010423Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/102948#102948">NikoNyrh</a></td></tr>
<tr d-ix="28"><td>018</td><td>Actually</td><td>161211T075244Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/102901#102901">Sherlock</a></td></tr>
<tr d-ix="29"><td>067</td><td>MATLAB</td><td>161209T201348Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/102743#102743">hwm</a></td></tr>
<tr d-ix="30"><td>071</td><td>Matlab</td><td>161129T104621Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/101464#101464">Owen Mor</a></td></tr>
<tr d-ix="31"><td>077</td><td>C#</td><td>161128T203130Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/101399#101399">Yytsi</a></td></tr>
<tr d-ix="32"><td>045</td><td>Groovy</td><td>161130T085936Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/101587#101587">GolfIsAG</a></td></tr>
<tr d-ix="33"><td>059</td><td>Mathematica</td><td>161128T232547Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/101417#101417">user6198</a></td></tr>
<tr d-ix="34"><td>079</td><td>PHP</td><td>161130T103551Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/101596#101596">Titus</a></td></tr>
<tr d-ix="35"><td>022</td><td>J</td><td>161130T093350Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/101589#101589">Zgarb</a></td></tr>
<tr d-ix="36"><td>050</td><td>Python 3</td><td>161128T195427Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/101391#101391">FlipTack</a></td></tr>
<tr d-ix="37"><td>053</td><td>TIBasic</td><td>161129T162712Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/101502#101502">Timtech</a></td></tr>
<tr d-ix="38"><td>061</td><td>JavaScript ES6</td><td>161128T201931Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/101396#101396">ETHprodu</a></td></tr>
<tr d-ix="39"><td>006</td><td>Scratch</td><td>161129T020534Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/101433#101433">AAM111</a></td></tr>
<tr d-ix="40"><td>044</td><td>jq</td><td>161129T105731Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/101466#101466">manatwor</a></td></tr>
<tr d-ix="41"><td>062</td><td>Haskell</td><td>161129T013130Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/101429#101429">Christia</a></td></tr>
<tr d-ix="42"><td>097</td><td>R</td><td>161129T100002Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/101455#101455">Fr&#233;</a></td></tr>
<tr d-ix="43"><td>055</td><td>Mathematica</td><td>161128T200057Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/101393#101393">Greg Mar</a></td></tr>
<tr d-ix="44"><td>056</td><td>Mathematica</td><td>161129T003254Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/101425#101425">JungHwan</a></td></tr>
<tr d-ix="45"><td>064</td><td>Octave</td><td>161128T211111Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/101404#101404">Stewie G</a></td></tr>
<tr d-ix="46"><td>075</td><td>Kotlin</td><td>161129T020707Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/101434#101434">Tyler Ma</a></td></tr>
<tr d-ix="47"><td>044</td><td>Wonder</td><td>161129T011734Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/101428#101428">Mama Fun</a></td></tr>
<tr d-ix="48"><td>007</td><td>Jelly</td><td>161128T235048Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/101421#101421">Dennis</a></td></tr>
<tr d-ix="49"><td>093</td><td>Haskell</td><td>161128T235233Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/101422#101422">sudee</a></td></tr>
<tr d-ix="50"><td>009</td><td>Jelly</td><td>161128T220909Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/101411#101411">Adalynn</a></td></tr>
<tr d-ix="51"><td>016</td><td>Pyth</td><td>161128T223851Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/101414#101414">TheBikin</a></td></tr>
<tr d-ix="52"><td>046</td><td>Ruby</td><td>161128T212643Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/101406#101406">Lee W</a></td></tr>
<tr d-ix="53"><td>016</td><td>05AB1E</td><td>161128T201853Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/101395#101395">Emigna</a></td></tr>
<tr d-ix="54"><td>046</td><td>Perl 6</td><td>161128T205849Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/101402#101402">Brad Gil</a></td></tr>
<tr d-ix="55"><td>016</td><td>MATL</td><td>161128T202426Z</td><td><a href="https://codegolf.stackexchange.com/questions/101389/increment-an-array/101397#101397">Luis Men</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, 45 bytes</h1>
<pre class="lang-r prettyprint-override"><code>\(x)`if`(sd(c(x,x)),x+!rank(x,,&quot;f&quot;)-1,c(x,1))
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72waMGiNNulpSVpuhY3dWM0KjQTMtMSNIpTNJI1KnQqNDV1KrQVixLzsoE8HaU0JU1dQx2QjKGmJlRTeZqGoSZXmoYRiEjWMARJQVlGUJYRXMwILmasA4ZwnomOJZxngoVnAuWZwngQ6xcsgNAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>This would be 4 bytes longer as a full program, which is a fairer comparison to <a href="https://codegolf.stackexchange.com/a/223872/78274">earlier</a> <a href="https://codegolf.stackexchange.com/a/166251/78274">answers</a> that had been posted when backslash functions were not yet a thing, and full program was a golfier approach:</p>
<h2><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, 49 bytes</h2>
<pre class="lang-r prettyprint-override"><code>`if`(sd(c(x&lt;-scan(),x)),x+!rank(x,,&quot;f&quot;)-1,c(x,1))
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72waMHGNNsYjUyd4uTEPCBDM1OzemlpSZquxU3DhMy0BI3iFI1kjQobXZC8hqZOhSYQaysWJeZla1To6CilKWnqGuoAVegYampCNVbWcqVpGGoCCSMQkaxhCJKEsoygLCO4mBFczFgHDOE8Ex1LOM8EC88EyjOF8SAOWLAAQgMA" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, 50 bytes</h1>
<pre><code>If[Equal@@#,Append@1,1+#&amp;~MapAt~#&amp;@@Ordering@#]@#&amp;
</code></pre>
<p><a href="https://tio.run/##y00syUjNTSzJTE78n2b73zMt2rWwNDHHwUFZx7GgIDUvxcFQx1BbWa3ON7HAsaROWc3Bwb8oJbUoMy/dQTnWQVntfwCQXRKtrGuXBhRQqwtOTsyrq@aqNqzV4ao2AhFAA0CUsQ4UQsTAUkYwKbgaEx1LoAqu2v8A" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> <code>-MList::Util=,reduce -pa</code>, <s>75</s> 68 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>$F[(grep$_-$F[0],@F)?reduce{$F[$a]&gt;$F[$b]?$b:$a}0..$#F:@F]++;$_=&quot;@F&quot;
</code></pre>
<p><a href="https://tio.run/##K0gtyjH9/1/FLVojvSi1QCVeF8g0iNVxcNO0L0pNKU1OrQYKqCTG2oGopFh7lSQrlcRaAz09FWU3Kwe3WG1ta5V4WyUHN6X//40VDBWMFUz@5ReUZObnFf/X9fXJLC6xsgotycyxhZj2X7cgMQcA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://uiua.org" rel="nofollow noreferrer">Uiua</a>, 19 <a href="https://codegolf.stackexchange.com/a/265917/97916">bytes</a></h1>
<pre><code>(⍜⊡'+1⊢⍏.|⊂∶1)≍↻1..
</code></pre>
<p><a href="https://uiua.org/pad?src=ZiDihpAgKOKNnOKKoScrMeKKouKNjy584oqC4oi2MSniiY3ihrsxLi4KCmYgWzFdCmYgWzJdCmYgWzEgMV0KZiBbMyAzIDMgMyAzXQpmIFsxIDJdCmYgWzIgMV0KZiBbMyAxIDFdCmYgWzMgNCA5IDNdCg==" rel="nofollow noreferrer">Try it!</a></p>
<pre><code>(⍜⊡'+1⊢⍏.|⊂∶1)≍↻1..
                  .  # duplicate
              ≍↻1.   # are all elements equal?
(        |   )       # run the left part if not, or right part if so
          ⊂∶1        # append 1 to end
        .            # duplicate
      ⊢⍏             # index of minimum element
 ⍜⊡'+1               # increment value at that index
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/Thunno/Thunno2" rel="nofollow noreferrer">Thunno 2</a>, 11 <a href="https://github.com/Thunno/Thunno2/blob/main/docs/codepage.md" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>ạ?1a:MçȮ⁺Ẹȧ
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m728JKM0Ly_faMGCpaUlaboWWx7uWmhvmGjle3j5iXWPGnc93LXjxPIlxUnJxVAFC5aa6hjpGEM4AA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h4>Explanation</h4>
<pre class="lang-python prettyprint-override"><code>ạ?1a:MçȮ⁺Ẹȧ  # Implicit input
ạ            # Is it all equal?
 ?           # If it is:
  1a         #  Append a 1
    :        # Otherwise:
     M       #  Take the minimum
      ç  Ẹ   #  Parallely apply:
       Ȯ     #   Index of the minimum
        ⁺    #   Increment the minimum
          ȧ  #  Assign the new value
             # Implicit output
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://www.scala-lang.org/" rel="nofollow noreferrer">Scala</a>, 159 bytes</h1>
<p>Golfed version. <a href="https://tio.run/##RU9Na4QwEL37Kx57SthdaehNO8IeC20vPZZSphrdtDG6MSwW8bfbaKE7DPPx3mM@hpItL93nly4Dntk46DFoVw049T2mJLmyRZ2dvOeft0cX3qm41aCFqZgqXaMRNnsyQ9hweSvJouVQnqeSB40xyy4wNUYiTlvjqBDjXsmI5v88FTE24iL/oA8qXoydc1MLTqs41rgypFa7JpyJlORsr6BtVDZRELp1s4x5u3JegCt7eBA2QNwfoKLLPAHqzkMYPByhEDqoOxkfRrRVXgsvt6b3xgXrhE/b79cQm0bsDtjJlZ2TZF5@AQ" rel="nofollow noreferrer">Try it online!</a></p>
<pre class="lang-scala prettyprint-override"><code>a=&gt;{def g(l:List[Int]):List[Int]=l match{case x::q if x==a.min=&gt;(x+1)::q;case x::q=&gt;x::g(q);case _=&gt;Nil};if(a.distinct.length==1)a:+1 else g(a.toList).toArray}
</code></pre>
<p>Ungolfed version. <a href="https://tio.run/##bVHLSsQwFN33Kw6zSrAOFnfVCrMU1I3gRlzETtqJpumQBqnIfHs9SQtW8RKS@zj3dTLUyqpp6l/fdB1wr4yDHoN2@wG74xFfWQbsdQPjaq877cLOe/UplPclkvp868KLXBuomAbKh7LojHviU4EZWxopEAu2wpohlLjjndJydCWoyJWPeRGFToX6sFQFajVojChLjANMQ7Wq0KG6gRhxhkLOof/QP0J0crZiHNhartEPxuK3EE1nwpzSzbaRhO2e45GbsLXateEQJ2F/RlBykgTVliXbhA59XC1fWJG0E21ZrJpFwjw8d545vsxR8MgrRpreQxhcn6NA6FFcyIWNCP/zN37e5eiNC9YJ0v7@GGi0YpNjI@Xc7ZRN0zc" rel="nofollow noreferrer">Try it online!</a></p>
<pre class="lang-scala prettyprint-override"><code>object Main extends App {

  def incrementArray(arr: Array[Int]): Array[Int] = {
    val minVal = arr.min
    def g(list: List[Int], m: Int): List[Int] = list match {
      case x :: xs if x == m =&gt; (x + 1) :: xs
      case x :: xs           =&gt; x :: g(xs, m)
      case Nil               =&gt; Nil
    }
    if (arr.distinct.length == 1) arr :+ 1
    else g(arr.toList, minVal).toArray
  }

  var r = Array(3, 1, 1);
  for (i &lt;- 1 to 10) {
    r = incrementArray(r)
    println(r.mkString(&quot;, &quot;))
  }

}
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://arturo-lang.io" rel="nofollow noreferrer">Arturo</a>, <s>60</s> 56 bytes</h1>
<pre><code>$-&gt;a-&gt;([]=a--a\0)?-&gt;a++1[i:index a min a a\[i]:a\[i]+1a]
</code></pre>
<p><a href="http://arturo-lang.io/playground?EFj7yY" rel="nofollow noreferrer">Try it</a></p>
</div>
<div id="pu7" class="pu"><h1><a href="https://julialang.org" rel="nofollow noreferrer">Julia 1.8</a>, 44 bytes</h1>
<pre><code>!x=allequal(x) ? [x;1] : (x[argmin(x)]+=1;x)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=bZBBDoIwEEX3PcXAqsS6aIFEJcSDNF00EUxNrQol6V3csOFQbj2JBasEYzf_v5dM0pn7cOq0kn0_dLZebx4kcqXUurp1UmOXwB64K6iAHWDHZXM8K-O1WJW0cEmYedqqtS2UwBGngiDOCLAxaUjPk099zpUtKgs1XdQ01IzANlD2n7KR8l_KvyQQqi8NWFAGpv8i8O_aKGNxHMUEbDIbbXDs9_E28royh_emnyu9AA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p><code>allequal</code> requires julia 1.8 or later</p>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/TryItOnline/TioSetup/wiki/Powershell" rel="nofollow noreferrer">PowerShell</a>, <s>76</s> 60 bytes</h1>

<pre class="lang-powershell prettyprint-override"><code>$x,$y=($a=$args)|sort -u
$a[$a.IndexOf(+$x)]+=!!$y
$a+,1*!$y
</code></pre>
<p><a href="https://tio.run/##dZHfb4IwEMff@1ecpBswyhIrPuyBBbNkiU8uY2/GLBXrfgTFUchw6t/OziIgLmuapv1@7r53zW2Sb5mqdxnHJV2CD7uSFoxufYsKn4r0Tdl7laQZuDmhYkrF7Xi9kMVkaTm0sGeO3@vRLRKH9W/wVh4IIYFFmBVYfZsBngz6tq0FrgXeCprVQa08YNBuzTtKJ7/x5HWR2vNMG5zsT1a8U4p3Ce8Qflaed9o7J4OWeAzu6q699llx7x/uXXJP8@ElH/7hw4bbsIcr2BHAhXNLxZYBlcVGRplc4Fzpa4VSqfI4Q@Eaxx3oQA2mT@FDrrJkNZl/Ys4sqKyOK8yjSCqFOcYp3QBXfuGr9jea2NHRUEdq6xaY43VkIjDde7MRn@tmGmONDuSAv3lM0pXI3BcxjyW4ozxLwo8fWf4C" rel="nofollow noreferrer" title="PowerShell – Try It Online">Try it online!</a></p>
</div>
<div id="pu9" class="pu"><h1><a href="https://github.com/JCumin/Brachylog" rel="nofollow noreferrer">Brachylog</a>, <s>20</s> 17 bytes</h1>
<pre><code>=,1|iᶠo{+₁ʰ}ʰtᵒhᵐ
</code></pre>
<p><a href="https://tio.run/##ATQAy/9icmFjaHlsb2cy//89LDF8aeG2oG97K@KCgcqwfcqwdOG1kmjhtZD//1syLDEsMywxXf9Y" rel="nofollow noreferrer" title="Brachylog – Try It Online">Try it online!</a></p>
<h3>Explanation</h3>
<p>The first case is easy. The second is less so.</p>
<pre><code>=,1|iᶠo{+₁ʰ}ʰtᵒhᵐ
=                  Assert that all elements are equal
 ,1                Append 1
   |               If that failed, try the following instead:
    iᶠ             Get a list of [value, index] pairs for every item in the array
      o            Sort: put smallest value first, and smallest index for equal values
       {   }ʰ      Apply this predicate to the first element of the resulting list:
        +₁ʰ          Add 1 to its first element (first occurrence of min value)
             tᵒ    Sort by the second element of each sublist (index)
               hᵐ  Head of each sublist (value)
</code></pre>
<p>Here's a worked example of the second branch:</p>
<pre><code>               Input: [2,3,1,5,1]
iᶠ             [[2,0], [3,1], [1,2], [5,3], [1,4]]
  o            [[1,2], [1,4], [2,0], [3,1], [5,3]]
   {+₁ʰ}ʰ      [[2,2], [1,4], [2,0], [3,1], [5,3]]
         tᵒ    [[2,0], [3,1], [2,2], [5,3], [1,4]]
           hᵐ  [2,3,2,5,1]
</code></pre>
</div>
<div id="pu10" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog Unicode)</a>, 20 <a href="https://github.com/abrudz/SBCS" rel="nofollow noreferrer">bytes</a></h1>

<pre class="lang-apl prettyprint-override"><code>{⍵+&lt;\⍵=⌊/⍵}⊢,0~⍬≡⊢~⊃
</code></pre>
<p><a href="https://tio.run/##SyzI0U2pTMzJT///v/pR71Ztmxggafuop0sfSNc@6lqkY1D3qHfNo86FQHbdo67m/2mP2iY86u171DfV0x/IP7Te@FHbRCAvOMgZSIZ4eAb/1wDpU3/UNkld59CKtEMrNB/1rtJ41LnoUe8WoIzmo44ZQAMOrVC3VgeKLnjU1QYSVTe0NrI2VDC0NlaAQiDPyNoILAIRN1GwVDBWBwA" rel="nofollow noreferrer" title="APL (Dyalog Unicode) – Try It Online">Try it online!</a></p>
<p>First we append a zero if the input is unique, then increment the first minimum (which will be the trailing zero in the unique case, as the numbers in the input are positive)</p>
<p><code>⊢~⊃</code> Input without all occurences of the first element.<br />
<code>⍬≡</code> Is this the empty vector? (are values in the input the same)<br />
<code>0~</code> 0 without the result of that (a single 0 if all values are the same, empty vector otherwise)<br />
<code>⊢,</code> Append this to the input</p>
<p><code>{⍵+&lt;\⍵=⌊/⍵}</code> Increment the first minimum.<br />
<code>⌊/⍵</code> Minimum value<br />
<code>⍵=</code> Boolean vector with 1's at all minima<br />
<code>&lt;\</code> Less-than scan; only leaves the first 1<br />
<code>⍵+</code> Add this boolean vector to the previous vector</p>
</div>
<div id="pu11" class="pu"><h1>JavaScript, 55 bytes</h1>
<pre class="lang-js prettyprint-override"><code>a=&gt;a.every(e=&gt;e==a[0])?a.push(1):a.fill(Math.max(...a))
</code></pre>
<p>Modifies the array passed to it, otherwise, it's 3 bytes longer:</p>
<pre class="lang-js prettyprint-override"><code>a=&gt;a.every(e=&gt;e==a[0])?a.push(1)&amp;&amp;a:a.fill(Math.max(...a))
</code></pre>
<p><a href="https://tio.run/##RY9BT8MwDIXPza@wdiGRsoxuMDGklAPiggQc4Fb1YBVnK@qSKskGFeK3lzRCQu/gz7b8nvyBZwyt74a4tO6dJqMn1BUqOpMfOemKtMb6shF3qIZTOPBS3KIyXd/zJ4wHdcQvrpRCIabW2RDhjUK8x0ABNNSsqMtGQirrRs6NXMtNpk2iMtON3Mpdpit5nbT9m25mZd7JpIY1jBnneUwB4Mx/kIBvVsTjkAIfX1@e1YA@EM8You/svjNjvhICVit4sOHkCbp4EQDB0ieg9zhKsC6mgSdDnmxLrDA8uQpWzI@5nlTv9tlHLpbVQubdz/QL" rel="nofollow noreferrer">Try it Online!</a></p>
<h2>Explanation</h2>
<pre class="lang-js prettyprint-override"><code>a=&gt;a.every          // Check that every element &quot;e&quot;...
  (e=&gt;e==a[0])      // ...is equal to the first element.
    ?a.push(1)      // If it's the case push 1 at the end.
      :a.fill       // Else fill the entire array...
        (Math.max   // ...with the biggest...
          (...a))   // ...entry of the array.
</code></pre>
<h3>Some notable parts</h3>
<ul>
<li>Checking the first element of the array is valid because all of the elements needs to be the same anyways</li>
<li>If the array have different elements, it will end up being an array filled with the largest number anyways, so let's do directly that</li>
</ul>
</div>
<div id="pu12" class="pu"><h1><a href="https://github.com/Lyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, 10 bytes</h1>
<pre><code>≈[1J|g₌ḟ›Ȧ  # main program
</code></pre>
<pre><code>≈           # all elements in input are equal
 [1J|g₌ḟ›Ȧ  # main if statement
  1J        # if true, append 1 to input
     g₌ḟ›Ȧ  # if false...
     g      # get the minimum
      ₌ḟ›   # push the index of the min and the increment of the min
         Ȧ  # set that index to the increment
            # implicit output
</code></pre>
<p>I came up with this independently but surprisingly it was pretty similar in structure to @AaronMiller's answer.
<a href="https://lyxal.pythonanywhere.com?flags=&amp;code=%E2%89%88%5B1J%7Cg%E2%82%8C%E1%B8%9F%E2%80%BA%C8%A6&amp;inputs=%5B5%2C%202%2C%203%5D&amp;header=&amp;footer=" rel="nofollow noreferrer">Try it Online!</a></p>
</div>
<div id="pu13" class="pu"><h1><a href="https://www.gnu.org/software/gawk/manual/gawk.html" rel="nofollow noreferrer">AWK</a>, 63 bytes</h1>
<pre><code>a=b=1{for(;$++a;d=$b==$a&amp;&amp;c==$a?a+1:b)b=(c=$b)&gt;$a?a:b;$d++}++NF
</code></pre>
<p><a href="https://tio.run/##SyzP/v8/0TbJ1rA6Lb9Iw1pFWzvROsVWJcnWViVRTS0ZRNknahtaJWkm2WokAyU07UAiVknWKina2rXa2n5u//9bKpgAoTEA" rel="nofollow noreferrer" title="AWK – Try It Online">Try it online!</a></p>
<p>The code scans all the numbers presented on the input line and sets variable, <code>d</code>, to the position of the smallest number, or to the number of fields plus one if all values are equal.  Then it increments the number at that position and prints everything.  As a result it either adds a new field with a value of 1 or increments the smallest number in the given set of numbers.</p>
<p>The first condition/test is always true, and just does some initialization.</p>
<pre><code>a=b=1
</code></pre>
<p>The code block is a <code>for</code> loop, which applies one statement to each number from the input line.</p>
<pre><code>for(;$++a;d=$b==$a&amp;&amp;c==$a?a+1:b)b=(c=$b)&gt;$a?a:b
</code></pre>
<p>The check to continue iterating just increments the <code>a</code> &quot;current field&quot; variable and stops when it's gets a 0 (by running off the end of the list).</p>
<pre><code>    $++a
</code></pre>
<p>The body of the loop updates <code>b</code> such that it's always pointing to the position of the smallest number in the input.  The code also has to save the previous position of the smallest number, stored in <code>c</code>, to deal with cases where the minimum is the last number on the line.</p>
<pre><code>    b=(c=$b)&gt;$a?a:b
</code></pre>
<p>The &quot;end of loop&quot; statement sets variable <code>d</code> to the current field &quot;plus one&quot; if the current value matches the current minimum as well as the previous minimum, or to the position of the current minimum otherwise.</p>
<pre><code>    d=$b==$a&amp;&amp;c==$a?a+1:b
</code></pre>
<p>One the loop completes, the code increments whichever field <code>d</code> points to.  If all the fields are the same, it will increment an uninitialized field, which in AWK will default to 0.  Otherwise it will increment the first field with the smallest value.</p>
<pre><code>$d++
</code></pre>
<p>The second condition/test just increments the number of fields in the input line, which will always evaluate to true.  If all the fields were the same numeric value, that change in <code>NF</code> will cause a <code>1</code> to be appended to the list.  And if it changed one of the presented fields the additional field printed as a result of incrementing <code>NF</code> will be an empty string.</p>
<pre><code>++NF
</code></pre>
</div>
<div id="pu14" class="pu"><h1><a href="https://factorcode.org/" rel="nofollow noreferrer">Factor</a>, 77 bytes</h1>
<pre><code>[ dup all-eq? [ 1 suffix ] [ dup [ ] infimum-by* 1 + swap pick set-nth ] if ]
</code></pre>
<p><a href="https://tio.run/##RY65jsJAEERzvqJikJE4gl0ICBEJCSKyHPSaHjNi3B7mEPau@HbvcKulUrXeC0pRGRrX73eb7XqByjXRaqlQsbAjo38p6EY8TuyEDTyfI0vJ/tPG3AZHHjWFI6zjEDrrtAQsB4M/THBNOb3n5PnN3nd9KNOn9MIfcY7vm9bnOEQLMibj8wp54j4qpVsUeKA8NS1K17HOfrphEkbwF7KwujylsSGTNC85CkX/BSFrTYexR2mYXP8P" rel="nofollow noreferrer" title="Factor – Try It Online">Try it online!</a></p>
<p>Went through a bunch of different iterations of this. <code>tri</code> was shorter than stack shufflers, amazingly, when using <code>change-nth</code>, but locals were king. However, we can attain even fewer bytes by using <code>infimum-by*</code>, which places both the index and value of the smallest element on the stack.</p>
</div>
<div id="pu15" class="pu"><h1><a href="https://www.vim.org" rel="nofollow noreferrer">Vim</a>, 49 bytes</h1>
<pre><code>y$i,&lt;esc&gt;:s/^\(,\d*\)\1*$/&amp;,0
/\&lt;&lt;C-r&gt;=min([&lt;C-r&gt;&quot;])
\&gt;
f0&lt;C-a&gt;|x
</code></pre>
<p>Takes the array as comma-separated integers in the buffer. <a href="https://tio.run/##K/v/v1IlU8cmtTjZzqpYPy5GQycmRStGM8ZQS0VfTceASz/GxsZZt8jONjczTyMazFSK1eSKseNKMwDyEu1qKv7/N9IxNtQx1jH8r1sGAA" rel="nofollow noreferrer" title="V (vim) – Try It Online">Try it online!</a></p>
<h3>Explanation</h3>
<pre><code>y$i,&lt;esc&gt;
</code></pre>
<p>Yank the original list of integers; then insert an extra comma at the beginning.</p>
<pre><code>:s/^\(,\d*\)\1*$/&amp;,0&lt;cr&gt;
</code></pre>
<p>Using regex, determine if the entire line consists of the same number. If so, append <code>,0</code>.</p>
<pre><code>/\&lt;...\&gt;&lt;cr&gt;
</code></pre>
<p>Find the first match of <code>...</code> as a full word (<code>\&lt;</code> and <code>\&gt;</code> represent word boundaries, corresponding to <code>\b</code> in PCRE), where <code>...</code> is:</p>
<pre><code>&lt;C-r&gt;=min([&lt;C-r&gt;&quot;])&lt;cr&gt;
</code></pre>
<p>Using the expression register, calculate the minimum of the original list.</p>
<p>If the original list was heterogeneous, the cursor is now on the number we want to increment. If the original list was all equal, however, we want to increment the 0 at the end, so:</p>
<pre><code>f0
</code></pre>
<p>Move to the next occurrence of <code>0</code> on the line. If there is no <code>0</code>, this does nothing.</p>
<pre><code>&lt;C-a&gt;|x
</code></pre>
<p>Increment the number under the cursor. Go to the beginning of the line and delete the extra comma.</p>
</div>
<div id="pu16" class="pu"><h1><a href="https://github.com/Lyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a> <code>aW</code>, <s><sup>21</s></sup> 18 bytes</h1>
<p><em>-3 bytes by using the register instead of variables.</em></p>
<pre><code>:≈[1J|:g£(nn¥=[›0£
</code></pre>
<p><a href="http://lyxal.pythonanywhere.com?flags=aW&amp;code=%3A%E2%89%88%5B1J%7C%3Ag%C2%A3%28nn%C2%A5%3D%5B%E2%80%BA0%C2%A3&amp;inputs=2%0A2%0A2%0A2%0A2%0A2&amp;header=&amp;footer=" rel="nofollow noreferrer">Try it Online With Equal Elements!</a></p>
<p><a href="http://lyxal.pythonanywhere.com?flags=aW&amp;code=%3A%E2%89%88%5B1J%7C%3Ag%C2%A3%28nn%C2%A5%3D%5B%E2%80%BA0%C2%A3&amp;inputs=5%0A6%0A1%0A2%0A4%0A3&amp;header=&amp;footer=" rel="nofollow noreferrer">Try it Online With Unequal Elements!</a></p>
<p>Explanation:</p>
<pre><code>                    # Implicit input; a flag takes input as list
:                   # Duplicate input
 ≈[1J               # If all elements are equal: append 1
     |:g£           # Else: save minimum value to the register
         (          # For every element in the input:
          n         # Duplicate current element n
           n¥=[     # If current element n == register value:
               ›0£  # Increment current element and clear the register
                    # Implicit output; W flag outputs full stack
</code></pre>
</div>
<div id="pu17" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, 63 bytes</h1>

<pre class="lang-r prettyprint-override"><code>`if`(any((v=scan())-v[1]),{v[m]=v[m&lt;-which.min(v)]+1;v},c(v,1))
</code></pre>
<p><a href="https://tio.run/##lY5BCoMwFET3OUWwm/@pFkQ3rc1JRDDEiIH6LRpTRDx7mlJKF8VFGZjFGxje6H1t2hokLQBOTEoSICauTCuMV1f2lQh1TR6dUd2pNwQOq2NauC1W4OIU0Wc8hLEDH3WjW0Oay4m3MylrBuJ24ONMYbtraXVzWy7MkBKfHSyu7MfACvufBNuYpEmEZ4hePmeeRVgE9MX5Hs73cf7G/gk" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>
<p>Had a shot at this without peeking at the <a href="https://codegolf.stackexchange.com/a/166251/95126">previous R answer</a> first.</p>
<p>Although the overall approaches are pretty similar, this pleasingly comes-out 2 bytes shorter.</p>
<p>Here we use a code block (enclosed in curly brackets <code>{}</code>) as an expression, which allows us to adjust a chosen element of the input vector <code>v</code>, and let the expression evaluate to the new value of <code>v</code>.<br />
Shorter, but less fancy than the <a href="https://codegolf.stackexchange.com/a/166251/95126">previous approach</a> of abusing the indexing operator <code>[&lt;-</code> as a function (which definitely deserves an upvote anyway).</p>
</div>
<div id="pu18" class="pu"><h1><a href="https://github.com/JohnEarnest/ok" rel="nofollow noreferrer">K (oK)</a>, 24 bytes</h1>
<p><strong>Solution:</strong></p>
<pre><code>{(x[x?&amp;/x]+:1;x,1)1=#?x}
</code></pre>
<p><a href="https://tio.run/##y9bNz/7/P82qWqMiusJeTb8iVtvK0LpCx1DT0FbZvqL2f5q6ho6htY6RtaGCobWxAhQCeUbWRmARiLiJgqWCseZ/AA" rel="nofollow noreferrer" title="K (oK) – Try It Online">Try it online!</a></p>
<p><strong>Explanation:</strong></p>
<p>Nothing too fancy, potentially golfable further:</p>
<pre><code>{(x[x?&amp;/x]+:1;x,1)1=#?x} / the solution
{                      } / anonymous lambda taking implicit x argument
                     ?x  / get distinct values in x
                    #    / count length
                  1=     / is it 1?
 (           ;   )       / two item list which is index into
              x,1        / append 1 to input
  x[     ]+:1            / modify x in-place (add 1) at index given in []
      &amp;/x                / minimum of x
    x?                   / lookup index (returns first one)
</code></pre>
</div>
<div id="pu19" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog Unicode)</a>, 48 bytes</h1>

<pre class="lang-apl prettyprint-override"><code>f←{1≥≢∪⍵:⍵,1⋄1+@(⊃⍋⍵)⊢⍵}
</code></pre>
<p><a href="https://tio.run/##SyzI0U2pTMzJT///P@1R24Rqw0edSx91LnrUsepR71YrINYxfNTdYqjtoPGoq/lRbzdQRPNR1yIgVQvUoWDIBcRQ0ghIGikYQ9gKxgomYD6MZQyWAZIKhgA" rel="nofollow noreferrer" title="APL (Dyalog Unicode) – Try It Online">Try it online!</a></p>
<p>Alternate versions of <code>1+@(⊃⍋⍵)⊢⍵</code>: <code>⍵+(⍳≢⍵)=⊃⍋⍵</code>, <code>⊢+⍳∘≢=⊃∘⍋</code>. -2 thanks to @Adam and @Razetime.</p>
<p>Explanation:</p>
<pre class="lang-apl prettyprint-override"><code>{1≥≢∪⍵:⍵,1⋄1+@(⊃⍋⍵)⊢⍵}
 1≥≢∪⍵                   ⍝ if all elements are identical
       ⍵,1               ⍝ then yield ⍵ with 1 appended to the end.
          ⋄              ⍝ ... else,
              (⊃⍋⍵)      ⍝ index of the smallest value
           1+@     ⊢⍵    ⍝ increment the value from ⍵
</code></pre>
</div>
<div id="pu20" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, <s>72 66</s> 65 bytes</h1>



<pre class="lang-r prettyprint-override"><code>"if"(any((x=scan())-x[1]),"[&lt;-"(x,u&lt;-which.min(x),1+x[u]),c(x,1))
</code></pre>

<p><a href="https://tio.run/##K/r/XykzTUkjMa9SQ6PCtjg5MU9DU1O3ItowVlNHKdpGV0mjQqfURrc8IzM5Qy83M0@jQlPHULsiuhQonwyUM9TU/G@kYKRg/B8A" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>

<p>Increment is done using <code>which.min</code> which returns the first match. <code>"[&lt;-"</code> allows to replace the value and returns the modified vector in one function call.</p>

<p>-7 bytes thanks to Giuseppe!</p>
</div>
<div id="pu21" class="pu"><h1>SmileBASIC, 77 bytes</h1>
<pre><code>DEF I A
IF MIN(A)==MAX(A)THEN PUSH A,0
WHILE A[I]&gt;MAX(A)I=I+1WEND
INC A[I]END
</code></pre>
</div>
<div id="pu22" class="pu"><h1>SmileBASIC 3, 101 bytes</h1>

<p>Defines a statement function <code>I A</code> where <code>A</code> is our integer array of numbers. Output is achieved by modifying the input (as arrays are references.)</p>

<pre><code>DEF I A
M=MIN(A)IF M==MAX(A)THEN PUSH A,1RETURN
FOR C=0TO LEN(A)IF M==A[C]THEN INC A[C]BREAK
NEXT
END
</code></pre>
</div>
<div id="pu23" class="pu"><h1><a href="http://tcl.tk/" rel="nofollow noreferrer">Tcl</a>, 114 bytes</h1>

<pre><code>proc I a {if [llength [set S [lsort -u $a]]]&lt;2 {lappend a 1} {lset a [lsearch $a [set m [lindex $S 0]]] [incr m]}}
</code></pre>

<p><a href="https://tio.run/##XY/BCoMwEETv@Yo5eC3U1B5a@gOePVoPIaZViDFohELIt9td1B5KCJndecNugrbr6qdRo4RC7F@orTXuHTrUswmoqJ7HKeC0IFNN0zwkolXeG9dSIE9UMaeYM2rSHWFbdKBW71rzQVbhTFHUvdMThial1Q7K80AR8ySipJuD1QX7SYJbbEg22DkI@XvlnpAbUODGwVj8qYLU9VCCVvZLmGnP@xN1yd9KYv0C" rel="nofollow noreferrer" title="Tcl – Try It Online">Try it online!</a></p>
</div>
<div id="pu24" class="pu"><h1>MATLAB, <s>66</s> 53 bytes</h1>
<pre><code>if(range(a))[~,b]=min(a);a(b)=a(b)+1;else;a=[a 1];end
</code></pre>
<p>Output:</p>
<p>Initialize:</p>
<pre><code>a = [3 2]
</code></pre>
<p>Successive runs:</p>
<pre><code>[3 2] -&gt; [3 3] -&gt; [3 3 1] -&gt; [3 3 2] -&gt; [3 3 3] -&gt; [3 3 3 1] ...
</code></pre>
</div>
<div id="pu25" class="pu"><h1>Java 8, 85 + 38 = 123 bytes</h1>



<p>Void lambda taking a <code>List&lt;Integer&gt;</code> (output is mutated input). Byte count includes lambda and required import.</p>

<pre class="lang-java prettyprint-override"><code>import static java.util.Collections.*;
</code></pre>

<p></p>

<pre class="lang-java prettyprint-override"><code>l-&gt;{if(min(l)==max(l))l.add(0);int i=0,n;while((n=l.get(i))&gt;min(l))i++;l.set(i,n+1);}
</code></pre>

<p><a href="https://tio.run/##hVFda8IwFH1uf8VFEJIZg@7jYastDJ8G25OPw4esRnddmpYk1Yn0t7vYdtSJ2yAk5NxzT87JXYuNGOaF1OvFxwGzIjcOrBMOU1j7Ei8dKj7NlZKpw1xbfhWFYVG@KU9IlbAWXgRq2IdBC7bNS9RCnUgsS10LeC1ty0yaSVd7RusmT9rJlTRJAqhTIzPp7wbigxome1ySDDVRNI4z8elPqrhYLMiIRqgdYDxiOtq@o5KE6FjxlXQEKU2aJoqDQaS4PYJMD8Y0qg6BT3HmeJPjAjIfhsycQb16nYMwK0uP2YLW3evco6mw0kIMWm7hFD/ygh8g7McVu4DeMOjWRcY1g8utdwxuGdz7vS5Xkd@WuQHSccTUG4SHxmdjP/jls/1fF6Vrs3ScR2PEriYm5Ay1XNhjhdSvUBr9pZ6X7j/52kCjcjJ3LtJUFo40Ak15trNOZtxDvPDzcep7UNznz4Qjvb6FYQJ922NNLtYaaFxWoV9VePgC" rel="nofollow noreferrer">Try It Online</a></p>

<p>This almost looks like Python with those method imports...</p>
</div>
<div id="pu26" class="pu"><h1>C++14, <s>178 176 174 155 142</s> 135 bytes</h1>
<h1>submission</h1>
<pre><code>#include&lt;list&gt;
#include&lt;algorithm&gt;
[](auto&amp;l){auto e=end(l),b=begin(l);l.size()^count(b,e,*b)?++*min_element(b,e):(l.push_back(1),0);};
</code></pre>
<h1>invocation</h1>
<pre><code>std::list&lt;int&gt; s = {4, 4, 9, 4};

//invoke like this
auto i = [](auto&amp;l){auto e=end(l),b=begin(l);l.size()^count(b,e,*b)?++*min_element(b,e):(l.push_back(1),0);};
i(s);

//or like that
[](auto&amp;l){auto e=end(l),b=begin(l);l.size()^count(b,e,*b)?++*min_element(b,e):(l.push_back(1),0);}(s);
</code></pre>
<h2>ungolfed</h2>
<pre><code>#include &lt;list&gt;
#include &lt;algorithm&gt;
#include &lt;iostream&gt;
using namespace std;

void i(list&lt;int&gt;&amp; l) {
    auto e = l.end(), b = l.begin();
    
    if (l.size() == count(b, e, l.front())) {
        l.push_back(1);
    } else {
        ++*min_element(b, e);
    }
}

int main() {
    list&lt;int&gt; s = {4, 4, 9, 4};

    //invoke like this
    i(s);
    
    for (auto o:s)
        std::cout &lt;&lt; o &lt;&lt; ' ';
    std::cout &lt;&lt; std::endl;
}
</code></pre>
<p>This is my first time playing golf, help is appreciated.</p>
<p>EDIT: forgot to mention you have to compile it with at least <s><code>-std=c++11</code></s> <code>-std=c++14</code></p>
<p>EDIT2: I realized i can leave out the space in the includes <code>#include &lt;list&gt;</code></p>
<p>EDIT3: saved two more bytes by replacing <code>l.begin()</code> by <code>begin(l)</code></p>
<p>EDIT4: saved another 19(!) bytes thanks to @Quentin (see his comment)</p>
<p>EDIT5: Quentin shaved off 13 more bytes, thanks!</p>
<p>EDIT6: as TuukkaX pointed out, unnamed lambdas/functions suffice so i removed the <code>auto i=</code> in the bytecount</p>
</div>
<div id="pu27" class="pu"><p><strong>Clojure, <s>112</s> 100 bytes</strong></p>

<p>Unfortunately <code>min-key</code> returns the last index of the smallest index, not the first one. This works for integer inputs and shorter arrays than 10^9 elements ;)</p>

<p>Edit: Defining an anonymous function, using <code>(apply = a)</code> instead of <code>(= 1(count(set a)))</code>.</p>

<pre><code>(fn[a](if(apply = a)(conj a 1)(update a(apply min-key #(+(nth a %)(* % 1e-9))(range(count a)))inc)))
</code></pre>

<p>Original:</p>

<pre><code>(defn f[a](if(= 1(count(set a)))(conj a 1)(update a(apply min-key #(+(nth a %)(* % 1e-9))(range(count a)))inc)))
</code></pre>

<p>A less hacky 134-byte solution reverses the vector before updating it and then reverse it back again:</p>

<pre><code>(defn f[a](if(= 1(count(set a)))(conj a 1)(let[r #(vec(reverse %))a(r a)](r(update a(apply min-key #(nth a %)(range(count a)))inc)))))
</code></pre>
</div>
<div id="pu28" class="pu"><h1><a href="https://github.com/Mego/Seriously" rel="nofollow noreferrer">Actually</a>, 18 bytes</h1>

<p>The algorithm used in this answer is largely based on <a href="https://codegolf.stackexchange.com/a/101421/47581">Dennis' Jelly answer</a>. Golfing suggestions welcome! <a href="https://tio.run/nexus/actually#@29t7etQqlxonetweK2Bw7mNhg6Fh5b@/x9tqmMMgbEA" rel="nofollow noreferrer" title="Actually – TIO Nexus">Try it online!</a></p>

<pre><code>;;M@u#q;m@í0@α1@q¥
</code></pre>

<p><strong>Ungolfing</strong></p>

<pre><code>      Implicit input a.
;;    Duplicate a twice.
M     Get the maximum of a.
@u#   Increment all of a and convert back to a list.
q;    Append max(a) to the end of a_plus_one, and duplicate. Call it b.
m@í   Get index of the minimum of b. Call it min_index.
        If all elements of a were equal, this is the maximum at the end.
        Else, it's somewhere else in the array.
0@α   Push a list of min_index zeroes.
1@q   Append a 1 to the end. Call this array c.
        This will increment at the desired index or otherwise append a 1.
¥     Pairwise add a and c to get our incremented array.
      Implicit return.
</code></pre>
</div>
<div id="pu29" class="pu"><h1><strong>MATLAB, <s>69</s> 67 bytes</strong></h1>

<pre><code>function a=f(a);if~range(a)a=[a 1];else[~,j]=min(a);a(j)=a(j)+1;end
</code></pre>

<p><code>range(a)</code> is non-zero if not all elements are equal, and <code>[~,j]=min(a)</code> assigns the index of the minimum value in a to j, defaulting to the first value it finds. Input is a row vector. Saved 2 bytes by reversing the if/else logic to get rid of some semicolons (<code>else[~,j]</code> is legal, but <code>elsea=[a 1]</code> is not).</p>
</div>
<div id="pu30" class="pu"><h1>Matlab, <s>83</s>, <s>77</s>, 71 Bytes</h1>
<pre><code>function a=x(a)
if~nnz(a-a(1));a=[a,1];else[~,I]=min(a);a(I)=a(I)+1;end
</code></pre>
<p>I'm relatively new to code golf so please be kind! I tried to use anonymous functions but googling says you can't use if/else statements and matlab doesn't have ternary operators, so this is the best i felt I could do.</p>
<p>Edit: Corrected and shortened (twice!) thanks to stewie-griffin.</p>
</div>
<div id="pu31" class="pu"><h1>C#, <s>123</s> <s>121</s> <s>120</s> <s>79</s> 77 bytes</h1>

<pre><code>using System.Linq;l=&gt;{if(l.All(o=&gt;o==l[0]))l.Add(0);l[l.IndexOf(l.Min())]++;}
</code></pre>

<p>Modifies the argument passed to the function.</p>

<p>Thanks to <a href="https://codegolf.stackexchange.com/users/41042/cyoce">Cyoce</a> for saving 3 bytes! -> <code>!Any</code> to <code>All</code>, <code>+=1</code> to <code>++</code>.</p>

<p>Thanks to <a href="https://codegolf.stackexchange.com/users/38550/thelethalcoder">TheLethalCoder</a> for saving a whopping 43 bytes! -> Removed method signature code.
Removed parenthesis around the parameter list.</p>
</div>
<div id="pu32" class="pu"><h2>Groovy - 45 bytes</h2>

<p>A groovy closure which accepts a list of Integer as input - please note this modifies the input <code>List</code>.</p>

<p><code>{o->(o-o[0])?o[o.indexOf(o.min())]+=1:o&lt;&lt;1;o}</code></p>

<p>Test cases can be seen here:</p>

<p><a href="http://ideone.com/9vRd9e" rel="nofollow noreferrer">http://ideone.com/9vRd9e</a></p>

<p>Alternative of 56 bytes if the code needs to work with <code>int[]</code> or <code>List&lt;Integer&gt;</code>:</p>

<p><code>{o=it.toList();(o-o[0])?o[o.indexOf(o.min())]+=1:o&lt;&lt;1;o}</code></p>
</div>
<div id="pu33" class="pu"><p><strong>Mathematica, <strike>53 bytes </strike><strike>57 bytes</strike> 59 bytes</strong></p>

<pre><code>If[Equal@@#,#~Join~{1},x=#;x[[#~FirstPosition~Min@#]]++;x]&amp;
</code></pre>
</div>
<div id="pu34" class="pu"><h1>PHP, 79 bytes</h1>
<pre><code>function i($a){max($a)&gt;($n=min($a))?$a[array_search($n,$a)]++:$a[]=1;return$a;}
</code></pre>
<p>I think this needs no explanation.</p>
</div>
<div id="pu35" class="pu"><h2>J, <s>25</s> 22 bytes</h2>

<pre><code>(+~:*[=&lt;./)@,0#~1=#@~.
</code></pre>

<p>Evaluates to an anonymous verb.
<a href="https://tio.run/nexus/j#@5@mYGuloKFdZ6UVbWujp6/poGOgXGdoq@xQp/c/NTkjXyFNQUfBkAvONIIxDRGixjCIkIMrM0JWhqLHRMESocMEG9cExjWFcP8DAA" rel="nofollow noreferrer" title="J – TIO Nexus">Try It Online!</a></p>

<h2>Explanation</h2>

<pre><code>(+~:*[=&lt;./)@,0#~1=#@~.  Input is y.
                  #@    Is the length of
                    ~.   deduplicated y
                1=       equal to 1?
            ,0#~        Append that many 0s to y (one or none).
(         )@            Call the result z and apply this verb to it:
      =                  take the bit array of equality
     [                   between z
       &lt;./               and its minimum element,
    *                    multiply that element-wise by
  ~:                     the bit array of first occurrences in z
 +                       and add the result to z.
</code></pre>
</div>
<div id="pu36" class="pu"><h1>Python 3, <s>62</s> <s>53</s> <s>51</s> 50 bytes</h1>

<p>Function which modifies the list passed to it (<a href="http://meta.codegolf.stackexchange.com/questions/2447/default-for-code-golf-input-output-methods/4942#4942">allowed by meta</a>). </p>

<pre class="lang-py prettyprint-override"><code>def F(a):a+=1//len({*a})*[0];a[a.index(min(a))]+=1
</code></pre>

<p><a href="https://repl.it/E9oy/2" rel="nofollow noreferrer"><strong>Try on repl.it!</strong></a></p>

<p>-9 bytes thanks to Lynn for spotting that, because the array will be of positive integers, I can append '0' to the end of the array and have that incremented.</p>

<p>Special thanks to mbomb007 for golfing <code>len(set(a))</code> to <code>len({*a})</code>, and Dennis for the floordiv trick!</p>
</div>
<div id="pu37" class="pu"><h1>TI-Basic, 53 bytes</h1>
<pre><code>If min(not(ΔList(Ans
Then
Ans-&gt;L1
cumSum(1 or Ans
min(Ans+ᴇ9(L1≠min(L1
L1(Ans)+1-&gt;L1(Ans
Else
augment(Ans,{1
End
</code></pre>
</div>
<div id="pu38" class="pu"><h1>JavaScript (ES6), 61 bytes</h1>



<pre class="lang-js prettyprint-override"><code>a=&gt;new Set(a).size&gt;1?++a[a.indexOf(Math.min(...a))]:a.push(1)
</code></pre>

<p>Outputs by <a href="https://codegolf.meta.stackexchange.com/a/4942/42545">modifying its argument</a>. I can't find a way to determine whether an array has only one unique item in less that 17 bytes, but suggestions are welcome.</p>

<h3>Test snippet</h3>

<p><div class="snippet" data-lang="js" data-hide="true" data-console="true" data-babel="false">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-js lang-js prettyprint-override"><code>f=a=&gt;new Set(a).size&gt;1?++a[a.indexOf(Math.min(...a))]:a.push(1)
g=a=&gt;0 in a?console.log("Input:",`[${a}]`,"Output:",`[${f(a),a}]`):console.log("Invalid input")

g([1])
g([2])
g([1,1])
g([1,2,2,3])
g([2,2,2,3])
g([3,2,2,3])
g([3,3,2,3])
g([3,3,3,3])
g([3,3,3,3,1])</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;input id=I value="1,2,2,3"&gt;&lt;button  onclick="g(I.value.match(/\d+/g)||[])"&gt;Run&lt;/button&gt;</code></pre>
</div>
</div>
</p>

<h3>Other attempts</h3>

<p>Here are a few alternate ways of deciding whether the array has more than one unique input:</p>

<pre class="lang-js prettyprint-override"><code>a=&gt;a.some(x=&gt;x-a[0])?++a[a.indexOf(Math.min(...a))]:a.push(1)
a=&gt;a.some(x=&gt;x-m,m=Math.min(...a))?++a[a.indexOf(m)]:a.push(1)
</code></pre>

<p>Both of the <code>some</code>s can be replaced with <code>find</code> as well. <code>.sort</code> would be shorter for finding the minimum, if the default sort wasn't lexicographical (why, JS, why?):</p>

<pre class="lang-js prettyprint-override"><code>a=&gt;new Set(a).size&gt;1?++a[a.indexOf(a.sort()[0])]:a.push(1)
// Instead we have to do:
a=&gt;new Set(a).size&gt;1?++a[a.indexOf(a.sort((x,y)=&gt;x-y)[0])]:a.push(1)
</code></pre>

<p>I tried recursion to find the minimum, but it turned out way longer:</p>

<pre class="lang-js prettyprint-override"><code>f=(a,n=1,q=a.indexOf(n))=&gt;~q?a.some(x=&gt;x-n)?++a[q]:a.push(1):f(a,n+1)
</code></pre>

<p>And here's a string-based solution which seemed like a good idea at first: (input is given in array format in a string, e.g. <code>"[1,2,3]"</code>)</p>

<pre class="lang-js prettyprint-override"><code>a=&gt;a.replace(m=/(\d+),(?!\1)/.test(a)?Math.min(...eval(a)):']',+m+1||",1]")
</code></pre>
</div>
<div id="pu39" class="pu"><h2>Scratch, <s>25</s> 34 blocks + <s>7</s> 6 bytes</h2>
<p><a href="https://i.stack.imgur.com/vgMtN.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/vgMtN.png" alt="Program" /></a></p>
<p>Takes input as a predefined array of integers. Note that arrays are 1-indexed in Scratch.</p>
<p>In Python, this would look like: (Note that unlike Scratch, Python is 0-indexed)</p>
<pre><code>lowval = 0
hival = 0
n = 1
for i in range(len(input)):
    if(input[i] &lt; input[lowval]):
        lowval = i
    if(input[i] &gt; input[hival]):
        hival = i
    # No increment statement needed because python.
if(lowval == hival):
    input.append(1)
else:
    input[lowval] += 1
print(input)
</code></pre>
</div>
<div id="pu40" class="pu"><h1>jq, 44 characters</h1>
<pre><code>if unique[1]then.[index(min)]+=1else.+[1]end
</code></pre>
<p>Sample run (<code>-c</code> (<code>--compact-output</code>) option used only here for readability):</p>
<pre><code>bash-4.3$ jq -c 'if unique[1]then.[index(min)]+=1else.+[1]end' &lt;&lt;&lt; '[3,1,1]'
[3,2,1]

bash-4.3$ jq -c 'if unique[1]then.[index(min)]+=1else.+[1]end' &lt;&lt;&lt; '[3,2,1]'
[3,2,2]

bash-4.3$ jq -c 'if unique[1]then.[index(min)]+=1else.+[1]end' &lt;&lt;&lt; '[3,2,2]'
[3,3,2]

bash-4.3$ jq -c 'if unique[1]then.[index(min)]+=1else.+[1]end' &lt;&lt;&lt; '[3,3,2]'
[3,3,3]

bash-4.3$ jq -c 'if unique[1]then.[index(min)]+=1else.+[1]end' &lt;&lt;&lt; '[3,3,3]'
[3,3,3,1]
</code></pre>
<p>On-line test:</p>
<ul>
<li><a href="https://jqplay.org/jq?q=if%20unique%5B1%5Dthen.%5Bindex(min)%5D%2b=1else.%2b%5B1%5Dend&amp;j=%5B3,3,3,3,3%5D" rel="nofollow noreferrer">[3,3,3,3,3]</a></li>
<li><a href="https://jqplay.org/jq?q=if%20unique%5B1%5Dthen.%5Bindex(min)%5D%2b=1else.%2b%5B1%5Dend&amp;j=%5B3,4,9,3%5D" rel="nofollow noreferrer">[3,4,9,3]</a></li>
</ul>
</div>
<div id="pu41" class="pu"><h2>Haskell, <s>71 70</s> 62 bytes</h2>

<pre><code>f(a:b)|(x,y:z)&lt;-span=&lt;&lt;(&lt;).minimum$a:b++[0|all(a==)b]=x++y+1‌​:z
</code></pre>

<p>@Zgarb saved 8 bytes, thanks!</p>

<p>When I started I hoped for some elegant tying-the-knot trickery, but @Zgarb's way is just as amazing.</p>
</div>
<div id="pu42" class="pu"><h2>R, 97 bytes</h2>
<pre><code>if(all((a=scan())==a[1])){a=c(a,1)}else{while(!all(a==a[1])){a[which(a==min(a))][1]=min(a)+1}};a
</code></pre>
<p>Too bad that the synthax <code>x=+1</code> doesn't exist in R !</p>
<p><strong>Ungolfed :</strong></p>
<pre><code>if(all((a=scan())==a[1]))
{
    a=c(a,1)
}
else
{
    while(!all(a==a[1]))
    {
        a[which(a==min(a))][1]=min(a)+1
    }
a
</code></pre>
</div>
<div id="pu43" class="pu"><h1>Mathematica, <s>70</s> <s>57</s> 55 bytes</h1>

<p><em>Virtually all of the improvement is due to Martin Ender, who kicks my ass at pattern matching approaches! Also JHM came up with essentially the same solution at essentially the same time.</em> (byte count uses ASCII encoding)</p>

<pre><code>±{p:x_ ..}:={p,1};±{x___,y_,z___}/;y≤x~Min~z:={x,y+1,z}
</code></pre>

<p>Defines a function <code>±</code> taking one list argument. If that list argument contains some number of copies of the same element (detected by <code>x_..</code> and named <code>p</code>), then output the list with a <code>1</code> appended. Otherwise, if that list argument has a special element <code>y</code> (with <code>x</code> being the zero or more elements before <code>y</code>, and <code>z</code> being the zero or more elements after <code>y</code>) which is at most the minimum of the other elements, then output the list with that <code>y</code> incremented. Any instance of the minimum element of the list will be matched by <code>y</code>, but fortunately Mathematica chooses the first one to act upon.</p>
</div>
<div id="pu44" class="pu"><h1>Mathematica, 56 bytes</h1>
<pre><code>±{b:a_ ..}:={b,1};±a_:=a/.{p___,b:Min@a,q___}:&gt;{p,b+1,q}
</code></pre>
<p>Uses named function <code>±</code>. Uses ISO8859-1 encoding</p>
<p><strong>Alternative solutions (58 bytes)</strong></p>
<pre><code>±{b:a_ ..}:={b,1};±{p___,b_,q___}/;b&lt;=p~Min~q:={p,b+1,q}
(* @GregMartin and I both independently came up with this above solution *)

±{b:a_ ..}:={b,1};±a:{p___,b_,q___}/;b==Min@a:={p,b+1,q}
</code></pre>
<p><strong>Usage</strong></p>
<pre><code>±{1, 1}
</code></pre>
<blockquote>
<p><code>{1, 1, 1}</code></p>
</blockquote>
<pre><code>±{3, 4, 5}
</code></pre>
<blockquote>
<p><code>{4, 4, 5}</code></p>
</blockquote>
</div>
<div id="pu45" class="pu"><h1>Octave, <s>69</s> <s>67</s> 64 bytes</h1>
<p>It was actually shorter to make this a complete named function than using both <code>input</code> and <code>disp</code>.</p>
<p>Saved 3 bytes thanks to Luis.</p>
<pre><code>function x=f(x)
[a,b]=min(x);if any(x-a),x(b)++;else x=[x,1];end
</code></pre>
<p>Old answer, not using a function:</p>
<pre><code>[a,b]=min(x=input(''));if any(x-a),x(b)++;else x(end+1)=1;end;disp(x)
</code></pre>
</div>
<div id="pu46" class="pu"><h2>Kotlin, 75 bytes</h2>

<pre><code>fun a(s:MutableList&lt;Int&gt;){if(s.toSet().size&lt;2)s+=0;s[s.indexOf(s.min())]++}
</code></pre>

<p>Modifies the function argument.</p>

<p>Damn you strong typing! <code>:MutableList&lt;Int&gt;</code> accounts for 17 bytes alone. I don't think there is a solution where the type can be inferred, unfortunately.</p>
</div>
<div id="pu47" class="pu"><h1><a href="https://github.com/wonderlang/wonder" rel="nofollow noreferrer">Wonder</a>, 44 bytes</h1>

<pre><code>@[dp1unq#0?:=#[:0(iO f\min#0)#0+1f]#0?++#0 1
</code></pre>

<p>This is not what I had in mind when I made this language... It's literally worse than Perl in terms of readability!</p>

<p>Usage:</p>

<pre><code>(@[dp1unq#0?:=#[:0(iO f\min#0)#0+1f]#0?++#0 1])[3 4 9 3]
</code></pre>

<h1>Explanation</h1>

<p>More readable:</p>

<pre><code>@[
  dp 1 unq #0
    ? set #[
            get 0 (iO f\ min #0) #0
            + 1 f
           ] #0
    ? con #0 1
 ]
</code></pre>

<p>Basically checks if dropping 1 item from the unique subset of the argument makes the list empty. If not, then we increment the minimum of the array. Otherwise, we simply concatenate 1 to the argument.</p>
</div>
<div id="pu48" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="noreferrer">Jelly</a>, <s>8</s> 7 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="noreferrer">bytes</a></h1>

<pre><code>‘;ṀỤḢṬ+
</code></pre>

<p><a href="http://jelly.tryitonline.net/#code=4oCYO-G5gOG7pOG4ouG5rCs&amp;input=&amp;args=WzMsIDMsIDMsIDMsIDNd" rel="noreferrer">Try it online!</a> or <a href="http://jelly.tryitonline.net/#code=4oCYO-G5gOG7pOG4ouG5rCsKxbzDh-KCrEvigqzigqxq4oKs4oCcIC0-IOKAnVk&amp;input=&amp;args=WzFdLCBbMl0sIFsxLCAxXSwgWzMsIDMsIDMsIDMsIDNdLCBbMSwgMl0sIFsyLCAxXSwgWzMsIDEsIDFdLCBbMywgMiwgMV0sIFszLCAyLCAyXSwgWzMsIDMsIDJdLCBbMywgNCwgOSwgM10sIFs0LCA0LCA5LCAzXSwgWzQsIDQsIDksIDRdLCBbNSwgNCwgOSwgNF0" rel="noreferrer">verify all test cases</a>.</p>

<h3>How it works</h3>

<pre><code>‘;ṀỤḢṬ+  Main link. Argument: A

‘        Increment all elements of A.
  Ṁ      Yield the maximum of A.
 ;       Concatenate both results. Note that the appended maximum will be the 
         minimum of the resulting array if and only if all elements of A are equal.
   Ụ     Grade up; yield the indices of the resulting array, sorted by their
         corresponding values in that array.
    Ḣ    Head; extract the first index, which is the index of the first occurrence
         of the minimum. For an array of equal elements, this will be the index
         of the appended maximum.
     Ṭ   Untruth; for index i, yield an array of i-1 zeroes, followed by a 1.
      +  Add this array to A, incrementing the minimum or appending a 1.
</code></pre>
</div>
<div id="pu49" class="pu"><h1>Haskell, 93 bytes</h1>

<p><code>f z|and$(==)&lt;$&gt;z&lt;*&gt;z=z++[1]|1&gt;0=z#minimum z where(x:z)#m|x==m=x+1:z;(x:z)#m|1&gt;0=x:z#m;[]#_=[]</code></p>

<p><strong>Ungolfed:</strong></p>



<pre class="lang-haskell prettyprint-override"><code>incrementArray :: [Int] -&gt; [Int]
incrementArray xs | and [x == y | x &lt;- xs, y &lt;- xs] = xs ++ [1]
                  | otherwise = g xs (minimum xs)
     where g (x:xs) m | x == m = (x + 1):xs
           g (x:xs) m | otherwise = x:g xs m
           g [] _ = []
</code></pre>

<p>Initial attempt, will try to come up with something more sophisticated later.</p>
</div>
<div id="pu50" class="pu"><h1>Jelly, 9 bytes</h1>
<pre><code>;1µ‘i¦E?Ṃ
</code></pre>
<p>Thanks to Dennis for the -2 bytes.</p>
<p>Body must be at least 30 characters; you entered ... .</p>
</div>
<div id="pu51" class="pu"><h1>Pyth, 16 bytes</h1>
<pre><code>?tl{QXxQhSQQ1+Q1
</code></pre>
<p>A program that takes input of a list and prints the result.</p>
<p><a href="https://pyth.herokuapp.com/?code=%3Ftl%7BQXxQhSQQ1%2BQ1&amp;test_suite=1&amp;test_suite_input=%5B1%5D%0A%5B2%5D%0A%5B1%2C+1%5D%0A%5B3%2C+3%2C+3%2C+3%2C+3%5D%0A%5B1%2C+2%5D%0A%5B2%2C+1%5D%0A%5B3%2C+1%2C+1%5D%0A%5B3%2C+4%2C+9%2C+3%5D&amp;debug=0" rel="nofollow noreferrer">Test suite</a></p>
<p><strong>How it works</strong></p>
<pre><code>?tl{QXxQhSQQ1+Q1  Program. Input: Q
?                 If:
  l                The length
   {Q              of Q deduplicated
 t                 - 1
                   is non-zero:
     X     Q1       Increment in Q at index:
      xQ             Index in Q of
        h            the first element
         SQ          of Q sorted (minimum)
                  else:
             +     Append
               1   1
              Q    to Q
                   Implicitly print                    
</code></pre>
</div>
<div id="pu52" class="pu"><h1>Ruby, 46 bytes</h1>
<pre><code>-&gt;a{a.uniq.size&lt;2?a&lt;&lt;1:a[a.index(a.min)]+=1;a}
</code></pre>
<p>I feel like there's a better way to check if all elements are the same than <code>a.uniq.size&lt;2</code>, but I'm too lazy to find it.</p>
</div>
<div id="pu53" class="pu"><h1><a href="http://github.com/Adriandmen/05AB1E" rel="noreferrer">05AB1E</a>, <s>21</s> <s>20</s> 16 bytes</h1>

<p>Saved 4 bytes thanks to <em>Adnan</em>.</p>

<pre><code>DÙgi0¸«}ÐWksgÝQ+
</code></pre>

<p><a href="http://05ab1e.tryitonline.net/#code=RMOZZ2kwwrjCq33DkFdrc2fDnVEr&amp;input=WzQsMyw5LDNd" rel="noreferrer">Try it online!</a></p>

<p><strong>Explanation</strong></p>

<pre><code>                      # input = [3,2,1] used as example
D                     # duplicate input
 Ùgi                  # if all elements are equal
    0¸«}              # append 0
        Ð             # triplicate list
                      # STACK: [3,2,1], [3,2,1], [3,2,1]
         Wk           # index of minimum element
                      # STACK: [3,2,1], [3,2,1], 2
           s          # swap top 2 elements of stack
                      # STACK: [3,2,1], 2, [3,2,1]
            g         # length of list
                      # STACK: [3,2,1], 2, 3
             Ý        # range [0 ... length]
                      # STACK: [3,2,1], 2, [0,1,2,3]
              Q       # equal
                      # STACK: [3,2,1], [0,0,1,0]
               +      # add
                      # OUTPUT: [3,2,2]
</code></pre>
</div>
<div id="pu54" class="pu"><h1><a href="https://perl6.org" rel="nofollow noreferrer">Perl 6</a>, 46 bytes</h1>



<pre class="lang-perl6 prettyprint-override"><code>{.[[==]($_)??.elems!!.first(*==.min,:k)]++;$_}
</code></pre>

<p>(modifies the input Array, and returns it)</p>

<h2>Expanded:</h2>

<pre class="lang-perl6 prettyprint-override"><code>{     # bare block lambda with implicit parameter ｢$_｣

  .[      # use the following as an index into the array

      [==]( $_ )    # reduce the array with ｢&amp;infix:&lt;==&gt;｣

    ??              # if they are equal

      .elems        # the value past the end ( ｢.end+1｣ would also work )

    !!              # else

      .first(       # find the first value
        * == .min,  # where the element is equal to the minimum
        :k          # return the key rather than the value
      )

  ]++;              # increment it ( auto vivifies if it doesn't exist )

  $_                # return the modified array
}
</code></pre>

<h2> </h2>
</div>
<div id="pu55" class="pu"><h1><a href="http://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, 16 bytes</h1>
<pre><code>t&amp;=?1h}t2#X&lt;wQw(
</code></pre>
<p><a href="http://matl.tryitonline.net/#code=dCY9PzFofXQyI1g8d1F3KA&amp;input=WzMsMSwxXQ" rel="nofollow noreferrer">Try it online!</a> Or <a href="http://matl.tryitonline.net/#code=IkBnCnQmPT8xaH10MiNYPHdRdyg&amp;input=e1sxXSBbMl0gWzEsIDFdIFszLCAzLCAzLCAzLCAzXSBbMSwyXSBbMiwxXSBbMywxLDFdIFszLCA0LCA5LCAzXX0" rel="nofollow noreferrer">verify all test cases</a></p>
<h3>How it works</h3>
<pre><code>t         % Take input implicitly. Duplicate
&amp;=        % Matrix of all pairwise equality comparisons
?         % If all comparisons were true
  1h      %   Append 1 to the original copy ofthe array
}         % Else
  t       %   Duplicate array
  2#X&lt;    %   Push minimum and index of its first occurrence
  wQw     %   Swap, increment, swap (adds 1 to the minimum)
  (       %   Assign the incremented minimum to that position
          % End if implicitly. Display implicitly
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/101389/">101389</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




