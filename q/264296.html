<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::264296</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>071</td><td>Charcoal</td><td>230817T222537Z</td><td><a href="https://codegolf.stackexchange.com/questions/264296/optimal-duck-game-moves/264311#264311">Neil</a></td></tr>
<tr d-ix="1"><td>344</td><td>Python3</td><td>230817T180500Z</td><td><a href="https://codegolf.stackexchange.com/questions/264296/optimal-duck-game-moves/264298#264298">Ajax1234</a></td></tr>
<tr d-ix="2"><td>078</td><td>JavaScript V8</td><td>230817T183021Z</td><td><a href="https://codegolf.stackexchange.com/questions/264296/optimal-duck-game-moves/264300#264300">l4m2</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 71 bytes</h1>
<pre><code>≔⍘⮌Ｓ²η⊞υ⁰ＦηＦ⊙⁺ＥθＸ²λＥθ×³Ｘ²λ›⁼κ＆ικ№υ⁻ικ⊞υιＩΦ⁺Ｅθ⟦κ⟧Ｅθ⟦κ⊕κ⟧›¬⁻ι⌕Ａθ1№υ⁻ηΣＸ²ι
</code></pre>
<p><a href="https://tio.run/##bY9PawIxEMXv/RTB0wRScPXoaZVaPFgW7U08hN2pGTabaP4o/fRpUq210AdDwptM3m9aJV1rpU6p9p4OBubS4zY4MgfY4BmdR1iZYww3j3PBJrkUnz010SuIgo3z/cM6Boqz77M2n9Do6GEtj3ASrLEXdDARTJfxm/lOA3qY/u2W/qtDGbLzcopSe@gFm1O4kMfadECC9eXRwkYTSviaTA662lnsB4oKYEYOsJA@wJJ0@fORatfvf2l2OWZlWocDmoAd9Hz/yPJmA9yTlmS6WusyNqpG/B8cJdg2DnDfjPhVs5Sqalxlpeez/gI" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Takes input as a string of <code>0</code>s and <code>1</code>s representing red and blue ducks respectively and outputs a double-spaced list of winning <code>0</code>-indexed duck moves. Explanation: Uses dynamic programming to find positions that don't force a loss.</p>
<pre><code>≔⍘⮌Ｓ²η
</code></pre>
<p>Convert the input to a numeric position index.</p>
<pre><code>⊞υ⁰
</code></pre>
<p>Start with position index <code>0</code> as being a win.</p>
<pre><code>Ｆη
</code></pre>
<p>Check all positions reachable from the input position and some that aren't.</p>
<pre><code>Ｆ⊙⁺ＥθＸ²λＥθ×³Ｘ²λ›⁼κ＆ικ№υ⁻ικ
</code></pre>
<p>If there is a legal move that results in a forced loss for the opponent...</p>
<pre><code>⊞υι
</code></pre>
<p>... then this move is a win.</p>
<pre><code>ＩΦ⁺Ｅθ⟦κ⟧Ｅθ⟦κ⊕κ⟧›¬⁻ι⌕Ａθ1№υ⁻ηΣＸ²ι
</code></pre>
<p>Output all legal moves that result in a forced loss for the opponent.</p>
<p>Instead of recording moves that are winnable, it's possible to record moves that are forced losses. This results in an answer with the same byte count, but the difference is that making the all-red position a loss for the player it is to move only saves <code>2</code> bytes.</p>
</div>
<div id="pu1" class="pu"><h1>Python3, 344 bytes:</h1>
<pre class="lang-py prettyprint-override"><code>def M(l):
 for i,a in enumerate(l):
  if a:
   yield[i]
   if 0&lt;=i&lt;len(l)-1and l[i+1]:yield[i,i+1]
def K(l):
 for m in M(l):
  L=eval(str(l))
  for i in m:L[i]=0
  yield L,m
def P(l,p=1):
 F=1
 for L,_ in K(l):
  if any(L):
   if p in(u:=[*P(L,not p)]):yield from u;F=0
 if F:yield not p
f=lambda l:[m for L,m in K(l)if any(L)and not any(P(L))]
</code></pre>
<p><a href="https://tio.run/##fY/BasQgEIbveYo5amtB6aWk6zWXtbD3EIolSgU1YpNCnj51krS7dLeFAZ1//plvJs3j@xAfn1Jelt5YeCGe1hXYIYNjGlwEE6dgsh7NVgFnQeMLszO@b12H/yLyg3QHb2KxPQgde/CtuxddvdsYJhUijmdEQMCOBCXNp/bkY8xFoEVYl0BHqFXhSF7tUFAsrKNOxLMkBbY3UmwzFXvFnuPFunEmak0wS6VKplq2dyeiWBxGSLSj25pg8xBgem6QVbzNLq@uykqvw1uvwddt2Fnhm/XDwdPRj1khUNotKbs4EktawWALvgb@u3Lqdf0cN@r8vzq/QPw1/0YP/7XZVVsRli8" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://v8.dev/" rel="nofollow noreferrer">JavaScript (V8)</a>, 78 bytes</h1>
<p>-5 bytes from Arnauld</p>

<pre class="lang-javascript prettyprint-override"><code>f=x=&gt;x.some(r=(v,i,[...e])=&gt;v?r=f(e,e[i]=0)?f(e,e[i-1]=0)?0:[i-1,i]:[i]:0)?r:r
</code></pre>
<p><a href="https://tio.run/##y0osSyxOLsosKNEts/j/P822wtauQq84PzdVo8hWo0wnUydaT08vNVbT1q7Mvsg2TSNVJzU6M9bWQNMeytY1BPMMrEBMncxYIB1rBRQosir6X1CUmVeikaYRbaijAEEGYARix2pqcmHKIxAWeQN88gZIVuAyH4seAzSXAZX8BwA" rel="nofollow noreferrer" title="JavaScript (V8) – Try It Online">Try it online!</a></p>
<h1><a href="https://v8.dev/" rel="nofollow noreferrer">JavaScript (V8)</a>, 81 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>f=(x,e)=&gt;x.some((v,i)=&gt;r=v?f(e=[...x],e[i]=0)?f(e,e[i-1]=0)?0:[i-1,i]:[i]:0)?r:!e
</code></pre>
<p><a href="https://tio.run/##y0osSyxOLsosKNEts/j/P81Wo0InVdPWrkKvOD83VUOjTCcTyCuyLbNP00i1jdbT06uI1UmNzoy1NdAECYHYuoZgnoEViKmTGQukY62AAkVWiqn/C4oy80o00jSiDXUUIMgAjEDsWE1NLkx5BMIib4BP3gDJClzmY9FjgOYyFCUQMQNs2oBi/wE" rel="nofollow noreferrer" title="JavaScript (V8) – Try It Online">Try it online!</a></p>
<p>returns <code>false</code> if impossible, returns <code>true</code> if win immediately because of endgame.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/264296/">264296</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




