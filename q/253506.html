<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::253506</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>031</td><td>Uiua SBCS</td><td>240315T220748Z</td><td><a href="https://codegolf.stackexchange.com/questions/253506/box-blur-the-string/271858#271858">chunes</a></td></tr>
<tr d-ix="1"><td>4745</td><td>J</td><td>221020T194810Z</td><td><a href="https://codegolf.stackexchange.com/questions/253506/box-blur-the-string/253511#253511">Jonah</a></td></tr>
<tr d-ix="2"><td>061</td><td>Charcoal</td><td>221021T091802Z</td><td><a href="https://codegolf.stackexchange.com/questions/253506/box-blur-the-string/253548#253548">Neil</a></td></tr>
<tr d-ix="3"><td>019</td><td>05AB1E</td><td>221021T081805Z</td><td><a href="https://codegolf.stackexchange.com/questions/253506/box-blur-the-string/253544#253544">Kevin Cr</a></td></tr>
<tr d-ix="4"><td>020</td><td>Vyxal</td><td>221020T210053Z</td><td><a href="https://codegolf.stackexchange.com/questions/253506/box-blur-the-string/253516#253516">emanresu</a></td></tr>
<tr d-ix="5"><td>044</td><td>Pyth</td><td>221020T204230Z</td><td><a href="https://codegolf.stackexchange.com/questions/253506/box-blur-the-string/253514#253514">CursorCo</a></td></tr>
<tr d-ix="6"><td>050</td><td>Octave with Image Package</td><td>221020T203536Z</td><td><a href="https://codegolf.stackexchange.com/questions/253506/box-blur-the-string/253513#253513">Luis Men</a></td></tr>
<tr d-ix="7"><td>020</td><td>Jelly</td><td>221020T193017Z</td><td><a href="https://codegolf.stackexchange.com/questions/253506/box-blur-the-string/253510#253510">Jonathan</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://uiua.org" rel="nofollow noreferrer">Uiua</a> <sup><a href="http://tinyurl.com/Uiua-SBCS-Feb-17" rel="nofollow noreferrer">SBCS</a></sup>, 31 bytes</h1>
<pre><code>≡≡⍜(-@\0|⁅÷⊃⧻/+♭)◫3_3⍥(≡⇌⍉⊂⊢.)4
</code></pre>
<p><a href="https://uiua.org/pad?src=0_10_0-dev_1__RiDihpAg4omh4omh4o2cKC1AXDB84oGFw7fiioPip7svK-KZrSnil6szXzPijaUo4omh4oeM4o2J4oqC4oqiLik0CgpGIFsiMTExIgogICAiMTcxIgogICAiMTExIl0KCkYgWyJYWFhYWCIKICAgIiwsWCwsIgogICAiLCxYLCwiCiAgICIsLFgsLCIKICAgIlhYWFhYIl0KCkYgWyInODg4JyIKICAgIjgnJyc4IgogICAiOCc4JzgiCiAgICI4JycnOCIKICAgIic4ODgnIl0KCkYgWyIxMDMwNTA3MDkiXQoKRiBbIiF-IgogICAifiEiXQoKRiBbIlEiXQoKRlsiKy0tKyIKICAifCAgfCIKICAiKy0tKyJdCg==" rel="nofollow noreferrer">Try it!</a></p>
<pre><code>≡≡⍜(-@\0|⁅÷⊃⧻/+♭)◫3_3⍥(≡⇌⍉⊂⊢.)4
                     ⍥(      )4  # repeat four times
                          ⊂⊢.    # prepend first row of array to array
                       ≡⇌⍉       # rotate   
                 ◫3_3            # 3x3 windows
≡≡                               # map over each window
  ⍜(-@\0|       )                # operate on code points, leaving string intact
               ♭                 # flatten
          ÷⊃⧻/+                  # average
         ⁅                       # round
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, <sup>47</sup> 45 bytes</h1>
<pre><code>(0.5&lt;.@+9%~3+/\&quot;#.3+/\(|.@|:@,{:)^:4)&amp;.(3&amp;u:)
</code></pre>
<p><a href="https://tio.run/##bY7NCsJADITveYrYotmla6xWhUaFRcGTCHoqaPUgLeLFg3pSfPW66w8iGJhJGOaDHKq0Ju28X5OUCAKmEkeChAZjFKcm42Q5m1Yq5t6QbZTW70nUWgch@6VubG9izVX0Rrq6wSppXERXGuZjxgSTDxa16qG2ZsBbF8pF1JXfaO5JOBen84hxJVjs9kdbYu6qnWfsH4mBiEJnIYETgROBBl9Gd317mR8wJjPmx1/5P2IBunoA" rel="nofollow noreferrer" title="J – Try It Online">Try it online!</a></p>
<p><em>-2 thanks to ovs</em></p>
<ul>
<li><code>&amp;.(3&amp;u:)</code> Do everything that follows &quot;under&quot; converting to ascii code.  This means it gets converted back automatically at the end.</li>
<li><code>({.|.@|:@,])^:4)</code> Standard reverse/transpose trick to fill out the sides and top.</li>
<li><code>3+/\&quot;#.3+/\</code> Even though J has a built-in for applying a verb to &quot;tiles&quot; -- in this case it's 1 byte shorter to scan sum rows in groups of 3, then scan sum colums in groups of 3 to get the 3x3 tile averages.</li>
<li><code>9%~</code> Divide each by 9 for the average.</li>
<li><code>0.5&lt;.@+</code> And round.</li>
</ul>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 61 bytes</h1>
<pre><code>ＷＳ⊞υι≔Ｅ⊞Ｏ⁺⟦§υ⁰⟧υ§υ±¹Ｅ⁺⁺§ι⁰ι§ι±¹℅λθＥυ⭆ι℅÷⁺⁴ΣＥ✂θκ⁺³κ¹Σ✂νμ⁺³μ¹¦⁹
</code></pre>
<p><a href="https://tio.run/##XU89awMxDN3zKzzKoEJDu5RMoV0yJDnIEggdzJ25E/E5F5@d9t87skxJWw@y9T6k53Ywob0Yl/PXQM4q2PgpxUMM5HvQWjVpHiChIr1arOeZeg9bM0GB95MNJl4CNC7NcFrHje/sdxE/609USaP6he1sb6KFpdaMy4jikvKjouIsqx5G@mfch468ceCku3KohpNGycRLau7SsPGdv2baaAP/KX7QjTpb972yMI3iOThqLVxRnVEJ98JPnrzUVVN5j2p88KPwWhK8yb3K@VjOAvGI@KdWPD/d3B0" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Takes input as a list of newline-terminated strings. Explanation:</p>
<pre><code>ＷＳ⊞υι
</code></pre>
<p>Input the string to be blurred.</p>
<pre><code>≔Ｅ⊞Ｏ⁺⟦§υ⁰⟧υ§υ±¹Ｅ⁺⁺§ι⁰ι§ι±¹℅λθ
</code></pre>
<p>Prepend and append a copy of the first and last rows, then for each row, prepend and append a copy of the first and last characters, and convert all of the characters to their code points to create an expanded array.</p>
<pre><code>Ｅυ⭆ι℅÷⁺⁴ΣＥ✂θκ⁺³κ¹Σ✂νμ⁺³μ¹¦⁹
</code></pre>
<p>Map over the original list of strings, replacing each character with the average of the 3×3 tile taken from the expanded array.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 19 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>4Fíø¬š}€ü3ü3εøÇÅAòç
</code></pre>
<p>I/O as character-matrices.</p>
<p><a href="https://tio.run/##yy9OTMpM/f/fxO3w2sM7Dq05urD2UdOaw3uMgejc1sM7DrcfbnU8vOnw8v//o6OV1JV04FhZKVYnGokHomEiynB1IBFlJF1AkVgA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/V@mFFCUWlJSqVtQlJlXkpqikJlXUFpipaCkU6nDpeSYXFKamAMXs6/Uc3rUtCbY9r@J2@G1h3ccWnN0YS1Q4PAeYyA6t/XwjsPth1sdD286vPx/LUxzfmkJVLctF7plcDkdr0O7dbgObbP/H62krq6uHJMHJNSBpLI6kAQS6ko6CkqGhoYxeYbmIMLQECQQAQIxeTo6ETo66BRYDqRI3cLCAmiIBdAQCxBlAaHAPLAc2GgDYwNTA3MDSxBHsS4mr04RxAoEEdq6utoxeTUKCjUxeSA2SCwuJk8LjOLAuo2MY/JMTM1i8swtLJViAQ" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<p>Step 1: Add the edges and corners as explained in the challenge description:</p>
<pre class="lang-python prettyprint-override"><code>4F            # Loop 4 times:
  íø          #  Rotate once counterclockwise:
  í           #   Reverse each inner row
   ø          #   Zip/transpose; swapping rows/columns
    ¬         #  Push the first row (without popping the matrix)
     š        #  Prepend it
 }            # Close the map
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f/fxO3w2sM7Dq05urD2///oaCV1JR04VlaK1YlG4oFomIgyXB1IRBlJF1AkFgA" rel="nofollow noreferrer">Try just this first step online.</a></p>
<p>Step 2: Create overlapping 3x3 blocks:</p>
<pre class="lang-python prettyprint-override"><code>€             # After the loop: map over each inner row:
 ü3           #  Convert it to a list of overlapping triplets
   ü3         # And then convert these lists to overlapping triplets as well
     ε        # Map over each list of matrices:
      ø       #  Zip/transpose; swapping rows/columns, to create 3x3 blocks
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f/fxO3w2sM7Dq05urD2UdOaw3uMgejc1sM7/v@PjlZSV9KBY2WlWJ1oJB6Ihokow9WBRJSRdAFFYgE" rel="nofollow noreferrer">Try just the first two steps online.</a></p>
<p>Step 3: Convert the characters to codepoint integers; get the rounded average of each 3x3 block; and convert these new codepoint integers back to characters (and output as result):</p>
<pre class="lang-python prettyprint-override"><code>       Ç      #  Convert each inner 3x3 block to a flattened list of codepoint integers
        ÅA    #  Get the average of each list
          ò   #  Round each decimal to an integer
           ç  #  Convert this rounded integer back to a character
              # (after which the resulting matrix is output implicitly)
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="noreferrer">Vyxal</a>, 20 bytes</h1>
<pre><code>4(∩ṘǏǔ)3vl3lƛ∩ṠCvṁṙC
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/#WyIiLCIiLCI0KOKIqeG5mMePx5QpM3ZsM2zGm+KIqeG5oEN24bmB4bmZQyIsIiIsIltcIicnJyNcIiwgXCInJyMnXCIsIFwiJyMnJ1wiLCBcIiMnJydcIl1cbiJd" rel="noreferrer">Try it Online!</a></p>
<p>A mess. Input as a list of rows, output as a char matrix.</p>
<pre><code>4(    )              # Four times...
  ∩Ṙ                 # Rotate 90°
    Ǐǔ               # Prepend the first item
       3vl           # Cut each into chunks of length 3
          3l         # Cut into chunks of length 3
            ƛ        # Over each list of lists of chunks...
             ∩       # Transpose into a list of 3x3 chunks
              Ṡ      # Stringify each chunk
               C     # Take the charcodes
                vṁṙ  # Take the mean of each and round back to integers
                   C # Convert back to characters
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/isaacg1/pyth" rel="nofollow noreferrer">Pyth</a>, 44 bytes</h1>
<pre><code>L++hbbebDONRmsM.:d3CN;jmsmC+.5ck9dOOCMMyyM.z
</code></pre>
<p><a href="https://tio.run/##K6gsyfj/30dbOyMpKTXJxd8vKLfYV88qxdjZzzortzjXWVvPNDnbMsXf39nXt7LSV6/q//8IEODS0YnQ0UEhweIA" rel="nofollow noreferrer" title="Pyth – Try It Online">Try it online!</a></p>
<p>Takes each line of the string as a separate input.</p>
<h3>Explanation</h3>
<pre><code>L++hbbeb                                        define y(b) as the &quot;filling in&quot; for the edges
        DONRmsM.:d3CN;                          define O(N) to transpose then blur the rows of a list by splitting into sublists of length 3 and mapping to their sum
                                          .z    put all available inputs into a list
                                       yyM      apply y to the rows and columns
                                    CMM         convert strings to lists of codepoints
                                  OO            apply the blurring, the two transpositions mean it ends as it started
                       m         d              map to
                        sm                      the joined strings of the map of
                          C                     the ascii value of the floor of
                           +.5ck9               0.5 + each element divided by 9
                      j                         join on newlines
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://www.gnu.org/software/octave/" rel="nofollow noreferrer">Octave</a> with Image Package, 50 bytes</h1>

<pre class="lang-matlab prettyprint-override"><code>@(X)char(round(imfilter(+X,~~e(3)/9,'replicate')))
</code></pre>
<p><a href="https://tio.run/##bVBNi4MwEL37K6anSWrKGkrRVhb2L@xNKG0RjTRgo8S4l7b@dTfpp@xmDjNv3nszMNMUJv8R4/hFMlocc01006uSyFMlayM0CTM2DIIs6ceaoRZtLYvcCKSUjhV8Qq66NDCiMwep2t50ljrDFjnnmALy@F5stwvgT2wxc@EMjGWM@cHd45tGTJLEZmtyxfUPnLzhi366d@BZxaNltIriaO2XZ4PbMMz86refDheL0I1dAC6u3nrfHXunzl9p/890TYOq0WDsb/lG9SdRk8nH6c1dyq4l1ZQ/myudaAhIA6HK8Rc" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 20 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>1ịṭṚZµ4¡O+3\Z$⁺+4:9Ọ
</code></pre>
<p>A monadic Link that accepts a list of lines and yields a list of lines.</p>
<p><strong><a href="https://tio.run/##y0rNyan8/9/w4e7uhzvXPtw5K@rQVpNDC/21jWOiVB417tI2sbJ8uLvn/8PdWw63R/7/r25hYaHOZaGurm4BJC3AJIgNFgcA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong> Or see the <a href="https://tio.run/##y0rNyan8/9/w4e7uhzvXPtw5K@rQVpNDC/21jWOiVB417tI2sbJ8uLvn/8PdWw63R3Idnfxw5@JHjfsObTu07XD7o6Y1WVAO0AhDQy5DcyAG0lwRIMCloxOho4NCQsS51C0sLNS5LNTV1S2ApAWYBLEh4lyGBsYGpgbmBpZcXIp1XHWKXFyBXFzaurraXDUKCjUQFlcclxYQxgEA" rel="nofollow noreferrer" title="Jelly – Try It Online">test-suite</a>.</p>
<h3>How?</h3>
<pre><code>1ịṭṚZµ4¡O+3\Z$⁺+4:9Ọ - Link: list of lines, T
     µ4¡             - repeat four times (starting with T):
1                    -   one
 ị                   -   index into -&gt; top row
   Ṛ                 -   reverse (the current lines)
  ṭ                  -   tack -&gt; reversed current lines + top row
    Z                -   transpose
        O            - convert to ordinals
              ⁺      - do this twice:
             $       -   last two links as a monad:
          3\         -     three-part reduce  with:
         +           -       addition
            Z        -     transpose
               +4    - add four
                 :9  - integer divide by nine
                   Ọ - convert to characters
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/253506/">253506</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




