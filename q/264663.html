<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::264663</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>nan</td><td>K ngn/k</td><td>230828T041626Z</td><td><a href="https://codegolf.stackexchange.com/questions/264663/half-even-rounding/264688#264688">doug</a></td></tr>
<tr d-ix="1"><td>005</td><td>Python</td><td>230827T124532Z</td><td><a href="https://codegolf.stackexchange.com/questions/264663/half-even-rounding/264664#264664">noodle m</a></td></tr>
<tr d-ix="2"><td>007</td><td>J</td><td>230828T012525Z</td><td><a href="https://codegolf.stackexchange.com/questions/264663/half-even-rounding/264686#264686">Bubbler</a></td></tr>
<tr d-ix="3"><td>021</td><td>J</td><td>230827T230036Z</td><td><a href="https://codegolf.stackexchange.com/questions/264663/half-even-rounding/264684#264684">Jonah</a></td></tr>
<tr d-ix="4"><td>057</td><td>R</td><td>230827T195439Z</td><td><a href="https://codegolf.stackexchange.com/questions/264663/half-even-rounding/264683#264683">pajonk</a></td></tr>
<tr d-ix="5"><td>021</td><td>Charcoal</td><td>230827T184212Z</td><td><a href="https://codegolf.stackexchange.com/questions/264663/half-even-rounding/264681#264681">Neil</a></td></tr>
<tr d-ix="6"><td>009</td><td>Jelly</td><td>230827T172214Z</td><td><a href="https://codegolf.stackexchange.com/questions/264663/half-even-rounding/264678#264678">Jonathan</a></td></tr>
<tr d-ix="7"><td>030</td><td>JavaScript ES6</td><td>230827T131628Z</td><td><a href="https://codegolf.stackexchange.com/questions/264663/half-even-rounding/264667#264667">Arnauld</a></td></tr>
<tr d-ix="8"><td>061</td><td>Retina 0.8.2</td><td>230827T133328Z</td><td><a href="https://codegolf.stackexchange.com/questions/264663/half-even-rounding/264668#264668">Neil</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://codeberg.org/ngn/k" rel="nofollow noreferrer">K (ngn/k)</a>, <sup>38</sup> <sup>37</sup> 34 bytes</h1>
<pre><code>{r(2!*r)*0.5~+/x-r:|_x,x+/:(!2)%2}
</code></pre>
<p><a href="https://ngn.codeberg.page/k#eJxdzr0OgjAQAOD9nqJgtC2/7ZVqqIm6dmUmQRfcGQyJyrNrMYHW5S5f7rc3z4FhlAw8EYWe0nLMB/PqxmxMS8Mi5Ft8A5SQq0IQQvITcVFBjsXhz3o1OmNg6ffPDvuFX5fOa12AmK97rELqP8qFEqQ/64ghq7quPXqrEH5fL0R/laMKqUPuVypoAayRnb3sJmbPGY3Lto05ZdHGGmGut+H+IJIDs8eGm7SgNHajcUstQDP13/QBmIlJYA==" rel="nofollow noreferrer">Try it online!</a></p>
<p>-1 : Shuffle<br/>
-3 : Shuffle</p>
<p>Bah!  Not as nice as others.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 5 bytes</h1>
<pre class="lang-python prettyprint-override"><code>round
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72soLIkIz9vweI025ilpSVpuhZLi_JL81Ig7JtuaflFChUKmXkKRYl56akausYGBjoKYMLIVNNKoaAoM69EI02pukJBX8HQwEDPoFZB106hOk0DLqBZq6QJMW3BAggNAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h1><a href="https://github.com/Thunno/Thunno2" rel="nofollow noreferrer">Thunno 2</a>, 1 byte</h1>
<pre><code>V
</code></pre>
<p><a href="https://Not-Thonnu.github.io/run#aGVhZGVyPSZjb2RlPVYmZm9vdGVyPSZpbnB1dD0tMy4wJTIwJTIwJTIwLSUzRSUyMCUyMCUyMCUyMC0zJTBBLTIuNyUyMCUyMCUyMC0lM0UlMjAlMjAlMjAlMjAtMyUwQS0yLjUlMjAlMjAlMjAtJTNFJTIwJTIwJTIwJTIwLTIlMEEtMi4yJTIwJTIwJTIwLSUzRSUyMCUyMCUyMCUyMC0yJTBBLTEuNyUyMCUyMCUyMC0lM0UlMjAlMjAlMjAlMjAtMiUwQS0xLjUlMjAlMjAlMjAtJTNFJTIwJTIwJTIwJTIwLTIlMEEtMC43JTIwJTIwJTIwLSUzRSUyMCUyMCUyMCUyMC0xJTBBLTAuNSUyMCUyMCUyMC0lM0UlMjAlMjAlMjAlMjAwJTBBMC4wJTIwJTIwJTIwJTIwLSUzRSUyMCUyMCUyMCUyMDAlMEEwLjQlMjAlMjAlMjAlMjAtJTNFJTIwJTIwJTIwJTIwMCUwQTAuNSUyMCUyMCUyMCUyMC0lM0UlMjAlMjAlMjAlMjAwJTBBMC41MSUyMCUyMCUyMC0lM0UlMjAlMjAlMjAlMjAxJTBBMS4wJTIwJTIwJTIwJTIwLSUzRSUyMCUyMCUyMCUyMDElMEExLjIlMjAlMjAlMjAlMjAtJTNFJTIwJTIwJTIwJTIwMSUwQTEuNDk5OSUyMC0lM0UlMjAlMjAlMjAlMjAxJTBBMS41JTIwJTIwJTIwJTIwLSUzRSUyMCUyMCUyMCUyMDIlMEExLjclMjAlMjAlMjAlMjAtJTNFJTIwJTIwJTIwJTIwMiUwQTIuMCUyMCUyMCUyMCUyMC0lM0UlMjAlMjAlMjAlMjAyJTBBMi4zJTIwJTIwJTIwJTIwLSUzRSUyMCUyMCUyMCUyMDIlMEEyLjUlMjAlMjAlMjAlMjAtJTNFJTIwJTIwJTIwJTIwMiUwQTIuNiUyMCUyMCUyMCUyMC0lM0UlMjAlMjAlMjAlMjAzJmZsYWdzPUM=" rel="nofollow noreferrer">Try it online!</a></p>
<h1><a href="https://factorcode.org" rel="nofollow noreferrer">Factor</a>, 13 bytes</h1>
<pre><code>round-to-even
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70sLTG5JL9owU3P0GBPP3crhdzEkgy9tNK85JLM_LxihYKi1JKSyoKizLwSheLUwtLUvOTUYgVrLq5qBSM9UwVDIAbSBoZAlomlpaVCrUL00tKSNF2LtUX5pXkpuiX5uqllqXkQseWxQOMLFPQgvAULIDQA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h1>Rust, 25 bytes</h1>
<p>Using libmath</p>
<pre class="lang-rust prettyprint-override"><code>math::round::half_to_even
</code></pre>
<h1>Jelly, 3 bytes</h1>
<pre><code>ær0
</code></pre>
<p><a href="https://tio.run/##HYuxDYAwDARXSYuUWLaTgDIBQyBKGpSKjgnYhEUymOHdnN9n/3n0fpuN92KL45lWsy1l4hiS0uKsTv0pbsQNe2ZkxjtTAXytEoNACmpCpbWGWYG/prgpZaAC8/4B" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, 5 bytes</h1>
<pre class="lang-r prettyprint-override"><code>round
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72waMGiNNulpSVpuhZLi_JL81Ig7JuqJTa6xamFGrrGOsY6ekammlzJSZl5KRolOsWJBQU5lUBGmqYmRPGCBRAaAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, 1 byte</h1>
<pre><code>ṙ
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2#WyJBIiwiIiwi4bmZIiwiIiwiMVxuMS41XG4yXG4yLjVcbjNcbjMuNVxuNCJd" rel="nofollow noreferrer">Try it Online!</a></p>
<h1><a href="https://github.com/PowerShell/PowerShell" rel="nofollow noreferrer">PowerShell Core</a>, 22 bytes</h1>
<pre class="lang-powershell prettyprint-override"><code>[Math]::Round(&quot;$args&quot;)
</code></pre>
<p><a href="https://tio.run/##XZDRaoMwFIbvfYqDhKEQi8a6YqEgjO1ubLRjN6UMZ08nw83ORDbofHaXxM4mnrvvP3@@hBzrb2x4iVUVFHWDPTmsTv32Phflbrlc1@3n3nNJ3rxx1@87x8k8B@TQzAviWUghiP0xYLPFNEhkwMyA2UGkj1jB5EioG5EZyEY4cqheYeLcxkk5iShcZJE6bCKzcZ6mqZ1IHTNwYSJTNhNjGxMbrynIv/LhF@7q5jYvyuDh9R0LASfdIQK5eM6rFikQ/DnKDe5hBeRlWDfI20rI4IocjLJebh83Ny0X9cdg3GWDUs2mLQrkXInOhgC/LheMPfdJGkErXVW2L1Cz/n/AWaQXndP1fw" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu2" class="pu"><h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, 7 bytes</h1>
<pre><code>0&quot;.@&quot;:]
</code></pre>
<p><a href="https://tio.run/##Xc6xCgIxDIDh3acIXQ5BQ5JePVo4EAQnJ3dxEA9xufef6sEl0txQyveTlH5rwG6CsUAHByAoyzkiXO63a6WA51Aedb97vz4zPCOMMC0Xkg@CgwaxkLZBfODtCv9XeA1kE2ROrck@Yew9dZiN3Jpt2Siefc55LaIleQ4txV4zRk/djcpT/QE" rel="nofollow noreferrer" title="J – Try It Online">Try it online!</a></p>
<p>Formats to zero decimal places and then evaluates back to number.</p>
<h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, 14 bytes</h1>
<pre><code>&lt;.@+1-:@~:4|+:
</code></pre>
<p><a href="https://tio.run/##Xc7BCsIwDIDhu08RvAyZC0naOlocDARPnnwBD@IQL76A@Op1sEaaHUr5fpLSV95iM8GQoIE9EKT5dAin6@Wcjzi23KXxm/ynTXm3edyfb7g5GGCaLyQbBPsSRENYB7GB1yv8X@ElkE6QOtQm/YTSW5ZhVnJt1mWlWPoY41KklGDZ1xR9Teksy64rPOQf" rel="nofollow noreferrer" title="J – Try It Online">Try it online!</a></p>
<p>Evaluates <code>floor(x + 0.5)</code> unless <code>2*x%4 == 1</code>, in which case <code>floor(x)</code> is returned instead.</p>
<pre><code>&lt;.@+1-:@~:4|+:
          4|+:   2*x%4
    1   ~:       != 1
     -:@         / 2
   +             x +
&lt;.@              floor()
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, <sup><s>22</s></sup> 21 bytes</h1>
<pre><code>&lt;.@+&amp;1r2([-AND)1=2|+:
</code></pre>
<p><a href="https://tio.run/##Xc6xCsIwEIDh3ac4HKylNuQuTUuCAUVxEgdXBwexFBfB2XePheYk1yGE7@cu5BWXqugheChgAxr8eGoFh@v5FLdqV63wQ@tbvb8cSwz0rXwsF8/H8Ia7gQD9eCktA6kuBeJg54FkwPkK/ldwCponNNvm1vwJZiOZhpGJuZGXmSTZOOemQqlYyS4n8WtMI5l2TWIbfw" rel="nofollow noreferrer" title="J – Try It Online">Try it online!</a></p>
<p>Heavily inspired by Arnauld's approach, except checks for exact 0.5 by doubling and checking that the remainder mod 2 is exactly 1 <code>1=2|+:</code>.</p>
<p>Then subtracts the adjustment bit <code>AND</code>ed with the standard round from the standard round.</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, 57 bytes</h1>
<pre class="lang-r prettyprint-override"><code>\(x,a=x%/%1)`if`(x-a&lt;.5,a,`if`(x-a&gt;.5|a%%2,ceiling(x),a))
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72waMGiNNulpSVpuhY3LWM0KnQSbStU9VUNNRMy0xI0KnQTbfRMdRJ1YDw7PdOaRFVVI53k1MyczLx0jQpNnURNTagBDiU2usWphRq6xjrGOnpGpppcyUmZeSkaJTrFiQUFOZVARpqmJldiTo4GkoCtbVF-KUgVzJwFCyA0AA" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 21 bytes</h1>
<pre><code>ＮθＩ⊟⌊Ｅ⟦⌊θ⌈θ⟧⟦↔⁻θι﹪ι²ι
</code></pre>
<p><a href="https://tio.run/##FcqxCsMgFIXhvU/heAVTSqFTphIodLBkDxlMKu0F9Rr19vWtnuk/8O1fk3YyrtZniFxe7Deb4JDjaU4YCkwmF5gpgsaAnj1oE2F5OKKulJgsOgyf1qsSy33L5LjYrjnDoQTKhjS92RGgEtf2cJV9Y63D5Xyrw8/9AQ" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation: Port of @JonathanAllan's Jelly answer.</p>
<pre><code>Ｎθ                      Input as a number
        θ               Input number
       ⌊                Floor
          θ             Input number
         ⌈              Ceiling
     Ｅ⟦    ⟧            Map over both values
               θ        Input number
                ι       Current value
             ↔⁻         Absolute difference
                  ι     Current value
                 ﹪      Modulo
                   ²    Literal integer `2`
                    ι   Current value
            ⟦           Make into list
    ⌊                   Take the minimum
   ⊟                    Pop the rounded result
  Ｉ                     Cast to string
                        Implicitly print
</code></pre>
<p>34 bytes for arbitrary precision:</p>
<pre><code>≔⪪θ.η≔⊟ηζＩ⁻ＩΣη∧⎇﹪ＩΣη²¬‹ζ5›ζ5∨№θ-±¹
</code></pre>
<p><a href="https://tio.run/##XY5BCoMwEEX3PYW4moBKW3DlSlx0U61gLxA0aCAmdpIU6uXTsXZROjAwvP9gfj9x7A1XIZTWylFDtyjp4JFEcRazJJpYcfgmrVlgIrQSalFqBxW3Dmqpvd3Pzs9kkFLqAe4CNccX1GbwyvwJZ9rGOLgKa2GlZ3m84QsK7gT@kBtCZbzeG6Vbo0aM5MCJfaYIIT1meUif6g0" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>≔⪪θ.η≔⊟ηζ
</code></pre>
<p>Separate the integer and decimal parts.</p>
<pre><code>Ｉ⁻ＩΣη∧⎇﹪ＩΣη²¬‹ζ5›ζ5∨№θ-±¹
</code></pre>
<p>Compare the decimal <code>&gt;=</code> or <code>&gt;</code> than <code>.5</code> depending on whether the integer is odd or even, and increment the absolute value of the integer if so.</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 9 bytes</h1>
<p>Jelly's builtin is 3 bytes: <code>ær0</code> - round to nearest multiple of <span class="math-container">\$10^0\$</span>, which employs Python's <code>round</code>.</p>
<pre><code>Ḟ,ĊḂÞạÞ⁸Ḣ
</code></pre>
<p><strong><a href="https://tio.run/##y0rNyan8///hjnk6R7oe7mg6PO/hroWH5z1q3PFwx6L/OofbNd3//4/WNdYz0FHQNdIzB5OmYNIISBqCRQzBIgZgtgGIbQBSbqBnAiLAXFNDHQVDkKAhSJuhnomlpSWINgURQG1GIDkjPWMQYQoizGIB" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>
<h3>How?</h3>
<pre><code>Ḟ,ĊḂÞạÞ⁸Ḣ - Link: float, X
Ḟ         - floor {X}
  Ċ       - ceil {X}
 ,        - pair -&gt; [floor(X), ceil(X)]
    Þ     - sort by:
   Ḃ      -   is odd?
      Þ   - sort by:
     ạ ⁸  -   absolute difference {X}
        Ḣ - head
</code></pre>
</div>
<div id="pu7" class="pu"><h1>JavaScript (ES6), 30 bytes</h1>
<p>Uses the <code>Math.round()</code> built-in, then clears the least significant bit of the result if the squared fractional part of the original input is <span class="math-container">\$1/4\$</span>.</p>

<pre class="lang-javascript prettyprint-override"><code>v=&gt;Math.round(v)&amp;~(v*v%1==.25)
</code></pre>
<p><a href="https://tio.run/##Xc7BToMwGAfwO0/xZYm2daOBMjTTFE9608uO6gFZ2TCMzlJIjNEnMPHiUd/D59kL@AjYohkwSEh@fP/v3z7EdVwmKttot5AL0aS8qXl0FesVVbIqFrgmh6@4PqoPfM4pC0mjxGOVKYFHaTkiVIl4cZnlYv5UJNgjVMu5VlmxxISWmzzTeHRbmFgq1UWcrHAJPIJnByAXGm6gnoCsNNwBh/I/j9wIEbqON/i6Wt8LRSYmbR8lzDKk5kJn5k8ii1LmguZyie1kDMi8Y2jBeVt7Dujn@337@WG@CE4Bbb/eEDHrL6RxA@qZUjey1W7guIye7DnszKzZwH4/33qY9/pz37qbe47Xnt7jdMhwj/6OvuP3dy3ZkNPZbNZjr4o5f7fekfWrLIMhwyGPOwa/" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language/a950ad7d925ec9316e3e2fb2cf5d49fd15d23e3d" rel="nofollow noreferrer">Retina 0.8.2</a>, 61 bytes</h1>
<pre><code>([02468])\.5$|\.[0-4].*
$1
\b9+\.
0$&amp;
T`9d`d`.9*\.
\..+

-0
0
</code></pre>
<p><a href="https://tio.run/##JY2xDsIwDET3@46CSqtYdpoU/AX8AFtTKaAysHRAjPx7sMVyenc6@97Pz2u/t0N/ra1fOKb5sp4K5e5baOGQVhrQCcpDx0Lg7ohb1a1ulXSwoBCNQGBwa0EpI0zECJHOLtklIohbcctObMRWY0r4cxaIBWJloaSq8LafRYsjTfBnkWbYxg8" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Link includes test cases. Explanation:</p>
<pre><code>([02468])\.5$|\.[0-4].*
$1
</code></pre>
<p>Remove the <code>.5</code> after an even digit, and any decimal less than <code>.5</code>.</p>
<pre><code>\b9+\.
0$&amp;
</code></pre>
<p>If there is an all <code>9</code>s integer part with a decimal part, prefix a zero.</p>
<pre><code>T`9d`d`.9*\.
</code></pre>
<p>If there is a decimal part then increment the integer part.</p>
<pre><code>\..+

-0
0
</code></pre>
<p>Remove any decimal part and change <code>-0</code> to <code>0</code>.</p>
<h1><a href="https://github.com/m-ender/retina/wiki/The-Language" rel="nofollow noreferrer">Retina</a>, 46 bytes</h1>
<pre><code>([02468])\.5$|\.[0-4].*
$1
\d+\..+
$.(*__
-0
0
</code></pre>
<p><a href="https://tio.run/##JY2xDsIwEEN3f0eRQqtYd2lSyBfwEU1VkGBgYUCM/Hu4E4tlW@/O78fn@bppP4TLtYdVUl7O27GxDN/GVWLeOGJQtPvUyAkDw7jviALpPVYWxJmCmHhyKS4JUT2qR3En5sQwYcbfF4VaoQYrc60VTvtZsjpxhj9LXGAbPw" rel="nofollow noreferrer" title="Retina – Try It Online">Try it online!</a> Link includes test cases. Explanation:</p>
<pre><code>([02468])\.5$|\.[0-4].*
$1
</code></pre>
<p>Remove the <code>.5</code> after an even digit, and any decimal less than <code>.5</code>.</p>
<pre><code>\d+\..+
$.(*__
</code></pre>
<p>If there is still a decimal part, remove it and increment the integer part.</p>
<pre><code>-0
0
</code></pre>
<p>Change <code>-0</code> to <code>0</code>.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/264663/">264663</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




