<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::39993</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>003</td><td>Vyxal</td><td>240820T201408Z</td><td><a href="https://codegolf.stackexchange.com/questions/39993/write-a-square-program-that-outputs-the-number-of-times-it-has-been-unrolled/275071#275071">emanresu</a></td></tr>
<tr d-ix="1"><td>155</td><td>Perl 5 + p0513</td><td>240820T200438Z</td><td><a href="https://codegolf.stackexchange.com/questions/39993/write-a-square-program-that-outputs-the-number-of-times-it-has-been-unrolled/275070#275070">Dom Hast</a></td></tr>
<tr d-ix="2"><td>003</td><td>APL</td><td>141020T043751Z</td><td><a href="https://codegolf.stackexchange.com/questions/39993/write-a-square-program-that-outputs-the-number-of-times-it-has-been-unrolled/40048#40048">jimmy230</a></td></tr>
<tr d-ix="3"><td>004</td><td>GolfScript</td><td>141018T220245Z</td><td><a href="https://codegolf.stackexchange.com/questions/39993/write-a-square-program-that-outputs-the-number-of-times-it-has-been-unrolled/40012#40012">Optimize</a></td></tr>
<tr d-ix="4"><td>007</td><td>Golfscript</td><td>141018T084931Z</td><td><a href="https://codegolf.stackexchange.com/questions/39993/write-a-square-program-that-outputs-the-number-of-times-it-has-been-unrolled/39995#39995">John Dvo</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-2" rel="nofollow noreferrer">Vyxal</a>, <code>N=3</code></h1>
<pre><code>› ›
›› 
0  
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2&amp;c=1#WyIiLCIiLCLigLog4oC6XG7igLrigLogXG4wICAiLCIiLCIiXQ==" rel="nofollow noreferrer">Try it Online!</a></p>
<p>Unrolled:</p>
<pre><code>   ››
   › 
0   ›

     ››
0   › ›

       ›
0   › ››
0   › ›››
</code></pre>
<p><code>›</code> increments a number, so the rolled version prints <code>0</code>, the once-unrolled version prints <code>0+1=1</code>, the twice-unrolled version prints <code>0+1+1=2</code> and so on. This could probably be extended to arbitrary-sized grids.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> + <code>-p0513</code>, 155 bytes, <code>N</code>=12</h1>
<p>Not particularly competitive, but it was fun trying to get to this point. I tried with <code>1</code>s originally, but struggled to make it work with <code>1</code>s only separated by newlines. Also <a href="https://dom111.github.io/code-sandbox/#eyJsYW5nIjoid2VicGVybC01LjI4LjEiLCJjb2RlIjoiIyAgICAjXG4gIyAgIztcbiAgIyMgd1xuICMgIyBxXG4jICAgIz1cbiRcXCs9KCkiLCJhcmdzIjoiLXAwNTEzIn0=" rel="nofollow noreferrer">investigated using just list length (<code>N</code>=6)</a> but had issues without using <code>length</code> and <code>join</code>.</p>

<pre class="lang-perl prettyprint-override"><code>#          #
 #        #;
  #      # w
   #    #  q
    #  #   ,
     ##    '
    # #    '
   #   #   n
  #     #  i
 #       # o
#         #j
$\+=length  </code></pre>
<p><a href="https://dom111.github.io/code-sandbox/#eyJsYW5nIjoid2VicGVybC01LjI4LjEiLCJjb2RlIjoiIyAgICAgICAgICAjXG4gIyAgICAgICAgIztcbiAgIyAgICAgICMgd1xuICAgIyAgICAjICBxXG4gICAgIyAgIyAgICxcbiAgICAgIyMgICAgJ1xuICAgICMgIyAgICAnXG4gICAjICAgIyAgIG5cbiAgIyAgICAgIyAgaVxuICMgICAgICAgIyBvXG4jICAgICAgICAgI2pcbiRcXCs9bGVuZ3RoICAiLCJhcmdzIjoiLXAwNTEzIn0=" rel="nofollow noreferrer">Try it online!</a></p>
<p><a href="https://dom111.github.io/code-sandbox/#eyJsYW5nIjoid2VicGVybC01LjI4LjEiLCJjb2RlIjoiICAgICAgICAgICAgIyAgICAgICAgICNcbiAgICAgICAgICAgICAjICAgICAgICMgXG4gICAgICAgICAgICAgICMgICAgICMgIFxuICAgICAgICAgICAgICAgIyAgICMgICBcbiAgICAgICAgICAgICAgICAjICMgICAgXG4gICAgICAgICAgICAgICAgICMgICAgIFxuICAgICAgICAgICAgICAgICMjICAgICBcbiAgICAgICAgICAgICAgICMgICMgICAgXG4gICAgICAgICAgICAgICMgICAgIyAgIFxuICAgICAgICAgICAgICMgICAgICAjICBcbiAgICAgICAgICAgICMgICAgICAgICMgXG4kXFwrPWxlbmd0aCAgam9pbicnLHF3OyMiLCJhcmdzIjoiLXAwNTEzIn0=" rel="nofollow noreferrer">1</a>, <a href="https://dom111.github.io/code-sandbox/#eyJsYW5nIjoid2VicGVybC01LjI4LjEiLCJjb2RlIjoiICAgICAgICAgICAgICAgICAgICAgICAjICAgICAgICAgI1xuICAgICAgICAgICAgICAgICAgICAgICAgIyAgICAgICAjIFxuICAgICAgICAgICAgICAgICAgICAgICAgICMgICAgICMgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAjICAgIyAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIyAjICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIyMgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAjICAjICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICMgICAgIyAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgIyAgICAgICMgIFxuICAgICAgICAgICAgICAgICAgICAgICAjICAgICAgICAjIFxuJFxcKz1sZW5ndGggIGpvaW4nJyxxdzsjICAgICAgICAgICMiLCJhcmdzIjoiLXAwNTEzIn0=" rel="nofollow noreferrer">2</a>, <a href="https://dom111.github.io/code-sandbox/#eyJsYW5nIjoid2VicGVybC01LjI4LjEiLCJjb2RlIjoiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgICAgICAgICNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyAgICAgICMgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjICAgICMgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgICMgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyMgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgIyAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgICAjICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgICAgICMgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgICAgICAgIyBcbiRcXCs9bGVuZ3RoICBqb2luJycscXc7IyAgICAgICAgICAjICAgICAgICAgIyIsImFyZ3MiOiItcDA1MTMifQ==" rel="nofollow noreferrer">3</a>, <a href="https://dom111.github.io/code-sandbox/#eyJsYW5nIjoid2VicGVybC01LjI4LjEiLCJjb2RlIjoiJFwiPSQsO0BhPW1hcFsvLi9nXSw8Pjt3aGlsZShAYSl7c2F5JyAneChsZW5ndGgkcykuXCJAJF9cImZvckBhWzAuLkBhLTJdO3NheSRzLj1cIkB7cG9wQGF9XCI7c2F5QGI9KCk7Zm9yJGkoMC4uJCNhKXskcT0wOyRiWyRxKytdWyQjYS0kaV09JF8gZm9yQHskYVskaV19fUBhPUBifSIsImhlYWRlciI6IiMgRnJvbSBYY2FsaSdzIFBlcmwgYW5zd2VyIHRvIFVuZnVybCBhIHN0cmluZzogaHR0cHM6Ly9jb2RlZ29sZi5zdGFja2V4Y2hhbmdlLmNvbS9hLzEzOTg5OS85MzY1XG4iLCJhcmdzIjoiLU01LjEwLjAiLCJpbnB1dCI6IiMgICAgICAgICAgI1xuICMgICAgICAgICM7XG4gICMgICAgICAjIHdcbiAgICMgICAgIyAgcVxuICAgICMgICMgICAsXG4gICAgICMjICAgICdcbiAgICAjICMgICAgJ1xuICAgIyAgICMgICBuXG4gICMgICAgICMgIGlcbiAjICAgICAgICMgb1xuIyAgICAgICAgICNqXG4kXFwrPWxlbmd0aCAgIn0=" rel="nofollow noreferrer">...</a>, <a href="https://dom111.github.io/code-sandbox/#eyJsYW5nIjoid2VicGVybC01LjI4LjEiLCJjb2RlIjoiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyAjXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIyBcbiRcXCs9bGVuZ3RoICBqb2luJycscXc7IyAgICAgICAgICAjICAgICAgICAgIyAgICAgICAgICMgICAgICAgICMgICAgICAgICMgICAgICAgIyAgICAgICAjICAgICAgIyAgICAgICMgICAgICMgICAgICMgICAgIyAgICAjICAgIyAgICMgICMgICMiLCJhcmdzIjoiLXAwNTEzIn0=" rel="nofollow noreferrer">18</a>, <a href="https://dom111.github.io/code-sandbox/#eyJsYW5nIjoid2VicGVybC01LjI4LjEiLCJjb2RlIjoiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgXG4kXFwrPWxlbmd0aCAgam9pbicnLHF3OyMgICAgICAgICAgIyAgICAgICAgICMgICAgICAgICAjICAgICAgICAjICAgICAgICAjICAgICAgICMgICAgICAgIyAgICAgICMgICAgICAjICAgICAjICAgICAjICAgICMgICAgIyAgICMgICAjICAjICAjICMiLCJhcmdzIjoiLXAwNTEzIn0=" rel="nofollow noreferrer">19</a>, <a href="https://dom111.github.io/code-sandbox/#eyJsYW5nIjoid2VicGVybC01LjI4LjEiLCJjb2RlIjoiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjI1xuJFxcKz1sZW5ndGggIGpvaW4nJyxxdzsjICAgICAgICAgICMgICAgICAgICAjICAgICAgICAgIyAgICAgICAgIyAgICAgICAgIyAgICAgICAjICAgICAgICMgICAgICAjICAgICAgIyAgICAgIyAgICAgIyAgICAjICAgICMgICAjICAgIyAgIyAgIyAjICMiLCJhcmdzIjoiLXAwNTEzIn0=" rel="nofollow noreferrer">20</a>, <a href="https://dom111.github.io/code-sandbox/#eyJsYW5nIjoid2VicGVybC01LjI4LjEiLCJjb2RlIjoiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICNcbiRcXCs9bGVuZ3RoICBqb2luJycscXc7IyAgICAgICAgICAjICAgICAgICAgIyAgICAgICAgICMgICAgICAgICMgICAgICAgICMgICAgICAgIyAgICAgICAjICAgICAgIyAgICAgICMgICAgICMgICAgICMgICAgIyAgICAjICAgIyAgICMgICMgICMgIyAjIyIsImFyZ3MiOiItcDA1MTMifQ==" rel="nofollow noreferrer">21</a>, <a href="https://dom111.github.io/code-sandbox/#eyJsYW5nIjoid2VicGVybC01LjI4LjEiLCJjb2RlIjoiJFxcKz1sZW5ndGggIGpvaW4nJyxxdzsjICAgICAgICAgICMgICAgICAgICAjICAgICAgICAgIyAgICAgICAgIyAgICAgICAgIyAgICAgICAjICAgICAgICMgICAgICAjICAgICAgIyAgICAgIyAgICAgIyAgICAjICAgICMgICAjICAgIyAgIyAgIyAjICMjIyIsImFyZ3MiOiItcDA1MTMifQ==" rel="nofollow noreferrer">22</a></p>
</div>
<div id="pu2" class="pu"><h1>APL, N = 3</h1>

<pre><code>201
340
5|0
</code></pre>

<p>Unrolled:</p>

<pre><code>   32
   40
5|001

     43
5|00102

       4
5|001023

5|0010234
</code></pre>

<p><a href="http://ngn.github.io/apl/web/index.html#code=201%0A340%0A5|0" rel="noreferrer">Try it online.</a></p>

<p>It calculates the remainder of that number divided by 5. Only the result of last line is printed.</p>

<h1>APL, N = 2</h1>

<pre><code>⍬∞
≡0
</code></pre>

<p>Unrolled:</p>

<pre><code>  ⍬
≡0∞

≡0∞⍬
</code></pre>

<p><a href="http://ngn.github.io/apl/web/index.html#code=%u236C%u221E%0A%u22610" rel="noreferrer">Try it online.</a></p>

<p><code>≡</code> returns the depth (not to be confused with the dimension or length) of an array:</p>

<ul>
<li><code>0</code> is not an array. So the depth is 0.</li>
<li><code>0∞</code> is an array with two items <code>0</code> and <code>∞</code> (infinity). It has depth 1.</li>
<li><code>0∞⍬</code> has another item <code>⍬</code>, which is an empty array with depth 1. So <code>0∞⍬</code> has depth 2.</li>
</ul>

<p>These two programs also works in the online interpreter. I'm not sure if the later one is syntactically correct.</p>

<pre><code>⍬0
≡∞
</code></pre>

<p><br/></p>

<pre><code>⍬¯
≡0
</code></pre>

<h1>APL, for any N >= 4</h1>

<p>For N = 4:</p>

<pre><code>∞  ∞
 ∞∞
∞ ∞
⍴1↓∞
</code></pre>

<p>Fully unrolled:</p>

<pre><code>⍴1↓∞  ∞  ∞ ∞ ∞∞∞
</code></pre>

<p>For N = 5:</p>

<pre><code>∞   ∞
 ∞ ∞
 ∞∞
∞  ∞
⍴1↓ ∞
</code></pre>

<p>Fully unrolled:</p>

<pre><code>⍴1↓ ∞   ∞   ∞  ∞  ∞ ∞ ∞∞∞
</code></pre>

<p><code>1↓</code> removes an item in the array. It also returns the empty array if the argument is scalar. <code>⍴</code> gets the array length.</p>
</div>
<div id="pu3" class="pu"><h2>GolfScript, N = 4</h2>

<p>This one right rolls as original spec.</p>

<pre><code>.. . 
...# 
.#.~
],8-
</code></pre>

<p>Here are the unrolls:</p>

<pre><code>    ...
    #..
    ..
],8-~#.

       .#.
       ...
],8-~#. ..

          ..
          .#
],8-~#. ....

            ..
],8-~#. ....#.

              .
],8-~#. ....#..

],8-~#. ....#...
</code></pre>

<p><a href="http://golfscript.apphb.com/">Try it here</a></p>
</div>
<div id="pu4" class="pu"><h3>Golfscript, N &lt;- [5,7..]</h3>

<pre><code>.   .
 . . 
 ..  
.  .#
],9\-
</code></pre>

<p>Fully unrolled:</p>

<pre><code>],9\-#  .   .  .  . . ...
</code></pre>

<p>Explanation:</p>

<ul>
<li><code>.</code> (multiple times) - duplicate the input</li>
<li><code>]</code> - collect the stack into a single array</li>
<li><code>,</code> - take its length</li>
<li><code>9\-</code> - subtract it from 9</li>
<li><code>#</code> - line comment</li>
</ul>

<p>Whitespace is a NOP, but any other NOP would have worked just as well.</p>

<p>Fully rolled up, it uses nine copies of the input (contents ignored) as the stack; 9 - 9 = 0; it has not been unrolled.</p>

<p>Each unroll hides one more dot (duplicate) behind the comment, shrinking the stack once, incrementing the output.</p>

<p>Fully unrolled, it uses only the input (contents ignored) as the stack; 9 - 1 = 8; it has been unrolled 8 times.</p>

<p>The same approach works for any N > 4: Change <code>9</code> to the appropriate value of 2*N+1, then extend the pattern of dots (duplicate) using the same spiral pattern that ensures exactly one dot gets unrolled during each unroll.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/39993/">39993</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




