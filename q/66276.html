<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::66276</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>nan</td><td>Vyxal D</td><td>210528T215938Z</td><td><a href="https://codegolf.stackexchange.com/questions/66276/quat-quine-cat/226410#226410">emanresu</a></td></tr>
<tr d-ix="1"><td>nan</td><td>Excel</td><td>210529T005710Z</td><td><a href="https://codegolf.stackexchange.com/questions/66276/quat-quine-cat/226414#226414">Axuary</a></td></tr>
<tr d-ix="2"><td>078</td><td>Zsh</td><td>210528T161909Z</td><td><a href="https://codegolf.stackexchange.com/questions/66276/quat-quine-cat/226400#226400">pxeger</a></td></tr>
<tr d-ix="3"><td>nan</td><td>Python 3.8 prerelease</td><td>210528T145618Z</td><td><a href="https://codegolf.stackexchange.com/questions/66276/quat-quine-cat/226395#226395">Jakque</a></td></tr>
<tr d-ix="4"><td>033</td><td>JavaScript</td><td>170612T220012Z</td><td><a href="https://codegolf.stackexchange.com/questions/66276/quat-quine-cat/126062#126062">ericw314</a></td></tr>
<tr d-ix="5"><td>045</td><td>Javascript ES6</td><td>151229T223846Z</td><td><a href="https://codegolf.stackexchange.com/questions/66276/quat-quine-cat/68136#68136">Mama Fun</a></td></tr>
<tr d-ix="6"><td>009</td><td>Seriously</td><td>151210T191702Z</td><td><a href="https://codegolf.stackexchange.com/questions/66276/quat-quine-cat/66310#66310">quintopi</a></td></tr>
<tr d-ix="7"><td>nan</td><td>Perl</td><td>151210T182215Z</td><td><a href="https://codegolf.stackexchange.com/questions/66276/quat-quine-cat/66306#66306">ThisSuit</a></td></tr>
<tr d-ix="8"><td>nan</td><td>JavaScript</td><td>151210T230220Z</td><td><a href="https://codegolf.stackexchange.com/questions/66276/quat-quine-cat/66324#66324">jrich</a></td></tr>
<tr d-ix="9"><td>nan</td><td></td><td>151210T150911Z</td><td><a href="https://codegolf.stackexchange.com/questions/66276/quat-quine-cat/66286#66286">Lord Yuu</a></td></tr>
<tr d-ix="10"><td>017</td><td>Vitsy</td><td>151211T113938Z</td><td><a href="https://codegolf.stackexchange.com/questions/66276/quat-quine-cat/66357#66357">Addison </a></td></tr>
<tr d-ix="11"><td>229</td><td>Mathematica</td><td>151211T113657Z</td><td><a href="https://codegolf.stackexchange.com/questions/66276/quat-quine-cat/66356#66356">LegionMa</a></td></tr>
<tr d-ix="12"><td>nan</td><td>Pyth</td><td>151210T144319Z</td><td><a href="https://codegolf.stackexchange.com/questions/66276/quat-quine-cat/66281#66281">FryAmThe</a></td></tr>
<tr d-ix="13"><td>nan</td><td>CJam</td><td>151210T141924Z</td><td><a href="https://codegolf.stackexchange.com/questions/66276/quat-quine-cat/66278#66278">Martin E</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-2" rel="nofollow noreferrer">Vyxal</a> <code>D</code>, 21 - 30% = 14.7 bytes</h1>
<pre><code>`q‛:Ė+?DL4Ḋ[[L4/εṄ`:Ė
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2&amp;c=1#WyJEQSIsIiIsImBx4oCbOsSWKz9ETDThuIpbW0w0L8614bmEYDrEliIsIiIsIlwiXCJcblwiYWJjXCJcblwiYWJjZFwiXG5cImFiY2RlZmdoXCIiXQ==" rel="nofollow noreferrer">Try it Online!</a></p>
<pre><code>`                 `:Ė # Evaluate this code on itself:
 q                    # Enclose in quotes
  ‛:Ė+                # Append &quot;:Ė&quot;, resulting in code
      ?D              # Push input three times
        L4Ḋ[          # If length is divisible by 4
            [         # And string is nonempty
                ε     # Repeat in an array with length
             L4/      # len(input)/4
                 Ṅ    # Join with spaces
</code></pre>
</div>
<div id="pu1" class="pu"><h1>Excel, 204 bytes - 30% = 142.8 score</h1>
<pre><code>=LET(a,LEN(A1),c,CHAR(34),q,&quot;=LET(a,LEN(A1),c,CHAR(34),q,#,IF(MOD(a,4)=0,TRIM(REPT(SUBSTITUTE(q,CHAR(35),c&amp;q&amp;c),a/4)),LEFT(A1,1))) &quot;,IF(MOD(a,4)=0,TRIM(REPT(SUBSTITUTE(q,CHAR(35),c&amp;q&amp;c),a/4)),LEFT(A1,1)))
</code></pre>
<p><a href="https://1drv.ms/x/s!AkqhtBc2XEHJnDMfSU9R0-k5t3LF?e=fJmfE8" rel="nofollow noreferrer">Link to Spreadsheet</a></p>
<h2>2nd Place, 191 bytes - 25% = 143.25 score</h2>
<pre><code>=LET(a,LEN(A1),c,CHAR(34),q,&quot;=LET(a,LEN(A1),c,CHAR(34),q,#,IF(MOD(a,4)=0,REPT(SUBSTITUTE(q,CHAR(35),c&amp;q&amp;c),a/4),LEFT(A1,1)))&quot;,IF(MOD(a,4)=0,REPT(SUBSTITUTE(q,CHAR(35),c&amp;q&amp;c),a/4),LEFT(A1,1)))
</code></pre>
<h2>3rd Place, 179 bytes</h2>
<pre><code>=LET(a,LEN(A1),c,CHAR(34),q,&quot;=LET(a,LEN(A1),c,CHAR(34),q,#,IF(a*(MOD(a,4)=0),SUBSTITUTE(q,CHAR(35),c&amp;q&amp;c),left(A1,1)))&quot;,IF(a*(MOD(a,4)=0),SUBSTITUTE(q,CHAR(35),c&amp;q&amp;c),LEFT(A1,1)))
</code></pre>
<h2>Best Cheesy Answer, 59 byte - 25% = 44.25 score</h2>
<pre><code>=LET(a,LEN(A1),IF(MOD(a,4)=0,REPT(FORMULATEXT(B8),a/4),A1))
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.zsh.org/" rel="nofollow noreferrer">Zsh</a>, 78 bytes</h1>

<pre class="lang-sh prettyprint-override"><code>s='s=\47%s\47
0()printf $s $s
$[$#1&amp;3]||&lt;&lt;&lt;$1'
0()printf $s $s
$[$#1&amp;3]||&lt;&lt;&lt;$1
</code></pre>
<p><a href="https://tio.run/##qyrO@F@cWqJgaGRsYmpmbvG/2Fa92DbGxFy1GEhwGWhoFhRl5pWkKagUAxGXSrSKsqGacWxNjY2NjYqhOiEF//8DAA" rel="nofollow noreferrer" title="Zsh – Try It Online">Try it online!</a></p>
<p>Uses <code>&amp;3</code> instead of <code>%4</code> so the <code>%</code> doesn't get interpreted by <code>printf</code>.</p>
<p>The bonus could be added with <code>repeat $[$#1/4] </code> before the <code>printf</code> in both places, but unfortunately it gives a higher score (<span class="math-container">\$ 75\% \times 110 = 82.5 \$</span>).</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://docs.python.org/3.8/" rel="nofollow noreferrer">Python 3.8 (pre-release)</a>, 71 bytes -30% = 49.7</h1>

<pre class="lang-python prettyprint-override"><code>exec(a:=&quot;s=len(t:=input());print(*s%4and[t]or s//4*['exec(a:=%r)'%a])&quot;)
</code></pre>
<p><a href="https://tio.run/##K6gsycjPM7YoKPr/P7UiNVkj0cpWqdg2JzVPo8TKNjOvoLREQ1PTuqAoM69EQ6tY1SQxLyW6JDa/SKFYX99EK1odpkm1SFNdNTFWU0nz/39DI2MTUzNzCwA" rel="nofollow noreferrer" title="Python 3.8 (pre-release) – Try It Online">Try it online!</a></p>
</div>
<div id="pu4" class="pu"><h1>JavaScript, 33 bytes</h1>

<pre><code>f=(i,l=i.length)=&gt;l%4?i:("f="+f).repeat(l/4)
</code></pre>

<ul>
<li><strong>+44</strong> bytes</li>
<li><strong>-25%</strong> bonus</li>
</ul>

<p>Other solutions:</p>

<h2><s>44</s> 36 bytes</h2>

<p><s></p>

<pre><code>f=(i,l=i.length)=&gt;l%4?i:("f="+f).repeat(!!l)
</code></pre>

<p></s></p>

<pre><code>f=(i,l=i.length)=&gt;l%4?i:l?("f="+f):i
</code></pre>

<h2>38.5 bytes</h2>

<pre><code>f=(i,l=i.length)=&gt;l%4?i:Array(l/4).fill("f="+f).join` `
</code></pre>

<ul>
<li><strong>+55</strong> bytes</li>
<li><strong>-25%</strong> bonus</li>
<li><strong>-5%</strong> bonus</li>
</ul>
</div>
<div id="pu5" class="pu"><h1>Javascript ES6, 45 bytes</h1>
<pre><code>$=(_=prompt())=&gt;_.length%4?_:`$=${$};$()`;$()
</code></pre>
<p>Extension of my 21-byte Bling Quine. Hope that mixing <code>prompt</code> and function output is allowed.</p>
</div>
<div id="pu6" class="pu"><h2>Seriously, <s>8</s> 9 bytes</h2>

<pre><code>Q,ó;l4@%I
</code></pre>

<p><a href="http://seriouslylang.herokuapp.com/link/code=512ca23b6c34402549&amp;input=hello,%20y%60all" rel="nofollow">Try it Online</a></p>

<p>(Hit enter once in the input box to test empty input.)</p>

<p>The first bonus can be done in 12 bytes (16*.75):</p>

<pre><code>Q,ó;l;4@\(*)4@%I
</code></pre>

<p>Explanation:</p>

<pre><code>Q                   Push program source to stack
 ,ó                 Push input string, and terminate if it's empty
   ;l               Push length of input
     4@%            Take the length mod 4.
        I           Pick the next stack element (input) if nonzero,
                    else the next next (program source)
</code></pre>

<p>Since some people don't like the use of Seriously's quining built-in, I provide this 22 byte version that doesn't use <code>Q</code> for reference:</p>

<pre><code>`è";ƒ"(+,ó;l4@%I`;ƒ
</code></pre>

<p>If you are one of those people, consider this the definitive version (for now) and then go start a meta thread about the use of built-ins in quines.</p>
</div>
<div id="pu7" class="pu"><h1>Perl, <s>68</s> 65 * 0.75 = 48.75 bytes</h1>
<pre><code>perl -e'$_=q{print+($l=($~=&lt;&gt;)=~y///c)%4?$~:&quot;\$_=q{$_};eval&quot;x($l/4)};eval'
</code></pre>
<p>See the online test suite <a href="http://ideone.com/lgZwPo" rel="nofollow noreferrer">here.</a></p>
<h2>Broken down</h2>
<pre><code>perl -e'
    $_=q{                      # store source code in $_
        print+(
            $l=($~=&lt;&gt;)=~ y///c # read STDIN into $~, assign length to $l
        )%4 ?                  # if length is a multiple of 4
             $~ :              # print $~
             &quot;\$_=q{$_};eval&quot;  # otherwise, print source code
             x($l/4)           # length/4 times
    };
    eval'                      # eval $_ to execute its contents
</code></pre>
</div>
<div id="pu8" class="pu"><h1>JavaScript, <s>57</s> <s>56</s> 72 bytes * 0.75 = 54</h1>
<p>Thanks to @Neil for a one byte savings!</p>
<pre><code>(f=_=&gt;alert(!(p=prompt())||(l=p.length)%4?p:`(f=${f})()`.repeat(l/4)))()
</code></pre>
<p>The shortest solution I could find was pretty straight-forward.</p>
<p>So, here's a couple bonus (more interesting) solutions:</p>
<h3>JavaScript, <s>82</s> 81 bytes * 0.75 = 60.75</h3>
<pre><code>f=_=&gt;{try{p=prompt();a=`f=${f};f()`.repeat(p.length/4)}catch(e){a=p}alert(a)};f()
</code></pre>
<p>This one abuses <code>repeat</code>'s functionality of throwing an exception if passed a non-integer.
<br></p>
<h3>JavaScript, 83 bytes * 0.70 = 58.1</h3>
<pre><code>(f=_=&gt;alert((a=(p=prompt()).split(/.{4}/)).pop()?p:a.fill(`(f=${f})()`).join` `))()
</code></pre>
<p>This last one is definitely my favorite, splitting the input on every four characters using the regex <code>/.{4}/</code>. If there are any characters left at the end of the string when we <code>pop</code>, it isn't divisible by 4, so alert the input. Otherwise, the <code>pop</code> reduced the array's length by one, so at this point the array's length is equal to the input length / 4. In this case, just <code>fill</code> it with the quine and <code>join</code> with spaces.</p>
</div>
<div id="pu9" class="pu"><h1>Emacs Lisp (323 * 0.75 = 242.25)</h1>

<pre><code>((lambda (s) (let* ((a (read-string "")) (l (string-bytes a))) (if (&gt; (% l 4) 0) (message a) (dotimes (v (/ l 4)) (prin1 (list s (list (quote quote) s))))))) (quote (lambda (s) (let* ((a (read-string "")) (l (string-bytes a))) (if (&gt; (% l 4) 0) (message a) (dotimes (v (/ l 4)) (prin1 (list s (list (quote quote) s)))))))))
</code></pre>

<p>This uses Lisp's quoting mechanic to give the source code as input to itself.</p>

<p><strong>Old cheating version</strong></p>

<pre><code>:; exec emacs -Q -script $0
(find-file(nth 2 command-line-args))(set'b(buffer-string))(set's(read-string""))(set'l(string-bytes s))(if(&gt;(% l 4)0)(message s)(dotimes(v(/ l 4))(message"%s"b)))
</code></pre>

<p>Ungolfed:</p>

<pre><code>:; exec emacs -Q -script $0
(find-file(nth 2 command-line-args)) ; open self
(set'b(buffer-string))               ; read own code to string
(set's(read-string""))               ; read input
(set'l(string-bytes s))              ; length of input
(if(&gt;(% l 4)0)                       ; l % 4 &gt; 0 ?
    (message s)                      ; output input
  (dotimes(v(/ l 4))                 ; (implicit else) repeat l/4 times
    (message"%s"b)))                 ; output own code
</code></pre>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/VTCAKAVSMoACE/Vitsy" rel="nofollow">Vitsy</a>, <s>18</s> 17 bytes</h1>

<p><s><em>So close</em>.</s> Yus. I am now winning amongst non-built in quiners! <em>glares at Seriously</em></p>

<pre><code>zl4M([&'rd3*8\}]Z
z                 Grab ALL THE INPUT! :D
 l4M([         ]  If the input is a multiple of four, do the stuff in brackets.
      &           Generate a new stack and move to it.
       'rd3*      Standard quine.
            8\}   Push the bottom 8 items of the stack to the top.
                Z Output the current stack.</code></pre>

<p>There's no reason for me to go after the bonuses - they'd chuck on a lot more bytes.</p>

<h2>Cheating quine version, 12 bytes:</h2>

<pre><code>zl4M([&iG`]Z
zl4M([&   ]Z  Same as above.
       i      Push -1.
        G     Get the name of the file with this index of use (-1 is self)
         `    Read the file with the given name and push its contents to the stack.</code></pre>
</div>
<div id="pu11" class="pu"><h2>Mathematica, 229 bytes</h2>

<pre><code>($RecursionLimit = Infinity; WriteString[$Output, If[Mod[StringLength[a = (If[(a = InputString[]) === EndOfFile, "", StringJoin["\n", a, #0[]]] &amp; )[]], 4] == 1, ToString[#0, InputForm][], If[a == "", "", StringDrop[a, 1]]]]) &amp; []
</code></pre>

<p>All of the whitespace is for the <code>InputForm</code> of the program to match its actual code.</p>
</div>
<div id="pu12" class="pu"><h1>Pyth, 33 * .75 = 24.75</h1>

<pre><code>?%lz4z*/lz4jN*2]"?%lz4z*/lz4jN*2]
</code></pre>

<p><a href="http://pyth.herokuapp.com/?code=%3F%25lz4z%2A%2Flz4jN%2A2%5D%22%3F%25lz4z%2A%2Flz4jN%2A2%5D&amp;input=asdf&amp;test_suite=1&amp;test_suite_input=%0A1%0A12%0A123%0A1234%0A12345%0A12345678%0A123456781234&amp;debug=0" rel="nofollow">Test Suite</a></p>

<p>Standard Pyth quine using join. This is only a true quine on the online interpreter, which doesn't add a final trailing newline.</p>

<p>Getting the final bonus reults in a score of 39 * .7 = 27.3:</p>

<pre><code>?%lz4zjd*/lz4]jN*2]"?%lz4zjd*/lz4]jN*2]
</code></pre>
</div>
<div id="pu13" class="pu"><h2>CJam, 23 * 0.75 = 17.25 bytes</h2>

<p>Standard generalised quine...</p>

<pre><code>{`"_~"+q:Q,4md@@*Q\?}_~
</code></pre>

<p>or</p>

<pre><code>{`"_~"+q_,4md@@]:\*?}_~
</code></pre>

<p><a href="http://cjam.aditsu.net/#code=%7B%60%22_~%22%2Bq%3AQ%2C4md%40%40*Q%5C%3F%7D_~&amp;input=12345678">Test it here.</a></p>

<h3>Explanation</h3>

<pre><code>{`"_~"+  e# Generalised quine framework. Leaves the source code on the stack.
  q:Q    e# Read input and store it in Q.
  ,      e# Get its length.
  4md    e# Divmod 4.
  @      e# Pull up the source code.
  @      e# Pull up the div.
  *      e# Repeat the source code that many times.
  Q\     e# Push the input and swap it below the repeated source.
  ?      e# Pick the right output based on the modulo.
}_~
</code></pre>

<p>The other version avoids the use of a variable by using the stack-rotation trick <code>]:\</code>.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/66276/">66276</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




