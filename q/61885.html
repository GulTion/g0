<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::61885</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>3216</td><td>Nibbles</td><td>240525T225325Z</td><td><a href="https://codegolf.stackexchange.com/questions/61885/monday-mini-golf-6-meeesesessess-upp-teeexexextext/273313#273313">DLosc</a></td></tr>
<tr d-ix="1"><td>086</td><td>Python 3</td><td>181231T234643Z</td><td><a href="https://codegolf.stackexchange.com/questions/61885/monday-mini-golf-6-meeesesessess-upp-teeexexextext/178203#178203">Erik the</a></td></tr>
<tr d-ix="2"><td>041</td><td>Pip</td><td>151106T122051Z</td><td><a href="https://codegolf.stackexchange.com/questions/61885/monday-mini-golf-6-meeesesessess-upp-teeexexextext/63118#63118">DLosc</a></td></tr>
<tr d-ix="3"><td>131</td><td>Python 2</td><td>151030T083957Z</td><td><a href="https://codegolf.stackexchange.com/questions/61885/monday-mini-golf-6-meeesesessess-upp-teeexexextext/62199#62199">TFeld</a></td></tr>
<tr d-ix="4"><td>181</td><td>Haskell</td><td>151028T140422Z</td><td><a href="https://codegolf.stackexchange.com/questions/61885/monday-mini-golf-6-meeesesessess-upp-teeexexextext/62004#62004">Xwtek</a></td></tr>
<tr d-ix="5"><td>200</td><td>Haskell</td><td>151027T154949Z</td><td><a href="https://codegolf.stackexchange.com/questions/61885/monday-mini-golf-6-meeesesessess-upp-teeexexextext/61931#61931">Leif Wil</a></td></tr>
<tr d-ix="6"><td>357</td><td>TSQL</td><td>151028T195127Z</td><td><a href="https://codegolf.stackexchange.com/questions/61885/monday-mini-golf-6-meeesesessess-upp-teeexexextext/62023#62023">Sam Cohe</a></td></tr>
<tr d-ix="7"><td>087</td><td>JavaScript ES6</td><td>151027T044437Z</td><td><a href="https://codegolf.stackexchange.com/questions/61885/monday-mini-golf-6-meeesesessess-upp-teeexexextext/61900#61900">n̴̖̋h̷͉̃</a></td></tr>
<tr d-ix="8"><td>057</td><td>Gema</td><td>151027T181801Z</td><td><a href="https://codegolf.stackexchange.com/questions/61885/monday-mini-golf-6-meeesesessess-upp-teeexexextext/61938#61938">manatwor</a></td></tr>
<tr d-ix="9"><td>082</td><td>JavaScriptES6</td><td>151027T091835Z</td><td><a href="https://codegolf.stackexchange.com/questions/61885/monday-mini-golf-6-meeesesessess-upp-teeexexextext/61909#61909">edc65</a></td></tr>
<tr d-ix="10"><td>043</td><td>Retina</td><td>151027T092550Z</td><td><a href="https://codegolf.stackexchange.com/questions/61885/monday-mini-golf-6-meeesesessess-upp-teeexexextext/61911#61911">Martin E</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="http://golfscript.com/nibbles/index.html" rel="nofollow noreferrer">Nibbles</a>, <s>37</s> 32 nibbles (16 bytes)</h1>
<pre><code>+.%~@\$n+:@?,$:`($.`\$:^+,\/$@a~
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m708LzMpKSe1eMGCpaUlaboWNxW09VTrHGJU8rStHOx1VKwSNFT0EmJUrOK0dWL0VRwS6yDqoMoXbI83MDQyNlEoLinS09Et109MSgbyqxQh0gA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h3>Explanation</h3>
<p>Two <code>$</code>s are implicit at the end.</p>
<pre class="lang-python prettyprint-override"><code>+.%~@\$n+:@?,$:`($.`\$:^+,\/$@a~$$
    @                               # First line of stdin
  %~                                # Split into pairs of runs of
     \$n                            # alphanumeric characters
                                    # each with its preceding run of non-alnum chars
 .                                  # Map to each (alnum, non-alnum) tuple
+                                   # and concatenate the results:
           ?,$                   $  #  If the alnum run is empty, keep it as-is
               `($                  #  Else, remove the first character
              :                     #  and prepend it to this list:
                   `\$:             #  Scan the remainder on concatenation (i.e. get
                                    #  its prefixes)
                  .                 #  and then map this function to each prefix:
                           /$@      #   Last character
                          \   a     #   is a letter?
                         ,          #   1 if so, 0 if not
                        +      ~    #   Plus 1 (2 if letter, 1 if not)
                       ^        $   #   Repeat argument that many times
         :@                         #  Prepend the non-alnum run to that list
        +                           #  Concatenate it all together
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 86 bytes</h1>



<pre class="lang-python prettyprint-override"><code>f=0
m=''
for i in input():g=i.isalnum();m=m*g*f+i*f;print(end=m*-~i.isalpha()or i);f=g
</code></pre>

<p><a href="https://tio.run/##K6gsycjPM/7/P83WgCvXVl2dKy2/SCFTITMPiApKSzQ0rdJtM/UyixNz8kpzNTStc21ztdK10rQztdKsC4oy80o0UvNSgGK6dRBVBRmJGpogIzSt02zT//83NDY2VwBqTTIuMgUA" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
</div>
<div id="pu2" class="pu"><h1>Pip, 41 bytes</h1>

<pre><code>aR`[^_\W]+`{Y0a@0.Ya@{1,++y}X2-(_Q+_)MJa}
</code></pre>

<p>Takes the text as a command-line argument. We use a regex replacement to replace all alphanumeric runs (<code>[^_\W]+</code>) with a callback function. This function maps another function to each character of the word, generating progressively larger runs of characters (with the global variable <code>y</code> keeping track of the index) and repeating them X2 if the character is not a number. (The logic for which uses <code>+</code> to convert to a number and then <code>Q</code> to check whether this is string-equal to the original character.) This process leaves out the first character, though, so we have to add it on afterward (<code>a@0.</code>).</p>
</div>
<div id="pu3" class="pu"><h1>Python 2, 131 Bytes</h1>
<pre><code>i=raw_input();s=r='';g=1
for c in i:
 s+=c
 if g:r+=c;g=0;s=''
 elif c.isalpha():r+=s*2
 elif '/'&lt;c&lt;':':r+=s
 else:g=1;r+=c
print r
</code></pre>
<p>Loops through characters, and saves/repeats if required.</p>
</div>
<div id="pu4" class="pu"><h1>Haskell, <s>183</s> 181 bytes</h1>

<pre><code>import Data.Char
b(x:y)|h x=x:c[]y|2&gt;1=x:b y
b[]=[]
h y=isDigit y||isAlpha y
c x l@(y:z)|h y=c(y:x)z|2&gt;1=c x[]++b l
c x[]=reverse$g$x
g[]=[]
g a@(x:y)|isDigit x=a++g y|2&gt;1=a++a++g y
</code></pre>

<p>Usage:</p>

<pre><code>b"Hello, world!"
&gt;"Heeelelellellelloello, wooorororlorlorldorld!"
</code></pre>

<p>Don't know if it is essentially different with Leif Willerts' answer. But here's the algorithm.</p>

<ol>
<li>Search for valid letter(Letter or Num)</li>
<li>If it letter, begin collecting letter. However, it is stored reversely, make the string reversed. And first item is omitted.</li>
<li>As it hit invalid letter, do the question's transform with reversed input. The question's transform is reverse.g.reverse, but since it is already reversed, then we just do reverse.g</li>
</ol>

<p>I somehow keep redudant brackets.</p>
</div>
<div id="pu5" class="pu"><h1>Haskell, <s>215</s> 200 bytes</h1>
<pre class="lang-hs prettyprint-override"><code>import Data.List
import Data.Char
c=concatMap
p c=[isDigit c,isAlpha c]
r(Just n)=c id.replicate(n+1)
r _=id
f(h:t)=h:(c(\s-&gt;r(findIndex id.p$last s)s).tail.inits)t
m=c f.groupBy(\a b-&gt;or$p a==or$p b)
</code></pre>
<p>It's a mess.</p>
<p>Have fun reading all the weird quirks, I never thought I would use <code>id</code> this much.</p>
<p>Too bad the stuff that already does half the work here needs to be imported (<code>isDigit</code>,<code>isAlpha</code>,<code>inits</code>).</p>
</div>
<div id="pu6" class="pu"><p><strong>T-SQL, 357 bytes</strong></p>

<pre><code>create proc x(@s varchar(99),@z int=0,@i int=0,@y varchar(99)='',@x varchar(99)='',@w varchar(99)='') as

while LEN(@s)&gt;0
begin
    select @z=patindex('%[^0-z]%',@s+' '),@i=1,@w+=LEFT(@s,1)
    while @i&lt;@z-1
    begin
        select @y=SUBSTRING(@s,2,@i)
        ,@x+=@y            
        ,@i+=1
        if @y like'%[a-z]'set @x+=@y
    end
select @w+=@x+SUBSTRING(@s,@z,1)
        ,@x=''
        ,@s=REPLACE(@s,left(@s,@z),'')
end

select @w
</code></pre>

<p>ex:
<code>exec x(@s='1337 numb3r5')</code>
returns <code>1333337 nuuumumumbumbumb3umb3rumb3rumb3r5</code></p>
</div>
<div id="pu7" class="pu"><h1>JavaScript (ES6), <s>92</s> <s>88</s> 87</h1>

<pre><code>f=&gt;f.replace(/[^_\W]+/g,m=&gt;m[0]+[...m].slice(1).reduce((a,e)=&gt;a+=(y+=e,++e?y:y+y),y=''))
</code></pre>

<p>I have no idea how to golf this down...</p>

<p><em>Thanks Mwir247 for the golfed down regex and ETHproductions for one byte golf in reduce function</em>.</p>
</div>
<div id="pu8" class="pu"><h1>Gema, 57 characters</h1>

<pre><code>\X?=?@set{s;}
&lt;D1&gt;=@append{s;$0}$s
&lt;L1&gt;=@append{s;$0}$s$s
</code></pre>

<p>Sample run:</p>

<pre><code>bash-4.3$ gema '\X?=?@set{s;};&lt;D1&gt;=@append{s;$0}$s;&lt;L1&gt;=@append{s;$0}$s$s' &lt;&lt;&lt; '1337 numb3r5'
1333337 nuuumumumbumbumb3umb3rumb3rumb3r5
</code></pre>
</div>
<div id="pu9" class="pu"><h1>JavaScript(ES6) 82</h1>

<p>Using the regexp optimization suggested by Mwr247</p>

<pre class="lang-js prettyprint-override"><code>s=&gt;s.replace(/([\W_])|./g,(x,y)=&gt;y?(f=0,x):f?(p+=x,p+(-x-1?z:p)):(p=z,f=x),f=z='')
</code></pre>

<p>Test running the snippet below in any recent browser</p>

<p><div class="snippet" data-lang="js" data-hide="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>F=s=&gt;s.replace(/([\W_])|./g,(x,y)=&gt;y?(f=0,x):f?(p+=x,p+(-x-1?z:p)):(p=z,f=x),f=z='')

// document.write(F(prompt('Insert string')))

// TEST
console.log=x=&gt;O.innerHTML+=x+'\n'

function test()
{
  O.innerHTML=F(I.value)
}

;[
 ['Mess up text','Meeesesessess upp teeexexextext']
,['This is some longer text.',
  'Thhhihihishis iss sooomomomeome looononongongongeongeongeronger teeexexextext.']
,['CAPS LOCK &amp;&amp; "Punc-tua"+\'tion\'',
  'CAAAPAPAPSAPS LOOOCOCOCKOCK &amp;&amp; "Puuunununcunc-tuuuaua"+\'tiiioioionion\'']
,['CaPs wItHIn loWERs'
  ,'CaaaPaPaPsaPs wIIItItItHItHItHIItHIItHInItHIn loooWoWoWEoWEoWERoWERoWERsoWERs']
,['1337 numb3r5','1333337 nuuumumumbumbumb3umb3rumb3rumb3r5']
,['abcdefghij 0123456789'
 ,'abbbcbcbcdbcdbcdebcdebcdefbcdefbcdefgbcdefgbcdefghbcdefghbcdefghibcdefghibcdefghijbcdefghij 0112123123412345123456123456712345678123456789']
,['Code-golf is the best!'
  ,'Cooodododeode-gooolololfolf iss thhhehe beeesesestest!']
].forEach(t =&gt; (
  i=t[0],x=t[1],r=F(i),
  console.log('Test ' + (r==x?'OK':'Fail')+'\nInput:  '+i+'\nResult: '+r+'\nCheck:  '+x+'\n')
))</code></pre>
<pre class="snippet-code-css lang-css prettyprint-override"><code>#I { width: 50% }</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>Your test&lt;input id=I&gt;&lt;button onclick="test()"&gt;-&gt;&lt;/button&gt;
&lt;pre id=O&gt;&lt;/pre&gt;</code></pre>
</div>
</div>
</p>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/mbuettner/retina">Retina</a>, 43 bytes</h1>

<pre><code>.(?&lt;=[^_\W]([^_\W]+))(?&lt;=(\1)(?&lt;=\D))?
$1$2
</code></pre>

<p>Run the code from a single file with the <code>-s</code> flag. Since this is just a single regex substitution, <a href="http://regexstorm.net/tester?p=.(%3f%3c%3d%5b%5e_%5cW%5d(%5b%5e_%5cW%5d%2b))(%3f%3c%3d(%5c1)(%3f%3c%3d%5cD))%3f&amp;i=Mess+up+text%0d%0aThis+is+some+longer+text.%0d%0aCAPS+LOCK+%26%26+%22Punc-tua%22%2b%27tion%27%0d%0aCaPs+wItHIn+loWERs%0d%0a1337+numb3r5%0d%0aabcdefghij+0123456789%0d%0aCode-golf+is+the+best!&amp;r=%241%242">you can test it here</a> (click the Context tab to see the results).</p>

<h2>Explanation</h2>

<p>This matches any digit and letter which is not the first in a run. While <code>.</code> can match any non-linefeed character, the lookbehinds ensure the other conditions:</p>

<pre><code>(?&lt;=[^_\W]([^_\W]+))
</code></pre>

<p>This matches <em>backwards</em> from the position after the <code>.</code>. First it matches one or more alphanumeric characters and captures them into group <code>1</code> with <code>([^_\W]+)</code>. This immediately ensures that the <code>.</code> corresponds to an alphanumeric character itself. Then the additional <code>[^_\W]</code> makes sure that there is one more alphanumeric character in the current run, which we <em>don't</em> include the match. Now group <code>1</code> is what we want to replace the match with if it is a digit - if it is a letter we want to replace it with twice this string. That's where the second lookbehind comes into play:</p>

<pre><code>(?&lt;=(\1)(?&lt;=\D))?
</code></pre>

<p>This one is optional, so if it fails it won't affect the match at all. It first ensures that the <code>.</code> was <em>not</em> a digit via <code>(?&lt;=\D)</code> - so this lookbehind is only relevant when we're matching letters. In that case, we match group <code>\1</code> once more (this always matches, because we've captured the group from the same position), but capture it into group <code>2</code>.</p>

<p>Hence, we simply replace the regex with the contents of both groups (<code>$1$2</code>). If the match was a digit, <code>$2</code> will still be empty and we write back the prefix only once. If it was a letter, <code>$2</code> is the same as <code>$1</code> and we write it back twice.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/61885/">61885</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




