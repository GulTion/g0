<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::100277</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>014</td><td>Uiua</td><td>231112T202130Z</td><td><a href="https://codegolf.stackexchange.com/questions/100277/is-it-a-stochastic-matrix/266681#266681">chunes</a></td></tr>
<tr d-ix="1"><td>008</td><td>Jelly</td><td>201108T130403Z</td><td><a href="https://codegolf.stackexchange.com/questions/100277/is-it-a-stochastic-matrix/214909#214909">Unrelate</a></td></tr>
<tr d-ix="2"><td>130</td><td>C++14</td><td>161121T171100Z</td><td><a href="https://codegolf.stackexchange.com/questions/100277/is-it-a-stochastic-matrix/100645#100645">Karl Nap</a></td></tr>
<tr d-ix="3"><td>055</td><td>Haskell</td><td>161118T093621Z</td><td><a href="https://codegolf.stackexchange.com/questions/100277/is-it-a-stochastic-matrix/100281#100281">Angs</a></td></tr>
<tr d-ix="4"><td>019</td><td>k</td><td>161118T175315Z</td><td><a href="https://codegolf.stackexchange.com/questions/100277/is-it-a-stochastic-matrix/100345#100345">skeevey</a></td></tr>
<tr d-ix="5"><td>029</td><td>Mathematica 29 Bytes</td><td>161118T182341Z</td><td><a href="https://codegolf.stackexchange.com/questions/100277/is-it-a-stochastic-matrix/100351#100351">Kelly Lo</a></td></tr>
<tr d-ix="6"><td>043</td><td>Mathematica</td><td>161118T123653Z</td><td><a href="https://codegolf.stackexchange.com/questions/100277/is-it-a-stochastic-matrix/100301#100301">A Simmon</a></td></tr>
<tr d-ix="7"><td>183</td><td>C#</td><td>161118T101336Z</td><td><a href="https://codegolf.stackexchange.com/questions/100277/is-it-a-stochastic-matrix/100289#100289">paldir</a></td></tr>
<tr d-ix="8"><td>016</td><td>Dyalog APL</td><td>161120T112936Z</td><td><a href="https://codegolf.stackexchange.com/questions/100277/is-it-a-stochastic-matrix/100542#100542">ngn</a></td></tr>
<tr d-ix="9"><td>017</td><td>Pip</td><td>161120T073950Z</td><td><a href="https://codegolf.stackexchange.com/questions/100277/is-it-a-stochastic-matrix/100527#100527">DLosc</a></td></tr>
<tr d-ix="10"><td>057</td><td>Groovy</td><td>161118T153119Z</td><td><a href="https://codegolf.stackexchange.com/questions/100277/is-it-a-stochastic-matrix/100322#100322">Magic Oc</a></td></tr>
<tr d-ix="11"><td>130</td><td>C#6</td><td>161118T135633Z</td><td><a href="https://codegolf.stackexchange.com/questions/100277/is-it-a-stochastic-matrix/100308#100308">Link Ng</a></td></tr>
<tr d-ix="12"><td>064</td><td>Python 2</td><td>161118T133415Z</td><td><a href="https://codegolf.stackexchange.com/questions/100277/is-it-a-stochastic-matrix/100307#100307">Kade</a></td></tr>
<tr d-ix="13"><td>104</td><td>PHP</td><td>161118T121839Z</td><td><a href="https://codegolf.stackexchange.com/questions/100277/is-it-a-stochastic-matrix/100299#100299">user5917</a></td></tr>
<tr d-ix="14"><td>031</td><td>Octave</td><td>161118T093009Z</td><td><a href="https://codegolf.stackexchange.com/questions/100277/is-it-a-stochastic-matrix/100279#100279">Stewie G</a></td></tr>
<tr d-ix="15"><td>010</td><td>05AB1E</td><td>161118T093126Z</td><td><a href="https://codegolf.stackexchange.com/questions/100277/is-it-a-stochastic-matrix/100280#100280">Emigna</a></td></tr>
<tr d-ix="16"><td>083</td><td>JavaScript ES6</td><td>161118T095815Z</td><td><a href="https://codegolf.stackexchange.com/questions/100277/is-it-a-stochastic-matrix/100285#100285">Neil</a></td></tr>
<tr d-ix="17"><td>055</td><td>R</td><td>161118T095806Z</td><td><a href="https://codegolf.stackexchange.com/questions/100277/is-it-a-stochastic-matrix/100284#100284">Billywob</a></td></tr>
<tr d-ix="18"><td>012</td><td>MATL</td><td>161118T094821Z</td><td><a href="https://codegolf.stackexchange.com/questions/100277/is-it-a-stochastic-matrix/100282#100282">Luis Men</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://uiua.org" rel="nofollow noreferrer">Uiua</a>, 14 <a href="https://codegolf.stackexchange.com/a/265917/97916">bytes</a></h1>
<pre><code>⊟∩(/×=100/+)⍉.
</code></pre>
<p><a href="https://uiua.org/pad?src=0_2_0__ZiDihpAg4oqf4oipKC_Dlz0xMDAvKynijYkuCgpmIFsxMDBdCmYgWzQyXQpmIFtbMCAxMDBdWzEwMCAwXV0KZiBbWzQgOCAxNV1bMTYgMjMgNDJdWzgwIDY5IDQzXV0KZiBbWzk5IDFdWzIgOThdXQpmIOKGrzRfNCsx4oehMTYK" rel="nofollow noreferrer">Try it!</a></p>
<p>Returns <code>[0 0]</code> for neither, <code>[0 1]</code> for left stochastic, <code>[1 0]</code> for right stochastic, and <code>[1 1]</code> for both.</p>
<pre><code>⊟∩(/×=100/+)⍉.
             .  # duplicate
            ⍉   # transpose
 ∩(        )    # call function on both matrices
         /+     # sum
     =100       # where is it equal to 100
   /×           # product
⊟               # couple
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 8 bytes</h1>
<pre><code>,Z§ạȷ2§¬
</code></pre>
<p><a href="https://tio.run/##VYwhDgIxEAC/gkCO6La90j4FmkoMuQ9gMXgUFnXmPAF5FxK@cXykLDkSgtrN7Ozstm27r5XN0E33y/Nqh27o63h8nKbbefk69OtacxZjSmGRs7fzVIApZMPvREQaZRKwDjXJ0RAS3s1GSohCS4rfChY1lTUEVkTd1NGoIJ9/cYjXKhL@Eg5NvgE" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<p>Outputs <code>[1, 1]</code> for doubly, <code>[0, 1]</code> for left, <code>[1, 0]</code> for right, and <code>[0, 0]</code> for neither.</p>
<pre><code>,           Pair the input with
 Z          its transpose,
  §         sum the columns from each,
   ạ        take the absolute differences between each sum and
    ȷ2      1*10^2,
      §     sum each list of differences.
       ¬    Is each sum 0?
</code></pre>
<p><code>,Z§=ȷ2P€</code> is perhaps more intuitive.</p>
</div>
<div id="pu2" class="pu"><h1>C++14, <s>139</s> <s>136</s> <s>133</s> 130 bytes</h1>

<p>-3 bytes for <code>s=M.size()</code>, -3 bytes for returning by reference parameter, -3 bytes as a unnamed lambda</p>
<pre class="lang-c++ prettyprint-override"><code>[](auto M,int&amp;r){int a,b,i,j,s=M.size();r=3;for(i=-1;++i&lt;s;){for(j=-1,a=b=0;++j&lt;s;a+=M[i][j],b+=M[j][i]);r&amp;=(a==100)+2*(b==100);}}
</code></pre>
<p>Assumes input to be like <code>vector&lt;vector&lt;int&gt;&gt;</code>. Returns 3,2,1,0 for doubly, left, right, none stochastic.</p>
<p>Ungolfed:</p>
<pre class="lang-c++ prettyprint-override"><code>auto f=
[](auto M, int&amp; r){
  int a,b,i,j,s=M.size();
  r=3;
  for(i=-1;++i&lt;s;){
    for(j=-1,a=b=0;++j&lt;s;
      a+=M[i][j],
      b+=M[j][i]);
    r&amp;=(a==100)+2*(b==100);
  }
}
;
</code></pre>
</div>
<div id="pu3" class="pu"><h1>Haskell, <s>57</s> 55 bytes</h1>

<pre><code>import Data.List
s a=all((==100).sum)&lt;$&gt;[transpose a,a]
</code></pre>

<p>Input of type <code>(Eq a, Num a) =&gt; [[a]]</code>. Outputs boolean list <code>[left-stochastic, right-stochastic]</code></p>

<p>Thanks to @proudhaskeller for saving 2 bytes</p>
</div>
<div id="pu4" class="pu"><h1>k, <s>21</s> 19 bytes</h1>

<pre><code>{min'100=+/'(x;+x)}
</code></pre>

<p>Output</p>

<ul>
<li><code>00b</code> none</li>
<li><code>10b</code> left</li>
<li><code>01b</code> right</li>
<li><code>11b</code> both</li>
</ul>

<p>Example:</p>

<pre><code>k)f:{min'100=+/'(x;+x)} //store function as f
k)f(100 0;98 2)
01b
</code></pre>

<p><strong>edit:</strong> reduce byte count by 3 - function does not need to be enclosed in a lambda</p>

<p><strong>edit:</strong> reduce bytecount by 2 - H/T @Simon Major</p>
</div>
<div id="pu5" class="pu"><h2>Mathematica 29 Bytes</h2>

<pre><code>{}⋃Tr/@#=={100}&amp;/@{#,#}&amp;
</code></pre>

<p>substituting the =U+F3C7=[\Transpose] character.  This code snippet will paste correctly into Mathematica.</p>

<p>Same truthiness convention with {lefttruth, righttruth} as output</p>
</div>
<div id="pu6" class="pu"><h2>Mathematica, <s>46</s> 43 bytes</h2>
<pre><code>AllTrue[#==100&amp;]/@Apply[Plus,{#,#},{1}]&amp;
</code></pre>
<p>As with other answers, the outputs are</p>
<p><code>{False, False}</code> for non-stochastic</p>
<p><code>{True, False}</code> for left-stochastic</p>
<p><code>{False, True}</code> for right-stochastic</p>
<p><code>{True, True}</code> for doubly stochastic</p>
<p>Saved 3 bytes by switching to the operator form of <code>AllTrue</code></p>
</div>
<div id="pu7" class="pu"><h1>C#, <s>205</s> <s>203</s> 183 bytes</h1>

<p>Golfed:</p>

<pre><code>int F(int[,]m){int x,i,j,r,c,e,w;x=m.GetLength(0);e=w=1;for(i=0;i&lt;x;i++){r=c=0;for(j=0;j&lt;x;j++){r+=m[i,j];c+=m[j,i];}if(r!=100)e=0;if(c!=100)w=0;}return e==1&amp;&amp;w==1?3:e==1?1:w==1?2:4;}
</code></pre>

<p>Ungolfed with comments:</p>

<pre><code>    int F(int[,] m)
    {
        //x - matrix size
        //i, j - loop control variables
        //r, c - row/column sum
        //e, w - east/west, pseudo-bool values indicate right/left stochastic
        int x, i, j, r, c, e, w;
        x = m.GetLength(0);
        e = w = 1;

        for (i = 0; i &lt; x; i++)
        {
            r = c = 0;

            for (j = 0; j &lt; x; j++)
            {
                r += m[i, j];
                c += m[j, i];
            }

            if (r != 100)
                e = 0;

            if (c != 100)
                w = 0;
        }

        return e == 1 &amp;&amp; w == 1 ? 3 : e == 1 ? 1 : w == 1 ? 2 : 4;
    }
</code></pre>

<p>Output key:
1 - right stochastic
2 - left stochastic
3 - double stochastic
4 - none</p>

<p>Try it: <a href="http://rextester.com/PKYS11433" rel="nofollow noreferrer">http://rextester.com/PKYS11433</a></p>

<p>EDIT1: <code>r=0;c=0;</code> => <code>r=c=0;</code></p>

<p>EDIT2: Nested ternary operators. Credits goes to @Yodle.</p>
</div>
<div id="pu8" class="pu"><h1><a href="http://goo.gl/9KrKoM" rel="nofollow noreferrer">Dyalog APL</a>, 16 <a href="https://codegolf.meta.stackexchange.com/a/9429/43319">bytes</a></h1>

<p><a href="http://tryapl.org/?a=%7B%u2227/100%3D+/%u2191%u2375%28%u2349%u2375%29%7D%20%A8%20%28%u236A100%29%20%28%u236A42%29%20%28%u2191%28100%200%29%280%20100%29%29%20%28%u2191%284%208%2015%29%2816%2023%2042%29%2880%2069%2043%29%29%20%28%u2191%2899%201%29%282%2098%29%29%20%284%204%u23741+%u237316%29&amp;run" rel="nofollow noreferrer"><code>{∧/100=+/↑⍵(⍉⍵)}</code></a></p>
<p><code>{ }</code> direct function definition (aka &quot;dfn&quot;), <code>⍵</code> is the argument</p>
<p><code>⍵(⍉⍵)</code> the matrix alongside its transposition</p>
<p><code>↑</code> mix them into a single 2×n×n array</p>
<p><code>+/</code> sum along last axis, get a 2×n matrix</p>
<p><code>100=</code> which elements are 100 (booleans are 0 1)</p>
<p><code>∧/</code> &quot;and&quot;-reduction along last axis, get 2 booleans for left,right stochastic</p>
</div>
<div id="pu9" class="pu"><h2><a href="http://github.com/dloscutoff/pip" rel="nofollow noreferrer">Pip</a>, 17 bytes</h2>

<p>In an unexpected twist, this submission is a function.</p>

<pre><code>{[h]=UQ$+_M[Zaa]}
</code></pre>

<p>Returns a list of two <code>0</code>/<code>1</code> values: <code>[0 0]</code> = not stochastic, <code>[0 1]</code> = left stochastic, <code>[1 0]</code> = right stochastic, <code>[1 1]</code> = doubly stochastic. <a href="http://pip.tryitonline.net/#code=KAoge1toXT1VUSQrX01bWmFhXX0KIFtbOTkgMV1bMiA5OF1dCik&amp;input=" rel="nofollow noreferrer">Try it online!</a></p>

<h3>Explanation</h3>

<pre><code>{               }  A function:
              a    Function argument (nested list)
           [Za ]   Create a list containing a's transpose and a
          M        Map this function to each of the above:
       $+_           Sum down the columns
     UQ              Get unique elements
 [h]=                If stochastic, the result should be [100]
</code></pre>
</div>
<div id="pu10" class="pu"><h1>Groovy, 57</h1>
<pre><code>{a={it.every{it.sum()==100}};[a(it),a(it.transpose())]}​
</code></pre>
<h2>Output</h2>
<p><code>[0,0]</code> if neither.</p>
<p><code>[1,0]</code> if right.</p>
<p><code>[0,1]</code> if left.</p>
<p><code>[1,1]</code> if both.</p>
</div>
<div id="pu11" class="pu"><h2>C#6, 130 bytes</h2>



<pre class="lang-cs prettyprint-override"><code>using System.Linq;bool[]F(int[][]a)=&gt;new[]{a.Where((_,i)=&gt;a.Select(x=&gt;x[i]).Sum()==100).Count()==a.Length,a.All(x=&gt;x.Sum()==100)};
</code></pre>

<p><code>{False, False}</code> for non-stochastic<br>
<code>{True, False}</code> for left-stochastic<br>
<code>{False, True}</code> for right-stochastic<br>
<code>{True, True}</code> for doubly stochastic  </p>

<p><a href="https://repl.it/E2PR/0" rel="nofollow noreferrer">repl.it demo</a></p>

<p>Ungolfed</p>

<pre class="lang-cs prettyprint-override"><code>bool[]F(int[][]a)=&gt;
    // Return new array of two bools. Array type is inferred from arguments
    new[]
    {
        // Left:
        // Count the no. of columns which sums up to 100
        a.Where((_,i)=&gt;a.Select(x=&gt;x[i]).Sum()==100).Count()
            // Then check if no. of such columns equal to total column count
            ==a.Length,
        // Right: Do all rows sum up to 100?
        // Can't use this trick for left because no overload of All() accept Func&lt;TSource,int,bool&gt; like Where() does
        a.All(x=&gt;x.Sum()==100)
    };
</code></pre>
</div>
<div id="pu12" class="pu"><h1>Python 2, <s>70</s> 64 Bytes</h1>

<p>Nothing crazy here, just making use of splatting in <code>zip</code> to transpose the matrix :) The outputs are as follows:</p>

<pre><code>0 - not stochastic
1 - right stochastic
2 - left stochastic
3 - doubly stochastic
</code></pre>

<p>And here's the code :)</p>



<pre class="lang-py prettyprint-override"><code>k=lambda m:all(sum(x)==100for x in m)
lambda n:k(n)+2*k(zip(*n))
</code></pre>
</div>
<div id="pu13" class="pu"><h1>PHP, 104 bytes</h1>

<pre><code>function($a){for($s=array_sum;$a[+$i];)$o|=$s($a[+$i])!=100|($s(array_column($a,+$i++))!=100)*2;echo$o;}
</code></pre>

<p>An anonymous function that echos 0 => both, 1=> left, 2=> right, 3=> neither.<br>
Use like:</p>

<pre><code>php -r "$c=function($a){for($s=array_sum;$a[+$i];)$o|=$s($a[+$i])!=100|($s(array_column($a,+$i++))!=100)*2;echo$o;};$c(json_decode($argv[1]));" "[[4,8,15],[16,23,42],[80,69,43]]"
</code></pre>

<p>A command line program version at 114 bytes:</p>

<pre><code>for($a=json_decode($argv[1]);$a[+$i];)$o|=($s=array_sum)($a[+$i])!=100|($s(array_column($a,+$i++))!=100)*2;echo$o;
</code></pre>

<p>Used like:</p>

<pre><code> php -r "for($a=json_decode($argv[1]);$a[+$i];)$o|=($s=array_sum)($a[+$i])!=100|($s(array_column($a,+$i++))!=100)*2;echo$o;" "[[4,8,15],[16,23,42],[80,69,43]]"
</code></pre>
</div>
<div id="pu14" class="pu"><h1>Octave, <s>35</s> <s>34</s> <s>32</s> 31 bytes</h1>
<pre><code>@(n)any([sum(n);sum(n')]-100,2)
</code></pre>
<p>Call it like this:</p>
<pre><code>f(100)
f(42)
f([4,8,15; 16,23,42; 80,69,43])
f([99,1;2,98])
f([1,2,3,4;5,6,7,8;9,10,11,12;13,14,15,16])
</code></pre>
<p><a href="https://ideone.com/ByF5r1" rel="nofollow noreferrer"><strong>Test it here.</strong></a></p>
<p>Saved 2 bytes thanks to flawr initially, but went for another approach that was 1 byte shorter.</p>
<p>This outputs the following for the different cases:</p>
<pre><code>0    Doubly
0    

1    None
1

0    Left
1

1    Right
0
</code></pre>
<p>The last <code>,2</code> would be unnecessary if single digits weren't included. Also, if this summed to <code>1</code> instead of <code>100</code> (as it could have), it would save another <code>4</code> bytes.</p>
</div>
<div id="pu15" class="pu"><h1><a href="http://github.com/Adriandmen/05AB1E" rel="noreferrer">05AB1E</a>, <s>13</s> <s>11</s> 10 bytes</h1>

<p>Right stochastic:  <code>[0,1]</code><br>
Left stochastic:   <code>[1,0]</code><br>
Doubly stochastic: <code>[1,1]</code><br>
None of those:     <code>[0,0]</code></p>

<pre><code>Dø2FOTnQPˆ
</code></pre>

<p><a href="http://05ab1e.tryitonline.net/#code=RMO4MkZPVG5RUMuG&amp;input=W1s0LDgsMTVdLFsxNiwyMyw0Ml0sWzgwLDY5LDQzXV0" rel="noreferrer">Try it online!</a></p>

<p><strong>Explanation</strong></p>

<pre><code>D            # duplicate input
 ø           # transpose the copy
  2F         # 2 times do (once for each matrix)
    O        # sum of the rows
     TnQ     # is equal to 100
        P    # product
         ˆ   # add to global list
             # implicitly print global list at the end of the program
</code></pre>
</div>
<div id="pu16" class="pu"><h2>JavaScript (ES6), 83 bytes</h2>

<pre><code>a=&gt;[a.some(a=&gt;a.reduce((l,r)=&gt;l-r,100)),a.some((_,i)=&gt;a.reduce((l,a)=&gt;l-a[i],100))]
</code></pre>

<p>Just to be contrary, not only does this output the right stoachistic result on the left, but the booleans are also inverted, so an output of <code>[false, true]</code> still means right stoachistic.</p>
</div>
<div id="pu17" class="pu"><h2>R, 55 bytes</h2>
<pre><code>function(m)c(all(colSums(m)==100),all(rowSums(m)==100))
</code></pre>
<p>Unnamed function where <code>m</code> is assumed to be an R-matrix.</p>
<p>Output:</p>
<ul>
<li><code>[1]  TRUE FALSE</code>: Left stochastic</li>
<li><code>[1]  FALSE TRUE</code>: Right stochastic</li>
<li><code>[1]  TRUE TRUE</code>: Doubly</li>
<li><code>[1]  FALSE FALSE</code>: None</li>
</ul>
</div>
<div id="pu18" class="pu"><h1><a href="http://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, 12 bytes</h1>

<pre><code>sG!sv!100=XA
</code></pre>

<p>Output is two zero/one values. First indicates if the matrix is left-stochastic, second if it is right-stochastic.</p>

<p><a href="http://matl.tryitonline.net/#code=c0chc3YhMTAwPVhB&amp;input=WzQgOCAxNTsgMTYgMjMgNDI7IDgwICA2OSAgNDNd" rel="nofollow noreferrer">Try it online!</a> Or <a href="http://matl.tryitonline.net/#code=YFhLCnNLIXN2ITEwMD1YQQpEVA&amp;input=WzEwMF0KWzQyXQpbMTAwIDA7IDAgMTAwXQpbNCA4IDE1OyAxNiAyMyA0MjsgODAgIDY5ICA0M10KWzk5IDE7IDIgOThdClsxIDIgMyA0OyA1IDYgNyA4OyA5IDEwIDExIDEyOyAxMyAxNCAxNSAxNl0" rel="nofollow noreferrer">verify all test cases</a></p>

<pre><code>s      % Implicitly input N×N matrix. Sum of each column. Gives a 1×N vector
G!     % Push input transposed
s      % Sum of each column. Gives a 1×N vector
v      % Concatenate vertically. Gives a 2×N matrix
!      % Transpose. N×2
100=   % Does each entry equal 100?
XA     % True for columns that contain only "true". Gives 1×2 vector. Implicitly display
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/100277/">100277</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




