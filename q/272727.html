<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::272727</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>286</td><td>Acc!!</td><td>240423T061223Z</td><td><a href="https://codegolf.stackexchange.com/questions/272727/weave-two-lists-cycling-if-necessary/272749#272749">Mukundan</a></td></tr>
<tr d-ix="1"><td>109</td><td>Desmos</td><td>240429T171027Z</td><td><a href="https://codegolf.stackexchange.com/questions/272727/weave-two-lists-cycling-if-necessary/272885#272885">Aiden Ch</a></td></tr>
<tr d-ix="2"><td>138</td><td>PowerShell Core</td><td>240422T233749Z</td><td><a href="https://codegolf.stackexchange.com/questions/272727/weave-two-lists-cycling-if-necessary/272744#272744">Julian</a></td></tr>
<tr d-ix="3"><td>nan</td><td>C gcc</td><td>240427T212853Z</td><td><a href="https://codegolf.stackexchange.com/questions/272727/weave-two-lists-cycling-if-necessary/272860#272860">INT3</a></td></tr>
<tr d-ix="4"><td>050</td><td>R</td><td>240422T200710Z</td><td><a href="https://codegolf.stackexchange.com/questions/272727/weave-two-lists-cycling-if-necessary/272734#272734">pajonk</a></td></tr>
<tr d-ix="5"><td>017</td><td>Pip xp</td><td>240425T042745Z</td><td><a href="https://codegolf.stackexchange.com/questions/272727/weave-two-lists-cycling-if-necessary/272796#272796">DLosc</a></td></tr>
<tr d-ix="6"><td>022</td><td>J</td><td>240423T193411Z</td><td><a href="https://codegolf.stackexchange.com/questions/272727/weave-two-lists-cycling-if-necessary/272759#272759">Jonah</a></td></tr>
<tr d-ix="7"><td>nan</td><td>Scala 3</td><td>240423T154233Z</td><td><a href="https://codegolf.stackexchange.com/questions/272727/weave-two-lists-cycling-if-necessary/272756#272756">138 Aspe</a></td></tr>
<tr d-ix="8"><td>058</td><td>Haskell</td><td>240422T235255Z</td><td><a href="https://codegolf.stackexchange.com/questions/272727/weave-two-lists-cycling-if-necessary/272746#272746">Bubbler</a></td></tr>
<tr d-ix="9"><td>063</td><td>JavaScript ES6</td><td>240422T224836Z</td><td><a href="https://codegolf.stackexchange.com/questions/272727/weave-two-lists-cycling-if-necessary/272740#272740">Arnauld</a></td></tr>
<tr d-ix="10"><td>053</td><td>Haskell</td><td>240424T080409Z</td><td><a href="https://codegolf.stackexchange.com/questions/272727/weave-two-lists-cycling-if-necessary/272770#272770">xnor</a></td></tr>
<tr d-ix="11"><td>014</td><td>Nekomata</td><td>240424T033453Z</td><td><a href="https://codegolf.stackexchange.com/questions/272727/weave-two-lists-cycling-if-necessary/272768#272768">alephalp</a></td></tr>
<tr d-ix="12"><td>066</td><td>JavaScript Node.js</td><td>240422T190454Z</td><td><a href="https://codegolf.stackexchange.com/questions/272727/weave-two-lists-cycling-if-necessary/272731#272731">l4m2</a></td></tr>
<tr d-ix="13"><td>011</td><td>Jelly</td><td>240422T203534Z</td><td><a href="https://codegolf.stackexchange.com/questions/272727/weave-two-lists-cycling-if-necessary/272736#272736">Jonathan</a></td></tr>
<tr d-ix="14"><td>059</td><td>Ruby</td><td>240423T074220Z</td><td><a href="https://codegolf.stackexchange.com/questions/272727/weave-two-lists-cycling-if-necessary/272751#272751">G B</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><em><a href="https://github.com/dloscutoff/Esolangs/tree/master/Acc!!" rel="nofollow noreferrer">Acc!!</a></em>, <sup><s>424</s> ... <s>294</s></sup> 286 bytes</h1>
<pre class="lang-python prettyprint-override"><code>Count n while 1 {
_+N%8*8^n
Count i while 0^(_/8^n) {
_*n^n^2
Count i while n-i {
_+_/n^n^2/8^i%2*n^(_/n^n%n*n+_/n^(_/n^n%n)%n+2)+0^(_/n^n^2/8^i%2)*n^(_/n^n%n)+_/n^n^2/8^i%4/2*n^n
}
Count i while (_%n*2-2-i)/_+(_/n%n*2-i)/_+2 {
Write 49)*(_/n^(i/2%(_/n^(i%2)%n)+i%2*n+2)%n
Write 9
}
}
}
</code></pre>
<p><a href="https://tio.run/##XU69CsIwEN7zFFkC@bGkCR3a2d3VLcGWggE5QVocxGePlzMFLSFw331/d5mmccz5eF9h4cCf13SbueMvFs1J9LoPwL5cqlwbZLS4VkWjIUDwOwU0ifzREoviJDwqJS0EaCBqg0qA8cq0dbEZ1I9D/WV1tqQBe@96ZcRs3/gmKRtN8RIm5PGi8yMtM@8GpSlXJutFnbCutNCdpsxVPGAJvpwdc84d8LsP" rel="nofollow noreferrer" title="Acc!! – Try It Online">Try it online!</a></p>
<p>Accepts two arrays, formatted as comma-separated unary values with the arrays separated by a newline. Outputs a tab-separated unary array and terminates with an error.</p>
<h2>Commented</h2>
<pre class="lang-py prettyprint-override"><code># Format of accumulator:
#   input:
#     + buffer
#   parsing:
#     + buffer*n^n^2
#     + b[0]*n^(n+2) + b[1]*n^(n+3) + b[3]*n^(n+4) + ...
#     + arr_select*n^n
#     + a[0]*n^2     + a[1]*n^3     + a[2]*n^4     + ...
#     + len(b)*n
#     + len(a)
#
# n = len(buffer)                     # includes '\n' for both lines
# buffer = base-8 encoding of input   # least significant digit represents first char ('\n' -&gt; 2, ',' -&gt; 4, '1' -&gt; 1)
#
# Useful Facts:
#   - a[i] &lt; n       (due to unary input)
#   - b[i] &lt; n       (due to unary input)
#   - len(a) &lt; n - 2
#   - len(b) &lt; n - 2
#
# Useful Snippets:
#   - len(a)         -&gt;  _%n
#   - len(b)         -&gt;  _/n%n
#   - a[i]           -&gt;  _/n^(i+2)%n
#   - b[i]           -&gt;  _/n^(n+i+2)%n
#   - buffer[i]      -&gt;  _/n^n^2/8^i%8
#   - arr_select     -&gt;  _/n^n%n

Count n while 1 {  # for n in [0, 1, 2, 3, ...]:
  _+N%8*8^n  # buffer.append(getchar()%8)

  Count i while 0^(_/8^n) {  # if buffer[n] == '\0':
    _*n^n^2  # convert accumulator to parsing type
    # arr_select is initially a

    Count i while n-i {  # for i in [0, 1, 2, ..., n - 1]:
      # _
      # + _/n^n^2/8^i%2 * n^(_/n^n%n*n+_/n^(_/n^n%n)%n+2)   # arr[len(arr)] += 1 if buffer[i] == '1'
      # + 0^(_/n^n^2/8^i%2) * n^(_/n^n%n)                   # len(arr) += 1 if buffer[i] != '1'
      # + _/n^n^2/8^i%4/2 * n^n                             # switch arr_select if buffer[i] == '\n'
      _+_/n^n^2/8^i%2*n^(_/n^n%n*n+_/n^(_/n^n%n)%n+2)+0^(_/n^n^2/8^i%2)*n^(_/n^n%n)+_/n^n^2/8^i%4/2*n^n
    }

    # Output
    Count i while (_%n*2-2-i)/_+(_/n%n*2-i)/_+2 {     # for i in [0, 1, 2, ...] while i &lt;= len(a)*2-2 or i &lt;= len(b)*2:
      Write 49)*(_/n^(i/2%(_/n^(i%2)%n)+i%2*n+2)%n    # | output arr[i/2%len(arr)] in unary (arr refers to a or b based on i%2)
      Write 9                                         # | output '\t'
    }
  }
}
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://desmos.com/calculator" rel="nofollow noreferrer">Desmos</a>, 109 bytes</h1>
<pre><code>a=A.length
b=B.length
i=[2...2max(a,b+1)]
k=floor(i/2)-1
f(A,B)=\{\mod(i,2)=0:A[\mod(k,a)+1],B[\mod(k,b)+1]\}
</code></pre>
<p><a href="https://www.desmos.com/calculator/3f7isfuase?nographpaper" rel="nofollow noreferrer">Try It On Desmos!</a></p>
<p><a href="https://www.desmos.com/calculator/itydjfxzit?nographpaper" rel="nofollow noreferrer">Try It On Desmos! - Prettified</a></p>
<p>Due to their similarities, I tried to separate out <code>A[\mod(k,a)+1]</code> and <code>B[\mod(k,b)+1]</code> into one function, but that ended up being a bit longer than just writing both out in full.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/PowerShell/PowerShell" rel="nofollow noreferrer">PowerShell Core</a>, 138 bytes</h1>

<pre class="lang-powershell prettyprint-override"><code>for($a,$b=$args;$i-($l=(($m=$a.Count),($n=$b.Count)|sort)[-1])){$a[$i%$m]
$s=$i-ne$m-1-or$m-ne$l-or$i-eq$n-1
,$b[$i++%$n]*$s},$a[$i%$m]*$s
</code></pre>
<p><a href="https://tio.run/##dZJvb9MwEMbf@1NY1Y0l7Iya0KWdUPjTir1ASCDGuyiCNnNZUGIXOwGktp@9nBOclbI5Uu7yPL@780nZ6F/S2DtZVaLQRh5gnW4Pa20CWCKsUliab/YFlCKAKg0CqEl5ttCtakIMQKWw@vu1s9o0YSaiPAy3sMygPIM6Z2BTKlYSahEJbShQXrmsFPIHKBExGkP0xcUZqPwp2D0O1fR12DMWjLIo51mcc/GSZxHGGOWM4oNijM9JTryckJCQxJzkbWclOJiYuMoxRmNCJjFOfNMxpejfxFziJRH0dtERXeofPx4nHZbgFGd4dXyRKZkzsq/@gwn14JTkGRlTsmYefKxfRFJM/Y53/wfz3Rwy4sJuqrLho69qFPIdv9bm7bK4Ex9W32XR8C3jdKAqbfMG@zin@KVVrZW3lMnfG@LkLU9J9c3OeUCjwlfnR9UO6JMdX2j1U5rm2uhavLNa3WNzj80fxYy0bdUQ9wTWvmVfcuL7bGj0WXdtuFjoekOm7QqyjzeL1ja67lfO@et@aXdu2qIg7qgZ/aH3Sw/cexpvhw3xdIOHB7vz6eSynbFne3b4Aw" rel="nofollow noreferrer" title="PowerShell Core – Try It Online">Try it online!</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, 139 88 (ceilingcat) bytes</h1>
<p>ceilingcat golfed this the rest of the way:</p>

<pre class="lang-c prettyprint-override"><code>d,l,i;w(a,b,c,p,q)int*a,*b,*c;{for(i=d=l=-1;i++&lt;p-(p&gt;q)&lt;&lt;1;)c[i]=i%2?b[++d%q]:a[++l%p];}
</code></pre>
<p>old:</p>

<pre class="lang-c prettyprint-override"><code>#define s p&gt;q?2*p-1:2*q+1
#define E int*
void w(E a,E b,E c,int p,int q){int d=-1,l=-1,h=s;for(int i=0;i&lt;h;++i)c[i]=i%2?b[++d%q]:a[++l%p];}
</code></pre>
<p><a href="https://tio.run/##TU9da8MwDHzfrxCFgD8UqL3N2@p4/SHBD46zDkPa2aWwh5Dfnsnrtk4gZN2dDl9s32Nc1xEnTPaTBRwwYsbC0@kiAooBRbTz4ePMkhvd5Fplk5Rdbll@LbzrlOWxT96lRu@HXsqxKX4X6DE12dtlJRs4hnRifL4DqrqH3nhwMD8hPCO8IKgttaLWi/1TDT8qwjXCPcIDwiOC@SfJxBuEUscNvbwdK0H/22uRW7XTokh142NfFf4K/EY2aPgVoazAqi6RydbS6L4tLUiZOOQzcQe2aRJsEGp2ulvWLw" rel="nofollow noreferrer">Try it online!</a></p>
<p>ungolfed function:</p>

<pre class="lang-c prettyprint-override"><code>void weave(int* a /*outer array*/,int* b /*inner array*/,int* c /*result array*/,int p /*size of a*/,int q /*size of b*/)
{
     if (p&gt;q) s = 2*p-1; //if a/b is longer, size and # of loops 
     else s = 2*q+1;     //is double (if a, last element belongs to a, -1)
                         // (opposite for b)  
     int d=-1 /*current index of b*/,l=-1 /*current index of a*/,h=s /*temp for #define*/;
     for (int i=0;i&lt;h;++i) 
          if (i%2 /*every other digit change arrays*/) 
               c[i]=b[++d%q]; /*odd numbers take next from b*/
          else c[i]=a[++l%p];/*even numbers take next from a*/
}
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, <s>61</s> <s>60</s> <s>57</s> <s>54</s> 50 bytes</h1>
<p><em>Edit: -1 byte thanks to <a href="https://codegolf.stackexchange.com/users/67312/giuseppe">@Giuseppe</a>, -3 bytes thanks to <a href="https://codegolf.stackexchange.com/users/101276/int-21h-glory-to-ukraine">int 21h -- Glory to Ukraine --</a> and again -4 bytes thanks to <a href="https://codegolf.stackexchange.com/users/67312/giuseppe">@Giuseppe</a>.</em></p>
<pre class="lang-r prettyprint-override"><code>\(A,B,`?`=length)rep(rbind(A,B),,max(?A,1+?B)*2-1)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=fZFLCsIwEIZx6ykKbhL9C02saVxo0Wuo4LMqqEhR8BDewE0VPJSexjFprS9KIMnk-2YyJKdznFyi1nW_i1x9k33WQRfDcNhazTbz3YLHsy2Lx8vN9Ak4sB4dWNiBqIVdXpWu4DbzXjpGbMIEhzNhkvOK47adnoCEGJQNQRGTqBuqcqroUKFuDWWo9VJD4eVApXU8CM-YvoSf3-RRgGy2agMNI9JKu1Q0QTbeWoOf2goBNJqfTQYkaFKa_3MoI_cDQppgQFi_-UXVBR1Kqv7zWF92Vvtp2k9JErs-AA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<hr />
<p>Modification of the above answer that takes the input as a list of two vectors - credit of <a href="https://codegolf.stackexchange.com/users/67312/giuseppe">@Giuseppe</a> and <a href="https://codegolf.stackexchange.com/users/101276/int-21h-glory-to-ukraine">int 21h -- Glory to Ukraine --</a>:</p>
<h3><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, 49 bytes</h3>
<pre class="lang-r prettyprint-override"><code>\(L)rep(Reduce(rbind,L),,max(lengths(L)+0:1)*2-1)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=fZFNbsIwEIXVLaeIxGamfZFiExxTiUplzarb0kUJSUCiqApB6iF6g27SRc_AWehpOrUTQn-ELHl-3jfPlv32Xtb7fDyjW0y4oPVqW7mUe8X4Y1floT2oGU25zJ7pLlvs0ozK-WqzwJSBp8cXWmebolpuBbmKrhVf6lCxH_y8eM0pJcUIUtLM_SC8Ce4VNNRDzyk4p2kMnGo61UjTYOAJ41TPNYTBkYFpfCKoyJGxRtydFEmBdvfoEEMHSpSsAV3RrpOrIW5ogwQWo5-XTASwgoz-n5GJjk9EsiImItsT_py7kqYW9z-P9Ytuvb9J_yl17eMX" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/dloscutoff/pip" rel="nofollow noreferrer">Pip</a> <code>-xp</code>, 17 bytes</h1>
<pre><code>HWV:_H M[#aU#b]Mg
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m724ILNgebSSbkWBUuyCpaUlaboWGz3Cw6ziPRR8o5UTQ5WTYn3TIeJQ6W3RStGG1kaxSjoKStFm1ubWFtaWsXDNAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h3>Explanation</h3>
<pre class="lang-lisp prettyprint-override"><code>HWV:_H M[#aU#b]Mg
               Mg  ; Map this function to each list:
        [     ]    ;  Make a list containing:
         #a        ;   Length of first program argument list
           U#b     ;   One plus length of second program argument list
       M           ;  Get its maximum
    _H             ;  Take that many elements from function argument list, cycling
 WV:               ; Interleave the resulting two lists
H                  ; Remove the last element
</code></pre>
<p>(Yes, Pip's interleave builtin is called &quot;weave&quot;. No, it doesn't mean what this challenge means by &quot;weave&quot;--although I am thinking of adding a new builtin that does.)</p>
</div>
<div id="pu6" class="pu"><h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, 22 bytes</h1>
<pre><code>[:}:@,@,./(&gt;.&gt;:)&amp;#$&amp;&gt;;
</code></pre>
<p><a href="https://tio.run/##bYs/C8IwEEf3fooftiQW0vSPlYRTQ0FwcnJ1KiVFXRTSTf3s8aSDi8Nx3HvvbnGh5YgdQUKhAvEUGvvT8RDP9KZOdUqXS6cd5SLNhNvEPNl2FeoXOS1S4crsmfwvEz9c7pCTDxOGPvigUOMa8OhDkLOsYdDAYsW75b1GQQwbBi0fI2M7l4axZWFYWZaGtf3WXHD3@4kf" rel="nofollow noreferrer" title="J – Try It Online">Try it online!</a></p>
<p>If A is left arg and B right:</p>
<p>Extends each list to the max of [A, B+1], zips, and flattens, removes last.</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://www.scala-lang.org/" rel="nofollow noreferrer">Scala 3</a>, <del>155</del> <del>154</del> 144 bytes</h1>
<p>Saved 1 byte thanks to @DLosc</p>
<p>Saved 10 bytes thanks to @corvus_192</p>
<hr />
<p>Golfed version. <a href="https://ato.pxeger.com/run?1=jVPNbtswDD7s5qcgvBwkTDGStE1cYwkwbJcBC3YodgqCgU5lz4Mre5bSPyPvsPsuvWzvlD3NKDlu3AbFAtiWRH7fR1Imf_3RK8zxZPt64fdzVOkaUxmVhTZJdvu51L4Av6-KG6yUv9x-KOLvcmVgjpmC2vMArjGHG4nXEiJg7FOmzeKjMksBj1s-nXUOMIXfa5P0w-1PhiImJ8sSFgc6u5dv0S28RrjPSkhZzDcy17JOGXKysDh6M-AbHiQ5mjmWzExnF_IHM8HXoaDPiPPAFDZWkKnMeJcyIRGMCLPL5MJUEq-CVaFMptaY53ek7OSMVE1ef1_NASzzimpkWKU6gndVhXcLImcqXfIIvpA6FVJT_c0NGKnNe9RSk9XGZ84D4C6EDXlzHWzUboYCRgKGnIunQGs7HkvmkxY17sDHzjW23mek8VPRPZsCdHn0PYg3IMygJZwS8HSf4sCerL9dn7PPBJy1aLs_PHafF2ol8Q6P8pwICAWcH5Q-ceDQ4c-P1bNiHaWJw4QONnHI8AWl4xIaOtfIJfS_n3ko082mEXB87rnlsf2CpKAGX32DGlZ0BhoxiAXI25KmVl7S9M12cW3XVlKvc9vIboAdlu_cJbW6yRXTfo_MvZiI0GvwfotBrWVlWKsy3YdxgI1n300zVQ8PzfoP" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre class="lang-scala prettyprint-override"><code>(a,b)=&gt;(if(b.size&lt;a.size){a zip g(b)}else{g(a)zip(b:+0)}).flatMap(t=&gt;Seq(t._1,t._2)).toList.init
def g(a:Seq[Int])=Stream.continually(a).flatten
</code></pre>
<p>Ungolfed version. <a href="https://ato.pxeger.com/run?1=jVTBbtswDL3slK8gjBwk1HXjtE3cYhkw7DRgvWzdKSgG2ZETD65sWEyzpsiX9NLLdul37Cf2NaNk2XGaFQsQWCL53iPFiHr8pRORi9PnqXesipWolHfz9HOJ6XH0583vIv4uE4QrkSl46AHMZAorKe4kE5fwKdM4_ajwxoe4Y_HOHiaWBnAncliTlaXA4iCXao4LeAvCbbmDAXnWWcm-YCXFbZAUCjO1FHl-z2IepLlAlIpb6AZkrmXL-wdDtAyrGcPRka2MDbiTaEtTcnW9LHNJFa4t6UqUDGHyriZg8C30gb5DzuHkBJws4EICGp62ShQpq0xhrpj2OpL9Zu_VeRszmFVF-TmbL5CFPMDC5OqZslynb6ntTFRzfQnvq0rcT-mQmZqbDn9VGe40F6XGD0JLTV5bs-sLs0bI_do7bDZ0nqEPIef-LtD4DseS-7RBjTrwkQ2NTPQFabQrumVTgi6Pvnv5BoQZNIQzAp5tSxwYy8Sb9SX73IfzBm32-2b398pZSbzDozrHPkQ-XOwdfWzBkcVfHKpnxDpKY4uJLGxskdErSocVFNrQ0Bb0vz9zX6ZbTS1g-bxnl_b6BWlBg5gs4AESsoEJeh18kD9KekjkjNNMubzm1lZSL3Nzkd2jQljuwttJ6pO7H5th7Nd4r8EIrWWFrFGZbNO0873pberXzD1qT279Cw" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre class="lang-scala prettyprint-override"><code>object Main {
  def weave(a: List[Int], b: List[Int]): List[Int] = {
    val z = if (b.length &lt; a.length) {
      a.zip(Stream.continually(b).flatten)
    } else {
      Stream.continually(a).flatten.zip(b ++ List(0))
    }
    val newTuple = z.flatMap(t =&gt; List(t._1, t._2)) // flatten the tuples
    // println(s&quot;newTuple = $newTuple&quot;)
    newTuple.dropRight(1).toList
  }

  def main(args: Array[String]): Unit = {
    val testCases = List(
      (List(1), List(2), List(1, 2, 1)),
      (List(1, 1), List(2), List(1, 2, 1)),
      (List(1, 2, 3), List(6), List(1, 6, 2, 6, 3)),
      (List(6), List(1, 2, 3), List(6, 1, 6, 2, 6, 3, 6)),
      (List(10, 10), List(42, 42), List(10, 42, 10, 42, 10)),
      (List(5, 5), List(5, 5, 5), List(5, 5, 5, 5, 5, 5, 5)),
      (List(1, 2, 3, 4, 5), List(6, 7, 8, 9), List(1, 6, 2, 7, 3, 8, 4, 9, 5)),
      (List(1, 2, 3, 4, 5), List(7, 8), List(1, 7, 2, 8, 3, 7, 4, 8, 5)),
      (List(1, 2), List(6, 7, 8, 9), List(1, 6, 2, 7, 1, 8, 2, 9, 1)),
      (List(1, 2, 3), List(7, 8, 9), List(1, 7, 2, 8, 3, 9, 1))
    )

    testCases.foreach { case (a, b, expected) =&gt;
      val result = weave(a, b)
      println(s&quot;$a, $b =&gt; $result&quot;)
      assert(result == expected)
    }
  }
}
</code></pre>
</div>
<div id="pu8" class="pu"><h1><a href="https://www.haskell.org" rel="nofollow noreferrer">Haskell</a>, 58 bytes</h1>
<pre class="lang-haskell prettyprint-override"><code>(a:c)?l=a:l?(c++[a])
a!b=take(sum(max(2&lt;$a)$2&lt;$0:b)-1)$a?b
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=dZBBboMwEEWVLcuewJVY2MogAU0MQaHZ9RIIVQa5ahRAbQGpi96kGzZVz9ScpjMYp7RNhGSP3_8zxv_981G1B11Vw_DRdw9e_JVwlZRiV6UqqXa8XC4zlQtHXRdppw6at33Na_XKw62rhIurnxTCC4SrdoWZcFxcdbrtStXqlqUscxjjWZADy8JcgDnB33MIN0SkJZJOBluPD4FPdBXC6tS5hjUx3LCYT4OVUSREEMPmrIbKjF9yT06iCHOnVvuGpVi2-rnXTanvWfb0sm86xjElwd5wB9y3HjvlkJtohuPiDqOglzPv1jwwyJ0xjzOQLqdMJiwRSEQOISuTJOEkgqTOMSqblOn2sQS7oofysrmNjrG0n71-TOonltmPRCjGKG_-mSnVyRghjlGIUIqt8dK8AFGI8-Zv_2Wz08hi8vwG" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Golfed version of the 74-byter thanks to @xnor.</p>
<p><code>2 &lt;$ a</code> creates a list of 2s whose length is that of <code>a</code>, and <code>max</code> chooses the longer list. Extremely cool way to avoid the repeated <code>length</code>.</p>
<h1><a href="https://www.haskell.org" rel="nofollow noreferrer">Haskell</a>, 60 bytes</h1>
<pre class="lang-haskell prettyprint-override"><code>f 0
l=length
f n(a:c)b=a:f(1-n)b(c++[a|l c+n&lt;l b])
f _ a _=a
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=dZDBToNAEIbT6x59gkl6gTAkgC3Qptg0RnsxphdPSJqFLLYRiQo9WZ_ESy_Gl_BF7NM4y3YrahuS3dnv_2eW_d8-Fry6F0Wx-Xyxu3A1uZ7eTKYXcD6bQdd-ZcbYhAhu31d1bodfoxwcVkSFKO_qBcuhNPgwM9OID3PDtUszNTLLivm6gMwqRwWkiUmuOXCYR1zN2HZOalHVGa9ERZNjBmDEboIQe4mJ6oR_zx6eSuJr4suTwtrjoOtI2vOwt-_sY18y2qhoT8OeUnwMMMTBQY2UFj_m3jklJZiwB74sIaKyEk8rUWZiDvHj87KsweDj1IQ17Uj7yIZ9DomKZrPtXFIU8uVgn6kHuglr8jgA5eUykx32CfiEmERalpKPexF92dlEpZNS3Q6VqFfyyLx0bo2jKfWnr2-S-oml9SMBiSHJg39mmerOGBAOSQhICrXx2DyXkEfz2m__ZdPTpEXl-Q0" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Same algorithm as the 67-byte version, but swaps around the two lists on each iteration. <code>n</code> controls when to extend the shorter list:</p>
<ul>
<li><code>A B</code> : We want A to be 1 longer than B; extend if tail of A is strictly shorter than B; <code>n = 0</code></li>
<li><code>B A'</code> : We want B to be of equal length to A'; extend if tail of B is at least 2 shorter than B; <code>n = 1</code></li>
</ul>
<hr />
<h1><a href="https://www.haskell.org" rel="nofollow noreferrer">Haskell</a>, 67 bytes</h1>
<pre class="lang-haskell prettyprint-override"><code>l=length
(a:c)!(b:d)=a:b:(c++[a|l c&lt;=l d])!(d++[b|l c&gt;l d+1])
a!_=a
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=dZBBboMwEEWVLcueYLIDMZECTQxBIZtKvQSyIgNuE5WitpBdbtJNNlXP1JymMxhT2iZCssfv_xnj__65U82TrqrT6ePQPszir7sqrXT92O4cVyWFN3XzpPRSleSJW_h-po4VFOu0glKSVhLJmWwI-IH0HDXdpsqMOk9uWt20hWp0AylkDoCbBRIhC6WH5oR_zyHeMhGWCD4ZbD1zDOZMFyEuhs4lLpnRRsV4Gi6MIjDCGFcXNVJG_Jq7dzIlKJ1nta8hpbLRrwddF3oL2cvbvm7BVdPcgyPtSPt6BkMO0kRzOk_uKQp-Ocw25oGBdLo8LkC-nDPpsSAgCDmMrMySwEFEwZ1dVDYp0z2nEu1KHs7L5tY5utJ-9vouqZ9YRj8SkRiTvPpn5lR7Y0Q4JiEiKbbGa_MCQiHNG7_9l81OY4vJ8xs" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Keeps cycling the shorter one until the remaining lengths agree (i.e. the first is exactly 1 longer than the second).</p>
<h1><a href="https://www.haskell.org" rel="nofollow noreferrer">Haskell</a>, 74 bytes</h1>
<pre class="lang-haskell prettyprint-override"><code>l=length
(a:c)?(b:d)=a:b:c?d
a!b=take(max(l a-1)(l b)*2+1)$cycle a?cycle b
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=dZDBToNAEIbTK0efYEw8sDokgO1CicjNg69AiFnoaptSokITTXwTL70Yn8k-jTNst6K2IdmZ_f5_Z9n__XOu2qWu683mY93de_HXbZ3Wunno5o6rkkpkbpnMRKqSMqmymaNOy7RTS-2u1Itbg_ICQaUU5-FFIM6q16rWoDJTSzNxOzrpdNtVqtUtpJA7AG4eFAh5WAg0O_y7D_GSibRE8s5g6_Ex8JmOQxzvT05wwowKNcNpODaKxAhjnB7USBnwY-6dkynBwlmpRQMpta1-Wuum0neQPz4vmg5cSkvAG1WkeuXBPofCRLPZjm4oCn45eNfmgUHh9HkcgHw5Z7LDkoAk5DCyMksS9yJKPtlHZZMyp31q0a7k4bxsbr2jb-1nr--T-oll8CMRiTHJ039mTnVnjAjHJEQkxdZ4bF5AKKR5w7f_stlpbDF5fgM" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Interleaves two infinitely cycled lists and takes a prefix of appropriate length.</p>
</div>
<div id="pu9" class="pu"><h1>JavaScript (ES6), 63 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>f=(a,b,i=0,j)=&gt;a[i]|b[j]|i/j?[a[i%a.length],...f(b,a,j,i+1)]:[]
</code></pre>
<p><a href="https://tio.run/##hdHfaoMwFAbw@z2FNwNl3@Kf2SQO3B4knIvYaWcQLW3ZVd/dHVccU8OqYGJOfnzm6OyXPe9P7fHy3A8f9Tg2ZWhRoS0TuKh8s6ala2UcXdvYvRt@fbSiq/vD5ZMghGjCChYO7VMa0auhcT/056GrRTccwiY0KSEwGQWLK4qCOA5MigwpPawFPOaOyPAyGUkeIbkqub5WchI3ulESvw5ym5cgTSadZ8jn75zzEl7C/NzQHXYT5IEnq9Cfxfn2HxL5zUsoaBS0OKTiuuYdxT3NlhYtUlzVXFe8Q/v131RPgxU3TPNY/Pd7vHrOnuT4DQ" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Commented</h3>
<pre class="lang-javascript prettyprint-override"><code>f = (              // f is a recursive function taking:
  a,               //   a[] = first array
  b,               //   b[] = second array
  i = 0,           //   i = pointer in a[], initialized to 0
  j                //   j = pointer in b[], initially undefined
) =&gt;               //
a[i] |             // if a[i] is defined
b[j] |             // or b[j] is defined
i / j ?            // or i = j, meaning that we're currently
                   // processing the array which was originally
  [                // passed as the first one:
    a[             //   append the next entry from a[],
      i % a.length //   using i modulo the length of a[]
    ],             //   followed by the result of
    ...f(          //   a recursive call:
      b, a,        //     with a[] and b[] exchanged
      j, i + 1     //     i = j and j = i + 1
    )              //   end of recursive call
  ]                //
:                  // else:
  []               //   stop
</code></pre>
</div>
<div id="pu10" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 53 bytes</h1>

<pre class="lang-hs prettyprint-override"><code>a?b=max(init$a!cycle b)$cycle a!b
(h:p)!q=h:q!p
e!_=e
</code></pre>
<p><a href="https://tio.run/##dZBRC4IwFIXf9yvuwAeFG6iplTT6ISIy5YKSijaDgv772jBFop7OOd8528OtpbpS22otL6Xo5MNt@mZyJK@eVUtQes5sJC@ZW6eDx0dRpyMfGPFCkJ5ITZVUpEBAxgDcLMgRsjD3cE74nUPcW5IsJLFpxsvGx8C3NAoxWl/GGFtmxJjtbxjNTYIHPOLpZ2eaDf@3/iwtNTBnnWx6EMYqGu/UV1RANtyafgLXXMuDl1E0et7BeodcvwE" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
<p>Based on ideas from <a href="https://codegolf.stackexchange.com/a/272746/20260">Bubbler's solutions</a>. The recursive helper function <code>!</code> takes elements alternating from two lists until it goes past the end of one of the lists. The main function <code>?</code> tries first endlessly <code>cycle</code>'ing one of the two lists before calling <code>!</code>, and outputs the longer of the two outcomes.</p>
</div>
<div id="pu11" class="pu"><h1><a href="https://github.com/AlephAlpha/Nekomata" rel="nofollow noreferrer">Nekomata</a>, 14 bytes</h1>
<pre><code>ᵐ#:x+Ṁ$ᵒ%ᵐᶻ@ji
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70iLzU7PzexJHFZtJJurlLsgqWlJWm6Fjsebp2gbFWh_XBng8rDrZNUgdyH23Y7ZGUuKU5KLoYqWnBzcXS0YaxOtFFsLBeQpYPMNtIxBvLMwDwzIAsiApYz0DE0AIqYGOmYQFSb6pgC-UASSMN165iARc10zHUsdCwxxIGiMDFsqiAqQCIQtwIA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Much longer than solutions in other golfing languages, because Nekomata doesn't have a built-in for extending or molding a list.</p>
<p>Takes input as a list of two lists.</p>
<pre><code>ᵐ#:x+Ṁ$ᵒ%ᵐᶻ@ji      Takes [[1,2,3],[6]] as an example
ᵐ#              Length of each element
                    [[1,2,3],[6]] -&gt; [3,1]
  :             Duplicate
                    [3,1] -&gt; [3,1] [3,1]
   x+           Add [0,1]
                    [3,1] [3,1] -&gt; [3,1] [3,2]
     Ṁ          Maximum
                    [3,1] [3,2] -&gt; [3,1] 3
      $         Swap
                    [3,1] 3 -&gt; 3 [3,1]
       ᵒ%       Outer product with modulo
                    3 [3,1] -&gt; [[0,0],[1,0],[2,0]]
         ᵐᶻ@    For each element, zip with the original list and take the nth element
                    [[1,2,3],[6]] [[0,0],[1,0],[2,0]] -&gt;  [[1,6],[2,6],[3,6]]
            j   Join
                    [[1,6],[2,6],[3,6]] -&gt; [1,6,2,6,3,6]
             i  Remove the last element
                    [1,6,2,6,3,6] -&gt; [1,6,2,6,3]
</code></pre>
</div>
<div id="pu12" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 66 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>f=(a,b,i=0,j=0)=&gt;[a[j%a.length],...b[j]||a[j+!i]?f(b,a,!i,j+i):'']
</code></pre>
<p><a href="https://tio.run/##dZHRboIwFIbvfQq8MJb5WynDglvQB6nNLKwghIBR45Xvzg4kNS6bQNqT7/84LbQ2N3PJz9Xpumy7b9sXKT3MIEOVBqjTwE@3yqh6Znhj2/J61OCcZ6rW9zvhxbTSu4JlMJhWqBeV/zGf6/7zMFFCeyrU3nLrKYEQQhPCvzDEO2HpsCQgCU0G5OIhkniEkMObAURAShQick0DKuFGctZYk0HjMA/GWLrbLY9o1CRiJNg8bySmMKF480cm1Ykx4YSCmKLEia/6CUIh9Xv@9l@a6zYqB362p8bklq3YXvG33V773qNalfDYF/38jI4p79pL11jedCUrmL2Zhhkf45z5dPU/" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<s>
<h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 68 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>f=(a,b,i=0,j=i&gt;&gt;1)=&gt;[a[j%a.length],...b[j]||a[j-~i%2]?f(b,a,i+1):'']
</code></pre>
<p><a href="https://tio.run/##dZHRboIwFIbvfQpujGX7qZRhwS3gg9RmFlYYhIBR45XZq7MDSY3LNiDtyfd/nBbamqs5l6fmeAn64cOOVUYPMyjQZCHarMlz4We5MqpdGt7Zvr58anDOC9Xq241w8NUsI72rWAGD5ln4r6uVHt8OCyW0pyLtBbmnBCIITQh/wggvhKXDkoAktJiQi6dI4h5CTm@GECEpcYTYNQ2phBvJ2WBDBo3TPBlz6W63POJZk0iQYvu4kYTClOLtL5lUJyaEUwoSilIn/tdPEIqo3@O3/9Bct1k58JM9dqa0bM32ij/t9tr37tW6hsfe6c8XdErl0J@HzvJuqFnF7NV0zPiY58Kna/wG" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></s></p>
</div>
<div id="pu13" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, <s> 12 </s> 11 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<p>-1 thanks to <a href="https://codegolf.stackexchange.com/users/100664/emanresu-a">emanresu A</a> (Just add one to the length of B rather than looking at the sort order of the lengths; for some reason, I had thought that failed in an edge-case.)</p>
<pre><code>ṁ€Ẉ+Ø.ṀƊZFṖ
</code></pre>
<p>A monadic Link that accepts the pair of lists and yields a list.</p>
<p><strong><a href="https://tio.run/##ATcAyP9qZWxsef//4bmB4oKs4bqIK8OYLuG5gMaKWkbhuZb///9bWzEsIDJdLCBbNiwgNywgOCwgOV1d" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong> Or see the <a href="https://tio.run/##y0rNyan8///hzsZHTWse7urQPjxD7@HOhmNdUW4Pd077r3O4/eikhztnACWzHjXMUbC1U3jUMFcz8v//6Ohow1gdhWij2FgdLgUgRweNa6RjDBIwgwqYgTgQUagKAx1DA5CgiZGOCUybqY4pSAhIARlIJumYQCTMdMx1LHQssUkBJRDCONRC1UEEYwE" rel="nofollow noreferrer" title="Jelly – Try It Online">test-suite</a>.</p>
<h4>How?</h4>
<pre><code>ṁ€Ẉ+Ø.ṀƊZFṖ - Link: pair of lists, [A, B]                    e.g.  ab wxyz
       Ɗ    - last three links as a monad - f([A, B]):
  Ẉ         -   length of each -&gt; [len(A), len(B)]                 [2, 4]
   +Ø.      -   add [0,1] -&gt; [len(A), len(B)+1]                    [2, 5]
      Ṁ     -   maximum -&gt; max(len(A), len(B)+1)                   5
ṁ€          - mould each of {[A, B]} like {[1..that]}              ababa wxyzw
        Z   - transpose                                            aw bx ay bz aw
         F  - flatten                                              awbxaybzaw
          Ṗ - remove rightmost                                     awbxaybza
</code></pre>
</div>
<div id="pu14" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, <s>61</s> 59 bytes</h1>

<pre class="lang-ruby prettyprint-override"><code>-&gt;a,b{(a*w=2*[b.size,a.size-1].max).zip(b*w).flatten[0..w]}
</code></pre>
<p><a href="https://tio.run/##fZDfCoIwFIfve4pBNyY/h1s29aJeZOxiQkJQIWVYRs9uZ@myf8Rg2znfd84OO5yKS1cuu2hlUVwDGzZLGeqCHzftGvZxRMLwnT3PeLupgiJsZrzc2rpe73XMeWNuXcVKrYUB09IYNo1WTAtICDPpCf4xibmjaqSKcoqyvaEc7bXBUHg6UL5PDBE7M5FIxpdiCuD3QV1g4UQ66DKIj8Cv19GQ9LZCigz5@5Ap8YyM/HcNVYx@SiQjlhLNXv0/3QUlJXX/@qwP2/d2ZncH" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/272727/">272727</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




