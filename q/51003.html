<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::51003</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>nan</td><td>Scala 3</td><td>240818T031015Z</td><td><a href="https://codegolf.stackexchange.com/questions/51003/chinese-checkerboard/275039#275039">138 Aspe</a></td></tr>
<tr d-ix="1"><td>760</td><td>tinylisp</td><td>240817T205716Z</td><td><a href="https://codegolf.stackexchange.com/questions/51003/chinese-checkerboard/275031#275031">Andrew B</a></td></tr>
<tr d-ix="2"><td>127</td><td>Ruby</td><td>160905T014124Z</td><td><a href="https://codegolf.stackexchange.com/questions/51003/chinese-checkerboard/92261#92261">Level Ri</a></td></tr>
<tr d-ix="3"><td>228</td><td>JavaScript ES6</td><td>150530T151227Z</td><td><a href="https://codegolf.stackexchange.com/questions/51003/chinese-checkerboard/51038#51038">edc65</a></td></tr>
<tr d-ix="4"><td>140</td><td>Python 2</td><td>150530T090056Z</td><td><a href="https://codegolf.stackexchange.com/questions/51003/chinese-checkerboard/51021#51021">Sp3000</a></td></tr>
<tr d-ix="5"><td>234</td><td>Retina</td><td>150530T114326Z</td><td><a href="https://codegolf.stackexchange.com/questions/51003/chinese-checkerboard/51027#51027">randomra</a></td></tr>
<tr d-ix="6"><td>152</td><td>Python 2</td><td>150530T080010Z</td><td><a href="https://codegolf.stackexchange.com/questions/51003/chinese-checkerboard/51018#51018">xnor</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.scala-lang.org/" rel="nofollow noreferrer">Scala 3</a>, <del>263</del> 251 bytes</h1>
<p>Saved 12 bytes thanks to @DLosc</p>
<hr />
<p>Golfed version. <a href="https://ato.pxeger.com/run?1=XZDBSsNAEIbveYohl51pSKwtiAQ2UC_iQRTFg9QetjWpm2w2JVkVDXkSL73opU_UZ_HiZqNQvOwPP9_8M_t_fDUrocR0N_dDXb2KWvuLPVbLPF0ZuBRSQ-t5AC9CQRYDXmhDPLk1tdRr4PD5bLLwdP-teYLhZKTBVGCFolJsWskTr5_LeSnMUySWDUpyTsFlhnmiaQypalLInas4zupavEWZVAoLQgvJZEzsmvUUO2MUBAeEXRQch7nj-rD2j78Z-HPWOY3-zR0kXzF3ALtnZG8uhn-hDz559hkhnrgdKmrke0pHEwpUd8A9aJ9-K5gBPKYZlLYxFPW6icFtnA_ogmK409LYylrbJsDGukZpzHBKZJ3O64ag7XbQHw" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre class="lang-scala prettyprint-override"><code>n=&gt;(-2*n to 2*n).map{i=&gt;
val j=math.abs(i)
val k=if(j&gt;n)0 else j
val l=(Array.fill(k)(if(i&gt;0)'P'else'B')++Array.fill(2*n+1-j)(if(j&gt;n){if(i&gt;0)'R'else'G'}else'.')++Array.fill(k)(if(i&gt;0)'O' else'Y')).mkString(&quot; &quot;)
&quot; &quot;*((6*n+1-l.size)/2)+l}.mkString(&quot;\n&quot;)
</code></pre>
<p>Ungolfed version. <a href="https://ato.pxeger.com/run?1=dVPBTtwwFDz0xleMconNsoEuEqpWAqn0gFqpWkTFAVEOJnE2znqdKDbdVqv9kl64tBf-qF_TF9uBpepeEut5PDPvefzzt82FFsdPt8nYNCvRmeTu8deDK8fv_rz53tzXMnf4LJTBeg8oZImSmSk-Gsen-OI6ZeY49XvAN6HRSfugHZXYeIJ9GLgGfsGzpWixhsLpmUcHfE3QpXBVJu4tU3xrZ0E7qgSrcUancQSprUS9twXRysheKpaA910nfmSl0potOOtPKzp9xJFepuF8ep5yjEbA4SHO0XS4JMutFE4WpOjUUtr_sYVeRniLMerAHH2tsS1zNchcpNjEZRYUSfDqABcHvWj2Isom-y_Euw38085s0LkhcvhuZj3xza5uaPyLcF0sQcKHKfYTzHJpnOzYydAj7-k--CJcJcOYV8pVlAJBi8JVaEqcRON5JTqREzhobQJ3CMKW6leTeOJPTU-j9TO19dwwcuWFXtF5MrVstcqVQ66FtTF1s9Yy67ohhDxmsE9o7Mcb3RHVkJ9WFEWoBjDdAVFmWpq5q8gsJhFMI6PhDPBRj6Lvq2rsPVrubSzp1TDRze00XORt8HBHbq6Ncs9eWqo6bVjJjjn3BJvwAOM7fIz_vw" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre class="lang-scala prettyprint-override"><code>object Main {
  def f(n: Int): String = {
    val result = (-2 * n to 2 * n).map { i =&gt;
      val j = math.abs(i)
      val k = if (j &gt; n) 0 else j

      val line = (
        Array.fill(k)(if (i &gt; 0) 'P' else 'B') ++  // B or P repeated k times
        Array.fill(2 * n + 1 - j)(if (j &gt; n) { if (i &gt; 0) 'R' else 'G' } else '.') ++ // R, G, or . repeated (2*n + 1 - j) times
        Array.fill(k)(if (i &gt; 0) 'O' else 'Y')    // O or Y repeated k times
      ).mkString(&quot; &quot;)

      line.center(6 * n + 1) // Center the line within a width of 6*n + 1 characters
    }

    result.mkString(&quot;\n&quot;) // Join all the lines with newline characters
  }

  implicit class StringOps(str: String) {
    def center(width: Int): String = {
      val padding = (width - str.length) / 2
      &quot; &quot; * padding + str + &quot; &quot; * padding
    }
  }

  def main(args: Array[String]): Unit = {
    println(f(3))
  }
}
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/dloscutoff/Esolangs/tree/master/tinylisp" rel="nofollow noreferrer">tinylisp</a>, 760 bytes</h1>
<pre><code>
(d R(q((n A)(i(e n 0)()(J A(L(R(s n 1)A)()))))))(d L(q((A B)(i(e A ())B(L(t A)(c(h A)B))))))(d K(q((A B)(i(e A())B(K(t A)(L(h A)B))))))(d J(q(args(K args()))))(d P(q((A B)(s A(s 0 B)))))(d X(q((n B x)(i(e n 0)x(X(s n 1)B(L(J(R(s B n)(q(32)))(R n(q(32 80)))(R(P B(s B n))(q(32 46)))(q(46))(R n(q(79 32)))(q(10))x)()))))))(d W(q((n B x)(i(e n 0)x(W(s n 1)B(L(J(R(s n 1)(q(32)))(R(s(P B 1)n)(q(32 66)))(R(P n(s B 1))(q(32 46)))(q(46))(R(P(s B n)1)(q(89 32)))(q(10))x)()))))))(d Y(q((n B x)(i(e n 0)x(Y(s n 1)B(L(J(R(P B B)(q(32)))(R(s n 1)(q(32)))(R(P(s B n)1)(q (82 32)))(i(e n B)()(q (10)))x)()))))))(d Z(q((n B x)(i(e n 0)x(Z(s n 1)B(L(J(R(P B B)(q(32)))(R(s B n)(q(32)))(R n(q(71 32)))(q (10))x)()))))))(d k(q((n)(string(Z n n(W(P n 1)n(X n n(Y n n()))))))))
</code></pre>
<p><a href="https://tio.run/##hZIxb4MwEIX3/oobnzdII0JHPAIDYgmwVW2VolRWEzPQX0/PZ5OEBLUeOPv8fO8746E3P1@9/Z6mJ7xTjRNgKFPo8UGGIgWFnDKUqGE5ESveU36wvnT6jLTXZ8RbmrWDq/CGTw76oi2WWpEWXlreSXOWvp4PFgVJmPPVpYTlApYi0vNW48k1jVf2EU2AdlC5tKDJKJY@b9yxmozMKY1kiYp00HgRbRMlUxeDfPdC/vQJMR8bb@9jv0qxf6BwqysFrDPmVECjJJlxjODE6zioAqwUS//gale52jsuB6EXXPegt4aEdBMcfUntHgunnfvSvlu17/63X/lbu3hukx77PIoRP4/h3JsDOq5v@Por8TFoZN3KV81jwpG2avoF" rel="nofollow noreferrer" title="tinylisp – Try It Online">Try it online!</a></p>
<p>Partially ungolfed version:</p>
<pre><code>
(d R
(q
((n A)
 (i
 (e n 0)
 ()
 (J A (L (R (s n 1) A) ()) ))
)))

(d L(q
((A B)
  (i
    (e A ())
    B
    (L (t A) (c (h A) B))
  )
)))

(d K(q
((A B)
  (i
    (e A ())
    B
    (K (t A) (L (h A) B))
  ) &#32;
)))

(d J(q
(args
  (K args ()) &#32;
)))

(d P(q(
  (A B)
  (s A (s 0 B))
)))

(d X
(q&#32;
((n B x)
  (i
    (e n 0)
    x
    (X (s n 1) B
      (L (J
        (R (s B n) (q(32)))
        (R n (q(32 80)))
        (R (P B (s B n) ) (q(32 46)))
        (q(46))&#32;
        (R n (q(79 32)))
        (q(10))
        x
      ) ())
    )
  )
)))  &#32;


(d W
(q&#32;
((n B x)
  (i
    (e n 0)
    x
    (W (s n 1) B
      (L (J
        (R (s n 1) (q(32)))
        (R (s (P B 1) n) (q(32 66)))
        (R (P n (s B 1)) (q(32 46)))
        (q(46))&#32;
        (R (P (s B n) 1) (q(89 32)))
        (q(10))
        x
      ) ())
    )
  )
)))  &#32;

(d Y
(q
((n B x)
  (i
    (e n 0)
    x
    (Y (s n 1) B
      (L (J&#32;
        (R (P B B) (q(32))) &#32;
        (R (s n 1) (q(32)))&#32;
        (R (P (s B n) 1) (q (82 32)))&#32;
        (i (e n B) () (q (10)))
        x&#32;
      ) ())
    )
  )&#32;
)))

(d Z
(q
((n B x)
  (i
    (e n 0)
    x
    (Z (s n 1) B
      (L (J&#32;
        (R (P B B) (q(32))) &#32;
        (R (s B n) (q(32)))&#32;
        (R n (q (71 32)))&#32;
        (q (10))
        x&#32;
      ) ())
    )
  )&#32;
)))

(d k
(q
((n)
(string (Z n n (W (P n 1) n (X n n (Y n n ()))) )    )&#32;
)))


</code></pre>
<p><a href="https://tio.run/##rVM9b8IwEN39K9543hKKgI7JCAyIhY@taisaUVkNYUh/Pb3z2UlDEE3VRrJyvo93957tc@E@34vq43Ix9IK1odIQOWTWgAper3BIZCNrjgy0BK1BFftTy3kcsbDWWF4CsfQIGXIu8BD8MUomeX6Tq4thzr78GfQmRu7jLdBiINAiAi27QEADNReop9OhMj5fLD92m7GikiQY21XSp0LiwWLSltWBlydH3Z1KReKvVs@2UUinVMLzYCNImMPx3CU9jGzgFGJOvZglVwFacVGsDLUYTzpZJYkDPbzpI64alZQm3/Z1sGwjcXMibBuvwWa4BptBGviEWxpwzLPlcFQJk0lfD6d6pHa4HFwVNdTms79Kw8rs4tv5UZjdbWHQO@i8VQa4p9tddqDZCNdphQ4mHTQn7Vy1GrcJty9mP5ju/j/odp5K726DpmmPYiD1C07HwMkaqs6nwh1keCcdNnrT5C7K4/a@nf6sdLWKq0gXOmLMf7a@AA" rel="nofollow noreferrer" title="tinylisp – Try It Online">Try it online!</a></p>
<h2>Approach</h2>
<p>For this challenge, I broke the board into 4 sections, and wrote a function for each section - that's the functions Z W X &amp; Y. I also wrote some helper functions for joining together strings of chars.</p>
<p>Perhaps there is a golfing opportunity still - the two halves of the board are sufficiently similar that I may be able to achieve the same result with 2 functions instead of 4, adding a parameter that tells me if I'm drawing the upper or lower section.</p>
</div>
<div id="pu2" class="pu"><h1>Ruby, <s>141</s> 127</h1>
<p>Returns a rectangular string</p>
<pre><code>-&gt;n{(-2*n..2*n).map{|i|j=i.abs
k=j&gt;n ?0:j 
(([i&gt;0??P:?B]*k+[j&gt;n ?i&gt;0??R:?G:?.]*(2*n+1-j)+[i&gt;0??O:?Y]*k)*&quot; &quot;).center(6*n+1)}*$/}
</code></pre>
<p><strong>Ungolfed in test program</strong></p>
<pre><code>f=-&gt;n{
  (-2*n..2*n).map{|i|                    #Iterate rows from -2*n to 2*n
    j=i.abs                              #Absolute value of i
    k=j&gt;n ?0:j                           #Value of j up to n: for PBYO
    (                                    #An array of characters forming one line
      ([i&gt;0??P:?B]*k+                    #B or P * (k=j or 0 as appropriate)
       [j&gt;n ?i&gt;0??R:?G:?.]*(2*n+1-j)+    #R,G or . * (2*n+1-j) to form centre diamond
       [i&gt;0??O:?Y]*k                     #O or Y * (k=j or 0 as appropriate)
      )*&quot; &quot;                              #Concatenate the array of characters into a string separated by spaces.
    ).center(6*n+1)                      #pad the string to the full width of the image, adding spaces as necessary.
  }*$/                                   #Concatenate the array of lines into a string separated by newlines.
}

puts f[gets.to_i]
</code></pre>
</div>
<div id="pu3" class="pu"><h1>JavaScript (<em>ES6</em>) 228</h1>

<p>Construction line by line. Incredibly long compared to @Sp3000 that does the same.</p>

<p>Using template string to save 3 more bytes for newlines. All newlines are significant and counted.</p>

<p><div class="snippet" data-lang="js" data-hide="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>f=w=&gt;(i=&gt;{r=(n,s=b=' ')=&gt;s.repeat(n),l=c=&gt;(c='GBYPOR'[c])+r(i,b+c),t=n=&gt;r(w*3-i)+l(n)+`
`,s=n=&gt;r(w-1-i)+l(n)+b+r(w+w-i,'. ')+l(n+1)+`
`;for(o='',q=r(w)+r(w+w,'. ')+`.
`;++i&lt;w;o+=t(0))q+=s(3);for(;i--;o+=s(1))q+=t(5)})(-1)||o+q

// LESS GOLFED

u=w=&gt;{
  r =(n,s=b=' ') =&gt; s.repeat(n),
  l = c =&gt; (c='GBYPOR'[c])+r(i, b+c),
  t = n =&gt; r(w*3-i) + l(n) + '\n',
  s = n =&gt; r(w-1-i) + l(n) + b + r(w+w-i,'. ') + l(n+1) + '\n',
  o = '',
  q = r(w) + r(w+w,'. ') + '.\n';
  for(i=0; i&lt;w; i++)
    o += t(0), q += s(3);  
  for(;i--;)
    o += s(1), q += t(5);
  return o+q
}  

go=()=&gt; O.innerHTML=f(I.value|0)

go()</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;input id=I value=5&gt;&lt;button onclick='go()'&gt;-&gt;&lt;/button&gt;&lt;br&gt;
&lt;pre id=O&gt;&lt;/pre&gt;</code></pre>
</div>
</div>
</p>
</div>
<div id="pu4" class="pu"><h1>Python 2, 140 bytes</h1>



<pre class="lang-py prettyprint-override"><code>n=input()
for k in range(4*n+1):x=abs(k-2*n);y=2*n-x;p,q,r=" BP G..R YO "[(k-~k)/(n-~n)::4];print(" "*y+" ".join(p*x+q*-~y+r*x)+" "*y)[n:-n]
</code></pre>

<p>Not great, but here's my initial bid.</p>

<p>The whitespace rules added a lot of bytes. For comparison, here's a 120 byte Python 3 program which is only correct visually, and doesn't follow the whitespace rules:</p>

<pre class="lang-py prettyprint-override"><code>def f(n):
 for k in range(4*n+1):x=abs(k-2*n);y=2*n-x;p,q,r=" BP G..R YO "[(k-~k)//(n-~n)::4];print(" "*y,*p*x+q*-~y+r*x)
</code></pre>

<p>And here's my slightly longer recursive 149 byte Python 3 attempt:</p>

<pre class="lang-py prettyprint-override"><code>def f(n,k=0):x=2*n-k;s=" ".join(["B"*x+"."*-~k+"Y"*x,"G"*-~k][k&lt;n]).center(6*n+1);print(s);k&lt;n*2and[f(n,k+1),print(s.translate({71:82,66:80,89:79}))]
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/mbuettner/retina">Retina</a>, 234 bytes</h1>

<pre><code>.
P
.+
iP$0$0x$0j$0x$0Px$0kqw
P(?=P*xP*j)
s
P(?=P*j)
R
P(?=P*xP*k)
c
P(?=P*k)
O
x

+`i(s+R+)R
is$1#$1R
+`(s*)P(P*c*)(O*)O(?=k)
$0#s$1$2c$3
j|k
#
s

+`([^#]+#)q(.*)
q$1$2$1
R(?=.*w)
G
P(?=.*w)
B
O(?=.*w)
Y
w[^#]*#|q|i

\w
$0 
c
.
 #
#
</code></pre>

<p>Takes input in unary.</p>

<p>Each line should go to its own file and <code>#</code> should be changed to newline in the file. This is impractical but you can run the code as is as one file with the <code>-s</code> flag, keeping the <code>#</code> markers and maybe changing them to newlines in the output for readability if you wish.</p>

<p>The code has minimal regex-complexity. The main steps in the generation are the followings:</p>

<ul>
<li>Create the last <code>G</code> line and the first <code>B.Y</code> line (delimited by markers <code>ijk</code> and actual used letetrs are <code>RPO</code>).</li>
<li>Duplicate the topmost <code>G</code> line with a plus space, minus a G until there is only one G.</li>
<li>Duplicate the bottom <code>B.Y</code> line with a plus space and dot, minus a <code>B</code> and <code>Y</code> until there are no <code>B</code> and <code>Y</code> left.</li>
<li>Copy all the lines in reverse order after the current string (with the help of the marker <code>q</code>). We keep a marker (<code>w</code>) in the middle.</li>
<li>We change the letters <code>RPO</code> to <code>GBY</code> if they are before the marker.</li>
<li>Add the missing in-between spaces.</li>
</ul>

<p>The results after each of the above points (delimited by <code>=</code>'s) for the input <code>1111 (unary 4)</code>:</p>

<pre><code>1111
==============================
isssssssssRRRRjPPPPcccccOOOOkqw
==============================
issssssssssssR
sssssssssssRR
ssssssssssRRR
sssssssssRRRRjPPPPcccccOOOOkqw
==============================
issssssssssssR
sssssssssssRR
ssssssssssRRR
sssssssssRRRRjPPPPcccccOOOO
sPPPccccccOOO
ssPPcccccccOO
sssPccccccccO
ssssccccccccckqw
==============================
qi            R
           RR
          RRR
         RRRR
PPPPcccccOOOO
 PPPccccccOOO
  PPcccccccOO
   PccccccccO
    ccccccccc
w    ccccccccc
   PccccccccO
  PPcccccccOO
 PPPccccccOOO
PPPPcccccOOOO
         RRRR
          RRR
           RR
i            R
==============================
qi            G
           GG
          GGG
         GGGG
BBBBcccccYYYY
 BBBccccccYYY
  BBcccccccYY
   BccccccccY
    ccccccccc
w    ccccccccc
   PccccccccO
  PPcccccccOO
 PPPccccccOOO
PPPPcccccOOOO
         RRRR
          RRR
           RR
i            R
==============================
            G
           G G
          G G G
         G G G G
B B B B . . . . . Y Y Y Y
 B B B . . . . . . Y Y Y
  B B . . . . . . . Y Y
   B . . . . . . . . Y
    . . . . . . . . .
   P . . . . . . . . O
  P P . . . . . . . O O
 P P P . . . . . . O O O
P P P P . . . . . O O O O
         R R R R
          R R R
           R R
            R
</code></pre>
</div>
<div id="pu6" class="pu"><h2>Python 2, 152</h2>



<pre class="lang-python prettyprint-override"><code>n=input();x=N=2*n
while~N&lt;x:s='';y=n*3;exec"a=x+y;q=[0,a&gt;N,x-y&gt;N,-x&gt;n,-a&gt;N,y-x&gt;N,x&gt;n,1];s+=' BYROPG.'[q.index(sum(q)&lt;~a%2*3)];y-=1;"*(y-~y);print s;x-=1
</code></pre>

<p>This is, in retrospect, the wrong approach for Python, but I'm posting it here in case someone can make use of it. Rather than explaining this mess of code, I'll try to say the idea behind it.</p>

<p>The idea is to use <a href="https://stackoverflow.com/questions/2049196/generating-triangular-hexagonal-coordinates-xyz">triangular coordinates</a>, in which the triangular lattice corresponds to integer triples <code>(a,b,c)</code> with <code>a+b+c=0</code>.</p>

<p><img src="https://i.sstatic.net/G0cgW.gif" alt="enter image description here"></p>

<p>(Here, the lattice points are drawn as hexagons.)</p>

<p>We can convert Cartesian coordinates to triangular ones as</p>

<pre class="lang-python prettyprint-override"><code>a = (x+y)/2
b = (x-y)/2
c = -x
</code></pre>

<p>noting that <code>x</code> and <code>y</code> must have the same parity, or otherwise it's off-checkerboard and we should print a space.</p>

<p>In triangular coordinates, the bounding lines of the six-sided star have equations: <code>a==n, b==n, c==n, a==-n, b==-n, c==-n</code>.</p>

<p>So, we can determine what region we're in by which of <code>[a,b,c,-a,-b,-c]</code> are greater than <code>n</code>.</p>

<ul>
<li>If none are, we're in the center and print a dot.</li>
<li>If exactly one is, we're in one of the six outer triangles, and print the letter corresponding to the index.</li>
<li>If two or more are, we're outside the board, and print a space.</li>
</ul>

<p>The bounding rectangle requires that we do this for <code>x</code> in the closed interval [-2*n,2*n] and <code>y</code> in the closed interval [-3*n,3*n].</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/51003/">51003</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




