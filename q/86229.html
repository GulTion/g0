<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::86229</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>033</td><td>Perl 5 MListUtil=sum a</td><td>240816T211309Z</td><td><a href="https://codegolf.stackexchange.com/questions/86229/substring-sum-set/275021#275021">Xcali</a></td></tr>
<tr d-ix="1"><td>047</td><td>R</td><td>240816T203351Z</td><td><a href="https://codegolf.stackexchange.com/questions/86229/substring-sum-set/275019#275019">int 21h </a></td></tr>
<tr d-ix="2"><td>013</td><td>MATL</td><td>160722T005010Z</td><td><a href="https://codegolf.stackexchange.com/questions/86229/substring-sum-set/86231#86231">Luis Men</a></td></tr>
<tr d-ix="3"><td>063</td><td>Clojure</td><td>161225T210538Z</td><td><a href="https://codegolf.stackexchange.com/questions/86229/substring-sum-set/104556#104556">NikoNyrh</a></td></tr>
<tr d-ix="4"><td>066</td><td>Javascript using External Library</td><td>160722T005124Z</td><td><a href="https://codegolf.stackexchange.com/questions/86229/substring-sum-set/86233#86233">applejac</a></td></tr>
<tr d-ix="5"><td>033</td><td>Haskell</td><td>160722T012728Z</td><td><a href="https://codegolf.stackexchange.com/questions/86229/substring-sum-set/86241#86241">Michael </a></td></tr>
<tr d-ix="6"><td>006</td><td>Pyth</td><td>160725T053624Z</td><td><a href="https://codegolf.stackexchange.com/questions/86229/substring-sum-set/86500#86500">isaacg</a></td></tr>
<tr d-ix="7"><td>025</td><td>Matricks</td><td>160724T142049Z</td><td><a href="https://codegolf.stackexchange.com/questions/86229/substring-sum-set/86466#86466">Blue</a></td></tr>
<tr d-ix="8"><td>094</td><td>C#</td><td>160722T102235Z</td><td><a href="https://codegolf.stackexchange.com/questions/86229/substring-sum-set/86282#86282">supermee</a></td></tr>
<tr d-ix="9"><td>037</td><td>q</td><td>160723T161917Z</td><td><a href="https://codegolf.stackexchange.com/questions/86229/substring-sum-set/86415#86415">skeevey</a></td></tr>
<tr d-ix="10"><td>045</td><td>JavaScript ES6</td><td>160722T085009Z</td><td><a href="https://codegolf.stackexchange.com/questions/86229/substring-sum-set/86274#86274">edc65</a></td></tr>
<tr d-ix="11"><td>008</td><td>05AB1E</td><td>160722T115149Z</td><td><a href="https://codegolf.stackexchange.com/questions/86229/substring-sum-set/86291#86291">Emigna</a></td></tr>
<tr d-ix="12"><td>072</td><td>PHP program</td><td>160722T174828Z</td><td><a href="https://codegolf.stackexchange.com/questions/86229/substring-sum-set/86329#86329">Titus</a></td></tr>
<tr d-ix="13"><td>160</td><td>VBA</td><td>160722T132458Z</td><td><a href="https://codegolf.stackexchange.com/questions/86229/substring-sum-set/86304#86304">user3819</a></td></tr>
<tr d-ix="14"><td>015</td><td>Dyalog APL</td><td>160722T122139Z</td><td><a href="https://codegolf.stackexchange.com/questions/86229/substring-sum-set/86295#86295">lstefano</a></td></tr>
<tr d-ix="15"><td>027</td><td>Brachylog</td><td>160722T122013Z</td><td><a href="https://codegolf.stackexchange.com/questions/86229/substring-sum-set/86294#86294">Fatalize</a></td></tr>
<tr d-ix="16"><td>089</td><td>C#</td><td>160722T112919Z</td><td><a href="https://codegolf.stackexchange.com/questions/86229/substring-sum-set/86289#86289">downrep_</a></td></tr>
<tr d-ix="17"><td>007</td><td>Pyke</td><td>160722T103149Z</td><td><a href="https://codegolf.stackexchange.com/questions/86229/substring-sum-set/86284#86284">Blue</a></td></tr>
<tr d-ix="18"><td>679</td><td>JavaScript ES6  79 Bytes</td><td>160722T094129Z</td><td><a href="https://codegolf.stackexchange.com/questions/86229/substring-sum-set/86279#86279">MT0</a></td></tr>
<tr d-ix="19"><td>055</td><td>Mathematica</td><td>160722T061148Z</td><td><a href="https://codegolf.stackexchange.com/questions/86229/substring-sum-set/86264#86264">martin</a></td></tr>
<tr d-ix="20"><td>038</td><td>Retina</td><td>160722T070102Z</td><td><a href="https://codegolf.stackexchange.com/questions/86229/substring-sum-set/86268#86268">Martin E</a></td></tr>
<tr d-ix="21"><td>069</td><td>Erlang</td><td>160722T062642Z</td><td><a href="https://codegolf.stackexchange.com/questions/86229/substring-sum-set/86266#86266">c.P.u1</a></td></tr>
<tr d-ix="22"><td>082</td><td>F#</td><td>160722T011114Z</td><td><a href="https://codegolf.stackexchange.com/questions/86229/substring-sum-set/86237#86237">asibahi</a></td></tr>
<tr d-ix="23"><td>011</td><td>J</td><td>160722T040529Z</td><td><a href="https://codegolf.stackexchange.com/questions/86229/substring-sum-set/86255#86255">miles</a></td></tr>
<tr d-ix="24"><td>039</td><td>Julia</td><td>160722T031440Z</td><td><a href="https://codegolf.stackexchange.com/questions/86229/substring-sum-set/86251#86251">Dennis</a></td></tr>
<tr d-ix="25"><td>006</td><td>Jelly</td><td>160722T015432Z</td><td><a href="https://codegolf.stackexchange.com/questions/86229/substring-sum-set/86243#86243">Dennis</a></td></tr>
<tr d-ix="26"><td>021</td><td>Excel</td><td>160722T011542Z</td><td><a href="https://codegolf.stackexchange.com/questions/86229/substring-sum-set/86239#86239">Joffan</a></td></tr>
<tr d-ix="27"><td>050</td><td>JavaScript ES6</td><td>160722T005143Z</td><td><a href="https://codegolf.stackexchange.com/questions/86229/substring-sum-set/86234#86234">NinjaBea</a></td></tr>
<tr d-ix="28"><td>008</td><td>Pyth</td><td>160722T005341Z</td><td><a href="https://codegolf.stackexchange.com/questions/86229/substring-sum-set/86235#86235">Leaky Nu</a></td></tr>
<tr d-ix="29"><td>040</td><td>Python</td><td>160722T005022Z</td><td><a href="https://codegolf.stackexchange.com/questions/86229/substring-sum-set/86232#86232">Dennis</a></td></tr>
<tr d-ix="30"><td>047</td><td>Python 3</td><td>160722T004700Z</td><td><a href="https://codegolf.stackexchange.com/questions/86229/substring-sum-set/86230#86230">El&#39;e</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> <code>-MList::Util=sum -a</code>, 33 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>map{say sum@F[++$#i..$#i+$_-1]}@F
</code></pre>
<p><a href="https://tio.run/##K0gtyjH9/z83saC6OLFSobg018EtWltbRTlTTw9IaKvE6xrG1jq4/f9vrGCkYKJgCISmQGz0L7@gJDM/r/i/rq@pnoGhAZD2ySwusbIKLcnMsQWa8183EQA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, 47 bytes</h1>
<pre class="lang-r prettyprint-override"><code>\(a)Map(\(j,n)sum(a[0:n+j],na.rm=T),seq(a),a-1)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72waMGiNNulpSVpuhY39WM0EjV9Ews0YjSydPI0i0tzNRKjDazytLNidfIS9YpybUM0dYpTC4GqdBJ1DTWh2oIT6hJsYzQqNEvzcjKLSzTSgExNrrri5MQ8jRJbJWMFEwUjBUMgNAViIyWglKGVKVddUWqBhrGOBZCbrGGqo2Coo2Cko2ACZIAUQIxesABCAwA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>A function which inputs an array and outputs the list of the partial sums. Turned out that the straightforward implementation is also the shortest one.</p>
<p>The subsetting and summation functions are mapped to the input array. If the end of the subsetting range is greater than the last index, <code>NA</code> values will be generated and they will be removed thanks to <code>na.rm</code> argument.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, <s>17</s> <s>14</s> 13 bytes</h1>

<pre><code>fGy+!-R0&lt;G*!s
</code></pre>

<h3>Explanation</h3>

<p><a href="https://tio.run/##y00syfn/P829UltRN8jAxl1Lsfj//2hjHQUjHQUTHQVDMDIFk0axAA" rel="nofollow noreferrer">Try it online!</a> Or <a href="https://tio.run/##y00syfn/PyHCmyvNu1JbUTfIwMZbS7GYyyXk//9oQx0FIx0FYx0FEx0F01iuaGMwBx0BJUx1FCBqgQoNgXzDWAA" rel="nofollow noreferrer">verify all test cases</a> (code modified to handle several inputs).</p>

<pre><code>f     % Take input implicitly. Indices of nonzero elements: this gives [1 2 ... n]
      % where n is input size
G     % Push input again
y     % Push a copy of [1 2 ... n]
+     % Add. Gives [a+1 b+2...] where [a b...] is the input
!     % Transpose into a column vector
-     % Subtraction with broadcast. Gives 2D array
R     % Keep upper triangular part, making the rest of entries 0
0&lt;    % True for negative entries. Each row corresponds to a substring sum.
      % For each row, this gives true for the entries of the input that make up
      % that substring sum. Each row is thus a mask to select entries of the input
G     % Push input again
*     % Multiply with broadcast. This multiplies the input times each row
!s    % Sum of each row. Implicitly display
</code></pre>
</div>
<div id="pu3" class="pu"><h2>Clojure, 63 bytes</h2>

<pre><code>(defn f[[b &amp; r]](concat[(apply + b(take(dec b)r))](if r(f r))))
</code></pre>

<p>Uses pattern matching to decompose input argument in to the first and the rest of the arguments.</p>
</div>
<div id="pu4" class="pu"><h2>Javascript (using External Library) (66 bytes)</h2>

<pre><code>n=&gt;_.From(n).Select((v,i)=&gt;_.From(n).Slice(i,i+v).Sum()).ToArray()
</code></pre>

<p>Link to lib: <a href="https://github.com/mvegh1/Enumerable" rel="nofollow noreferrer">https://github.com/mvegh1/Enumerable</a></p>

<p>Code explanation: _.From is loading the input array into the library, which is basically LINQ for js. Then each item in the array is mapped according to the following predicate: Take the input, and slice it from current item index and take that index plus the current item's value. Then Sum up that subsequence. Convert the result to a native JS array and return it</p>

<p><a href="https://i.sstatic.net/txiV2.png" rel="nofollow noreferrer"><img src="https://i.sstatic.net/txiV2.png" alt="enter image description here"></a></p>
</div>
<div id="pu5" class="pu"><h1>Haskell, <s>34</s>, 33 bytes</h1>
<pre><code>f l@(x:y)=sum(take x l):f y
f x=x
</code></pre>
<p>One byte saved by nimi.</p>
</div>
<div id="pu6" class="pu"><h1>Pyth, 6 bytes</h1>

<pre><code>ms&lt;~tQ
</code></pre>

<p><a href="https://pyth.herokuapp.com/?code=ms%3C~tQ&amp;test_suite=1&amp;test_suite_input=%5B3%2C+2%2C+4%2C+1%2C+1%2C+5%2C+1%2C+2%5D%0A%5B1%2C+2%2C+3%2C+4%2C+5%5D%0A%5B3%2C+3%2C+3%2C+3%2C+3%2C+3%2C+3%2C+3%5D%0A%5B5%2C+1%2C+2%2C+4%2C+1%5D%0A%5B1%5D&amp;debug=0" rel="nofollow">Test suite</a></p>

<p>This is a different solution from any others so far. It loops over the input, slicing an summing the initial values, then removing the first element of the stored input, and repeat.</p>

<p>Explanation:</p>

<pre><code>ms&lt;~tQ
ms&lt;~tQdQ    Implicit variable introduction
            Implicit: Q = eval(input())
m      Q    Map d over the input, Q
  &lt;  Qd     Take the first d elements of Q
 s          Sum them
   ~tQ      Afterwards, set Q to the tail of Q, removing the first element.
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/jediguy13/Matricks" rel="nofollow noreferrer">Matricks</a>, 25 bytes</h1>
<p>Yay, finally a challenge I don't need new features for!</p>
<pre><code>md{z:l-g:c;+c;q:c;};:1:l;
</code></pre>
<p>Run with: <code>python matricks.py substring.txt [[&lt;input&gt;]] 0</code></p>
<p>Explanation:</p>
<pre><code>m                  :1:l;   #loop over entire input
                           #set each value to...
 d{               }        #the sum of...
   z:l-g:c:+c;q:c;         #the input cropped to
                           #the length of the value in the cell
</code></pre>
</div>
<div id="pu8" class="pu"><p><strong>C#, 94 bytes</strong></p>

<pre><code>Console.Write(String.Join(",",a.Select((v,i)=&gt;a.Skip(i).Take(v).Sum().ToString()).ToArray()));
</code></pre>

<p>Where a is an int[] that represents the input to be solved.</p>
</div>
<div id="pu9" class="pu"><h1>q (37 bytes)</h1>

<pre><code>{sum each(til[count x],'x)sublist\:x}
</code></pre>

<p>Example:</p>

<pre><code>q){sum each(til[count x],'x)sublist\:x}3 2 4 1 1 5 1 2
9 6 11 1 1 8 1 2
</code></pre>
</div>
<div id="pu10" class="pu"><h1>JavaScript (ES6), 45</h1>
<p><code>reduce</code> beaten again!</p>

<pre class="lang-js prettyprint-override"><code>a=&gt;a.map((v,i)=&gt;eval(a.slice(i,v+i).join`+`))
</code></pre>
<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>F=
a=&gt;a.map((v,i)=&gt;eval(a.slice(i,v+i).join`+`))

;[[3, 2, 4, 1, 1, 5, 1, 2],
  [1, 2, 3, 4, 5],
  [3, 3, 3, 3, 3, 3, 3, 3,],
  [5, 1, 2, 4, 1],
  [1]].forEach(t=&gt;console.log(t+' -&gt; '+F(t)))</code></pre>
</div>
</div>
</p>
</div>
<div id="pu11" class="pu"><h2>05AB1E, <s>11</s> 8 bytes</h2>
<pre><code>[D¬£Oˆ¦Ž
</code></pre>
<p><strong>Explanation</strong></p>
<pre><code>[         # infinite loop
 D        # duplicate current list
  ¬       # get head of list
   £      # get that many elements from list
    O     # sum
     ˆ    # add to global array
      ¦   # remove first element of list
       Ž  # break if stack is empty
          # implicitly push and print global array
</code></pre>
<p><a href="http://05ab1e.tryitonline.net/#code=W0TCrMKjT8uGwqbFvQ&amp;input=WzMsIDIsIDQsIDEsIDEsIDUsIDEsIDJd" rel="nofollow noreferrer">Try it online</a></p>
</div>
<div id="pu12" class="pu"><h1>PHP program, 72 Bytes</h1>
<pre><code>&lt;?foreach($a=$_GET[a]as$i=&gt;$v)echo array_sum(array_slice($a,$i,$v)),&quot;
&quot;;
</code></pre>
<p>call with <code>php-cgi -f &lt;filename&gt; 'a[]=3&amp;a[]=2&amp;a[]=4...</code></p>
<p>+11 as a function:</p>
<pre><code>function f($a){foreach($a as$i=&gt;$v)$r[]=array_sum(array_slice($a,$i,$v));return$r;}
</code></pre>
<p>+9 without builtins:</p>
<pre><code>function p($a){foreach($c=$r=$a as$i=&gt;$v)for($k=$i;$k--;)if(--$a[$k]&gt;0)$r[$k]+=$v;return$r;}
</code></pre>
<p>($c keeps the original values, $a counts down for each index, $r gets the sums)</p>
<p>-3 as program:</p>
<pre><code>&lt;?foreach($a=$r=$c=$_GET[a]as$i=&gt;$v)for($k=$i;$k--;)if(--$c[$k]&gt;0)$r[$k]+=$v;print_r($r);
</code></pre>
</div>
<div id="pu13" class="pu"><h1>VBA, 160 bytes</h1>

<pre><code>Function e(g())
Dim h()
k=LBound(g)
l=UBound(g)
ReDim h(k To l)
On Error Resume Next
For i=k To l
For j=i To i+g(i)-1
h(i)=h(i)+g(j)
Next
Next
e=h
End Function
</code></pre>
</div>
<div id="pu14" class="pu"><h2>Dyalog APL, 15 bytes</h2>

<pre><code>{+/¨⍵↑∘⌽¨⌽,\⌽⍵}
</code></pre>

<p>or</p>

<pre><code>{⌽+/¨(-↑¨,\)⌽⍵}
</code></pre>
</div>
<div id="pu15" class="pu"><h1><a href="https://github.com/JCumin/Brachylog" rel="nofollow noreferrer">Brachylog</a>, 27 bytes</h1>
<pre><code>.v|h~l(A:Tc?;A?)b:0&amp;~b.h~+A
</code></pre>
<p><a href="http://brachylog.tryitonline.net/#code=LnZ8aH5sKEE6VGM_O0E_KWI6MCZ-Yi5ofitB&amp;input=WzM6Mjo0OjE6MTo1OjE6Ml0&amp;args=Wg" rel="nofollow noreferrer">Try it online!</a> or <a href="http://brachylog.tryitonline.net/#code=Ons6MiZ3QE53fWEKLnZ8aH5sKEE6VGM_O0E_KWI6MiZ-Yi5ofitB&amp;input=W1szOjI6NDoxOjE6NToxOjJdOlsxOjI6Mzo0OjVdOlszOjM6MzozOjM6MzozOjNdOls1OjE6Mjo0OjFdOlsxXV0" rel="nofollow noreferrer">verify all test cases</a>.</p>
<h3>Explanation</h3>
<pre><code>  .v           Input = Output = []
|            Or
  h~l          A is a list, its length is the value of the first element of the Input
  (
    A:Tc?        The concatenation of A with another list T results in the Input
  ;            Or
    A?           A = Input
  )
  b:0&amp;         Call recursively on Input minus the first element
  ~b.          Output is the output of that call with an extra element at the beginning
  h~+A         That extra element is the sum of the elements of A
</code></pre>
</div>
<div id="pu16" class="pu"><h2>C#, 89 bytes</h2>

<pre><code>int[]s(List&lt;int&gt;a)=&gt;a.Select((n,i)=&gt;a.GetRange(i,Math.Min(n,a.Count-i)).Sum()).ToArray();
</code></pre>

<p><strong>pretty straight forward</strong></p>

<p>improvement ideas appreciated </p>
</div>
<div id="pu17" class="pu"><h2>Pyke, <s>12</s> 7 bytes</h2>
<pre><code>FKo&gt;i&lt;s
</code></pre>
<p><a href="http://pyke.catbus.co.uk/?code=FKo%3Ei%3Cs&amp;input=%5B3%2C+2%2C+4%2C+1%2C+1%2C+5%2C+1%2C+2%5D" rel="nofollow noreferrer">Try it here!</a></p>
<pre><code>        - o = 0
F       - for i in input:
  o     -    o+=1
   &gt;    -    input[o:]
    i&lt;  -   ^[:i]
      s -  sum(^)
</code></pre>
</div>
<div id="pu18" class="pu"><h1>JavaScript (ES6) - 79 Bytes</h1>
<p>A recursive solution that does not use any of the Array methods:</p>
<pre><code>f=([a,...t],n)=&gt;a&amp;&amp;n?a+f(t,n-1):0;g=([a,...t],r=[])=&gt;a?g(t,[...r,a+f(t,a-1)]):r
</code></pre>
<p>Testing:</p>
<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>f=([a,...t],n)=&gt;a&amp;&amp;n?a+f(t,n-1):0;
g=([a,...t],r=[])=&gt;a?g(t,[...r,a+f(t,a-1)]):r;

[
  [3, 2, 4, 1, 1, 5, 1, 2],
  [1, 2, 3, 4, 5],
  [3, 3, 3, 3, 3, 3, 3, 3,],
  [5, 1, 2, 4, 1],
  [1]
].forEach(a=&gt;console.log(''+g(a)));</code></pre>
</div>
</div>
</p>
</div>
<div id="pu19" class="pu"><h1>Mathematica <s>60</s> 55 bytes</h1>
<pre><code>Tr@Take[#,UpTo@#&amp;@@#]&amp;/@Drop[#,t-1]~Table~{t,Length@#}&amp;
</code></pre>
<p>eg</p>
<pre><code>f = %; f /@ {{1, 2, 3, 4, 5}, {3, 3, 3, 3, 3, 3, 3, 3}, {5, 1, 2, 4, 1}, {1}}

(*    {{1, 5, 12, 9, 5}, {9, 9, 9, 9, 9, 9, 6, 3}, {13, 1, 6, 5, 1}, {1}}    *)
</code></pre>
<p>Thanks @MartinEnder for shaving off 5 bytes :)</p>
</div>
<div id="pu20" class="pu"><h2><a href="https://github.com/m-ender/retina" rel="nofollow">Retina</a>, 38 bytes</h2>

<p>Byte count assumes ISO 8859-1 encoding.</p>

<pre><code>\d+
$*
M!&amp;`\b1(1)*(?&lt;-1&gt;,1+)*
M%`1
¶
,
</code></pre>

<p>Input and output are comma-separated lists.</p>

<p><a href="http://retina.tryitonline.net/#code=JShHYApcZCsKJCoKTSEmYFxiMSgxKSooPzwtMT4sMSspKgpNJWAxCsK2Ciw&amp;input=MSwyLDMsNCw1CjMsMiw0LDEsMSw1LDEsMgozLDMsMywzLDMsMywzLDMKNSwxLDIsNCwxCjE" rel="nofollow">Try it online!</a> (The first line enables a linefeed-separated test suite.)</p>
</div>
<div id="pu21" class="pu"><h1>Erlang, 69 bytes</h1>
<pre><code>f(A)-&gt;put(1,1),L=lists,[L:sum(L:sublist(A,put(1,get(1)+1),X))||X&lt;-A].
</code></pre>
<p>Erlang's higher-order functions for lists do not receive the index of the current element. This uses the process dictionary to set the index of the current element.</p>
</div>
<div id="pu22" class="pu"><h2>F#, <s>84</s> 82 bytes</h2>

<pre><code>let f(A:int[])=[for i in 0..A.Length-1-&gt;Seq.skip i A|&gt;Seq.truncate A.[i]|&gt;Seq.sum]
</code></pre>
</div>
<div id="pu23" class="pu"><h1>J, 11 bytes</h1>

<pre><code>+/@{."_1]\.
</code></pre>

<h3>Usage</h3>

<pre><code>   f =: +/@{."_1]\.
   f 3 2 4 1 1 5 1 2
9 6 11 1 1 8 1 2
   f 1 2 3 4 5
1 5 12 9 5
</code></pre>

<h3>Explanation</h3>

<pre><code>+/@{."_1]\.  Input: A
        ]\.  Get each suffix of A from longest to shortest
   {."_1     For each value in A, take that many values from its corresponding suffix
+/@          Sum that group of values taken from that suffix
             Return the sums
</code></pre>
</div>
<div id="pu24" class="pu"><h1>Julia, 39 bytes</h1>



<pre class="lang-julia prettyprint-override"><code>!x=x!=[]?[take(x,x[])|&gt;sum;!x[2:end]]:x
</code></pre>

<p><a href="http://julia.tryitonline.net/#code=IXg9eCE9W10_W3Rha2UoeCx4W10pfD5zdW07IXhbMjplbmRdXTp4Cgpmb3IgeCBpbiAoWzMsMiw0LDEsMSw1LDEsMl0sIFsxLDIsMyw0LDVdLCBbMywzLDMsMywzLDMsMywzXSwgWzUsMSwyLDQsMV0sIFsxXSkKICAgIEBwcmludGYoIiUtMTdzIC0-ICVzXG4iLCB4LCAheCkKZW5k&amp;input=" rel="nofollow">Try it online!</a></p>
</div>
<div id="pu25" class="pu"><h1><a href="http://github.com/DennisMitchell/jelly">Jelly</a>, 6 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page">bytes</a></h1>

<pre><code>ṫJḣ"ḅ1
</code></pre>

<p><a href="http://jelly.tryitonline.net/#code=4bmrSuG4oyLhuIUx&amp;input=&amp;args=WzMsIDIsIDQsIDEsIDEsIDUsIDEsIDJd">Try it online!</a> or <a href="http://jelly.tryitonline.net/#code=4bmrSuG4oyLhuIUxCsOH4oKsRw&amp;input=&amp;args=WzEsIDIsIDMsIDQsIDVdLCBbMywgMywgMywgMywgMywgMywgMywgM10sIFs1LCAxLCAyLCA0LCAxXSwgWzFd">verify all test cases</a>.</p>

<h3>How it works</h3>

<pre><code>ṫJḣ"ḅ1  Main link. Argument: A (array)

 J      Index; yield the 1-based indices of A.
ṫ       Tail; map k to the postfix of A that begins with the k-th element.
  ḣ"    Vectorized head; for each k in A, truncate the corr. postfix to length k.
    ḅ1  Convert the resulting slices from base 1 to integer.
</code></pre>
</div>
<div id="pu26" class="pu"><h1>Excel, 21 bytes</h1>

<p><code>=SUM(OFFSET(A1,,,A1))</code></p>

<p>Open a new spreadsheet, put the test values in column A. Enter the formula in B1 and double click the cell handle to ride the range.</p>
</div>
<div id="pu27" class="pu"><h1>JavaScript ES6, 50 bytes</h1>

<pre class="lang-js prettyprint-override"><code>a=&gt;a.map((e,i)=&gt;a.slice(i,i+e).reduce((a,b)=&gt;a+b))
</code></pre>

<p>Pretty self-explanatory. It <code>map</code>s over each element in the array, getting the <code>slice</code> from that <code>i</code>ndex through the index plus that <code>e</code>lement's value, and <code>reduce</code>ing by adding.</p>

<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="true">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>f=
  a=&gt;a.map((e,i)=&gt;a.slice(i,i+e).reduce((a,b)=&gt;a+b))

;[
  [3, 2, 4, 1, 1, 5, 1, 2],
  [1, 2, 3, 4, 5],
  [3, 3, 3, 3, 3, 3, 3, 3,],
  [5, 1, 2, 4, 1],
  [1]
].forEach(function(test){
  document.getElementById('p').textContent += test + ' =&gt; ' + f(test) + '\n';
});</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;pre id="p"&gt;&lt;/pre&gt;</code></pre>
</div>
</div>
</p>
</div>
<div id="pu28" class="pu"><h1><a href="https://github.com/isaacg1/pyth" rel="nofollow noreferrer">Pyth</a>, 8 bytes</h1>

<pre><code>.es:Qk+b
</code></pre>

<p><a href="http://pyth.herokuapp.com/?code=.es%3AQk%2Bb&amp;test_suite=1&amp;test_suite_input=%5B1%2C2%2C3%2C4%2C5%5D%0A%5B3%2C3%2C3%2C3%2C3%2C3%2C3%2C3%5D%0A%5B5%2C1%2C2%2C4%2C1%5D%0A%5B1%5D&amp;debug=0" rel="nofollow noreferrer">Test suite.</a></p>

<p>Translation of <a href="https://codegolf.stackexchange.com/a/86230/48934">El's answer in Python</a>.</p>
</div>
<div id="pu29" class="pu"><h1>Python, 40 bytes</h1>



<pre class="lang-python prettyprint-override"><code>f=lambda x:x and[sum(x[:x[0]])]+f(x[1:])
</code></pre>

<p>Test it on <a href="http://ideone.com/cw3R0H">Ideone</a>.</p>
</div>
<div id="pu30" class="pu"><h2>Python 3, 47 bytes</h2>
<pre><code>lambda X:[sum(X[i:i+k])for i,k in enumerate(X)]
</code></pre>
<p>Pretty straightforward implementation. Python's default behavior for slices that go past the end of the list was <em>very</em> convenient here.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/86229/">86229</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




