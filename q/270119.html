<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::270119</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>018</td><td>APLDyalog Unicode</td><td>240217T185113Z</td><td><a href="https://codegolf.stackexchange.com/questions/270119/enumerate-the-phat-fingered-lights-out-numbers/270124#270124">Mukundan</a></td></tr>
<tr d-ix="1"><td>052</td><td>JavaScript V8</td><td>240217T170413Z</td><td><a href="https://codegolf.stackexchange.com/questions/270119/enumerate-the-phat-fingered-lights-out-numbers/270120#270120">Arnauld</a></td></tr>
<tr d-ix="2"><td>006</td><td>Jelly</td><td>240217T183002Z</td><td><a href="https://codegolf.stackexchange.com/questions/270119/enumerate-the-phat-fingered-lights-out-numbers/270122#270122">Jonathan</a></td></tr>
<tr d-ix="3"><td>023</td><td>Charcoal</td><td>240217T184741Z</td><td><a href="https://codegolf.stackexchange.com/questions/270119/enumerate-the-phat-fingered-lights-out-numbers/270123#270123">Neil</a></td></tr>
<tr d-ix="4"><td>019</td><td>Uiua 0.9.0</td><td>240217T170541Z</td><td><a href="https://codegolf.stackexchange.com/questions/270119/enumerate-the-phat-fingered-lights-out-numbers/270121#270121">Tbw</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://dyalog.com" rel="nofollow noreferrer">APL(Dyalog Unicode)</a>, <sup><s></s></sup>18 bytes <sup><a href="https://github.com/abrudz/SBCS" rel="nofollow noreferrer">SBCS</a></sup></h1>
<p>Requires Index Origin 0 (<code>⎕­⁡​‎‎⁪⁡⁪⁠⁪⁤⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁢⁪‏‏​⁡⁠⁡‌⁢​‎‎⁪⁡⁪⁠⁪⁤⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁣⁪‏‏​⁡⁠⁡‌⁣​‎‎⁪⁡⁪⁠⁪⁤⁡⁪‏‏​⁡⁠⁡‌⁤​‎‎⁪⁡⁪⁠⁪⁢⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁤⁪‏‏​⁡⁠⁡‌⁢⁡​‎‎⁪⁡⁪⁠⁪⁢⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁣⁪‏⁠⁪⁪‏​⁡⁠⁡‌⁢⁢​‎⁪⁪⁠‎⁪⁡⁪⁠⁪⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁪‏‏​⁡⁠⁡‌⁢⁣​‎‎⁪⁡⁪⁠⁪⁣⁪‏‏​⁡⁠⁡‌⁢⁤​‎‎⁪⁡⁪⁠⁪⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁪‏‏​⁡⁠⁡‌­IO←0</code>)</p>
<pre><code>A↑⍸0=-⌿2⊥⍣¯1⍳×⍨A←⎕
</code></pre>
<p><a href="https://razetime.github.io/APLgolf/?h=e9Q31dP/UdsEAwA&amp;c=ASYA2f9B4oaR4o24MD0t4oy/MuKKpeKNo8KvMeKNs8OX4o2oQeKGkOKOlQ&amp;f=AwA&amp;i=S@MyNDAAAA&amp;r=tio&amp;l=apl-dyalog&amp;m=tradfn&amp;n=f" rel="nofollow noreferrer">Try it on APLgolf!</a></p>
<p>A full program which outputs the first <code>n</code> phat-fingered-lights-out numbers.</p>
<pre><code>A↑⍸0=-⌿2⊥⍣¯1⍳×⍨A←⎕­⁡​‎‎⁪⁡⁪⁠⁪⁤⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁢⁪‏‏​⁡⁠⁡‌⁢​‎‎⁪⁡⁪⁠⁪⁤⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁣⁪‏‏​⁡⁠⁡‌⁣​‎‎⁪⁡⁪⁠⁪⁤⁡⁪‏‏​⁡⁠⁡‌⁤​‎‎⁪⁡⁪⁠⁪⁢⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁤⁪‏‏​⁡⁠⁡‌⁢⁡​‎‎⁪⁡⁪⁠⁪⁢⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁣⁪‏⁠⁪⁪‏​⁡⁠⁡‌⁢⁢​‎⁪⁪⁠‎⁪⁡⁪⁠⁪⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁪‏‏​⁡⁠⁡‌⁢⁣​‎‎⁪⁡⁪⁠⁪⁣⁪‏‏​⁡⁠⁡‌⁢⁤​‎‎⁪⁡⁪⁠⁪⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁪‏‏​⁡⁠⁡‌­
               A←⎕  # ‎⁡A = input
             ×⍨     # ‎⁢square
            ⍳       # range [0, 1, ..., arg - 1]
       2⊥⍣¯1        # ‎⁤to base 2
     -⌿             # ‎⁢⁡alternating difference
   0=               # ‎⁢⁢equals zero
  ⍸                 # ‎⁢⁣indices of true
A↑                  # ‎⁢⁤take first A elements
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://v8.dev/" rel="nofollow noreferrer">JavaScript (V8)</a>, 52 bytes</h1>
<p>A full program that prints the sequence indefinitely.</p>

<pre class="lang-javascript prettyprint-override"><code>for(n=-1;;)(f=n=&gt;n&amp;&amp;~(n&amp;3)%3-~f(n/4))(++n)||print(n)
</code></pre>
<p><a href="https://tio.run/##y0osSyxOLsosKNEts/j/Py2/SCPPVtfQ2lpTI802z9YuT02tTiNPzVhT1Vi3Lk0jT99EU1NDWztPs6amoCgzr0QjT/P/fwA" rel="nofollow noreferrer" title="JavaScript (V8) – Try It Online">Try it online!</a></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 6 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>Bḅ-¬µ#
</code></pre>
<p>A full program that accepts a positive integer, <code>n</code>, on stdin and prints the first <code>n</code> phat-fingered-lights-out numbers.</p>
<p><strong><a href="https://tio.run/##y0rNyan8/9/p4Y5W3UNrDm1V/v/f0MDAAAA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>
<h3>How?</h3>
<p>Every phat-flip applies to an adjacent pair of bits, so if the number of odd-positioned ons is equal to the number of even-position ons then after flipping as many on-pairs as possible we can bring any remaining separated ons together by flipping pairs of offs and then flip remaining pairs of ons out of existence. A binary number with this property, is zero when converted from base <span class="math-container">\$-1\$</span> since, counting from the least significant bit as position <span class="math-container">\$1\$</span>, odd-position ons contribute <span class="math-container">\$1\$</span> while even-position ons contribute <span class="math-container">\$-1\$</span> (and all offs contribute <span class="math-container">\$0\$</span>).</p>
<pre><code>Bḅ-¬µ# - Main Link: no arguments
    µ# - count up from k=0, and yield the first {stdin} integers for which:
B      -   convert to binary
 ḅ-    -   convert from base -1
   ¬   -   logical NOT
       - implicit print
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 23 bytes</h1>
<pre><code>ＮθＷ‹Ｌυθ«Ｆ¬↨↨ⅈ²±¹⊞υⅈ→»Ｉυ
</code></pre>
<p><a href="https://tio.run/##JYwxC8IwFITn5ldkfIEKVZzsppOgoTi5xvJMAmljk5c6iL89PvDgPjiOu9GZNEYTaj3Pr0K6TA9MsKhevJ0PKOGCOTNmSw6KauWilPyI5hmTBB0JjibjH3fgesfWaA0hbBVLDiXzsJXc8mlzjSvC4eatI45fMSQ/E5xMJn5Xfa37rqubNfwA" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Outputs the first <code>n</code> terms. Explanation: Uses @Tbw's theorem.</p>
<pre><code>Ｎθ
</code></pre>
<p>Input <code>n</code>.</p>
<pre><code>Ｗ‹Ｌυθ«
</code></pre>
<p>Repeat until <code>n</code> terms have been collected.</p>
<pre><code>Ｆ¬↨↨ⅈ²±¹⊞υⅈ
</code></pre>
<p>If the current position converted to base <code>2</code> and then interpreted as base <code>-1</code> results in zero then save it to the list of terms.</p>
<pre><code>→
</code></pre>
<p>Increment the current position.</p>
<pre><code>»Ｉυ
</code></pre>
<p>Output all of the found terms.</p>
<p>Outputting all of the pflons less than <code>n</code> would of course be much shorter:</p>
<pre><code>ＩΦＮ¬↨↨ι²±¹
</code></pre>
<p><a href="https://tio.run/##S85ILErOT8z5/z@gKDOvRMM5sbhEwy0zpyS1SMMzr6C0xK80NwnI1tRR8Msv0XBKLE6FEJk6CkYgwdT0xJJUDUNNMLD@/9/Q1MDgv25ZDgA" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>  Ｎ         Input `n` as a number
 Φ          Filter over implicit range where
      ι     Current value
     ↨      Converted to base
       ²    Literal integer `2`
    ↨       Interpreted as base
         ¹  Literal integer `1`
        ±   Negated
   ¬        Is zero
Ｉ           Cast to string
            Implicitly print
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.uiua.org/" rel="nofollow noreferrer">Uiua 0.9.0</a>, 19 bytes <sup><a href="http://tinyurl.com/Uiua-SBCS-Jan-14" rel="nofollow noreferrer" title="SBCS for Uiua 0.8.0">SBCS</a></sup></h1>
<pre><code>⍥(+1(&amp;p.|)≠0/-⋯.)∞0
</code></pre>
<p><a href="https://uiua.org/pad?src=0_9_0__4o2lKCsxKCZwLnwp4omgMC8t4ouvLiniiJ4wCg==" rel="nofollow noreferrer">Try on Uiua Pad!</a>
Takes no input and outputs the sequence (change the <code>∞</code> to some small number like <code>10 </code> if you want to see the beginning)</p>
<h2>Explanation</h2>
<pre><code>0 # push 0 to stack
⍥(       # repeat
  ⋯.     # to binary
  /-     # alternating difference
  ≠0     # not zero?
  (&amp;p.|) # else print number
  +1     # add 1
)∞       # infinitely many times
</code></pre>
<h2>Theorem</h2>
<p><span class="math-container">\$n\$</span> is a pflon if and only if in the binary representation of <span class="math-container">\$n\$</span>, the number of 1s in even positions of is equal to the number of 1s in odd positions.</p>
<h3>Proof</h3>
<p>(<span class="math-container">\$\implies\$</span>) Every phatflip clearly maintains whether the odd-even condition holds, as it either adds a 1 to both counts or removes a 1 from both counts. The condition holds for 0. Since any pflon can be obtained from phatflips starting at 0 (just reversing the sequence to get lights out), the condition holds for every pflon.</p>
<p>(<span class="math-container">\$\impliedby\$</span>) We prove by strong induction on <span class="math-container">\$n\$</span>. The base case 0 is trivial.</p>
<p>Let <span class="math-container">\$n&gt;0\$</span>. Suppose all integers <span class="math-container">\$k\$</span> with <span class="math-container">\$0 \leq k &lt; n\$</span> for which the binary condition holds are pflons. Then suppose the binary condition holds for <span class="math-container">\$n\$</span>.</p>
<p><span class="math-container">\$n\$</span> must have at least a 1 in both even and odd position, so it must have a 1 in even position and a 1 in odd position separated by zero or more 0s. Since their positions have opposite parity, there must be an even number of 0s between them. So, we can flip all those 0s into 1s, then flip all those and the two 1s back into zeros. All these flips maintain the binary condition, as shown above, and the result <span class="math-container">\$k\$</span> is less than <span class="math-container">\$n\$</span> as we just switched two 1s to 0s. Therefore, <span class="math-container">\$k\$</span> is a pflon, and is accessible from <span class="math-container">\$n\$</span> by phatflips, so <span class="math-container">\$n\$</span> is a pflon.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/270119/">270119</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




