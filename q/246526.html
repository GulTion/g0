<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::246526</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>144</td><td>Mathematica</td><td>230906T031921Z</td><td><a href="https://codegolf.stackexchange.com/questions/246526/is-this-polynomial-a-square/264961#264961">138 Aspe</a></td></tr>
<tr d-ix="1"><td>055</td><td>Wolfram Language Mathematica</td><td>220613T092043Z</td><td><a href="https://codegolf.stackexchange.com/questions/246526/is-this-polynomial-a-square/248566#248566">JSorngar</a></td></tr>
<tr d-ix="2"><td>032</td><td>Vyxal</td><td>220613T053435Z</td><td><a href="https://codegolf.stackexchange.com/questions/246526/is-this-polynomial-a-square/248542#248542">cjquines</a></td></tr>
<tr d-ix="3"><td>008</td><td>PARI/GP</td><td>220427T032642Z</td><td><a href="https://codegolf.stackexchange.com/questions/246526/is-this-polynomial-a-square/246625#246625">alephalp</a></td></tr>
<tr d-ix="4"><td>102</td><td>JavaScript Node.js</td><td>220425T063432Z</td><td><a href="https://codegolf.stackexchange.com/questions/246526/is-this-polynomial-a-square/246533#246533">tsh</a></td></tr>
<tr d-ix="5"><td>026</td><td>Jelly</td><td>220427T010253Z</td><td><a href="https://codegolf.stackexchange.com/questions/246526/is-this-polynomial-a-square/246623#246623">Jonathan</a></td></tr>
<tr d-ix="6"><td>056</td><td>Charcoal</td><td>220425T100228Z</td><td><a href="https://codegolf.stackexchange.com/questions/246526/is-this-polynomial-a-square/246539#246539">Neil</a></td></tr>
<tr d-ix="7"><td>103</td><td>Python NumPy</td><td>220425T123505Z</td><td><a href="https://codegolf.stackexchange.com/questions/246526/is-this-polynomial-a-square/246544#246544">loopy wa</a></td></tr>
<tr d-ix="8"><td>122</td><td>Ruby</td><td>220425T114622Z</td><td><a href="https://codegolf.stackexchange.com/questions/246526/is-this-polynomial-a-square/246543#246543">G B</a></td></tr>
<tr d-ix="9"><td>289</td><td>Python3</td><td>220425T032240Z</td><td><a href="https://codegolf.stackexchange.com/questions/246526/is-this-polynomial-a-square/246529#246529">Ajax1234</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Mathematica</a>, 144 bytes</h1>
<p>Based on Factorization of polynomials.</p>
<p>The critical function used here is <code>FactorList[expr, GaussianIntegers -&gt; False]</code></p>
<hr />
<p>Golfed version(It can be golfed much more). <a href="https://tio.run/##fZFfS8MwFMXf9yliB3uQFJusU7tamTg7BgpO9xaCxpluha7VNJVK2b56TdLWPyiWEE5@nHtzbrplcsO3TMYrVl8mnAlizZLsiSWPhxb164iUD3Qc3GTPRcJJxXZwHpF5Kvmai8WkhHdcFiIlB/evBRM8FJwrSqnPgpCtZCau41ySEs5YkecxS9vK3D53qK86MUIQRJSeYcgCtp@K7GWPqH@RJEtRcMLg1RtPF6RPCKaUDiitpSjk5h0EIBTZdhqvY5mTPgQlBQNwNAFVtYOgwiO9IwgwBOibhMCBoAf057TYNcw@VUoTdcRKD08Uc1WJ10LtcY1b1di469I1t5FCx9qE9I5dIz0N3d3O70Usyf8LbZtG2P2Ki1CDzJ24gc2d3SStcWjWZxDlHjUJnb@i/07uqXpjGbXC091U5lsRp5JYy@bBJc9lPrYgiHTi5i/QzhOa8X5azMi0/gA" rel="nofollow noreferrer">Try it online!</a></p>
<pre><code>f[x_]:=Module[{a},If[IntegerQ@x,Return[!SquareFreeQ@x]];a=FactorList[x,GaussianIntegers-&gt;0];If[a[[1,1]]&lt;2,a=a~Drop~1];AllTrue[a,EvenQ[#[[2]]]&amp;]]
</code></pre>
<p>Ungolfed version. <a href="https://tio.run/##dVHRaoMwFH3vV4QWZIOITRrbOREy2ITBHlbYW/EhdNoK04LejQ0R@rhv6P5u/RB7E7XzYQ0h3Jx77rnnJpmCbZwpSNeqSYLmLn@V8uEjzpeOvFJBqNawK57SEuTk@rg/cN@n/Lj/sazHHOJNXCzl7/dBYYZRpvEGinfYfpGAjEhY7LL7dJNCuZpQ8hkRiziSVFVNScVdfTJKOCVsEFIyxd0BgqIKLoTsG7xqGDGO8WyBmMAKrwM1R5gSLLQHqjbjncxcc5g@uTChh5m5qGt/lKi3Upu@ZNk2alz8yTLWQqYlb0HTpR@j483MPptBstv6m/5nvLd65ntYbhhuF3haDB0/F2kOq/FL@9wQl1DejmniyPYDop4QmskGeTNq1JwA" rel="nofollow noreferrer">Try it online!</a></p>
<pre><code>Clear[&quot;Global`*&quot;];
f[expr_] := Module[{fl},
  If[IntegerQ@expr, Return[Not@SquareFreeQ[expr]]]; 
  fl = FactorList[expr, GaussianIntegers -&gt; False];
  If[fl[[1, 1]] == 1, fl = Drop[fl, 1]];
  AllTrue[fl, EvenQ[#[[2]]] &amp;]]
truthy = FromDigits[#, x] &amp; /@ {{}, {25}, {1, 2, 1}, {1, 2, 1, 0, 
     0}, {1, 4, 0, -8, 4}, {4, 28, 37, -42, 9}, {4, 0, -4, 4, 1, -2, 
     1}, {1, -12, 60, -160, 240, -192, 64}};
falsy = FromDigits[#, x] &amp; /@ {{-1}, {24, 1}, {1, 111}, {2, 4, 2}, {1,
      2, 1, 0}, {1, 3, 3, 1}, {1, -4, 5, -2, 0}, {4, 0, -4, 4, 1, 2, 
     1}, {1, -9, 30, -45, 30, -9, 1}};
Print[&quot;Truthy tests:&quot;, f /@ truthy]
Print[&quot;Falsy tests:&quot;, f /@ falsy]
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.wolfram.com/language/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, <s>58 68 64</s> 55 bytes</h1>
<p>thanks @Steffan for the byte correction, and the suggestions<br />
thanks @alephalpha</p>
<pre><code>Tr[Last/@Mod[a=FactorList@#,2]]&lt;2&amp;&amp;EvenQ[2√a[[1,1]]]&amp;
</code></pre>
<p>This code factorizes the input polynomial and checks if the exponent of all factors is even and if the square root of the integer factor is an integer.</p>
<p><a href="https://tio.run/##dVHRaoMwFH3vV4QWZIOITRrbOREy2ITBHlbYW/EhdNoK04LejQ0R@rhv6P5u/RB7E7XzYQ0h3Jx77rnnJpmCbZwpSNeqSYLmLn@V8uEjzpeOvFJBqNawK57SEuTk@rg/cN@n/Lj/sazHHOJNXCzl7/dBYYZRpvEGinfYfpGAjEhY7LL7dJNCuZpQ8hkRiziSVFVNScVdfTJKOCVsEFIyxd0BgqIKLoTsG7xqGDGO8WyBmMAKrwM1R5gSLLQHqjbjncxcc5g@uTChh5m5qGt/lKi3Upu@ZNk2alz8yTLWQqYlb0HTpR@j483MPptBstv6m/5nvLd65ntYbhhuF3haDB0/F2kOq/FL@9wQl1DejmniyPYDop4QmskGeTNq1JwA" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, <s>33</s> 32 bytes</h1>
<pre><code>h√d£0¾ȦλȮḂÞ•-¥/J;RI÷?₂J†^¥J:⌊=JA
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/#WyIiLCIiLCJo4oiaZMKjMOKfqOKfqcimzrvIruG4gsOe4oCiLcKlL0o7UknDtz/igoJK4oCgXsKlSjrijIo9SkEiLCIiLCJbNCwwLC00LDQsMSwyLDFdIl0=" rel="nofollow noreferrer">Try it Online!</a></p>
<p>–1 per <a href="https://codegolf.stackexchange.com/users/100664/emanresu-a">emanresu A</a>.</p>
<h2>How?</h2>
<p>We find the square root of the polynomial <a href="https://math.stackexchange.com/a/920756/680415">using its power series</a>, checking if the result has several integers followed by zeroes, plus additional checks.</p>
<pre><code>           #                   stack (top -&gt;)
h          # head              p0
 √         # square root       sqrt(p0)
  d        # double            2sqrt(p0)
   £       # set register    = 2k

0¾Ȧ        # top[0] = []       [[],p1,…,p(2n)]

λ          # λ(acc,cur)        acc cur
           #                 = [a1,…,an] p(n+1)
 Ȯ         # over              [a1,…,an] p(n+1) [a1,…,an]
  Ḃ        # dup and reverse   [a1,…,an] p(n+1) [a1,…,an] [an,…,a1]
   Þ•      # dot product       [a1,…,an] p(n+1) a1an+…+ana1
     -     # subtract          [a1,…,an] p(n+1)-a1an-…-ana1
      ¥    # push register     [a1,…,an] p(n+1)-a1an-…-ana1 2k
       /   # divide            [a1,…,an] (p(n+1)-a1an-…-ana1)/2k
           #                 = [a1,…,an] a(n+1)
        J; # join              [a1,…,an,a(n+1)]

R          # reduce            [a1,…,a(2n)]
 I         # halve             [[a1,…,an],[a(n+1),…,a(2n)]]
  ÷        # split to stack    [a1,…,an] [a(n+1),…,a(2n)]
   ?       # push input        [a1,…,an] [a(n+1),…,a(2n)] [p0,…,p(2n)]
    ₂      # length even?      [a1,…,an] [a(n+1),…,a(2n)] 0
     J     # join              [a1,…,an] [a(n+1),…,a(2n),0]
      †    # vectorized not    [a1,…,an] [1,…,1]
           # [if perfect square, then a(n+1) = … = a(2n) = 0,
           # and the length of input, 2n+1, would be odd]

^          # flip stack        [1,…,1] [a1,…,an]
 ¥         # push register     [1,…,1] [a1,…,an] 2k
  J        # join              [1,…,1] [a1,…,an,2k]
   :       # dup               [1,…,1] [a1,…,an,2k] [a1,…,an,2k]
    ⌊      # floor             [1,…,1] [a1,…,an,2k] [a1,…,an,2k]
     =     # equal?            [1,…,1] [1,…,1]
           # [if perfect square, then a0 = 2k, … , an would
           # all be integers]

J          # join              [1,…,1]
 A         # all truthy?       1
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://pari.math.u-bordeaux.fr" rel="nofollow noreferrer">PARI/GP</a>, 8 bytes</h1>
<pre><code>issquare</code></pre>
<p><a href="https://ato.pxeger.com/run?1=XVBLCsIwEKU3CV01MIFmmmqz0DO4L0WysFIomv4WnsVNQUTP5GmcNLWKBN689zIzD-b6sKat9kc73kq2uQ99KbJn1XXNYNqDl68gMNbWl8gwsWW2rU59tDvXkeEsdE7IyllzDizPCwJMHUpAkAuBGGIvFFGRgXJKAWaQrEEoBO0N-lTUI0Es40IirMiXBKgc0WRMC8TcIuVEkCbxJ9PThN5nlYLUbY7_wr5ZGhLnplPRZBfcX2IcfX0D" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>A boring built-in. Return <code>1</code> for truthy and <code>0</code> for falsy.</p>
<hr />
<h1><a href="https://pari.math.u-bordeaux.fr" rel="nofollow noreferrer">PARI/GP</a>, 68 bytes</h1>
<pre><code>p-&gt;p&amp;&amp;for(i=!r=(abs(Vec(p)[1])^.5\/1)*x^d=#p\2,d,r+=(q=p-r^2)\r/2)+q</code></pre>
<p><a href="https://ato.pxeger.com/run?1=XVDLTsMwEFT_xBSpsumaxhsHkoN74gM4cckDBUpQpIpuTZHgW7hEQohvgq9hHZeCkKXZmfHurLSvH9T6_vqehrdOuPenXafzzwvSS5rNuo2XvTvyTrY3j_Lq7laSKk2tmtOsWhh18tys3DFVCCvwcye3jrRvUFV-gWq-jVlfk0lLtH6RrdBLQb5_2MnLzVq2SkyDMxXdXisFoixrBswCGkAwBwIJJFFYpjoHG5QFzCE9B20Rimjwp-UeA_owrg3CGfuGAW0gBRtjgN63GDMS5En8szPSlN9PlIUsJCf_lv3uKiANbjaWgu1axUsMQ6zf" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Return <code>0</code> for truthy and <code>1</code> for falsy.</p>
<p>Basically a port of <a href="https://codegolf.stackexchange.com/a/246533/9288">@tsh's JavaScript answer</a>. Interestingly, the loop body <code>r+=(p-r^2)\r/2</code> looks very similar to the formula of calculating the square root of a real number using Newton's method.</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 102 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>a=&gt;a.some(n=&gt;(b[j=i]=b.map(m=&gt;n-=m*~~b[j--])|b[0]?n/2/b[0]:n**.5)%(1/a[i+i++]?1:1/0)!=0,b=[],i=0)|1&amp;~i
</code></pre>
<p><a href="https://tio.run/##VVDLTsMwELznK8wBaqdrx3YTIK2cnrhwgAPHEKlOScFV81ASRZUo/fVgRxSEVtqdnZmdw@71oLtta5qeVvVbMe7UqFWiWVeXBa5UgvN0r0ymclbqBpcqqagq/fPZ0pRm5JSnPFtXgQwcWFa@zyJyjUWgUzM383m2FksRcHKlOOQqzcAoTk7i5mzGHim08eyVl8rINgESxGUCByeEIO9hcQc0lBBPO7cYQmugFzcVEm4tLWyToQOxJUKrUWeQ1i3/Yie0sPVzHELkovj/8N/sGBaOjKYRO3bD@taUmLCuOZgez16rGZl@c0QqQY8vz0@s0W1X4CMhK69nu7p90NsPPDj500NoW1ddfSjYoX7HOzwQQIM1fpHV@A0" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>Input a list of coefficients, in descending order. The list should either contain only a zero or the first value in the list should be non-zero.</p>
<p>I <em>believe</em> it is correct. But I cannot <em>prove</em> it with my math knowledge. It at least passed all testcases.</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 26 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>Ærm2ÆṛJ}¹?×AṪ½Ɗ×þ`ŒdṙLƊṚ§⁼
</code></pre>
<p>A monadic Link that accepts a non-empty list of coefficients ordered by degree* and yields <code>1</code> if the input represents the square of an integer polynomial, or <code>0</code> if not.</p>
<p>* i.e. the reverse order to the examples in the question, and <span class="math-container">\$0\$</span> being <code>[0]</code> rather than <code>[]</code></p>
<p><strong><a href="https://tio.run/##AUoAtf9qZWxsef//w4ZybTLDhuG5m0p9wrk/w5dB4bmqwr3GisOXw75gxZJk4bmZTMaK4bmawqfigbz///9bMSwtMiwxLDQsLTQsMCw0XQ" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>
<h3>How?</h3>
<p>Same approach as loopy walt's <a href="https://codegolf.stackexchange.com/a/246544/53748">Python answer</a>:</p>
<ul>
<li>get the polynomial with every other root of the polynomial defined by the input</li>
<li>rescale using the square root of the coefficient of the highest degree in the input</li>
<li>get the coefficients of the square of that polynomial</li>
<li>check if that is equal to the input</li>
</ul>
<p>Just a little fiddly when the input defines a constant since we find no roots whereupon finding coefficients would error (this is why <code>J}¹?</code> is there).</p>
<pre><code>Ærm2ÆṛJ}¹?×AṪ½Ɗ×þ`ŒdṙLƊṚ§⁼ - Link: list of coefficients, C
Ær                         - get the roots of the polynomial P defined by C
  m2                       - modulo-2 slice
         ?                 - if...
        ¹                  - ...condition: no-op (falsey if P is just a constant)
    Æṛ                     - ...then: get polynomial coefficients
       }                   - ...else: use the right argument (implicitly C) with:
      J                    -            range of length (in this case that's [1])
                             (call this list NewCoefficients)
              Ɗ            - last three links as a monad - f(C):
           A               -   absolute values
            Ṫ              -   tail (absolute of coefficient of highest degree)
             ½             -   square root
          ×                - (NewCoefficients) multiplied by (that)
                 `         - use as both arguments of:
                þ          -   table of:
               ×           -     multiplication
                      Ɗ    - last three links as a monad - f(X=that)
                  Œd       -   anti-diagonals of X (starts with main, sweeps South-East)
                                 (has the effect of grouping product coefficients by degree)
                     L     -   length of X
                    ṙ      -   rotate (the anti-diagonals) left by (length of X)
                                 (ensures that the groups are sorted by degree descending)
                       Ṛ   - reverse
                        §  - sums (sum each group of like-degree product coefficients)
                         ⁼ - equals C?
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 56 bytes</h1>
<pre><code>﹪Ｌθ²Ｆ⟦§θ⁰↨θΠ⊗⊕↔θ⟧«≔×⁰↨ι⁴ζＦＬζ«§≔ζκ¹§≔ζκ¬‹ιＸ↨²ζ²»¿⁻ιＸ↨²ζ²⎚
</code></pre>
<p><a href="https://tio.run/##fU89a8MwEJ3tX3HjCRSwjSmETm67BJLgIZvx4NhKIqpIRJLb4JLfrpyMu5XeoHvo3sddf@lsbzoVQm2l9rgzw6gMboU@@wveGIeCsdf0ZCxgU/mNHsQdbxwymrx1TkRcWxL1Hj/MeFRiwI3urbgK7QlXR2fU6InHYrUMftKkck6eNR7kVTjMFiPJoWTkOlFcMuctS0xsFi2q3x0mDp8c8kj@c7I3ngyci761@RYW55QiBsxHxbOSR5rIE@BO6vEfJrwr0VkkwSOEpsn5Ki/4S0aNnqKMYE0fZduG1Zd6Ag" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Does not support empty lists (use <code>[0]</code> instead). Outputs a Charcoal boolean, i.e. <code>-</code> if it thinks the polynomial is a square, nothing if not. Explanation: Since @tsh beat me to my original algorithm I've gone for this approach instead but I can only prove that it has no false negatives. If someone can come up with a counterexample I'll delete this answer pending a rewrite using @tsh's approach. Edit: A counterexample was found, but @Nitrodon's claim is that only polynomials of odd degree can be counterexamples, so I've spent 5 bytes checking that the polynomial is of even degree. Edit: Another counterexample was found, so I've spent 6 bytes checking that the leading coefficient is a perfect square.</p>
<pre><code>﹪Ｌθ²
</code></pre>
<p>Output a <code>-</code> if the polynomial is of even degree.</p>
<pre><code>Ｆ⟦§θ⁰↨θΠ⊗⊕↔θ⟧«
</code></pre>
<p>Calculate a very large integer given by taking the absolute values of all of the coefficients, incrementing and doubling them, and then taking the product. Evaluate the polynomial at this value. Loop over the leading coefficient of the polynomial and the result.</p>
<pre><code>≔×⁰↨ι⁴ζＦＬζ«§≔ζκ¹§≔ζκ¬‹ιＸ↨²ζ²»
</code></pre>
<p>Perform a binary search for the nearest integer to the square root of this value.</p>
<pre><code>¿⁻ιＸ↨²ζ²⎚
</code></pre>
<p>If its square does not equal the value, clear the output.</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a> NumPy, 103 bytes</h1>
<pre>lambda a:any(poly1d(rint((a[0]**.5*poly(sort(around(roots(a),7))[::2])).real))**2-a)
from numpy import*</pre>
<p><a href="https://ato.pxeger.com/run?1=XY9LboMwEIb3nMJL2xoQGNMEpJyEsnAFtEjGtgxE4izdRKrafY-T23QMSap2LHnG3_zz8PuXW-c3ay4f_en5c5n7-Hh91Wp8aRVRlTIrdVavWUv9YGZKVZ02nCcFD5RO1s9UebsYzFs7T1QxODBWV5VoGEt8pzRjnItYsaj3diRmGd1KhtFhJb-Ns731RJPBEOs6Q9OtrtWD6SbKqoigDT3RyTT7wd1JMHXqzkpTzR7EbVv2uMbOOj111b8s28dert_4l6gWBV4ZCMjuHlIICQniCPkBYimg3N4pxiBREN_VcSbgCXGGl5AhKBHIJorqOCgEysVv3y3K8dyqJRShV_q3-6N5CXmAxeZKpPvmPw" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Inverted output: False for squares and True for non squares.</p>
<p>Direct approach using roots/linear factors. Floating point issues may lurk at some point (but not with the given test cases).</p>
<p>Basically, we take every other root, multiply corresponding linear factors and the square root of the leading coefficient, discard imaginary and fractional components, square and compare to the input.</p>
<p>For those not familiar with legacy numpy polynomials:
<code>roots</code> takes a vector coefficients and returns tthe vector of roots. <code>poly</code> takes a vector of roots and returns the vector of coefficients of the monic polynomial with the given roots (with multiplicity). <code>poly1d</code> takes a vector of coefficients and returns a polynomial object. This changes semantics of basic algebraic operations.</p>
<h2><a href="https://www.python.org" rel="nofollow noreferrer">Python</a> NumPy, 149 bytes</h2>
<pre>lambda l,a:all([any(poly1d(rint((fft.ifft(fft.fft(a)**.5*(1-2*int_([*bin(i)[3:]]))))[:l//2+1].real))**2-a)for i in r_[1&lt;&lt;l:2&lt;&lt;l]])
from numpy import*</pre>
<p><a href="https://ato.pxeger.com/run?1=XU9LboMwEN1zCi9tahNsoA0oOYmLIkfBqqXBIEIicZCuuolUtfseJ7fpmHyqZizNPL958zz--O6n8a3zp0-7fv06jFYsz-9g2u3OEOCmMgBUGz_RvoNJ7ujg_EiptWPiMM0gVMPiOCliKoWKUbGhOt46Tx3TWVXXDENXsFioJ1knQ2OAoV4Jw2w3EEecJ8NGy9UKKoUJByI7dC3xh7afiGv7bhjj63LHMAJhpOsbT1MW_HbgfLOnrIoIhrMEkv04uP7GhDDr5miAArsz_fwZSwF9DOOGXVoN7JvqQcQur5_OPzqtI60KTJIrLm-Vpzw0cq6WPHvhIle8nO8pYp6jQNzUQir-jLTEpPIASiTyOoq0CAqFcvXnO6MMz3U650XwSv-7381LngWymEuJ7GXzXw" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Inverted output. Takes the number of coefficients and the coefficient list.</p>
<p>This computes the square root directly in the Fourier domain. Unfortunately, for each Fourier coefficient we have to check both signs, making this approach more complicated than I had hoped.</p>
</div>
<div id="pu8" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 122 bytes</h1>

<pre class="lang-ruby prettyprint-override"><code>-&gt;b{w=b.sum &amp;:abs;(z=*-w..w).product(*[z]*k=b.size/2).any?{|c|x=-1;b==b.map{(0..x+=1).sum{|y|(a=c[x-y])&amp;&amp;c[y]?c[y]*a:0}}}}
</code></pre>
<p><a href="https://tio.run/##TUzBDsIgFLv7FTstgPAc03jYgvsQwgHQJcZMl81lY@C3I0s82OY1afvSYTIutiKyi/GzMDBOXZZX2ow1WgVhM8CMoR9e18m@EZGrIo/t677eDiUG/XSNDzYsgvHaiNR0uveoAFj2guNtzQcXkBZWLswpnOdWOtVsQnRVfBJin7VSclpSrtTuZ46Jf/ZEz@lSEL8" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
<p>Sheer brute force.</p>
</div>
<div id="pu9" class="pu"><h1>Python3, 289 bytes:</h1>
<pre class="lang-py prettyprint-override"><code>R=range
def m(a,b):
 r={}
 for x,y in a:
  for j,k in b:r[y+k]=r.get(y+k,0)+x*j
 return[(r[i],i)for i in r]
def c(d,k=[]):
 if[]==d:yield k;return
 for x in R(abs(d[0][0])+1):
  for e in R(d[0][1]+1):
   for i in[1,-1]:yield from c(d[1:],k+[(i*x,e)])
f=lambda x:any(x==m(i,i)for i in c(x))
</code></pre>
<p><a href="https://tio.run/##lY/NbsMgDMfP4ylQLzENVCFtpSoTL9ErQxNpSEfzKZpNiaY9e0aSdt2OA4SN7T8/ux26t6beHlo3jkfhdH02KDM5rkDTlCQIO/H5hXDeONzTAdsaax@c3xdaTO80cXIICyXc5mw68C6NSNivL15rundXS3DSKmrJJLKTxKmZcYKMFkKqCWNzqYTIksGaMsPF8yK9gSfNEXR6hUxGyh8ScnJvwyzZOcPVLYHvLMkp4@r2be6aaqJKnihahBLsuqeGKIJyUeoqzTTuE10P0AtRgf3d8gl6QkZbtY3rsL52qH0oJPTTgKWpfRGzjD9kR1iiRKGf2Gq1kgrJeO8vTmPK75ZGNJr9nffYge6UL91c29J2ELzUgZ/sqXW27iCHFnwTG58xTpev5kOXYIlfaCkIWLCOI/IXyhYS55ONPSV@kGdv6/dSw3Z0T1ns4/9vYfwG" rel="nofollow noreferrer">Try it online!</a></p>
<p>Basic brute force.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/246526/">246526</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




