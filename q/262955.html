<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="g.js"></script>
    <title>cg::262955</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>216</td><td>Python 3</td><td>230719T101617Z</td><td><a href="https://codegolf.stackexchange.com/questions/262955/relations-between-interval-and-semitones/263023#263023">keymasta</a></td></tr>
<tr d-ix="1"><td>145</td><td>Scala</td><td>230720T115141Z</td><td><a href="https://codegolf.stackexchange.com/questions/262955/relations-between-interval-and-semitones/263069#263069">138 Aspe</a></td></tr>
<tr d-ix="2"><td>076</td><td>Python 3</td><td>230719T181158Z</td><td><a href="https://codegolf.stackexchange.com/questions/262955/relations-between-interval-and-semitones/263041#263041">xnor</a></td></tr>
<tr d-ix="3"><td>037</td><td>Charcoal</td><td>230718T103318Z</td><td><a href="https://codegolf.stackexchange.com/questions/262955/relations-between-interval-and-semitones/262966#262966">Neil</a></td></tr>
<tr d-ix="4"><td>090</td><td>JavaScript ES6</td><td>230718T084659Z</td><td><a href="https://codegolf.stackexchange.com/questions/262955/relations-between-interval-and-semitones/262958#262958">Arnauld</a></td></tr>
<tr d-ix="5"><td>047</td><td>05AB1E</td><td>230718T080244Z</td><td><a href="https://codegolf.stackexchange.com/questions/262955/relations-between-interval-and-semitones/262957#262957">Kevin Cr</a></td></tr>
<tr d-ix="6"><td>096</td><td>Raku</td><td>230718T050447Z</td><td><a href="https://codegolf.stackexchange.com/questions/262955/relations-between-interval-and-semitones/262956#262956">bb94</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, <s>222</s> 216 bytes</h1>

<pre class="lang-python prettyprint-override"><code>r=[];z=(0,3,4,7);m=-1
for i in range(8):
&#9;r.append([]);s=i*2-(i+1)//4
&#9;for q in range(7):d=q-3-int(q&gt;3)+int(q&lt;2 and i in z);r[m]+=[s+d];r[m][m]="-"if(q in(2,4)and i in z)or q==3 and i in(1,2,5,6)else r[m][m]
print(r)
</code></pre>
<p><a href="https://tio.run/##TY1BDoIwFETX9hQNq35pRSiKoX4vQliQANpESils5PJo0ajJLGYx7419TLfeyGVxWJRqRrbnkqc8A9WhiEnbO6qpNtRV5tqwE@Rk43aVtY2pWVGCGlFvE8F0GEMUpWTjgeEHZJDXOAgptJnYcJEQruWc0MrUb/MMyhVdGWIxhnW59lcwEIFumVexhKfwN/cPiPJrYDFP@IEfobmPDf3wxDr/5GBZng" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="http://www.scala-lang.org/" rel="nofollow noreferrer">Scala</a>, 145 bytes</h1>
<p>Port of <a href="https://codegolf.stackexchange.com/a/263041/110802">@xnor's Python answer</a> in Scala.</p>
<hr />
<p>Golfed version. <a href="https://tio.run/##XY5BC4JAEIXv/opBCHZxFTetg7ZBP6CTdIoOm61i6WrjEoT5223NWzAD7328eUyfy1pO7fWucgNHWWkYHICbKqCxhkgs@wQOiPJ9zgxWurzQBE66MiBgmF4SQYswLVokuPMz9SRrzuJwnmhLPe@f0EF7Avz4g2ln20ytyRzhjLMNi@xaRYNGdiQX@6oguMqFCH9XPNWBaZcnRlX3yvVdG30shLjMpXScAEZnnL4" rel="nofollow noreferrer">Try it online!</a></p>
<pre class="lang-scala prettyprint-override"><code>var n=0;for(r&lt;-Seq(21,40,40,36)++Seq(21,40,40,36)){n+= -4|r;println(Seq(1,1,5,3,5,1,1).map(c=&gt;if(r%c==0){n+=1;n.toString}else&quot;-&quot;).mkString(&quot;,&quot;))}
</code></pre>
<p>Ungolfed version. <a href="https://tio.run/##bVDBSsQwFLz3K4aCkNBt2dXVw7IVvOtJPImHGNMlbpouSRRk7bfXlyZUD0KSx0xm3pvES2HENA2v70oGPAhtcS6AN9WhJ8CEO/gd7pwTX8@PwWl7eOE7PFkd0M5K4FM4WELrjAycJ3ivfWCXmxW267Svbjiq6l9@ccrFSQJa13Q9nxHyYtZ1gwNz2Nc0h@cMoARVi3qLb7jMzEmU/zAxqvRNL044Q6K9zQJAd7HTRSQp/2@zpeHmL9GEIX3BQo5QxiuUdZmpMdcTyYKxLM1v@mMysnKFkqfnRulYjMU0/QA" rel="nofollow noreferrer">Try it online!</a></p>
<pre class="lang-scala prettyprint-override"><code>object Main {
  def main(args: Array[String]): Unit = {
    var n = 0
    val rs = List(21, 40, 40, 36) ++ List(21, 40, 40, 36)
    val cs = List(1, 1, 5, 3, 5, 1, 1)

    for (r &lt;- rs) {
      n += -4 | r
      val result = cs.map { c =&gt;
        if (r % c == 0) {
          n += 1
          n.toString
        } else &quot;-&quot;
      }
      println(result.mkString(&quot;, &quot;))
    }
  }
}

</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://docs.python.org/3.8/" rel="nofollow noreferrer">Python 3</a>, 76 bytes</h1>

<pre class="lang-python prettyprint-override"><code>n=0
for r in b"&#21;(($"*2:n+=-4|r;print([r%c*'-'or(n:=n+1)for c in b"&#1;&#1;&#5;&#3;&#5;&#1;&#1;"])
</code></pre>
<p><a href="https://tio.run/##K6gsycjPM7YoKPr/P8/WgCstv0ihSCEzTyFJSVRDQ0VJy8gqT9tW16SmyLqgKDOvRCO6SDVZS11XPb9II8/KNk/bUBOkJRmihZGRlZmVkVEpVvP/fwA" rel="nofollow noreferrer" title="Python 3.8 (pre-release) – Try It Online">Try it online!</a></p>
<p>This prints each row as its own list. The two bytestrings contain unprintable characters -- here's the code with their ASCII values shown:</p>

<pre class="lang-python prettyprint-override"><code>n=0
for r in[21,40,40,36]*2:n+=-4|r;print([r%c*'-'or(n:=n+1)for c in[1,1,5,3,5,1,1]])
</code></pre>
<p><a href="https://tio.run/##K6gsycjPM7YoKPr/P8/WgCstv0ihSCEzL9rIUMfEAISMzWK1jKzytG11TWqKrAuKMvNKNKKLVJO11HXV84s08qxs87QNNUH6kkH6DHUMdUx1jIEYyIqN1fz/HwA" rel="nofollow noreferrer" title="Python 3.8 (pre-release) – Try It Online">Try it online!</a></p>
<p>The <code>r</code>'s in <code>[21,40,40,36]*2</code> correspond to the 8 rows, and the <code>c</code>'s in <code>[1,1,5,3,5,1,1]</code> to the 7 columns. They are chosen to make a &quot;modulo table&quot; producing the positions of the dashes, with a dash where <code>r%c==1</code> and <code>r%c==0</code> elsewhere.</p>
<pre class="lang-python prettyprint-override"><code>           c
     1 1 5 3 5 1 1 
r  %--------------
21 | 0 0 1 0 1 0 0
40 | 0 0 0 1 0 0 0
40 | 0 0 0 1 0 0 0
36 | 0 0 1 0 1 0 0
21 | 0 0 1 0 1 0 0
40 | 0 0 0 1 0 0 0
40 | 0 0 0 1 0 0 0
36 | 0 0 1 0 1 0 0
</code></pre>
<p>Each non-dash position is filled with the number <code>n</code>, which is first incremented. Changes to <code>n</code> persist between rows, so before the start of each row we decrease <code>n</code> from the end of the previous row by substracting either 3 or 4, noting that it will increment by 1 before the first value is produced.</p>
<p>These deltas are encoded per-row by the <code>r</code>'s as <code>-4|r</code>, which produces <code>[-4,-3,-3,-3,-4,-3,-3,-3]</code>. Because this pattern repeats in 2 blocks of 4 for the 8 rows, as did the dash pattern, we write the <code>r</code>'s list as a four-entry list repeated twice, saving bytes.</p>
<p>Here are all the properties we needed the hardcoded <code>r</code>'s and <code>c</code>'s to satisfy:</p>
<pre class="lang-python prettyprint-override"><code>-4|21 == -3
-4|40 == -4
-4|36 == -4

 21%5 == 36%5 == 1
 40%3 == 1
 21%1 == 40%1 == 36%1 == 40%5 == 21%3 == 36%3 == 0
</code></pre>
<p>I found these with a brute-force search, and many other options were possible.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, <s>47</s> <s>39</s> 37 bytes</h1>
<pre><code>Ｅ⁸Ｅ⁺Σ…68ι⊕Ｅ⁷Σ…432234λ⎇﹪λ⁴⁺⊖⊖÷λ⁴…*‹λ⁸-
</code></pre>
<p><a href="https://tio.run/##XY3BCoMwEER/JeS0lnhRaYUe9SIoCO0PhLhgYE0kUcGvT409VLqXXWZm36hROmUlhdA7bRbo5AylYHH1tHp4rRNUuyKsRjsDv5dcMJ0kgjVGOZzQLDicTw/B/rJFnmV5ceQpiSPYG52RbofODitZIMGKQz1ravzRrndjllpvesBvOlIuDbcD3qL30SxPk6c8dj1DCOlGHw" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Outputs a Charcoal array, i.e. each element on its own line and each row double-spaced from the previous. Explanation:</p>
<pre><code> ⁸                                      Literal integer `8`
Ｅ                                       Map over implicit range
           ⁷                            Literal integer `7`
          Ｅ                             Map over implicit range
              432234                    Literal string `432234`
             …                          Truncated to length
                    λ                   Current column
            Σ                           Digital sum
         ⊕                              Vectorised increment
   ⁺                                    Vectorised add
      68                                Literal string `68`
     …                                  Extended to length
        ι                               Current row
    Σ                                   Digital sum
  Ｅ                                     Map over list
                       λ                Inner value
                      ﹪                 Modulo
                        ⁴               Literal integer `4`
                     ⎇                  If divisible then
                                    -   Literal string `-` otherwise
                             λ          Current value
                            ÷           Integer divided by
                              ⁴         Literal integer `4`
                           ⊖            Incremented
                          ⊖             Incremented
                         ⁺              Concatenated with
                                *       Literal string `*`
                               …        Truncated to length
                                  λ     Current value
                                 ‹      Is less than
                                   ⁸    Literal integer `8`
</code></pre>
<p>The program works by generating the following table, where the headers are generated from a list of differences:</p>
<div class="s-table-container">
<table class="s-table">
<thead>
<tr>
<th style="text-align: right;">+</th>
<th style="text-align: right;">1</th>
<th style="text-align: right;">5</th>
<th style="text-align: right;">8</th>
<th style="text-align: right;">10</th>
<th style="text-align: right;">12</th>
<th style="text-align: right;">15</th>
<th style="text-align: right;">19</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">19</td>
</tr>
<tr>
<td style="text-align: right;">6</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">25</td>
</tr>
<tr>
<td style="text-align: right;">14</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">22</td>
<td style="text-align: right;">24</td>
<td style="text-align: right;">26</td>
<td style="text-align: right;">29</td>
<td style="text-align: right;">33</td>
</tr>
<tr>
<td style="text-align: right;">20</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">25</td>
<td style="text-align: right;">28</td>
<td style="text-align: right;">30</td>
<td style="text-align: right;">32</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">39</td>
</tr>
<tr>
<td style="text-align: right;">28</td>
<td style="text-align: right;">29</td>
<td style="text-align: right;">33</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">38</td>
<td style="text-align: right;">40</td>
<td style="text-align: right;">43</td>
<td style="text-align: right;">47</td>
</tr>
<tr>
<td style="text-align: right;">34</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">39</td>
<td style="text-align: right;">42</td>
<td style="text-align: right;">44</td>
<td style="text-align: right;">46</td>
<td style="text-align: right;">49</td>
<td style="text-align: right;">53</td>
</tr>
<tr>
<td style="text-align: right;">42</td>
<td style="text-align: right;">43</td>
<td style="text-align: right;">47</td>
<td style="text-align: right;">50</td>
<td style="text-align: right;">52</td>
<td style="text-align: right;">54</td>
<td style="text-align: right;">57</td>
<td style="text-align: right;">61</td>
</tr>
<tr>
<td style="text-align: right;">48</td>
<td style="text-align: right;">49</td>
<td style="text-align: right;">53</td>
<td style="text-align: right;">56</td>
<td style="text-align: right;">58</td>
<td style="text-align: right;">60</td>
<td style="text-align: right;">63</td>
<td style="text-align: right;">67</td>
</tr>
</tbody>
</table>
</div>
<p>Multiples of <code>4</code> are replaced with <code>-</code> while the remaining numbers are integer divided by <code>4</code> and then decremented twice, appending a <code>*</code> if this reduces them below zero.</p>
</div>
<div id="pu4" class="pu"><h1>JavaScript (ES6), 90 bytes</h1>
<p>Returns a single string, using commas and line feeds as delimiters.</p>

<pre class="lang-javascript prettyprint-override"><code>f=(n=7)=&gt;~n--?[...&quot;0024200&quot;].map(j=&gt;4-(n&amp;2)&amp;j?'-':v+[&quot;**&quot;[++v+1]],v=34-n*7&gt;&gt;2)+`
`+f(n):''
</code></pre>
<p><a href="https://tio.run/##BcHRCsIgFADQ9z7Dh@nVFDNhMNB9iAiTNSNZ19HCx37dzimppXP9vI6vxPrYes@OoRvB@R9KOQelFNHaWKM1ieqdDlact5LhYGAoM5V0aiIQzkkQoolbjNfm7lYiH703IJbLIjJDmCjta8Wz7pva65NlBtD/" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>Or <strong>78 bytes</strong> without the asterisks:</p>

<pre class="lang-javascript prettyprint-override"><code>f=(n=7)=&gt;~n--?[...&quot;0024200&quot;].map(j=&gt;4-(n&amp;2)&amp;j?'-':v++,v=34-n*7&gt;&gt;2)+`
`+f(n):''
</code></pre>
<p><a href="https://tio.run/##BcFBCsIwEADAu8/oodk1bggxUChs@hARGmojhropVnL063EmxxqP5fPavyTlsbaWGIQH5PAToulmjOmsdd5Z293NO@6QOXgC6R32eVKkxqr1pfLVk5yHEBzq@TTrBIKjUm0pcpRtNVt5QgLE9gc" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>How?</h3>
<p>We iterate from <span class="math-container">\$n=6\$</span> to <span class="math-container">\$n=-1\$</span>. The starting value of each row can be obtained with:</p>
<p><span class="math-container">$$v_n=\left\lfloor\frac{1}{4}(34-7n)\right\rfloor$$</span></p>
<p>There are 2 distinct row patterns:</p>
<p><span class="math-container">$$\begin{cases}[v_n,v_n+1,\varnothing,v_n+2,\varnothing,v_n+3,v_n+4]&amp;n\in\{-1,2,3,6\}\\
[v_n,v_n+1,v_n+2,\varnothing,v_n+3,v_n+4,v_n+5]&amp;n\in\{0,1,4,5\}\end{cases}$$</span></p>
<p>We can just test the penultimate bit of <span class="math-container">\$n\$</span> to distinguish them. We generate <span class="math-container">\$2\$</span> if it's set or <span class="math-container">\$4\$</span> otherwise and do a bitwise AND with the digit from the lookup string <code>&quot;0024200&quot;</code> according to its position.</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 47 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>6L3-D&gt;3FDÌ}D&gt;DÌDÌ)εƵqbNèi¨Ƶ;S£ë3ô}'-.ý˜εD0‹i'*«
</code></pre>
<p><a href="https://tio.run/##JY0xCsJAEEWvsl1QfmQmu0kUIVWwEhtLsTBgkUrEOuABPIKdTSCtW1jYZCGNkEN4kTgbYXd4700xp8uhKI/DkKx1mGd6lbtblWcy5U1629lzsXF12dadXW7bh2u0e1ZBOHPvz723OX2vrzKYts0w7BgRCFq@QQwVCRqRGAlSKDMCCc6xgPKNBEmECcpH8iSDwRHU2IXJG2uwgfqv2N8Q5RicSBx35JV84HT/Aw" rel="nofollow noreferrer">Try it online.</a></p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>6L             # Push list [1,2,3,4,5,6]
  3-           # Decrease each by 3: [-2,-1,0,1,2,3]
D&gt;             # Duplicate it, and increase each by 1
3F  }          # Loop 3 times:
  DÌ           #  Duplicate the top list, and increase each by 2
D&gt;DÌDÌ         # Three more duplicates with +1, +2, and +2 respectively again
)              # Wrap all lists on the stack into a list
 ε             # Map over each inner list:
  Ƶq           #  Push compressed integer 153
    b          #  Convert it to binary: 10011001
     Nè        #  Index the current map-index into it
       i       #  If this is 1:
        ¨      #   Remove the last item of the list
         Ƶ;    #   Push compressed integer 212
           S   #   Convert it to a list: [2,1,2]
            £  #   Split the list into parts of that size: [[a,b],[c],[d,e]]
       ë       #  Else:
        3ô     #   Split the list into triplets: [[a,b,c],[d,e,f]]
       }       #  After the if-else:
        '-.ý  '#  Intersperse the list of sub-lists with &quot;-&quot; delimiter
            ˜  #  And flatten it to a single list again
  ε            #  Map over each inner value:
   D           #   Duplicate the current value
    0‹i        #   Pop the copy, and if it's a negative integer:
       '*«    '#    Append a &quot;*&quot;
               # (after which the matrix is output implicitly as result)
</code></pre>
<p><a href="https://codegolf.stackexchange.com/a/166851/52210">See this 05AB1E tip of mine (section <em>How to compress large integers?</em>)</a> to understand why <code>Ƶq</code> is <code>153</code> and <code>Ƶ;</code> is <code>212</code>.</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/nxadm/rakudo-pkg" rel="nofollow noreferrer">Raku</a>, 96 bytes</h1>

<pre class="lang-perl6 prettyprint-override"><code>{map -&gt;\i,\j {{j-3,j-2,$_&amp;&amp;j-1,!$_&amp;&amp;j-1,$_&amp;&amp;j,j+$_,j+1+$_}((153+&gt;i)%%2)},&lt;1 2 4 6 8 9 11 13&gt;.kv}
</code></pre>
<p>Returns the output as a 2D list with <code>False</code> for the blanks.</p>
<p><a href="https://tio.run/##K0gtyjH7n1uplmb7vzo3sUBB1y4mUycmS6G6OkvXWCdL10hHJV5NLUvXUEcRxgDTOlnaKvFAwhBI1WpoGJoaa9tlaqqqGmnW6tgYKhgpmCiYKVgoWCoYGioYGtvpZZfV/i9OrFRIs/4PAA" rel="nofollow noreferrer" title="Perl 6 – Try It Online">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/262955/">262955</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




