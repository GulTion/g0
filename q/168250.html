<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::168250</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>244</td><td>Python3</td><td>240308T144240Z</td><td><a href="https://codegolf.stackexchange.com/questions/168250/a-lazy-bag-of-bread/271635#271635">Ajax1234</a></td></tr>
<tr d-ix="1"><td>210</td><td>Python 2</td><td>180710T001516Z</td><td><a href="https://codegolf.stackexchange.com/questions/168250/a-lazy-bag-of-bread/168326#168326">Chas Bro</a></td></tr>
<tr d-ix="2"><td>114</td><td>JavaScript ES6</td><td>180709T154115Z</td><td><a href="https://codegolf.stackexchange.com/questions/168250/a-lazy-bag-of-bread/168257#168257">Arnauld</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>Python3, 244</h1>
<pre class="lang-py prettyprint-override"><code>def f(l):
 q=[(0,0,[],[])]
 L,C=0,0
 for a,r,b,c in q:
  if C and r&gt;=C:continue
  if not{*l}-{*c}:L=b;C=r;continue
  for i,A in enumerate(l):
   if i not in b and A not in c and(c==[]or abs(b[-1]-i)!=1):q+=[(i,r+abs(a-i),b+[i],c+[A])]
 return L
</code></pre>
<p><a href="https://tio.run/##TY8xb4MwEIV3fsV1ih1MlahLReRKgJQuTF0YLAbs2MpJ1IBjhirKb6c2qFWkW969797djT/@Oti399Ety0UbMKSneQITF@TADky0oWibQM0qHhoJmMFBxxyTTAFamAIMaKCCzl7AffAqV4P1aGe9GXbw933/yO579chrLk8Vd6cnJOYhK2KWtvO3dp3X2w3rOMaAaMp1QfEnVZREcS7aeJC8ESmyY5shfeFHmk9peACZS6PThS6TqcCWqVQU6z9O@9lZqJfRofXEkF0DJTTwCWf4gmb3eht79IRSmvwT0S8DUQamDNSmz0/s8gs" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, <s>212</s> 210 bytes</h1>



<pre class="lang-python prettyprint-override"><code>lambda s:min((sum(h(p)),p)for b in combinations(range(len(s)),5)for p in permutations(b)if(len(set(s[i]for i in p))==5)&amp;all(d&gt;1for d in h(p)))
h=lambda p:[abs(y-x)for x,y in zip(p,p[1:])]
from itertools import*
</code></pre>

<p><a href="https://tio.run/##RZCxboMwEIbn8BQ31eeKRkqlLEh0YKB7FwbKYIIdXGH7ZDtS6MtTm0Tqdvfdp7tfR2ucnX3fVP29LcKMk4BQGW0Rw83gjMR5SVw5DyNoCxdnRm1F1M4G9MJeJS7SYkjWebcoWyS9ucWnNXKtHpKMGHo9ZE3vGud1feYvYllw@jhlPmW@X@XFXD8DUdWLMeD6dt9P3Ms1W7@akErqT9XAh0J5Z0BH6aNzSwBtyPn4uk1SQZviVcUhQA3h6CUt4iKRASsZ48WBElbJSJXXNkIoKQ2OPy79IKeF/7j9aeBF0SLroIEOPqGFL@jSkoQyaBJqEmwSfvQt49sf" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>

<p>2 bytes thx to <a href="https://codegolf.stackexchange.com/users/73111/jonathan-frech">Jonathan Frech</a>.</p>
</div>
<div id="pu2" class="pu"><h1>JavaScript (ES6), 114 bytes</h1>
<p><em>Saved 1 byte thanks to @Oliver</em></p>
<p>Takes input as an array of characters. Outputs a comma-separated string where the first value is the total time and the next ones describe the path.</p>

<pre class="lang-javascript prettyprint-override"><code>a=&gt;(b=g=(r,s=o='',c,p)=&gt;s[c&gt;b|4]?o=(b=c)+r:a.map((v,i)=&gt;s.match(v)||(d=p&lt;i?i-p:p-i)&lt;2||g([r,i],s+v,~~c+d,i))&amp;&amp;o)``
</code></pre>
<p><a href="https://tio.run/##XYyxDoIwEIZ3n8LJXkNhME7Eg6QD7i4OhIRSFGuQNpQwNbw6Uk0wYflyd///3UuMwspemSHsdH2fHzgLTKDCBqFnFjUSwiQzFBOby6RypyLVuOSSBn0sorcwACNTPl@WQT5hpM5BjeasUhWa2ISKno/ONZD3TBXMBiObJhnUi0QPB03Lcpa6s7q9R61u4AE5uRG2J9zjO108Mo/r71ZQuts6/zpfHb6KfLU3vcw/mz8" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Commented</h3>
<pre class="lang-javascript prettyprint-override"><code>a =&gt; (                          // a[] = input array
  b =                           // b = best score so far (initially a non-numeric value)
  g = (                         // g = recursive function taking:
    r,                          //   r = path
    s =                         //   s = string of collected loaves of bread
    o = '',                     //   o = final output
    c,                          //   c = current cost
    p                           //   p = index of the last visited shelf 
  ) =&gt;                          //
    s[c &gt; b                     // if the final cost is not greater than our best score
            | 4] ?              // and we've successfully collected 5 loaves of bread:
      o = (b = c) + r           //   update the current output and the best score
    :                           // else:
      a.map((v, i) =&gt;           //   for each loaf of bread v at shelf i in a[]:
        s.match(v) ||           //     if we've already collected this kind of bread
        (d =                    //     or the distance d
          p &lt; i ? i - p : p - i //     defined as the absolute value of p - i
        ) &lt; 2 ||                //     is less than 2: stop recursion
        g(                      //     otherwise, do a recursive call to g() with:
          [r, i],               //       r updated with the index of the current shelf
          s + v,                //       s updated with the current loaf of bread
          ~~c + d,              //       c updated with the last distance
          i                     //       i as the index of the last shelf
        )                       //     end of recursive call
      )                         //   end of map()
      &amp;&amp; o                      //   return the current output
  )``                           // initial call to g() with r = [&quot;&quot;]
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/168250/">168250</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




