<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::272</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>046</td><td>Easyfuck</td><td>240330T191750Z</td><td><a href="https://codegolf.stackexchange.com/questions/272/twinkle-twinkle-little-star/272204#272204">Quadrupl</a></td></tr>
<tr d-ix="1"><td>116</td><td>Desmos</td><td>220429T013953Z</td><td><a href="https://codegolf.stackexchange.com/questions/272/twinkle-twinkle-little-star/246694#246694">Aiden Ch</a></td></tr>
<tr d-ix="2"><td>093</td><td>Wolfram Language Mathematica</td><td>131207T144915Z</td><td><a href="https://codegolf.stackexchange.com/questions/272/twinkle-twinkle-little-star/15692#15692">alephalp</a></td></tr>
<tr d-ix="3"><td>163</td><td>C MSVC + Win32</td><td>210809T191101Z</td><td><a href="https://codegolf.stackexchange.com/questions/272/twinkle-twinkle-little-star/233276#233276">jdt</a></td></tr>
<tr d-ix="4"><td>176</td><td>JavaScript</td><td>210107T204351Z</td><td><a href="https://codegolf.stackexchange.com/questions/272/twinkle-twinkle-little-star/217440#217440">General </a></td></tr>
<tr d-ix="5"><td>115</td><td>Raku</td><td>210202T220644Z</td><td><a href="https://codegolf.stackexchange.com/questions/272/twinkle-twinkle-little-star/218495#218495">bb94</a></td></tr>
<tr d-ix="6"><td>520</td><td>C</td><td>140220T150952Z</td><td><a href="https://codegolf.stackexchange.com/questions/272/twinkle-twinkle-little-star/21542#21542">mniip</a></td></tr>
<tr d-ix="7"><td>117</td><td>Powershell</td><td>180927T094040Z</td><td><a href="https://codegolf.stackexchange.com/questions/272/twinkle-twinkle-little-star/172894#172894">mazzy</a></td></tr>
<tr d-ix="8"><td>045</td><td>SmileBASIC</td><td>180403T004010Z</td><td><a href="https://codegolf.stackexchange.com/questions/272/twinkle-twinkle-little-star/161099#161099">12Me21</a></td></tr>
<tr d-ix="9"><td>136</td><td>bash + say + gunzip</td><td>171229T225227Z</td><td><a href="https://codegolf.stackexchange.com/questions/272/twinkle-twinkle-little-star/152133#152133">Jordan</a></td></tr>
<tr d-ix="10"><td>688</td><td>Arduino</td><td>131207T223746Z</td><td><a href="https://codegolf.stackexchange.com/questions/272/twinkle-twinkle-little-star/15698#15698">Timtech</a></td></tr>
<tr d-ix="11"><td>207</td><td>PowerShell</td><td>131209T055101Z</td><td><a href="https://codegolf.stackexchange.com/questions/272/twinkle-twinkle-little-star/15739#15739">Iszi</a></td></tr>
<tr d-ix="12"><td>096</td><td>C</td><td>120921T235651Z</td><td><a href="https://codegolf.stackexchange.com/questions/272/twinkle-twinkle-little-star/8410#8410">Ilmari K</a></td></tr>
<tr d-ix="13"><td>301</td><td>Python 317 305</td><td>120920T190541Z</td><td><a href="https://codegolf.stackexchange.com/questions/272/twinkle-twinkle-little-star/8401#8401">scleaver</a></td></tr>
<tr d-ix="14"><td>277</td><td>C</td><td>111030T194050Z</td><td><a href="https://codegolf.stackexchange.com/questions/272/twinkle-twinkle-little-star/3857#3857">ephemien</a></td></tr>
<tr d-ix="15"><td>113</td><td>HyperCard 2.2</td><td>110520T193539Z</td><td><a href="https://codegolf.stackexchange.com/questions/272/twinkle-twinkle-little-star/2635#2635">Joey Ada</a></td></tr>
<tr d-ix="16"><td>nan</td><td></td><td>110202T231909Z</td><td><a href="https://codegolf.stackexchange.com/questions/272/twinkle-twinkle-little-star/395#395">mootinat</a></td></tr>
<tr d-ix="17"><td>259</td><td>Python</td><td>110201T191717Z</td><td><a href="https://codegolf.stackexchange.com/questions/272/twinkle-twinkle-little-star/343#343">John</a></td></tr>
<tr d-ix="18"><td>056</td><td>QBasic</td><td>110131T103449Z</td><td><a href="https://codegolf.stackexchange.com/questions/272/twinkle-twinkle-little-star/278#278">Eelvex</a></td></tr>
<tr d-ix="19"><td>211</td><td>JavaScript</td><td>110131T224805Z</td><td><a href="https://codegolf.stackexchange.com/questions/272/twinkle-twinkle-little-star/304#304">PleaseSt</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/Quadruplay/easyfuck/wiki" rel="nofollow noreferrer">Easyfuck</a>, 46 bytes</h1>
<pre>
Þ¡åGÕÔäPú<sup>PM</sup>ýôÔðQ<sup>STS</sup>&GÔýïûMJGÜ8_¡Áõ␎␒<sup>APC</sup>pá␁␅<sup>PLD</sup>øoÝ¹jÁ°
</pre>
<p><sup>due to lack of unicode representations for c1 control characters, they have been replaced by their superscripted abbreviations</sup></p>
<p>Decompressed:</p>
<pre><code>o(&lt;T&gt;W)d(&gt;SooS)p(ddd&gt;S{o}S)$&gt;pp_Pp&gt;PpJ&gt;pp@␠X_a_]\ZX␛
</code></pre>
<p>Explanation:</p>
<pre><code>o(&lt;T&gt;W)d(&gt;SooS)p(ddd&gt;S{o}S)$&gt;pp_Pp&gt;PpJ&gt;pp@␠X_a_]\ZX␛
o(&lt;T&gt;W)                                              1 note playing function
       d(&gt;SooS)                                      2 note playing function
               p(ddd&gt;S{o}S)                          2+2+2+1 note playing function
                             pp  p  p  pp            p function invocations
                           $&gt;  _P &gt;P J&gt;              pointer moving magic
                                         @           return
                                          ␠X_a_]\ZX␛ initializer data
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://desmos.com/calculator" rel="nofollow noreferrer">Desmos</a>, <s>148</s> 116 bytes</h1>
<p><em>The viewport has been manually changed to x=0 to 20, and y=0 to 12, because the audio trace feature in Desmos is affected by the viewport (the song will become distorted if the viewport is moved or zoomed in/out). I'm not sure if that contributes to the byte count or not. For now, I'm going to assume that it doesn't affect byte count, but please let me know otherwise if this isn't the case.</em></p>
<pre><code>A=join(F(0,7,9,7,x),F(5,4,2,0,x))
B=F(7,5,4,2,x)
F(a,b,c,d,x)=\join([a,b,c]\{x&lt;1,1.1&lt;x&lt;2.1\},d\{x&lt;2\})
join(A,B,B,A)
</code></pre>
<p><a href="https://www.desmos.com/calculator/pnm7lbdzlp" rel="nofollow noreferrer">Try It On Desmos!</a></p>
<p><a href="https://www.desmos.com/calculator/llggyk9mhd" rel="nofollow noreferrer">Try It On Desmos! - Prettified</a></p>
<p>I focused on both song quality and code length (basically, shortest code in which the audio still sounds good).</p>
<p>To play the audio, click the <code>join(A,B,B,A)</code> expression (it should be outlined in blue). Then press <kbd>ALT</kbd>+<kbd>T</kbd>, and after that, <kbd>H</kbd>, after which you will hear the audio play if everything is done correctly.</p>
<p>Big thanks to <a href="https://codegolf.stackexchange.com/users/68942/hyper-neutrino">@hyper-neutrino</a> for helping me find the sequence of numbers that represents the notes in <a href="https://chat.stackexchange.com/transcript/message/61003548#61003548">chat</a>. I was having a very hard time finding that myself; I don't know a thing about music lol.</p>
<h3>Explanation</h3>
<p>This answer takes advantage of one of Desmos's accessibility features: <a href="https://www.desmos.com/accessibility#audio-trace" rel="nofollow noreferrer">Audio Tracing</a>, which can play any graph as a sound. By plotting horizontal line segments at specific places in the viewport, the audio tracing will be able to play that line segment as a single note for a certain duration, depending on how long that line segment is. Specifically, the viewport is split as follows:</p>
<blockquote>
<p>Bottomest vs toppest lines of the graph correspond to the range of an octave... the 12 steps within this range correspond to the half-tones in the music scale. (<a href="https://desmosgraphunofficial.wordpress.com/2021/05/03/music-inside/" rel="nofollow noreferrer">Source</a>)</p>
</blockquote>
<p>As I am not familiar with music at all, I pretty much have no idea what this means, but hopefully that is understandable to all of you that know music.</p>
<p>The next part is to actually find the sequence of y-values so that it will play the song. As I mentioned above, hyper-neutrino basically did all the work and found the correct sequence of y-values which play the song (I pretty much have no idea how he found them; something about intervals and semitones?). The sequence is as follows:</p>
<pre><code>0 0 7 7 9 9 7, 5 5 4 4 2 2 0, 7 7 5 5 4 4 2, 7 7 5 5 4 4 2, 0 0 7 7 9 9 7, 5 5 4 4 2 2 0
</code></pre>
<p>where every 7th note (the note before each comma, and the last note) is a half note, meaning it is played twice as long as the other notes, which are quarter notes. Graphically, this means that the line segment that represents a half note is twice as long as that of a quarter note.</p>
<p>With that out of the way, the next thing to do is to actually put all of this into Desmos. So how are we going to do this? Well, first I found that a line segment of length 1 is long enough for a note, so each quarter note will be length 1, while each half note will be length 2.</p>
<p>Secondly, we will need to put a short pause in between every note, or else two repeated notes will just play as one half note instead. I decided to use a 0.1 length pause in between each note.</p>
<p>My plan was to construct a huge list of line segments which Desmos can graph and audio trace over.</p>
<p>A pattern I noticed with the notes is that every 7 notes always follows a <code>a a b b c c d (half note)</code> pattern. To take advantage of that, I made a function <code>F</code> which takes in 4 notes <code>a,b,c,d</code> and constructs a list of line segments in accordance to that pattern. Let's take a look at it:</p>
<pre><code>F(a,b,c,d,x)=\join([a,b,c]\{x&lt;1,1.1&lt;x&lt;2.1\},d\{x&lt;2\})
</code></pre>
<p>The function <code>F</code> takes first takes in 4 notes <code>a,b,c,d</code>, then <code>x</code> because we are plotting something (the function won't work without it).</p>
<p>Let's first take a look at the first part of the function:</p>
<pre><code>[a,b,c]\{x&lt;1,1.1&lt;x&lt;2.1\}
</code></pre>
<p>Because of the list <code>[a,b,c]</code>, this entire expression results in a list of 3 horizontal line segments: one segment at y levels <code>a</code>, <code>b</code>, and <code>c</code>. Now let's take a look at the domain restriction. It splits the lines <code>y=[a,b,c]</code> into two parts: one where <code>x&lt;1</code> and another where <code>1.1&lt;x&lt;2.1</code>, effectively splitting it into two line segments of length 1 with a 0.1 gap in between them (the viewport is from x=0, so <code>x&lt;1</code> is functionally the same as <code>0&lt;x&lt;1</code>). The audio trace will first play the <code>x&lt;1</code> segment (one quarter note), then a very short pause later, play the <code>1.1&lt;x&lt;2.1</code> segment (another quarter note). It does this for <code>a</code>, then <code>b</code>, then <code>c</code>.</p>
<p>Finally, this list is joined with <code>d\{x&lt;2\}</code>, which is a line segment of length 2 at y level <code>d</code>. This will play the note <code>d</code> for twice as long, emulating a half note.</p>
<p>With a full understanding of function <code>F</code>, we can now encode the number sequence shown earlier with <code>F</code>.</p>
<p>First note that the first 14 notes (<code>0 0 7 7 9 9 7, 5 5 4 4 2 2 0</code>) are repeated at the end as well. Also, the middle 14 notes (<code>7 7 5 5 4 4 2, 7 7 5 5 4 4 2</code>) is just <code>7 7 5 5 4 4 2</code> repeated twice.</p>
<p>We can encode <code>0 0 7 7 9 9 7</code> as <code>F(0,7,9,7,x)</code> and <code>5 5 4 4 2 2 0</code> as <code>F(5,4,2,0,x)</code>. By joining the two resultant lists and storing it in a variable <code>A</code>, we can re-use these 14 notes at the end of the song.</p>
<p>We can encode <code>7 7 5 5 4 4 2</code> as <code>F(7,5,4,2,x)</code> and set it to a variable <code>B</code> so that we can re-use these notes.</p>
<p>Finally, we can join the notes like so: <code>join(A,B,B,A)</code> to get the final sequence of notes. Desmos will then automatically graph all the line segments in the resultant list, which we can then audio trace over.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, 93 bytes</h1>
<pre><code>Sound[s=SoundNote;If[#&gt;9,s[#-10,2],{s@#,s@#}]&amp;/@Join[a={0,7,9,17,5,4,2,10},b={7,5,4,12},b,a]]
</code></pre>
</div>
<div id="pu3" class="pu"><h1>C (MSVC + Win32), 163 bytes</h1>

<pre class="lang-c prettyprint-override"><code>#include&lt;windows.h&gt;
#include&lt;math.h&gt;
main(){for(char*s=&quot;DDKKMMK IIHHFFD KKIIHHF KKIIHHF DDKKMMK IIHHFFD &quot;;*s;s++)*s-32&amp;&amp;Beep(220*pow(1.06,*s-65),s[1]-32?400:800);}
</code></pre>
<p>In Windows 7, Beep was rewritten to pass the beep to the default sound device for the session. This is normally the sound card, except when run under Terminal Services, in which case the beep is rendered on the client.</p>
</div>
<div id="pu4" class="pu"><h2>JavaScript, <s>194 177</s> 176</h2>
<p>Now that WebAudio is a thing, I thought it would be fun to write this. (Yes, I know ES6 and WebAudio came out after the challenge was posted.) Tested on Microsoft Edge.</p>
<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>a=new AudioContext,o=a.createOscillator(i=0)
o.connect(a.destination)
setInterval(_=&gt;o.frequency.value=4*[65,73,82,87,98,110]['045432104321432104543210'[i++]]|0,1e3)
o.start(1)</code></pre>
</div>
</div>
</p>
<p>Given the lack of strict output requirements, I took the liberty of detuning some frequency values to be divisible by 4. It still sounds passable, relative-pitch wise. The final notes are off by -11, -10, -9, -6, 0, and 0 cents, for c, d, e, f, g, and a respectively, giving a total window of 11 cents. Not great to the trained ear, but recognizable as the tune, which is all the challenge requires.</p>
<p>There are also no breaks between notes, but that wasn't a requirement either.</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://raku.org/" rel="nofollow noreferrer">Raku</a>, 115 bytes</h1>
<pre><code>for 'xPHPZ`jxPZ`jPZ`jxPHPZ`jx'.ords.kv -&gt;\i,\p {print 9*(4*$_ div p%2&amp;&amp;2900&gt;$_)*(3==i%4||!(1500&gt;$_&gt;1400))for ^3e3}
</code></pre>
<p>Pipe to <code>aplay</code> to listen.</p>
</div>
<div id="pu6" class="pu"><h1>C - 520</h1>
<pre><code>#include &lt;linux/fd.h&gt;
#include &lt;time.h&gt;
struct timespec t,p;char*q=&quot;AAHHJJH  FFEECCA  HHFFEEC  HHFFEEC  AAHHJJH  FFEECCA&quot;;x,y,z,v,w;main(){x=open(&quot;/dev/fd0&quot;,3);for(y;q[y];y++){clock_gettime(CLOCK_MONOTONIC,&amp;p);if(q[y]&gt;' ')for(w=z=0;z&lt;4e8;z+=t.tv_nsec,w++){struct floppy_raw_cmd s={0};s.flags=FD_RAW_NEED_SEEK;v=!v;s.track=v;ioctl(x,FDRAWCMD,&amp;s);clock_gettime(CLOCK_MONOTONIC,&amp;t);t.tv_nsec=(w+1)*5e8/pow(2.,q[y]/12.)-(t.tv_sec-p.tv_sec)*1e9-t.tv_nsec+p.tv_nsec;t.tv_sec=0;nanosleep(&amp;t,0);}t.tv_nsec=2e8;nanosleep(&amp;t,0);}}
</code></pre>
<p>Why use past century's hardware like speakers and headphones? This excellent piece of code lets you play the song on a modern piece of hardware: a floppy drive!<br />
No special requirements:</p>
<ul>
<li>An IDE floppy drive</li>
<li>Linux kernel</li>
<li>Compile with <code>-lm</code></li>
<li>Make sure the program can access <code>/dev/fd0</code>, so either chown the device or run as superuser</li>
</ul>
<p>Bends the rules a bit, but let's for a second consider the floppy drive a sound device, and the IDE controller an integrated sound card.</p>
</div>
<div id="pu7" class="pu"><h1>Powershell, <s>120</s> 117 bytes</h1>

<p><code>[Console]::beep</code>, note labels and frequencies inspired by <a href="https://codegolf.stackexchange.com/a/15739/80745">Iszi</a></p>

<pre><code> ($a='ccggaaGffeeddC')+'ggffeeD'*2+$a|% t*y|%{[console]::beep((0,110,0,65,73,82,87,98)[$_-band7]*4,600+600*($_-lt97))}
</code></pre>

<p><strong>Main idea</strong>:</p>

<ul>
<li>The melody is encoded in a string.</li>
<li>The notes are encoded with chars <code>A</code>,<code>C</code>,<code>D</code>,<code>E</code>,<code>F</code>,<code>G</code>.</li>
<li>Uppercase means a <code>double duration</code>.</li>
<li>3 lower bits (<code>$_-band7</code>) of each note uses as index in the frequencies array (<code>A-&gt;1</code>,<code>C-&gt;3</code>,<code>D-&gt;4</code>...)</li>
<li>This script uses the reduced sampling rate for frequencies: <code>(0,110,0,65,73,82,87,98)[$_-band7]*4</code> instead Iszi's <code>(0,440,0,262,294,330,349,392)[$_-band7]</code>. <code>[console]::Beep</code> is not the most accurate musical instrument, so it can slightly fake :)</li>
</ul>

<p><strong>Explanation</strong>: For each char from the melody string <code>ccggaaGffeeddCggffeeDggffeeDccggaaGffeeddC</code>, the script:</p>

<ul>
<li>lookups frequensies from the array using the lower bits as index</li>
<li>calculates a duration based on char uppercase/lowercase</li>
<li>calls <code>[console]::beep</code> to play the note</li>
</ul>
</div>
<div id="pu8" class="pu"><h1>SmileBASIC, 45 bytes</h1>
<pre><code>BGMPLAY&quot;{M=CCGGAAG2FFEEDDC2}{M}[GGFFEED2]2{M}
</code></pre>
</div>
<div id="pu9" class="pu"><h1>bash + say + gunzip, 136 bytes</h1>

<p><code>say</code>, of course, being the OS X text-to-speech command. This is... dorky. Yeah, let's go with dorky.</p>



<pre class="lang-bash prettyprint-override"><code>printf '&lt;117 bytes&gt;'|gunzip|sh
</code></pre>

<p>The 117 bytes is, of course, a gzip stream containing unprintable characters. Here's an xxd dump of the script including those characters:</p>



<pre class="lang-bash prettyprint-override"><code>00000000: 7072 696e 7466 2027 1f8b 085c 305c 305c  printf '...\0\0\
00000010: 305c 305c 3002 032b 4eac 54d0 2d0b c9c8  0\0\0..+N.T.-...
00000020: cf4d 2c56 c8e7 c2ca 75cc cb4b c4ce 71cb  .M,V....u..K..q.
00000030: ccc7 c90b 4b4d 85f0 7252 530b 14f4 4ca0  ....KM..rRS...L.
00000040: c2de 8945 a979 4061 6cbc e0c4 dcc4 bc92  ...E.y@al.......
00000050: 8c44 dc02 2e89 7999 a939 685c 5c74 7723  .D....y..9h\\tw#
00000060: ec44 755c 6e2a 8f8a ee19 581b 8767 1402  .Du\n*....X..g..
00000070: 5c30 fa36 7e25 2599 025c 305c 3027 7c67  \0.6~%%..\0\0'|g
00000080: 756e 7a69 707c 7368                      unzip|sh
</code></pre>

<h2>Explanation</h2>

<p>The 117 bytes is the following script gzipped:</p>

<pre class="lang-bash prettyprint-override"><code>say -vThomas o
say -vThomas o
say -vAnna o
say -vAnna o
say -vFiona o
say -vFiona o
say -vVeena o
sleep .4
say -vKaren o
say -vKaren o
say -vSamantha o
say -vSamantha o
say -vDaniel o
say -vDaniel o
say -vThomas o
sleep .4
say -vVeena o
say -vVeena o
say -vKaren o
say -vKaren o
say -vSamantha o
say -vSamantha o
say -vDaniel o
sleep .4
say -vVeena o
say -vVeena o
say -vKaren o
say -vKaren o
say -vSamantha o
say -vSamantha o
say -vDaniel o
sleep .4
say -vThomas o
say -vThomas o
say -vAnna o
say -vAnna o
say -vFiona o
say -vFiona o
say -vVeena o
sleep .4
say -vKaren o
say -vKaren o
say -vSamantha o
say -vSamantha o
say -vDaniel o
say -vDaniel o
say -vThomas o
</code></pre>

<p>That's right, I just made a bunch of different <code>say</code> voices say "o." To figure out which ones, I wrote a script using <a href="https://github.com/aubio/aubio" rel="noreferrer">aubionotes</a> to get a quick-and-dirty estimate of each voice's pitch, then did a lot of trial and error the find ones that sound mostly right.</p>

<p>I considered trying to golf this manually, but there's so much repetition that I figured Zopfli would make shorter work of it, so I took the easy way out.</p>
</div>
<div id="pu10" class="pu"><h2>Arduino, 688</h2>

<pre><code>int length=15;char notes[]="ccggaag ffeeddc ggffeed ggffeed ccggaag ffeeddc";int beats[]={1,1,1,1,1,1,2,1,1,1,1,1,1,2,4};int tempo=300;void playTone(int tone,int duration){for(long i=0;i&lt;duration*1000L;i+=tone*2){digitalWrite(11,HIGH);delayMicroseconds(tone);digitalWrite(11, LOW);delayMicroseconds(tone);}}void playNote(char note, int duration){char names[]={'c','d','e','f','g','a','b','C'};int tones[]={1915,1700,1519,1432,1275,1136,1014,956};for(int i=0;i&lt;8;i++){if(names[i]==note){playTone(tones[i], duration);}}}void setup(){pinMode(11, OUTPUT);}void loop(){for(int i=0;i&lt;length;i++){if(notes[i]==' '){delay(beats[i]*tempo);}else{playNote(notes[i],beats[i]*tempo);}delay(tempo/2);}}
</code></pre>

<p>Plug in the buzzer on output 11. I concentrated mainly on <strong>quality</strong>, but also on code length.</p>
</div>
<div id="pu11" class="pu"><h1>PowerShell: 207</h1>

<p><strong>Golfed code:</strong></p>

<pre><code>filter n {switch($_){C{262}D{294}E{330}F{349}G{392}A{440}}}$t="CCGGAAGFFEEDDCGGFFEEDGGFFEEDCCGGAAGFFEEDDC";1..6|%{$t[0..5]|n|%{[console]::beep($_,600)};$t[6]|n|%{[console]::beep($_,1200)};$t=$t.SubString(7)}
</code></pre>

<p><strong>Ungolfed, with comments:</strong></p>

<pre><code># Filter to define note frequencies.
filter n {switch($_){C{262}D{294}E{330}F{349}G{392}A{440}}}

# Notes for Twinkle, Twinkle, Little Star.
$t="CCGGAAGFFEEDDCGGFFEEDGGFFEEDCCGGAAGFFEEDDC"

# Run through each phrase in the song.
1..6|%{
    # Play first six notes as quarter notes.
    $t[0..5]|n|%{[console]::beep($_,600)}
    # Play seventh note as half note.
    $t[6]|n|%{[console]::beep($_,1200)}
    # Left-shift $t by 7 notes.
    $t=$t.SubString(7)
}
</code></pre>

<p>Not the greatest-sounding rendition of the song ever, but it works.</p>
</div>
<div id="pu12" class="pu"><h2>C, 96 chars</h2>

<pre><code>main(t){for(;++t&gt;&gt;16&lt;3;)putchar(t*!!(t&gt;&gt;9&amp;7|!(-t&gt;&gt;12&amp;7))*(96+"#d|dOE3#dOE3dOE3"[t&gt;&gt;13&amp;15])&gt;&gt;5);}
</code></pre>

<p>Produces raw 8-bit unsigned mono audio data in classic <a href="http://canonical.org/~kragen/bytebeat/" rel="nofollow">bytebeat</a> style.  Recommended sample rates for playback are between 8 and 16 kHz; changing the sample rate changes the tempo and pitch.</p>

<p>To compile and play under Linux, save the code above as <code>twinkle.c</code> and run the following commands:</p>

<pre><code>gcc twinkle.c -o twinkle
./twinkle | aplay
</code></pre>

<p>Some notes on how the code works:</p>

<ul>
<li><p>The general trick used for bytebeat compositions like this is that <code>putchar()</code> takes an integer value but only prints the low eight bits of it.  Thus, <code>putchar(t)</code>, where <code>t</code> is an increasing counter, generates a sawtooth wave, and the frequency of the wave can be altered by multiplying <code>t</code> with a suitable value.</p></li>
<li><p><code>!!(t&gt;&gt;9&amp;7|!(-t&gt;&gt;12&amp;7))</code> produces the repeating 6+1 note pattern.  Specifically, <code>!!(t&gt;&gt;9&amp;7)</code> evaluates to <code>0</code> whenever <code>t&gt;&gt;9 &amp; 7 == 0</code> and to <code>1</code> otherwise.  Thus, it produces a 512-sample gap in the waveform every 4096 samples, while the <code>!(-t&gt;&gt;12&amp;7)</code> eliminates every eighth such gap.</p></li>
<li><p><code>96+"#d|dOE3#dOE3dOE3"[t&gt;&gt;13&amp;15]</code> generates the melody: the ASCII code of each characters in the string plus 96 gives the relative frequency of the corresponding note.  Actually, the values are the approximate frequencies in Hz of concert pitch notes in the 3rd / small octave, i.e. with A corresponding to 220.  However, since the base tone with which these values are multiplied is about 64 Hz (when played at 16 kHz, or 32 Hz when played at 8 kHz), we need to scale the result down by five octaves with <code>&gt;&gt;5</code> to get the frequency back into a reasonable range.</p></li>
</ul>

<p>Ps. If you want to try this code on a JavaScript-based bytebeat player, replace <code>[t&gt;&gt;13&amp;15]</code> with <code>.charCodeAt(t&gt;&gt;13&amp;15)</code>.</p>
</div>
<div id="pu13" class="pu"><h1>Python <del>317</del> <del>305</del> 301</h1>

<p>This is my solution, using only standard python libraries:</p>

<pre><code>import math,wave,struct;d=24000;r=1100.;t=wave.open("t.wav","w");t.setparams((1,2,int(r),d,"NONE",""));a=[0,7,9,7];b=[5,4,2,0];c=[7,5,4,2]
for h in[math.sin(6*[240*2**(j/12.)for j in a+b+c+c+a+b][x/1000]*(x/r))*(x%500&gt;9 or x/1000%4&gt;2)for x in range(d)]:t.writeframes(struct.pack('h', int(h*64000/2)))
</code></pre>

<p>And here it is with some more whitespace for readability:</p>

<pre><code>import math,wave,struct;d=24000;r=1100.
a=[0,7,9,7];b=[5,4,2,0];c=[7,5,4,2];s=[240*2**(j/12.) for j in a+b+c+c+a+b]
z=[math.sin(6*s[int(x/1000)]*(x/r))*(x%500&gt;10 or int(x/1000)%4&gt;2) for x in range(d)]
t=wave.open("t.wav","w");t.setparams((1,2,int(r),d,"NONE",""))
for h in z:t.writeframes(struct.pack('h', int(h*64000./2)))
</code></pre>
</div>
<div id="pu14" class="pu"><h2>C, 277 characters</h2>

<pre><code>#include&lt;math.h&gt;
a[]={0,7,9,7,5,4,2,0,7,5,4,2,7,5,4,2,0,7,9,7,5,4,2,0},i,j,f;main(){unsigned char
b[8000];f=open("/dev/dsp",1);for(i=0;i&lt;24;i++){for(j=0;j&lt;8000;j++){b[j]=(i%4==3
||j/400%20!=9?1+sinf(j*powf(2,a[i]/12.)):1)*127;}for(j=0;j&lt;8000;j+=write(f,b+j,
8000-j));}close(f);}
</code></pre>

<h2>Perl, 203 characters</h2>

<pre><code>open F,'&gt;:raw','/dev/dsp';for$a(0,7,9,17,5,4,2,10,7,5,4,12,7,5,4,12,0,7,9,17,5,4
,2,10){$b=pack'C*',map 127*($a&gt;9||$_/400%20!=9?1+sin($_*2**($a%10/12)):1),0..
7999;$b=substr$b,syswrite F,$b while length$b}
</code></pre>

<p>Conveniently, <a href="http://en.wikipedia.org/wiki/Open_Sound_System">OSS</a>'s <code>/dev/dsp</code> defaults to 8kHz mono u8; all I do here is open the device and write computed samples.</p>
</div>
<div id="pu15" class="pu"><h2><a href="http://en.wikipedia.org/wiki/HyperCard" rel="nofollow">HyperCard</a> 2.2 - 113</h2>

<pre><code>play harpsichord "c c g g a a gh fq f e e d d ch gq g f f e e dh gq g f f e e dh cq c g g a a gh fq f e e d d ch"
</code></pre>

<p><strong>Usage:</strong> Start HyperCard, type &#x2318;M to open the Message Box, paste the code above, and press enter.</p>

<p><code>harpsichord</code> may be replaced with <code>flute</code> or <code>boing</code> to get different sounds.</p>
</div>
<div id="pu16" class="pu"><h2><strong>C# (Length: LOL)</strong></h2>

<p>So, what I did here was implement support for generating a .wav file from the string used for the QBasic solution in C# (single octave, no accidentals).  Emphasis was on:</p>

<ol>
<li>Avoiding <code>unsafe</code> code blocks</li>
<li>Not wasting <em>too</em> much of my time doing it</li>
<li>Making it <em>relatively</em> simple to extend</li>
</ol>

<hr>

<pre><code>using System;
using System.Collections.Generic;
using System.Linq;
using System.Reflection;
using System.Text.RegularExpressions;
using System.IO;

namespace ConsoleApplication1
{
    public static class Extension
    {
        public static byte[] ToByteArray(this object o)
        {
            return o.GetType().GetProperties(BindingFlags.Public | BindingFlags.Instance)
                .SelectMany(x =&gt;
                                {
                                    var value = x.GetValue(o, null);
                                    if (value.GetType().Equals(typeof (UInt16)))
                                    {
                                        return BitConverter.GetBytes((UInt16) value);
                                    }
                                    if (value.GetType().Equals(typeof (UInt32)))
                                    {
                                        return BitConverter.GetBytes((UInt32) value);
                                    }
                                    if (value.GetType().Equals(typeof(char[])))
                                    {
                                        return ((char[]) value).Select(y =&gt; Convert.ToByte(y));
                                    }
                                    if (value.GetType().Equals(typeof(byte[])))
                                    {
                                        return (byte[]) value;
                                    }
                                    throw new NotImplementedException();
                                }).ToArray();
        }
    }
    public class Wave
    {
        public readonly byte[] WavFile; 

        public Wave(string notes)
        {
            var header = new Header();
            var data = new List&lt;Chunk&gt;();
            var f = new Fmt(8000);
            data.Add(f);
            data.Add(new WavData(notes, f));
            var thefile = data.SelectMany(x =&gt; x.ToByteArray()).ToArray();
            header.Size = (uint)thefile.Length + 4;
            WavFile = header.ToByteArray().Concat(thefile).ToArray();
        }
        class WavData: Chunk
        {
            private static IEnumerable&lt;byte&gt; RenderNote(string note, int length, Fmt fmt)
            {
                double frequency;
                switch (note)
                {
                    case "A":
                        frequency = 440;
                        break;
                    case "B":
                        frequency = 493.883;
                        break;
                    case "C":
                        frequency = 261.626;
                        break;
                    case "D":
                        frequency = 293.665;
                        break;
                    case "E":
                        frequency = 329.628;
                        break;
                    case "F":
                        frequency = 349.228;
                        break;
                    case "G":
                        frequency = 391.995;
                        break;
                    default:
                        throw new NotImplementedException("Unsupported Note");
                }
                var result = new byte[fmt.SampleRate / length * 2];  // For 120BPM tempo
                for (int i = 0; i &lt; result.Length; i++)
                {
                    double time = (i % fmt.SampleRate) / (double)fmt.SampleRate;
                    double position = time * frequency;
                    if (result.Length - i &lt;= fmt.SampleRate / 16)
                        result[i] = 127;
                    else
                        result[i] = (byte)Math.Round((Math.Sin(position * 2 * Math.PI) + 1) * 127);
                }
                return result;
            }
            public WavData(string notes, Fmt fmt)
            {
                Samples = new byte[0];
                foreach (var note in Regex.Matches(notes, @"[A-G][1|2|4|8]?").OfType&lt;Match&gt;().Select(x =&gt; x.Value))
                {
                    Samples = Samples.Concat(RenderNote(note[0] + "", note.Length &gt; 1 ? note[1] - '0' : 4, fmt)).ToArray();
                }

            }
            public override char[] Id
            {
                get { return "data".ToCharArray(); }
            }
            public override uint DataSize
            {
                get { return (uint)Samples.Length; }
            }
            public byte[] Samples { get; private set; }
        }
        class Fmt : Chunk
        {
            public Fmt(UInt32 sampleRate)
            {
                CompressionCode = 1; // Unknown/PCM
                Channels = 1;
                SampleRate = sampleRate;
                SignificantBits = 8;
            }
            public override char[] Id
            {
                get { return "fmt ".ToCharArray();}
            }
            public override uint DataSize
            {
                get { return 16; }
            }
            public UInt16 CompressionCode { get; private set; }
            public UInt16 Channels { get; private set; }
            public UInt32 SampleRate { get; private set; }
            public UInt32 AvgBytesPerSecond { get { return SampleRate*BlockAlign; } }
            public UInt16 BlockAlign { get { return (UInt16) (SignificantBits/8*Channels); } }
            public UInt16 SignificantBits { get; private set; }
        }
        class Header
        {
            public Header()
            {
                Type = "RIFF".ToCharArray();
                RiffType = "WAVE".ToCharArray();
                Size = 0;
            }

            public char[] Type { get; private set; }
            public UInt32 Size { get; set; }
            public char[] RiffType { get; private set; }
        }
        abstract class Chunk
        {
            public abstract char[] Id { get; }
            public abstract UInt32 DataSize { get; }
        }
    }
    class Program
    {
        public static void Main(string[] args)
        {
            var p1 = "CCGGAAG2";
            var p2 = "FFEEDDC2";
            var p3 = "GGFFEED2";
            var w = new Wave(p1+p2+p3+p3+p1+p2);
            using (var f = new FileStream("testfile.wav", FileMode.Create))
                f.Write(w.WavFile, 0, w.WavFile.Length);
        }
    }
}
</code></pre>
</div>
<div id="pu17" class="pu"><h2>Python (259)</h2>

<pre><code>import pysynth

c=('c',4)
g=('g',4)
a=('a',4)
b=('b',4)
d=('d',4)
e=('e',4)
f=('f',4)
g2=('g',2)
c2=('c',2)
d2=('d',2)

s=(c,c,g,g,a,a,g2,f,f,e,e,d,d,c2,g,g,f,f,e,e,d2,g,g,f,f,e
            ,e,d2,c,c,g,g,a,a,g2,f,f,e,e,d,d,c2)

pysynth.make_wav(s,fn="s.wav")
</code></pre>
</div>
<div id="pu18" class="pu"><h3>QBasic (56)</h3>

<pre><code>A$="CCGGAAG2FFEEDDC2"
B$="GGFFEED2"
PLAY "L4"+A$+B$+B$+A$
</code></pre>

<p>Focus is on reminiscence :)</p>

<p>(Don't have a QBasic to test this though)</p>
</div>
<div id="pu19" class="pu"><h3>JavaScript (<s>214</s> <s>212</s> 211 characters)</h3>

<p>Open Safari, Opera, or Google Chrome to <a href="http://www.squarefree.com/shell/shell.html">JavaScript Shell</a>, then enter the code below:</p>

<pre><code>for(s="",y=192e3;x=--y/4e3|0;)s+="~ "[(y%4e3&gt;800|x%8==1)&amp;Math.pow(2,"024579702457245702457970"[x&gt;&gt;1]/12)*y/31%2];open("data:audio/wav;base64,UklGRiXuAgBXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQHuAgCA"+btoa(s))
</code></pre>

<p>Unminified for readability (even then it may be hard to understand):</p>

<pre><code>for(s = "", y = 192E3; x = --y / 4E3 | 0;) {
  s += "~ "[(y % 4E3 &gt; 800 | x % 8 == 1) &amp; Math.pow(2, "024579702457245702457970"[x &gt;&gt; 1] / 12) * y / 31 % 2];
}
open("data:audio/wav;base64,UklGRiXuAgBXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQHuAgCA" + btoa(s));
</code></pre>

<p>With several more characters, it could work on Firefox as well, but you can change the <code>audio/wav</code> part to at least save the WAV file.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/272/">272</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




