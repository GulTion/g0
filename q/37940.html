<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::37940</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>240</td><td>R</td><td>240509T172833Z</td><td><a href="https://codegolf.stackexchange.com/questions/37940/word-search-puzzle/273041#273041">Pradeep </a></td></tr>
<tr d-ix="1"><td>044</td><td>APL Dyalog Classic</td><td>180506T100011Z</td><td><a href="https://codegolf.stackexchange.com/questions/37940/word-search-puzzle/164261#164261">ngn</a></td></tr>
<tr d-ix="2"><td>016</td><td>Jelly</td><td>180505T215556Z</td><td><a href="https://codegolf.stackexchange.com/questions/37940/word-search-puzzle/164251#164251">Jonathan</a></td></tr>
<tr d-ix="3"><td>053</td><td>J</td><td>180421T105257Z</td><td><a href="https://codegolf.stackexchange.com/questions/37940/word-search-puzzle/163007#163007">DELETE_M</a></td></tr>
<tr d-ix="4"><td>nan</td><td></td><td>140918T154631Z</td><td><a href="https://codegolf.stackexchange.com/questions/37940/word-search-puzzle/37942#37942">FryAmThe</a></td></tr>
<tr d-ix="5"><td>037</td><td>CJam</td><td>140918T162753Z</td><td><a href="https://codegolf.stackexchange.com/questions/37940/word-search-puzzle/37945#37945">Dennis</a></td></tr>
<tr d-ix="6"><td>nan</td><td></td><td>140919T152154Z</td><td><a href="https://codegolf.stackexchange.com/questions/37940/word-search-puzzle/37974#37974">edc65</a></td></tr>
<tr d-ix="7"><td>186</td><td>C#</td><td>140918T161141Z</td><td><a href="https://codegolf.stackexchange.com/questions/37940/word-search-puzzle/37944#37944">VisualMe</a></td></tr>
<tr d-ix="8"><td>nan</td><td></td><td>140918T154447Z</td><td><a href="https://codegolf.stackexchange.com/questions/37940/word-search-puzzle/37941#37941">Geobits</a></td></tr>
<tr d-ix="9"><td>163</td><td>C</td><td>140919T142921Z</td><td><a href="https://codegolf.stackexchange.com/questions/37940/word-search-puzzle/37973#37973">Level Ri</a></td></tr>
<tr d-ix="10"><td>173</td><td>Haskell</td><td>140919T155003Z</td><td><a href="https://codegolf.stackexchange.com/questions/37940/word-search-puzzle/37976#37976">Ray</a></td></tr>
<tr d-ix="11"><td>169</td><td>Bash+coreutils</td><td>140918T182742Z</td><td><a href="https://codegolf.stackexchange.com/questions/37940/word-search-puzzle/37950#37950">Digital </a></td></tr>
<tr d-ix="12"><td>175</td><td>Python</td><td>140918T155458Z</td><td><a href="https://codegolf.stackexchange.com/questions/37940/word-search-puzzle/37943#37943">Ell</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, 240 bytes</h1>
<pre class="lang-r prettyprint-override"><code>\(S,s,`!`=length,r=rep,`?`=strsplit,`^`=Reduce,p=paste0){d=e=Map(r,r(&quot;&quot;,!(b=(a=el(S?&quot;\n&quot;)?&quot;&quot;))),(x=-1+2*!el(b)))
for(j in 1:!b)d[[j]][j:(j-1+!el(b))]=e[[j]][(x-j):(x-j-1+!el(b))]=b[[j]]
any(grepl(p^c(s,&quot;|&quot;,rev(el(s?&quot;&quot;))),c(a,p^b,p^e,p^d)))}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=VVDdbtMwGBW3forUVw44iHEzVM2qTOyuVtJ4slMirWuV_3VV6CInRavYnoSbgsRDwVPwCCTNkNiF7e_86PjY376b44-S_Ny3pfPh158bpHGD41FMqmJ3226wIaaocTyJSdOapq7uWhyvY6KKfJ8VuCZ10rTFO_trTgoyT2pksEEQ4hFKCUpIUSE9gTc7aE8gtG0bowfinL15_3rUKWlHgPLeoK11t7POxqPUzpfL7Wq13I7RtrM9m1akGGj04Gztcb__L6YnESS7A7rtulaoXmeowfARYlN8QZ2teb48Qwmu12m3uubrvKOehnf_fnWuLxwYfeIqFC71faCkpNOpr-lHQF0lfEFDSUHAJPNkEDEXMOVxLSVjHpCcX13zS19EYK6FmEnKFQXUV55SQnEFPMkE40y5DMy4H2mfL8IZBKA1-3ZzuHAyBBXtsucQW_Bfh36eSSWuZRAOKJKKaU6VOzsh4YkrzgTtQUiFD20AyqRqhsDo3uS6SEy26XVXMn4p_Wk_LwLhShX09s9JXVcHVGJLY2tog62F5m8DOueaTO2XjlP6S8Pwf8fjcP4F" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>This is a function that creates all 4 possible combinations - rows, columns and 2 diagonals and searches the substring or the reverse of it in the vector.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog Classic)</a>, 44 bytes</h1>



<pre class="lang-apl prettyprint-override"><code>1∊⍞⍷↑{⍉0,⍵,↑(0,⊢)\↓0,⍵}¨{⍉⌽⍵}\4⍴⊂↑a⊆⍨a≠⊃⌽a←⎕
</code></pre>

<p><a href="https://tio.run/##TVLBbtNAEL3nK@ZWkNKolfgBYzuNFddbbVIiVb1s7W26ku11vbuhCHEBKbQRQSDEFSFO/QAQJy58yv5IGGdTtifPe/N25s14WFPuF69YKef7ecmUEvnGfvwqpF1@OujZ2/eXm0N7u7Lrb3b92y4/v7bru4O@Xf/qI3iC0erH03O7/LLl3vy97/L2w58OnD@z65929RaFzK6Wdn3P7N13u3qHeYblsc0GG2wyF5tcweFBjwHCvdmLmE6TMEjTvX7WY/2Oo4QEw2E6CZ57LghpkibBlASeyyISjUk2i0LPRXQcTwiJorHnSByfnMVHaTLz3PEkSUYkiOmjekFKx5QmNKaeG5MoieKIhpHnRnE6m6Tx6XTUcb3LHuvRAM0cu/hhIodGhCZnJJs@4Bmh0SQOaDja4WScnMRREjg4DZK0t@8ysi0mnLX5lUuFJIqPSDp06DRLQkIz1O42mcqWVyAaZSooZClbUEIDq7iGXNaK55pr44dogRWiEXgGop4DL1GreIEvgQujKlmA5pWXN1hP1LkoRGFqDUZDyS6wI2D5bTcOFfPyec2AleLasAGcauC1qLAfVKILFghZ1QcvvzZCQS2Vbk0B/Ia3udBMC1mDKUtW5bLr5uWy7eTovfOxbSMafAac4agVepf49XIcHo3oAURdG2Y0B9EadOzWJGpoefNoM/yK1wVvcSOYWsjSNGiGo@1uSVwpDrnw8rJ8WDguw8ClmQumoe6MQ8NaBKYd/D@U7V9yIS6Du8hUDC5k44A2XBeycEDVsuyzXYLfMOXCRohBAbBwaMFvNNsdTenrv8T7UY/uxz3avalwC/8A" rel="nofollow noreferrer" title="APL (Dyalog Classic) – Try It Online">Try it online!</a></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 16 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>

<p><sup>Solved a <a href="https://codegolf.stackexchange.com/q/164219/53748">related (possibly a duplicate) challenge</a> with 15 of these 16 bytes as the core of the code...</sup></p>

<pre><code>ỴZU$3Ð¡;ŒD$€Ẏw€Ẹ
</code></pre>

<p>A dyadic link accepting a list of characters on the left and a list of characters on the right which returns 1 if found and 0 if not.</p>

<p><strong><a href="https://tio.run/##NY2xSgNBEIb7fY7ANuksrSY7c7lhNzdh9s6FEwuJAZGAkCak9QEk@AZWNpYWop2HDxJfZN0LWs338Q//f7febPY5Hz/f@m5yNhy@ns@/n3Dy8/B6/Hjcnc57Hl6GQ8GcrbXpgrRlByEYFYGqChFmBpxyYGgFTIOCXpqEzqB6iiKI3gjRsqd54GQWkbkWIAUDQb0qK6nxgoyE6tDUFFIM1LV12cuXVqF0LuzU/k8XrEW5l6Y9SRLFSKCuHoU9LwkZCrfAY/5XNrUzcD6B4vh2v72J6@vt6raIE6S5hKpg17ATbezVLw" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>

<h3>How?</h3>

<pre><code>ZU$3Ð¡;ŒD$€Ẏw€Ẹ - Link: words, grid
   3Ð¡          - repeat three times and collect the results (inc input):
  $             -   last two links as a monad:
Z               -     transpose
 U              -     upend     (together these rotate by a quarter)
          €     - for €ach:
         $      -   last two links as a monad:
       ŒD       -     get forward-diagonals
      ;         -     concatenate
           Ẏ    - tighten (to get all the runs across the grid) 
             €  - for €ach run:
            w   -   sublist-index (0 if not found)
              Ẹ - any truthy? (i.e. was the word found?)
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, <s>60</s> 53 bytes</h1>

<pre><code>&lt;@[e.[:,[:(;|.)@&gt;[:&lt;\\.@&gt;[:(&lt;"1,&lt;/.)@&gt;@(;|.@|:)[;.2@]
</code></pre>

<p><a href="https://tio.run/##y/qvpKegnlhQkJpYlJmnYGulrqCjUGulYKAAxP9tHKJT9aKtdKKtNKxr9DQd7KKtbGJi9EC0ho2SoY6NPkjQASTpUGOlGW2tZ@QQ@1@TKyk/sSgFaJhCcUlKZp66Oldqcka@grqjk7O6AtwusCKojLOLKw4ZR1c3XDIu7ugy/4E2cAHN4nJ1c@cCAA" rel="nofollow noreferrer" title="J – Try It Online">Try it online!</a></p>

<p>Requires the first input to contain no newlines.</p>

<p>Explanation:</p>

<pre><code>linkrotate=: ;|.@|:     NB. link with itself rotated 90° ccw
infixes   =: &lt;\\.       NB. list of boxes containing the infixes
lines     =: &lt;"1 , &lt;/.  NB. horizontal and diagonal lines, boxed
linkrev   =: ;|.        NB. link with itself reversed
appearin  =: &lt;@[ e. [: , [: linkrev@&gt; [: infixes@&gt; [: lines@&gt;@linkrotate [;.2@]
</code></pre>

<p><a href="https://tio.run/##dZBLbsIwGIT3PsWom2yQ@9g1UGQegV0vAF2Y2CF/G9kosaCqOFTP0IulfkR9IJFFpF8z883Ir33fkHlrrZNOP@UYn7k45wjf85wjaDiRq0Gu002FZFR4vPv6RFmeGJmK3nXn/T492W458CfdOdgKOxscpTVOkiGzh6s1hiDzFTGeADf3GGFyyxOgti19hFgDaRQUyb01/oiZUeQqFvfrYwL4/fi34HK/Puq28yl5OGjZkkm1YgPNscl9uf8NRDENx7AzHbFYTMXvm2Ez5g/ipd9Z2arA6pwik2VMl7VFNpsvMvx0RdOgLJbFFWVWrK4py/Wl0vsG5lmsWK3ZNw" rel="nofollow noreferrer" title="J – Try It Online">Try it online!</a></p>

<p>Hooks are useful.</p>
</div>
<div id="pu4" class="pu"><h2>Python 2 - 246 <s>259</s> <s>275</s> <s>308</s> <s>298</s> <s>297</s> <s>294</s> <s>313</s> <s>322</s></h2>
<pre><code>w,s=input()
r=range
d='\n'
I=''.join
w=w.split(d)
t,u=len(w),len(w[0])
v=d.join([I(x)for x in zip(*w)]+[d]+[I([w[i+j][i]for i in r(min(u,t-j))])+d+I([w[i][i+j]for i in r(min(t,u-j))])for j in r(max(t,u))]+[d]+w)
print s in v or s[::-1]in v
</code></pre>
<p>Thanks to Will for some help with dealing with the print and defining join.</p>
<p>Thanks to underground railroad for reminding me to golf spaces properly ;p</p>
<p>Fixed for bad matches thanks to using ',' as delimiter.</p>
<p>Apparently the best way to golf is to add tons of horizontal scrolling.</p>
<p>Input as <s>whitespace</s> <s>bang</s> newline delimited lines in quotes:
&quot;WVERTICALL\nROOAFFLSAB\nACRILIATOA\nNDODKONWDC\nDRKESOODDK\nOEEPZEGLIW\nMSIIHOAERA\nALRKRRIRER\nKODIDEDRCD\nHELWSLEUTH&quot;,&quot;RANDOM&quot;</p>
</div>
<div id="pu5" class="pu"><h1>CJam, <s>46</s> 37 bytes</h1>

<pre><code>qN%{_zW%__,N**2$2$+,)/z\}4*]:+N*eas#)
</code></pre>

<p>Reads the grid from STDIN and the word as a command-line argument. Prints positive integers for matches and 0 for non-matches.</p>

<p>At the cost of two extra bytes, both strings (word, linefeed, grid) can be read from STDIN:</p>

<pre><code>qN%(\{_zW%__,N**2$2$+,)/z\}4*](\:+N*\#)
</code></pre>

<p>You can try this version online with the <a href="http://cjam.aditsu.net/" rel="nofollow">CJam interpreter</a>.</p>

<h3>Example run</h3>

<pre><code>$ for W in Lorem mine uma\ bop tuetdod snol,a texas pii.d\ \ v vexta WordSearch CODEGOLF UNICORN; do echo -e "$(cjam wordsearch.cjam "$W" &lt; grid)\t$W"; done
1       Lorem
3085    mine
2055    uma bop
5142    tuetdod
3878    snol,a
1426    texas
5371    pii.d  v
2536    vexta
0       WordSearch
0       CODEGOLF
0       UNICORN
</code></pre>

<h3>Background</h3>

<p>Assume the input was the following grid:</p>

<pre><code>ABCD
EFGH
IJKL
</code></pre>

<p>Splitting at linefeeds, we obtain the following array:</p>

<pre><code>A := [
         "ABCD"
         "EFGH"
         "IJKL"
     ]
</code></pre>

<p>That covers East words (words going from left to right).</p>

<p>Now, we join the elements of <code>A</code> using a string of <code>len(A)</code> linefeeds as separator:</p>

<pre><code>"ABCD⏎⏎⏎EFGH⏎⏎⏎IJKL"
</code></pre>

<p>Then, we chop the resulting string in chunks of length <code>len(A) + len(A[0]) + 1</code>:</p>

<pre><code>[
    "ABCD⏎⏎⏎E"
    "FGH⏎⏎⏎IJ"
    "KL"
]
</code></pre>

<p>If we "zip" the array (transpose rows and columns), we obtain:</p>

<pre><code>[
    "AFK"
    "BGL"
    "CH"
    "D⏎"
    "⏎⏎"
    "⏎⏎"
    "I⏎"
    "EJ"
]
</code></pre>

<p>That covers South East words.</p>

<p>If we zip A and reverse the order of the result's rows, we obtain:</p>

<pre><code>[
    "DHL"
    "CGK"
    "BFJ"
    "AEI"
]
</code></pre>

<p>That covers South and – after repeating the process for diagonals – South West words.</p>

<p>Zipping and reversing again, we obtain:</p>

<pre><code>[
    "LKJI"
    "HGFE"
    "DCBA"
]
</code></pre>

<p>That covers West  and – after repeating the process for diagonals –  North West words.</p>

<p>Zipping and reversing once more, we obtain:</p>

<pre><code>[
    "IEA"
    "JFB"
    "KGC"
    "LHD"
]
</code></pre>

<p>That covers North and – after repeating the process for diagonals – North East words.</p>

<h3>How it works</h3>

<p>The code does as explained in the previous section, with two minor differences:</p>

<ul>
<li>It zips and reverses once at the very beginning.</li>
<li>It computes <code>len(A) + len(A[0])</code> as <code>len(A + zip(A))</code>.</li>
</ul>

<p>Finally, it joins all rows of all generated arrays using linefeeds as separators and searches for the word in the resulting string.</p>

<pre><code>qN%                                   " A := split(input(),'\n')                          ";
   {                    }4*           " Do 4 times:                                       ";
    _zW%                              "   B := reverse(zip(A))                            ";
        __,N**                        "   C := B.join(len(B) * '\n')                      ";
              2$2$+,)/z               "   D := zip(C.chunks(len(A + B) + 1))              ";
                       \              "   A := B                                          ";
                           ]          " Collect all values of A and D in an array R.      ";
                            :+        " R := flatten(R)                                   ";
                              N*      " R := R.join('\n')                                 ";
                                eas   " I := flatten(ARGV)                                ";
                                   #) " print R.index(I) + 1                              ";
</code></pre>
</div>
<div id="pu6" class="pu"><h1>JavaScript (E6) 111 <s>116</s></h1>
<p>Brute force search for every character in every direction - as golfed as I can</p>
<pre><code>F=(b,w)=&gt;
  [1,-1,r=b.search('\n'),-r,++r,-r,++r,-r].some(d=&gt;
    [...b].some((_,p)=&gt;
      [...w].every(c=&gt;c==b[p+=d],p-=d)
    )
  )
</code></pre>
<p><strong>Test</strong> In FireFox/Firebug console</p>
<pre><code>;[&quot;RANDOM&quot;, &quot;VERTICAL&quot;, &quot;HORIZONTAL&quot;, &quot;WORDSEARCH&quot;, &quot;WIKIPEDIA&quot;, &quot;TAIL&quot;,
&quot;WordSearch&quot;, &quot;CODEGOLF&quot;, &quot;UNICORN&quot;]
.forEach(w=&gt;console.log('\n'+ w +' -&gt; '+
  F(&quot;WVERTICALL\nROOAFFLSAB\nACRILIATOA\nNDODKONWDC\nDRKESOODDK\nOEEPZEGLIW\nMSIIHOAERA\nALRKRRIRER\nKODIDEDRCD\nHELWSLEUTH&quot;,w)))
</code></pre>
<p><em>Output</em></p>
<pre><code>RANDOM -&gt; true
VERTICAL -&gt; true
HORIZONTAL -&gt; true
WORDSEARCH -&gt; true
WIKIPEDIA -&gt; true
TAIL -&gt; true
WordSearch -&gt; false
CODEGOLF -&gt; false
UNICORN -&gt; false
</code></pre>
</div>
<div id="pu7" class="pu"><h1>C# - <s>218</s> <s>197</s> 186 bytes</h1>

<p>C# function that takes 2 strings, the first the word to search for, the later the grid with line feeds (<code>\n</code>) between lines. Things are getting desperate now... <em>so desperate</em> in-fact that my previous edit <em>didn't work!</em></p>

<p>Golfed code:</p>

<pre><code>bool F(string D,string S){int l=S.Length,i=l*13,r,p;for(S+="\n";i--&gt;l*5;i=r&lt;0?r:i)for(r=D.Length,p=i%l;p&gt;-1&amp;p&lt;l&amp;r--&gt;0&amp;&amp;D[r]==S[p];p+=(S.IndexOf('\n')+1)*(i/l%9/3-1)+i/l%3-1);return i&lt;0;}
</code></pre>

<p>Less golfed with test code:</p>

<pre><code>class P
{
    static void Main()
    {
        System.Console.WriteLine(new P().F(System.Console.ReadLine(),System.Console.In.ReadToEnd())?"Truthy":"Falsy"); // because why not
    }

    bool F(string D,string S)
    {
        int l=S.Length,i=l*13,r,p;

        for(S+="\n";i--&gt;l*5;i=r&lt;0?r:i) // for each cell/direction
            for(r=D.Length,p=i%l;p&gt;-1&amp;p&lt;l&amp;r--&gt;0&amp;&amp;D[r]==S[p];p+=(S.IndexOf('\n')+1)*(i/l%9/3-1)+i/l%3-1); // test against string (backwards)

        return i&lt;0;
    }
}
</code></pre>
</div>
<div id="pu8" class="pu"><h1>Java : 183 <s>211</s> <s>321</s></h1>

<pre class="lang-java prettyprint-override"><code>boolean s(char[]w,char[]s){int j,z,a=s.length,i=a*9,f=1,q=0;for(;s[q++]&gt;10;);for(;i--&gt;0;)for(j=w.length,z=i/9;i%9!=4&amp;j--&gt;0&amp;z&gt;=0&amp;z&lt;a&amp;&amp;s[z]==w[j];z+=q*(i/3%3)+i%3-q-1)f*=j;return f==0;}
</code></pre>
<p>A basic brute force. There's not much else to say, I guess. Input is needle first and haystack second. Assumes grid is <a href="https://codegolf.stackexchange.com/questions/37940/word-search-puzzle?noredirect=1#comment87224_37940">newline-terminated</a>.</p>
<p>A slightly more readable version with test case shown:</p>
<pre class="lang-java prettyprint-override"><code>public class WordSearch {
    static String grid = &quot;WVERTICALL\nROOAFFLSAB\nACRILIATOA\nNDODKONWDC\nDRKESOODDK\nOEEPZEGLIW\nMSIIHOAERA\nALRKRRIRER\nKODIDEDRCD\nHELWSLEUTH&quot;;
    static String search = &quot;RANDOM&quot;;
    
    public static void main(String[] args) {
        System.out.println(new WordSearch().s(search.toCharArray(),grid.toCharArray()));
    }

    boolean s(char[]w,char[]s){
        int j,z,a=s.length,i=a*9,f=1,q=0;
        for(;s[q++]&gt;10;);
        for(;i--&gt;0;)
            for(j=w.length,z=i/9;
                i%9!=4&amp;j--&gt;0&amp;z&gt;=0&amp;z&lt;a&amp;&amp;s[z]==w[j];
                z+=q*(i/3%3)+i%3-q-1)
                f*=j;
        return f==0;
    }
}
</code></pre>
</div>
<div id="pu9" class="pu"><h1>C,163</h1>
<pre><code>f(char*h,char*n){int i,j,d,p,y=0,l=strlen(h),w=strchr(h,10)-h+1;for(i=l*9;i--;y+=d&amp;&amp;!n[j]){p=i/9;d=i%9/3*w-w+i%3-1;for(j=0;p&gt;=0&amp;p&lt;l&amp;h[p]==n[j];j++)p+=d;}return y;}
</code></pre>
<p>No rearrangement of the grid, I simply try every starting letter in every direction, and walk along until I run off the grid or find a mismatch.</p>
<p>I take advantage of the fact that a C string terminates in a zero byte. As there are no zero bytes in the grid, there will ALWAYS be a mismatch. But if the mismatch occurs at the zero byte we know we have found the end of the string to be searched for, and record it as a match.</p>
<p><strong>Ungolfed in a test program</strong></p>
<pre><code>char h[]=&quot;WVERTICALL\nROOAFFLSAB\nACRILIATOA\nNDODKONWDC\nDRKESOODDK\nOEEPZEGLIW\nMSIIHOAERA\nALRKRRIRER\nKODIDEDRCD\nHELWSLEUTH\n&quot;;

f(char*h,char*n){                                   //haystack,needle
  int i,j,d,p,y=0,l=strlen(h),w=strchr(h,10)-h+1;   //l=length of whole grid. w=width of row, including terminal newline ASCII 10
  for(i=l*9;i--;){                                  //for each start letter and direction
    p=i/9;                                          //pointer to start letter
    d=i%9/3*w-w+i%3-1;                              //9 possible values of direction vector {-w,0,w}+{-1,0,1}
    for(j=0;p&gt;=0&amp;p&lt;l&amp;h[p]==n[j];j++)p+=d;           //walk p in the direction defined by d until we walk off the top or bottom of the grid or a mismatch is fount
    y+=d&amp;&amp;!n[j];                                    //if we got all the way to the terminal 0, record it as a hit. If d=0, don't record as this is an invalid direction.
  }
  return y;   
}

main(int c, char**v){
  printf(&quot;%d&quot;,f(h,v[1]));  
}
</code></pre>
<p><strong>Output</strong></p>
<p>Note that the function will return the total number of incidences of the string searched for in the grid. Thus for <code>OD</code> it returns 6. If no incidences are found it returns 0 which is the only falsy value in C. Changing to <code>y|=d*!n[j]</code> would save one character but lose this functionality.</p>
<pre><code>$ ./a UNICORN
0

$ ./a CODEGOLF
0

$ ./a WordSearch
0

$ ./a RANDOM
1

$ ./a WORDSEARCH
1

$ ./a VERTICAL
1

$ ./a HORIZONTAL
1

$ ./a WIKIPEDIA
1

$ ./a TAIL
1

$ ./a OD
6
</code></pre>
</div>
<div id="pu10" class="pu"><h2>Haskell - 173</h2>

<p>Instead of searching directly on the grid, I transform the grid in different ways and match the word with each row of the new grid.</p>

<p>For example, </p>

<pre><code>G1    G2    G3       G4   G5

abcd  aA1   abcd     a..  ..1
ABCD  bB2   .ABCD    bA.  .A2
1234  cC3   ..1234   cB1  aB3
      dD4            dC2  bC4
                      D3  cD
                       4  d
</code></pre>

<p>Search the word in each row of G1, G2, G4 and G5, then we're done. Note that G3 is not used, I post it here just for illustration.</p>

<p>A similar idea is applied to search forward and backward: just search the original word and reversed word.</p>

<p>So now we have searched 8 directions. Here's the code, whose correctness was verified by <a href="http://pastebin.com/KsG1QTnn" rel="nofollow">another script</a>.</p>

<pre><code>import Data.List
v=reverse
t=transpose
y=any
d r=zipWith(++)(scanr(\_-&gt;('\n':))[]r)r
g r w=y(y$y((==w).take(length w)).tails)[r,t r,t.d$r,t.d.v$r]
f r w=y(g(lines r))[w,v w]
</code></pre>

<p>The function <code>f</code> is what we want and its argument <code>r</code> is the rectangle string, <code>w</code> is the word to search.</p>
</div>
<div id="pu11" class="pu"><h1>Bash+coreutils, <strike>214</strike> 169 bytes</h1>
<pre><code>r()(tee &gt;(rev) $@)
t()(eval paste -d'&quot;\0&quot;' `sed 's/.*/&lt;(fold -1&lt;&lt;&lt;&quot;&amp;&quot;)/'`)
d()(while IFS= read l;do echo &quot;$a$l&quot;;a+=_;done|t)
r&lt;&lt;&lt;&quot;$2&quot;|r &gt;(d) &gt;(r|t) &gt;(r|d)|r|grep -q &quot;$1&quot;
</code></pre>
<p>Uses 3 transform functions <code>r</code>, <code>t</code> and <code>d</code> to reverse, transpose and diagonal shift, in all the necessary combinations.</p>
<p><em>Update - the <code>r</code> function now produces reversed and non-reversed output for extra golfiness</em></p>
<p>Input via commandline arguments - search string, followed by (newline separated) rectangular wordsearch block.</p>
<p>Output is an idiomatically correct shell exit status code - 0 meaning TRUE and 1 meaning FALSE.</p>
<h3>Output:</h3>
<pre><code>$ for w in &quot;Lorem&quot; &quot;mine&quot; &quot;uma bop&quot; &quot;tuetdod&quot; &quot;snol,a&quot; &quot;texas&quot; &quot;pii.d  v&quot; &quot;vexta&quot; ; do ./ws.sh &quot;$w&quot; &quot;Lorem ipsum dolor sit amet consectetu
r adipisicing elit sed do eiusmod tem
por incididunt ut labore et dolore ma
gna aliqua. Ut enim ad minim veniam, 
quis nostrud exercitation ullamco lab
oris nisi ut aliquip ex ea commodo co
nsequat. Duis aute irure dolor in rep
rehenderit in voluptate velit esse ci
llum dolore eu fugiat nulla pariatur.&quot;; echo $?; done
0
0
0
0
0
0
0
0
$ for w in WordSearch CODEGOLF UNICORN ; do ./ws.sh &quot;$w&quot; &quot;Lorem ipsum dolor sit amet consectetu
r adipisicing elit sed do eiusmod tem
por incididunt ut labore et dolore ma
gna aliqua. Ut enim ad minim veniam, 
quis nostrud exercitation ullamco lab
oris nisi ut aliquip ex ea commodo co
nsequat. Duis aute irure dolor in rep
rehenderit in voluptate velit esse ci
llum dolore eu fugiat nulla pariatur.&quot;; echo $?; done
1
1
1
$ 
</code></pre>
</div>
<div id="pu12" class="pu"><h2>Python, 175</h2>
<p>Not very inspired, but here goes:</p>
<pre class="lang-py prettyprint-override"><code>def s(h,n):
 l=h.find('\n')+2;h+='\n'*l;L=i=len(h)
 while i&gt;0:
  i-=1
  for d in[-l,1-l,2-l,-1,1,l-2,l-1,l]:
    j=i;m=len(n)
    for c in n:m-=c==h[j%L];j+=d
    if m&lt;1:i=-1
 return-i
</code></pre>
<p>First argument is haystack, second is needle.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/37940/">37940</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




