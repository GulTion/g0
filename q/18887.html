<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::18887</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>032</td><td>K ngn/k</td><td>201027T192546Z</td><td><a href="https://codegolf.stackexchange.com/questions/18887/fibonacci-distribution-validator/214256#214256">coltim</a></td></tr>
<tr d-ix="1"><td>016</td><td>Husk</td><td>201027T182106Z</td><td><a href="https://codegolf.stackexchange.com/questions/18887/fibonacci-distribution-validator/214250#214250">Dominic </a></td></tr>
<tr d-ix="2"><td>011</td><td>05AB1E</td><td>201027T155932Z</td><td><a href="https://codegolf.stackexchange.com/questions/18887/fibonacci-distribution-validator/214238#214238">Kevin Cr</a></td></tr>
<tr d-ix="3"><td>014</td><td>Jelly</td><td>201027T145622Z</td><td><a href="https://codegolf.stackexchange.com/questions/18887/fibonacci-distribution-validator/214232#214232">caird co</a></td></tr>
<tr d-ix="4"><td>105</td><td>Python 3</td><td>140119T183707Z</td><td><a href="https://codegolf.stackexchange.com/questions/18887/fibonacci-distribution-validator/18913#18913">AMK</a></td></tr>
<tr d-ix="5"><td>020</td><td>Japt v2.0a0</td><td>201027T160030Z</td><td><a href="https://codegolf.stackexchange.com/questions/18887/fibonacci-distribution-validator/214239#214239">Shaggy</a></td></tr>
<tr d-ix="6"><td>034</td><td>APL</td><td>140120T005808Z</td><td><a href="https://codegolf.stackexchange.com/questions/18887/fibonacci-distribution-validator/18935#18935">Tobia</a></td></tr>
<tr d-ix="7"><td>085</td><td>Ruby</td><td>140121T064034Z</td><td><a href="https://codegolf.stackexchange.com/questions/18887/fibonacci-distribution-validator/18985#18985">Darren S</a></td></tr>
<tr d-ix="8"><td>nan</td><td>Javascript</td><td>140119T080837Z</td><td><a href="https://codegolf.stackexchange.com/questions/18887/fibonacci-distribution-validator/18888#18888">John Dvo</a></td></tr>
<tr d-ix="9"><td>145</td><td>Java</td><td>140119T083458Z</td><td><a href="https://codegolf.stackexchange.com/questions/18887/fibonacci-distribution-validator/18892#18892">Justin</a></td></tr>
<tr d-ix="10"><td>125</td><td>Python</td><td>140119T082719Z</td><td><a href="https://codegolf.stackexchange.com/questions/18887/fibonacci-distribution-validator/18890#18890">Justin</a></td></tr>
<tr d-ix="11"><td>036</td><td>Golfscript</td><td>140119T083427Z</td><td><a href="https://codegolf.stackexchange.com/questions/18887/fibonacci-distribution-validator/18891#18891">John Dvo</a></td></tr>
<tr d-ix="12"><td>092</td><td>Perl</td><td>140119T082546Z</td><td><a href="https://codegolf.stackexchange.com/questions/18887/fibonacci-distribution-validator/18889#18889">Dom Hast</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://codeberg.org/ngn/k" rel="nofollow noreferrer">K (ngn/k)</a>, <s>46</s> <s>40</s> <s>38</s> 32 bytes</h1>
<ul>
<li>-12 bytes from golfing, -2 from @ngn's improvements</li>
</ul>
<pre><code>{~^(|+\)\[#x;|!2]?+/'~:\~&quot;0:&quot;'x}
</code></pre>
<p><a href="https://ngn.codeberg.page/k#eJw9zN9ugjAUBvB7ngLrkmr8U9o5aNqLXSzxJYDFUkAbkW60LjUizz7mrDk3vy/nfKdm1+Fz1i+yeZZOHe8nJH9fIDiwbAARA9DdgsCy60t6GTpWh2Ho+E4f+WxXC9Vwxy+8m+e3wKZLQADH+SiAnZej8ZNwQ+O3+GOcLYmSJN4mZPSGYIJh38MJ9JeiwOTVB8Cj/5/kKeceXAIv4O6V6NGXPgUoOFj7ZRhCUpfVXjf12lghj5WTB9Huq7XUJ/R9roxVujUIU0oTVKtCt0JKtSqVsZ0qzn/b1Y9oVCms7tAv+ntacQ==" rel="nofollow noreferrer">Try it online!</a></p>
<ul>
<li><code>~&quot;0:&quot;'x</code> determine which characters in the input are digits</li>
<li><code>+/'~:\</code> count the number of digits and non-digits</li>
<li><code>~^(...)[...]?</code> determine if the above is in...
<ul>
<li><code>(|+\)\[#x;|!2]</code> the pairs of fibonacci numbers</li>
</ul>
</li>
</ul>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a>, <s>23</s> <s>21</s> <s>19</s> <s>18</s> 16 bytes</h1>
<p><em>Edit: -1 byte, then -2 more bytes, thanks to Razetime</em></p>
<pre><code>€↑→L¹İfe#€ṁsŀ9¹L
</code></pre>
<p><a href="https://tio.run/##yygtzv7//1HTmkdtEx@1TfI5tPPIhrRUZaDAw52NxUcbLA/t9Pn//7@SoZGxiWliUnJKqpm5hRIA" rel="nofollow noreferrer" title="Husk – Try It Online">Try it online!</a></p>
<pre><code>€↑→L¹İfe#€ṁsŀ9¹L
€                       # index of argument in list, if found, otherwise 0,
 ↑                      # list: the first n elements
  →L¹                   # n = length of input +1
     İf                 # of the list of fibonacci numbers
       e                # argument: 2-element list
        #               # 1. number of elements in input that are
         €    ¹         # present in list of
          ṁsŀ9          # string from 0 to 9
               L        # 2. length of input
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, <s>15</s> <s>12</s> 11 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>d1Ý¢¤ÅFs.kd
</code></pre>
<p>-3 bytes by taking inspiration from <a href="https://codegolf.stackexchange.com/revisions/214232/1"><em>@cairdCoinheringaahing</em>'s initial Jelly program</a><br />
-1 byte thanks to <em>@ovs</em></p>
<p>Input as a list of characters.</p>
<p><a href="https://tio.run/##yy9OTMpM/f8/xfDw3EOLDi053OpWrJed8v9/tFKFko6SOhCbALEFEJsBsSmUdkaj3YDYCIgNgNgcimHi5lA5ZPUmUDFDJBpkVw0Ug9iKYDoWAA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/V9Waa@k8KhtkoKSfWXw/xTDw3MPLTq05HCrW7Fedsp/nf/RSkZKOkqGFUCiwsIMRKqbWJiZmjkDoZuRgbm5mZu5EZBtYmRoZKheU6OuqA5UlJhkaGSspKOgBNILMQBsAgiDZYAqkiEMpVgA" rel="nofollow noreferrer">verify a few more test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>d            # Check for each character in the (implicit) input-list if it's a
             # non-negative (&gt;=0) integer (1 if truthy; 0 if falsey)
 1Ý          # Push the list [0,1]
   ¢         # Count them in the list of truthy/falsey results
    ¤        # Push the last count, without popping the pair itself
     ÅF      # Pop and push a list of Fibonacci numbers &lt;= this count
       s     # Swap so the pair is at the top of the stack
        .k   # Get the index of the pair (as sublist) in the Fibonacci list
             # (or -1 if this pair isn't a sublist)
          d  # Check that this index is non-negative (&gt;=0), thus that it was found
             # (after which the result is output implicitly)
</code></pre>
<p>Unfortunately the Fibonacci sequence contains two <code>1</code>s, otherwise we could have saved two bytes by changing <code>s.kd</code> to <code>sÅ¿</code> (check whether it ends with the pair), <a href="https://tio.run/##yy9OTMpM/V9Waa@k8KhtkoKSfWXw/xTDw3MPLTq05HCrW/Hh1kP7/@v8j1YyUtJRMqwAEhUWZiBS3cTCzNTMGQjdjAzMzc3czI2AbBMjQyND9ZoadUV1oKLEJEMjYyUdBSWQXogBYBNAGCwDVJEMYsQCAA" rel="nofollow noreferrer">which fails for single-digit inputs</a>.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, <s>15</s> 14 bytes</h1>
<pre><code>ḟ,fɗØDẈẇ⁸LŻÆḞ¤
</code></pre>
<p><a href="https://tio.run/##y0rNyan8///hjvk6aSenH57h8nBXx8Nd7Y8ad/gc3X247eGOeYeW/D/c/qhpzdFJD3fO@P8/motTyVBJB0RWgKkKCzMIrW5iYWZq5gyEbkYG5uZmbuZGQLaJkaGRoXpNjbqiOlhZYpKhkTGQBTLACGoO1CAICZEGKUyGMGMB" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<h2>How it works</h2>
<pre><code>ḟ,fɗØDẈẇ⁸LŻÆḞ¤ - Main link. Takes a string S on the left
    ØD         - Yield &quot;0123456789&quot;; D
   ɗ           - Group the previous three atoms together as a dyad, f(S, D):
ḟ              -   Remove digits from S
  f            -   Remove non-digits from S
 ,             -   Pair these two
      Ẉ        - Lengths of each in the pair; [a, b]
             ¤ - Create a nilad:
        ⁸      -   Yield S
         L     -   Take its length, L
          Ż    -   [0, 1, 2, ..., L]
           ÆḞ  -   nth Fibonacci number for each
       ẇ       - Sublist exists?
                 This returns 1 if the left argument ([a, b]) is a contiguous sublist
                 of the right argument (the list of Fib numbers), i.e.
                 a and b are both Fibonacci numbers, and a immediately precedes b
</code></pre>
</div>
<div id="pu4" class="pu"><h1>Python 3, 105 characters</h1>
<p>Script file name is passed to the program through the command line</p>
<pre><code>import sys
a=[0]*2
for b in open(sys.argv[1]).read():a['/'&lt;b&lt;':']+=1
a,b=a
while a&gt;0:a,b=b-a,a
print(b==1)
</code></pre>
<h2>87 characters</h2>
<p>Script must be written in file with name <code>s</code></p>
<pre><code>a=[0]*2
for b in open('s').read():a['/'&lt;b&lt;':']+=1
a,b=a
while a&gt;0:a,b=b-a,a
print(b==1)
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a> v2.0a0, 20 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>Êô@MgXÃã de[\D\d]£èX
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=2.0a0&amp;code=yvRATWdYw%2bMgZGVbXERcZF2j6Fg&amp;input=WwoiMSIKIjF4IgoieDg2IgoieCc0ODY1NkM2QzZGMjA3NzZGNzI2QzY0MjEyMSd8fCchJyIKImFiMTIzIgoiMTIiCiIxeHgiCiJ4IgoieDEyMyIKImFiYzEyMyIKXS1tUg" rel="nofollow noreferrer">Try it</a> (Test cases appropriated from <a href="https://codegolf.stackexchange.com/users/66833/caird-coinheringaahing">caird</a>)</p>
</div>
<div id="pu6" class="pu"><h1>APL, 34 chars/bytes*</h1>

<pre><code>{n←+/⍵∘.=⍞∊⎕D⋄n≡+\∘⌽⍣{≥/+/⊃⍺n}⍵}⍳2
</code></pre>

<p>Expects the input string on standard input and prints either 0 or 1 as required. <code>⎕IO</code> must be set to 0 (the default is implementation-dependent.)</p>

<p><strong>Ungolfed</strong></p>

<pre><code>s←⍞                ⍝ read input string
d←s∊⎕D             ⍝ vector with 1 for each digit, 0 for each non-digit in s
n←+/0 1∘.=d        ⍝ 2-vector with number of non-digits and number of digits in s
f←+\∘⌽             ⍝ a function that computes a fibonacci step (f 2 3 → 3 5)
t←f⍣{≥/+/⊃⍺n}0 1   ⍝ apply f repeatedly, starting with 0 1, until we get two fibonacci
                   ⍝   terms whose sum is ≥ the length of the input string (sum of n)
n≡t                ⍝ return 1 if the fibonacci terms match the no. of digits and non-digits
</code></pre>

<p><strong>Examples</strong></p>

<pre><code>      {n←+/⍵∘.=⍞∊⎕D⋄n≡+\∘⌽⍣{≥/+/⊃⍺n}⍵}⍳2
%~n01234
1
      {n←+/⍵∘.=⍞∊⎕D⋄n≡+\∘⌽⍣{≥/+/⊃⍺n}⍵}⍳2
x'48656C6C6F20776F726C642121'||'!'
1
      {n←+/⍵∘.=⍞∊⎕D⋄n≡+\∘⌽⍣{≥/+/⊃⍺n}⍵}⍳2
[72 101 108 108 111 32 119 111 114 108 100 33 {.}2*]''+
1
      {n←+/⍵∘.=⍞∊⎕D⋄n≡+\∘⌽⍣{≥/+/⊃⍺n}⍵}⍳2
What?12345
0
</code></pre>

<p>⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯<br>
<sup>*: APL can be written in its own (legacy) single-byte charset that maps APL symbols to the upper 128 byte values. Therefore, for the purpose of scoring, a program of N chars <em>that only uses ASCII characters and APL symbols</em> can be considered to be N bytes long.</sup></p>
</div>
<div id="pu7" class="pu"><h2>Ruby, 85</h2>

<pre><code>d=-(n=(i=$&lt;.read).gsub(/\d/,'').size)+i.size
a=b=1;while b&lt;d;b=a+a=b end;p b==d&amp;&amp;a==n
</code></pre>

<p>Takes input either on <code>STDIN</code> or as a filename argument.</p>

<p>Output is either <code>"true"</code> or <code>"false"</code>.</p>
</div>
<div id="pu8" class="pu"><h1>Javascript, <del>92 88</del> 86 characters</h1>
<pre><code>t=prompt()
for(b=c=1;c&lt;t[l='length'];c=a+b)a=b,b=c
alert(c==t[l]&amp;b==t.match(/\d/g)[l])
</code></pre>
<p>I hope you don't mind I've hard-coded the the first three Fibonacci numbers.</p>
</div>
<div id="pu9" class="pu"><h1>Java - <s>147</s> 145</h1>
<pre><code>boolean v(String s){int l=s.replaceAll(&quot;\\d&quot;,&quot;&quot;).length(),L=s.length()-l,a=1,b=2,c;while(a&lt;L){if(a==l&amp;&amp;b==L)return 0&lt;1;c=b;b+=a;a=c;}return 0&gt;1;}
</code></pre>
<p>I'd say this is not bad for Java.</p>
<p><strong>Edit</strong>: Thanks to Chris Hayes for <a href="https://codegolf.stackexchange.com/questions/18887/fibonacci-distribution-validator/18892?noredirect=1#comment37072_18892">suggesting</a> <code>0&gt;1</code> for false and <code>0&lt;1</code> for true.</p>
</div>
<div id="pu10" class="pu"><h1>Python - <s>128</s> 125</h1>
<pre><code>import re
def v(s):
 l=len(re.sub(&quot;\d&quot;,&quot;&quot;,s));L=len(s)-l;a,b=1,2
 while a&lt;L:
    if a==l and b==L:
     print 1;return
    b,a=a+b,b
 print 0
</code></pre>
<p>Really hope there is no problem with hardcoding the first few fibonacci numbers</p>
</div>
<div id="pu11" class="pu"><h1>Golfscript, 36</h1>
<pre><code>:?1 2{.@+.?,&lt;}do?,=@{.48&lt;\58&lt;^},,@=*
</code></pre>
<p>Explanation:</p>
<ul>
<li><code>:?</code> stores the input into <code>?</code>.</li>
<li><code>1 2{.@+.?,&lt;}do</code> computes the last two fibonacci numbers until it hits the input length. The block reads: &quot;duplicate the top, rotate the third value to the top, add them, duplicate the top, get the input, get its length, compare&quot;.</li>
<li><code>?,=</code> compares the last computed fibonacci number to the input length.</li>
<li><code>@</code> brings the input to the top</li>
<li><code>{.48&lt;\58&lt;^},</code> filters out only digits. The block reads &quot;is the ASCII value below 48 XOR below 58?&quot;</li>
<li><code>,@=</code> compares the filtered string length to the lower fibonacci number (count of digits)</li>
<li><code>*</code> merges the two comparisons to provide a single boolean value.</li>
</ul>
<p>Live demo: <a href="http://golfscript.apphb.com/?c=OyIvMDU5OiIKOj8xIDJ7LkArLj8sPH1kbz8sPUB7LjQ4PFw1ODxefSwsQD0q" rel="nofollow noreferrer">http://golfscript.apphb.com/?c=OyIvMDU5OiIKOj8xIDJ7LkArLj8sPH1kbz8sPUB7LjQ4PFw1ODxefSwsQD0q</a></p>
</div>
<div id="pu12" class="pu"><h2>Perl, 92</h2>

<pre class="lang-pl prettyprint-override"><code>$_=join"",&lt;&gt;;@_=1;$d=s/\d//g;push@_,$t=$_[-1]+$_[-2]while$t&lt;$d;print$t==$d&amp;$_[-2]==y///c?1:0
</code></pre>

<p>Usage:</p>

<pre class="lang-bash prettyprint-override"><code>cat fib-test 
print "Hello world%s"%("!"*int(3.141592653589793238462643383279502884197169399375105820))

perl -e '$_=join"",&lt;&gt;;@_=1;$d=s/\d//g;push@_,$t=$_[-1]+$_[-2]while$t&lt;$d;print$t==$d&amp;$_[-2]==y///c?1:0' fib-test
1
</code></pre>


</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/18887/">18887</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




