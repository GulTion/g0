<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::127185</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>271</td><td>Java 10</td><td>170626T130538Z</td><td><a href="https://codegolf.stackexchange.com/questions/127185/efficient-farming/128404#128404">Kevin Cr</a></td></tr>
<tr d-ix="1"><td>118</td><td>Röda</td><td>170628T110052Z</td><td><a href="https://codegolf.stackexchange.com/questions/127185/efficient-farming/128823#128823">fergusq</a></td></tr>
<tr d-ix="2"><td>224</td><td>JavaScript ES6</td><td>170627T171948Z</td><td><a href="https://codegolf.stackexchange.com/questions/127185/efficient-farming/128687#128687">Ian</a></td></tr>
<tr d-ix="3"><td>003</td><td>176 bytes</td><td>170619T140138Z</td><td><a href="https://codegolf.stackexchange.com/questions/127185/efficient-farming/127230#127230">Cameron </a></td></tr>
</table>
<div id="pu0" class="pu"><h1>Java 10, <s>307</s> <s>298</s> <s>288</s> <s>280</s> <s>273</s> 271 bytes</h1>

<pre class="lang-java prettyprint-override"><code>s-&gt;{String[]a=s.split(&quot;\\d&quot;),o=a[1].split(&quot;\n&quot;),f=a[2].split(&quot;\n&quot;);int r[]=new int[f.length-1],q=-2,d,i,j,z;for(var p:f)if(++q&gt;=0)for(z=d=o.length,i=0;++i&lt;d;)for(j=0;o[i].contains((f=p.split(&quot; &quot;))[0])&amp;++j&lt;z;)r[q]=d=o[j].contains(f[1])?Math.min(i&gt;j?i-j:j-i,d):d;return r;}
</code></pre>
<p>-19 bytes thanks to <em>@ceilingcat</em>.</p>
<p><strong>Explanation:</strong></p>
<p><a href="https://tio.run/##VVLLbuQgELzvV7R8WIH80CRa7WEcJtoPSC452j6wNp5A7MYDeKJMNN8@235FWQljuorqbgqMPMvUNG@3upPew5PU@PkDQGNQrpW1gucpnIGigpq9BKfxCJ7nBF/po@GDDLqGZ0AQcPPp4XPZVVRS@MwPnQ4sKssm4okVsrirvjAkqCXo/j8op2Lgikqgep8Lt1mn8Bhe07sqOYn0PmkSnZjkkrfWsbN0MOxbrlsWx6eD2PEJvYhG2FWWaLHL41g/NPnMGQptoausthjowJ6xVgxbBxBxXuwq/jOOzcMl5644VVOywnwTtHQK/vgkw2vWa2T6YB51avYm1UnD903uVBgdgsuvt3wxaRj/dmTS6tXZ6gZ6SsU2q0DyxemXDx9Un9kxZANRoUNm6JKyMegu@@Oc/PBZsIuMYVazWQUQ/S4RLaoS5TB09LNO4lHBoCaDaNroFe9Ub5Ha6oc3jSWuC4JDGOne286@K@cnpS/xF22gxcauNWBJtUVfuTbtQkdzg5yvT@Z6@wc" rel="nofollow noreferrer">Try it here.</a></p>
<pre class="lang-java prettyprint-override"><code>s-&gt;{                           // Method with String parameter &amp; integer-array return
  String[]a=s.split(&quot;\\d&quot;),    //  Split the input on numbers
          o=a[1].split(&quot;\n&quot;),  //  List of orchards
          f=a[2].split(&quot;\n&quot;);  //  List of pairs (later on reused for individual pair of fruits)
  int r[]=new int[f.length-1], //  Result integer-array
      q=-2,d,i,j,z;            //  Some temp integers
  for(var p:f)                 //  Loop `p` over the pairs:
    if(++q&gt;=0){                //   If this isn't the first iteration of the pair-loop
                               //   (the first item is always empty after `.split(&quot;\\d&quot;)`)
      for(z=d=o.length,i=0;++i&lt;d;)
                               //    Inner loop `i` over the orchards:
        for(j=0;o[i].contains((f=p.split(&quot; &quot;))[0])
                               //     If the current orchard contains the first fruit of the pair:
                &amp;++j&lt;z;)       //      Inner loop `j` over the orchards again:
          r[q]=                //       Add the following to the resulting array:
               d=o[j].contains(f[1])?
                               //       If the current orchard contains the second fruit of the pair:
                 Math.min(     //        Take the minimum of:
                   i&gt;j?i-j:j-i,//         The absolute difference between `i` and `j`
                   d)          //         And the current integer of the array
               :               //       Else:
                d;             //        Leave the current integer unchanged
  return r;}                   //  Return the result array
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/fergusq/roda" rel="nofollow noreferrer">Röda</a>, 118 bytes</h1>

<pre><code>{A=[head(parseInteger(pull()))|splitMany|enum]pull n;split|{f={|x|A|[_2]if[x in _1]}f a|{|i|f b|abs i-_}_|min}for a,b}
</code></pre>

<p>Explanation:</p>

<pre><code>{
    A=[
        /* Pull line, convert to integer, and read that many lines */
        head(parseInteger(pull()))|
        /* Split all lines to arrays */
        splitMany|
        /* Enumerate, ie. give each line a number */
        enum
    ]
    /* Discard one line */
    pull n;
    /* Split each following line and push words to the stream */
    split|
    /* For each word a, b in the stream: */
    {
        /* Helper function to find lines that contain x */
        f={|x|A|[_2]if[x in _1]}
        /* Push numbers of lines that contain the first word to the stream */
        f a|
        /* For each line number i */
        {|i|
            /* Push numbers of lines that contain the second word to the stream */
            f b|
            /* Push the difference of two line numbers to the stream */
            abs i-_
        }_|
        /* Push the smallest difference to the stream */
        min
    }for a,b
}
</code></pre>

<p>No TIO link yet, as the TIO version of Röda is outdated.</p>
</div>
<div id="pu2" class="pu"><h1>JavaScript (ES6), 224 bytes</h1>

<pre><code>a=&gt;(d=a.split('\n')).slice(e=+d[0]+2).map(f=&gt;{p=e;for(g=(q=(t,s=0)=&gt;d.slice(1,e-1).map(b=c=&gt;c.split(' ')).findIndex((x,y)=&gt;y&gt;=t&amp;x.includes(b(f)[s])))(0);++g;g=q(g))for(l=q(0,1);++l;l=q(l,1))p=p&lt;(u=g&gt;l?g-l:l-g)?p:u;return p})
</code></pre>

<p>Call with <code>"6\nnone\napple\norange pear pear\nnone\norange lemon pumpkin\npumpkin lettuce flowers peas\n4\npeas lettuce\napple orange\napple pumpkin\nflowers orange"</code></p>
</div>
<div id="pu3" class="pu"><h1>176 bytes, Python 3</h1>
<pre><code>def p(a):l=[b.split()for b in a.split('\n')];X=int(l[0][0]);return[min(y-x for y in range(X)for x in range(y+1)if z[0]in l[x+1]+l[y+1]and z[1]in l[x+1]+l[y+1])for z in l[X+2:]]
</code></pre>
<p>This can be called by passing in the entire content as a string</p>
<pre><code>p(&quot;&quot;&quot;6
none
apple
orange pear pear
none
orange lemon pumpkin
pumpkin lettuce flowers peas
4
peas lettuce
apple orange
apple pumpkin
flowers orange&quot;&quot;&quot;)
</code></pre>
<p>Ungolfed solution</p>
<pre><code>def problem(a):
    # this will split on new line, and split each individual line into it's own list
    lines=[b.split()for b in a.split('\n')]
    # get the number of orchards
    X=int(lines[0][0])
    return[
        # get the minimum of all possible differences
        min(y-x # subtract y and x to get the difference
            for y in range(X) # for each orchard, y
                for x in range(y+1) # and each orchard up to y inclusive, x
                    if z[0] in lines[x+1]+lines[y+1] and z[1] in lines[x+1]+lines[y+1]) # if both fruits exist the x and y orchards
        # for every day (z is a list containing 2 fruits as string)
        for z in lines[X+2:]
    ]
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/127185/">127185</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




