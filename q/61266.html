<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::61266</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>243</td><td>sed 4.2.2 rz</td><td>240423T134637Z</td><td><a href="https://codegolf.stackexchange.com/questions/61266/align-the-text-to-a-block/272754#272754">guest430</a></td></tr>
<tr d-ix="1"><td>052</td><td>Pyth</td><td>151021T083004Z</td><td><a href="https://codegolf.stackexchange.com/questions/61266/align-the-text-to-a-block/61350#61350">PurkkaKo</a></td></tr>
<tr d-ix="2"><td>133</td><td>Retina</td><td>151020T192224Z</td><td><a href="https://codegolf.stackexchange.com/questions/61266/align-the-text-to-a-block/61320#61320">Martin E</a></td></tr>
<tr d-ix="3"><td>087</td><td>CJam</td><td>151020T165955Z</td><td><a href="https://codegolf.stackexchange.com/questions/61266/align-the-text-to-a-block/61307#61307">Dennis</a></td></tr>
<tr d-ix="4"><td>nan</td><td></td><td>151020T135308Z</td><td><a href="https://codegolf.stackexchange.com/questions/61266/align-the-text-to-a-block/61286#61286">Doorknob</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.gnu.org/software/sed/" rel="nofollow noreferrer">sed 4.2.2</a> <code>-rz</code>, 243 bytes</h1>
<pre><code>s/\n/ /2g
s/ +/ /g
s!([0-9]*).(.*)!sed -rz 's/.{,\1}\\&gt;.? /\&amp;\\n/g;:;G;s/(.*[^\\n]).+\\x0(.*)/sed -r &quot;:;\\\\$q;\\\\|^.{,\1}$|s|\\\\&gt;[^ ]?\\2\\\\&lt;|\\\&amp; |;t&quot;&lt;&lt;&lt;&quot;\\1&quot;/e;x;s/|/ /;x;/^([^\\n][^\\n]{\1,}\\n|[^ \\n]+ \\n|[^\\n]*\\n*$)+$/q;t'&lt;&lt;&lt;&quot;\2&quot;!e
</code></pre>
<p><a href="https://tio.run/##JVDLjoMwDLz3KwxCLa@SgrSHbVB73Mv@AQapgghFKoSSIFXb7K8v6xQf7BkrM7ajRbeumuHIgBX9TjNICBHwwup0/KzjKAuzOPK06OA4/8BBs@yVYv6LeMmuwHCPpO35mX9xzehp1VCjjrIE8XlyUrZJwT9zpAge72KbzSaw2jp@qRqor4iFI6Vr7cFy45dl6SPmPhP8SQMsLUeANeE2Z8svzFNaaLRk4ngCG3E4phQHURKwBzeHt13he2Jdi4/dt5rFAHLSywCduqsZtDRwG4RJd60atWiNMMsMt05OUrdy7EHcpUnBndQpEHLRg@rAiGEi8Z@ajCTZSh/1Dw" rel="nofollow noreferrer" title="sed 4.2.2 â€“ Try It Online">Try it online!</a></p>
<p>the first two lines normalize the input, then the third line creates a sed script with the linewidth hardcoded in which looks like this for 20:</p>
<h3><a href="https://www.gnu.org/software/sed/" rel="nofollow noreferrer">sed 4.2.2</a> <code>-rz</code>, 165 bytes</h3>
<pre><code>s/.{,20}\&gt;.? /&amp;\n/g
:
G
s/(.*[^\n]).+\x0(.*)/sed -r &quot;:;\\$q;\\|^.{,20}$|s|\\&gt;.?\2\\&lt;|\&amp; |;t&quot;&lt;&lt;&lt;&quot;\1&quot;/e
x;s/|\x0/ /;x
/^([^\n][^\n]{20,}\n|[^ \n]+ \n|[^\n]*\n*$)+$/q
t
</code></pre>
<p>in this script, line 1 wraps the lines to be the max number of full words that fit in 20 spaces, 2-7 is a loop, 3 appends the HOLD space to the pattern space after a <code>\x0</code> byte, 4 makes a sed script that adds a space to strings of N spaces up to the right length where N is the number of spaces in the current HOLD space, 5 adds a space to the HOLD space, and 6 quits when the format looks correct</p>
</div>
<div id="pu1" class="pu"><h1>Pyth, <s>60</s> <s>57</s> <s>54</s> <s>51</s> <s>50</s> 52 bytes</h1>
<p><strong>2015-10-22:</strong> fixing a bug took 2 bytes.</p>
<pre><code>=HfTcjd.zdWHAcH]f|qTlH&gt;jd&lt;HhTQ1s.iGcJ|tlG1*d?H-QlsGJ
</code></pre>
<p><a href="https://pyth.herokuapp.com/?code=%3DHfTcjd.zdWHAcH%5Df%7CqTlH%3Ejd%3CHhTQ1s.iGcJ%7CtlG1*d%3FH-QlsGJ&amp;input=40%0ALorem+ipsum+dolor+sit+amet%2C+consectetur+adipiscing+elit%2C+sed+do+eiusmod+tempor+incididunt+ut+labore+et+dolore+magna+aliqua.+Ut+enim+ad+minim+veniam%2C+quis+nostrud+exercitation+ullamco+laboris+nisi+ut+aliquip+ex+ea+commodo+consequat.+Duis+aute+irure+dolor+in+reprehenderit+in+voluptate+velit+esse+cillum+dolore+eu+fugiat+nulla+pariatur.+Excepteur+sint+occaecat+cupidatat+non+proident%2C+sunt+in+culpa+qui+officia+deserunt+mollit+anim+id+est+laborum.&amp;debug=0" rel="nofollow noreferrer">Try it online.</a></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/mbuettner/retina" rel="nofollow">Retina</a>, 133 bytes</h1>

<pre><code>\s+

+`((1)*1 )((?&lt;-2&gt;.)*\S|\S+) 
:$3&lt;LF&gt;$1
m+`^(?=.(.)+$[^&lt;TB&gt;]*^(?&gt;(?&lt;-1&gt;1)+)1)((.*):(\S+ +)|(\S+ +)(.*):)
$3$4$5 :$6
+`:|&lt;LF&gt;1+| (?= .*$)
&lt;empty&gt;
</code></pre>

<p>The <code>&lt;empty&gt;</code> represents an empty trailing line. To run the code, put each line in a separate file, replace <code>&lt;LF&gt;</code> with linefeed characters (0x0A) and <code>&lt;TB&gt;</code> with a tab (0x09). I'll add an explanation when I'm done golfing.</p>
</div>
<div id="pu3" class="pu"><h1>CJam, 87 bytes</h1>

<pre><code>l~:LS*qNSerS%{(2$1$a+_S*,L&gt;{;a\}{\;@;\}?}h;S*a]1&gt;{I1&gt;{LIs,-I,(md1b\aI,(*.+Sf*I.\}I?N}fI
</code></pre>

<p>This should still be golfable. Try it online in the <a href="http://cjam.aditsu.net/#code=l~%3ALS*qNSerS%25%7B(2%241%24a%2B_S*%2CL%3E%7B%3Ba%5C%7D%7B%5C%3B%40%3B%5C%7D%3F%7Dh%3BS*a%5D1%3E%7BI1%3E%7BLIs%2C-I%2C(md1b%5CaI%2C(*.%2BSf*I.%5C%7DI%3FN%7DfI&amp;input=40%0ALorem%20ipsum%20dolor%20sit%20amet%2C%20consectetur%20adipiscing%20elit%2C%20sed%20do%20eiusmod%20tempor%20incididunt%20ut%20labore%20et%20dolore%20magna%20aliqua.%20Ut%20enim%20ad%20minim%20veniam%2C%20quis%20nostrud%20exercitation%20ullamco%20laboris%20nisi%20ut%20aliquip%20ex%20ea%20commodo%20consequat.%20Duis%20aute%20irure%20dolor%20in%20reprehenderit%20in%20voluptate%20velit%20esse%20cillum%20dolore%20eu%20fugiat%20nulla%20pariatur.%20Excepteur%20sint%20occaecat%20cupidatat%20non%20proident%2C%20sunt%20in%20culpa%20qui%20officia%20deserunt%20mollit%20anim%20id%20est%20laborum." rel="nofollow">CJam interpreter</a>.</p>
</div>
<div id="pu4" class="pu">

<h2>Ruby, 179 chars</h2>

<pre class="lang-ruby prettyprint-override"><code>n=gets.to_i
s=t=''
$&lt;.read.split.map{|w|if(t+w).size&gt;=n
0while t.size&lt;n&amp;&amp;(1..n).any?{|i|t.sub!(/[^ ]#{' '*i}(?=[^ ])/){|x|x+' '}}
s+=t+?\n
t=w
else
t+=' '+w
t.strip!
end}
puts s,t
</code></pre>

<p>Way too long...</p>

<p>Semi-ungolfed version:</p>

<pre class="lang-ruby prettyprint-override"><code>n = gets.to_i
s = t = ''
$&lt;.read.split.map{|w|
    if (t + w).size &gt;= n
        0 while t.size &lt; n &amp;&amp; (1..n).any?{|i|t.sub!(/[^ ]#{' '*i}(?=[^ ])/){|x|x+' '}}
        s += t + ?\n
        t = w
    else
        t += ' ' + w
        t.strip!  # this is only necessary because of the very first word &gt;:(
    end
}
puts s,t
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/61266/">61266</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




