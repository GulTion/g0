<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::120057</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>015</td><td>Vyxal</td><td>240530T030638Z</td><td><a href="https://codegolf.stackexchange.com/questions/120057/perform-gravity-sort/273357#273357">emanresu</a></td></tr>
<tr d-ix="1"><td>031</td><td>Pip l</td><td>240531T160132Z</td><td><a href="https://codegolf.stackexchange.com/questions/120057/perform-gravity-sort/273366#273366">DLosc</a></td></tr>
<tr d-ix="2"><td>4945</td><td>J</td><td>221012T031154Z</td><td><a href="https://codegolf.stackexchange.com/questions/120057/perform-gravity-sort/253054#253054">Jonah</a></td></tr>
<tr d-ix="3"><td>030</td><td>Japt</td><td>201105T175805Z</td><td><a href="https://codegolf.stackexchange.com/questions/120057/perform-gravity-sort/214797#214797">Shaggy</a></td></tr>
<tr d-ix="4"><td>205</td><td>R</td><td>170511T185216Z</td><td><a href="https://codegolf.stackexchange.com/questions/120057/perform-gravity-sort/120118#120118">Giuseppe</a></td></tr>
<tr d-ix="5"><td>274</td><td>Javascript</td><td>170710T121306Z</td><td><a href="https://codegolf.stackexchange.com/questions/120057/perform-gravity-sort/131727#131727">Endenite</a></td></tr>
<tr d-ix="6"><td>062</td><td>Japt</td><td>170708T021421Z</td><td><a href="https://codegolf.stackexchange.com/questions/120057/perform-gravity-sort/130444#130444">Justin M</a></td></tr>
<tr d-ix="7"><td>208</td><td>Haskell</td><td>170706T171130Z</td><td><a href="https://codegolf.stackexchange.com/questions/120057/perform-gravity-sort/130187#130187">bartavel</a></td></tr>
<tr d-ix="8"><td>199</td><td>Python</td><td>170511T171115Z</td><td><a href="https://codegolf.stackexchange.com/questions/120057/perform-gravity-sort/120096#120096">Uriel</a></td></tr>
<tr d-ix="9"><td>104</td><td>Octave</td><td>170511T161104Z</td><td><a href="https://codegolf.stackexchange.com/questions/120057/perform-gravity-sort/120085#120085">rahnema1</a></td></tr>
<tr d-ix="10"><td>118</td><td>Perl 5</td><td>170511T155422Z</td><td><a href="https://codegolf.stackexchange.com/questions/120057/perform-gravity-sort/120076#120076">Dada</a></td></tr>
<tr d-ix="11"><td>027</td><td>Pyth</td><td>170511T150336Z</td><td><a href="https://codegolf.stackexchange.com/questions/120057/perform-gravity-sort/120069#120069">Leaky Nu</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-2" rel="nofollow noreferrer">Vyxal</a>, 15 bytes</h1>
<pre><code>×*§≬‛* ḂV↔↵R‹∑§
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2&amp;c=1#WyIiLCIiLCLDlyrCp+KJrOKAmyog4biCVuKGlOKGtVLigLniiJHCpyIsIiIsIls4LCA0LCAyLCAxXSJd" rel="nofollow noreferrer">Try it Online!</a></p>
<pre><code>×*              # Repeat &quot;*&quot; by each number
  §             # Transpose
   ≬     ↔      # Collect unique values while...
        V       # Replacing
    ‛*          # &quot;* &quot;
       Ḃ        # With &quot; *&quot;
          ↵     # Split on newlines
           R    # Reverse each line
            ‹   # Append a &quot;-&quot; to each section of each column
             ∑  # Concatenate each column
              § # Transpose and join on newlines
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/dloscutoff/pip" rel="nofollow noreferrer">Pip</a> <code>-l</code>, 31 bytes</h1>
<pre><code>YZJ P',XgWkNyJ P9X#yPZJ YyRk;Rk
</code></pre>
<p>Uses <code>,</code> for the asterisk character and <code>9</code> for the separator character. <a href="https://ato.pxeger.com/run?1=m724ILNgWbSSbo5S7IKlpSVpuhb7I6O8FALUdSLSw7P9KoFMywjlygCgWGRlULZ1UDZEFVTxymgzHSMdEx1zmG4A" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h3>Explanation</h3>
<p>The <code>-l</code> flag means that lists are printed with each element on a different line.</p>
<pre class="lang-lisp prettyprint-override"><code>YZJ P',XgWkNyJ P9X#yPZJ YyRk;Rk­⁡​‎‎⁪⁡⁪⁠⁪⁤⁪‏‏​⁡⁠⁡‌⁢​‎‎⁪⁡⁪⁠⁪⁣⁡⁪‏‏​⁡⁠⁡‌⁣​‎‎⁪⁡⁪⁠⁪⁢⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁤⁪‏⁠⁪⁪‏​⁡⁠⁡‌⁤​‎‎⁪⁡⁪⁠⁪⁢⁡⁪‏‏​⁡⁠⁡‌⁢⁡​‎‎⁪⁡⁪⁠⁪⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁪‏‏​⁡⁠⁡‌⁢⁢​‎‎⁪⁡⁪⁠⁪⁡⁪‏⁠⁪⁪‏​⁡⁠⁡‌⁢⁣​‎‎⁪⁡⁪⁠⁪⁣⁢⁪‏‏​⁡⁠⁡‌⁢⁤​‎⁪⁪⁠⁪⁪⁠‎⁪⁡⁪⁠⁪⁢⁡⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁤⁪‏⁠⁪⁪‏​⁡⁠⁡‌⁣⁡​‎⁪⁪⁠⁪⁪⁠‎⁪⁡⁪⁠⁪⁢⁡⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁢⁪‏‏​⁡⁠⁡‌⁣⁢​‎‎⁪⁡⁪⁠⁪⁤⁤⁪‏‏​⁡⁠⁡‌⁣⁣​‎‎⁪⁡⁪⁠⁪⁤⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁢⁪‏‏​⁡⁠⁡‌⁣⁤​‎‎⁪⁡⁪⁠⁪⁣⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁤⁪‏‏​⁡⁠⁡‌⁤⁡​‎‎⁪⁡⁪⁠⁪⁤⁣⁪‏‏​⁡⁠⁡‌⁤⁢​‎‎⁪⁡⁪⁠⁪⁢⁣⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁣⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁣⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁤⁡⁪‏‏​⁡⁠⁡‌⁤⁣​‎⁪⁪⁠‎⁪⁡⁪⁠⁪⁢⁤⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁤⁣⁪‏‏​⁡⁠⁡‌⁤⁤​‎‎⁪⁡⁪⁠⁪⁢⁣⁡⁪‏‏​⁡⁠⁡‌⁢⁡⁡​‎‎⁪⁡⁪⁠⁪⁢⁢⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁢⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁢⁣⁪‏‏​⁡⁠⁡‌­
                                 ; ‎⁡g is list of command-line args; k is &quot;,&quot;
        g                        ; ‎⁢List of integers
     ',X                         ; ‎⁣Turn each into a string of that many commas
    P                            ; ‎⁤Print that list of strings
 ZJ                              ; ‎⁢⁡Zip, padding with spaces
Y                                ; ‎⁢⁢Yank that transposed list of strings into y
         W                       ; ‎⁢⁣While the following is truthy...
                  #y             ; ‎⁢⁤  Length of y
                9X               ; ‎⁣⁡  String of that many 9s
               P                 ; ‎⁣⁢  Print that string, and also...
            yJ                   ; ‎⁣⁣  Join y on that string
          kN                     ; ‎⁣⁤  Count occurrences of &quot;, &quot;
                                 ; ‎⁤⁡... loop:
                         yRk;    ; ‎⁤⁢  In y, replace &quot;, &quot;
                             Rk  ; ‎⁤⁣  with &quot; ,&quot; (k reversed)
                        Y        ; ‎⁤⁤  Yank that value into y
                    PZJ          ; ‎⁢⁡⁡  Zip with space padding and print
💎
</code></pre>
<p>Created with the help of <a href="https://vyxal.github.io/Luminespire" rel="nofollow noreferrer">Luminespire</a>.</p>
</div>
<div id="pu2" class="pu"><h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, <sup>49</sup> 45 bytes</h1>
<pre><code>' *-'{~2,/@,.~[:((]+[-1|.])]&lt;_1|.!.0])^:a:#&amp;1
</code></pre>
<p><a href="https://tio.run/##bc5BC4JAEAXgu7/iWdBqjpO7muGQEAWdpENX2SIiiS79gMK/vi0iHaLD8OC97zAPV4WibRlKpVQwYdWhFigQMoi/lLE7NnunME/Vqze02BD3rUSRTdpUv9nGdn32GXJm45NcZDrTLg4OW8aoehmYrhNJfmVwu96f6EBcIIfBWPhXvkNJKAiGsCTk9E/4bTWg0n0A" rel="nofollow noreferrer" title="J – Try It Online">Try it online!</a></p>
<p>Takes input as a column vector.</p>
<p>About a third of the bytes are just to conform to the output specs.</p>
<ul>
<li><code>#&amp;1</code> Convert to rows of ones, with 0 fill.</li>
<li><code>[:(...)^:a:</code> Do <code>...</code> until a fixed point is reached, keeping track of intermediate results.</li>
<li><code>]&lt;_1|.!.0]</code> Rotate the rows down, then ask: &quot;where is that less than the original input?&quot;  This will pick out just the valid falling pieces, in their &quot;next&quot; position.  Call these the &quot;rain&quot;.</li>
<li><code>(]+[-1|.])</code> Add the rain to this step's input minus the rain rotated up.  That is, rewind the &quot;rain&quot; one step, remove this rewinded-rain from the input, and then add the not-rewinded rain.  This is precisely the rain plus the static pieces, which is what we want for the next iteration.</li>
<li><code>' *-'{~2,/@,.~</code> Conform to output spec.</li>
</ul>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a> <s><a href="https://codegolf.meta.stackexchange.com/a/14339/"><code>-R</code></a></s>, <s>32</s> <s>31</s> <s>30</s> <s>32</s> <s>31</s> 30 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<p>Really enjoyed this one but not <em>entirely</em> happy with the final result, especially after having to add 2 bytes to fix a bug. Still determined to get it down under 30 bytes, though.</p>
<p>Uses <code>n</code> instead of <code>*</code>.</p>
<pre><code>¡P=yÈrSùÍSúÍÃª¡XçnÃ·úÃâ qR² ú-
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;code=oVA9echyU/nNU/rNw6qhWOduw7f6w%2bIgcVKyIPot&amp;footer=ZCJuKiI&amp;input=WzIgNyA0IDZd" rel="nofollow noreferrer">Try it</a> (footer replaces <code>n</code>s with <code>*</code>s) or <a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;code=oVA9echyU/nNU/rNw6qhWOduw7f6w%2bIgcVKyIPot&amp;footer=UD0iIlJpVWQibioiKWlSaVBpUmlXZ1YguCn6LQ&amp;input=WwpbMiA3IDQgNl0KWzQgMyAyIDFdCls2IDQgMiA1IDMgMV0KWzggNCAyIDFdCl0tbVI" rel="nofollow noreferrer">run all test cases</a></p>
<pre><code>¡P=yÈrSùÍSúÍÃª¡XçnÃ·úÃâ qR² ú-     :Implicit input of array U
¡                                  :Map
 P=                                :  Reassign to P (initially the empty string)
   y                               :    Transpose P
    È                              :    Pass through the following function and transpose back
     r                             :      Replace
      S                            :        Space
       ù                           :        Left padded with
        Í                          :        &quot;n&quot; to length 2
         SúÍ                       :        With a space right padded with &quot;n&quot; to length 2
            Ã                      :    End function
             ª                     :    Logical OR ('cause it'll still be the empty string on the first iteration)
              ¡                    :      Map each X in U
               Xçn                 :        &quot;n&quot; repeated X times
                  Ã                :      End map
                   ·               :      Join with newlines
                    ú              :      Right pad each with spaces to the length of the longest
                      Ã            :End map
                       â           :Deduplicate
                         q         :Join with
                          R        :  Newline
                           ²       :  Repeated twice
                             ú-    :Right pad each line with &quot;-&quot; to the length of the longest
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, <s>210</s> 205 bytes</h1>



<pre class="lang-r prettyprint-override"><code>l=scan();w=max(l);h=sum(l|1);a=1:h;p=h+1;m=matrix(' ',w,p);m[,p]='+';for(x in a)m[l[x]:1,x]='*';f=function()write(m,'',w,sep='');f();while(any(i&lt;-m[,a]&gt;m[,a+1])){s=which(i);m[,a][s]=' ';m[,a][s+w]='*';f()}
</code></pre>

<p><a href="https://tio.run/##NY3BCsIwEAV/JbfsmniIeJDG9UdCDqG0JJDU0rQ0on57TUUvDx4DM9O2RcqtGwD1SskViKg95SVBfCnUjlTj9UheKJ0qn6dQgDMuVzmiTkaOlrjgur9PUFgYmMNkoim2UbJUdKiI@mVo53CvjXUKcwdJ8l2Qu5E4R93vbR9iB254QLgeq9bZ275CWcRnpopbD@FbdNbkamb8f8T6CwG@tws7sxNT2wc" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>

<p>reads in the list from stdin; separated by <code>+</code> characters instead of <code>-</code>. It's a lot longer than I would have thought it would be. Takes advantage of the fact that the comparison <code>'*'&gt;'+'</code> evaluates to <code>FALSE</code> but <code>'*'&gt;' '</code> is <code>TRUE</code>, at least on TIO (on my machine I used <code>'='</code> which looked a little better).</p>

<p>Managed to golf 5 bytes down from all the techniques I've learned since writing the original answer.</p>

<p><a href="https://tio.run/nexus/r#NY7BbsMgEETv/Qpuu9ibA2lPJtsfQUhBll2QwLFsKhNF/XYXDrmMdjSjeXtG3ke3oNQHJ1cwSu05TstP9u12rAavV/a90qkW8hYKggBa6ZA6mZUsQw/6Pj@2OxZylEwhNURTrL1doAOpZ55/lzGHR6UcW8gTZkySAOigfVoZWqc94EOc0C1PDLdLMo7sd9VekZXytXONR4@hUWtk9goW8Da9qraDtvN3folPcRXq4/wH" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu5" class="pu"><h1>Javascript, 274 bytes</h1>

<pre><code>a=&gt;(r="",m=Math.max(...a),b=a.map(n=&gt;Array(m).fill(0).map((_,i)=&gt;i&lt;n)),(k=_=&gt;(b.map(c=&gt;r+=c.map(v=&gt;v?"*":" ").join``.trim()+`
`),r+="-".repeat(m)+`
`,n=0,b.map((r,i)=&gt;(s=b[i+1])&amp;&amp;r.map((c,j)=&gt;s[j]||(n|=s[j]=-(c&gt;0),c&gt;0&amp;&amp;(r[j]=0)))),b=b.map(c=&gt;c.map(n=&gt;n&lt;0?1:n)),n&amp;&amp;k()))(),r)
</code></pre>

<p>Example code snippet:</p>

<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>f =

a=&gt;(r="",m=Math.max(...a),b=a.map(n=&gt;Array(m).fill(0).map((_,i)=&gt;i&lt;n)),(k=_=&gt;(b.map(c=&gt;r+=c.map(v=&gt;v?"*":" ").join``.trim()+`
`),r+="-".repeat(m)+`
`,n=0,b.map((r,i)=&gt;(s=b[i+1])&amp;&amp;r.map((c,j)=&gt;s[j]||(n|=s[j]=-(c&gt;0),c&gt;0&amp;&amp;(r[j]=0)))),b=b.map(c=&gt;c.map(n=&gt;n&lt;0?1:n)),n&amp;&amp;k()))(),r)

o.innerText = f([6,4,2,5,3,1])</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;pre id=o&gt;</code></pre>
</div>
</div>
</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, <s>69</s> 62 bytes</h1>

<p><em>-7 bytes thanks to @Shaggy</em></p>

<pre><code>
®ç'x +SpZnUrwÃpQpUrw¹·
V
l o ®V=z d" x""x " z3ÃuW
X¯XbXgJ)Ä ·
</code></pre>

<p>Learning Japt and wanted to try out a more complicated challenge. Outputs with <code>x</code>s and <code>"</code>s instead of asterisks and dashes; takes input as an array of numbers. Assumes sorting will be complete within <code>input.length</code> steps; correct me if that is ever not the case.</p>

<p><a href="http://ethproductions.github.io/japt/?v=1.4.5&amp;code=Cq7nJ3ggK1NwWm5VcnfDcFFwVXJ3ubcKVgpsIG8grlY9eiBkIiB4IiJ4ICIgejPDdVcKWK9YYlhnSinEILc=&amp;input=WzIsIDEsIDQsIDYsIDEsIDhd" rel="nofollow noreferrer">Try it online!</a></p>

<h2>Explanation</h2>

<pre><code>                              // implicit: U = input array
 ®   ç'x +SpZnUrwÃ pQpUrw¹ ·  // implicit: V = this line
UmZ{Zç'x +SpZnUrw} pQpUrw) qR // ungolfed
UmZ{             }            // U mapped by the function:
    Zç'x                      //   "x" times this item
         +SpZnUrw             //   plus " " times the max of the input array (Urw) minus this value (Z)
                   pQpUrw)    // push " (Q) times the max
                           qR // join with newlines

V                             // implicit: W = this line

 l o ®   V=z d" x""x " z3Ã uW // implicit: X = this line
Ul o mZ{ZV=z d" x""x " z3} uW // ungolfed
Ul o                          // the array of the range [0, U.length)
     mZ{Z                }    // mapped by the no-arg function:
         V=z                  //   set V to itself rotated 90deg
             d" x""x "        //   replace all " x" with "x " to "fall"
                       z3     // rotate back to normal
                           uW // add  W(the original) to the start

X¯XbXgJ)Ä ·                   // implicit: return this line
Xs0,XbXgJ)+1 qR               // ungolfed
Xs0,                          // get the substring of X from 0 to...
    XbXgJ)+1                  // the first index of the last item, plus one
             qR               // join with newlines
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, <strike>213</strike> <strike>211</strike> 208 bytes</h1>



<pre class="lang-hs prettyprint-override"><code>import Data.List
(?)=replicate
p=transpose
s l|w&lt;-length l,i&lt;-[n?'*'++w?' '|n&lt;-l]=intercalate[w?'-']$i:(p&lt;$&gt;unfoldr f(p i))
f i|i==n=mempty|2&gt;1=Just(n,n)where n=t&lt;$&gt;i
t(a:b:y)|a&gt;b=" *"++t y|2&gt;1=a:t(b:y);t k=k
</code></pre>

<p><a href="https://tio.run/##JcuxboMwEIDhnac4RUiYYCIlTTtQDEunKltHxOCkppwwh2UfQpF4d0rV9f/19ToMxtptw9FNnuFDsz7dMHAk6lR54yw@NJvIKfaagpuCiQLYdSlza@iHe7ASy7yhOjkmWbbUCSQr7bNVSGz8Q9udN3vPkzbGQrgyrmbqJvvtoRMOME2jDnBFpUiNZnT8XC/VWX3OgQVJSpfeeAOkeIcYsdDFvXimq67u6gDHQ5Yx/AtdsPhb7wyDGrZRI4ECN/MX@xvBCWaySCZADAGaN3mVF/kqX@S53X4B" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
</div>
<div id="pu8" class="pu"><h1>Python, <s>203</s> 199 bytes</h1>

<pre class="lang-py prettyprint-override"><code>def k(x):
 m,j=max(x),''.join;d=[*map(lambda i:('*'*i).ljust(m),x)];f=sorted(d);print(*d,sep='\n')
 while d!=f:d=[*map(j,zip(*[x.replace('* ',' *')for x in map(j,zip(*d))]))];print('-'*m,*d,sep='\n')
</code></pre>
</div>
<div id="pu9" class="pu"><h1>Octave, 104 bytes</h1>

<pre class="lang-matlab prettyprint-override"><code>b=(1:max(L=input(&quot;&quot;)))&lt;=L;do;disp(&quot; *-&quot;([b;max(b)+1]+1))until b==(b=imerode(b,k=[1;1])|imdilate(b,k)~=b)
</code></pre>
<p>*Requires image package.</p>
<p><a href="https://tio.run/nexus/octave#HcoxDsIwDADAr3iLTWEwYkAY/6A/iDLUSgeLpq1oKjEgvh4E6@maKfKtDC/s1ed1rxgCEd21l7xI9m3FAIdTwGjyW0Ydp46J9rn6BKaKpl7G55JHtONDIwsnenvJPg31b/RRo9biVeAicBbg9AU" rel="nofollow noreferrer" title="Octave – TIO Nexus">Try it online!</a></p>
<p>Explanation:</p>
<pre class="lang-matlab prettyprint-override"><code>input = [8 ;4 ;2 ;1]

L = input('');                    %input list
b=(1:max(L))&lt;=L;                  % generate matrix of 0s and 1s as indexes of asterisks 

b =

  1  1  1  1  1  1  1  1
  1  1  1  1  0  0  0  0
  1  1  0  0  0  0  0  0
  1  0  0  0  0  0  0  0
do;
    disp(' *-'([b;max(b)+1]+1))  %display asterisks and dashes
    
    E = imerode(b,k=[1;1]);      %morphological erosion
    E =

      1  1  1  1  0  0  0  0
      1  1  0  0  0  0  0  0
      1  0  0  0  0  0  0  0
      1  0  0  0  0  0  0  0

    D = imdilate(b,k);           %morphological dilation
    D =

      1  1  1  1  1  1  1  1
      1  1  1  1  1  1  1  1
      1  1  1  1  0  0  0  0
      1  1  0  0  0  0  0  0

    b_temp = E | (D~=b)          %intermediate result
    b_temp =

      1  1  1  1  0  0  0  0
      1  1  0  0  1  1  1  1
      1  0  1  1  0  0  0  0
      1  1  0  0  0  0  0  0

until b==(b=b_temp)              %loop until no change
</code></pre>
</div>
<div id="pu10" class="pu"><h1><a href="https://www.perl.org/" rel="noreferrer">Perl 5</a>, 118 bytes</h1>

<p>115 bytes of code + <code>-pla</code> flags.</p>



<pre class="lang-perl prettyprint-override"><code>\@X[$_]for@F;s%\d+ ?%Y x$&amp;.$"x($#X-$&amp;).$/%ge;while(/Y.{$#X} /s){print$_,_ x$#X;1while s/Y(.{$#X}) /X$1b/s;y/bX/Y /}
</code></pre>

<p><a href="https://tio.run/nexus/perl5#JctNCsIwEEDhvacY7aQ0aDPEv00WduUZEqyEFqsWgoZGsFJ69lh0@/heMvdN5yD3roploU9oz9dnVxxVYOVlCQdmoMdU4KLPMNE5plwgsVuj3vfWNRkZMUx9BAp88F37eKFd2WlJtJI/AoFM9kccSKOsKagP1ZoM0BjjHrawhh1sQM6@" rel="noreferrer" title="Perl 5 – TIO Nexus">Try it online!</a></p>

<p>It seems a bit too long. But again, dealing with multiline strings with regex is usually not easy.</p>

<p>I'm using <code>Y</code> instead of <code>*</code> and <code>_</code> instead of <code>-</code>.</p>
</div>
<div id="pu11" class="pu"><h1><a href="https://github.com/isaacg1/pyth" rel="noreferrer">Pyth</a>, 27 bytes</h1>

<pre><code>jsCM.u:R"v "" v"N+R\-.t*L\v
</code></pre>

<p><a href="http://pyth.herokuapp.com/?code=jsCM.u%3AR%22v+%22%22+v%22N%2BR%5C-.t%2aL%5Cv&amp;input=%5B6%2C+4%2C+2%2C+5%2C+3%2C+1%5D&amp;debug=0" rel="noreferrer">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/120057/">120057</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




