<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::27028</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>116</td><td>APLNARS</td><td>231224T071221Z</td><td><a href="https://codegolf.stackexchange.com/questions/27028/let-the-trigonometry-begin/268725#268725">Rosario</a></td></tr>
<tr d-ix="1"><td>140</td><td>Ruby  160 152 140 Chars</td><td>150218T114333Z</td><td><a href="https://codegolf.stackexchange.com/questions/27028/let-the-trigonometry-begin/46819#46819">Boriel</a></td></tr>
<tr d-ix="2"><td>058</td><td>J</td><td>140514T141237Z</td><td><a href="https://codegolf.stackexchange.com/questions/27028/let-the-trigonometry-begin/27043#27043">jpjacobs</a></td></tr>
<tr d-ix="3"><td>104</td><td>Python 3 102 / Python 2</td><td>140514T065800Z</td><td><a href="https://codegolf.stackexchange.com/questions/27028/let-the-trigonometry-begin/27033#27033">xnor</a></td></tr>
<tr d-ix="4"><td>085</td><td>Perl</td><td>140514T073334Z</td><td><a href="https://codegolf.stackexchange.com/questions/27028/let-the-trigonometry-begin/27035#27035">Tal</a></td></tr>
<tr d-ix="5"><td>098</td><td>Fortran</td><td>140514T133958Z</td><td><a href="https://codegolf.stackexchange.com/questions/27028/let-the-trigonometry-begin/27042#27042">Kyle Kan</a></td></tr>
<tr d-ix="6"><td>072</td><td>Perl</td><td>140514T121101Z</td><td><a href="https://codegolf.stackexchange.com/questions/27028/let-the-trigonometry-begin/27040#27040">primo</a></td></tr>
<tr d-ix="7"><td>096</td><td>Mathematica</td><td>140516T022124Z</td><td><a href="https://codegolf.stackexchange.com/questions/27028/let-the-trigonometry-begin/27096#27096">alephalp</a></td></tr>
<tr d-ix="8"><td>042</td><td>CJam</td><td>140515T011710Z</td><td><a href="https://codegolf.stackexchange.com/questions/27028/let-the-trigonometry-begin/27067#27067">aditsu q</a></td></tr>
<tr d-ix="9"><td>128</td><td>GNU bc</td><td>140514T202057Z</td><td><a href="https://codegolf.stackexchange.com/questions/27028/let-the-trigonometry-begin/27056#27056">Digital </a></td></tr>
<tr d-ix="10"><td>nan</td><td></td><td>140515T101635Z</td><td><a href="https://codegolf.stackexchange.com/questions/27028/let-the-trigonometry-begin/27075#27075">edc65</a></td></tr>
<tr d-ix="11"><td>nan</td><td></td><td>140514T164520Z</td><td><a href="https://codegolf.stackexchange.com/questions/27028/let-the-trigonometry-begin/27048#27048">James</a></td></tr>
<tr d-ix="12"><td>nan</td><td>Python >=2.7.3</td><td>140514T061724Z</td><td><a href="https://codegolf.stackexchange.com/questions/27028/let-the-trigonometry-begin/27030#27030">avall</a></td></tr>
<tr d-ix="13"><td>185</td><td>JavaScript ES6</td><td>140514T064722Z</td><td><a href="https://codegolf.stackexchange.com/questions/27028/let-the-trigonometry-begin/27031#27031">Gaurang </a></td></tr>
<tr d-ix="14"><td>114</td><td>C</td><td>140515T060907Z</td><td><a href="https://codegolf.stackexchange.com/questions/27028/let-the-trigonometry-begin/27069#27069">tpb261</a></td></tr>
<tr d-ix="15"><td>096</td><td>JavaScript ECMAScript 6 Draft   96 Characters</td><td>140514T183040Z</td><td><a href="https://codegolf.stackexchange.com/questions/27028/let-the-trigonometry-begin/27051#27051">MT0</a></td></tr>
<tr d-ix="16"><td>336</td><td>Ruby</td><td>140514T160916Z</td><td><a href="https://codegolf.stackexchange.com/questions/27028/let-the-trigonometry-begin/27046#27046">Mohammad</a></td></tr>
<tr d-ix="17"><td>120</td><td>C</td><td>140514T113805Z</td><td><a href="https://codegolf.stackexchange.com/questions/27028/let-the-trigonometry-begin/27039#27039">r3mainer</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>APL(NARS), 116 chars</h1>
<pre><code>r←a C w;d;v;m;p
r←d←1+(2≠↑a)×w-1⋄m←w×w×¯1⋄p←2⊃a⋄v←0 1-(2=↑a)
→0×⍳0≥p-←1⋄r+←d×←m÷×/v+←2⋄→2

z←⎕⋄6⍕1 z[2]C↑z⋄6⍕2 z[2]C↑z
</code></pre>
<p>15+44+28+2+27=116</p>
<p>the last line call the function C that is a sin and cos function depend of input
(input ≠2 is sin input =2 is cos)</p>
<pre><code>      z←⎕⋄1 z[2]C↑z⋄2 z[2]C↑z 
⎕:
      5 3
10.20833333
14.54166667
      z←⎕⋄1 z[2]C↑z⋄2 z[2]C↑z 
⎕:
      8.555 13
0.7654305103
¯0.6410922374
      z←⎕⋄1 z[2]C↑z⋄2 z[2]C↑z 
⎕:
      9.26 10
¯3.154676539
¯8.404354123
      z←⎕⋄6⍕1 z[2]C↑z⋄6⍕2 z[2]C↑z 
⎕:
      5 3
 10.208333
 14.541667
      z←⎕⋄6⍕1 z[2]C↑z⋄6⍕2 z[2]C↑z 
⎕:
      8.555 13
 0.765431
 ¯0.641092
      z←⎕⋄6⍕1 z[2]C↑z⋄6⍕2 z[2]C↑z 
⎕:
      9.26 10
 ¯3.154677
 ¯8.404354
      z←⎕⋄6⍕1 z[2]C↑z⋄6⍕2 z[2]C↑z 
⎕:
      6.54 12
 0.253986
 0.967147
      z←⎕⋄6⍕1 z[2]C↑z⋄6⍕2 z[2]C↑z 
⎕:
      5 1
 5.000000
 1.000000
      z←⎕⋄6⍕1 z[2]C↑z⋄6⍕2 z[2]C↑z 
⎕:
      20 20
 ¯5364.411846
 ¯10898.499385
</code></pre>
<p>OT it would be possible to calculate the exact answer using rationals and input rational</p>
<pre><code>      z←⎕⋄1 z[2]C↑z⋄2 z[2]C↑z 
⎕:
      1r4  10
8264318085745811128158727r33404146443928530321408000 
17051609536099989115458551r17598710837038136237752320
</code></pre>
</div>
<div id="pu1" class="pu"><h1>Ruby - <del>160</del> <del>152</del> 140 Chars</h1>

<p>Using recursion and the fact that for this recursive implementation sin(x, 2n + 1) = 1 + cos(x, 2n - 1), being sin(x, n) and cos(x, n) the series defined above for cos x and sin x.</p>



<pre class="lang-rb prettyprint-override"><code>p=-&gt;x,n{n&lt;1?1:x*p[x,n-1]}
f=-&gt;n{n&lt;2?1:n*f[n-1]}
c=-&gt;x,n{n&lt;1?1:p[x,n]/f[n]-c[x,n-2]}
x,n=gets.split.map &amp;:to_f
n*=2
puts c[x,n-1]+1,c[x,n-2]
</code></pre>

<p>Edit: Contributed by commenters (read below).</p>
</div>
<div id="pu2" class="pu"><h2>J <strike>98 70 69</strike> 58</h2>

<p>Though this can probably be shortened quite a bit using more fancy functions ... comments are welcome:</p>

<pre><code>exit echo 0j6":,.-/(($%&amp;(*/)1+i.@[)"0~i.@,&amp;_2)/".}:stdin''
</code></pre>

<p>note 2: input ends when receiving EOF (ctrl-D in linux).
Edit: join exponentiation and factorial into a nicer, more J-ish whole: <code>($ %&amp;(*/) &gt;:@i.@[ )</code>. This boils down to take an array of x replications of y and an array of the numbers from 1 to y. Multiply each and divide the result. This gets rid of the duplicate <code>*/</code>.</p>

<p>Thanks to algortihmshark, another 7 characters off.</p>

<p>Eliminated cut for getting rid of the trailing newline.</p>

<p>Longer version, for which knowing about forks is a must.</p>

<pre><code>NB. recursive Factorial
f=: */@&gt;:@i.      NB. multiply all from 1 to n
NB. Exponential
e=: */@$          NB. replicate y x times, take the product.
NB. the x t y is the Nth (general) term without sign of the joint series
t=: (e % f@[)"0  NB. pretty straight forward: divide by (x!) on the exponential

NB. Piece the parts together, from right to left:
NB. read from stdin, cut the linefeed off , make the 2 n terms in 2 columns, which
NB. effectively splits out pair and odd terms, put in the minuses, put in rows
NB. instead of columns, echo, exit
exit echo 0j6&amp;": ,. (-/) (i.@(,&amp;_2)@{: t {.) , (". ;. _2) stdin''
</code></pre>

<p>There is no online J interpreter, but it's open source since a few years; installation is easy with these instructions:</p>

<p><a href="http://www.jsoftware.com/jwiki/System/Installation/J801" rel="nofollow">http://www.jsoftware.com/jwiki/System/Installation/J801</a></p>

<p>On #jsoftware on irc.freenode.org, there is a J bot too.</p>

<p>stdin works only when ran from a file, from the commandline, else replace <code>stdin ''</code> with <code>'a b;'</code> where a and b are the numbers that would have been passed on the commandline.</p>
</div>
<div id="pu3" class="pu"><h1>Python 3 (102) / Python 2 (104)</h1>

<p><strong>Python 3 (102)</strong></p>

<pre class="lang-python prettyprint-override"><code>x,n=map(float,input().split())
k=2*n
t=1
while k&gt;1:k-=1;t=1+t*1j*x/k
print('%.6f\n'*2%(t.imag,t.real))
</code></pre>

<p><strong>Python 2.7 (104)</strong></p>

<pre class="lang-python prettyprint-override"><code>x,n=map(float,raw_input().split())
k=2*n
t=1
while k&gt;1:k-=1;t=1+t*1j*x/k
print'%.6f\n'*2%(t.imag,t.real)
</code></pre>

<p>Basically the same code. We save two characters from not needing parens for <code>print</code> but lose four from needing <code>raw_input</code>.</p>

<p><strong>Sample run</strong></p>

<p>You can run these <a href="https://ideone.com/" rel="nofollow">here</a>.</p>

<pre><code>&gt;&gt;&gt;
20 20
-5364.411846
-10898.499385
</code></pre>

<p><strong>Code explanation</strong></p>

<p>The main idea is to compute <code>2*n</code> terms of <code>e^(ix)</code>, and then take the imaginary and real part to get the <code>sin</code> and <code>cos</code> values approximated to <code>n</code> terms. We use the truncation of the Taylor series:</p>

<pre><code>e^(ix)≈sum_{k=0}^{2n-1} (i*x)^k/k!
</code></pre>

<p>This is polynomial in i*x, but rather than compute its value by summing each term, we use  a modified <a href="http://en.wikipedia.org/wiki/Horner%27s_method" rel="nofollow">Horner's Method</a> to compute the sequence (defined recursively in reverse)</p>

<pre><code>t_{2n} = 1
t_k = 1 + t_{k+1}*i*x/k,
</code></pre>

<p>which gives <code>t_1</code> equaling the desired value.</p>

<p>Python string formatting operations are used to get the values to display rounded up to 6 decimal digits.</p>

<p>Edit: Changed to round to 6 digits as per new rules. No other changes were needed.</p>
</div>
<div id="pu4" class="pu"><h1>Perl, <s>120</s> <s>108</s> <s>104</s> <s>89</s> 85</h1>
<pre><code>&lt;&gt;=~/ /;$c=$t=1;for(1..2*$'-1){$t*=$`/$_;$_%2?$s:$c+=$_&amp;2?-$t:$t}printf&quot;%f\n&quot;x2,$s,$c
</code></pre>
<p>Ungolfed:</p>
<pre><code>&lt;&gt; =~ / /;
$cosine = $t = 1;
for (1.. 2*$' - 1){
  $t *= $` / $_;
  ($_%2 ? $sine : $cosine) += $_&amp;2?-$t:$t
}
printf &quot;%.6f\n&quot; x2, $sine, $cosine
</code></pre>
<p>The first line reads the input and uses regex to find a space; this automatically puts the value before the space in $` and the value after it in $'.</p>
<p>Now we loop from 1 to <code>2*n-1</code>. <code>$t</code> is our term, which the loop repeatedly multiplies by <code>x</code> and divides by the loop's index (<code>$_</code>). The loop starts at 1 rather than 0 because the cosine is initialized to 1, which saved me having to deal with dividing by zero.</p>
<p>After updating <code>$t</code>, the trinary operator returns either <code>$sine</code> or <code>$cosine</code>, depending on whether the index is odd or even, and adds <code>$t</code>'s value to it. The magic formula <code>$_&amp;2?-$t:$t</code> figures whether to add or subtract this value (basically using a bitwise-and on the index and 2 to generate the repeating sequence of &quot;add, add, subtract, subtract&quot;).</p>
<p>You can test-run this code at <a href="http://www.compileonline.com/execute_perl_online.php" rel="nofollow noreferrer">compileonline.com</a>.</p>
</div>
<div id="pu5" class="pu"><h2>Fortran: <s>89</s> <s>109</s> <s>125</s> <s>102</s> <s>101</s> 98 bytes</h2>

<pre><code>complex*16::t=1;read*,x,n;do k=2*n-1,1,-1;t=1+t*(0,1)*x/k;enddo;print'(f0.6)',aimag(t),real(t);end
</code></pre>

<p>I abuse implicit typing, but unfortunately no such implicit complex type exists, so I had to specify that &amp; the complex <code>i</code>. <s>Gfortran cuts output at 8 decimal places naturally, so we're good on that spec.</s> Unfortunately, my original method of output, <code>print*,t</code>, did not meet specs so I had to add 16 characters to output the imaginary and real components &amp; hit the required 8 decimal places.</p>

<p>Thanks to Ventero, I managed to save 23 bytes between output and the loop. And another character to get correct answers and formatted output. And 3 more on the <code>read</code> statement.</p>

<p>Ungolfed,</p>

<pre><code>complex*16::t=1
read*,x,n
do k=2*n-1,1,-1
   t=1+t*(0,1)*x/k
enddo
print'(f0.6)',aimag(t),real(t)
end
</code></pre>
</div>
<div id="pu6" class="pu"><h2>Perl - 72 bytes</h2>



<pre class="lang-perl prettyprint-override"><code>$~=&lt;&gt;=~$"+$'*2;$_=1-$_*$`/$~--/$~*$`for($,,$;)x$';printf'%f
%f',$`*$,,$;
</code></pre>

<p>Or, counting command line options as 1 byte each, in <strong>70 bytes</strong>:</p>

<pre class="lang-perl prettyprint-override"><code>#!perl -n
$-=/ /+$'*2;$_=1-$_*$`/$---/$-*$`for($,,$;)x$';printf'%f
%f',$`*$,,$;
</code></pre>

<p>Or, if you'll allow me Perl 5.8, in <strong>63 bytes</strong>:</p>

<pre class="lang-perl prettyprint-override"><code>#!perl -p
$.+=$'&lt;&lt;/ /;$_=1-$_*$`/$.--/$.*$`for($_=$#='%f
',$\)x$';$_*=$`
</code></pre>

<p>but why would you.</p>

<p><em><strong>Edit</strong>: Compliance with the new rules. <code>%f</code> rounds to 6 places by default, how convenient!</em></p>

<hr>

<p><strong>Algorithm</strong>  </p>

<p>Examining the Taylor series for <em>sin(x)</em>:</p>

<p><img src="https://chart.googleapis.com/chart?cht=tx&amp;chf=bg,s,FFFFFF00&amp;chl=%5Csin%28x%29%3Dx-%5Cfrac%7Bx%5E3%7D%7B3%21%7D%2B%5Cfrac%7Bx%5E5%7D%7B5%21%7D-%5Cfrac%7Bx%5E7%7D%7B7%21%7D%2B%5Cfrac%7Bx%5E9%7D%7B9%21%7D-%5Cfrac%7Bx%5E%7B11%7D%7D%7B11%21%7D%2B%5Cdots" alt=""></p>

<p>it can be seen that each term evenly divides every successive term. Because of this, it can be transformed rather effortlessly into a nested expression:</p>

<p><img src="https://chart.googleapis.com/chart?cht=tx&amp;chf=bg,s,FFFFFF00&amp;chl=%5Csin%28x%29%3Dx%281-%5Cfrac%7Bx%5E2%7D%7B2%5Ccdot+3%7D%281-%5Cfrac%7Bx%5E2%7D%7B4%5Ccdot+5%7D%281-%5Cfrac%7Bx%5E2%7D%7B6%5Ccdot+7%7D%281-%5Cfrac%7Bx%5E2%7D%7B8%5Ccdot+9%7D%281-%5Cfrac%7Bx%5E2%7D%7B10%5Ccdot+11%7D%281-%5Cdots%29%29%29%29%29%29" alt=""></p>

<p><em>cos(x)</em> transforms similarly, without the leading <em>x</em>, and denominator terms one smaller.</p>

<p>Additionally, this nested expression can be reformulated as a reverse recursive expression:</p>

<p><img src="https://chart.googleapis.com/chart?cht=tx&amp;chf=bg,s,FFFFFF00&amp;chl=s_n%3D1-%5Cfrac%7Bs_%7Bn%2B1%7D%5Ccdot+x%5E2%7D%7B%282n%29%5Ccdot%282n%2B1%29%7D" alt=""></p>

<p>with <em>s<sub>&#x221E;</sub> = 0</em> and <em>sin(x) = x&middot;s<sub>1</sub></em>, which is ultimately what is used.</p>

<hr>

<p><strong>Ungolfed</strong>  </p>

<pre class="lang-perl prettyprint-override"><code>&lt;&gt; =~ m/ /;          # read one line from stdin, match a space
                     # prematch ($`) is now x, postmatch ($') is now n
($x, $n) = ($`, $'); # reassign, for clarity
$i = 2*$n + 1;       # counting variable (denominators)

for (($s, $c)x$n) {  # iterate over $s and $c, n times each
  # compute the next term of the recursive expression
  # note: inside this loop $_ is not the _value_
  # of $s and $c alternately, it _is_ $s and $c

  $_ = 1 - $_ * $x**2 / $i-- / $i;
}

# formated output
printf("%f\n%f", $x*$s, $c);
</code></pre>

<hr>

<p><strong>Sample Usage</strong>  </p>

<pre class="lang-perl prettyprint-override"><code>$ echo 5 3 | perl sin-cos.pl
10.208333
14.541667

$ echo 8.555 13 | perl sin-cos.pl
0.765431
-0.641092

$ echo 9.26 10 | perl sin-cos.pl
-3.154677
-8.404354

$ echo 6.54 12 | perl sin-cos.pl
0.253986
0.967147

$ echo 5 1 | perl sin-cos.pl
5.000000
1.000000

$ echo 20 20 | perl sin-cos.pl
-5364.411846
-10898.499385
</code></pre>

<p>If you want to test this online, I recommend using <a href="http://www.compileonline.com/execute_perl_online.php" rel="nofollow noreferrer">compileonline.com</a>. Copy-Paste the code into <code>main.pl</code>, and the input into the <code>STDIN</code> box, then <kbd>Execute Script</kbd>.</p>
</div>
<div id="pu7" class="pu"><h1>Mathematica, 96 chars</h1>
<pre><code>{{x,n}}=ImportString[InputString[],&quot;Table&quot;];Column@{Im@#,Re@#}&amp;@Fold[1+I#x/#2&amp;,1,2n-Range[2n-1]]
</code></pre>
</div>
<div id="pu8" class="pu"><h1>CJam - 42</h1>

<pre><code>rd:X;1_ri2*,1&gt;{_2%2*(*/X*_}/;]2/z{:+6mO}/p
</code></pre>

<p>Try it online at <a href="http://cjam.aditsu.net" rel="nofollow">http://cjam.aditsu.net</a></p>

<p>Explanation:</p>

<p><code>r</code> reads a token from the input<br>
<code>d</code> converts to double<br>
<code>:X</code> assigns to the variable X<br>
<code>;</code> pops the value from the stack<br>
<code>1</code> puts 1 on the stack (the first term)<br>
<code>_</code> duplicates the 1<br>
<code>r</code> reads the next token (the n)<br>
<code>i</code> converts to integer<br>
<code>2*,1&gt;{...}/</code> is a kind of loop from 1 to 2*n - 1:<br>
- <code>2*</code> multiplies by 2<br>
- <code>,</code> makes an array from 0 to (last value)-1<br>
- <code>1&gt;</code> removes the first item of the array (0)<br>
- <code>{...}/</code> executes the block for each item in the array<br>
<code>_</code> duplicates the "loop variable" (let's call it k)<br>
<code>2%2*(</code> converts from even/odd to -1/1:<br>
- <code>2%</code> is modulo 2 (-> 0/1)<br>
- <code>2*</code> multiplies by 2 (-> 0/2)<br>
- <code>(</code> decrements (-> -1/1)<br>
<code>*</code> multiplies, thus changing the sign every second time<br>
<code>/</code> divides the term on the stack by k or -k; this is the "/k!" part of the calculation together with the sign change<br>
<code>X*</code> multiplies by X; this is the "X^k" part of the calculation; we obtained the next term in the series<br>
<code>_</code> duplicates the term to be used for calculating the following term in the next iteration<br>
<code>;</code> (after the loop) pops the last duplicated term<br>
<code>]</code> collects the terms on the stack in an array<br>
At this point we have an array [1 X -X^2/2! -X^3/3! X^4/4! X^5/5! ...] containing exactly all the terms we need for cos(x) and sin(x), interleaved<br>
<code>2/</code> splits this array into pairs<br>
<code>z</code> transposes the matrix, resulting in the array with the terms for cos(x) and the array with the terms for sin(x), as "matrix rows"<br>
<code>{...}/</code> again executes the block for each array item (matrix row):<br>
- <code>:+</code> adds the elements of the matrix row together<br>
- <code>6mO</code> rounds to 6 decimals<br>
At this point we have the desired cos(x) and sin(x) on the stack<br>
<code>p</code> prints the representation of the last item on the stack (sin(x)) followed by a newline<br>
At the end of the program, the remaining contents of the stack (cos(x)) are printed automatically.</p>
</div>
<div id="pu9" class="pu"><h1>GNU bc, driven by bash, 128 bytes</h1>
<p>Far too many bytes spent setting decimal places and to-nearest rounding.  Oh well, here it is anyway:</p>
<pre><code>bc -l&lt;&lt;&lt;&quot;m=1000000
w=s=$1
c=1
for(p=2;p/2&lt;$2;s+=w){w*=-1*$1/p++
c+=w
w*=$1/p++}
s+=((s&gt;0)-.5)/m
c+=((c&gt;0)-.5)/m
scale=6
s/1
c/1&quot;
</code></pre>
<p>Output:</p>
<pre>
$ ./trig.sh 5 3
10.208333
14.541667
$ ./trig.sh 8.555 13
.765431
-.641092
$ ./trig.sh 9.26 10
-3.154677
-8.404354
$ ./trig.sh 6.54 12
.253986
.967147
$ ./trig.sh 5 1
5.000000
1.000000
$ ./trig.sh 20 20
-5364.411846
-10898.499385
$ 
</pre>
<hr />
<h1>Linux command-line tools, 97 unicode characters</h1>
<p><em>Unicode hack answer removed at OP's request.  Look at the edit history if you interested.</em></p>
</div>
<div id="pu10" class="pu">

<p><strong>JavaScript - 114 chars</strong></p>

<pre class="lang-javascript prettyprint-override"><code>y=(z=prompt)().split(' ');for(x=l=s=+y[0],c=d=1;--y[1];c+=l*=-x/++d,s+=l*=x/++d);z(s.toFixed(6)+'\n'+c.toFixed(6))
</code></pre>

<p>Based on james' great answer. Same algorithm, first step avoided with initialization of c=1 and s=x. Using 2 vars instead of an array for output simplifies the loop.</p>

<p><strong>Ungolfed</strong></p>

<pre class="lang-javascript prettyprint-override"><code>y = ( z = prompt)().split(' ');
for ( 
    x = l = s = +y[0], /* init to value x, note the plus sign to convert from string to number */
    c = d = 1;
    --y[1]; /* No loop variable, just decrement counter */
    c += (l *= -x / ++d), /* Change sign of multiplier on each loop */
    s += (l *= x / ++d) 
); /* for body is empty */
z(s.toFixed(6) + '\n' + c.toFixed(6))     
</code></pre>
</div>
<div id="pu11" class="pu">

<p><strong>JavaScript - 133 chars</strong></p>

<pre class="lang-javascript prettyprint-override"><code>y=(z=prompt)().split(" "),s=[0,0],l=1;for(i=0;i&lt;y[1]*2;i++){s[i%2]+=i%4&gt;1?-1*l:l;l*=y[0]/(i+1)}z(s[1].toFixed(6));z(s[0].toFixed(6));
</code></pre>

<p><strong>Ungolfed</strong></p>

<pre class="lang-javascript prettyprint-override"><code>var y = prompt().split(" ");

var out = [0,0]; // out[1] is sin(x), out[0] is cos(x)
var l = 1; // keep track of last term in series
for (var i=0; i &lt; y[1] * 2; i++) {
    out[i % 2] += (i % 4 &gt; 1) ? -1 * l : l;
    l *= y[0] / (i + 1);
}

prompt(out[1].toFixed(6));
prompt(out[0].toFixed(6));
</code></pre>
</div>
<div id="pu12" class="pu"><h2>Python >=2.7.3, <del>186</del> <del>184</del> <del>211</del> <del>200</del> <del>182</del> 170 characters</h2>

<p>Kinda simple as hell. Uses formula from the question parameterized for sine and cosine.</p>

<p>Online interpreter can be found <del><a href="http://repl.it/" rel="nofollow">here</a></del> <a href="http://ideone.com/JsYNNK" rel="nofollow">here</a>
</p>

<pre class="lang-py prettyprint-override"><code>x,n=map(eval,raw_input().split())
f=lambda n:n&lt;2and 1or n*f(n-1.)
for i in[1,0]:print"%.6f"%sum((1-j%2*2)*reduce(lambda o,p:o*p,[x]*(i+2*j),1)/f(i+2*j)for j in range(n))
</code></pre>

<p><strong>Edit:</strong> Valid version with all the restrictions</p>

<p><strong>Edit2:</strong> Changed online interpreter to ideone.com because of invalid <code>round</code> function output in Python 2.7.1</p>

<p><strong>Edit3:</strong> Turned out that I used unnecessary inline lambda + changed rounding to string format (stolen from xnor :) )</p>

<p><strong>Edit4:</strong> Replaced <code>join</code> with not functional main <code>for</code> loop</p>
</div>
<div id="pu13" class="pu"><h1>JavaScript (ES6) - 185 chars</h1>

<pre><code>i=(h,n)=&gt;n?h*i(h,n-1):1;q=x=&gt;x?x*q(x-1):1;p=(a,j,n)=&gt;{for(c=b=0,e=1;c++&lt;n;j+=2,e=-e)b+=e*i(a,j)/q(j);return b.toFixed(6)}
_=(y=prompt)().split(" ");y(p(_[0],1,_[1])+"\n"+p(_[0],0,_[1]))
</code></pre>

<p>Uses a function <code>q</code> for factorial, <code>i</code> for exponentiation, and <code>p</code> for performing both <code>sin</code> and <code>cos</code>. Run at jsbin.com. 
Uses exactly the formula without any modification. </p>

<p><strong>EDIT</strong>: Changed <code>8</code> decimal places to <code>6</code> decimal places. 15/May/14</p>

<p><strong>Ungolfed Code</strong>:</p>

<pre><code>/*Note that `name=args=&gt;function_body` is the same as `function name(args){function_body} */

// factorial
function fact(x) {
    return x &gt; 1 ? x * fact(x - 1) : 1
}

// Exponentiation
function expo(number, power){
    return power &gt; 0 ? number * expo(number, power - 1) : 1;
}

function sin_and_cos(number, starter, terms) {
    for (count = sum = 0, negater = 1;
            count++ &lt; terms;
            starter += 2, negater = -negater) 

        sum += (negater * expo(number, starter)) / fact(starter);

    // to 6-decimal places
    return sum.toFixed(6);
}

input = (out = prompt)().split(" ");

out(sin_and_cos(input[0], 1,input[1]) 
        + "\n" +                
        sin_and_cos(input[0], 0, input[1]));
</code></pre>
</div>
<div id="pu14" class="pu"><h1>C,114</h1>
<p>Insufficient reputation to comment, but further to Squeamish Offisrage's C <a href="https://codegolf.stackexchange.com/a/27039/15599">answer</a>, 7 byte reduction by using float for double and removing spaces, and combining declaration and init of 'r' gives</p>
<pre><code>float s,c,r=1,x;main(i,n){for(scanf(&quot;%f%d&quot;,&amp;x,&amp;n);i&lt;n*2;s+=r,r*=-x/i++)c+=r,r*=x/i++;printf(&quot;%.8f\n%.8f\n&quot;,s,c);}
</code></pre>
<p>try <a href="http://ideone.com/jqyICw" rel="nofollow noreferrer">here</a>.</p>
</div>
<div id="pu15" class="pu"><h1>JavaScript (ECMAScript 6 Draft) - <s>97</s> 96 Characters</h1>
<p>A recursive solution:</p>
<pre><code>f=(x,n,m=1,i=0,s=x,c=1)=&gt;i&lt;2*n?f(x,n,m*=-x*x/++i/++i,i,s+m*x/++i,c+m):[s,c].map(x=&gt;x.toFixed(8))
</code></pre>
<p>Output:</p>
<pre><code>f(0.3,1)
[&quot;0.29550000&quot;, &quot;0.95500000&quot;]

f(0.3,24)
[&quot;0.29552021&quot;, &quot;0.95533649&quot;]
</code></pre>
</div>
<div id="pu16" class="pu"><h1>Ruby, 336</h1>
<p>Probably the longest one here, but I'm sure it could be made shorter :(</p>
<pre class="lang-ruby prettyprint-override"><code>def f(n)
n==0 ? 1: 1.upto(n).inject(:*)
end
def p(x,y)
i=1
return 1 if y==0 
y.times {i *= x}
i
end
def s(x,n)
a = 0.0
for k in 0...n
a += p(-1,k) * p(x.to_f, 1+2*k)/f(1+2*k)
end
a.round(8)
end
def c(x,n)
a= 0.0
for k in 0...n
a +=p(-1,k) * p(x.to_f, 2*k)/f(2*k)
end
a.round(8)
end
x = gets.chomp
n = gets.chomp.to_i
puts s(x,n), c(x,n)
</code></pre>
</div>
<div id="pu17" class="pu"><h1>C, 120</h1>

<pre><code>double s,c,r,x;main(i,n){for(scanf("%lf %d",&amp;x,&amp;n),r=1;i&lt;n*2;s+=r,r*=-x/i++)c+=r,r*=x/i++;printf("%.8lf\n%.8lf\n",s,c);}
</code></pre>

<p>To save a byte, the statements that update the sine value are placed inside the <code>for()</code> statement, but are actually executed after the statements following the closing parenthesis that update the cosine value. (I guess I could also save a couple more bytes by removing the final newline character in the program's output.)</p>

<p>The global variables <code>s</code>, <code>c</code>, <code>r</code> and <code>x</code> are implicitly initialized to zero, and <code>i</code> will have a value of 1 as long as there are no arguments provided on the command line. Unfortunately <code>printf()</code> defaults to 6 places of decimals, so the output format is a bit verbose.</p>

<h3>Ungolfed:</h3>

<p>Here's the code with a bit of rearrangement to make the order in which things are done a bit clearer:</p>

<pre><code>double s,c,r,x;
main(i,n) {
    scanf("%lf %d",&amp;x,&amp;n);
    r=1;
    for(;i&lt;n*2;) {
        c+=r;
        r*=x/i++;
        s+=r;
        r*=-x/i++;
    }
    printf("%.8lf\n%.8lf\n",s,c);
}
</code></pre>

<h3>Sample output:</h3>

<pre><code>$ echo 1.23 4 | ./sincos
0.94247129
0.33410995
</code></pre>

<h3>Try it online:</h3>

<p><a href="http://ideone.com/URZWwo" rel="nofollow">http://ideone.com/URZWwo</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/27028/">27028</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




