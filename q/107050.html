<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::107050</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>064</td><td>PARI/GP</td><td>240517T030333Z</td><td><a href="https://codegolf.stackexchange.com/questions/107050/primes-with-prime-bit-counts/273150#273150">alephalp</a></td></tr>
<tr d-ix="1"><td>140</td><td>PARI/GP</td><td>240506T102648Z</td><td><a href="https://codegolf.stackexchange.com/questions/107050/primes-with-prime-bit-counts/272972#272972">138 Aspe</a></td></tr>
<tr d-ix="2"><td>017</td><td>Pyt</td><td>240505T145402Z</td><td><a href="https://codegolf.stackexchange.com/questions/107050/primes-with-prime-bit-counts/272963#272963">Kip the </a></td></tr>
<tr d-ix="3"><td>011</td><td>Thunno 2</td><td>230825T111459Z</td><td><a href="https://codegolf.stackexchange.com/questions/107050/primes-with-prime-bit-counts/264618#264618">The Thon</a></td></tr>
<tr d-ix="4"><td>014</td><td>Vyxal</td><td>210816T062319Z</td><td><a href="https://codegolf.stackexchange.com/questions/107050/primes-with-prime-bit-counts/233439#233439">emanresu</a></td></tr>
<tr d-ix="5"><td>014</td><td>Stax</td><td>201201T143224Z</td><td><a href="https://codegolf.stackexchange.com/questions/107050/primes-with-prime-bit-counts/215844#215844">Razetime</a></td></tr>
<tr d-ix="6"><td>015</td><td>Japt</td><td>201008T164435Z</td><td><a href="https://codegolf.stackexchange.com/questions/107050/primes-with-prime-bit-counts/212191#212191">Shaggy</a></td></tr>
<tr d-ix="7"><td>013</td><td>Husk</td><td>201008T042939Z</td><td><a href="https://codegolf.stackexchange.com/questions/107050/primes-with-prime-bit-counts/212170#212170">Jo King</a></td></tr>
<tr d-ix="8"><td>009</td><td>05AB1E</td><td>201008T071326Z</td><td><a href="https://codegolf.stackexchange.com/questions/107050/primes-with-prime-bit-counts/212173#212173">Kevin Cr</a></td></tr>
<tr d-ix="9"><td>016</td><td>Husk</td><td>201008T034022Z</td><td><a href="https://codegolf.stackexchange.com/questions/107050/primes-with-prime-bit-counts/212167#212167">Razetime</a></td></tr>
<tr d-ix="10"><td>130</td><td>Python</td><td>170116T211634Z</td><td><a href="https://codegolf.stackexchange.com/questions/107050/primes-with-prime-bit-counts/107059#107059">ovs</a></td></tr>
<tr d-ix="11"><td>050</td><td>Perl 6</td><td>170119T111427Z</td><td><a href="https://codegolf.stackexchange.com/questions/107050/primes-with-prime-bit-counts/107321#107321">smls</a></td></tr>
<tr d-ix="12"><td>147</td><td>Rust</td><td>170119T100857Z</td><td><a href="https://codegolf.stackexchange.com/questions/107050/primes-with-prime-bit-counts/107317#107317">Brian Bo</a></td></tr>
<tr d-ix="13"><td>147</td><td>Haxe</td><td>170117T213653Z</td><td><a href="https://codegolf.stackexchange.com/questions/107050/primes-with-prime-bit-counts/107173#107173">ETHprodu</a></td></tr>
<tr d-ix="14"><td>109</td><td>Bash + GNU utilities</td><td>170117T084238Z</td><td><a href="https://codegolf.stackexchange.com/questions/107050/primes-with-prime-bit-counts/107092#107092">Mitchell</a></td></tr>
<tr d-ix="15"><td>050</td><td>MATLAB</td><td>170117T212351Z</td><td><a href="https://codegolf.stackexchange.com/questions/107050/primes-with-prime-bit-counts/107168#107168">hwm</a></td></tr>
<tr d-ix="16"><td>171</td><td>Haxe</td><td>170117T131819Z</td><td><a href="https://codegolf.stackexchange.com/questions/107050/primes-with-prime-bit-counts/107104#107104">Aurel B&</a></td></tr>
<tr d-ix="17"><td>101</td><td>Perl</td><td>170116T212641Z</td><td><a href="https://codegolf.stackexchange.com/questions/107050/primes-with-prime-bit-counts/107061#107061">Dada</a></td></tr>
<tr d-ix="18"><td>110</td><td>JavaScript ES6</td><td>170117T004849Z</td><td><a href="https://codegolf.stackexchange.com/questions/107050/primes-with-prime-bit-counts/107078#107078">George R</a></td></tr>
<tr d-ix="19"><td>096</td><td>JavaScript ES6</td><td>170116T204007Z</td><td><a href="https://codegolf.stackexchange.com/questions/107050/primes-with-prime-bit-counts/107053#107053">ETHprodu</a></td></tr>
<tr d-ix="20"><td>015</td><td>MATL</td><td>170117T002549Z</td><td><a href="https://codegolf.stackexchange.com/questions/107050/primes-with-prime-bit-counts/107076#107076">Luis Men</a></td></tr>
<tr d-ix="21"><td>097</td><td>Python 3</td><td>170117T144908Z</td><td><a href="https://codegolf.stackexchange.com/questions/107050/primes-with-prime-bit-counts/107110#107110">Dennis</a></td></tr>
<tr d-ix="22"><td>018</td><td>Pyth</td><td>170116T213446Z</td><td><a href="https://codegolf.stackexchange.com/questions/107050/primes-with-prime-bit-counts/107062#107062">Maltysen</a></td></tr>
<tr d-ix="23"><td>120</td><td>Groovy</td><td>170116T235826Z</td><td><a href="https://codegolf.stackexchange.com/questions/107050/primes-with-prime-bit-counts/107074#107074">Gurupad </a></td></tr>
<tr d-ix="24"><td>073</td><td>Octave</td><td>170117T071632Z</td><td><a href="https://codegolf.stackexchange.com/questions/107050/primes-with-prime-bit-counts/107088#107088">rahnema1</a></td></tr>
<tr d-ix="25"><td>100</td><td>Python 2</td><td>170116T234343Z</td><td><a href="https://codegolf.stackexchange.com/questions/107050/primes-with-prime-bit-counts/107073#107073">Dennis</a></td></tr>
<tr d-ix="26"><td>nan</td><td></td><td>170117T004914Z</td><td><a href="https://codegolf.stackexchange.com/questions/107050/primes-with-prime-bit-counts/107079#107079">Brad Gil</a></td></tr>
<tr d-ix="27"><td>013</td><td>Jelly</td><td>170116T223234Z</td><td><a href="https://codegolf.stackexchange.com/questions/107050/primes-with-prime-bit-counts/107067#107067">Dennis</a></td></tr>
<tr d-ix="28"><td>014</td><td>Jelly</td><td>170116T232405Z</td><td><a href="https://codegolf.stackexchange.com/questions/107050/primes-with-prime-bit-counts/107071#107071">user6213</a></td></tr>
<tr d-ix="29"><td>123</td><td>Python</td><td>170116T214130Z</td><td><a href="https://codegolf.stackexchange.com/questions/107050/primes-with-prime-bit-counts/107064#107064">mbomb007</a></td></tr>
<tr d-ix="30"><td>054</td><td>Mathematica</td><td>170116T212527Z</td><td><a href="https://codegolf.stackexchange.com/questions/107050/primes-with-prime-bit-counts/107060#107060">JungHwan</a></td></tr>
<tr d-ix="31"><td>015</td><td>05AB1E</td><td>170116T205219Z</td><td><a href="https://codegolf.stackexchange.com/questions/107050/primes-with-prime-bit-counts/107056#107056">Adnan</a></td></tr>
<tr d-ix="32"><td>014</td><td>05AB1E</td><td>170116T213543Z</td><td><a href="https://codegolf.stackexchange.com/questions/107050/primes-with-prime-bit-counts/107063#107063">Emigna</a></td></tr>
<tr d-ix="33"><td>027</td><td>CJam</td><td>170116T205327Z</td><td><a href="https://codegolf.stackexchange.com/questions/107050/primes-with-prime-bit-counts/107057#107057">Business</a></td></tr>
<tr d-ix="34"><td>016</td><td>Jelly</td><td>170116T204354Z</td><td><a href="https://codegolf.stackexchange.com/questions/107050/primes-with-prime-bit-counts/107054#107054">Jonathan</a></td></tr>
<tr d-ix="35"><td>021</td><td>Pyke</td><td>170116T204513Z</td><td><a href="https://codegolf.stackexchange.com/questions/107050/primes-with-prime-bit-counts/107055#107055">Blue</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://pari.math.u-bordeaux.fr" rel="nofollow noreferrer">PARI/GP</a>, 64 bytes</h1>
<pre><code>n-&gt;p=isprime;[i|i&lt;-[1..n],p(i)*p(t=vecsum(b=binary(i)))*p(#b-t)]
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m728ILEoMz69YMHiNAXbpaUlaboWNx3ydO0KbDOLC4oyc1OtozNrMm10ow319PJidQo0MjW1CjRKbMtSk4tLczWSbJMy8xKLKoHCmiAJ5STdEs1YqDkGiQUFOZUaiQq6dgpAs_JKgEwlEEdJIU0jUVNTRyHa0EBHwdAARJgaxGpC9C1YAKEB" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://pari.math.u-bordeaux.fr" rel="nofollow noreferrer">PARI/GP</a>, 140 bytes</h1>
<p>140 bytes, it can be golfed more.</p>
<hr />
<p>Golfed version. <a href="https://ato.pxeger.com/run?1=NY5BCsIwFET3PUU3hv9phLQgCCFeJAapodGATUMTsVJ6A2_gphtx7228jZXqagaGN7z705et3R38OD7O0SzX75sXNvjW1lVioEPR11cIQirkpmnBipx21BrwYJEQ0FMgDUI3TpcRApVWISIPQ6LBzXQUklGm6B755WhPFbgNo1G6RZHlKsu424q04Mg9RJkrTAlJv7VQOMxOrz6ZhFwEA_mKTe_Jb_hLfwA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre><code>p=isprime
f(x)={my(s=[]);for(i=1,x,if(p(i)&amp;&amp;(c(i)),s=concat(s,[i])));s}
c(n)={my(t=[0,0],b);while(n&gt;0,t[n%2+1]++;n\= 2;);p(t[1]) &amp;&amp; p(t[2])}
</code></pre>
<p>Ungolfed version. <a href="https://ato.pxeger.com/run?1=bZFBasMwEEXp1qeYTYOEVbADhUJIL-IY4zpSO5CMhCyTtCHbXqKbbErv1NN0LNsJhs5O739Gf2a-flztsXp1l8t3F8zD0-_dpxFHCWs4QQJc-3fh-IWt87jXClq9003QW2ZFqQDlKtqM9QKZ5QqOKpK-0AgnUMJiAaKxHYXKkm6rmrbVh_a2ZU3OWjaWmjqIiSgosJRy_MPr0Hm6ikzPSfJvW4oDTPmjpc-bKcg48wuGsePhDXdaEDxDdgvNMpsJ7mG5usLYo2Apzcs0vXGCzXryzWOOGxt-L_IybmEOlwyHKU4JcwrCiPwx6-c9D-cYrzJd5w8" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre><code>f(x) = { 
    my(p = isprime, selected = [], i);
    for(i = 1, x,
        if(p(i) &amp;&amp; (count_ones_and_zeros(i)), selected = concat(selected, [i])));
    return(selected);
}

count_ones_and_zeros(n) = {
    my(count = [0, 0], bit);
    while(n &gt; 0,
        bit = n % 2;
        count[bit+1]++;
        n \= 2;
    );
    return(isprime(count[1]) &amp;&amp; isprime(count[2]) );
}

{
print(f(150));
}
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/mudkip201/pyt" rel="nofollow noreferrer">Pyt</a>, 17 bytes</h1>
<pre><code>řĐṗ*žĐĐĦṗ⇹˜⁻Ħṗ**ž
</code></pre>
<p><a href="https://tio.run/##K6gs@f//6MwjEx7unK51dN@RCUC4DMh@1L7z9JxHjbvBHC2gzP//xuYA" rel="nofollow noreferrer" title="Pyt – Try It Online">Try it online!</a></p>
<pre><code>ř                             řangify
 Đ                            Đuplicate
  ṗ                           is the number ṗrime?
   *                          multiply element-by-element
    ž                         remove žeroes
     ĐĐ                       Đuplicate twice
       Ħṗ                     is the Ħamming weight ṗrime?
         ⇹                    swap top two items on the stack
          ˜⁻                  subtract 1 from the unsigned 2's complement
            Ħṗ                is the Ħamming weight ṗrime?
              **              multiply element-by-element twice
                ž             remove žeroes
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/Thunno/Thunno2" rel="nofollow noreferrer">Thunno 2</a>, 11 <a href="https://github.com/Thunno/Thunno2/blob/main/docs/codepage.md" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>œPæ2B01,cPp
</code></pre>
<p><a href="https://Not-Thonnu.github.io/run#aGVhZGVyPSZjb2RlPSVDNSU5M1AlQzMlQTYyQjAxJTJDY1BwJmZvb3Rlcj0maW5wdXQ9MTUwJmZsYWdzPQ==" rel="nofollow noreferrer">Try it online!</a></p>
<h4>Explanation</h4>
<pre class="lang-python prettyprint-override"><code>œPæ2B01,cPp  # Implicit input
œP           # Only keep primes from [1..input]
  æ          # Filter this list of primes by:
   2B        #  Convert it to a binary list
     01,c    #  Count 0s and 1s
         Pp  #  Are they both prime?
             # Implicit output
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, 14 bytes</h1>
<pre><code>'bĊvtJ₅3=$væA∧
</code></pre>
<p><a href="https://lyxal.pythonanywhere.com?flags=&amp;code=%27b%C4%8AvtJ%E2%82%853%3D%24v%C3%A6A%E2%88%A7&amp;inputs=100&amp;header=&amp;footer=" rel="nofollow noreferrer">Try it Online!</a></p>
<pre><code>'              # (implicitly convert to range), then filter by...
 b             # Binary representation
  Ċ            # Count the amount of each value in a (1 &amp; 0 only)
   vt          # Get the counts
     J         # Join the current number to each of those
      ₅        # Duplicate and get length
       3=      # Is it equal to 3?
         $     # Swap
          væA  # Are all prime?
             ∧ # Are both true?
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/tomtheisen/stax" rel="nofollow noreferrer">Stax</a>, 14 <a href="https://github.com/tomtheisen/stax/blob/master/docs/packed.md#packed-stax" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>ò≥úû╙2ï⌡T5è╧²■
</code></pre>
<p><a href="https://staxlang.xyz/#p=95f2a396d3328bf554358acffdfe&amp;i=10%0A100%0A150&amp;a=1&amp;m=2" rel="nofollow noreferrer">Run and debug it</a></p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, 15 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>õA fÈ¤ü mÊpX ej
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;code=9UEgZsik/CBtynBYIGVq&amp;input=MTUw" rel="nofollow noreferrer">Try it</a></p>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a>, <s>15</s> 13 bytes</h1>
<pre><code>fȯΛṗmėΣ#0ḋḋŀ→
</code></pre>
<p><a href="https://tio.run/##yygtzv7/P@3E@nOzH@6cnntk@rnFygYPd3QD0dGGR22T/v//b2hgAAA" rel="nofollow noreferrer" title="Husk – Try It Online">Try it online!</a></p>
<h3>Explanation:</h3>
<pre><code>fȯΛṗmėΣ#0ḋḋŀ→
           ŀ→    Inclusive range from 0 to input
fȯ               Filter by
    mė             Map three functions over
          ḋ        The binary digits
      Σ              Sum of digits
       #0            Count of zeroes
         ḋ           And convert back to decimal
  Λṗ               Are all the results prime?
</code></pre>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 9 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>ÅPʒbTS¢pP
</code></pre>
<p>Pretty straight-forward.</p>
<p><a href="https://tio.run/##yy9OTMpM/f//cGvAqUlJIcGHFhUE/P9vaGoAAA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/V9Waa@k8KhtkoKSfeX/w60BpyYlhQQfWlQQ8L9W53@0oYGOoQEQm4Jpg1gA" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>ÅP         # Push a list of all prime numbers below or equal to the (implicit) input
  ʒ        # Filter this list of primes by:
   b       #  Convert it to a binary string
    TS     #  Push 10, and pop and convert it to a list of digits as strings: [&quot;1&quot;,&quot;0&quot;]
      ¢    #  Count those characters in the binary string
       p   #  Check for both those counts whether they're a prime number
        P  #  Check that this is truthy for both of them
           # (after which the filtered list is output implicitly as result)
</code></pre>
<p>There seems to be a bug in the count builtin <code>¢</code> when using an integer list on a string, so some alternatives to <code>TS</code> like <code>Ð‰</code>, <code>0L</code>, or <code>1Ý</code> doesn't seem to work and result in a pair of the binary string instead, unless we add a <code>§</code> (cast to string): <a href="https://tio.run/##yy9OTMpM/f//cGvAua1JIcGHFtXqHNpmzwXhH57wqGEDqpCBDyrf8PBcbHqWY@hajqkPLPT/v6GpAQA" rel="nofollow noreferrer">Try it online</a>.</p>
</div>
<div id="pu9" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a>, 16 bytes</h1>
<pre><code>↑&lt;⁰foΛṗo§e#0Σḋİp
</code></pre>
<p><a href="https://tio.run/##AScA2P9odXNr///ihpE84oGwZm/Om@G5l2/Cp2UjMM6j4biLxLBw////MTA" rel="nofollow noreferrer" title="Husk – Try It Online">Try it online!</a></p>
</div>
<div id="pu10" class="pu"><h2>Python, <s>172</s> <s>170</s> <s>168</s> <s>159</s> <s>154</s> <s>133</s> 130 bytes</h2>

<pre><code>p=lambda n:[i for i in range(1,n)if n%i==0]==[1]
lambda n:[i for i in range(n+1)if p(i)*all(p(bin(i)[2:].count(x))for x in'10')]
</code></pre>

<hr>

<p>Usage: Call the anonymous lambda function<br>
Method <code>p</code> checks whether a number is prime  </p>

<hr>

<p>Saved 2+2+9=13 bytes thanks to Gurupad Mamadapur<br>
Saved 5 bytes thanks to mbomb007</p>
</div>
<div id="pu11" class="pu"><h1><a href="http://perl6.org/" rel="nofollow noreferrer">Perl 6</a>, 50 bytes</h1>

<pre><code>{grep {($_&amp;+.base(2).comb(~0&amp;~1)).is-prime},0..$_}
</code></pre>

<p>Variation of <a href="https://codegolf.stackexchange.com/a/107079/14880">b2gills' answer</a>, using the <code>&amp;</code> <a href="https://docs.perl6.org/type/Junction" rel="nofollow noreferrer">junction</a> operator to great effect.</p>

<p><a href="https://tio.run/nexus/perl6#Ky1OVSgz00u25uLKrVRQS1Ow/V@dXpRaoFCtoRKvpq2XlFicqmGkqZecn5ukUWegVmeoqamXWaxbUJSZm1qrY6CnpxJf@784sVIhTcHQ1OA/AA" rel="nofollow noreferrer" title="Perl 6 – TIO Nexus">Try it online!</a></p>

<h3>How it works</h3>

<pre><code>{                                                }  # Lambda
                                            0..$_   # Range from 0 to the lambda argument.
 grep {                                   },        # Filter values satisfying:
       ($_                      ).is-prime          #  a) The Number itself is prime.
       (   +.base(2).comb(~0   )).is-prime          #  b) The count of 0's is prime.
       (   +.base(2).comb(   ~1)).is-prime          #  c) The count of 1's is prime.
          &amp;                 &amp;                       # Junction magic! :)
</code></pre>
</div>
<div id="pu12" class="pu"><h1>Rust, 147 bytes</h1>

<pre><code>fn f(x:u32){let p=|n|n&gt;1&amp;&amp;(2..n).all(|x|n%x!=0);for n in 9..x+1{if p(n)&amp;&amp;p(n.count_ones())&amp;&amp;p(n.count_zeros()-n.leading_zeros()){print!("{} ",n)}}}
</code></pre>

<p><a href="https://is.gd/zkedvo" rel="nofollow noreferrer">playground link</a></p>

<p>The <code>count_ones</code>, <code>count_zeros</code>, and <code>leading_zeros</code> methods came in handy.</p>

<h3>Formatted version</h3>

<pre><code>fn f(x: u32) {
    // primality test closure using trial division
    let p = |n| n &gt; 1 &amp;&amp; (2..n).all(|x| n % x != 0);

    for n in 9..x + 1 {
        if p(n) &amp;&amp; p(n.count_ones()) &amp;&amp; p(n.count_zeros() - n.leading_zeros()) {
            print!("{} ", n)
        }
    }
}
</code></pre>
</div>
<div id="pu13" class="pu"><h1>Haxe, <s>158</s> 147 bytes</h1>

<pre><code>function p(n,x=1)return n%++x&lt;1||n&lt;2?x==n:p(n,x);function f(n){var q=n,t=0,o=0;while(q&gt;0){t++;o+=q%2;q&gt;&gt;=1;}p(n)&amp;&amp;p(o)&amp;&amp;p(t-o)?trace(n):0;f(n-1);};
</code></pre>

<p>Outputs to STDOUT and terminates on a "too much recursion" error; call with e.g. <code>f(1000);</code>. You can use a <code>while</code> loop with no error for 156 bytes:</p>

<pre><code>function p(n,x=1)return n%++x&lt;1||n&lt;2?x==n:p(n,x);function f(n){while(n&gt;0){var q=n,t=0,o=0;while(q&gt;0){t++;o+=q%2;q&gt;&gt;=1;}p(n)&amp;&amp;p(o)&amp;&amp;p(t-o)?trace(n):0;n--;}};
</code></pre>

<p>Using a range turned out three bytes longer:</p>

<pre><code>function p(n,x=1)return n%++x&lt;1||n&lt;2?x==n:p(n,x);function f(n){for(i in 0...n+1){var q=i,t=0,o=0;while(q&gt;0){t++;o+=q%2;q&gt;&gt;=1;}p(i)&amp;&amp;p(o)&amp;&amp;p(t-o)?trace(i):0;}};
</code></pre>

<p><a href="http://try.haxe.org/#70094" rel="nofollow noreferrer">Test it online!</a></p>
</div>
<div id="pu14" class="pu"><h1><a href="https://www.gnu.org/software/bash/" rel="nofollow noreferrer">Bash</a> + GNU utilities, <s>129</s> <s>126</s> <s>123</s> <s>114</s> <s>111</s> 109 bytes</h1>

<pre class="lang-bash prettyprint-override"><code>seq '-fp()([ `factor|wc -w` = 2 ]);g()(dc -e2o${n}n|tr -cd $1|wc -c|p);n=%.f;p&lt;&lt;&lt;$n&amp;&amp;g 0&amp;&amp;g 1&amp;&amp;echo $n' $1|sh
</code></pre>

<p><a href="https://tio.run/nexus/bash#HYqxDoMgGAZf5RsoykAjJp3AJ2lMbH5Bpx@qJg7SZ0ftcsPdldV/UemQalW/MYQPbXHJO0HvAzq06JWdrjZexrdRHPzjvC3QNEKY/0g5Kcvd4xlscs4JlnJCc8NI6WmOEFzd8zqXUsyrOQE" rel="nofollow noreferrer" title="Bash – TIO Nexus">Try it online!</a></p>

<p>Noticed the comment that the output doesn't have to be in increasing order -- shaved off 3 bytes by counting down instead of counting up.</p>

<p>Replaced grep with wc to save 3 additional bytes.</p>

<p>Eliminated a variable (9 more bytes off).</p>

<p>Changed the way factor is used -- 3 more bytes.</p>

<p>Made it golfier with seq (2 bytes).</p>
</div>
<div id="pu15" class="pu"><h1><strong>MATLAB, 50 bytes</strong></h1>

<pre><code>@(n)all(isprime([n,sum(de2bi(n)),sum(~de2bi(n))]))
</code></pre>
</div>
<div id="pu16" class="pu"><h1>Haxe, <s>169</s> 171 bytes</h1>

<pre><code>function f(n,?p)return[for(j in(p=[for(i in 0...++n)i&lt;2?0:i]))if(j&gt;0){var x=j*2,y=0,z=0,k=j;while(k&lt;n)p[k+=j]=0;while((x&gt;&gt;=1)&gt;0)x&amp;1&gt;0?y++:z++;p[y]&lt;1||p[z]&lt;1?continue:j;}];
</code></pre>

<p>Nothing crazy. Essentially a modified sieve of Eratosthenes that evaluates the primality of the 0 / 1 count in the same iteration as crossing out higher non-primes. With some whitespace:</p>

<pre><code>function f(n, ?p)
  return [ for (j in (p = [ for(i in 0...++n) i &lt; 2 ? 0 : i ]))
    if (j &gt; 0){
      var x = j * 2, y = 0, z = 0, k = j;
      while (k &lt; n)
        p[k += j] = 0;
      while((x &gt;&gt;= 1) &gt; 0)
        x &amp; 1 &gt; 0 ? y++ : z++;
      p[y] &lt; 1 || p[z] &lt; 1 ? continue : j;
    }
  ];
</code></pre>

<p>But today I learned I could put <code>continue</code> in a ternary operator and Haxe doesn't even mind.</p>

<p>Edit: +2 because <code>n</code> is an inclusive upper bound!</p>
</div>
<div id="pu17" class="pu"><h2>Perl, 101 bytes</h2>
<p>99 bytes of code + <code>-nl</code> flags.</p>
<pre class="lang-pl prettyprint-override"><code>$r=q/^1?$|^(11+)\1+$/;for$@(2..$_){$_=sprintf&quot;%b&quot;,$@;print$@if(1x$@)!~$r&amp;y/01/1/dr!~$r&amp;s/0//gr!~$r}
</code></pre>
<p>To run it:</p>
<pre><code>perl -lne '$r=q/^1?$|^(11+)\1+$/;for$@(2..$_){$_=sprintf&quot;%b&quot;,$@;print$@if(1x$@)!~$r&amp;y/01/1/dr!~$r&amp;s/0//gr!~$r}' &lt;&lt;&lt; 150
</code></pre>
<p><strong>Some short explanations</strong><br />
<code>$r</code> holds the classical prime checking regex (<code>q/^1?$|^(11+)\1+$/</code>).<br />
For all numbers between 2 and the input,<br />
<code>(1x$@)!~$r</code> checks if the number is prime,<br />
<code>y/01/1/dr!~$r</code> checks if the number of <code>0</code> in the binary representation is prime,<br />
<code>s/0//gr!~$r</code> checks if the number <code>1</code> in the binary representation is prime.<br />
(if the 3 conditions are met, <code>print$@</code> prints it).</p>
</div>
<div id="pu18" class="pu"><h1>JavaScript (ES6), 110 bytes</h1>

<pre class="lang-js prettyprint-override"><code>B=n=&gt;n?B(n&gt;&gt;1,v[n%2]++):v.every(n=&gt;(P=i=&gt;n%--i?P(i):1==i)(n))
F=(n,a=[])=&gt;n?F(n-1,B(n,v=[0,0,n])?[n,...a]:a):a
</code></pre>

<p><div class="snippet" data-lang="js" data-hide="true" data-console="true" data-babel="false">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-js lang-js prettyprint-override"><code>B=n=&gt;n?B(n&gt;&gt;1,v,v[n%2]++):v.every(n=&gt;(P=i=&gt;n%--i?P(i):1==i)(n))
F=(n,a=[])=&gt;n?F(n-1,B(n,v=[0,0,n])?[n,...a]:a):a

const update = () =&gt; {
  console.clear();
  console.log(F(input.value))
}

input.oninput = update;
update();</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;input id="input" type="number" min="1" value="100" /&gt;</code></pre>
</div>
</div>
</p>
</div>
<div id="pu19" class="pu"><h1>JavaScript (ES6), <s>123</s> <s>118</s> <s>115</s> <s>111</s> <s>104</s> 96 bytes</h1>

<p><em>Saved 4 bytes thanks to @Arnauld</em></p>

<pre><code>G=n=&gt;n?G(n&gt;&gt;1,++a[n%2]):a.some(n=&gt;(P=x=&gt;n%--x?P(x):x)(n)-1)
F=n=&gt;F(n-1,G(n,a=[0,0,n])||alert(n))
</code></pre>

<p>A combination of three typical recursive functions. Alerts the sequence in reverse order and terminates on a "too much recursion" error.</p>

<h3>Test snippet</h3>

<p>(modified to output to the page)</p>

<p><div class="snippet" data-lang="js" data-hide="true" data-console="false" data-babel="false">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-js lang-js prettyprint-override"><code>alert = s =&gt; O.textContent += s + "\n"

G=n=&gt;n?G(n&gt;&gt;1,++a[n%2]):a.some(n=&gt;(P=x=&gt;n%--x?P(x):x)(n)-1)
F=n=&gt;F(n-1,G(n,a=[0,0,n])||alert(n))

F(1000)</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;pre id=O&gt;&lt;/pre&gt;</code></pre>
</div>
</div>
</p>

<p>The main function can return an array for 104 bytes:</p>

<pre><code>G=n=&gt;n?G(n&gt;&gt;1,++a[n%2]):a.some(n=&gt;(P=x=&gt;n%--x?P(x):x)(n)-1)
F=n=&gt;n?F(n-1).concat(G(n,a=[0,0,n])?[]:n):[]
</code></pre>

<p>It can also be non-recursive at the cost of another byte:</p>

<pre><code>G=n=&gt;n?G(n&gt;&gt;1,++a[n%2]):a.some(n=&gt;(P=x=&gt;n%--x?P(x):x)(n)-1)
n=&gt;[for(_ of Array(n))if(!G(--n,a=[0,0,n]))n]
</code></pre>

<hr>

<p>Here's the one I started with: <em>(Saved 6 bytes thanks to @Arnauld)</em></p>

<pre><code>P=(n,x=n)=&gt;n&gt;1&amp;--x&lt;2||n%x&amp;&amp;P(n,x)
G=n=&gt;n?G(n&gt;&gt;1,o+=n%2,t++):P(o)&amp;P(t-o)
F=n=&gt;n?F(n-1).concat(P(n)&amp;G(n,o=t=0)?n:[]):[]
</code></pre>

<p>I tried golfing this further and managed to do it in 104 bytes—then realized I had already found that solution (it's at the bottom of the answer). Don't you hate it when that happens? :P</p>

<p>A non-recursive attempt at the main function (again, same byte count):</p>

<pre><code>n=&gt;[for(i of Array(n))if(P(--n)&amp;G(n,o=t=0))n]
</code></pre>

<hr>

<p>This one takes the easy route of counting how many 0's and 1's are in the binary representation:</p>

<pre><code>F=n=&gt;n?F(n-1).concat([n,(G=x=&gt;n.toString(2).split(x).length-1)(0),G(1)].some(n=&gt;(P=x=&gt;n%--x?P(x):x)(n)-1)?[]:n):[]
</code></pre>

<p>Same thing with an array comprehension:</p>

<pre><code>n=&gt;[for(_ of Array(n))if(![--n,(G=x=&gt;n.toString(2).split(x).length-1)(0),G(1)].some(n=&gt;(P=x=&gt;n%--x?P(x):x)(n)-1))n]
</code></pre>

<p>This one takes a slightly harder route to do the same thing:</p>

<pre><code>F=n=&gt;n?F(n-1).concat([n,(G=(x,w=n)=&gt;w&amp;&amp;G(x,w&gt;&gt;1)+(w%2==x))(0),G(1)].some(n=&gt;(P=x=&gt;n%--x?P(x):x)(n)-1)?[]:n):[]
</code></pre>

<p>And this one takes yet another related route that's as short as the original:</p>

<pre><code>F=n=&gt;n?F(n-1).concat([n,o=(G=x=&gt;x&amp;&amp;x%2+G(n&gt;&gt;++t))(n,t=0),t-o].some(n=&gt;(P=x=&gt;n%--x?P(x):x)(n)-1)?[]:n):[]
</code></pre>

<p>Again, you can golf 8 bytes by making it alert the sequence in reverse order:</p>

<pre><code>F=n=&gt;F(n-1,[n,o=(G=x=&gt;x&amp;&amp;x%2+G(n&gt;&gt;++t))(n,t=0),t-o].some(n=&gt;(P=x=&gt;n%--x?P(x):x)(n)-1)||alert(n))
</code></pre>
</div>
<div id="pu20" class="pu"><h1><a href="https://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, <s>16</s> 15 bytes</h1>

<pre><code>:"@tB!t~hshZp?@
</code></pre>

<p><a href="https://tio.run/nexus/matl#@2@l5FDipFhSl1GcEVVg7/D/v6GpAQA" rel="nofollow noreferrer" title="MATL – TIO Nexus">Try it online!</a></p>

<pre><code>:         % Input n (implicit). Push range [1 2 ... n]
"         % For each k in [1 2 ... n]
  @       %   Push k
  tB!     %   Duplicate. Binary expansion as an m×1 vector
  t~      %   Duplicate. Negate
  hs      %   Concatenate horizontally into an m×2 matrix. Sum of each column.
          %   This gives a 1×2 vector. However, for k==1 this gives the sum of
          %   the original 1×2 matrix (m==1). But fortunately it doesn't matter
          %   because 1 is not a prime anyway
  h       %   Concatenate horizontally into a 1×3 row vector
  Zp      %   Isprime function applied on each of those three numbers
  ?       %   If all gave true
    @     %     Push k
          %   End (implicit)
          % End (implicit)
          % Display (implicit)
</code></pre>
</div>
<div id="pu21" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 97 bytes</h1>

<pre class="lang-python prettyprint-override"><code>def f(n,k=2,m=1,p={0}):f(n-1,k+1,m*k*k,p^{m%k*k,{*map(bin(m%k%n*k)[2:].count,'01')}&lt;p==print(k)})
</code></pre>

<p>This is the same algorithm as in <a href="https://codegolf.stackexchange.com/a/107073/12012">my Python 2 answer</a>, but the implementation is quite different. The function prints to STDOUT and terminates with an error.</p>

<p><a href="https://tio.run/nexus/python3#FchNCsJADEDhq7gpTcZUJgU3xZxEKvg3UMLEUOpqmLOPdfe@117vdEhgpDJSFiaXEitO@xqY9MiUgwYlv5Xc/aOEfHd4LAa7OwuK13GaT8/P1zbqI/dYLy7i62IbKFZsCfgcsf0A" rel="nofollow noreferrer" title="Python 3 – TIO Nexus">Try it online!</a></p>
</div>
<div id="pu22" class="pu"><h1><a href="https://github.com/isaacg1/pyth" rel="nofollow noreferrer">Pyth</a>, 18 bytes</h1>
<pre><code>f.APM_M+T/LSjT2U2S
</code></pre>
<p><a href="http://pyth.herokuapp.com/?code=f.APM_M%2BT%2FLSjT2U2S&amp;input=100&amp;debug=0" rel="nofollow noreferrer">Try it online here</a>.</p>
</div>
<div id="pu23" class="pu"><h2>Groovy, 120 bytes</h2>
<pre class="lang-groovy prettyprint-override"><code>p={x-&gt;(2..&lt;x).every{x%it!=0}&amp;x&gt;1|x==2}
{x-&gt;(1..x).findAll({y-&gt;p(y)&amp;'10'.every{p(Integer.toBinaryString(y).count(it))}})}
</code></pre>
<p>This is an unnamed closure.</p>
<p><a href="http://ideone.com/LWnXW3" rel="nofollow noreferrer">Try it here!</a></p>
</div>
<div id="pu24" class="pu"><h1>Octave, 73 bytes</h1>

<pre><code>@(n)(p=primes(n))(all(isprime([s=sum(dec2bin(p)'-48);fix(log2(p))+1-s])))
</code></pre>
<p><a href="https://tio.run/#svX40" rel="nofollow noreferrer">Try It Online!</a></p>
<pre><code>@(n)
    (p=primes(n))                           generate prime numbers
        (all(                               from them select those that
            isprime(                        are prime both
                [s=sum(dec2bin(p)'-48);     sum of 1s
                fix(log2(p))+1-s])))        and sum of 0s
</code></pre>
</div>
<div id="pu25" class="pu"><h1><a href="https://docs.python.org/2/" rel="noreferrer">Python 2</a>, <s>106</s> <s>102</s> 100 bytes</h1>

<pre class="lang-python prettyprint-override"><code>k=m=1;p={0}
exec&quot;p^={m%k*k,0};c=bin(k).count\nif{k,c('1'),c('0')-1}&lt;p:print k\nm*=k*k;k+=1;&quot;*input()
</code></pre>
<p><a href="https://tio.run/nexus/python2#@59tm2traF1gW21Qy5VakZqsVBBnW52rmq2VrWNQa51sm5SZp5GtqZecX5pXEpOXmVadrZOsoW6orgmiDNQ1dQ1rbQqsCooy80oUsmPycrVsgVqts7WBhippZeYVlJZoaP7/b2hqAAA" rel="noreferrer" title="Python 2 – TIO Nexus">Try it online!</a></p>
<h3>Background</h3>
<p>To identify primes, we use a corollary of <a href="https://en.wikipedia.org/wiki/Wilson%27s_theorem" rel="noreferrer">Wilson's theorem</a>:</p>
<p><img src="https://i.stack.imgur.com/ordYr.png" alt="corollary of Wilson's theorem" /></p>
<h3>How it works</h3>
<p>We start by initializing <strong>k</strong> and <strong>m</strong> as <strong>1</strong> and <strong>p</strong> as the set <strong>{0}</strong>. Note that <strong>m = 1 = 0!² = (k - 1)!²</strong>. Immediately afterwards, the following code is executed <strong>n</strong> times, where <strong>n</strong> is the integer read from standard input.</p>
<pre class="lang-python prettyprint-override"><code>p^={m%k*k,0};c=bin(k).count
if{k,c('1'),c('0')-1}&lt;p:print k
m*=k*k;k+=1
</code></pre>
<p>By the corollary, <strong>m % k</strong> will be <strong>1</strong> if <strong>k</strong> is prime and <strong>0</strong> otherwise. Thus, <code>{m%k*k,0}</code> will return the set <strong>{k, 0}</strong> if <strong>k</strong> is prime and the set <strong>{0}</strong> otherwise.</p>
<p>If (and only if) <strong>k</strong> is prime, since <strong>p</strong> cannot contain <strong>k</strong> at this point, the in-place symmetric difference <code>p^={m%k*k,0}</code> will add <strong>k</strong> to the set <strong>p</strong>. Also, <strong>p</strong> will contain <strong>0</strong> after the update if and only if it does not contain <strong>0</strong> before, so <strong>0 ∊ p</strong> if and only if <strong>k</strong> is even.</p>
<p>On the same line, we define a function <strong>c</strong> via <code>c=bin(k).count</code>, which will count the occurrences of its argument in <strong>k</strong>'s binary representation.</p>
<p>The second line produces the actual output. <code>{k,c('1'),c('0')-1}</code> returns the set that consists of <strong>k</strong> itself, the number of set bits in <strong>k</strong>, and the number of unset bits in <strong>k</strong>. Since the output of <code>bin(k)</code> begins with <strong>0b</strong>, we have to decrement <code>c('0')</code> to account for the leading <strong>0</strong>.</p>
<p>If all of them are prime, they will all belong to <strong>p</strong>, which by now contains all prime numbers up to <strong>k</strong> (and potentially <strong>0</strong>). If <strong>k</strong> is a Mersenne number (i.e., if it has only set bits), <code>c('0')-1</code> will yield <strong>0</strong>. Since Mersenne numbers are odd, <strong>p</strong> will <em>not</em> contain <strong>0</strong>, so the condition will fail.</p>
<p>After (potentially) printing <strong>k</strong>, we multiply <strong>m</strong> by <strong>k²</strong>. Since <strong>m = (k-1)!²</strong> before the update, <strong>m = k!²</strong> after it. After incrementing <strong>k</strong>, the relation <strong>m = (k-1)!²</strong> holds again and we're ready for the next iteration.</p>
</div>
<div id="pu26" class="pu">

<h1><a href="https://perl6.org" rel="nofollow noreferrer">Perl 6</a>, 65 bytes</h1>

<pre class="lang-perl6 prettyprint-override"><code>{grep {all($^a,|map {+$a.base(2).comb(~$_)},0,1).is-prime},0..$_}
</code></pre>

<p><a href="https://tio.run/nexus/perl6#Ky1OVSgz00u25uLKrVRQS85PSVWw/V@dXpRaoFCdmJOjoRKXqFOTmwjkaask6iUlFqdqGGnqJefnJmnUqcRr1uoY6Bhq6mUW6xYUZeamArl6eirxtf8LSksUwIYZmhr8BwA" rel="nofollow noreferrer" title="Perl 6 – TIO Nexus">Try it</a></p>

<h2>Expanded:</h2>

<pre class="lang-perl6 prettyprint-override"><code>{           # bare block lambda with implicit parameter ｢$_｣

  grep      # find all of the values where

  {         # lambda with placeholder parameter ｢$a｣

    all(    # all junction ( treat multiple values as a single value )

      $^a,  # declare parameter to block

      |\    # slip the following list into the outer list

      # get the count of 0's and 1's in the binary representation
      map

      {             # bare block lambda with implicit parameter ｢$_｣

        +           # turn to numeric ( count the values in the list )
        $a          # the outer parameter
        .base(2)    # in base 2
        .comb(~$_)  # find the characters that are the same as
      },0,1         # 0 or 1

    # ask if $a, count of 0's, count of 1's are all prime
    ).is-prime

  },

  0 .. $_ # Range from 0 to the input inclusive

}
</code></pre>
</div>
<div id="pu27" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="noreferrer">Jelly</a>, <s>14</s> 13 bytes</h1>

<pre><code>RBċþd`ÆPPTfÆR
</code></pre>

<p><a href="https://tio.run/nexus/jelly#@x/kdKT78L6UhMNtAQEhaYfbgv7//29oagAA" rel="noreferrer" title="Jelly – TIO Nexus">Try it online!</a></p>

<h3>How it works</h3>

<pre><code>RBċþd`ÆPPTfÆR  Main link. Argument: n

R              Range; yield [1, ..., n].
 B             Binary; convert each integer to base 2.
    d`         Divmod self; yield [n : n, n % n], i.e., [1, 0].
  ċþ           Count table; count the occurrences of 1 and 0 in each binary
               representation, yielding a pair of lists of length n.
      ÆP       Test each count for primality.
        P      Product; multiply the corresponding Booleans.
         T     Truth; get all indices of 1, yielding the list of integers in
               [1, ..., n] that have a prime amount of 0's and 1's.
           ÆR  Prime range; yield all primes in [1, ..., n].
          f    Filter; intersect the lists.
</code></pre>
</div>
<div id="pu28" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 14 bytes</h1>

<pre><code>BċÆPðÐf
ÆRç0ç1
</code></pre>

<p><a href="https://tio.run/nexus/jelly#ARwA4///QsSLw4ZQw7DDkGYKw4ZSw6cww6cx////MTUw" rel="nofollow noreferrer" title="Jelly – TIO Nexus">Try it online!</a></p>

<p>Unfortunately, I could only tie with @Dennis, but the algorithm seems to be somewhat different so I'm posting this anyway.</p>

<h2>Explanation</h2>

<p>Helper function (deletes list elements that don't have a prime number of occurrences of a given bit):</p>

<pre><code>BċÆPðÐf
     Ðf   Filter {the first argument}, looking for truthy returns from
    ð     the preceding code, which takes two arguments:
B         Convert {the element being checked} to binary
 ċ        Count the number of occurrences of {the second argument}
  ÆP      Return true if prime, false if not prime
</code></pre>

<p>Main program:</p>

<pre><code>ÆRç0ç1
ÆR        Generate all primes from 2 to the input
  ç0      Call the subroutine to require a prime 0 count
    ç1    Call the subroutine to require a prime 1 count
</code></pre>
</div>
<div id="pu29" class="pu"><h1>Python, <s>129</s> <s>125</s> 123 bytes</h1>
<p>If only zero were prime...</p>

<pre class="lang-python prettyprint-override"><code>p=lambda n:all(n%m for m in range(2,n))*n&gt;1
lambda n:[i for i in range(n+1)if p(i)*all(p(bin(i)[2:].count(x))for x in'01')]
</code></pre>
<p><a href="https://repl.it/FKoP/3" rel="nofollow noreferrer"><strong>Try it online</strong></a></p>
<p>Function <code>p</code> is the prime-checking function, which has <code>&gt;0</code> at the end so that it works for zero as well, which would otherwise return <code>-1</code>. The anonymous lambda is the lambda that checks all the conditions required.</p>
<hr />
<p>Here's a slightly different method using a set comprehension. The result will be a set. (<strong>124 bytes</strong>):</p>
<pre class="lang-python prettyprint-override"><code>p=lambda n:all(n%m for m in range(2,n))*n&gt;1
lambda n:{i*p(i)*all(p(bin(i)[2:].count(x))for x in'01')for i in range(n+1)}-{0}
</code></pre>
</div>
<div id="pu30" class="pu"><h1>Mathematica, <s>80</s> <s>68</s> 54 bytes</h1>
<pre><code>Select[p=PrimeQ;Range@#,p@#&amp;&amp;And@@p/@#~DigitCount~2&amp;]&amp;
</code></pre>
<p><strong>Explanation</strong></p>
<pre><code>Select[p=PrimeQ;Range@#,p@#&amp;&amp;And@@p/@#~DigitCount~2&amp;]&amp;

       p=PrimeQ                                        (* Store prime check func. in p *)
Select[                                             ]  (* Select *)
                Range@#                                (* from a list {1..n} *)
                        p@#                            (* numbers that are prime *)
                           &amp;&amp;                          (* And *)
                                     #~DigitCount~2    (* whose digit counts in binary *)
                             And@@p/@                  (* are prime as well *)
</code></pre>
</div>
<div id="pu31" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, <s>17</s> 15 bytes</h1>

<pre><code>LDpÏvybSD_)OpP—
</code></pre>

<p>Uses the <strong>CP-1252</strong> encoding. <a href="https://tio.run/nexus/05ab1e#@@/jUnC4v6wyKdglXtO/IOBRw5T//w0NDAA" rel="nofollow noreferrer" title="05AB1E – TIO Nexus">Try it online!</a></p>
</div>
<div id="pu32" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, 14 bytes</h1>

<pre><code>ƒNpNbSD_‚OpP&amp;–
</code></pre>

<p><a href="https://tio.run/nexus/05ab1e#@39skl@BX1KwS/yjhln@BQFqjxom//9vaGoAAA" rel="nofollow noreferrer" title="05AB1E – TIO Nexus">Try it online!</a></p>

<p><strong>Explanation</strong></p>

<pre><code>ƒ               # for N in [0 ... input]
 Np             # push N is prime
   Nb           # push N converted to binary
     S          # split into individual digits
      D_        # push an inverted copy
        ‚       # pair the 2 binary lists
         O      # sum them
          p     # elementwise check for primality
           P    # product of list
            &amp;   # and with the primality of N
             –  # if true, print N
</code></pre>
</div>
<div id="pu33" class="pu"><h1><a href="https://sourceforge.net/p/cjam" rel="nofollow noreferrer">CJam</a>, <s>26</s> 27 bytes</h1>

<pre><code>ri){mp},{2b_1-,mp\0-,mp&amp;},p
</code></pre>

<p>Straightforward algorithm, will golf further.</p>

<p>EDIT: Forgot n was inclusive.</p>

<p><a href="https://tio.run/nexus/cjam#@1@UqVkdn1sQY5QUb6irA2QYgEg1tVqdgv//DQ0MAA" rel="nofollow noreferrer" title="CJam – TIO Nexus">Try it online!</a></p>

<p>For fun, this is very similar and also 27 bytes:</p>

<pre><code>ri){_mp\2b_1-,mp\0-,mp&amp;&amp;},p
</code></pre>

<p><strong>Explanation</strong></p>

<pre><code>ri                          e# Take an int as input
  ){mp},                    e# Take the range up and including to the input, 
                            e#   including only prime numbers
       {                    e# For each prime...
        2b_                 e# Convert it to binary and copy it
           1-,mp            e# Take the top binary number, remove 1's, check if the length 
                            e#   is prime
                \           e# Swap top elements
                 0-,mp      e# Do the same but remove 0's
                      &amp;     e# And
                       },   e# Filter out primes for which the above block was false
                         p  e# Print nicely
</code></pre>
</div>
<div id="pu34" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, <s>17</s> 16 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>BĠL€µ;LÆPẠ
ÆRÇÐf
</code></pre>
<p><strong><a href="https://tio.run/nexus/jelly#ASEA3v//QsSgTOKCrMK1O0zDhlDhuqAKw4ZSw4fDkGb///8xMDA" rel="nofollow noreferrer" title="Jelly – TIO Nexus">Try it online!</a></strong></p>
<h3>How?</h3>
<pre><code>BĠL€µ;LÆPẠ - Link 1, hasPrimeBits: n  e.g. 7         or 13
B          - convert to binary        e.g. [1,1,1]  or [1,1,0,1]
 Ġ         - group indices            e.g. [1,2,3]  or [3,[1,2,4]]
  L€       - length of €ach           e.g. 3          or [1,3]
    µ      - monadic chain separation
     ;L    - concatenate length       e.g. [3,1]      or [1,3,2]
           -     this caters for the edge case of Mersenne primes (like 7), which have
           -     no zero bits, the length will be 1, which is not prime.
       ÆP  - isPrime?                 e.g. [1,0]      or [0,1,1]
         Ạ - All?                     e.g. 0          or 0

ÆRÇÐf - Main link: N
ÆR    - prime range (primes up to and including N)
   Ðf - filter keep those satisfying
  Ç   - last link (1) as a monad
</code></pre>
</div>
<div id="pu35" class="pu"><h2>Pyke, 21 bytes</h2>
<pre><code>S#j_PI\0[jb2R/_P)I\1[
</code></pre>
<p><a href="http://pyke.catbus.co.uk/?code=S%23j_PI%5C0%5Bjb2R%2F_P%29I%5C1%5B&amp;input=150&amp;warnings=0" rel="nofollow noreferrer">Try it here!</a></p>
<pre><code>S#j                   - for j in filter(range(1, input+1))
   _PI                -  if is_prime(j):
        [jb2R/_P)     -   function_[(a) = V
         jb2          -      base_2(j)
            R/        -     ^.count(a)
      \0         I    -   if function_[(&quot;0&quot;):
                  \1[ -    function_[(&quot;1&quot;)
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/107050/">107050</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




