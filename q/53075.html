<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::53075</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>007</td><td>Thunno 2</td><td>230813T191636Z</td><td><a href="https://codegolf.stackexchange.com/questions/53075/chunky-vs-smooth-strings/264130#264130">The Thon</a></td></tr>
<tr d-ix="1"><td>066</td><td>Ruby</td><td>150714T173559Z</td><td><a href="https://codegolf.stackexchange.com/questions/53075/chunky-vs-smooth-strings/53113#53113">daniero</a></td></tr>
<tr d-ix="2"><td>052</td><td>Kotlin</td><td>190725T091015Z</td><td><a href="https://codegolf.stackexchange.com/questions/53075/chunky-vs-smooth-strings/188770#188770">snail_</a></td></tr>
<tr d-ix="3"><td>100</td><td>F# .NET Core</td><td>180426T201206Z</td><td><a href="https://codegolf.stackexchange.com/questions/53075/chunky-vs-smooth-strings/163512#163512">snail_</a></td></tr>
<tr d-ix="4"><td>4647</td><td>JavaScript</td><td>180426T175432Z</td><td><a href="https://codegolf.stackexchange.com/questions/53075/chunky-vs-smooth-strings/163495#163495">l4m2</a></td></tr>
<tr d-ix="5"><td>092</td><td>Forth gforth</td><td>180426T150756Z</td><td><a href="https://codegolf.stackexchange.com/questions/53075/chunky-vs-smooth-strings/163477#163477">reffu</a></td></tr>
<tr d-ix="6"><td>004</td><td>Jelly</td><td>180426T142923Z</td><td><a href="https://codegolf.stackexchange.com/questions/53075/chunky-vs-smooth-strings/163472#163472">Etheryte</a></td></tr>
<tr d-ix="7"><td>038</td><td>Coconut</td><td>180426T103314Z</td><td><a href="https://codegolf.stackexchange.com/questions/53075/chunky-vs-smooth-strings/163432#163432">ovs</a></td></tr>
<tr d-ix="8"><td>013</td><td>J</td><td>150714T142719Z</td><td><a href="https://codegolf.stackexchange.com/questions/53075/chunky-vs-smooth-strings/53102#53102">FUZxxl</a></td></tr>
<tr d-ix="9"><td>082</td><td>Java 8</td><td>180426T093850Z</td><td><a href="https://codegolf.stackexchange.com/questions/53075/chunky-vs-smooth-strings/163431#163431">Kevin Cr</a></td></tr>
<tr d-ix="10"><td>046</td><td>TIBASIC</td><td>150714T025615Z</td><td><a href="https://codegolf.stackexchange.com/questions/53075/chunky-vs-smooth-strings/53076#53076">lirtosia</a></td></tr>
<tr d-ix="11"><td>073</td><td>GeL</td><td>150729T145821Z</td><td><a href="https://codegolf.stackexchange.com/questions/53075/chunky-vs-smooth-strings/54027#54027">manatwor</a></td></tr>
<tr d-ix="12"><td>024</td><td>K5</td><td>150730T020334Z</td><td><a href="https://codegolf.stackexchange.com/questions/53075/chunky-vs-smooth-strings/54056#54056">kirbyfan</a></td></tr>
<tr d-ix="13"><td>072</td><td>Mathematica</td><td>150715T170543Z</td><td><a href="https://codegolf.stackexchange.com/questions/53075/chunky-vs-smooth-strings/53169#53169">rcollyer</a></td></tr>
<tr d-ix="14"><td>107</td><td>Mathematica</td><td>150729T164424Z</td><td><a href="https://codegolf.stackexchange.com/questions/53075/chunky-vs-smooth-strings/54031#54031">hYPotenu</a></td></tr>
<tr d-ix="15"><td>063</td><td>Ruby</td><td>150729T085816Z</td><td><a href="https://codegolf.stackexchange.com/questions/53075/chunky-vs-smooth-strings/54014#54014">dgollaho</a></td></tr>
<tr d-ix="16"><td>022</td><td>K</td><td>150723T220424Z</td><td><a href="https://codegolf.stackexchange.com/questions/53075/chunky-vs-smooth-strings/53674#53674">scottste</a></td></tr>
<tr d-ix="17"><td>061</td><td>Python 3</td><td>150716T202230Z</td><td><a href="https://codegolf.stackexchange.com/questions/53075/chunky-vs-smooth-strings/53261#53261">TheCrypt</a></td></tr>
<tr d-ix="18"><td>9489</td><td>C#</td><td>150714T112052Z</td><td><a href="https://codegolf.stackexchange.com/questions/53075/chunky-vs-smooth-strings/53095#53095">Sok</a></td></tr>
<tr d-ix="19"><td>010</td><td>APL</td><td>150715T101002Z</td><td><a href="https://codegolf.stackexchange.com/questions/53075/chunky-vs-smooth-strings/53141#53141">FUZxxl</a></td></tr>
<tr d-ix="20"><td>030</td><td>KDBQ</td><td>150715T093343Z</td><td><a href="https://codegolf.stackexchange.com/questions/53075/chunky-vs-smooth-strings/53139#53139">WooiKent</a></td></tr>
<tr d-ix="21"><td>052</td><td>Python 3</td><td>150715T091405Z</td><td><a href="https://codegolf.stackexchange.com/questions/53075/chunky-vs-smooth-strings/53137#53137">Sp3000</a></td></tr>
<tr d-ix="22"><td>055</td><td>PowerShell</td><td>150715T073222Z</td><td><a href="https://codegolf.stackexchange.com/questions/53075/chunky-vs-smooth-strings/53132#53132">Nacht</a></td></tr>
<tr d-ix="23"><td>063</td><td>Python 3</td><td>150714T163015Z</td><td><a href="https://codegolf.stackexchange.com/questions/53075/chunky-vs-smooth-strings/53110#53110">Kade</a></td></tr>
<tr d-ix="24"><td>069</td><td>Perl</td><td>150714T163243Z</td><td><a href="https://codegolf.stackexchange.com/questions/53075/chunky-vs-smooth-strings/53111#53111">Toby Spe</a></td></tr>
<tr d-ix="25"><td>083</td><td>C</td><td>150714T155421Z</td><td><a href="https://codegolf.stackexchange.com/questions/53075/chunky-vs-smooth-strings/53107#53107">Toby Spe</a></td></tr>
<tr d-ix="26"><td>055</td><td>JavaScript ES6</td><td>150714T144010Z</td><td><a href="https://codegolf.stackexchange.com/questions/53075/chunky-vs-smooth-strings/53105#53105">rink.att</a></td></tr>
<tr d-ix="27"><td>064</td><td>Haskell</td><td>150714T143217Z</td><td><a href="https://codegolf.stackexchange.com/questions/53075/chunky-vs-smooth-strings/53104#53104">nimi</a></td></tr>
<tr d-ix="28"><td>069</td><td>Python 3</td><td>150714T145134Z</td><td><a href="https://codegolf.stackexchange.com/questions/53075/chunky-vs-smooth-strings/53106#53106">mathmand</a></td></tr>
<tr d-ix="29"><td>091</td><td>Nim</td><td>150714T135108Z</td><td><a href="https://codegolf.stackexchange.com/questions/53075/chunky-vs-smooth-strings/53099#53099">Sp3000</a></td></tr>
<tr d-ix="30"><td>052</td><td>Julia</td><td>150714T143038Z</td><td><a href="https://codegolf.stackexchange.com/questions/53075/chunky-vs-smooth-strings/53103#53103">Alex A.</a></td></tr>
<tr d-ix="31"><td>036</td><td>><></td><td>150714T065745Z</td><td><a href="https://codegolf.stackexchange.com/questions/53075/chunky-vs-smooth-strings/53085#53085">Sp3000</a></td></tr>
<tr d-ix="32"><td>036</td><td>Matlab</td><td>150714T080106Z</td><td><a href="https://codegolf.stackexchange.com/questions/53075/chunky-vs-smooth-strings/53091#53091">Luis Men</a></td></tr>
<tr d-ix="33"><td>012</td><td>Pyth</td><td>150714T035443Z</td><td><a href="https://codegolf.stackexchange.com/questions/53075/chunky-vs-smooth-strings/53081#53081">isaacg</a></td></tr>
<tr d-ix="34"><td>019</td><td>CJam</td><td>150714T034734Z</td><td><a href="https://codegolf.stackexchange.com/questions/53075/chunky-vs-smooth-strings/53080#53080">Dennis</a></td></tr>
<tr d-ix="35"><td>016</td><td>CJam</td><td>150714T041924Z</td><td><a href="https://codegolf.stackexchange.com/questions/53075/chunky-vs-smooth-strings/53082#53082">Dennis</a></td></tr>
<tr d-ix="36"><td>023</td><td>CJam</td><td>150714T032244Z</td><td><a href="https://codegolf.stackexchange.com/questions/53075/chunky-vs-smooth-strings/53077#53077">Ypnypn</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/Thunno/Thunno2" rel="nofollow noreferrer">Thunno 2</a>, 7 <a href="https://github.com/Thunno/Thunno2/blob/main/docs/codepage.md" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>ḣZ€Uḷḅm
</code></pre>
<p><a href="https://Not-Thonnu.github.io/run#aGVhZGVyPSZjb2RlPSVFMSVCOCVBM1olRTIlODIlQUNVJUUxJUI4JUI3JUUxJUI4JTg1bSZmb290ZXI9JmlucHV0PVBlYW51dCUyMEJ1dHRlciZmbGFncz1l" rel="nofollow noreferrer">Try it online!</a></p>
<p>Outputs smoothness. Change <code>ḅ</code> to <code>1Q</code> for chunkiness.</p>
<h4>Explanation</h4>
<pre class="lang-python prettyprint-override"><code>ḣZ€Uḷḅm  # Implicit input
ḣZ       # Get the overlapping pairs
  €U     # Uniquify each pair of characters
    ḷḅ   # Does the length of each equal one?
      m  # Take the mean of the list
         # Implicit output
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, <s>69</s> 66 bytes</h1>



<pre class="lang-ruby prettyprint-override"><code>-&gt;s{(c=s.chars.each_cons(2).count{|x,y|x!=y}.to_f/~-s.size)&gt;0?c:0}
</code></pre>

<p><a href="https://tio.run/##FY1BC4IwGEDv@xVLAxVySUdhdu3YPUJ0TBRsE79vsDXXT2/Z4b3je6vpXRx4LBvwueDAxNitwGQnxlZoBfmlYEIbhX6zJ7fZA3eBoW6H86cEBtNbFk11FXUVoqWcHts9oF8LWQwCTbLU25DVNPXDwz5DEu@yUwZpbxDlSm5ynvVu98cR8tULTvs0luoH" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>

<p>Shaved of a few bytes with comments from IMP. Also, with the upcoming version 2.7.0 of Ruby it's possible to save some bytes by replacing <code>|x,y|x!=y</code> with <code>@1!=@2</code></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://kotlinlang.org" rel="nofollow noreferrer">Kotlin</a>, 52 bytes</h1>

<p>Chunkiness:</p>

<pre><code>{it.zipWithNext().count{(f,n)-&gt;f!=n}/(it.length-1f)}
</code></pre>

<p><a href="https://tio.run/##RY5BC4JAEIXv/orJ0wyk0VXQoEOniKBD58V2dXEbRWcjEn/7tnbpXb/3@F7Xi7McXspB3XruLOtpKgBvMlpuCLIKTq5XAmWYreQfO9yttBf9FqS87j3LjGbLlFVmU/Kyw1hymhtps72hJRjP8FSWkWBOIGY1SZxDCaNWj3MURnYoIE1/fIhecYz/N7jWiZIlXLViL3D0Inr8Ag" rel="nofollow noreferrer" title="Kotlin – Try It Online">Try it online!</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://www.microsoft.com/net/core/platform" rel="nofollow noreferrer">F# (.NET Core)</a>, 100 bytes</h1>

<p>Whew, exactly 100 bytes. Too bad it's a bit verbose, I want to get it below 100. Determines <strong>chunkiness</strong>.</p>



<pre class="lang-fs prettyprint-override"><code>fun s-&gt;Seq.pairwise s|&gt;fun s-&gt;Seq.sumBy(fun(x,y)-&gt;if x=y then 0. else 1.)s/float(max(Seq.length s)1)
</code></pre>

<p><a href="https://tio.run/##TctBCsMgEEDRfU8xCAWFapsD1EVOEOgJpIyNYEzqjDRC7m7trn/54HvSzzVjk82XBKTtA99mcyF/AiHQYf@YyjJW2UHul6q0DR72ewWeMcHNAMZ@DEbR1cfVsVzcLn9bxPTiGUgNqikQE7pUGMbCjFmcoHfYLYfEHsTZi/YF" rel="nofollow noreferrer" title="F# (.NET Core) – Try It Online">Try it online!</a></p>
</div>
<div id="pu4" class="pu"><h1>JavaScript, 46/47 bytes</h1>

<pre><code>f=x=&gt;[...x].map(c=&gt;n+=c!=x[L++],n=L=-1)|L&gt;0&amp;&amp;n/L

f=x=&gt;[...x].map(c=&gt;n+=c==x[++L],n=L=0)|L&lt;2||n/--L
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="http://www.complang.tuwien.ac.at/forth/gforth/Docs-html/" rel="nofollow noreferrer">Forth (gforth)</a>, 92 bytes</h1>



<pre class="lang-forth prettyprint-override"><code>: f 1e dup 1 &gt; if 1- dup s&gt;f 0e 0 do dup i + dup 1+ c@ swap c@ = s&gt;f f- loop fswap f/ then ;
</code></pre>

<p><a href="https://tio.run/##NY3BDoIwEETvfMXYKymCNyQS8Qu8@AFN6QpRaENLDF@Pba2XnXmT2V3Sixv4k4Ls@xmESqFfDSq0GD3xSLYllAoleh15RP5r5ZBX2I8wQS@xRxxvrQ0oxnSEG9SMxh83OIUltxmFggG8BfMfqYBc0GSZZbgrMa8Ot9U5tTCYkMnhMb@2BNbaafIjYV3XyXXd34hkDkm97F8" rel="nofollow noreferrer" title="Forth (gforth) – Try It Online">Try it online!</a></p>

<p>Takes in a string (as the Forth standard combo of address and length) and returns the smoothness. Result is placed on the floating point stack</p>

<h2>Explanation</h2>

<pre class="lang-forth prettyprint-override"><code>1e                \ places 1 on the floating point stack, to use as a "default" value
dup 1 &gt; if        \ duplicates the length of the string and checks if it's greater than 1
   1- dup s&gt;f     \ subtract 1 from length and copy it to the floating point stack
   0e             \ places 0 on the floating point stack
   0 do           \ sets up a loop from 0 to length - 1
      dup i +     \ get the current character's address by adding index to string start
      dup 1+      \ copy address and add 1 to get the next character's address
      c@ swap c@  \ get the character at each of the addresses
      = s&gt;f       \ compare the two characters and move to the floating point stack
      f-          \ subtract result from counter (true in Forth defaults to -1)
   loop           \ end the loop
   fswap f/       \ swap the counter and the total and divide to get result
then              \ end the loop
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, <s>7</s> 4 bytes</h1>



<pre class="lang-js prettyprint-override"><code>=ƝÆm
 Ɲ   // For all pairs of neighbouring elements,
=    // return 1 if they're equal, 0 otherwise.
  Æm // Take the arithmetic mean of the resulting list.
</code></pre>

<p>Computes smoothness.<br>
Cut off three bytes thanks to <a href="https://codegolf.stackexchange.com/users/12012/dennis">Dennis</a>.</p>

<p><a href="https://tio.run/##y0rNyan8/9/22NzDbbn///9XCkhNzCstUXAqLSlJLVICAA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
</div>
<div id="pu7" class="pu"><h1><a href="http://coconut-lang.org/" rel="nofollow noreferrer">Coconut</a>, 38 bytes</h1>

<pre><code>s-&gt;sum(map((!=),s,s[1:]))/-~len(s[2:])
</code></pre>

<p><a href="https://tio.run/##RY5BCsIwEEWvkgahE2iUii5SaKGewI2r6qKUBEWTlkwKlVqvHpNu3Lz5D2aY3/Vdb0bnVXn1yCscNeh2AEhKlmGGTV7cGNvx70sawGYfzAM9yzbckNPonLQ0I7S7X8zzHRMiah0QsxAijrpe2UYmEZSRT0XCmw1MhFdEpfOU2CI/LtFmBRMrtge1pP@9wT6MWzXUDSWl/wE" rel="nofollow noreferrer" title="Coconut – Try It Online">Try it online!</a></p>

<p>A Python 3 port would be <a href="https://tio.run/##Hce9DoIwFIbh3as4sNAmgMGfgSaa4BW4OKEhVdtApIX0HAZC8NaRujzf@/Uj1Z3dL/p0X1ppnm8JKHAwzMieIbm0qqyqqhhjLDPx4HybfFtlGZa79S26c0DQWGDhVUk7EFwGIuXCGMJXfbOf0RciGrPiO89zP0XxV3oDT8jFBqB3jSWmo4kCJ7LjDMkZJs2Ii/Sg54gvPw" rel="nofollow noreferrer">50 bytes</a>.</p>
</div>
<div id="pu8" class="pu"><h2>J, <s>14</s> 13 bytes</h2>

<p>Computes the chunkiness. Kudos to J for defining <code>0 % 0</code> to be equal to 0.</p>

<pre><code>(]+/%#)2~:/\]
</code></pre>

<p><a href="https://tio.run/##y/r/P81WT0EjVltfVVnTqM5KPyb2f2pyRn6NlUZhaX5JqnWapppdopVOcmmJj5tCcUlKZp6C4X@ugNTEvNISBafSkpLUIq7kjNC87Equ4uLi3FwgwWVpacnl6MjlmMilCAA" rel="nofollow noreferrer" title="J – Try It Online">Try it online</a></p>

<p>Here is an explanation:</p>

<pre><code>   NB. sample input
   in =. 'sssmmsss'

   NB. all infixes of length 2
   2 ]\ in
ss
ss
sm
mm
ms
ss
ss

    NB. are the parts of the infix different?
    2 ~:/\ in
0 0 1 0 1 0 0

    NB. sum and item count of the previous result
    (+/ , #) 2 ~:/\ in
2 7

    NB. arithmetic mean: chunkiness
    (+/ % #) 2 ~:/\ in
0.285714

    NB. as a tacit verb
    (] +/ % #) 2 ~:/\ ]

    NB. 0 divided by 0 is 0 in J
    0 % 0
0
</code></pre>
</div>
<div id="pu9" class="pu"><h1>Java 8, <s>84</s> 82 bytes</h1>

<pre class="lang-java prettyprint-override"><code>s-&gt;{float l=s.length()-1,S=s.split(&quot;(.)(?=\\1)&quot;).length-1;return l&lt;1?1:S&lt;1?0:S/l;}
</code></pre>
<p>Outputs Smoothness.</p>
<p><a href="https://tio.run/##lZPfT8IwEMff/SvOPbWRlRUxCgMJJj5qTBaf1IfSFRiUblk7IjH87Vj2gzBgJjZdk2t7n/v2drdga@YuwuWOS6Y1vLBI/VwBRMqIdMq4gNe9CTCVMTPAUWDSSM1AY99ub@1npzbMRBxeQcEQdtp9/Cluy6EmUqiZmSPs0lZgTZ3IyCAHEYxGw89Pih1cXnGpnwqTpQrkgI5oP7Cr1w/a0t/u/CJOkk2kjVOGW8dRCCurt9T08cVwodUIbWO8CaYyA0@ZsU9xsG8P2m14/k4ENyLsg0e8h1tCCCAKCYvSFtAOqFi5e0PjIxKfv6vlpkCUo06qdpGXk3QL7i6TtNarlV2OWCea7mk313RXkRo09Xq9mqBTEj1o6lQk7zJpPD4FNZGqPDWB2N@gC2miB9Ix6PqM06SoKB0YAD32P3f/nz/bj4kdnPMwFHtcw1@i3eol3XpO6p2Rl2rOPrRPUanBRhuxInFmSGIPDCr6yrZbnCJr11rIv7mRg47n4zMvB5zS7/RIKqQIt9iyX7e7Xw" rel="nofollow noreferrer">Try it online.</a></p>
<p><strong>Explanation:</strong></p>
<pre class="lang-java prettyprint-override"><code>s-&gt;{                     // Method with String parameter and float return-type
  float l=s.length()-1,  //  Length of the input-String minus 1 (amount of pairs in total)
        S=s.split(&quot;(.)(?=\\1)&quot;).length-1;
                         //  Length of the input split by duplicated pairs (with lookahead)
  return l&lt;1?            //  If the length of the input is either 0 or 1:
          1              //   Return 1
         :S&lt;1?           //  Else-if `S` is -1 or 0:
          0              //   Return 0
         :               //  Else:
          S/l;}          //   Return duplicated pairs divided by the length-1
</code></pre>
</div>
<div id="pu10" class="pu"><h1>TI-BASIC, 46 bytes</h1>

<pre><code>Input Str1
If 2≤length(Str1
mean(seq(sub(Str1,X,1)=sub(Str1,X-1,1),X,2,length(Str1
Ans
</code></pre>

<p><code>sub(x1,x2,x3</code> gives the substring of string <code>x1</code> starting (one-based) at number <code>x2</code> and ending at number <code>x3</code>, then <code>seq(</code> builds a sequence.</p>

<p>Gives the smoothness value. The <code>Ans</code> variable is <code>0</code> by default, so we don't need an <code>Else</code> to the <code>If</code> statement, or to store anything to <code>Ans</code> beforehand.</p>
</div>
<div id="pu11" class="pu"><h1>GeL: <s>76</s> 73 characters</h1>

<p>Smoothness.</p>

<pre><code>@set{d;0}
?\P$1=@incr{d}
?=
\Z=@lua{c=@column -1\;return c&lt;1and 1or $d/c}
</code></pre>

<p>Sample run:</p>

<pre><code>bash-4.3$ for i in 'Peanut Butter' 'chUnky' 'sssmmsss' '999' 'AA' 'Aa' '!' ''; do
&gt;     echo -n "$i -&gt; "
&gt;     echo -n "$i" | gel -f smooth.gel
&gt;     echo
&gt; done
Peanut Butter -&gt; 0.083333333333333
chUnky -&gt; 0
sssmmsss -&gt; 0.71428571428571
999 -&gt; 1
AA -&gt; 1
Aa -&gt; 0
! -&gt; 1
 -&gt; 1
</code></pre>

<p>(GeL = Gema + Lua bindings. Much better, but still far from winning.)</p>

<h1>Gema: <s>123</s> 120 characters</h1>

<p>Smoothness.</p>

<pre><code>@set{d;0}
?\P$1=@incr{d}
?=
\Z=@subst{\?\*=\?.\*;@cmpn{@column;1;10;10;@fill-right{00000;@div{$d0000;@sub{@column;1}}}}}
</code></pre>

<p>Sample run:</p>

<pre><code>bash-4.3$ for i in 'Peanut Butter' 'chUnky' 'sssmmsss' '999' 'AA' 'Aa' '!' ''; do
&gt;     echo -n "$i -&gt; "
&gt;     echo -n "$i" | gema -f smooth.gema
&gt;     echo
&gt; done
Peanut Butter -&gt; 0.0833
chUnky -&gt; 0.0000
sssmmsss -&gt; 0.7142
999 -&gt; 1.0000
AA -&gt; 1.0000
Aa -&gt; 0.0000
! -&gt; 1.0
 -&gt; 1.0
</code></pre>

<p>(Was more an exercise for myself to see what are the chances to solve it in a language without floating point number support and generally painful arithmetic support. The 2nd line, especially the <code>\P</code> sequence, is pure magic, the last line is real torture.)</p>
</div>
<div id="pu12" class="pu"><h1>K5, 24 bytes</h1>
<pre><code>{(r;1)@^r:(#&amp;=':x)%#1_x}
</code></pre>
<p>Calculates smoothness. Seems to use a very different algorithm from K/Q/J/APL answers.</p>
</div>
<div id="pu13" class="pu"><h2>Mathematica, <s>73</s> 72 bytes</h2>

<p>This doesn't win anything for size, but it's straightforward:</p>

<p>Smoothness</p>

<pre><code>N@Count[Differences@#,_Plus]/(Length@#-1)&amp;@StringSplit[#,""]&amp;

In[177]:= N@Count[Differences@#,_Plus]/(Length@#-1)&amp;@StringSplit[#,""] &amp;@"sssmmsss"

Out[177]= 0.285714
</code></pre>
</div>
<div id="pu14" class="pu"><h1>Mathematica, 107 bytes</h1>
<p>Calculates chunkiness by taking half of the Levenshtein distance between each digraph and its reverse.</p>
<pre><code>f[s_]:=.5EditDistance@@{#,StringReverse@#}&amp;/@StringCases[s,_~Repeated~{2},Overlaps-&gt;All]//Total@#/Length[#]&amp;
</code></pre>
<p>If you'd prefer an exact rational answer, delete <code>.5</code> and place a <code>/2</code> before the last <code>&amp;</code> for no penalty. The program itself has chunkiness 103/106, or about .972.</p>
</div>
<div id="pu15" class="pu"><h1>Ruby, 63 Bytes</h1>

<p>Outputs chunkiness.</p>

<p><code>f=-&gt;s{s.chars.each_cons(2).count{|x,y|x!=y}/[s.size-1.0,1].max}</code></p>

<p>Similar to @daniero's solution, but slightly shortened by directly dividing by the string length - 1 and then relying on .count to be zero with length 0 &amp; 1 strings (the .max ensures I won't divide by 0 or -1).</p>
</div>
<div id="pu16" class="pu"><h1>K (22)</h1>
<p>tweaked WooiKent's Q solution:</p>
<pre><code>{1^(+/x)%#x:1_=':(),x}
</code></pre>
</div>
<div id="pu17" class="pu"><h1>Python 3, 61 Bytes</h1>

<p>calculate chunkiness:</p>

<pre><code>f=lambda s: sum(a!=b for a,b in zip(s,s[1:]))/max(len(s)-1,1)
</code></pre>
</div>
<div id="pu18" class="pu"><h2><strong>C#, <del>94</del> 89 bytes</strong></h2>

<p>Sub 100 bytes, so I guess that's some form of victory in itself?</p>

<p>This is a function definition (allowed as per the spec) which returns the <strong>smoothness</strong> of the input string:</p>

<pre><code>Func&lt;string,float&gt;(s=&gt;s.Length&gt;1?s.Zip(s.Skip(1),(a,b)=&gt;a==b?1f:0).Sum()/(s.Length-1):1);
</code></pre>

<p>Pretty straightforward, if the length is 0 or 1 it returns 1, otherwise it compares the string to itself less the first character, then returns the number of identical pairs divided by the number of pairs.</p>

<p><em>Edit - replaced Substring with Skip. Rookie mistake!</em></p>
</div>
<div id="pu19" class="pu"><h1>APL, 10 bytes</h1>

<p>This reads input from stdin and prints the chunkiness to stdout. The algorithm is the same one used for the J solution.</p>

<pre><code>(+/÷⍴)2≠/⍞
</code></pre>
</div>
<div id="pu20" class="pu"><h1>KDB(Q), 30</h1>

<p>Returns smoothness.</p>

<pre><code>{1^sum[x]%count x:1_(=':)(),x}
</code></pre>

<h1>Explanation</h1>

<pre><code>                         (),x    / ensure input is always list
                x:1_(=':)        / check equalness to prev char and reassign to x
   sum[x]%count                  / sum equalness divide by count N-1
 1^                              / fill null with 1 since empty/single char will result in null
{                             }  / lamdba
</code></pre>

<h1>Test</h1>

<pre><code>q){1^sum[x]%count x}1_(=':)(),x}"Peanut Butter"
0.08333333
q){1^sum[x]%count x:1_(=':)(),x}"sssmmsss"
0.7142857
q){1^sum[x]%count x:1_(=':)(),x}"Aa"
0f
q){1^sum[x]%count x:1_(=':)(),x}"aa"
1f
q){1^sum[x]%count x:1_(=':)(),x}"chUnky"
0f
q){1^sum[x]%count x:1_(=':)(),x}"!"
1f
q){1^sum[x]%count x:1_(=':)(),x}""
1f
</code></pre>
</div>
<div id="pu21" class="pu"><h1>Python 3, 52 bytes</h1>



<pre class="lang-py prettyprint-override"><code>lambda s:sum(map(str.__ne__,s,s[1:]))/(len(s)-1or 1)
</code></pre>

<p>This calculates chunkiness, and outputs <code>-0.0</code> for the empty string. If don't like negative zeroes you can always fix that with an extra byte:</p>

<pre class="lang-py prettyprint-override"><code>lambda s:sum(map(str.__ne__,s,s[1:]))/max(len(s)-1,1)
</code></pre>
</div>
<div id="pu22" class="pu"><h2>PowerShell, 55 bytes</h2>

<p>Smoothness</p>

<pre><code>%{$s=$_;@([char[]]$s|?{$_-eq$a;$a=$_;$i++}).count/--$i}
</code></pre>

<p>Seems a little bit silly to get a variable in stdin and then give it an identifier, but its quicker than having a function.</p>
</div>
<div id="pu23" class="pu"><h1>Python 3, 63 Bytes</h1>

<p>This is an anonymous lambda function which takes a string as the argument, and returns it's chunkiness.</p>



<pre class="lang-py prettyprint-override"><code>lambda n:~-len(n)and sum(x!=y for x,y in zip(n,n[1:]))/~-len(n)
</code></pre>

<p>To use it, give it a name and call it.</p>

<pre class="lang-py prettyprint-override"><code>f=lambda n:~-len(n)and sum(x!=y for x,y in zip(n,n[1:]))/~-len(n)
f("Peanut Butter") -&gt; 0.08333333333333333
f("!")             -&gt; 0
f("")              -&gt; -0.0
</code></pre>
</div>
<div id="pu24" class="pu"><h1>Perl, 69</h1>

<p>Function returning <strong>smoothness</strong>:
</p>

<pre><code>sub f{($_)=@_;$s=s/(.)(?!\1)//sgr;chop;!$_||length($s)/length;}
</code></pre>

<h3>Explanation</h3>

<pre><code>sub f {
    # read argument into $_
    ($_) = @_;

    # copy $_ to $s, removing any char not followed by itself
    # /s to handle newlines as all other characters
    $s = s/(.)(?!\1)//sgr;

     # reduce length by one (unless empty)
    chop;

    # $_ is empty (false) if length was 0 or 1
    # return 1 in that case, else number of pairs / new length
    !$_ || length($s)/length;
}
</code></pre>

<h3>Tests</h3>

<pre><code>printf "%.6f %s\n", f($a=$_), $a foreach (@ARGV);

0.083333 Peanut Butter
0.000000 chUnky
0.714286 sssmmsss
1.000000 999
1.000000 AA
0.000000 Aa
1.000000 !
1.000000 
</code></pre>
</div>
<div id="pu25" class="pu"><h1>C, 83 bytes</h1>

<pre class="lang-c prettyprint-override"><code>float f(char*s){int a=0,b=0;if(*s)while(s[++a])b+=s[a]!=s[a-1];return--a?1.*b/a:b;}
</code></pre>
<p>A function returning <strong>chunkiness</strong>.</p>
<h3>Explanation</h3>
<pre class="lang-c prettyprint-override"><code>float f(char *s) {
</code></pre>
<p>Accept a C string, and return a float (double would work but is more chars).</p>
<pre class="lang-c prettyprint-override"><code>int a=0, b=0;
</code></pre>
<p>Counters - <code>a</code> for total pairs, <code>b</code> for non-matching pairs.  Using <code>int</code> limits the &quot;arbitrary length&quot; of the string, but that's only a minor violation of the requirements and I'm not going to fix it.</p>
<pre class="lang-c prettyprint-override"><code>if (*s)
</code></pre>
<p>Special case the empty string - leave both counters zero.</p>
<pre class="lang-c prettyprint-override"><code>    while (s[++a])
</code></pre>
<p>Non-empty string - iterate through it with pre-increment (so first time through the loop, <code>s[a]</code> will be the second character.  If the string has only one character, the loop body will not be entered, and <code>a</code> will be 1.</p>
<pre class="lang-c prettyprint-override"><code>        b += s[a]!=s[a-1];
</code></pre>
<p>If the current character differs from the previous, increment <code>b</code>.</p>
<pre class="lang-c prettyprint-override"><code>return --a ? 1.*b/a : b;
}
</code></pre>
<p>After the loop, there are three possibilities: 'a==0,b==0' for an empty input, 'a==1,b==0' for a single-character input or 'a&gt;1,b&gt;=0' for multi-character input.  We subtract 1 from <code>a</code> (the <code>?</code> operator is a sequence point, so we're safe), and if it's zero, we have the second case, so should return zero.  Otherwise, <code>b/a</code> is what we want, but we must promote <code>b</code> to a floating-point type first or we'll get integer division.  For an empty string, we'll end up with a negative zero, but the rules don't disallow that.</p>
<h3>Tests:</h3>
<pre class="lang-c prettyprint-override"><code>#include &lt;stdio.h&gt;
int main(int argc, char **argv)
{
    while (*++argv)
        printf(&quot;%.6f %s\n&quot;, f(*argv), *argv);
}
</code></pre>
<p>Which gives:</p>

<pre class="lang-none prettyprint-override"><code>./chunky 'Peanut Butter' chUnky sssmmsss 999 AA Aa '!' ''
0.916667 Peanut Butter
1.000000 chUnky
0.285714 sssmmsss
0.000000 999
0.000000 AA
1.000000 Aa
0.000000 !
-0.000000 
</code></pre>
<p>as required.</p>
</div>
<div id="pu26" class="pu"><h2>JavaScript (ES6), 55 bytes</h2>

<h3>Smoothness, 56 bytes</h3>

<pre class="lang-js prettyprint-override"><code>f=x=&gt;(z=x.match(/(.)(?=\1)/g))?z.length/--x.length:+!x[1]
</code></pre>

<h3>Chunkiness, 55 bytes</h3>

<pre class="lang-js prettyprint-override"><code>f=x=&gt;(z=x.match(/(.)(?!\1)/g))&amp;&amp;--z.length/--x.length||0
</code></pre>

<h3>Demo</h3>

<p>Calculates smoothness, as that is what I prefer. Only works in Firefox for now, as it is ES6.</p>

<p><div class="snippet" data-lang="js" data-hide="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>f=x=&gt;(z=x.match(/(.)(?=\1)/g))?z.length/--x.length:+!x[1]

O.innerHTML += f('Peanut Butter') + '\n';
O.innerHTML += f('chUnky') + '\n';
O.innerHTML += f('sssmmsss') + '\n';
O.innerHTML += f('999') + '\n';
O.innerHTML += f('AA') + '\n';
O.innerHTML += f('Aa') + '\n';
O.innerHTML += f('!') + '\n';
O.innerHTML += f('') + '\n';</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;pre id=O&gt;&lt;/pre&gt;</code></pre>
</div>
</div>
</p>
</div>
<div id="pu27" class="pu"><h1>Haskell, 64 bytes</h1>

<pre><code>f[]=1
f[_]=1
f x=sum[1|(a,b)&lt;-zip=&lt;&lt;tail$x,a==b]/(sum(x&gt;&gt;[1])-1)
</code></pre>

<p>Outputs smoothness. e.g. <code>f "Peanut Butter"</code> -> <code>8.333333333333333e-2</code>.</p>

<p>How it works:</p>

<pre><code>f[]=1                               -- special case: empty list
f[_]=1                              -- special case: one element list

f x=                                -- x has at least two elements
         (a,b)&lt;-zip=&lt;&lt;tail$x        -- for every pair (a,b), drawn from zipping x with the tail of itself
                            ,a==b   -- where a equals b
      [1|                        ]  -- take a 1
   sum                              -- and sum it
              /                     -- divide  by
                   (x&gt;&gt;[1])         -- map each element of x to 1
               sum                  -- sum it
                           -1       -- and subtract 1
</code></pre>

<p><code>sum(x&gt;&gt;[1])</code> is the length of x, but because Haskell's strong type system requires to feed fractionals to <code>/</code>, I can't use <code>length</code> which returns integers. Converting integers to fractionals via <code>fromInteger$length x</code> is far too long.</p>
</div>
<div id="pu28" class="pu"><h1>Python 3, 69 bytes</h1>
<p>No one has posted a Python solution yet, so here's a fairly straightforward implementation of a &quot;chunkiness&quot; function. It short-circuits on a string of length <code>1</code>, and prints <code>0</code> (which is an integer rather than a float but seems to be allowed according to the rules).</p>
<p>On an empty string, it outputs <code>-0.0</code> rather than <code>0.0</code>.  Arguably this is could be considered acceptable, as <code>-0.0 == 0 == 0.0</code> returns <code>True</code>.</p>
<pre><code>def c(s):l=len(s)-1;return l and sum(s[i]!=s[i+1]for i in range(l))/l
</code></pre>
<p>Examples:</p>
<pre><code>&gt;&gt;&gt; c(''); c('a'); c('aaa'); c(&quot;Peanut Butter&quot;)
-0.0
0
0.0
0.916666666667
&gt;&gt;&gt; -0.0 == 0 == 0.0
True
</code></pre>
<p>(Python 3 is used for its default float division.)</p>
</div>
<div id="pu29" class="pu"><h1>Nim, <s>105</s> <s>96</s> 91 bytes</h1>

<pre class="lang-nim prettyprint-override"><code>proc f(s):any=
 var a=0;for i,c in s[.. ^2]:a+=int(s[i+1]!=c)
 a.float/max(s.len-1,1).float
</code></pre>

<p>Trying to learn Nim. This calculates the chunkiness of a string.</p>

<p><sup><em>(<s>If I try to read this as Python the indentation looks all messed up...</s> Now it looks more like Ruby...)</em></sup></p>
</div>
<div id="pu30" class="pu"><h1>Julia, 52 bytes</h1>

<p>Smoothness!</p>



<pre class="lang-matlab prettyprint-override"><code>s-&gt;(n=length(s))&lt;2?1:mean([s[i]==s[i+1]for i=1:n-1])
</code></pre>

<p>This creates an unnamed function that accepts a string and returns a numeric value.</p>

<p>If the length of the input is less than 2, the smoothness is 1, otherwise we calculate the proportion of identical adjacent characters by taking the mean of an array of logicals.</p>
</div>
<div id="pu31" class="pu"><h1><a href="http://esolangs.org/wiki/Fish">>&lt;></a>, <s>40</s> 36 bytes</h1>

<pre><code>00ii:0(?v:@=1$-{+{1+}}20.
~:0=+,n;&gt;~
</code></pre>

<p>This program returns the chunkiness of a string.</p>

<h2>Explanation</h2>

<pre><code>00i         Push 0 (# unequal pairs), 0 (length of string - 1) and read first char

[main loop]

i           Read a char
:0(?v       If we've hit EOF, go down a row
:@=1$-      Check (new char != previous char)
{+          Add to unequal pairs count
{1+         Increment length by 1
}}20.       Continue loop

[output]

~~          Pop last two chars (top one will be -1 for EOF)
:0=+        Add 1 to length if zero (to prevent division by zero errors)
,           Divide, giving chunkiness
n;          Output and halt
</code></pre>

<hr>

<h2>Previous submission (37 + 3 = 40 bytes)</h2>

<pre><code>l1)?v1n;
n,$&amp;\l1-}0&amp; \;
l2(?^$:@=&amp;+&amp;&gt;
</code></pre>

<p>This program returns the smoothness of a string. Input is via the <code>-s</code> flag, e.g.</p>

<pre><code>py -3 fish.py chunkiness.fish -s "Peanut Butter"
</code></pre>
</div>
<div id="pu32" class="pu"><h2>Matlab (<s>37</s> 36 bytes)</h2>

<p>This can be done with the following anonymous function, which returns chunkiness:</p>

<pre><code>f=@(x)nnz(diff(x))/max(numel(x)-1,1)
</code></pre>

<p>Comments:</p>

<ul>
<li><p>In old Matlab versions (such as R2010b) you need <code>+</code> to cast the char array <code>x</code> to a double array:</p>

<pre><code>f=@(x)nnz(diff(+x))/max(numel(x)-1,1)`
</code></pre>

<p>But that's not the case in recent versions (tested in R2014b), which saves one byte. Thanks to Jonas for his comment.</p></li>
<li>The expression with <code>max</code> handles the one-character and zero-character cases (for chunkiness)</li>
</ul>

<p>Example:</p>

<pre><code>&gt;&gt; f=@(x)nnz(diff(x))/max(numel(x)-1,1)
f = 
    @(x)nnz(diff(x))/max(numel(x)-1,1)

&gt;&gt; f('Peanut Butter')
ans =
   0.9167
</code></pre>
</div>
<div id="pu33" class="pu"><h1>Pyth, <s>13</s> 12 bytes</h1>

<pre><code>csJnVztz|lJ1
</code></pre>

<p>Fully chunky code calculating chunkiness.</p>

<p><a href="https://pyth.herokuapp.com/?code=csJnVztz%7ClJ1&amp;input=sssmmsss&amp;debug=0">Demonstration.</a> <a href="https://pyth.herokuapp.com/?code=FN%2Bz.z%3DzPhcN%5C%E2%86%92%2B%2BzdcsJnVztz%7ClJ1&amp;input=Peanut+Butter+%E2%86%92+Chunkiness%3A+0.91666666666%2C+Smoothness%3A+0.08333333333%0AchUnky+%E2%86%92+Chunkiness%3A+1.0%2C+Smoothness%3A+0.0%0Asssmmsss+%E2%86%92+Chunkiness%3A+0.28571428571%2C+Smoothness%3A+0.71428571428%0A999+%E2%86%92+Chunkiness%3A+0.0%2C+Smoothness%3A+1.0%0AAA+%E2%86%92+Chunkiness%3A+0.0%2C+Smoothness%3A+1.0%0AAa+%E2%86%92+Chunkiness%3A+1.0%2C+Smoothness%3A+0.0%0A!+%E2%86%92+Chunkiness%3A+0.0%2C+Smoothness%3A+1.0%0A+%E2%86%92+Chunkiness%3A+0.0%2C+Smoothness%3A+1.0%0AcsJnM.%3Az2%7ClJ1+&amp;debug=0">Test harness.</a></p>

<pre><code>csJnVztz|lJ1
                 Implicit: z = input()
   nV            n, !=, vectorized over
     z           z
      tz         z[:-1]
                 V implitly truncates.
  J              Store it in J.
 s               sum J
c                floating point divided by
         |       logical or
          lJ     len(J)
            1    1
</code></pre>
</div>
<div id="pu34" class="pu"><h1>CJam, 19 bytes</h1>

<pre><code>q_1&gt;_@.=:!1b\,d/4mO
</code></pre>

<p>100% chunky source code that calculates <strong>chunkiness</strong>.</p>

<p><a href="http://cjam.aditsu.net/#code=q_1%3E_%40.%3D%3A!1b%5C%2Cd%2F4mO&amp;input=Peanut%20Butter">Try this chunky goodness online.</a></p>

<h3>How it works</h3>

<pre><code>q_                  e# Read from STDIN and push a copy.
  1&gt;_               e# Discard the first character and push a copy.
     @              e# Rotate the original on top.
      .=            e# Vectorized comparison (1 if equal, 0 if not).
        :!          e# Mapped logical NOT (0 if equal, 1 if not).
          1b        e# Base 1 conversion (sum).
            \,      e# Swap with the shortened string and push its length.
              d/    e# Cast to double and divide.
                4mO e# Round to four decimal places.
</code></pre>

<p>Obviously, NaN rounded to 4 decimal places is 0.</p>
</div>
<div id="pu35" class="pu"><h1>CJam, 16 bytes</h1>

<pre><code>1q2ew::=_:+\,d/*
</code></pre>

<p>Cheaty source code that calculates <strong>smoothness</strong>.</p>

<p>For inputs of length 0 or 1, this prints the correct result before exiting with an error. With the Java interpreter, error output goes to STDERR (<a href="http://meta.codegolf.stackexchange.com/a/4781">as it should</a>).</p>

<p>If you <a href="http://cjam.aditsu.net/#code=1q2ew%3A%3A%3D_%3A%2B%5C%2Cd%2F*&amp;input=!">try the code online</a>, just ignore everything but the last line of output.</p>

<h3>How it works</h3>

<pre><code>1q               e# Push a 1 and read from STDIN.
  2ew            e# Push the overlapping slices of length 2.
                 e# This will throw an error for strings of length 0 or 1,
                 e# so the stack (1) is printed and the program finishes.
     ::=         e# Twofold vectorized comparision.
        _:+      e# Push a copy and add the Booleans.
           \,    e# Swap with the original and compute its length.
             d/  e# Cast to double and divide.
               * e# Multiply with the 1 on the bottom of the stack.
</code></pre>
</div>
<div id="pu36" class="pu"><h2>CJam, 23 bytes</h2>

<pre><code>q_,Y&lt;SS+@?2ew_::=:+\,d/
</code></pre>

<p>Explanation:</p>

<pre><code>q                           e# read input
 _,                         e# its length
   Y&lt;                       e# is less than 2?
     SS+                    e# then a smooth string
        @?                  e# otherwise the input
          2ew               e# pairs of consecutive characters
             _::=           e# map to 1 if equal, 0 if not
                 :+         e# sum (number of equal pairs)
                   \,       e# total number of pairs
                     d/     e# divide
</code></pre>

<p>This outputs the smoothness ratio.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/53075/">53075</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




