<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::241889</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>058</td><td>Charcoal</td><td>220129T091210Z</td><td><a href="https://codegolf.stackexchange.com/questions/241889/score-a-scrabble-play/241967#241967">Neil</a></td></tr>
<tr d-ix="1"><td>180</td><td>Clojure</td><td>220207T185551Z</td><td><a href="https://codegolf.stackexchange.com/questions/241889/score-a-scrabble-play/242505#242505">Kirill L</a></td></tr>
<tr d-ix="2"><td>020</td><td>Jelly</td><td>220128T200342Z</td><td><a href="https://codegolf.stackexchange.com/questions/241889/score-a-scrabble-play/241950#241950">Jonathan</a></td></tr>
<tr d-ix="3"><td>387</td><td>Python3</td><td>220127T230508Z</td><td><a href="https://codegolf.stackexchange.com/questions/241889/score-a-scrabble-play/241894#241894">Ajax1234</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, <s>59</s> 58 bytes</h1>
<pre><code>ＳθＷＳ⊞υιＵＭυ⭆Ｓ⌈⟦λ↧§ιμ⟧ＩΣＥ⁺υＥ⌊υ⭆υ§λκΣＥ⪪ι ∧∧‹¹Ｌλ№α⌊λΣＥ↥λ⊕§θ⌕αν
</code></pre>
<p><a href="https://tio.run/##VY9Ra4MwFIXf/RWhTwk4iDoopU/FbiAoCnZPYw9BQw1LYmqStf/e3XR22AuB5Nx7vnPTDWzqRibnudDGu9ZNQp/xheyj6yAkR3gtE4IabwfsYyRgomImH5Viug/K3wxoz5YYVewmlFf4U8aoHK986pjl@OAK3fMbFjFShHwRAsAGLA7nzDrcgiGwGultoId7JfQd5Mk6DZoPFgR8Ayi0F3trpHAhY4M2IB9g1XBKbi1OYB2uz27AMljy0UM4g6glRj6RPoxZNpegFrqbuOLa8f7/J5cYvQuAA0KTVe3nmaZpQrMko9tXmlKa7ihUlm2zXdTWZXFEEbpX9Hie6vr0dpxffuQv" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Takes as input:</p>
<ol>
<li>A string of 26 digits representing the values of the letter tiles minus <code>1</code>.</li>
<li>The previous board state, as a rectangular list of strings</li>
<li>An empty line to delimit the two boards</li>
<li>The new board state, as a rectangular list of strings</li>
</ol>
<p>The two boards must be the same size rectangle. Explanation:</p>
<pre><code>Ｓθ
</code></pre>
<p>Input the decremented tile values.</p>
<pre><code>ＷＳ⊞υι
</code></pre>
<p>Input the previous board state.</p>
<pre><code>ＵＭυ⭆Ｓ⌈⟦λ↧§ιμ⟧
</code></pre>
<p>Input the new board state, but lowercase all letters that aren't new.</p>
<pre><code>Ｅ⁺υＥ⌊υ⭆υ§λκ
</code></pre>
<p>Loop over the new board and its transpose.</p>
<pre><code>ΣＥ⪪ι 
</code></pre>
<p>Map over each word and take the sum.</p>
<pre><code>∧∧‹¹Ｌλ№α⌊λ
</code></pre>
<p>Only score words of at least two letters of which at least one is upper case.</p>
<pre><code>ΣＥ↥λ⊕§θ⌕αν
</code></pre>
<p>Calculate the score of the word.</p>
<pre><code>ＩΣ
</code></pre>
<p>Output the final total.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://clojure.org/" rel="nofollow noreferrer">Clojure</a>, 180 bytes</h1>

<pre class="lang-clj prettyprint-override"><code>#(let[s(fn[x](frequencies(for[y(concat x(apply map vector x))w(partition-by #{\ }y):when(second w)]w)))b(s %2)](apply +(for[[k v](merge-with -(merge b(s %3))b)n k](*(or(% n)0)v))))
</code></pre>
<p><a href="https://tio.run/##bZJfT9swFMXf@RRHQUg2uBJ/NgnxFtYM2EpT0jBgdh7S4I6M1glpaFohPnvx9RLQplnxz/K5515fW8lmxe/nSm/YvZ5i/qICHAjlEy4IIWFIiAgxYUAYE64JfRwKdUY4xZFQXwiXhBHhKz4JdU74Qbgh3BG@47NQ33As1C3hCgf7Qv20fOVbrpnpZpvNdC0XbGrkKmHTSj89a5Pl2ipFJdcsK0yW1lixtCxna8zTEkud1UWFFecNK9Oqzuu8ML3JGtsvCq9rftI8aMMW2qbeo@FJwzmfsAV2DnnSltlz1eUjlgmb6@qX7jV5/YDenw2c@8hmcYPHhO2yomI7MHyfL20tvqHui4V@gpQTpAnklpTeyB/HnvD82wB2QQB4NvKPPAxurJyQfxwOLvrO6oYzv2txGMZBv3W6sPCicDBo7d1COTj/KzrCx/Eu@9Tv0/lOHoaxy@m0sNOS7gbXUdB2i7uuYVvs/Sr/i9v50elZ5F@29iikzZhi9mNllZt6ZsDsTwj7bvSSbw" rel="nofollow noreferrer" title="Clojure – Try It Online">Try it online!</a></p>
<p>Anonymous function, accepts the three arguments in the order of: scoring map, board before, board after.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 20 bytes</h1>
<pre><code>,ZḲÇ€€$€€Ẏ)œ-&quot;/ẎḊƇFS
</code></pre>
<p>A monadic Link that accepts a pair of boards (lists of lists of characters), the first being the board's state <em>after</em> the turn has been played, that yields the score. The boards must fully align, using spaces to pad as necessary.</p>
<p><strong><a href="https://tio.run/##y0rNyan8/6hhjqujp79fUIhPcCiQ4@IOJJycfQOAlJtHWHgkkPYGYgjyioDQgVGPGuYe6X7UtCbk4Y5F/3WiHu7YdLgdyAUiFQj1cFef5tHJukr6QMbDHV3H2t2C////Hx2tFOAYHBIa5KrEpaCj5BjhqqAQqQBm@7mGKwAxkB3LpYNbmQKQCVMWCwA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong> (The header is a Link that performs the lookup of the value of a tile by its character*)<br />
Or see the <a href="https://tio.run/##bY6xTsMwEIb3e4pTxYJExTO4xE1D0jjYhpbsLKgvUJShZYkEEks3BAusTAhFKUgdWsp7OC9izg6qOmCd7/v/O/t011eTydQ2syfOIpFKnahzMkFIqXcyzAj9wcXokhjTbeN03PIsb2bP3/fN7Zs29Ys9yk39vinJUhy0MJ8Ph9tFt3NMwtR3P2VfWfP1sV2Y5at7MV8VeONFlRNys3zclNC256t1ta78QGszpjQW6ABszJG0ByAlMikfIYASSRSQ8wT0p0AthOYBwJ/FAUiRJKQcdtVspzhAj7kxlIH5GkMBqXAbUP6vjXvt2Ndi@gIqSkO3D4FLv0Eo2dC1MymcVL8" rel="nofollow noreferrer" title="Jelly – Try It Online">test-suite</a>.</p>
<p>* Blank tiles can be incorporated by using a new character, e.g. <code>b</code>, too.</p>
<h3>How?</h3>
<pre><code>,ZḲÇ€€$€€Ẏ)œ-&quot;/ẎḊƇFS - Link: pair of lists of equal-length lists of characters
          )          - for each grid in the pair:
 Z                   -   tranpose
,                    -   pair the grid and its transpose
      $€€            -   for each line in each of those:
  Ḳ                  -     split at spaces
    €€               -     for each tile character in each of those:
   Ç                 -       call our tile value finding function
         Ẏ           -   tighten
              /      - reduce by:
             &quot;       -   zip with:
           œ-        -     multiset difference
               Ẏ     - tighten
                 Ƈ   - keep only those for which:
                Ḋ    -   dequeue -&gt; falsey for length one words
                  F  - flatten
                   S - sum
</code></pre>
</div>
<div id="pu3" class="pu"><h1>Python3, 387 bytes:</h1>
<pre class="lang-py prettyprint-override"><code>import re,itertools as I
lambda o,n:sum(sum(p[i]for i in j)for j in q(n)if all(j not in k for k in q(o))and len(j)&gt;1)
q=lambda o:[j for k in[*map(list,I.zip_longest(*o,fillvalue=' '))]+o for j in re.findall('\w+',''.join(k))]
p={'E':1,'A':1,'I':1,'O':1,'N':1,'R':1,'T':1,'L':1,'S':1,'U':1,'D':2,'G':2,'B':3,'C':3,'M':3,'P':3,'F':4,'H':4,'V':4,'W':4,'Y':4,'K':5,'J':8,'X':8,'Q':10,'Z':10}
</code></pre>
<p><a href="https://tio.run/##dZJvb9owEMZfz5/ixBvb1ELjn1RFYhIdWcughAFbuwU0BZFsDsFO47BpG/vszD7aqFJZpPzu8txj@@Rc/qv8rlX7Mi@OSW95zKLdehOBFsoz@x1zbx7KVaILkCAVpNylqUsfmOIygSjLWApKl07bgitvT2XNeaQ2kMWKpfxNkxO5y3VRQhELWcZFqXVmIDIwJA@9p3O9MK22COu7KGeZNKUYNn7L/Gum1bfYlKyuRSKz7EeU7eMeBcr56kJD1VgRNxKpNq4xuvx5QQWljVRLxbbWSPLeH@pTryloHzlEBsgJcoZcIMfIOfIjckC9lqDXyCvqtQV9i7xFTpHvqNcR9Ab5CXmH/IwcUa8r6HvqXQp6j/xgd34t6BcX/h7/c02SmF6tVpv25ws4gAukf@@DzTEQsLAfE/8OrI2YpnOTeTAeDqyMkQA@B1gEwcIfEPS1nO9RhxsyC8Zjm7lAntRplfm4pO2WXPXdvpakj7U@BGQSuN4sT1t3sIWXRnhmHKE2sotxSffU9XBy7Zq2wZ9hYRMn7g/vopKtuUdeFXG5LxSEYVhPG4UpC5kzvqpm4NnI2slh9dAOhckzWdqRMMvD0lAheWWx02Rvmk20isW68ik3WG5iCqlKlrD64/mGc/5SbJ5VW2fV9lm1c1btWvX4Dw" rel="nofollow noreferrer">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/241889/">241889</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




