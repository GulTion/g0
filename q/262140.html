<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::262140</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>032</td><td>ARM64 machine code</td><td>231104T151344Z</td><td><a href="https://codegolf.stackexchange.com/questions/262140/xor-of-independent-bernoulli-variables/266467#266467">Nate Eld</a></td></tr>
<tr d-ix="1"><td>030</td><td>JavaScript Node.js</td><td>230703T071849Z</td><td><a href="https://codegolf.stackexchange.com/questions/262140/xor-of-independent-bernoulli-variables/262381#262381">l4m2</a></td></tr>
<tr d-ix="2"><td>006</td><td>BQN</td><td>230624T082257Z</td><td><a href="https://codegolf.stackexchange.com/questions/262140/xor-of-independent-bernoulli-variables/262149#262149">ovs</a></td></tr>
<tr d-ix="3"><td>005</td><td>Thunno 2</td><td>230624T054945Z</td><td><a href="https://codegolf.stackexchange.com/questions/262140/xor-of-independent-bernoulli-variables/262144#262144">The Thon</a></td></tr>
<tr d-ix="4"><td>005</td><td>05AB1E</td><td>230629T094236Z</td><td><a href="https://codegolf.stackexchange.com/questions/262140/xor-of-independent-bernoulli-variables/262302#262302">Kevin Cr</a></td></tr>
<tr d-ix="5"><td>018</td><td>Mathematica Wolfram Language</td><td>230626T190508Z</td><td><a href="https://codegolf.stackexchange.com/questions/262140/xor-of-independent-bernoulli-variables/262235#262235">dirvine</a></td></tr>
<tr d-ix="6"><td>047</td><td>C++ gcc</td><td>230624T111734Z</td><td><a href="https://codegolf.stackexchange.com/questions/262140/xor-of-independent-bernoulli-variables/262158#262158">Noodle9</a></td></tr>
<tr d-ix="7"><td>027</td><td>R</td><td>230626T062628Z</td><td><a href="https://codegolf.stackexchange.com/questions/262140/xor-of-independent-bernoulli-variables/262214#262214">pajonk</a></td></tr>
<tr d-ix="8"><td>023</td><td>Haskell</td><td>230624T045643Z</td><td><a href="https://codegolf.stackexchange.com/questions/262140/xor-of-independent-bernoulli-variables/262141#262141">xnor</a></td></tr>
<tr d-ix="9"><td>007</td><td>Charcoal</td><td>230624T105343Z</td><td><a href="https://codegolf.stackexchange.com/questions/262140/xor-of-independent-bernoulli-variables/262156#262156">Neil</a></td></tr>
<tr d-ix="10"><td>005</td><td>Jelly</td><td>230625T195838Z</td><td><a href="https://codegolf.stackexchange.com/questions/262140/xor-of-independent-bernoulli-variables/262196#262196">Jonathan</a></td></tr>
<tr d-ix="11"><td>027</td><td>Julia 1.0</td><td>230625T125025Z</td><td><a href="https://codegolf.stackexchange.com/questions/262140/xor-of-independent-bernoulli-variables/262183#262183">MarcMush</a></td></tr>
<tr d-ix="12"><td>028</td><td>Python NumPy</td><td>230624T093830Z</td><td><a href="https://codegolf.stackexchange.com/questions/262140/xor-of-independent-bernoulli-variables/262152#262152">Albert.L</a></td></tr>
<tr d-ix="13"><td>030</td><td>Scala</td><td>230624T104118Z</td><td><a href="https://codegolf.stackexchange.com/questions/262140/xor-of-independent-bernoulli-variables/262155#262155">138 Aspe</a></td></tr>
<tr d-ix="14"><td>918</td><td>Nibbles</td><td>230624T071157Z</td><td><a href="https://codegolf.stackexchange.com/questions/262140/xor-of-independent-bernoulli-variables/262147#262147">Dominic </a></td></tr>
<tr d-ix="15"><td>039</td><td>Python 2</td><td>230624T050025Z</td><td><a href="https://codegolf.stackexchange.com/questions/262140/xor-of-independent-bernoulli-variables/262142#262142">xnor</a></td></tr>
<tr d-ix="16"><td>008</td><td>Pyth</td><td>230624T055929Z</td><td><a href="https://codegolf.stackexchange.com/questions/262140/xor-of-independent-bernoulli-variables/262145#262145">CursorCo</a></td></tr>
<tr d-ix="17"><td>024</td><td>Arturo</td><td>230624T052949Z</td><td><a href="https://codegolf.stackexchange.com/questions/262140/xor-of-independent-bernoulli-variables/262143#262143">chunes</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>ARM64 machine code, 32 bytes</h1>
<p>This function takes as input a pointer to an array of 64-bit doubles in <code>x0</code>, and a pointer to the end of the array (one past last element) in <code>x1</code>.  It returns the result in <code>d0</code>.  This is consistent with standard calling conventions for a C function declared as <code>double xor_bernoulli(const double *array, const double *end);</code>, to be called like <code>xor_bernoulli(arr, arr+len)</code>.</p>
<pre><code>2f00e400
fc408401
1f418002
1f418403
1e632840
eb01001f
54ffff63
d65f03c0
</code></pre>
<p>Assembly source:</p>
<pre class="lang-asm prettyprint-override"><code>    .global xor_bernoulli
    .text
    .balign 4
    // x0 = pointer to input
    // x1 = pointer to end

    // d0 will accumulate the probability
xor_bernoulli:
    movi d0, 0  // = 0.0
continue:   
    
    // Compute p(1-q) + q(1-p) = (p-pq) + (q-pq)
    // let d0 = p
    ldr d1, [x0], #8       // d1 = q, x0 += 8
    fmsub d2, d0, d1, d0   // d2 = p-pq 
    fmsub d3, d0, d1, d1   // d3 = q-pq
    fadd d0, d2, d3        // d0 = d2 + d3 = (p-pq) + (q-pq)

    cmp x0, x1
    b.lo continue

    ret
</code></pre>
<p>The fused multiply-subtract instruction is quite helpful here.  It seems a little inefficient that we compute <code>pq</code> twice, thus doing two multiplies where only one is really needed, but I couldn't find a way to avoid it without more instructions.</p>
<p>I thought about trying to use SIMD instructions, but the best I could come up with was the following for the loop body:</p>
<pre class="lang-asm prettyprint-override"><code>continue:
    // on entry, v0 = [0, p]
    ld1 {v0.d}[1], [x0], #8          // v0 = [q, p]
    ext v1.16b, v0.16b, v0.16b, #8   // v1 = [p, q]
    fmls v0.2d, v0.2d, v1.2d         // v0 = [q-qp, p-pq]
    faddp d0, v0.2d                  // v0 = [0, q-qp + p-pq]
</code></pre>
<p>which is the same length.  We can do both multiply-subtracts in parallel with vector <code>fmls</code>, but we need the extra <code>ext</code> shuffle instruction to make a copy with <code>p</code> and <code>q</code> swapped.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 30 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>a=&gt;a.map(p=&gt;x+=p-x*p*2,x=0)&amp;&amp;x
</code></pre>
<p><a href="https://tio.run/##bU7dCoIwFL73KbwKNR1nc26NWM8g3ooXo1oU1YZF@PaW20KJYLDv53zfORf1Uo99f7bP4m4Ox1HLUcmdQjdlEyt3w1raYshsRvJBQrpaDWMj26gFhEnZ5QHkMaDKsQ/KY@zeBP5p8zDi1UT4D1tqZckmShmfPsCBCe9@gJO9y0IUeMhu3DQh1K0EXyFchFMSlgrmm8V8HcH8e5EzhW8AcC5QLzKyEDGlXdRtI236pI6Njpt0b@4Pcz2iqzklOqnTdDu@AQ" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p><a href="https://codegolf.stackexchange.com/a/262142/76323">Port</a></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://mlochbaum.github.io/BQN/" rel="nofollow noreferrer">BQN</a>, <s>8</s> 6 bytes<sup><a href="https://github.com/mlochbaum/BQN/blob/master/commentary/sbcs.bqn" rel="nofollow noreferrer">SBCS</a></sup></h1>
<p>Based on <a href="https://codegolf.stackexchange.com/a/262141/64121">xnor's Haskell answer</a>, 2 bytes saved by att and BQN's extensions of logical functions to real numbers.</p>
<pre class="lang-none prettyprint-override"><code>(∨-∧)´
</code></pre>
<p><a href="https://mlochbaum.github.io/BQN/try.html#code=RiDihpAgKOKIqC3iiKcpwrQKCnRlc3RzIOKGkCDin6hbMC4xMjNdLCBbMC4xMjMsIDAuNV0sIFswLCAwLCAxLCAxLCAwLCAxXSwgWzAsIDAsIDEsIDEsIDAsIDEsIDAuNV0sIFswLjc1LCAwLjc1XSwgWzAuNzUsIDAuNzUsIDAuNzVdLCBbMC4zMzYsIDAuNDY3LCAwLjAxNiwgMC40NjldLCBbMC40NjksIDAuMDY3LCAwLjY3NSwgMC43MDddLCBbMC4zODYsIDAuMjI0LCAwLjUwNywgMC4wOTksIDAuNzQyXSwgWzAuNzk2LCAwLjAxOSwgMCwgMSwgMC4yMTddLCBbMC43NTYsIDAuOTI0LCAwLjAwMSwgMC4wNDYsIDAuOTYyLCAwLjAwMSwgMC4xNDRd4p+pCgo+4ouI4p+cRsKodGVzdHMK" rel="nofollow noreferrer">Run online!</a></p>
<p>Spells the <em>XOR</em> out very literally now: <code>∨</code> without <code>∧</code>.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/Thunno/Thunno2" rel="nofollow noreferrer">Thunno 2</a>, 5 <a href="https://github.com/Thunno/Thunno2/blob/main/docs/codepage.md" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>Ḍ⁻p⁺½
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m728JKM0Ly_faMGCpaUlaboWax7u6HnUuLvgUeOuQ3uXFCclF0MlFqyONtAzMtUBEbEQIQA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Port of xnor's third Haskell answer.</p>
<h4>Explanation</h4>
<pre class="lang-python prettyprint-override"><code>Ḍ⁻p⁺½  # Implicit input
Ḍ      # Double the input
 ⁻     # Decrement each
  p    # Take the product
   ⁺   # Increment it
    ½  # Halve
       # Implicit output
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 5 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>·&lt;P&gt;;
</code></pre>
<p>Port of <a href="https://codegolf.stackexchange.com/a/262141/52210"><em>@xnor</em>'s third Haskell answer</a>, taking advantage of the <span class="math-container">\$1-p\$</span> input probabilities.</p>
<p><a href="https://tio.run/##yy9OTMpM/f//0HabADvr//@jDfSMTHVARCwA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/V9mWKnrYq@k8KhtkoKS/f9D220C7Kz/u9iraxgf3mVfCZcxLNa1V9fU@R8dbaBnaGQcq6MAYegY6JmCOToGOoZACCTRuHAVeuamOiAChYMkYmxsBuSZmJkDSQNDCNsSIgVkgATBUmYQTQbmUF0WIJVGRiYgewzAei1Bis1NjKAWWZqBDbSEOsbI0BzmApCEJVingQFIysAELGJmBBcxNDGJjQUA" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>·      # Double each value in the (implicit) input-list
 &lt;     # Decrease each value by 1
  P    # Pop and push the product of the list
   &gt;   # Increase it by 1
    ;  # Halve it
       # (after which the result is output implicitly as result)
</code></pre>
</div>
<div id="pu5" class="pu"><h1>Mathematica (Wolfram Language) 18 bytes</h1>
<p>This is an infix example of xnor's idea.</p>
<pre><code>#1+#2-2#1#2&amp;~Fold~
</code></pre>
<p>This gives the correct output on all the test cases. I would be interested to know if the arguments could be shortened using some kind of Sequence[].</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C++ (gcc)</a>, <sup><s>53</s></sup> 47 bytes</h1>

<pre class="lang-cpp prettyprint-override"><code>[](auto&amp;v,auto&amp;x){x=0;for(auto p:v)x+=p-x*p*2;}
</code></pre>
<p><a href="https://tio.run/##dVNdr6IwEH33V0zYZCMKppTPivqy2V@hPnCxeskqEFsNWcNfX7edwoXr3TVKZ858nTmWvK7dU54/s5us4Lh@bvdTbX6/O3g09qNZk/RYXRGGenm3m/m6dptZPaNp@0wn34oyP98OHFb5JZPvmxFQVEJeeXYZYwopytMYufNcVtfNpCglXLKinNqPCaiPkIfl0gRXY/t4rjK52YDkQgpYw@NBFh71WweM4QBZhOgpywEPv9r4FzYkL@JQO/GLN8Z8P9JuEMX6IF7nMRNVBsImGnWlJO5qE8ymNMCRxLRgWBIHtBvKItOZDeyoF/eMMMhMB0IwSgIDRnQEekHQtukXEY1wwJta@fygpRsE67XQD99wDyOKZ8CYHxK1QNJtzCLPU6OCzmNRmBAaExb7AXLz/STxiR8lKARlXuSxJEwoUVVBRyyvSiEhf8@uM/Xk@S9@3e41JWvX/KS7hv1Qv9ByYOz7VletLiRM9YUpygNvVBlJO3NlVhbFbz7tN7VTmM8xbIO5W/@RRqpOeK22mL1PPyebuwuC1yrP2lpDGPmYlfC9AX7mF674LUGOZ360yqubhNUKe6mjS08/J5o5SoIBb4eRmjKIEYepdISdviRw1aLX4ctWb1V1hjoT@jVCWsfsTUwFuMBtpaTH3fhFgp63tQd3AxZyR9/Y/T@pe@4R35Ud@3bSPv/kx3N2Ek/XVc3Wp/I2n9PsLw" rel="nofollow noreferrer" title="C++ (gcc) – Try It Online">Try it online!</a></p>
<p><em>Port of <a href="https://codegolf.stackexchange.com/users/20260/xnor">xnor</a>'s <a href="https://codegolf.stackexchange.com/a/262142/9481">Python</a> answer</em><br />
<em>Saved 6 bytes thanks to <a href="https://codegolf.stackexchange.com/users/112488/c">c--</a></em></p>
</div>
<div id="pu7" class="pu"><h1><a href="https://www.r-project.org/" rel="noreferrer">R</a>, 27 bytes</h1>

<pre class="lang-r prettyprint-override"><code>function(p).5-prod(1-2*p)/2
</code></pre>
<p><a href="https://tio.run/##bVDJisMwDL3PVwTmkgxNqs2ydWh/piXQSxvK9PtTL4kTSsEg@22S/JzH0zy@7pf/2@PeTt3g@un5uLbY09/UHWke20sLAxJ33W/Tn5t8/6noIQKuUq4QETw0mE@6LDR@Jb8GDN4l3G8E@0/qQ@CUVgWzJlLUpwK4vKxqxYwdcNCAungincXFo0s8@J1HEQFQVke0Jw2R5BWgNLMc44X2zdQFIA/mWWTdwrQMZ9s3EG7tmENgYA1166y30i3OkYsUUGkHokhNUTJUtOACQRxe5jc" rel="noreferrer" title="R – Try It Online">Try it online!</a></p>
<p>Based on <a href="https://codegolf.stackexchange.com/a/262141/55372">@xnor's Haskell answer</a>.</p>
</div>
<div id="pu8" class="pu"><h1><a href="https://www.haskell.org/" rel="noreferrer">Haskell</a>, 23 bytes</h1>

<pre class="lang-hs prettyprint-override"><code>foldr1$ \x p-&gt;x+p-2*p*x
</code></pre>
<p><a href="https://tio.run/##bU7LbsIwELz3K/bAASixbMfYNRKc@IMeIQc3OBDVOFYSRL6@BtsRD6nSSrMzs7O7J9X9amN8td77qjGHlkxgP4DLNsOny@jczQd/VrWFNdS2160q@wlcrKmt7hCclZt2p@aKKjRttTrAagXffVvbI2Qb2G2by4/RxWwGKAb8DiNC8@Ij4QIwWgZybxZAYoXmH@kxisQy9OKdvEh5zgNjXATAZGQymneMajL5GMQiJb/iLKUsXsNpgYwJwWg6KHlaK59/USLGZ6InUx7jaGKWRE5fRMJY8VdWRh07n5XO3QA" rel="noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
<p>If you have two events with probabilities <code>x</code> and <code>p</code>, the probability of their xor is <code>p*(1-x)+x*(1-p)</code>, or <code>x+p-2*p*x</code>. <code>foldr1</code> folds this binary operator over the whole list.</p>
<p>A different approach that's longer in Haskell but may be golfier in other languages is to take the list product, but conjugated by the mapping <code>y=1-2*x</code>.</p>

<pre class="lang-hs prettyprint-override"><code>(\y-&gt;(1-y)/2).product.map(\x-&gt;1-2*x)
</code></pre>
<p><a href="https://tio.run/##bU7LbsMgELz3K/bQg6kCAUygjhSf@gc9xj5QBydWCbb8UJKfrxvAalOp0kqzM7Ozuyc9fBpr53pXzElxw3nC8A2tOSJd3x6maiRn3SXFFecM85crms@6cbCDxo2m19X4DJOzjTMDAT84nNoLqUnSG32A7Rbex75xR8A57N/a6cOaEiEgITDvKWE8LZ8iroCSjSf3ZgUslG/@kX5Gidr4Xv0lD1KaSs@EVB4oW1gWzDsGNZpyCVIVk69hlnMRrtG4IAsJJXg8mMm4Nvv9izO1PBO8LOYpDSYVUZT8QWRClF9VbfVxmHHVdd8" rel="noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
<p>Or, since the challenge allowing inputs and outputs of one minus probabilities, we could conjugate by <code>y=2*x-1</code> instead:</p>

<pre class="lang-hs prettyprint-override"><code>(\y-&gt;(y+1)/2).product.map(\x-&gt;2*x-1)
</code></pre>
<p><a href="https://tio.run/##bU7LboMwELz3K/bQA26D6wdgO1I49Q96DBxcYhJUxyAeavLzpWCnaipVWml2ZmfGPunhw1g717tijoprnEfXZ4peGMJd3x6masRn3UXFJc7Z0yWmaD7rxsEOGjeaXlfjI0zONs4MGFbjcGo/cY2j3ugDbLfwNvaNO0Kcw/61nd6tKREC7APznmApRPkQcAMEpwuhG1iG@FmXf6QfK8EsXXf2l9xJWZZ4M@crKHlj1B8X9Go48ltQ8ZCk3itEtkKiQgGhoVyGB0kSan8/iIUMeZb4Gwl5pZSHNIhc3okyzcqvqrb6OMxx1XXf" rel="noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
</div>
<div id="pu9" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, <s>9</s> 7 bytes</h1>
<pre><code>Ｉ⊘⊕Π⊖⊗Ａ
</code></pre>
<p><a href="https://tio.run/##S85ILErOT8z5/z@gKDOvRMM5sbhEwyMxpyw1RcMzL7koNTc1rwTIDijKTylNLtFwSUWIueSXJuWA1RWUlmhoQoH1///R0QZ6RiYmOgoGegbmZiDK0tISTJlCBI0tkAQtTM1iY//rluUAAA" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation: Port of @xnor's second Haskell answer, but thanks to @xnor, using <code>q</code> for I/O instead of <code>p</code>.</p>
<pre><code>      Ａ Input list
     ⊗  Vectorised doubled
    ⊖   Vectorised decremented
   Π    Take the product
  ⊕     Incremented
 ⊘      Halved
Ｉ       Cast to string
        Implicitly print
</code></pre>
<p>Previous 9-byte answer that uses <code>p</code> for I/O:</p>
<pre><code>Ｉ⊘⁻¹Π⁻¹⊗Ａ
</code></pre>
<p><a href="https://tio.run/##S85ILErOT8z5/z@gKDOvRMM5sbhEwyMxpyw1RcM3M6@0WMNQRyGgKD@lNLkEIeCSX5qUA1ThmVdQWqKhCQXW//9HRxvomZua6SgY6FkamYAoAwNDMGUCETQzQhI0NDGJjf2vW5YDAA" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation: Port of @xnor's second Haskell answer.</p>
<pre><code>   ¹        Literal integer `1`
  ⁻         Subtract
      ¹     Literal integer `1`
     ⁻      Vectorised Subtract
        Ａ   Input list
       ⊗    Vectorised Doubled
    Π       Product
 ⊘          Halved
Ｉ           Cast to string
            Implicitly print
</code></pre>
<p>In succinct mode the input is actually implicit which would save me a byte on the above answers but it makes the verbose code look odd.</p>
<p>A port of @xnor's Python answer is 16 bytes:</p>
<pre><code>≔⁰ηＦθ≧⁺×ι⁻¹⊗ηηＩη
</code></pre>
<p><a href="https://tio.run/##Tcy9CsIwGIXh3av4xi8QS1JiRTqJroUibqVDrLUJxETz4@1HahanF54DZ1LST06anI8h6MUio6BIu3k4D/gm0MlXGS56URF7kwKFq37OATWFTtsUkFM4u3Qz8x0VIaQc9F7biCcZ4optzsPAqv2uocCqQy3WMMZ/EQWb@g@5EOOYtx/zBQ" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>≔⁰η
</code></pre>
<p>Start with a 0% chance that 0 variables have odd parity (in the computing sense).</p>
<pre><code>Ｆθ≧⁺×ι⁻¹⊗ηη
</code></pre>
<p>For each variable, update the chances that the total parity is odd.</p>
<pre><code>Ｉη
</code></pre>
<p>Output the final parity.</p>
<p>My original approach was 27 bytes:</p>
<pre><code>⊞υ¹Ｆθ≔⁺×υ⁻¹ι×υιυＩΣΦυ﹪Σ⍘κ²¦²
</code></pre>
<p><a href="https://tio.run/##TYuxCsIwFEV3vyLjC8SShKiIkwpuQqFupUOotQ2mDeYl/n5sI4jT5R7OaQftW6dtSmXEASIjgh5WD@cJvCg5Ipp@gtJGhJsZO1yEq5nmKxgxlDLyw/nFOS69mQKcNQao4ggXY0Pnc@ju0boMTxq7KsxiD09G5JLKlOqaF7vNlhFe7KVahnORR33hVv5BoVTTpPXbfgA" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>⊞υ¹
</code></pre>
<p>Start with a 100% chance of 0 variables.</p>
<pre><code>Ｆθ≔⁺×υ⁻¹ι×υιυ
</code></pre>
<p>For each variable, calculate the chances of that variable being <code>0</code> or <code>1</code>, given the chances of the previous variables.</p>
<pre><code>ＩΣΦυ﹪Σ⍘κ²¦²
</code></pre>
<p>Sum the chances where the parity (in the computing sense) is odd.</p>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 5 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>ḤCPCH
</code></pre>
<p>A monadic Link that accepts the probabilities as a list of floats in <span class="math-container">\$[0,1]\$</span> and yields the XOR probability as a float.</p>
<p><strong><a href="https://tio.run/##y0rNyan8///hjiXOAc4e/3UOtx@d9HDnjEdNa7IeNcxRsLVTeNQwVzPy///oaAM9QyPjWB0uBQhLR8FAzxTCBTJ1FAzBCMTAKoikXM/cFMQzR@eiCBobm4H4JmbmIMrAEMqzhEoDWWBxiLQZVLOBOUy3BVi9kZEJ2F4DiCGWYD3mJkYwiy3NIIZbItxoZGgOdxZY1hJihoEBWNrABCJoZoQkaGhiAtQTCwA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>
<h3>How?</h3>
<pre><code>ḤCPCH - Link: probabilities, P
Ḥ     - double {P} (vectorises)
 C    - complement (vectorises) e: 1-e
  P   - product
   C  - complement
    H - halve
</code></pre>
</div>
<div id="pu11" class="pu"><h1><a href="http://julialang.org/" rel="nofollow noreferrer">Julia 1.0</a>, 27 bytes</h1>

<pre class="lang-julia prettyprint-override"><code>p&gt;t...=(t.|&gt;i-&gt;p+=i-2p*i;p)
</code></pre>
<p><a href="https://tio.run/##ZY9dTsQgFIXfZxVkfKHaEv5/YkrcgCswPjAZJsE0lbTV@OACdJtupFJoHUcJCdzvHO65PL10wZG3eY52Qgi1cELvNjQ23rShofE63MZqPj0PIIDQg8G7Yxd6P8JqB9Jy9QG0wL@6DsF7PzkU3TB6BMfYhQmGet/YfVUVbxxCP3U9dKC1wEKX0lbl6s6Nox@mjYKvzw9w2Pn@OD9gRCh7BI0F@bYroE6VWKlILNU1IHkvl6yQ//zvM6TEgtTGmLqgF5qQNIuMyYVzqZYDk7Uyq40bwwRmWmoiF3tSsq/Y5doUqx@7JARjwrM5PVtkSnmeFJcIkzsoTs8RUmhMFTaKcZ4nNrJMY84fpWQLYUxrhpnU5XPZakpGis4HL1DSX5BwvjaQ1BBJjBaa4jQt/wY" rel="nofollow noreferrer" title="Julia 1.0 – Try It Online">Try it online!</a></p>
<p>Based on <a href="https://codegolf.stackexchange.com/a/262142">xnor's answer</a></p>
<p>29 bytes with recursion <a href="https://tio.run/##ZY9dTsQgFIXfuwoyT1RbwuWfhxI34AqMD0ymJpimNm01LkG36UYqPx3HUUIC9zuHey7Pr0Pw8L5tk1sJIR2Glk31jcOpqm@nyuG6o9vTy4wCCiOae38awtgvuK5QXL45og71b34g@L5fPZn8vPQEL9MQVhyaQ@sOdV280xzGdRixR51DDvuUUJQ7vyz9vJ4h@vr8QMeqH0/bAyXA@CNqHcq3qoAmVnKnMrJYNwjyTpeswH/@9xnRMiF9Zlxf0StNKpZFzlXiQul0UNgru9uEtVxSbpQBlexRyb5iV3tTqn/sCoBSENkcnyWZMZEnpSXC5g5asEuEkoYyTa3mQuSJrSrT2MtHGZxDODeGU65M@Vy22pIRo/MhClTsFwQh9gaKWVBgjTSMxmnFNw" rel="nofollow noreferrer" title="Julia 1.0 – Try It Online">Try it online!</a></p>
<p>28 bytes with <code>reduce</code> <a href="https://tio.run/##ZY9LbsMgFEXnWQXJCLe2xf8ziNUNdAVVByQhEhVykO1U7g7abXYjLgYnaVqEBO/cy7uPt7N3Bo/TtPbbzh7OewvhWIaiasbHUJHxIZS@mI6nDjjgWtBZc/CutT0sViAuU@7AFth342v4bAdTB9P1toZ98G6ArtxUzaYosjd0rh18Cw3YNmC9P4UPaBbpyfS97YYrBd9fn2C3su1hekE1JvQVVA1It1UGZaz4QnlksS4BTnu@JAX/53@f1ZLPSF4YlXf0TuOCJJFSMXMm5HwgvFR6sTGtKUdUCYXFbI9K8mW7WJoiebULjBHCLJnjs1kmhKVJUY7QqYNk5BYhuEJEIi0pY2liLfI0@vZRgi8hlCpFERUqfy5Zdc6I0elgGQryC2LGlgaCaCywVlwRFKdlPw" rel="nofollow noreferrer" title="Julia 1.0 – Try It Online">Try it online!</a></p>
</div>
<div id="pu12" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a> NumPy, 28 bytes</h1>
<pre class="lang-python prettyprint-override"><code>lambda i:.5-(1-2*i).prod()/2
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=ZZFNTsMwEIXFNqewuopREvz_U6k9QW8ALAJNhKUktpK0Uk_Cgk0lBKfgInAaHDulFKRInvne87yx8vLuDuOT7Y6v9erubTfWufpoyvZhWwKzLHie4pxcG1i43m5TeEOi5XNvWmf7EXS71h1AOYDOJbXtwQaYDlhXdSmCywSYzIIVaEuXVvuyyTbF4Bozpot8vYDQy17sXFH2fXlIjQeuN92Y1r7ObOYVMzw2dqhm%C2%B8AmFMP35dPd-iAhN6D_I1CFUSQeY7PlPume8zgMM3FUHB__nfa4XkE5InRuUFvdC4IEGkVEycCTkdCM-dnm1Ma8oRVUJhMdm9EnzRLuahSP7YBcYIYRbM_tokE8LCpihG6DBBMnKOEFwhIpGWlLGwsRZxG31-KMGnEEqVoogKFR8XrDpm-OhwsAgF-QUxY_MAQTQWWCuuCPLbsiT-oG8" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Takes a numpy array. Essentially a port of @xnor's approach (not the one they use but the one they mention in their Haskell answer).</p>
<h2>How?</h2>
<p>Writing <span class="math-container">\$q_j := 1- p_j\$</span> compare the products (1)
<span class="math-container">\$\prod q_j-p_j\$</span> and (2) <span class="math-container">\$\prod q_j+p_j\$</span>. (1) can be rewritten (1') <span class="math-container">\$\prod 1-2p_j\$</span>, (2) is just a fancy way of writing <span class="math-container">\$1\$</span>.</p>
<p>If we expand the two products (1,2) we get the same terms up to sign.
In (2) all the terms are positive, in (1) it depends on whether there is an odd or even number of <span class="math-container">\$p_j\$</span>'s in the term. If we subtract (1) from (2) the terms with an even number of <span class="math-container">\$p_j\$</span>'s cancel and those with an odd number of <span class="math-container">\$p_j\$</span> occur twice each.
We can therefore compute the desired value by taking the product (1') subtracting it from 1 and dividing by 2</p>
<p>Writing this out in symbols is a bit heavy on notation:</p>
<p><span class="math-container">\$2\sum_{I\subseteq \{1,...,n\}:|I|\text{ odd}}\prod_{j\in I}p_j\prod_{j\not\in I}q_j \\ =1-\sum_{I\subseteq \{1,...,n\}}\prod_{j\in I}-p_j\prod_{j\not\in I}q_j \\=1 - \prod q_j-p_j =1 - \prod 1-2p_j\$</span></p>
</div>
<div id="pu13" class="pu"><h1><a href="https://www.scala-lang.org/" rel="nofollow noreferrer">Scala</a>, 30 bytes</h1>
<p>Golfed version. <a href="https://ato.pxeger.com/run?1=bVHNattAEKY5qi8x9SWr1F5kWbFigwyFXgIuDbilByHMRl4l2653l9WqsQl-kl6aQ3vpO_RB8jTdH9e1oSCYme-bb-ab1befbU04Gf0qewMhH4gWver57IytldQGPIeZxAuzuhZYU7KaM0GjE7ozjOMPehtF8vYzrQ28I0zAYwSwog2sbYGIvmun8EZrsi0XRjNxV8VT-CiYgcJ3AlwbqomRGtdSGCY6wvkW_V0Y-xYAbMgX-umecYqW8KoA0XF-4NZEIUV0S9_K7pbT9kDUknPn6xFq0lJYyDVFnLUmhmIGLoHd8Yz6IGykNVDfI2UdGy4cvov2dx1vQkyozkwhnGYve68Mk6Kc29ll6Kmqw6VfCYfWdipF7aNaoWX8AOzRG00btkG9shcHYNE1Hqh6wZh9anSix63izKDz_nnsD1hiy66xkWF1bDPnxMVgLNwROSP1FB27LGZ7TfGjM83g6vfS_vRVV9M5bQxCm76Ki9nmtRqkF-piE4emp12I359fvCwTPExHVRRiHxJ86Qqb9GHoP5f8Bzq04vzS5flpcQSNRmNXZePchWS4ryaetNGjgRzvhUkelFe-N00zvy0JAyZekWdpWDgZh7GTf77SYb4347lJ0CeJJ5MsgOP0CBxmWRUe5Q8" rel="nofollow noreferrer">Attempt this online!</a></p>
<pre class="lang-scala prettyprint-override"><code>_.reduceLeft((x,p)=&gt;x+p-2*p*x)
</code></pre>
<p>Ungolfed version. <a href="https://ato.pxeger.com/run?1=bVLNitswEKY9ui8xzWXlbVbYjtfeBFIo9LKQ0kK69GDMojjyrlpZErJcEpY8SS-5tA-1T1NZcrMOFAwz833z881Yv_60FeFkdjz-7kx9dfP8-o41SmoDDsdM4rXZ3gqsKdmumKDBGd0ZxvFXvQ8CuflOKwOfCBPwFABsaQ2NDRDRD-0CPmhN9sXaaCYeynABd4IZWLpMgFtDNTFS40oKw0RHON-jfwNDlwKADflBvz0yTtE9vF2C6Dg_cQ1RSBHd0o-y23DanohKct7reoKKtBTWsqGIs9aEsHwPvQOHcY9KNqozLzNraWVUj0hZ3YaLHj8Ew3bjeYgJW7cAv6Dd77MyTIpiZScUPqcsT_v-JBxam6kUtae1hZZxDbBDv2hasx2aFJPQA-uudkA58cLswdFZPW4VZwZdTC9Ct8Y9tmyDjfSjQ-v1SnrrhY33GHZGoms2VNt_NRZtV_HeSfyQZh_EtqvoitYGod0UlLvoDt6BgitI4NLaS9j5ix0C_7qGR3Z8fvWmiHCczMrA2ylE-LoPrDOF2H298x_olIrz697Pz4MRNJtlfZRmeW-ieIjmjrTWoZ7MhsIo95U3LjdJUjct8g3mriJPEz9wnvm28xddSZwPYhw39_VR5Mgo9WCWjMA4TUt_lL8" rel="nofollow noreferrer">Attempt this online!</a></p>
<pre class="lang-scala prettyprint-override"><code>import scala.io.StdIn.readLine
import scala.util.Try

object Main {
  def main(args: Array[String]): Unit = {
    Iterator.continually(readLine)
      .takeWhile(_ != null)
      .map(parseDoubles)
      .collect { case Some(list) =&gt; list }
      .map(compute)
      .foreach(println)
  }

  def parseDoubles(input: String): Option[List[Double]] = {
    val strippedInput = input.stripPrefix(&quot;[&quot;).stripSuffix(&quot;]&quot;)
    Try(strippedInput.split(',').map(_.trim.toDouble).toList).toOption
  }

  def compute(numbers: List[Double]): Double = {
    numbers.reduceLeft((x, p) =&gt; x + p - 2 * p * x)
  }
}
</code></pre>
</div>
<div id="pu14" class="pu"><h1><a href="http://golfscript.com/nibbles/index.html" rel="nofollow noreferrer">Nibbles</a>, 9 bytes (18 nibbles)</h1>
<pre><code>/$:-+!\$_**`(!$_*~
</code></pre>
<p>Nibbles natively supports neither floating-point arithmetic nor fractions, so input is a list of 2-element lists of integers representing the numerator &amp; denominator of each probability expressed as a fraction.<br />
We then reduce the list with (in pseudocode):<br />
<code>function( [xnum, xden], [pnum, pden] ) = [xnum*pden + pnum*xden - 2*xnum*pnum, xden*pden]</code><br />
and output the final probability as (<a href="https://codegolf.meta.stackexchange.com/questions/9263/which-number-formats-are-acceptable-in-output/9267#9267">non-reduced</a>) numerator &amp; denominator.</p>
<pre><code>/$:-+!\$_**`(!$_*~      # full program
/$:-+!\$_**`(!$_*~$     # with implicit arg added;
/$                      # fold over input with this function:
    +                   #   first, get the sum of
     !                  #     zipping together 
      \$                #       reverse of left element
        _               #       and right element
         *              #     by multiplication
   -                    #   now, subtract from this
          *      ~      #     2x
           `(           #     first element 
                        #     (and remember 2nd element) of
             !          #     zipping together
              $         #       left element
               _        #       and right element
                *       #     by multiplication
 :                      #   and join to the rememebered 2nd element
</code></pre>
<p><a href="https://i.stack.imgur.com/EAqMw.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/EAqMw.png" alt="enter image description here" /></a></p>
</div>
<div id="pu15" class="pu"><h1><a href="https://docs.python.org/2/" rel="noreferrer">Python 2</a>, 39 bytes</h1>

<pre class="lang-python prettyprint-override"><code>x=0
for p in input():x+=p-x*p*2
print x
</code></pre>
<p><a href="https://tio.run/##bU7RCoMwDHz3K4pPm3OSxtqugl8yfBoOhaFFlHVf72wim4NB4HJ3uSTuNbVDj8uz7R6NkGXjm1scx4uvILoPo3Ci69dy83Q4lv5UubNPXIKRG7t@En4Js1fIJOZ1xJgKyIpA1iYVkio0f6TPaGaK0JtfspPyXAemtAkAcmOWzBVJZVNvQTCcvNAsoqJrwAssJYxCPmg1r7Xfv1Ca7RnyLOcByATFosadKJWq3w" rel="noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
<p><strong>Also 39 bytes:</strong></p>

<pre class="lang-python prettyprint-override"><code>lambda l:reduce(lambda x,p:x+p-x*p*2,l)
</code></pre>
<p><a href="https://tio.run/##bU7LDoIwELz7FT22WElbSmtJ/BLlgAKBpGJDIOLXV/qIYmKyyezM7OyueU3dY2C2PV2sru7XugK6GJt6vjUw8gWbYtmbw5KYhGGN7LPrdQNoYcZ@mGAL@8HME0QI2TNJKcvKXUAMSJo7sjYYUF@u@SN9RlOZu17@ko2UZcIxLqQDQiNT3lzRq8EUMUhkSB79LGPcXyNhgfIJyVk4qERYq75/MSrjM95TIU@INwkPomAbkXJevgE" rel="noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
<p>Folds (reduces) the binary function <code>(x,p)-&gt;x+p-2*p*x</code> like in <a href="https://codegolf.stackexchange.com/a/262141/20260">my Haskell answer</a>. The built-in <code>reduce</code> was removed in Python 3.</p>
<h1><a href="https://docs.python.org/3.8/" rel="noreferrer">Python</a>, 36 bytes</h1>

<pre class="lang-python prettyprint-override"><code>f=lambda p=2,*t:p&gt;1or(1-2*p)*f(*t)+p
</code></pre>
<p><a href="https://tio.run/##bU7dCoIwFL7vKXY5l8nZT5sT7EXCCyNFwXTIKnr65TYpg8bgfD/nO@eYl@2mkedmdq4th/p2udbIlCwltjAnOs2YHhgxCWkxscneuGfXDw2ihZn70eJFbR71gPvR3C1OlufOkFHGq12sKYLs6MkCUkTD9@CP9GnN1NFj9Us2EufSMyGVL0BXpoO51KBGU65BUDGZh17GRNgGcYAOCSVYXKhlHKu/dzGq1mOCp2MeIJggoijZRqRCVG8" rel="noreferrer" title="Python 3.8 (pre-release) – Try It Online">Try it online!</a></p>
<p>Takes input splatted, and outputs 1 minus the probability. Works for Python 2 or 3.</p>
</div>
<div id="pu16" class="pu"><h1><a href="https://github.com/isaacg1/pyth" rel="nofollow noreferrer">Pyth</a>, 8 bytes</h1>
<pre><code>.U_-*Zty
</code></pre>
<p><a href="https://tio.run/##K6gsyfj/Xy80XlcrqqTy//9oAz1jYzMdBQM9EzNzEGVgCOVZxgIA" rel="nofollow noreferrer" title="Pyth – Try It Online">Try it online!</a></p>
<h3>Explanation</h3>
<pre><code>.U_-*ZtybbQ    # implicitly add the bbQ sauce
               # implicitly assign Q = eval(input())
.U        Q    # reduce Q on lambda b, Z with no starting value
       yb      #       2*b
      t        #       2*b-1
    *Z         #    Z*(2*b-1)
   -     b     #    Z*(2*b-1)-b
  _            #  -(Z*(2*b-1)-b) = b-Z*(2*b-1)
               #                 = b-Z*2*b+Z
               #                 = b+Z-2*b*Z
</code></pre>
</div>
<div id="pu17" class="pu"><h1><a href="https://arturo-lang.io" rel="nofollow noreferrer">Arturo</a>, 24 bytes</h1>
<pre class="lang-arturo prettyprint-override"><code>$=&gt;[0loop&amp;'p-&gt;+p-p*2*&lt;=]
</code></pre>
<p><a href="http://arturo-lang.io/playground?EFXWir" rel="nofollow noreferrer">Try it!</a></p>
<p>Port of xnor's <a href="https://codegolf.stackexchange.com/a/262142/97916">Python answer</a>.</p>
<pre><code>$=&gt;[           ; a function where input is assigned to &amp;
    0          ; push 0 to stack
    loop&amp;'p-&gt;  ; loop over input, assign current element to p
    &lt;=         ; duplicate top of stack
    2*         ; double
    p*         ; multiply by p
    p-         ; subtract from p
    +          ; add to sum (the 0 we pushed)
]              ; end function
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/262140/">262140</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




