<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::52321</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>204</td><td>Scala</td><td>230520T105652Z</td><td><a href="https://codegolf.stackexchange.com/questions/52321/determine-ranges-from-a-list-of-values/261093#261093">138 Aspe</a></td></tr>
<tr d-ix="1"><td>035</td><td>Ly</td><td>230522T162636Z</td><td><a href="https://codegolf.stackexchange.com/questions/52321/determine-ranges-from-a-list-of-values/261163#261163">cnamejj</a></td></tr>
<tr d-ix="2"><td>187</td><td>Haskell</td><td>230520T204719Z</td><td><a href="https://codegolf.stackexchange.com/questions/52321/determine-ranges-from-a-list-of-values/261104#261104">Roman Cz</a></td></tr>
<tr d-ix="3"><td>015</td><td>Vyxal S</td><td>230519T122558Z</td><td><a href="https://codegolf.stackexchange.com/questions/52321/determine-ranges-from-a-list-of-values/261072#261072">lyxal</a></td></tr>
<tr d-ix="4"><td>016</td><td>Japt S</td><td>201031T151127Z</td><td><a href="https://codegolf.stackexchange.com/questions/52321/determine-ranges-from-a-list-of-values/214497#214497">Shaggy</a></td></tr>
<tr d-ix="5"><td>020</td><td>Husk</td><td>201031T143231Z</td><td><a href="https://codegolf.stackexchange.com/questions/52321/determine-ranges-from-a-list-of-values/214494#214494">Razetime</a></td></tr>
<tr d-ix="6"><td>016</td><td>Jelly</td><td>201031T091014Z</td><td><a href="https://codegolf.stackexchange.com/questions/52321/determine-ranges-from-a-list-of-values/214481#214481">caird co</a></td></tr>
<tr d-ix="7"><td>nan</td><td>JavaScript ES6</td><td>150626T203222Z</td><td><a href="https://codegolf.stackexchange.com/questions/52321/determine-ranges-from-a-list-of-values/52326#52326">rink.att</a></td></tr>
<tr d-ix="8"><td>162</td><td>Java</td><td>150629T005802Z</td><td><a href="https://codegolf.stackexchange.com/questions/52321/determine-ranges-from-a-list-of-values/52382#52382">vijrox</a></td></tr>
<tr d-ix="9"><td>033</td><td>CJam</td><td>150628T013109Z</td><td><a href="https://codegolf.stackexchange.com/questions/52321/determine-ranges-from-a-list-of-values/52365#52365">Reto Kor</a></td></tr>
<tr d-ix="10"><td>120</td><td>Python 2</td><td>150626T203923Z</td><td><a href="https://codegolf.stackexchange.com/questions/52321/determine-ranges-from-a-list-of-values/52327#52327">Ruth Fra</a></td></tr>
<tr d-ix="11"><td>191</td><td>Java</td><td>150627T002236Z</td><td><a href="https://codegolf.stackexchange.com/questions/52321/determine-ranges-from-a-list-of-values/52336#52336">TNT</a></td></tr>
<tr d-ix="12"><td>159</td><td>SWIProlog</td><td>150626T202651Z</td><td><a href="https://codegolf.stackexchange.com/questions/52321/determine-ranges-from-a-list-of-values/52324#52324">Fatalize</a></td></tr>
<tr d-ix="13"><td>070</td><td>Ruby</td><td>150626T214103Z</td><td><a href="https://codegolf.stackexchange.com/questions/52321/determine-ranges-from-a-list-of-values/52333#52333">daniero</a></td></tr>
<tr d-ix="14"><td>121</td><td>Python 2</td><td>150626T210338Z</td><td><a href="https://codegolf.stackexchange.com/questions/52321/determine-ranges-from-a-list-of-values/52330#52330">Kade</a></td></tr>
<tr d-ix="15"><td>161</td><td>CoffeeScript</td><td>150626T211032Z</td><td><a href="https://codegolf.stackexchange.com/questions/52321/determine-ranges-from-a-list-of-values/52331#52331">rink.att</a></td></tr>
<tr d-ix="16"><td>035</td><td>CJam</td><td>150626T211120Z</td><td><a href="https://codegolf.stackexchange.com/questions/52321/determine-ranges-from-a-list-of-values/52332#52332">Dennis</a></td></tr>
<tr d-ix="17"><td>084</td><td>Ruby</td><td>150626T204613Z</td><td><a href="https://codegolf.stackexchange.com/questions/52321/determine-ranges-from-a-list-of-values/52328#52328">steensla</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.scala-lang.org/" rel="nofollow noreferrer">Scala</a>, 204 bytes</h1>
<p>Modified from <a href="https://codegolf.stackexchange.com/a/52328/110802">@steenslag's Ruby answer</a>.</p>
<hr />
<p>Golfed version. <a href="https://tio.run/##PU9NT8QgEL3vr5g0HhiLuF0/oigmHj142nja9ICU3aC0W4GYaMNvr1OMkpkwvOG9mReN9no@vr5Zk@BZuwGmubN7iEzLpyGdotzaj902BTccWjV9ag9RaRGPIdnujpUmJX1t2@XFIlsj4rmMInrXEYttECdm@Ijqwe3ZSP26UWpkDaIRbnBJ1swIryMVBbU@WjCyXuQKkEWvRxYKP4jovu39BoPo33/3gkKI1ckUSDyf0V3kcoV5Bljs9OSM6XCIEh5D0F9/jlDCC20ACqYV0BkJTX4gF7ccmgsOFE3D4YbDJVVryisO1/g/m1VQIRI3r/L8Aw" rel="nofollow noreferrer">Try it online!</a></p>
<pre class="lang-scala prettyprint-override"><code>def s(a:Int*):Seq[String]={val s=a.sorted;(Seq[Seq[Int]](Seq(s(0)))/:s.sliding(2)){(c,p)=&gt;if(p(0)+1==p(1))c.init:+(c.last:+p(1))else c:+Seq(p(1))}.map(r=&gt;if(r.size&lt;2)r.mkString else s&quot;${r(0)}-${r.last}&quot;)}
</code></pre>
<p>Ungolfed version. <a href="https://tio.run/##XVHRSsMwFH3fVxyKD4mrYZ1TtFjBR2G@KD6NPVzbdEaztiRB0NFvr2myDTZIQs49595zL9eWpGkY2o8vWTq8kGqwmwCVrGEZ5Xhu3CXP8d4ohyJQwA9p2NY4WfkQifg9Y16p2Ujr@QiF1apSzYbNuahbXS1l7dhSWbcKj3dZrwNme/2npIpzjh0YlWWKjpThKB6DDaBqsDHEZhxTZCiKoGCZT/F6ocZ@82lIFppsAAfFvobUVo7ikQrWJ3x/HMicjhInE1vqWGB8U6GdAIRVfxIPmPOYJrbfb874waObTS52MT7O118d0Nhhn0TjzsudbmI9eyzAEiShtX6y38/WL4uR2dgcT8bQ7yoK1@frsuw@RXadwp8sS3GXYuF/M39vUtzGmv1kGP4B" rel="nofollow noreferrer">Try it online!</a></p>
<pre class="lang-scala prettyprint-override"><code>object Main {
  def s(a: Int*): Unit = {
    val sorted = a.sorted
    val sortedRanges = sorted.sliding(2).foldLeft(List[List[Int]](List(sorted.head))) { (acc, pair) =&gt;
      if (pair(0) + 1 == pair(1)) acc.init :+ (acc.last :+ pair(1))
      else acc :+ List(pair(1))
    }
    val ranges = sortedRanges.map(range =&gt; if (range.size &lt; 2) range.mkString else s&quot;${range.head}-${range.last}&quot;)
    println(ranges.mkString(&quot; &quot;))
  }

  def main(args: Array[String]): Unit = {
    s(9, 13, 3, 11, 8, 4, 10, 15, 6)
  }
}

</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/LyricLy/Ly" rel="nofollow noreferrer">Ly</a>, 35 bytes</h1>
<pre><code>a0r[r0Ir::u[ps`=]pl~!['-olu!]p' o];
</code></pre>
<p><a href="https://tio.run/##y6n8/z/RoCi6yMCzyMqqNLqgOME2tiCnTjFaXTc/p1QxtkBdIT/W@v9/Q0MuQwMuMy5LLkNjLgsuYy4TLkNTAA" rel="nofollow noreferrer" title="Ly – Try It Online">Try it online!</a></p>
<p>This is pretty brute force.  It sorts the numbers then iterates until all the numbers have been consumed.  After printing the &quot;current&quot; number on the stack, an inner loop consumes all the entries after that which are consequitive.  Then it either appends a <code>-#</code> string or not before printing a space and iterating again.</p>
<pre><code># prep work... created sorted list of numbers with trailing &quot;0&quot;
a0r
a    - read numbers from STDIN, sort stack
 0   - push a &quot;0&quot;
  r  - reverse stack

# loop over all numbers, then exit
[                             ];
[                             ]   - iterate while top of stack not &quot;0&quot;
                               ;  - exit to avoid dumping junk on stack

# remember the current number for comparison later
r0Ir
r     - reverse stack
 0I   - copy bottom of stack entry to the top
   r  - reverse the stack

# print the current number, loop/consume all sequential nums on stack
::u[ps`=]p
::          - duplicate top of stack twice
  u         - print current number
   [    ]p  - loop until top of stack is &quot;0&quot;
    p       - delete previous number
     s      - save the current number
      `=    - increment current number, compare to next num on stack

# print &quot;-X&quot;  if needed to cover delete numbers, then print space    
l~!['-olu!]p' o
l                - load saved num (last number deleted)
 ~               - search stack for that number
  !              - negate result
   [      ]p     - &quot;then&quot; code block
    '-o          - print &quot;-&quot;
       lu        - load last num in sequence (last deleted)
         !       - flip top of stack to &quot;0&quot; to exit loop
            ' o  - print &quot; &quot;
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 187 bytes</h1>

<pre class="lang-hs prettyprint-override"><code>import Data.List
g p[x]=[[x]]
g p(a:b:c)|let(d:e)=g p(b:c)=if p a b then(a:d):e else[a]:(d:e)
p[x]=show x++&quot; &quot;
p x=show(head x)++&quot;-&quot;++show(last x)++&quot; &quot;
f=concatMap p.g(((-1==).).(-)).sort
</code></pre>
<p><a href="https://tio.run/##JY7LCoMwFET3fsVFukgwhoY@aAPZddl@gbi41WhCo4YmUBf9dxvtZmAOh2EMhpd2blns4Kd3hBtG5HcbYtaDr@ZaVSnqtRCUT9nQr9ORtFJTtbKVKNuBB4QnRKPHpLVUatAu6AprubnZNhXM9IG5KHLIMw/z1onR2MJMEy3zotiQwxD/KImdaqaxwfhAD573hJBSKEU55aSklId0ehnQjsq/7Rh33a66MnFgByYEu7AjE3smTuxcLz8" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a> <code>S</code>, 120 <a href="https://github.com/Vyxal/Vyncode/blob/main/README.md" rel="nofollow noreferrer">bits<sup>v1</a></sup>, 15 bytes</h1>
<pre><code>s:¯Ǐ⁽ṅḋ•ꜝƛ₍htU\-j
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=1#WyJTfj0iLCIiLCJzOsKvx4/igb3huYXhuIvigKLqnJ3Gm+KCjWh0VVxcLWoiLCIiLCIhKC4qKSAtPiBcIiguKilcIlxuWzYsIDEsIDIsIDQsIDMsIDUsIDgsIDcsIDEwXSAtPiBcIjEtOCAxMFwiXG5bMTEsIDEwLCA2LCA5LCAxMywgOCwgMywgNCwgMTVdIC0+IFwiMy00IDYgOC0xMSAxMyAxNVwiXG5bOSwgMTMsIDMsIDExLCA4LCA0LCAxMCwgMTUsIDZdIC0+IFwiMy00IDYgOC0xMSAxMyAxNVwiXG5bNSwgOCwgMywgMiwgNiwgNCwgNywgMV0gLT4gXCIxLThcIlxuWzUsIDMsIDcsIDEsIDldIC0+IFwiMSAzIDUgNyA5XCIiXQ==" rel="nofollow noreferrer">Try it Online!</a></p>
<h2>Explained</h2>
<pre><code>s:¯Ǐ⁽ṅḋ•ꜝƛ₍htU\-j
s:                 # Push two copies of the input list but sorted
  ¯Ǐ               # Forward differences of items with the first item appended - this is for making sure the length of the deltas matches the length of the input
    ⁽ṅḋ            # Grouped by whether they are &lt;= 1
       •           # Reshape the sorted input to that shape
        ꜝ          # and remove the 0
                   # the top of the stack will be a list of lists of numbers that are ranges
         ƛ         # to each range
          ₍htU     #   either get the first and last item or just the first
              \-j  #   join on &quot;-&quot;
# S flag joins the result on spaces
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a> <a href="https://codegolf.meta.stackexchange.com/a/14339/"><code>-S</code></a>, <s>17</s> 16 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>ÍòÈnYÉÃ®é ¯2 Ôq-
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;flags=LVM&amp;code=zfLIblnJw67pIK8yINRxLQ&amp;input=WzkgMTMgMyAxMSA4IDQgMTAgMTUgNl0" rel="nofollow noreferrer">Try it</a></p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a>, <sup><s>21</s></sup> 20 bytes</h1>
<pre><code>;moJ'-?I§e←→ε†sġ·=←O
</code></pre>
<p><a href="https://tio.run/##yygtzv7/3zo330td197z0PLUR20THrVNOrf1UcOC4iMLD223BQr4////P9pSx9BYx1jH0FDHQsdEx9BAx9BUxywWAA" rel="nofollow noreferrer" title="Husk – Try It Online">Try it online!</a></p>
<p>A bit lacking in the strings department, but does well.</p>
<p>No matter what I tried, it somehow stubbornly stayed at 21.</p>
<p>-1 byte from Dominic Van Essen.</p>
<h2>Explanation</h2>
<pre><code>;moJ'-?I§e←→ε†sġ§=…eO
                    O order the list
               ġ      group the list by the following:
                   e  elements paired
                §=    equal
                  …   the range between them?
             †s       convert all the numbers to strings
 mo                   map each group to the following:
      ?     ε         if it's a single element:
       I              leave as is
        §e←→          otherwise, move the first and last elements to a list
   J'-                join with '-'
;                     nest to display in one line
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 16 bytes</h1>
<pre><code>ṢI’kƊ.ịⱮUQ€j€”-K
</code></pre>
<p><a href="https://tio.run/##y0rNyan8///hzkWejxpmZh/r0nu4u/vRxnWhgY@a1mQB8aOGubre/w@3A5mR//9HW@ooGBrrKACRoaGOgoWOggmQZQDEpjoKZrE6CtEgYZCAmY4CVK0FWDlInSlIgSlMxAisCChuDpSCyhhDeEC9sQA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<h2>How it works</h2>
<pre><code>ṢI’kƊ.ịⱮUQ€j€”-K - Main link. Takes an array L on the left
Ṣ                - Sort L; Call this A
    Ɗ            - Monad. Link the previous three links together f(A):
 I               -   Forward differences
  ’              -   Decrement
   k             -   Partition
                   This groups consecutive runs
                   Take A = [3, 4, 6, 8, 9, 10, 11, 13, 15]
                   I: [1, 2, 2, 1, 1, 1, 2, 2]
                   ’: [0, 1, 1, 0, 0, 0, 1, 1]
                   k then partitions A at truthy elements in I’
                   [[3, 4], [6], [8, 9, 10, 11], [13], [15]
       Ɱ         - For each:
     .ị          -   Take the 0.5th element

                   For non-integer left argument, x, Jelly's ị atom takes
                   floor(x) and ceil(x) and returns [floor(x)ịy, ceil(x)ịy]
                   As Jelly's indexing is 1-based and modular:
                     0ị returns the last element
                     1ị returns the first element
                     .ị returns [0ị, 1ị]

        U        - Reverse each
         Q€      - Deduplicate each
           j€”-  - Join each with &quot;-&quot;
               K - Join by spaces
</code></pre>
</div>
<div id="pu7" class="pu"><h1>JavaScript (ES6): <s>171</s> <s>154</s> 140 <s>137</s>  bytes</h1>

<p>Thanks edc65 and vihan1086 for the tips! <s><code>[...n]</code> is very nice</s> but it doesn't work in these cases due to multi-digit numbers.</p>

<pre class="lang-js prettyprint-override"><code>f=n=&gt;{s=e=o='';n.split` `.map(Number).sort((a,b)=&gt;a-b).map(v=&gt;{s=s||v;if(e&amp;&amp;v&gt;e+1){o+=`${s&lt;e?s+'-'+e:s} `;s=v}e=v});return o+(s&lt;e?s+'-'+e:e)}
</code></pre>

<h2>ES5 variant, <s>198</s> <s>184</s> <s>183</s> 174 bytes</h2>

<pre class="lang-js prettyprint-override"><code>f=function(n){s=e=o='';n.split(' ').map(Number).sort(function(a,b){return a-b}).map(function(v){s=s||v;if(e&amp;&amp;v&gt;e+1){o+=(s&lt;e?s+'-'+e:s)+' ';s=v}e=v});return o+(s&lt;e?s+'-'+e:e)}
</code></pre>

<p><div class="snippet" data-lang="js" data-hide="true">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-js lang-js prettyprint-override"><code>f = function (n) {
    s = e = 0, o = '';
    n.split(' ').map(Number).sort(function (a, b) {
        return a - b
    }).map(function (v) {
        s = s || v;
        if (e &amp;&amp; v &gt; e + 1) {
            o += (s &lt; e ? s + '-' + e : s) + ' ';
            s = v
        }
        e = v
    });
    return o + (s &lt; e ? s + '-' + e : e)
}

// Demonstration
document.body.innerHTML = f('1 2');
document.body.innerHTML += '&lt;p&gt;' + f('9 13 3 11 8 4 10 15 6');
document.body.innerHTML += '&lt;p&gt;' + f('11 10 6 9 13 8 3 4 15');
document.body.innerHTML += '&lt;p&gt;' + f('5 8 3 2 6 4 7 1');
document.body.innerHTML += '&lt;p&gt;' + f('5 3 7 1 9');</code></pre>
</div>
</div>
</p>
</div>
<div id="pu8" class="pu"><h1>Java, <s>171</s> 162 bytes</h1>
<pre><code>String s(int[] n){Arrays.sort(n);int p=0,b=0;String r=&quot;&quot;,d=&quot;&quot;;for(int c:n){if(c==++p)b=1;else{if(b==1){r+=&quot;-&quot;+--p+d+c;p=c;b=0;}else{r+=d+c;p=c;}d=&quot; &quot;;}}return r;}
</code></pre>
<p>Takes input as an int array, returns output as a space-separated String list</p>
</div>
<div id="pu9" class="pu"><h1>CJam, <s>38</s> 33 bytes</h1>

<p>New version, using ideas and code fragments suggested by @Dennis:</p>

<pre><code>l~$_,,.-e`{~T+\_T+:T;(_2$+W*Q?S}/
</code></pre>

<p><a href="http://cjam.aditsu.net/#code=l~%24_%2C%2C.-e%60%7B~T%2B%5C_T%2B%3AT%3B(_2%24%2BW*Q%3FS%7D%2F&amp;input=%5B9%2013%203%2011%208%204%2010%2015%5D" rel="nofollow">Try it online</a></p>

<p>The input format is a CJam array in square brackets.</p>

<p>The basic idea here is that I subtract a monotonic sequence from the sorted input sequence first:</p>

<pre><code>3  4  8  9 10 11 13 15
0  1  2  3  4  5  6  7  (-)
----------------------
3  3  6  6  6  6  7  8
</code></pre>

<p>In this difference, values that are part of the same interval have the same value. Applying the CJam RLE operator to this difference directly enumerates the intervals.</p>

<p>The subtracted sequential values need to be added back during output. I'm not entirely happy with how that's done in my code. I suspect that I could save a few bytes with a more elegant way of handing that.</p>

<p>For generating the output of the intervals, this uses Dennis' idea of generating a negative number for the end value, which takes care of producing a <code>-</code>, and also simplifies the logic because only one value needs to be added/omitted depending on the interval size.</p>

<p>Explanation:</p>

<pre><code>l~    Get input.
$     Sort it.
_,,   Create monotonic sequence of same length.
.-    Calculate vector difference between the two.
e`    Calculate RLE of difference vector.
{     Loop over entries in RLE.
  ~     Unpack the RLE entry, now have length/value on stack.
  T+    Add position to get original value for start of interval.
  \     Bring length of interval to top of stack.
  _T+:T;  Add length of interval to variable T, which tracks position.
  (     Decrement interval length.
  _     Copy it, we need it once for calculating end value, once for ternary if condition.
  2$    Copy interval start value to top...
  +     ... and add interval length - 1 to get end value.
  W*    Negate end value.
  Q?    Output end value if interval length was &gt; 1, empty string otherwise.
  S     Add a space.
}%    End loop.
</code></pre>
</div>
<div id="pu10" class="pu"><h1>Python 2, <s>123</s> 120 bytes</h1>

<pre class="lang-python prettyprint-override"><code>N=sorted(map(int,raw_input().split(' ')));print(''.join((''if n+1in N else'-'+`n`)if n-1in N else' '+`n`for n in N)[1:])
</code></pre>

<p>If the input can be a list as a function argument then (thanks mbomb007 and xnor for the conditionals)</p>

<h1><s>93</s> <s>90</s> 81 bytes</h1>

<pre class="lang-python prettyprint-override"><code>def f(N):print''.join((' '+`n`,`-n`*-~-(n+1in N))[n-1in N]for n in sorted(N))[1:]
</code></pre>

<p>(77 bytes if leading whitespace is acceptable - drop the final <code>[1:]</code>)</p>
</div>
<div id="pu11" class="pu"><h1>Java, 191 bytes</h1>

<pre class="lang-java prettyprint-override"><code>void f(int[]a){java.util.Arrays.sort(a);for(int b=a.length,c=b-1,i=0,j=a[0],l=j;++i&lt;b;){if(a[i]!=++j||i==c){System.out.print((l+1==j?l+(i==c?" "+a[c]:""):l+"-"+(i==c?j:j-1))+" ");l=j=a[i];}}}
</code></pre>

<p>Checks for ranges and prints them accordingly. Unfortunately I had to make a special case for the last element in the array since the program would terminate without printing the last number or range.</p>
</div>
<div id="pu12" class="pu"><h1>SWI-Prolog, <s>165</s> <s>162</s> 159 bytes</h1>
<pre><code>b(Z,C,[D|E]):-Z=[A|B],(A=:=D+1,(B=[],put(45),print(A);b(B,C,[A,D|E]));(E=[],tab(1),print(A);writef('-%t %t',[D,A])),b(B,A,[A]));!.
a(A):-sort(A,B),b(B,_,[-1]).
</code></pre>
<p>Pretty bad but then again Prolog is a terrible golfing language</p>
<p>Example: <code>a([9,13,3,11,8,4,10,15,6]).</code> outputs <code>3-4 6 8-11 13 15</code></p>
</div>
<div id="pu13" class="pu"><h1>Ruby, 70 bytes</h1>

<p>Problems like these tend to make me check the Ruby API for suitable methods, and today I discovered a new one: <a href="http://ruby-doc.org/core-2.2.2/Enumerable.html#method-i-slice_when" rel="nofollow"><code>Array#slice_when</code></a>, newly  introduced in Ruby v2.2 and seemingly intended for this exact situation :)</p>

<pre><code>f=-&gt;a{puts a.sort.slice_when{|i,j|j-i&gt;1}.map{|x|x.minmax.uniq*?-}*' '}
</code></pre>

<p>After sorting and appropriately slicing the array, it takes each sub-array and creates a string out of the highest and lowest element, and then joins this whole array into a string. </p>

<p>Example:</p>

<p><code>f.call [9,13,3,11,8,4,10,15,6]</code> prints <code>3-4 6 8-11 13 15</code></p>
</div>
<div id="pu14" class="pu"><h1>Python 2, <s>126</s> <s>122</s> 121 Bytes</h1>

<p>I know this can get shorter, just don't know where.. Requires input in form <code>[#, #, #, #, ..., #]</code>.</p>



<pre class="lang-python prettyprint-override"><code>l=sorted(input());s=`l[0]`;c=0;x=1
while x&lt;len(l):y,z=l[x],l[x-1];s+=(('-'+`z`)*c+' '+`y`)*(y-z&gt;1);c=(y-z&lt;2);x+=1
print s
</code></pre>
</div>
<div id="pu15" class="pu"><h2>CoffeeScript, <s>178</s> 161 bytes</h2>

<p>Just like my JavaScript answer. I need to figure out if using comprehensions will result in shorter code.</p>

<pre class="lang-coffee prettyprint-override"><code>f=(n)-&gt;s=e=o='';n.split(' ').map(Number).sort((a,b)-&gt;a-b).map((v)-&gt;s=s||v;(o+=s+(if s&lt;e then'-'+e else'')+' ';s=v)if(e&amp;&amp;v&gt;e+1);e=v);o+(if s&lt;e then s+'-'else'')+e
</code></pre>

<hr>

<p>Original:</p>

<pre class="lang-coffee prettyprint-override"><code>f=(n)-&gt;o='';s=e=0;n.split(' ').map(Number).sort((a,b)-&gt;a-b).forEach((v,i)-&gt;if!i then s=v else(o+=s+(if s&lt;e then'-'+e else'')+' ';s=v)if(v!=e+1);e=v);o+(if s&lt;e then s+'-'else'')+e
</code></pre>
</div>
<div id="pu16" class="pu"><h1>CJam, 35 bytes</h1>

<pre><code>l~${__0=f-ee::=0+0#/((oW&gt;Wf*S+oe_}h
</code></pre>

<p>Try it online in the <a href="http://cjam.aditsu.net/#code=l~%24%7B__0%3Df-ee%3A%3A%3D0%2B0%23%2F((oW%3EWf*S%2Boe_%7Dh&amp;input=%5B9%2013%203%2011%208%204%2010%2015%206%5D" rel="nofollow">CJam interpreter</a>.</p>

<h3>How it works</h3>

<pre><code>l~$     e# Read a line from STDIN, evaluate it and sort the result.
{       e# Do:
  _     e#   Push a copy of the array.
  _0=f- e#   Subtract the first element from all array elements.
  ee    e#   Enumerate the differences: [0 1 4] -&gt; [[0 0] [1 1] [2 4]]
  ::=   e#   Vectorized quality: [i j] -&gt; (i == j)
  0+    e#   Append a zero.
  0#    e#   Push the first index of 0.
  /     e#   Split the array into chunks of that size.
  (     e#   Shift out the first chunk.
  (o    e#   Print its first element.
  W&gt;    e#   Discard all remaining elements (if any) except the last.
  Wf*   e#   Multiply all elements of the remainder by -1.
  S+o   e#   Append a space and print.
  e_    e#   Flatten the rest of the array.
}h      e# Repeat while the array is non-empty.
</code></pre>
</div>
<div id="pu17" class="pu"><h1>Ruby, <s>86</s> 84 bytes</h1>
<pre><code>s=-&gt;*a{puts a.sort.slice_when{|i,j|i+1!=j}.map{|e|e.size&lt;2?e:[e[0],e[-1]]*&quot;-&quot;}*&quot; &quot;}

# demo
s[9, 13, 3, 11, 8, 4, 10, 15, 6]
# =&gt; 3-4 6 8-11 13 15
</code></pre>
<p>This is a slightly golfed version from an example in the docs for <a href="http://ruby-doc.org/core-2.2.2/Enumerable.html#method-i-slice_when" rel="nofollow noreferrer">slice_when</a>.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/52321/">52321</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




