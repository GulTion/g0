<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::264409</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>049</td><td>Arturo</td><td>230821T030025Z</td><td><a href="https://codegolf.stackexchange.com/questions/264409/first-odd-then-even-indices/264432#264432">chunes</a></td></tr>
<tr d-ix="1"><td>024</td><td>J</td><td>230820T172851Z</td><td><a href="https://codegolf.stackexchange.com/questions/264409/first-odd-then-even-indices/264416#264416">Jonah</a></td></tr>
<tr d-ix="2"><td>064</td><td>JavaScript ES6</td><td>230820T175049Z</td><td><a href="https://codegolf.stackexchange.com/questions/264409/first-odd-then-even-indices/264418#264418">Arnauld</a></td></tr>
<tr d-ix="3"><td>065</td><td>Python</td><td>230820T204335Z</td><td><a href="https://codegolf.stackexchange.com/questions/264409/first-odd-then-even-indices/264422#264422">loopy wa</a></td></tr>
<tr d-ix="4"><td>045</td><td>sclin</td><td>230820T195553Z</td><td><a href="https://codegolf.stackexchange.com/questions/264409/first-odd-then-even-indices/264420#264420">Mama Fun</a></td></tr>
<tr d-ix="5"><td>027</td><td>Charcoal</td><td>230820T170027Z</td><td><a href="https://codegolf.stackexchange.com/questions/264409/first-odd-then-even-indices/264414#264414">Neil</a></td></tr>
<tr d-ix="6"><td>012</td><td>K ngn/k</td><td>230820T161802Z</td><td><a href="https://codegolf.stackexchange.com/questions/264409/first-odd-then-even-indices/264412#264412">ovs</a></td></tr>
<tr d-ix="7"><td>006</td><td>Jelly</td><td>230820T154931Z</td><td><a href="https://codegolf.stackexchange.com/questions/264409/first-odd-then-even-indices/264411#264411">Unrelate</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://arturo-lang.io" rel="nofollow noreferrer">Arturo</a>, 49 bytes</h1>
<pre class="lang-arturo prettyprint-override"><code>$-&gt;a[1x:a while[i:0arrange'x=&gt;[i%2'i+1]x&lt;&gt;a][1+]]
</code></pre>
<p><a href="http://arturo-lang.io/playground?yigxrb" rel="nofollow noreferrer">Try it!</a></p>
<pre><code>$-&gt;a[                         ; a function taking an input a
    1                         ; push 1 -- this is our output (count)
    x:a                       ; assign a to x
    while[                    ; while...
        i:0                   ; assign 0 to i
        arrange'x=&gt;[i%2'i+1]  ; sort x by its indices' parities
        x&lt;&gt;a                  ; x doesn't equal a...
    ]                         ; end while predicate
    [1+]                      ; ...then increment the output
]                             ; end function
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, <sup><s>26</s></sup> 24 bytes</h1>
<pre><code>i.~_:0}(\:2|#\)^:(3&lt;@^#)
</code></pre>
<p><a href="https://tio.run/##VYvLCoJQEIb3PcVPgpfI8RztOmRIQato0VaPEpFmm14gfXU7mWIxzDAz3/c/mjFZOUKGhSkEWLdL2J@Ph6akOmNR2Qn7LyNxUraDTZQaTuOMTjuCxrIilZm2Up1St0JLYzZUESkdkq7LOnzhIiRPeyVFvTIhT3vm1txTzB6jg7fr/YkcEj6CvwMzzLHAEiusIcXAhO7PFN0mB/RT/VN8E80b" rel="nofollow noreferrer" title="J – Try It Online">Try it online!</a></p>
<p>Accepts numeric lists</p>
<p>The maximum number of iterations until we return to the input is bounded by <a href="https://en.wikipedia.org/wiki/Landau%27s_function" rel="nofollow noreferrer">Landau's function</a> <span class="math-container">\$g(n)\$</span>, and it can be shown that:</p>
<p><span class="math-container">$$
{\displaystyle g(n)\leq e^{n/e}}
$$</span></p>
<p>For golf reasons, I simply round that to:</p>
<p><span class="math-container">$$
{\displaystyle g(n)\leq 3^{n}}
$$</span></p>
<p>and iterate that many times.  Note I could trade bytes for efficiency here and iterate until I see the input again, but this approach was shorter.</p>
<ul>
<li><code>(\:2|#\)</code> Apply the needed permutation -- equivalent to sorting down by <code>1 0 1 0...</code></li>
<li><code>^:(3&lt;@^#)</code> Do that <span class="math-container">\$3^n\$</span> times, saving results</li>
<li><code>_:0}</code> Convert the first item on the list, which is the input itself, to infinity, so that match will be skipped.</li>
<li><code>i.~</code> Index of the input within that list.</li>
</ul>
</div>
<div id="pu2" class="pu"><h1>JavaScript (ES6), 64 bytes</h1>
<p>Expects a list of positive integers.</p>

<pre class="lang-javascript prettyprint-override"><code>a=&gt;(g=a=&gt;(g[a]^=i=-2)&amp;&amp;1+g(a.map(_=&gt;a[!a[i+=2]|i%a.length])))(a)
</code></pre>
<p><a href="https://tio.run/##lY3LDoIwEEX3fkVdSNowEFvxtSg/0qCZINQapESIK/@9VlxIiMSYzNzM49zcC96xzW@m6aLangpXSocypVr2qjA7SCMjwYKAh5pifMWGHmWKao7KhFJkD7PAuCpq3Z0zxhhF5nJbt7Yq4spqWlLF/X02vgERQFbTHyBJr37mP6g1kA2QLZAdkL3Hl//yvr9lvKJ723vgg1VM4h9kYOKTjnF5yj0B" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>How?</h3>
<p>We can apply the shuffle by doing:</p>
<pre class="lang-javascript prettyprint-override"><code>a.map((_, i) =&gt; a[!a[i * 2] | i * 2 % a.length])
</code></pre>
<p>This code first collects all values at even (0-based) indices. When <code>a[i * 2]</code> is not defined anymore, it starts collecting values at odd indices.</p>
<p>For golfing reasons, we rather start with <span class="math-container">\$i=-2\$</span> and do:</p>
<pre class="lang-javascript prettyprint-override"><code>a.map(_ =&gt; a[!a[i += 2] | i % a.length])
</code></pre>
<p>We stop as soon as the same array has been encountered twice and return the number of iterations.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 65 bytes</h1>
<pre class="lang-python prettyprint-override"><code>lambda s,j=1:j*((t:=s[:len(s)-1|1])==(t*2**j)[::2**j])or f(s,j+1)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=dZHdToMwFMfjLU9xxlWLhVCYc5LUxLu9wS5wWYqDyNJRQmuyJb6JN0uMvoRPok9jC8wNnW1STs_5_85HeXmvd_pRVvvXgt2_PenCn37eCb7JVhwUWTOarD2EdMJUmoi8Qgr79JkuMGNIe5HnrXGaJPa7wLKBAhnmkuI-0VthfFsoK5C1YUOcOFASCQy2gapFqZEL7BZc7IB1lpVGElvJkiztPah5o0tdysoI_U6o2oDSTVkjnNLEpwsHdLNLQLHU2_AamTRE9fkxNtF8-5DXuhMoc68bW0kR0y0msm92_3XxgShEEGNbypgxRAez9Q6X6TtyuhCMrRboEYzBBsZ9giAIOiA-AlcwgWuYwg3Q8ET0q8LkPACUnmMMQEPH5RnPuufiPDtYre_PaodwZ7kQksBcNmI16vQzIUGKUS7IvFm5gyFoO7bpAewZ9tbZhk6n-BH2UPgf0k2BKJzsw8sOXAOi-4nf" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h2>How?</h2>
<p>This is based on the observation that in zero-based indexing the  reshuffle can be written as n -&gt; 2n mod N where N is the largest odd number not greater than the length of the input. (If the length is even the last point is a fixed point, so it can be ignored.)</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/molarmanful/sclin" rel="nofollow noreferrer">sclin</a>, 45 bytes</h1>
<pre><code>=$a $a&quot;2/` tpose flat&quot;itr1dp&quot;$a !=`&quot;tk* len1+
</code></pre>
<p><a href="https://replit.com/@molarmanful/try-sclin" rel="nofollow noreferrer">Try it here!</a> Takes a list.</p>
<p>For testing purposes:</p>
<pre><code>[1 2 3 4 5 6 7 8 9 10 11] ;
=$a $a&quot;2/` tpose flat&quot;itr1dp&quot;$a !=`&quot;tk* len1+
</code></pre>
<p>NOTE: for string-based inputs, use e.g. <code>[&quot;a&quot; &quot;b&quot; &quot;a&quot; &quot;b&quot;]</code>.</p>
<h2>Explanation</h2>
<p>Prettified code:</p>
<pre><code>=$a $a.
( 2/` tpose flat ) itr 1dp ( $a !=` ) tk* len 1+
</code></pre>
<ul>
<li><code>=$a $a</code> Input list <em>a</em></li>
<li><code>(...) itr</code> generate infinite list from successive modifications of <em>a</em>...
<ul>
<li><code>2/` tpose flat</code> chunk into pairs, transpose, flatten</li>
</ul>
</li>
<li><code>1dp</code> drop first item to prevent <code>tk*</code> from exiting early</li>
<li><code>( $a !=` ) tk*</code> take while not equal to <em>a</em></li>
<li><code>len 1+</code> length + 1</li>
</ul>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 27 bytes</h1>
<pre><code>⊞υθＷ‹№υθ²⊞υ⭆²Φ§υ±¹﹪⁺κν²Ｉ⊖Ｌυ
</code></pre>
<p><a href="https://tio.run/##NY0xC8IwEEb3/opzu0Ac7OokFVGwUnBwDs3RFs9Ek4v672O0OH/ve68fTei94Zy7FEdMGh5qXb3GiQnwSDFi45OTedBQKwV/8CxhckNr7lhr2E0sFHAjB2fp/Z1PNBghXKlya71N7LHjFPGqwc0mVUpdcQg2JgpuqQ90IydkS9kNUio/KOc9MXsNFx/YLqq8fPIH" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Only works on strings. Explanation:</p>
<pre><code>⊞υθ
</code></pre>
<p>Push the string to the predefined empty list.</p>
<pre><code>Ｗ‹№υθ²
</code></pre>
<p>Repeat until a second copy of the string is found.</p>
<pre><code>⊞υ⭆²Φ§υ±¹﹪⁺κν²
</code></pre>
<p>Shuffle the most recent string and push it to the list.</p>
<pre><code>Ｉ⊖Ｌυ
</code></pre>
<p>Output the number of shuffles taken.</p>
<p>28 bytes to work on strings or lists:</p>
<pre><code>⊞υθＷ‹№υθ²⊞υΣＥ²Φ§υ±¹﹪⁺κν²Ｉ⊖Ｌυ
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70iOSOxKDk_MWfBgqWlJWm6FjdnBpQWZ2iU6igUalpzlWdk5qQqaPikFhdrOOeX5pVAJHQUjDQ1FWAKg0tzNXwTCzSMdBTcMnNKUos0HEs881JSK0CSfqnpiSWpGoaaQE2--SmlOfkaATmlxRrZOgp5EHOAwJoroCgTaLhzYnGJhktqclFqbmpeSWoK0OK89BKgJWBFS4qTkouhzlweraRblqMUuyM62hBoio6CsY6CCZgEsg1jY7kgygA" rel="nofollow noreferrer" title="Charcoal – Attempt This Online">Attempt This Online!</a> Link is to verbose version of code.</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://codeberg.org/ngn/k" rel="noreferrer">K (ngn/k)</a>, 12 bytes</h1>
<pre><code>#{x@&lt;2!!#x}\
</code></pre>
<p><a href="https://ngn.codeberg.page/k#eJxLs1KurnCwMVJUVK6ojeHiSos2VDBSMI6FMRRMgNhIwRBZwFTBTMFcwULBUsHQAJe4giFYi1JiUmKSEpjlkZqTk6+jEJ5flJOiqATRB1SmACINoCxDmDCUC5UygEkgwVgA6yonqg==" rel="noreferrer">Try it online!</a></p>
<p><code>{ ... }\</code> Iterate until reaching the first value again (or a fixed point). Collect intermediate values.<br />
<code>2!!#x</code> 2 mod range of length <em>x</em>. Sequence of alternating 0s and 1s the same length as <em>x</em>.<br />
<code>x@&lt;</code> Grade up, then index into <em>x</em>. Sorts <em>x</em> by that sequence.</p>
<p><code>#</code> Length. Counts the number of intermediate results.</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 6 bytes</h1>
<pre><code>ŒœẎ$ƬL
</code></pre>
<p><a href="https://tio.run/##y0rNyan8///opKOTH@7qUzm2xuf/4XbNyP//o6MNdRSMdBSMY3W4YEwdBRMwCWQbogub6iiY6SiY6yhY6ChYAuUNCCoAYpApSolJiUlKQNoD6JR8HYXw/KKcFEUliG6QIjAygCEIF2Y9ihiSKgOEEnQUGwsA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<p>Don't worry, the stack languages with single-byte uninterleave operators are going to be even shorter :P</p>
<pre><code>    Ƭ     Repeat while unique, collecting all results:
Œœ        Split into odd and even-indexed elements,
  Ẏ$      and concatenate.
     L    How many results are there?
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/264409/">264409</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




