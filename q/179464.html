<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::179464</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>007</td><td>Vyxal</td><td>240818T012032Z</td><td><a href="https://codegolf.stackexchange.com/questions/179464/covering-a-skyline-with-brush-strokes/275037#275037">lyxal</a></td></tr>
<tr d-ix="1"><td>045</td><td>Vyxal s</td><td>240818T011318Z</td><td><a href="https://codegolf.stackexchange.com/questions/179464/covering-a-skyline-with-brush-strokes/275036#275036">lyxal</a></td></tr>
<tr d-ix="2"><td>011</td><td>Uiua</td><td>230929T191905Z</td><td><a href="https://codegolf.stackexchange.com/questions/179464/covering-a-skyline-with-brush-strokes/265600#265600">chunes</a></td></tr>
<tr d-ix="3"><td>005</td><td>Thunno 2 S</td><td>230614T050524Z</td><td><a href="https://codegolf.stackexchange.com/questions/179464/covering-a-skyline-with-brush-strokes/261826#261826">The Thon</a></td></tr>
<tr d-ix="4"><td>005</td><td>Nekomata</td><td>230614T035451Z</td><td><a href="https://codegolf.stackexchange.com/questions/179464/covering-a-skyline-with-brush-strokes/261824#261824">alephalp</a></td></tr>
<tr d-ix="5"><td>033</td><td>Arturo</td><td>230210T081050Z</td><td><a href="https://codegolf.stackexchange.com/questions/179464/covering-a-skyline-with-brush-strokes/257629#257629">chunes</a></td></tr>
<tr d-ix="6"><td>006</td><td>Japt x</td><td>190204T130334Z</td><td><a href="https://codegolf.stackexchange.com/questions/179464/covering-a-skyline-with-brush-strokes/179474#179474">Shaggy</a></td></tr>
<tr d-ix="7"><td>nan</td><td></td><td>220503T122231Z</td><td><a href="https://codegolf.stackexchange.com/questions/179464/covering-a-skyline-with-brush-strokes/246843#246843">Dr.jacky</a></td></tr>
<tr d-ix="8"><td>011</td><td>Dyalog APL</td><td>220406T072355Z</td><td><a href="https://codegolf.stackexchange.com/questions/179464/covering-a-skyline-with-brush-strokes/245972#245972">Brian BE</a></td></tr>
<tr d-ix="9"><td>024</td><td>Factor + math.unicode</td><td>220406T083242Z</td><td><a href="https://codegolf.stackexchange.com/questions/179464/covering-a-skyline-with-brush-strokes/245973#245973">chunes</a></td></tr>
<tr d-ix="10"><td>004</td><td>Husk</td><td>210321T030342Z</td><td><a href="https://codegolf.stackexchange.com/questions/179464/covering-a-skyline-with-brush-strokes/220976#220976">Leo</a></td></tr>
<tr d-ix="11"><td>087</td><td>Common Lisp</td><td>190207T002726Z</td><td><a href="https://codegolf.stackexchange.com/questions/179464/covering-a-skyline-with-brush-strokes/179598#179598">Charlim</a></td></tr>
<tr d-ix="12"><td>032</td><td>Haskell</td><td>190204T144613Z</td><td><a href="https://codegolf.stackexchange.com/questions/179464/covering-a-skyline-with-brush-strokes/179480#179480">Wheat Wi</a></td></tr>
<tr d-ix="13"><td>057</td><td>Java JDK</td><td>190206T081808Z</td><td><a href="https://codegolf.stackexchange.com/questions/179464/covering-a-skyline-with-brush-strokes/179547#179547">Olivier </a></td></tr>
<tr d-ix="14"><td>050</td><td>Clojure</td><td>190206T062236Z</td><td><a href="https://codegolf.stackexchange.com/questions/179464/covering-a-skyline-with-brush-strokes/179546#179546">Tried Cr</a></td></tr>
<tr d-ix="15"><td>034</td><td>Wolfram Language Mathematica</td><td>190206T045109Z</td><td><a href="https://codegolf.stackexchange.com/questions/179464/covering-a-skyline-with-brush-strokes/179545#179545">alephalp</a></td></tr>
<tr d-ix="16"><td>008</td><td>Stax</td><td>190205T194741Z</td><td><a href="https://codegolf.stackexchange.com/questions/179464/covering-a-skyline-with-brush-strokes/179536#179536">wastl</a></td></tr>
<tr d-ix="17"><td>008</td><td>Pyth</td><td>190205T110540Z</td><td><a href="https://codegolf.stackexchange.com/questions/179464/covering-a-skyline-with-brush-strokes/179513#179513">Sok</a></td></tr>
<tr d-ix="18"><td>030</td><td>R</td><td>190204T125104Z</td><td><a href="https://codegolf.stackexchange.com/questions/179464/covering-a-skyline-with-brush-strokes/179473#179473">digEmAll</a></td></tr>
<tr d-ix="19"><td>047</td><td>C# Visual C# Interactive Compiler with flag /uSystem.Math</td><td>190204T195929Z</td><td><a href="https://codegolf.stackexchange.com/questions/179464/covering-a-skyline-with-brush-strokes/179494#179494">Gymhgy</a></td></tr>
<tr d-ix="20"><td>032</td><td>Haskell</td><td>190205T023934Z</td><td><a href="https://codegolf.stackexchange.com/questions/179464/covering-a-skyline-with-brush-strokes/179501#179501">xnor</a></td></tr>
<tr d-ix="21"><td>021</td><td>Perl 5</td><td>190204T142408Z</td><td><a href="https://codegolf.stackexchange.com/questions/179464/covering-a-skyline-with-brush-strokes/179477#179477">Nahuel F</a></td></tr>
<tr d-ix="22"><td>007</td><td>K oK</td><td>190204T115851Z</td><td><a href="https://codegolf.stackexchange.com/questions/179464/covering-a-skyline-with-brush-strokes/179470#179470">Galen Iv</a></td></tr>
<tr d-ix="23"><td>035</td><td>Haskell</td><td>190204T154437Z</td><td><a href="https://codegolf.stackexchange.com/questions/179464/covering-a-skyline-with-brush-strokes/179482#179482">lynn</a></td></tr>
<tr d-ix="24"><td>005</td><td>05AB1E</td><td>190204T121134Z</td><td><a href="https://codegolf.stackexchange.com/questions/179464/covering-a-skyline-with-brush-strokes/179471#179471">Arnauld</a></td></tr>
<tr d-ix="25"><td>038</td><td>JavaScript Node.js</td><td>190204T114723Z</td><td><a href="https://codegolf.stackexchange.com/questions/179464/covering-a-skyline-with-brush-strokes/179466#179466">tsh</a></td></tr>
<tr d-ix="26"><td>037</td><td>Python 3</td><td>190204T114027Z</td><td><a href="https://codegolf.stackexchange.com/questions/179464/covering-a-skyline-with-brush-strokes/179465#179465">TFeld</a></td></tr>
<tr d-ix="27"><td>005</td><td>Jelly</td><td>190204T130832Z</td><td><a href="https://codegolf.stackexchange.com/questions/179464/covering-a-skyline-with-brush-strokes/179476#179476">Arnauld</a></td></tr>
<tr d-ix="28"><td>021</td><td>Retina 0.8.2</td><td>190204T130451Z</td><td><a href="https://codegolf.stackexchange.com/questions/179464/covering-a-skyline-with-brush-strokes/179475#179475">Neil</a></td></tr>
<tr d-ix="29"><td>008</td><td>MATL</td><td>190204T123847Z</td><td><a href="https://codegolf.stackexchange.com/questions/179464/covering-a-skyline-with-brush-strokes/179472#179472">Sanchise</a></td></tr>
<tr d-ix="30"><td>008</td><td>Japt</td><td>190204T115607Z</td><td><a href="https://codegolf.stackexchange.com/questions/179464/covering-a-skyline-with-brush-strokes/179467#179467">Luis fel</a></td></tr>
<tr d-ix="31"><td>010</td><td>05AB1E</td><td>190204T115804Z</td><td><a href="https://codegolf.stackexchange.com/questions/179464/covering-a-skyline-with-brush-strokes/179469#179469">Kevin Cr</a></td></tr>
<tr d-ix="32"><td>013</td><td>MATL</td><td>190204T115657Z</td><td><a href="https://codegolf.stackexchange.com/questions/179464/covering-a-skyline-with-brush-strokes/179468#179468">Luis Men</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-2" rel="nofollow noreferrer">Vyxal</a>, 7 bytes</h1>
<pre><code>×*§Ġ~ȧL
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2&amp;c=1#WyIiLCIiLCLDlyrCp8SgfsinTCIsIiIsIls1LDhdIl0=" rel="nofollow noreferrer">Try it Online!</a></p>
<p>Unlike all the other answers, this sort of visually solves the problem. Let me show you how:</p>
<h2>Explained</h2>
<pre><code>×*§Ġ~ȧL­⁡​‎‎⁪⁡⁪⁠⁪⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁪‏‏​⁡⁠⁡‌⁢​‎⁪⁪⁠‎⁪⁡⁪⁠⁪⁣⁪‏‏​⁡⁠⁡‌⁣​‎‎⁪⁡⁪⁠⁪⁤⁪‏‏​⁡⁠⁡‌⁤​‎‎⁪⁡⁪⁠⁪⁢⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁢⁪‏‏​⁡⁠⁡‌⁢⁡​‎‎⁪⁡⁪⁠⁪⁢⁣⁪‏‏​⁡⁠⁡‌­
×*       # ‎⁡Push n asterisks for each n in the input
  §      # ‎⁢The magic. Vertically join the list (that is, transpose, join on newlines, filling with spaces)
   Ġ     # ‎⁣Group by consecutive characters
    ~ȧ   # ‎⁤And remove those which are just whitespace
      L  # ‎⁢⁡Get the length of that list
💎
</code></pre>
<p>Created with the help of <a href="https://vyxal.github.io/Luminespire" rel="nofollow noreferrer">Luminespire</a>.</p>
<p>Given an input of <code>[1,3,2,1,2,1,5,3,3,4,2]</code>, it first becomes:</p>
<pre><code>[&quot;*&quot;, &quot;***&quot;, &quot;**&quot;, &quot;*&quot;, &quot;**&quot;, &quot;*&quot;, &quot;*****&quot;, &quot;***&quot;, &quot;***&quot;, &quot;****&quot;, &quot;**&quot;]
</code></pre>
<p>Then, we create the skyline:</p>
<pre><code>      *    
      *  * 
 *    **** 
 ** * *****
***********
</code></pre>
<p>From here, we can find each unique cluster of asterisks.</p>
<pre><code>      (*)    
      (*)  (*) 
 (*)    (****) 
 (**) (*) (*****)
(***********)
</code></pre>
<p>(The answer doesn't insert the brackets, but it does do the grouping part). Count the number of clusters, and you get the required answer.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-2" rel="nofollow noreferrer">Vyxal</a> <code>s</code>, 36 <a href="https://github.com/Vyxal/Vyncode/blob/main/README.md" rel="nofollow noreferrer">bits<sup>v2</a></sup>, 4.5 bytes</h1>
<pre><code>0p¯~Ṡ
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2&amp;c=1#WyJzPSIsIiIsIjBwwq9+4bmgIiwiIiwiWzEsMywyLDEsMiwxLDUsMywzLDQsMl0iXQ==" rel="nofollow noreferrer">Try it Online!</a></p>
<p>Bitstring:</p>
<pre><code>001111110100000100010101001101100110
</code></pre>
<p>Boring algorithm everyone else uses. Bleh</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://uiua.org" rel="nofollow noreferrer">Uiua</a>, 11 <a href="https://codegolf.stackexchange.com/a/265917/97916">bytes</a></h1>
<pre><code>/+↥0-↘¯1⊂0.
</code></pre>
<p><a href="https://uiua.org/pad?src=ZiDihpAgLyvihqUwLeKGmMKvMeKKgjAuCgpmIFsxIDMgMiAxIDIgMSA1IDMgMyA0IDJdICMg4oaSIDkKZiBbNSA4XSAjIOKGkiA4CmYgWzEgMSAxIDFdICMg4oaSIDEKZiBbXSAjIOKGkiAwCmYgWzAgMF0gIyDihpIgMApmIFsyXSAjIOKGkiAyCmYgWzIgMCAyXSAjIOKGkiA0CmYgWzEwIDkgOCA5XSAjIOKGkiAxMQ==" rel="nofollow noreferrer">Try it!</a></p>
<p>Port of tsh's <a href="https://codegolf.stackexchange.com/a/179466/97916">JavaScript answer</a>.</p>
<pre><code>/+↥0-↘¯1⊂0.
          .  # duplicate
        ⊂0   # prepend a zero
     ↘¯1     # drop last element
    -        # subtract the two arrays
  ↥0         # change negative numbers to zero
/+           # sum
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/Thunno/Thunno2" rel="nofollow noreferrer">Thunno 2</a> <code>S</code>, <s>6</s> 5 <a href="https://github.com/Thunno/Thunno2/blob/main/docs/codepage.md" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>0ƤṢ0§
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m728JKM0Ly_faGm0UrBS7IKlpSVpuhYrDY4tebhzkcGh5UuKk5KLoaILVkUbGuhY6ljoWMZCRAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Port of @Arnauld's 05AB1E answer. <br />
<em>-1 thanks to @alephalpha</em></p>
<h4>Explanation</h4>
<pre class="lang-python prettyprint-override"><code>0ƤṢ0§   # Implicit input 
0Ƥ      # Prepend a 0
  Ṣ     # Compute deltas
   0§   # Maximum with 0
        # S flag sums the list
        # Implicit output
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/AlephAlpha/Nekomata" rel="nofollow noreferrer">Nekomata</a>, 5 bytes</h1>
<pre><code>ç-P‼∑
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70iLzU7PzexJHFZtJJurlLsgqWlJWm6FqsOL9cNeNSw51HHxCXFScnFUOEFN92jDXWMdYx0DMHYFMg21jHRMYrlijbVsQCShjpgCGQBkYGOAZAESRrpGIAVGRroWOpY6FjGQswDAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>A port of <a href="https://codegolf.stackexchange.com/a/179471/9288">@Arnauld's 05AB1E answer</a>.</p>
<pre><code>ç-P‼∑
ç           Prepend zero
 -          Minus to get the delta
  P‼        Filter by positive
    ∑       Sum
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://arturo-lang.io" rel="nofollow noreferrer">Arturo</a>, <s>35</s> 33 bytes</h1>
<pre class="lang-arturo prettyprint-override"><code>$=&gt;[l:0sum map&amp;'x[max@[0x-l]l:x]]
</code></pre>
<p><a href="http://arturo-lang.io/playground?FwZpXS" rel="nofollow noreferrer">Try it</a></p>
</div>
<div id="pu6" class="pu"><h1><a href="http://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a> <a href="https://codegolf.meta.stackexchange.com/a/14339/"><code>-x</code></a>, <s>7</s> 6 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>änT f¬
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;flags=LXg&amp;code=5G5UIGas&amp;input=WzEsMywyLDEsMiwxLDUsMywzLDQsMl0" rel="nofollow noreferrer">Try it</a></p>
<p>1 byte saved thanks to <a href="https://codegolf.stackexchange.com/users/61613/oliver">Oliver</a>.</p>
<pre><code>änT f¬     :Implicit input of integer array
ä          :Consecutive pairs
 n         :Reduced by inverse subtraction
  T        :After first prepending 0
    f      :Filter elements by
     ¬     :Square root (The square root of a negative being NaN, which is falsey)
           :Implicitly reduce by addition and output
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://kotlinlang.org" rel="nofollow noreferrer">Kotlin</a></h1>
<pre class="lang-kotlin prettyprint-override"><code>fun f(test:IntArray):Int{var s=0;var p=0;test.forEach{val f=(if(it&gt;p)p else it);p=it;s-=f-p};return s}
</code></pre>
<p><a href="https://pl.kotl.in/99_GhJAsJ?theme=darcula" rel="nofollow noreferrer">Try it yourself</a></p>
</div>
<div id="pu8" class="pu"><h1>Dyalog APL, 11 bytes</h1>
<pre><code>+/0⌈¯2-/0,⊢
</code></pre>
<p><code>,</code> concatenate, so <code>0,</code> concatenates 0.</p>
<p><code>¯2-/</code><br />
or<br />
<code>¯2</code> length of window. (minus means the window is rotated)<br />
<code>-/</code> does a window operation of <code>-</code>(minus) with window size <code>2</code></p>
<p><code>0⌈</code> the operation is called ceiling, but when it gets an input from both sides it also does &quot;get the larger of the two inputs&quot; so <code>0⌈1 3 0 ¯2</code> will give <code>1 3 0 0</code>.</p>
<p>and finally, a <code>+/</code> which is a sum.</p>
<p><a href="https://razetime.github.io/APLgolf/?h=AwA&amp;c=09Y3eNTTYaT7qHeFvoHOo65FAA&amp;f=S1d41DZBIe1R75JHfVO9gv39uNIV1KMNdYx1jHQMwdgUyDbWMdExilUHy5nqWEBZhjpgCOVBKQMdAygLpsFIxwCu2dBAx1LHQscyVh0A&amp;i=AwA&amp;r=tryapl&amp;l=apl-dyalog&amp;m=train&amp;n=f#" rel="nofollow noreferrer">Try it!</a></p>
</div>
<div id="pu9" class="pu"><h1><a href="https://factorcode.org/" rel="nofollow noreferrer">Factor</a> + <code>math.unicode</code>, 24 bytes</h1>
<pre class="lang-factor prettyprint-override"><code>[ dup 0 prefix [v-] Σ ]
</code></pre>
<p><a href="https://tio.run/##TY5NDoJADIX3nOJdQMKPJKIHMG7cGFeExWQokaDDOAxEQziN9/FKY0nA0Kbt99qmaSmkbYy7Xk7n4x41GUV3tPTsSElq8RD25vc07cyiU5VsCoI2ZO1bm0pZHDxv8MA2IESMiPMUCXOMLfM4TxPs/hzOvuilBuwLRysKVioMkPKplBuj5zIUneY5v1RWL2T9Jsf3g9w9hEZrhax99wM" rel="nofollow noreferrer" title="Factor – Try It Online">Try it online!</a></p>
<h2>Explanation</h2>
<pre><code>         ! { 10 9 8 9 }
dup      ! { 10 9 8 9 } { 10 9 8 9 }
0        ! { 10 9 8 9 } { 10 9 8 9 } 0
prefix   ! { 10 9 8 9 } { 0 10 9 8 9 }
[v-]     ! { 10 0 0 1 }  (subtract two vectors, clamping negative numbers to 0)
Σ        ! 11
</code></pre>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a>, 4 bytes</h1>
<pre><code>ΣẊ&gt;Θ
</code></pre>
<p><a href="https://tio.run/##yygtzv6vkHtouYaXkoKunYJSqmaxRvGjpkbN/@cWP9zVZXduxv///6OjDXWMdYx0DMHYFMg21jHRMYrViTbVsQCShjpgCGQBkYGOAZAESRrpGIAVGRroWOpY6FjGxgIA" rel="nofollow noreferrer" title="Husk – Try It Online">Try it online!</a></p>
<p>Uses the same algorithm as everybody else (see <a href="https://codegolf.stackexchange.com/a/179471/62393">here</a> for an explanation), it just does so with fewer bytes than anybody else :D</p>
<h3>Explanation</h3>
<pre><code>ΣẊ&gt;Θ
   Θ    Prepend a 0 to the values
 Ẋ      For each pair of adjacent values (a,b)
  &gt;     Return b-a if b&gt;a else 0
Σ       Sum all of these values
</code></pre>
<p><code>&gt;</code> in Husk does a great job for this task: it does return a truthy value iff <code>b&gt;a</code>, but this truthy value also happens to be the difference <code>b-a</code>, accomplishing two tasks in one go!</p>
</div>
<div id="pu11" class="pu"><h1>Common Lisp, <s>88</s> 87 bytes</h1>

<pre><code>(lambda(s)(let((o 0))(dolist(c s)(incf o(max 0 c))(mapl(lambda(y)(decf(car y)c))s))o))
</code></pre>

<h2>non-minified</h2>

<pre><code>(lambda (skyline)
  (let ((output 0))
    (dolist (current-skyscraper-height skyline)
      (incf output (max 0 current-skyscraper-height))
      (mapl (lambda (skyscraper)
              (decf (car skyscraper) current-skyscraper-height))
            skyline))
    output)))
</code></pre>

<p><a href="https://rextester.com/NMQDH22914" rel="nofollow noreferrer">Test it</a></p>

<p>When one tower is painted, it takes a number of brushstrokes equal to it's height.  These brushstrokes translate to all the following ones, which is indicated here by subtracting the current tower's height from all other towers (and itself, but that doesn't matter).  If a following tower is shorter, then it will be pushed to a negative number, and this negative number will subsequently subtracted from the towers that follow (indicating brushstrokes that could not be translated from a previous tower to the next ones).  It actually just subtracts the number from <em>all</em> tower heights, including previous ones, but this doesn't matter because we don't look at the previous ones again.</p>
</div>
<div id="pu12" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, <s>34</s> 32 bytes</h1>

<p><em>2 bytes trimmed by Lynn</em></p>



<pre class="lang-hs prettyprint-override"><code>g x=sum$max 0&lt;$&gt;zipWith(-)x(0:x)
</code></pre>

<p><a href="https://tio.run/##y0gszk7Nyfn/P12hwra4NFclN7FCwcBGxa4qsyA8syRDQ1ezQsPAqkLzf25iZp5tQVFmXolKerShjpGOsY4JmLSM/Q8A" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>

<p>So to start we have <code>zipWith(-)</code>.  This takes two lists and produces a new list of their pairwise differences.  We then combine it with <code>x</code> and <code>(0:x)</code>.  <code>(0:)</code> is a function that adds zero to the front of a list and by combining it with <code>zipWith(-)</code> we get the differences between consecutive elements of that list with a zero at the front.  Then we turn all the negative ones to zero with <code>(max 0&lt;$&gt;)</code>.  This creates a new list where each element is the number of new strokes that has to be started at each tower.  To get the total we just sum these with <code>sum</code>.</p>
</div>
<div id="pu13" class="pu"><h1><a href="http://jdk.java.net/" rel="nofollow noreferrer">Java (JDK)</a>, 57 bytes</h1>



<pre class="lang-java prettyprint-override"><code>a-&gt;{int s=0,p=0;for(int x:a)s-=(x&gt;p?p:x)-(p=x);return s;}
</code></pre>

<p><a href="https://tio.run/##bVDBboMwDL33K3wkk0FAV6mF0WmXSTvs1N2qHtIWqnQQosRUVIhvZ4GyimpTZMXPfnp@9plfuHs@fneiUKUmOFvsVSRy7yme/alllTyQKOW/TUM65UXfOuTcGPjkQkIzA1DVPhcHMMTJfpdSHKGwPWdDWsjTdgdcnwwbqABf5Yek93HOi5C03a0hSzrurhuLwCQ@qsSPs1I7Pa4jzoybOPVavaqoZq6jkprFOqVKSzBx28WD7qBkZ1FqyEAyTgNoIMA5hhgMsbD5HJ8xhBbvhAUupzDA4U1L09xHfwoflEL0H6UDH1e4xNVvrb2ZHZcb7UY30@zueXM1lBZeWZGn7Akpl07mcaXy65ux13N6OmM3qXbWR9v9AA" rel="nofollow noreferrer" title="Java (JDK) – Try It Online">Try it online!</a></p>

<p>Another port of <a href="https://codegolf.stackexchange.com/users/44718/tsh">tsh</a>'s <a href="https://codegolf.stackexchange.com/a/179466/16236">Javascript answer</a>. So make sure you've upvoted them.</p>

<p>Note that I used subtraction instead of addition because it allowed me to write <code>(p=x)</code> as right operand in the same statement.</p>
</div>
<div id="pu14" class="pu"><h1>Clojure, 50 bytes</h1>

<pre><code>#((reduce(fn[[s n]i][(+(max(- i n)0)s)i])[0 0]%)0)
</code></pre>

<p><a href="https://tio.run/##dY7bCoMwDIavzVMUxiBlGVSdoM8SejE8QIerUhX29lmtsO1mOZHkD@Frx@mxhV4Ehykodn7eVsiYcyqpoDxlFfuSblRYxRXVseaUPHYxDJlYd7Egk45yQw3V1FhrAbsJMpyD8@voVfqvfxYIcEIMfbe1PQ6eeVHeOst4wef9hVfllNdGL9pZzUYZe44TQJYdn6IBgIj8AZYELB9g4Rg7sPAuHsDyBX4D" rel="nofollow noreferrer" title="Clojure – Try It Online">Try it online! (Why doesn't this print anything?)</a></p>

<pre><code>#( ; begin anonymous function
    (reduce
        (fn [[s n] i] ; internal anonymous reducing function, destructures accumulator argument into a sum and the previous item
            [(+ (max (- i n) 0) s ; the sum part of the accumulator becomes the previous sum plus the larger of zero and the difference between the current number and the last one, which is how many new strokes need to be started at this point
            i]) ; ...and the previous item part becomes the current item
        [0 0] ; the initial value of the accumulator gives no strokes yet, and nothing for them to cover yet
        %) ; reduce over the argument to the function
    0) ; and get the sum element of the last value of the accumulator.
</code></pre>
</div>
<div id="pu15" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, 34 bytes</h1>
<p>A port of <a href="https://codegolf.stackexchange.com/users/58563/arnauld">@Arnauld</a>'s <a href="https://codegolf.stackexchange.com/a/179471/9288">solution</a>.</p>
<pre><code>Tr@Select[{##,0}-{0,##},#&gt;0&amp;]&amp;@@#&amp;
</code></pre>
<p><a href="https://tio.run/##JYxBCsMgFESv8uGDqwlV00CyaPAIhXYnLiQYGmi6CO7EsxtNGYY3i8fsPn7C7uO2@LLSg8r7MK/wDUu0iRkyd0mCOYNnKZwwhkV5HtsvWqZuptWycyToZiglhR4a6upQd487dAalAWODwpU2W2V9r7gMDflXlcSEEVPO5QQ" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
</div>
<div id="pu16" class="pu"><h1><a href="https://github.com/tomtheisen/stax" rel="nofollow noreferrer">Stax</a>, 8 <a href="https://github.com/tomtheisen/stax/blob/master/docs/packed.md#packed-stax" rel="nofollow noreferrer">bytes</a></h1>

<pre><code>Φ┐Γ╟φφ.╨
</code></pre>

<p><a href="https://staxlang.xyz/#p=e8bfe2c7eded2ed0&amp;i=[1,3,2,1,2,1,5,3,3,4,2]%0A[5,8]%0A[1,1,1,1]%0A[]%0A[0,0]%0A[2]%0A[2,0,2]%0A[10,9,8,9]&amp;a=1&amp;m=2" rel="nofollow noreferrer">Run and debug it</a></p>

<p>Uses the widely used approach from tsh's JavaScript solution.</p>
</div>
<div id="pu17" class="pu"><h1>Pyth, 8 bytes</h1>
<pre><code>s&gt;#0.++0
</code></pre>
<p>Yet another port of <a href="https://codegolf.stackexchange.com/a/179466/41020">@tsh's marvellous answer</a>. Takes the sum (<code>s</code>) of the positive values (<code>&gt;#0</code>) of the deltas (.+) of the input with 0 prepended (<code>+0Q</code>, trailing Q inferred).</p>
<p>Try it online <a href="https://pyth.herokuapp.com/?code=s%3E%230.%2B%2B0&amp;input=%5B1%2C3%2C2%2C1%2C2%2C1%2C5%2C3%2C3%2C4%2C2%5D&amp;debug=0" rel="nofollow noreferrer">here</a>, or verify all the test cases at once <a href="https://pyth.herokuapp.com/?code=s%3E%230.%2B%2B0&amp;input=%5B%5D&amp;test_suite=1&amp;test_suite_input=%5B1%2C3%2C2%2C1%2C2%2C1%2C5%2C3%2C3%2C4%2C2%5D%0A%5B5%2C8%5D%0A%5B1%2C1%2C1%2C1%5D%0A%5B%5D%0A%5B0%2C0%5D%0A%5B2%5D%0A%5B2%2C0%2C2%5D%0A%5B10%2C9%2C8%2C9%5D&amp;debug=0" rel="nofollow noreferrer">here</a>.</p>
<h2>String joining method, 10 bytes</h2>
<p>This was the solution I wrote before browsing the other answers.</p>
<pre><code>lcj.t+d*LN
</code></pre>
<p><a href="https://pyth.herokuapp.com/?code=lcj.t%2Bb%2ALN&amp;input=%5B%5D&amp;test_suite=1&amp;test_suite_input=%5B1%2C3%2C2%2C1%2C2%2C1%2C5%2C3%2C3%2C4%2C2%5D%0A%5B5%2C8%5D%0A%5B1%2C1%2C1%2C1%5D%0A%5B%5D%0A%5B0%2C0%5D%0A%5B2%5D%0A%5B2%2C0%2C2%5D%0A%5B10%2C9%2C8%2C9%5D&amp;debug=0" rel="nofollow noreferrer">Test suite.</a></p>
<pre><code>lcj.t+d*LNQ   Implicit: Q=eval(input()), b=&lt;newline&gt;, N=&lt;quote mark&gt;
              Trailing Q inferred
        L Q   Map each element of Q...
       * N    ... to N repeated that many times
     +b       Prepend a newline
   .t         Transpose, padding with spaces
  j           Join on newlines
 c            Split on whitespace
l             Take the length, implicit print
</code></pre>
</div>
<div id="pu18" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, 30 bytes</h1>



<pre class="lang-r prettyprint-override"><code>sum(pmax(0,diff(c(0,scan()))))
</code></pre>

<p><a href="https://tio.run/##TY3JCsMgEIbveYqBXBSmQbNAAu3DSKrFQ0xwaQulz26jpqWK8C8znzbW8LBiAzcLQyhoAwJUMLPXqwG1WpDCaWnBS@e1uVXq8m3Jnb7S1vn0S5qmoVb6YFMZXVjItognYXjVSpF5F@WbdOK7ShHHDlvk@Q277rDHllKoYcr9gGN24zGdb054TrJkVaGzP1cgbdHIDmhfMAwnHHEqHB4/" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>

<p>Porting of <a href="https://codegolf.stackexchange.com/users/58563/arnauld">@Arnauld solution</a> which in turn derives from <a href="https://codegolf.stackexchange.com/a/179466/41725">@tsh great solution</a></p>
</div>
<div id="pu19" class="pu"><h1><a href="http://www.mono-project.com/docs/about-mono/releases/5.0.0/#csc" rel="nofollow noreferrer">C# (Visual C# Interactive Compiler)</a> with flag <code>/u:System.Math</code>, 47 bytes</h1>



<pre class="lang-cs prettyprint-override"><code>n=&gt;n.Select((a,i)=&gt;i&lt;1?a:Max(a-n[i-1],0)).Sum()
</code></pre>

<p><a href="https://tio.run/##ZZHfa8IwEMefzV8RZA8Jnl1TFdRa9yAMBvrUwR5KH0qNGtBE2rg5Sv71ddeObf4gJBc@3H2/d0le9vNS1c8nnc@UtkkKeM43Ua2jufZiuZe5ZSwDxaO5momnbLrKzizr60T1RQo@5158OjBeh@Q9K6iVpV1kpSxpRLX8oOxHk2LgSVoR1sCWVQIGEIBo9wjvAxhC4GDC4TJrBGMH42smoF0OxDV32M4V8MG/Y2gR3BDwG@PhjYkPExjDBF0EdyEhG1M001CFo/khhtn/tN5S6q3dIe31OKlIZ2F0afbSeyuUleyhWyk3pV0ekk7zSkX7Phv2V5@o1Hux8iB@M7bGrDHlLiEIb7SXSjf68nzEj5JrWjWV3quJbaH0lnEHqGVphZaXtGnF1V/maBWq1Y@nafxZor63yuzuGw" rel="nofollow noreferrer" title="C# (Visual C# Interactive Compiler) – Try It Online">Try it online!</a></p>

<h2>Old version, with flag <code>/u:System.Math</code>, 63 bytes</h2>



<pre class="lang-cs prettyprint-override"><code>n=&gt;n.Aggregate((0,0),(a,b)=&gt;(a.Item1+Max(0,b-a.Item2),b)).Item1
</code></pre>

<p>I feel like this solution is more elegant than the first one. It goes through the array with a two-value tuple as a starting value, picking up values, and stores the value before it in the second part of the tuple.</p>

<p><a href="https://tio.run/##ZZBda8IwFIav7a8IsosEj11bFdRaYQiDgV4p7EK8iDXWwJZKEzdHyV9fd9KyzQ9Cvp5z8r45J9XdVMvq@aTSiVRmvQFcp/ukUslU@U9ZVoiMG0FpAAEDymHLkinl/osR72Fnwc8Y2Habe8QwyppQFXsfvCBGaDPjWmiSECU@CW08CG5svSk96mDNyhB6EEFYzwGee9CHyMKIwWXWAIYWhtcshHpYCK@5dV@@BFjDHUOL6IZA4Iz7NyYBjGAII3QJmY09b58XrhoisbQgxm3yX60/FyozB6SdDvNKrzXLlc7fhP9aSGzmQ7uUdkzaLPZarktF3Z89/Xu/lpumjb8ZWZ7vMOUuIYpvtOdSOX1xPorUiB0p3Ut/lS9NIVVGmQXUMqREy0vqvmKr7/xoJKpVj6fx8kujvr/g5vAD" rel="nofollow noreferrer" title="C# (Visual C# Interactive Compiler) – Try It Online">Try it online!</a></p>
</div>
<div id="pu20" class="pu"><h1><a href="https://www.haskell.org/" rel="noreferrer">Haskell</a>, 32 bytes</h1>



<pre class="lang-hs prettyprint-override"><code>(0%)
p%(h:t)=max(h-p)0+h%t
p%_=0
</code></pre>

<p><a href="https://tio.run/##ZY1BCoMwFET3niIbIaEj/MQKWshJWinBNo00aqhZ9PRNxV1ThoE/j@GPM@vz7n2y@pI4laIIJXenKPRk3txVQdDBlXGjV01pMuPMNLstBWPhNc6RccvOEjUU5O5mu2scoXrx02nQZkRiV0azSKCM5I8V6G9MEjq06HqRPoP15rGmagjhCw" rel="noreferrer" title="Haskell – Try It Online">Try it online!</a></p>

<p>An improvement on <a href="https://codegolf.stackexchange.com/a/179482/20260">Lynn's solution</a> that tracks the previous element <code>p</code> instead of looking at the next element. This makes the base case and recursive call shorter in exchange for needing to invoke <code>(0%)</code>.</p>

<p><code>max(h-p)0</code> could be <code>max h p-p</code> for the same length.</p>
</div>
<div id="pu21" class="pu"><h1>Perl 5, 21 bytes</h1>
<pre><code>$\+=$_&gt;$'&amp;&amp;$_-$';//}{
</code></pre>
<p><a href="https://tio.run/##K0gtyjH9/18lRttWJd5ORV1NTSVeV0XdWl@/tvr/f0MuYy4jLkMwNgWyjblMuIz@5ReUZObnFf/XLQAA" rel="nofollow noreferrer">TIO</a></p>
<p>How</p>
<ul>
<li><code>-p</code> + <code>}{</code> + <code>$\</code> trick</li>
<li><code>//</code> matches empty string so that for next line postmatch <code>$'</code> will contain previous line</li>
<li><code>$\+=$_&gt;$'&amp;&amp;$_-$'</code> to accumulate difference between current line and previous if current is greater than previous, (could also be written <code>$\+=$_-$' if$_&gt;$'</code>, but perl doesn't parse <code>$\+=$_-$'if$_&gt;$'</code> the same)</li>
</ul>
</div>
<div id="pu22" class="pu"><h1><a href="https://github.com/JohnEarnest/ok" rel="nofollow noreferrer">K (oK)</a>, <s>12</s> 7 bytes</h1>

<p>-5 bytes thanks to ngn!</p>

<p>A  <a href="https://github.com/JohnEarnest/ok" rel="nofollow noreferrer">k (oK)</a> port of Arnauld's 05AB1E solution (and tsh's JavaScript solution):</p>

<pre><code>+/0|-':
</code></pre>

<p><a href="https://tio.run/##y9bNz/7/P81KW9@gRlfd6n@agqGCsYIRkARhUyDbWMFEwYjrPwA" rel="nofollow noreferrer" title="K (oK) – Try It Online">Try it online!</a></p>

<h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, 15 bytes</h1>

<p>A J port of Arnauld's 05AB1E solution (and tsh's JavaScript solution):</p>

<pre><code>1#.0&gt;./2-~/\0,]
</code></pre>

<p><a href="https://tio.run/##RYvBCoMwEETv@YqHLYiQrpuooIJ@SXsqDaWXHjzrr8e0YGTY4c3uzieGZRKUEY3uIjpL7W9bfVf7iJUphDJMUmJZR8JizOv5/hJwNPjkv@kSN7T449jRn39/HVGvmpGMNjd9WufglIGewcQd" rel="nofollow noreferrer" title="J – Try It Online">Try it online!</a></p>

<h2>My naive solution:</h2>

<h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, 27 bytes</h1>

<pre><code>1#.2(1 0-:])\0,@|:@,~1$~"0]
</code></pre>

<p><a href="https://tio.run/##RYvBCsIwEETv@YpHLdRCDLuphTZQ6IfYkxjEi4detb8eo9DIsMOb3Z1HiuvkEAKS9OD8UZFTWNqL2PkVZrtpvVWypNZUjiZOrsHyDsTVmNv1/iSidPjs3@kzd5zx@7Fn@P/9tEeppSAFbWn6vC5BhZGB0aQP" rel="nofollow noreferrer" title="J – Try It Online">Try it online!</a></p>
</div>
<div id="pu23" class="pu"><h1><a href="https://www.haskell.org/" rel="noreferrer">Haskell</a>, 35 bytes</h1>



<pre class="lang-hs prettyprint-override"><code>f(a:b:c)=max(a-b)0+f(b:c)
f a=sum a
</code></pre>

<p><a href="https://tio.run/##ZY3BCsIwEETv/Yo9JnSETWqhLeRLpIetNVhsqlgF/z5qb64MAzuPYecs6@U0zzlHI93QHW1I8jKyGyyX0XxBEUnC@kwkOcm0UKDxWhDd7tPyIBPp4FDBw22uP3eFPXxvfzo1GkUcNimqIoMV0Y89@G/MMVo0aHub3w" rel="noreferrer" title="Haskell – Try It Online">Try it online!</a></p>

<p>Line 2 could be <code>f[a]=a</code> if I didn't also have to handle the case <code>[]</code>.</p>
</div>
<div id="pu24" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="noreferrer">05AB1E</a>, <s> 8 7 </s> 5 bytes</h1>
<p><em>Saved 2 bytes thanks to @Adnan</em></p>
<pre><code>0š¥þO
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f/f4OjCQ0sP7/P//z/a0EDHUsdCxzIWAA" rel="noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>
<h3>How?</h3>
<p>This is using the algorithm that was first found by <a href="https://codegolf.stackexchange.com/users/44718/tsh">@tsh</a>. If you like this answer, make sure to <a href="https://codegolf.stackexchange.com/a/179466/58563">upvote their answer</a> as well!</p>
<p>Each time a skyscraper is lower than or as high as the previous one, it can be painted 'for free' by simply extending the brushstrokes.</p>
<p>For instance, painting skyscrapers <span class="math-container">\$B\$</span> and <span class="math-container">\$C\$</span> in the figure below costs nothing.</p>
<p>On the other hand, we need 2 new brushstrokes to paint skyscraper <span class="math-container">\$E\$</span>, no matter if they're going to be reused after that or not.</p>
<p><a href="https://i.sstatic.net/yFBN9.png" rel="noreferrer"><img src="https://i.sstatic.net/yFBN9.png" alt="buildings" /></a></p>
<p>For the first skyscraper, we always need as many brushstrokes as there are floors in it.</p>
<p>Turning this into maths:</p>
<p><span class="math-container">$$S=h_0+\sum_{i=1}^n \max(h_i-h_{i-1},0)$$</span></p>
<p>If we prepend <span class="math-container">\$0\$</span> to the list, this can be simplified to:</p>
<p><span class="math-container">$$S=\sum_{i=1}^n \max(h_i-h_{i-1},0)$$</span></p>
<h3>Commented</h3>
<pre><code>0š¥þO     # expects a list of non-negative integers  e.g. [10, 9, 8, 9]
0š        # prepend 0 to the list                    --&gt;  [0, 10, 9, 8, 9]
  ¥       # compute deltas                           --&gt;  [10, -1, -1, 1]
   þ      # keep only values made of decimal digits
          # (i.e. without a minus sign)              --&gt;  [&quot;10&quot;, &quot;1&quot;]
    O     # sum                                      --&gt;  11
</code></pre>
</div>
<div id="pu25" class="pu"><h1><a href="https://nodejs.org" rel="noreferrer">JavaScript (Node.js)</a>, 38 bytes</h1>



<pre class="lang-javascript prettyprint-override"><code>a=&gt;a.map(v=&gt;(n+=v&gt;p&amp;&amp;v-p,p=v),p=n=0)|n
</code></pre>

<p><a href="https://tio.run/##PY/BDoIwDIbve4qddGjBAZpAzPYAHvTgcZC44ECNjsWRnTz7AD6iL4JT1DZtvib9m78n6aStrkfThbrdq75mvWRcRhdpiGOc6Clz3IxGLjRgmAt804wGN913ynaVtAozvEMihhQSiD@18JzCHJISP@8PnCOxgGzg7L35yWGOkRiAIkGB/vkrTTwB/R2aezGFHDLIv@oY7dDPh7fcVQcyK4Qo9lBOinLWBMMfmHFctdq2ZxWd24Y4wOOQjwHXZLXdrCMjr1YRF/hY9i8" rel="noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>

<p>Simply a greedy algorithm which scan from left to right, only draw lines if needed, and draw it as long as possible.</p>

<p>Thanks Arnauld, save <s>2</s> 3 bytes</p>
</div>
<div id="pu26" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 37 bytes</h1>



<pre class="lang-python prettyprint-override"><code>lambda a:sum(a)-sum(map(min,a[1:],a))
</code></pre>

<p><a href="https://tio.run/##bY7NCsIwEITvfYqAlwSmkJ8WkoK@SO1hRYoFE0OtB58@ag9JDrIsu3yzw2x8b7dHMGk@ntOd/OVKjIbny3MS7W94itwvATSqYQIJkeK6hI3PfFQw0FB799/doIOehGAH1p6Ya/JhD5uxbSr/XllSRcpMFiYh/@GSqCsIWb3SVZkSDhauhKr0AQ" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>

<p><sub>-5 bytes by switching to Python 3, thanks to Sarien</sub></p>

<hr>

<h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, <s>47</s> <s>43</s> 42 bytes</h1>



<pre class="lang-python prettyprint-override"><code>lambda a:sum(a)-sum(map(min,a[1:],a[:-1]))
</code></pre>

<p><a href="https://tio.run/##bY7LCsIwEEX3/YqAmwQmkKQtJAH9kZrFiBQLJgatC78@1kIeCxnmwbkz3Imf9fYIKs3Hc7qjv1yRoH29PUXGf81jpH4JgJO0bquWS8dYis8lrGSmk4QeFMg9x23uYQDlGDkQfiKmK3sj6Ex111zvkRVZlYxERQLEH1rMVMNA1CeGxk6AAQ2m@Mn0BQ" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>

<p>Alt:</p>



<pre class="lang-python prettyprint-override"><code>lambda a:sum(a)-sum(map(min,zip(a[1:],a)))
</code></pre>

<p><a href="https://tio.run/##bY7BCsIwEETv/YqAlwSmkKQtJAX9kdrDihQLJgatB/35qIUmOciy7PJmh9nwWi43r@O0P8YrudOZGPWPp@Mk6t9wFLibPd5z4DSofgQJIWK4z35hEx8UGmiotbvv3qCFHgXbsfrAbJXuOpiNmqpwr7UpKisbkhlJyD80hemCQeYn2iJOwsLApjwVPw" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
</div>
<div id="pu27" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 5 bytes</h1>
<p>A port of my <a href="https://codegolf.stackexchange.com/a/179471/58563">05AB1E answer</a>, which itself is similar to <a href="https://codegolf.stackexchange.com/a/179466/58563">@tsh JS answer</a>.</p>
<pre><code>ŻI0»S
</code></pre>
<p><a href="https://tio.run/##y0rNyan8///obk@DQ7uD////H22oY6xjpGMIxqZAtrGOiY5RLAA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<h3>Commented</h3>
<pre><code>ŻI0»S    - main link, expecting a list of non-negative integers  e.g. [10, 9, 8, 9]
Ż        - prepend 0                                             --&gt;  [0, 10, 9, 8, 9]
 I       - compute the deltas                                    --&gt;  [10, -1, -1, 1]
  0»     - compute max(0, v) for each term v                     --&gt;  [10, 0, 0, 1]
    S    - sum                                                   --&gt;  11
</code></pre>
</div>
<div id="pu28" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language/a950ad7d925ec9316e3e2fb2cf5d49fd15d23e3d" rel="nofollow noreferrer">Retina 0.8.2</a>, 21 bytes</h1>

<pre><code>\d+
$*
(1+)(?=,\1)

1
</code></pre>

<p><a href="https://tio.run/##HYmxCoAgFEX3@x0FmnfwaYIO0dhPOBTU0NIQ/f9L5HDgwHmv734OHc22az0dhglGnDXrwioWEFVhZKB0U@vImQGJGcIO4OkREOjbEM/CzPID" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Link includes test cases. Explanation:</p>

<pre><code>\d+
$*
</code></pre>

<p>Convert to unary.</p>

<pre><code>(1+)(?=,\1)
</code></pre>

<p>Delete all overlaps with the next tower, which don't need a new stroke.</p>

<pre><code>1
</code></pre>

<p>Count the remaining strokes.</p>
</div>
<div id="pu29" class="pu"><h1><a href="https://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, 8 bytes</h1>

<pre><code>0whd3Y%s
</code></pre>

<p><a href="https://tio.run/##y00syfn/36A8I8U4UrX4//9oQx1jHSMdQzA2BbKNdUx0jGIB" rel="nofollow noreferrer" title="MATL – Try It Online">Try it online!</a></p>

<p>Pretty much @Arnauld's algorithm. Saved one byte (thanks @LuisMendo) by casting to <code>uint64</code> rather than selecting <code>)</code> positive entries.</p>
</div>
<div id="pu30" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, 8 bytes</h1>

<p><em>-2 bytes from @Shaggy</em></p>

<pre><code>mîT Õ¸¸è
</code></pre>

<p><strong>Explanation</strong></p>

<pre><code>mîT Õ¸¸è      Full program. Implicit input U
                e.g. U = [2,0,2]
mîT             Map each item X and repeat T(0) X times
                     U = ["00","","00"]
    Õ           Transpose rows with columns
                     U = ["0 0","0 0"]
     ¸¸         Join using space and then split in space
                     U = ["0","0","0","0"]
        è       Return the count of the truthy values
</code></pre>

<p><a href="https://tio.run/##y0osKPn/P/fwuhCFw1MP7Ti04/CK//@jow11jHWMdAzB2BTINtYx0TGK1eGKNtWxAFGGOmAIYoKwgY4BiAKrMNIxgCg1NNCx1LHQsYyNVdDNDQIA" rel="nofollow noreferrer" title="Japt – Try It Online">Try it online!</a></p>
</div>
<div id="pu31" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, <s>13</s> 10 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>Z&gt;Lε@γPO}O
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f8/ys7n3FaHc5sD/Gv9//@PNtQx1jHSMQRjUyDbWMdExygWAA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/V9Waa@k8KhtkoKSfaVL6P8oO59zWyOKHc5tDvCv9f@v8z862lDHWMdIxxCMTYFsYx0THaNYHYVoUx0LEGWoA4YgJggb6BiAKLAKIx0DiFJDAx1LHQsdy9hYAA" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>Z            # Get the maximum of the (implicit) input-list
 &gt;           # Increase it by 1 (if the list only contains 0s)
  L          # Create a list in the range [1, max]
   ε         # Map each value to:
    @        #  Check if this value is &gt;= for each value in the (implicit) input
     γ       #  Split into chunks of adjacent equal digits
      P      #  Take the product of each inner list
       O     #  Take the sum
        }O   # And after the map: take the sum (which is output implicitly)
</code></pre>
</div>
<div id="pu32" class="pu"><h1><a href="https://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, <s>15</s> <s>14</s> 13 bytes</h1>

<pre><code>ts:&lt;~"@Y'x]vs
</code></pre>

<p>Input is a column vector, using <code>;</code> as separator.</p>

<p><a href="https://tio.run/##y00syfn/v6TYyqZOySFSvSK2rPj//2hDa2NrI2tDMDYFso2tTayNYgE" rel="nofollow noreferrer">Try it online!</a> Or <a href="https://tio.run/##y00syfmf8L@k2MqmTskhUr0itqz4v0vI/2hDa2NrI2tDMDYFso2tTayNYrmiTa0tgKShNRgCWUBkYG0AJEGSRtYGYEWGBtaW1hbWlrEA" rel="nofollow noreferrer">verify all test cases</a>.</p>

<h3>Explanation</h3>

<pre><code>t       % Implicit input: column vector. Duplicate
s       % Sum
:       % Range from 1 to that. Gives a row vector
&lt;~      % Greater or equal? Element-wise with broadcast
"       % For each column
  @     %   Push current columnn
  Y'    %   Run-length encoding. Gives vector of values (0, 1) and vector of lengths
  x     %   Delete vector of lengths
]       % End
v       % Vertically concatenate. May give an empty array
s       % Sum. Implicit display
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/179464/">179464</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




