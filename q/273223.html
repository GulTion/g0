<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::273223</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>071</td><td>APL Dyalog Unicode</td><td>240521T183929Z</td><td><a href="https://codegolf.stackexchange.com/questions/273223/complex-exponentiation/273225#273225">Ad&#225;</a></td></tr>
<tr d-ix="1"><td>115</td><td>Python + numpy</td><td>240522T122039Z</td><td><a href="https://codegolf.stackexchange.com/questions/273223/complex-exponentiation/273243#273243">Stef</a></td></tr>
<tr d-ix="2"><td>089</td><td>Python 3</td><td>240522T123855Z</td><td><a href="https://codegolf.stackexchange.com/questions/273223/complex-exponentiation/273244#273244">dr.me123</a></td></tr>
<tr d-ix="3"><td>107</td><td>Python</td><td>240522T114229Z</td><td><a href="https://codegolf.stackexchange.com/questions/273223/complex-exponentiation/273240#273240">corvus_1</a></td></tr>
<tr d-ix="4"><td>087</td><td>Google Sheets</td><td>240522T062401Z</td><td><a href="https://codegolf.stackexchange.com/questions/273223/complex-exponentiation/273235#273235">z..</a></td></tr>
<tr d-ix="5"><td>091</td><td>Google Sheets</td><td>240521T205307Z</td><td><a href="https://codegolf.stackexchange.com/questions/273223/complex-exponentiation/273229#273229">doubleun</a></td></tr>
<tr d-ix="6"><td>094</td><td>JavaScript ES7</td><td>240521T224652Z</td><td><a href="https://codegolf.stackexchange.com/questions/273223/complex-exponentiation/273230#273230">Arnauld</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog Unicode)</a>, <s>87</s> 71 bytes</h1>

<p>Anonymous infix lambda taking <code>[a,b]</code> as left argument, <code>[c,d]</code> as right argument, and returning <code>[x,y]</code> for <span class="math-container">\$x+yi\$</span>.</p>
<pre class="lang-apl prettyprint-override"><code>{(*-/⍵×⌽p)×2 1○+/⍵×p←({0=⍺:○.5××⍵⋄(¯3○⍵÷⍺)+○(0&gt;⍺)×¯1*0&gt;⍵}/⍺),.5×⍟+/⍺×⍺}
</code></pre>
<p><a href="https://tio.run/##SyzI0U2pTMzJT///v1pDS1f/Ue/Ww9Mf9ewt0Dw83UjB8NH0bm2IWMGjtgka1Qa2j3p3WQFF9UwPTwcq7N36qLtF49B6Y6AQSNl2oLSmNpCjYWAHYh6efmi9oRaIvbVWHySgA9L4qHc@yNRdINau2v9pQKMf9fY96mp@1LvmUe8WkHFtEx/1TQ0OcgaSIR6ewf8NFQz1TBXSFBSMFIz0TLk0tAw1DYFcDaBVQBYXUBrIA5JcQPtgbAA" rel="nofollow noreferrer" title="APL (Dyalog Unicode) – Try It Online">Try it online!</a></p>
<p><code>{</code>…<code>}</code> is an anonymous lambda with <code>⍺</code> as left argument and <code>⍵</code> as right argument.</p>
<p>The only operations used (and only on reals) are:</p>
<ul>
<li><code>×</code> multiplication</li>
<li>infix <code>+</code> addition</li>
<li>prefix <code>⍟</code> natural logarithm</li>
<li>infix <code>×</code> multiplication</li>
<li>infix <code>,</code> concatenation</li>
<li><code>f/</code> f-reduction</li>
<li>…<code>:</code>…<code>⋄</code>… ternary (if … then … else …)</li>
<li>infix <code>=</code> equality</li>
<li>prefix <code>×</code> sign</li>
<li>prefix <code>○</code> <em>pi</em> times</li>
<li>infix <code>&gt;</code> greater than</li>
<li>infix <code>*</code> exponentiation</li>
<li>infix <code>÷</code> division</li>
<li>prefix <code>¯3○</code> arctangent</li>
<li>infix <code>←</code> assignment</li>
<li>prefix <code>2 1○</code> cosine and sine</li>
<li>prefix <code>⌽</code> reverse list</li>
<li>infix <code>-</code> subtraction</li>
<li>prefix <code>*</code> exponential</li>
</ul>
<p>Note that there's no <code>atan2</code> on the list. I implement it as <span class="math-container">\$\text{atan2}(a,b)=\big(\tan^{-1}\frac{b}a\big)+\pi\Big(\frac{(1-2[0&gt;b])\,\text{sgn}\,a}2-[0&gt;b]\Big)\$</span></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a> + <a href="https://numpy.org/" rel="nofollow noreferrer">numpy</a>, 115 bytes</h1>
<p><em>-9 bytes thanks to corvus_192</em></p>
<pre class="lang-python prettyprint-override"><code>lambda x,y:[(e:=exp(linalg.det([y,t:=[arctan2(*x[::-1]),log(hypot(*x))]])))*cos(y@t),e*sin(y@t)]
from numpy import*
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=dZC9asMwEIDpmqcQdJFsWVhK7BiDoY_Q3XVBiX8i8I9wFIi2junatUugtK_TuR3zJD3HbkKHioO708F3n_T6oa3ZdO3xrUwe3nem9KKvbS2bVS7Rnto4xUWcFHuNa9XKumJ5YXBqqYmTVPZrI1uBnX0axx7PCK27Cm-s7gzcEZJlhBBn3W2xvTOEFs5Wtecym5V916B212iLVKO73jjj6u-b-7FHjTSbWZVMJpKu6JrmcYll30uLU7iAfVMDE1g1071qDa4wp4izgCIBwQJC0HRuEeYuTBR5xMIVQ4FOzwd0Orz4TISh5zM_EurCGRRYATB6tmFaQQ044BQuHyifT0P-hXDOBJ8jF_GQzaNQ_REa4ypzFRpA_MIBk-UCGD4LosUV4f3DAITH3RExEeAZXPAzwg-WavzY43HMPw" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>If someone has a trick to remove a few of these 12 pairs of brackets...</p>
<h3>Explanation</h3>
<p>To compute <code>(a + i b) ** (c + i d)</code>, it is helpful to have the two quantities</p>
<pre><code>c log(norm(a,b)) - d atan2(b,a)
c atan2(b,a) + d log(norm(a,b))
</code></pre>
<p>It turns out that with<code>y = (c,d)</code> and <code>t = (atan2(b,a), log(norm(a,b)))</code>:</p>
<ul>
<li>the first is the determinant <code>det([y,t])</code>, and</li>
<li>the second is the dot product <code>y@t</code>.</li>
</ul>
</div>
<div id="pu2" class="pu"><h1>Python 3, 89 bytes</h1>
<pre class="lang-py prettyprint-override"><code>import math
e=lambda a,b,c,d:math.e**((c+1j*d)*(math.log(a**2+b**2)/2+1j*math.atan2(b,a)))
</code></pre>
<p><a href="https://tio.run/##hY29CsMwDIR3P4VGyVFT7JKlkIeR7dC45McEL316N3G7dChBQoi777j0yuO63EqJc1q3DLPkUQ39JLMLAsKOPYf7obaD1oi@MU8dSGOVpvWBorVt3H7oag@zGpJlsehYiKgIg2PwDAF6MAym7Rjsvm2n0haXjAN@m4jUD/0pZsP1SZHNWcJwnTPs8pcrbw" rel="nofollow noreferrer">Try it online</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 107 bytes</h1>
<pre class="lang-python prettyprint-override"><code>lambda a,b,c,d:[g(c*(p:=atan2(b,a))+d*log(h:=hypot(a,b)))*h**c/exp(d*p)for g in[cos,sin]]
from math import*
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=ddC9TsMwEABgsfYpTrDYjmNit0mjSHmSUiQ3P41FE1upkejGWFZWlkoIXocZxj4JTtI2YsA66c466_PZb59mZyvdHN7L9O7j0ZZ-_P2wkfUqlyDpimY0TxZrlBFkklRa2Qi0ohJjLycbvUZVklY7oy1yZzHGpCIkuy2eDMqJwaVuYQ2qWWR6S7eqWS4nZatrqKWtQNVGt5YMV_5cXQ_7vjcxrWosKhGnwFlIQbhgIcZwWjeAuOc6Ct8j4YmugOPLHo7714CJKPIDFsRCXZwOZYXDaO8zo1ztOOcUHu-Ur-cunxHOmeBT8IBHbBpH6s9AQ4zDjAN1EL84bpL5zBkBC-PZSPj_GI7wuTcQJ8E9gwveE0E4V8NXHQ5D_gU" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>A port of Arnaulds <a href="https://codegolf.stackexchange.com/a/273230">JS answer</a></p>
</div>
<div id="pu4" class="pu"><h1>Google Sheets, 87 bytes</h1>
<p>Expects <span class="math-container">\$a\$</span>, <span class="math-container">\$b\$</span>, <span class="math-container">\$c\$</span>, <span class="math-container">\$d\$</span> in <span class="math-container">\$A1\$</span>, <span class="math-container">\$B1\$</span>, <span class="math-container">\$C1\$</span>, <span class="math-container">\$D1\$</span> respectively and it returns the result in two horizontally adjacent cells.</p>
<pre class="lang-cpp prettyprint-override"><code>=LET(a,LN(A1^2+B1^2)/2,b,ATAN2(A1,B1),c,EXP(C1*a-D1*b),d,C1*b+D1*a,{c*COS(d),c*SIN(d)})
</code></pre>
<p><a href="https://i.sstatic.net/YRPdCkx7.png" rel="nofollow noreferrer"><img src="https://i.sstatic.net/YRPdCkx7.png" alt="enter image description here" /></a></p>
</div>
<div id="pu5" class="pu"><h1>Google Sheets, 91 bytes</h1>
<pre><code>=let(s,A1^2+B1^2,a,atan2(A1,B1),r,s^(C1/2)/exp(D1*a),u,C1*a+D1*ln(s)/2,{r*cos(u),r*sin(u)})
</code></pre>
<p>Put the four coefficients in cells <code>A1:D1</code> and the formula in cell <code>E1</code>.</p>
<p>Returns the real and imaginary parts as a two-element array. To get an actual complex number, replace the final { array expression } with <code>complex()</code> (98 bytes) or <code>text()</code> (119 bytes, see the edits). The latter gives negative imaginary part with unary plus, as in <code>-0.266+-0.082i</code>, which is a valid complex number format in Google Sheets as well.</p>
<p><img src="https://i.sstatic.net/fzT9jMD6.png" alt="screenshot" /></p>
<p>Ungolfed:</p>
<pre><code>=let( 
  s, A1^2 + B1^2, 
  a, atan2(A1, B1), 
  r, s^(C1 / 2) / exp(D1 * a), 
  u, C1 * a + D1 * ln(s) / 2, 
  { r * cos(u), r * sin(u) } 
)
</code></pre>
<p>-5 bytes thanks to <a href="https://codegolf.stackexchange.com/users/58563/arnauld">Arnauld</a>.</p>
<p>The same in JavaScript <a href="https://tio.run/##dc@9TsMwEAfwnafw6K84PrdJs5iNgQGJHYHkOCk1qpIoTgsjY1l5Md6hLxLsNKBSiZMl/6Wzf7p7MXvjbe@6IdkX4/jqhg2@M8OGrDU2vOSWV9xrQw0rack7bQbTKFxyQ3ivPaXYpoqk9VuHK9oRvtOWdqyi2/YZexJa@vqhp7b1eBc@UO@aEB5H2za@3dYiPltj4AhExpEKR2SEoLnSFGFgoeXIE1ZMxYCOHwd0PHxKofI8kUIWyl395eL44iaYHE3x/jbkoEauZhCxr/d4/1gAQsECMQS5WBT5pQcTBSfkrObxoge/XJhrtQyUFFmxvJSSf6goJcBO0gyF3UDBJMls5cZv" rel="nofollow noreferrer" title="JavaScript (V8) – Try It Online">(non-competing, 102 bytes)</a>:</p>
<pre class="lang-js prettyprint-override"><code>with(Math)f=(a,b,c,d,s=a*a+b*b,p=atan2(b,a),r=s**(c/2)/exp(d*p),u=c*p+d*log(s)/2)=&gt;[r*cos(u),r*sin(u)]
</code></pre>
</div>
<div id="pu6" class="pu"><h1>JavaScript (ES7), 94 bytes</h1>
<p>Returns <code>[real, img]</code>.</p>
<p>This is essentially the formula used by <a href="https://codegolf.stackexchange.com/a/273229/58563">doubleunary</a>, except I'm computing <span class="math-container">\$\sqrt{a^2+b^2}\$</span> (with <code>hypot</code>) instead of <span class="math-container">\$a^2+b^2\$</span> to get rid of both divisions by 2.</p>

<pre class="lang-javascript prettyprint-override"><code>with(Math)f=(a,b,c,d,p=atan2(b,a))=&gt;[cos,sin].map(g=&gt;g(c*p+d*log(h=hypot(a,b)))*h**c/exp(d*p))
</code></pre>
<p><a href="https://tio.run/##dc@7TsMwFAbgnafw6FucHLdJs6QbAwMSOwLJddLYqMQWibhsjGXlxXiHvkiw01BBJY4s@Zdsf/r9oJ5Vr5@sH5LO1c04vtjB4Gs1GLKtsOIbrnnNfaUG1Um84YqQan2rXc97292JR@VxW61brKlnNd25FpvKvHk3xLeEEGoo1Wnz6nFNPSGjdl3vdo2IN7cYOAKRcyTDEjkhaJ40RRhYOLLkHksmY0CHjz067D8zIYsiyURWSnvxl4u1xWUwOZrizVXIQY1cwyBiX@9x/7EAhIQFYggKsSiLcw8mCo7Ir5nrRQ9OXOi1WgYqE3m5PJeSf6goJcCO0gyFv4GEScrylR2/AQ" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/273223/">273223</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




