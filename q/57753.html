<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::57753</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>033</td><td>Perl 5 p</td><td>240117T201559Z</td><td><a href="https://codegolf.stackexchange.com/questions/57753/emoticon-facial-expression-recognition/269318#269318">Xcali</a></td></tr>
<tr d-ix="1"><td>078</td><td>[AutoHotkey]</td><td>210104T170604Z</td><td><a href="https://codegolf.stackexchange.com/questions/57753/emoticon-facial-expression-recognition/217287#217287">xbarbie</a></td></tr>
<tr d-ix="2"><td>052</td><td>Java 8</td><td>180404T101303Z</td><td><a href="https://codegolf.stackexchange.com/questions/57753/emoticon-facial-expression-recognition/161252#161252">Kevin Cr</a></td></tr>
<tr d-ix="3"><td>075</td><td>Python 3</td><td>180404T100000Z</td><td><a href="https://codegolf.stackexchange.com/questions/57753/emoticon-facial-expression-recognition/161249#161249">etene</a></td></tr>
<tr d-ix="4"><td>055</td><td>Python 3</td><td>150914T214721Z</td><td><a href="https://codegolf.stackexchange.com/questions/57753/emoticon-facial-expression-recognition/57946#57946">xbarbie</a></td></tr>
<tr d-ix="5"><td>092</td><td>PowerShell</td><td>150917T171553Z</td><td><a href="https://codegolf.stackexchange.com/questions/57753/emoticon-facial-expression-recognition/58170#58170">AdmBorkB</a></td></tr>
<tr d-ix="6"><td>8583</td><td>MATLAB</td><td>150913T042419Z</td><td><a href="https://codegolf.stackexchange.com/questions/57753/emoticon-facial-expression-recognition/57820#57820">slvrbld</a></td></tr>
<tr d-ix="7"><td>6918</td><td>Julia</td><td>150912T153238Z</td><td><a href="https://codegolf.stackexchange.com/questions/57753/emoticon-facial-expression-recognition/57777#57777">pawel.bo</a></td></tr>
<tr d-ix="8"><td>032</td><td>CJam</td><td>150912T102920Z</td><td><a href="https://codegolf.stackexchange.com/questions/57753/emoticon-facial-expression-recognition/57756#57756">Martin E</a></td></tr>
<tr d-ix="9"><td>046</td><td>JavaScript ES6</td><td>150912T133222Z</td><td><a href="https://codegolf.stackexchange.com/questions/57753/emoticon-facial-expression-recognition/57766#57766">edc65</a></td></tr>
<tr d-ix="10"><td>050</td><td>Brachylog</td><td>150912T130700Z</td><td><a href="https://codegolf.stackexchange.com/questions/57753/emoticon-facial-expression-recognition/57765#57765">Fatalize</a></td></tr>
<tr d-ix="11"><td>086</td><td>Python</td><td>150912T113924Z</td><td><a href="https://codegolf.stackexchange.com/questions/57753/emoticon-facial-expression-recognition/57760#57760">cjfaure</a></td></tr>
<tr d-ix="12"><td>159</td><td>Python</td><td>150912T104352Z</td><td><a href="https://codegolf.stackexchange.com/questions/57753/emoticon-facial-expression-recognition/57758#57758">xenia</a></td></tr>
<tr d-ix="13"><td>036</td><td>Retina</td><td>150912T101752Z</td><td><a href="https://codegolf.stackexchange.com/questions/57753/emoticon-facial-expression-recognition/57755#57755">Martin E</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> <code>-p</code>, 33 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>$_=/.[[(c&lt;{]$|[\])&gt;}]./?sad:happy
</code></pre>
<p><a href="https://tio.run/##K0gtyjH9/18l3lZfLzpaI9mmOlalJjomVtOuNlZP3744McUqI7GgoPL/f6tkzX/5BSWZ@XnF/3V9TfUMDA3@6xYAAA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1>[AutoHotkey], 78 bytes</h1>

<pre class="lang-autohotkey prettyprint-override"><code>InputBox,e
MsgBox % RegExMatch(e,&quot;(^[\])&gt;}].+$)|(^.+[\[(c&lt;{]$)&quot;)?&quot;sad&quot;:&quot;happy&quot;
</code></pre>
<h2>How does it work</h2>
<p>Using RegEx and ternary operator. Nothing new, as some answers used this method too.
If input string starts with <code>])&gt;}</code> or ends with <code>[(c&lt;{</code>, it is sad, otherwise it is happy.</p>
</div>
<div id="pu2" class="pu"><h1>Java 8, 52 bytes</h1>

<pre class="lang-java prettyprint-override"><code>e-&gt;e.matches(&quot;.+[\\[(c&lt;{]|[)&gt;\\]}].+&quot;)?&quot;sad&quot;:&quot;happy&quot;
</code></pre>
<p><a href="https://tio.run/##jVE9T8MwEN35FU@ebFXJ0iW6NkFCWenCgpS4knEDTWmTqDGIquS3l9c2CAYGpHd@92Gd35037t1Fm9XryW9d3@Pe1c3xBqibUO2fna@wOIfAQ9jXzQu8Hp3KzJgfaEQfXKg9FmiQ4lRFWRXvXPDrqtcqnhRlWWg/P9rPwmRlaQcbT5S5Vb1bKVFr13UHdZpdO3VvT1t2Ghu@t/UKO0oaXy0snLnqeW7331IuHSBQEhkIkUNakoVMIZ5ehtQiMUjpD5AlKcqRnC3HB@kjxyPpMUdKSs80RTrF3TKHjgSaaAWFYM4zhU6gUxyZXYqK@25bB62gjLlo47YOfah2cfsW4o4aw7bRF5UTVQY1aWJ/Dc1liX9eHyu/xuS6zkNmUlC9hhCR53ykOYSIWCCOSDRn07BMGoo3goyUCSzJCgbmEpaSf0rnyz/CGZjx74fTFw" rel="nofollow noreferrer">Try it online.</a></p>
<p><strong>Explanation:</strong></p>
<pre class="lang-java prettyprint-override"><code>e-&gt;          // Method with String as both parameter return-type
  e.matches( &quot;.+[\\[(c&lt;{]|[)&gt;\\]}].+&quot;)                   
             //  Checks if the input matches the regex
   ?&quot;sad&quot;    //  If it does: output &quot;sad&quot;
   :&quot;happy&quot;  //  Else: output &quot;happy&quot;
</code></pre>
<p>Java's <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#matches(java.lang.String)" rel="nofollow noreferrer"><code>String#matches</code></a> implicitly adds <code>^...$</code> to match the entire String, which is why it is shorter to check for sad faces instead of checking for happy faces like most other answers do with <code>.+[\\])D3&gt;}]|[&lt;\\[({].+</code> (because my regex would fail in <a href="https://codegolf.stackexchange.com/a/57755/52210"><em>@MartinEnder</em>'s Retina answer</a> for example, due to the happy test case <code>:c)</code>).</p>
<p><strong>Regex explanation:</strong></p>

<pre class="lang-none prettyprint-override"><code>^.+[\\[(c&lt;{]|[)&gt;\\]}].+$
^                           Start of the string
 .+                          One or more characters,
   [\\[(c&lt;{]                 followed by one of &quot;[(c&lt;{&quot;
            |               Or
             [)&gt;\\]}]        One of &quot;)&gt;]}&quot;,
                     .+      followed by one or more characters
                       $    End of the string
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 75 bytes</h1>



<pre class="lang-python prettyprint-override"><code>lambda y:"sad"if re.match("(.*[[(c&lt;{]$)|(^[\])&gt;}])",y)else"happy"
import re
</code></pre>

<p><a href="https://tio.run/##HY/NioNAEITvPkUhC/aEmIsXaTIeFh8iYEZwjRLBPxwPETfP7lYWauZrqqluet7W5zQmR2vvR18NP48Km4a@eoRdi6W5DNVaPyWUy6kopL7u7sv8SlncncnezoTnzTS9b8JnNc9bGHTDPC0rc0db1Y2HRaSxgVI5dCIcNIHWrDJYh9TAsn5DSyLOkX5ejhfxynEjbjksYT9IYBN8lzkkVgg1KQrFlb@FpBCLnW6pyLTgPIFScc2NxBVKxWxQO1LhNoGjaTjOMBR/gnCEU7zppWyl0cXPfbdKhMgEQTst8OhG/J@oAealG1fxZ7TijQmOPw" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online</a></p>

<p>The regex import makes it a bit too long, as well as the inability to use <code>None</code> as an array index. But I like regex :)</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, <s>77</s> <s>75</s> <s>74</s> <s>72</s> <s>61</s> 55 bytes</h1>



<pre class="lang-python prettyprint-override"><code>lambda e:('happy','sad')[e[-1]in'[(c&lt;{'or e[0]in'])&gt;}']
</code></pre>

<p><a href="https://tio.run/##HY/NisMwDITvfYq5BMtQL7vkEkSdw@KHKGQdyOaHBrpJqHtoKXn27KQw8idrkISW5/0yT/k2@J/t2vz9dg16FXNpluVpjiY1nbFVX7mvOE6mkvb0MvMNffW5/6MtVxO3oWn7BA@jzkKpAJ2JCM2hLbMSPqKw8MxXaE24gGKPgAfxCDgT5wBP@B05fI7vOkCcQqhZUSlOfD2kgHi8WK0VpVacJ1DKtdxInKCUo0G9UAi3CSKLluMsm9zeiEhExcpaQaswH2m5jncxMPZwGHhrwjhB3jdaPWC5jRPt7IYsAQYZJB0xSLL2iH7q/Ltz@wc" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>

<h2>How does it work</h2>

<p>If a face string starts with <code>])&gt;}</code> or ends with <code>[(c&lt;{</code>, it is sad, otherwise it is happy. Tuple indexing is used as <code>if</code>.</p>
</div>
<div id="pu5" class="pu"><h1>PowerShell, 92 Bytes</h1>
<pre><code>param([char[]]$a)if(&quot;&lt;[({&quot;.IndexOf($a[0])+&quot;})D3]&gt;&quot;.IndexOf($a[-1])-eq-2){&quot;sad&quot;}else{&quot;happy&quot;}
</code></pre>
<p>A little wordy, but as a bonus, it doesn't use regex!</p>
<p>This takes advantage of the .NET <code>&lt;string&gt;.IndexOf()</code> function that returns <code>-1</code> if the character <em>isn't</em> found in the string. So, if the first character isn't a &quot;happy&quot; character, the first <code>IndexOf()</code> will be -1 -- likewise for the last character. So, if it's a sad face, the <code>IndexOf()</code>s will always sum to -2, meaning the <code>-eq-2</code> is <code>$TRUE</code>, and thus <code>sad</code> gets printed.</p>
<hr />
<h3>Bonus variant: PowerShell with Regex, 95 bytes</h3>
<pre><code>param([char[]]$a)if(($a[0]-match&quot;[&lt;\[\(\{]&quot;)-or($a[-1]-match&quot;[\}\)D3\]&gt;]&quot;)){&quot;happy&quot;}else{&quot;sad&quot;}
</code></pre>
</div>
<div id="pu6" class="pu"><h1>MATLAB, <del>85</del> 83 bytes</h1>

<p>There must be a way to reduce the size here.</p>

<pre><code>e=input('');if any([e(end)=='[(c&lt;{',e(1)=='])&gt;}']),'sad';else 'happy';end,disp(ans)
</code></pre>

<p>Input is a smiley string. First and last characters will be compared to determine whether it's sad. If not, it's happy.</p>

<p>I was able to save 2 bytes by not displaying either, but assigning them to MATLAB's default variable (ans) instead and then displaying ans after the if-statement. But I'm convinced it can be improved somehow.</p>

<p>2 bytes improvement by changing <em>function s(e),</em> to <em>e=input('');</em>.</p>
</div>
<div id="pu7" class="pu"><h1>Julia, <strike>87</strike> 69 bytes - saved 18 bytes thanks to Alex A.</h1>
<pre><code>s=readline();print(s[end-1] in&quot;)D]3&gt;}&quot;||s[1] in&quot;([&lt;{&quot;?&quot;happy&quot;:&quot;sad&quot;)
</code></pre>
</div>
<div id="pu8" class="pu"><h1>CJam, <s>33</s> 32 bytes</h1>

<p><em>Thanks to Dennis for saving 1 byte.</em></p>

<pre><code>q)"[(c&lt;{"&amp;\"])&gt;}"&amp;|"sad""happy"?
</code></pre>

<p>Looks like it's shorter to do the same thing without a regex...</p>

<p><a href="http://cjam.aditsu.net/#code=qS%2F%7B%3AQ%3B%0A%0AQ)%22%5B(c%3C%7B%22%26%5C%22%5D)%3E%7D%22%26%7C%22sad%22%22happy%22%3F%0A%0A%5DoNo%7D%2F&amp;input=%3A-)%20%3A)%20%3AD%20%3Ao)%20%3A%5D%20%3A3%20%3Ac)%20%3A%3E%20%3D%5D%208)%20%3D)%20%3A%7D%20%3A%5E)%20%3A-D%208-D%208D%20x-D%20xD%20X-D%20XD%20%3D-D%20%3DD%20%3D-3%20%3D3%20B%5ED%20(-%3A%20(%3A%20(o%3A%20%5B%3A%20%3C%3A%20%5B%3D%20(8%20(%3D%20%7B%3A%20(%5E%3A%20%3E%3A%5B%20%3A-(%20%3A(%20%3A-c%20%3Ac%20%3A-%3C%20%3A%3C%20%3A-%5B%20%3A%5B%20%3A%7B%208(%208-(%20%5D%3A%3C%20)-%3A%20)%3A%20%3E-%3A%20%3E%3A%20%5D-%3A%20%5D%3A%20%7D%3A%20)8%20)-8">Test it here.</a></p>

<h2>Explanation</h2>

<p>This based on the same observation as the Retina answer, but this time matching happy faces doesn't have any benefit, so we'll match sad faces instead (because there's one less mouth to take into account). The solution is otherwise exactly the same, except that it's not implemented via regex substitution:</p>

<pre><code>q)             e# Read input and split off last character.
"[(c&lt;{"&amp;       e# Set intersection with the sad right-hand mouths.
\              e# Pull up remaining emoticon.
"])&gt;}"&amp;        e# Set intersection with the sad left-hand mouths.
|              e# Set union, which amounts to a logical OR in this case.
"sad""happy"?  e# Pick the correct string.
</code></pre>
</div>
<div id="pu9" class="pu"><h1>JavaScript (ES6), 46</h1>

<p>Using a regexp to find sad emoticons, that are those beginning with <code>&gt;)]}</code> or ending with <code>&lt;([{c</code>. Side note: other regexps here may be shorter but I'm not sure to understand them.</p>

<p>Usual note: test running the snippet on any EcmaScript 6 compliant browser (notably <s>not</s> newest Chrome but not MSIE. I tested on Firefox, Safari 9 could go) </p>

<p><strong>Big news</strong> It seems arrow functions finally arrived to Chrome land! <a href="https://www.chromestatus.com/feature/5047308127305728">Rel 45, august 2015</a> 
<div class="snippet" data-lang="js" data-hide="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>F=s=&gt;/^[\])}&gt;]|[[({&lt;c]$/.test(s)?'sad':'happy'

//Same length
X=s=&gt;/[\])}&gt;].|.[[({&lt;c]/.test(s)?'sad':'happy'

Y=s=&gt;s.match`].|[)}&gt;].|.[[({&lt;c]`?'sad':'happy'
                 
//TEST
out=x=&gt;O.innerHTML+=x+'\n';

sad='&gt;:[ :-( :( :-c :c :-&lt; :&lt; :-[ :[ :{ 8( 8-( ]:&lt; )-: ): &gt;-: &gt;: ]-: ]: }: )8 )-8'.split` `
happy=':-) :) :D :o) :] :3 :c) :&gt; =] 8) =) :} :^) :-D 8-D 8D x-D xD X-D XD =-D =D =-3 =3 B^D (-: (: (o: [: &lt;: [= (8 (= {: (^:'.split` ` 

out('The sad faces')                   
sad.forEach(x=&gt;out(x + ' is ' + F(x)))
out('\nThe happy faces')
happy.forEach(x=&gt;out(x + ' is ' + F(x)))</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;pre id=O&gt;&lt;/pre&gt;</code></pre>
</div>
</div>
</p>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/JCumin/Brachylog" rel="nofollow">Brachylog</a>, 50 bytes</h1>

<pre><code>(rh{,"[(c&lt;{":Im?};?h{,"])&gt;}":Im?}),"sad".;"happy".
</code></pre>

<h3>Explanation</h3>

<pre><code>(                              ),"sad".;"happy".  § If what's in the parentheses is true,
                                                  § output "sad", else output "happy".

 rhA                                              § Unify A with the last char of the input
    ,"[(c&lt;{":ImA                                  § True if A is a char of "[(c&lt;{"
                ;                                 § OR
                 ?hA                              § Unify A with the first char of the input
                    ,"])&gt;}":ImA                   § True if A is a char of "])&gt;}"
</code></pre>
</div>
<div id="pu11" class="pu"><h1>Python, 86 bytes</h1>

<p>I should be sent to prison.</p>

<pre class="lang-python prettyprint-override"><code>x=lambda c: ["happy","sad"][c[0]+c[-1:]in open(__file__).read(88)[::-1]]#&lt;][&gt;&lt;:&gt;{:}(:)
</code></pre>

<p>The shortest I could come up with was equivalent to Martin's CJam answer, so I decided I'd hide all the sad emojis (minus the middle character if any) in the reverse of my code and use Python's <code>__file__</code> quine cheat.</p>

<p>Muahahaha.</p>
</div>
<div id="pu12" class="pu"><h1>Python, 159 bytes.</h1>
<pre><code>i,e=raw_input(),0
for c in i:e=(e,i.index(c))[c in&quot;:=8xXB&quot;]
f,s,h=i[:e],i[e+1:],0
for c in f:h+=c in&quot;[(c&lt;{&quot;
for c in s:h+=c in&quot;)]}&gt;D&quot;
print[&quot;Sad&quot;,&quot;Happy&quot;][h&gt;0]
</code></pre>
</div>
<div id="pu13" class="pu"><h1><a href="https://github.com/mbuettner/retina">Retina</a>, <s>38</s> 36 bytes</h1>

<pre><code>.+[])D3&gt;}]|[&lt;[({].+
happy
^...?$
sad
</code></pre>

<p>We can recognise all emoticons by their mouths, because none of the mouths is used as a hat or eyes in the other set (only in the same set). The happy ones have one more mouth to take into account, but they have the benefit that the mouths don't appear in the other set at all, not even as noses (the opposite is not true: <code>c</code> is both a sad mouth and a happy nose). This means we can avoid using anchors but instead just ensure that there are more characters on the other side of the mouth.</p>

<p>So the valid mouths for happy faces are <code>] ) D 3 &gt; }</code> on the right or <code>&lt; [ ( {</code> on the left. We match those with <code>.+[])D3&gt;}]|[&lt;[({].+</code> and replace them with <code>happy</code>. If we didn't match there will be two or three characters in the string (the emoticon), but if we did there will be five (<code>happy</code>). So in a second step we replace two or three characters with <code>sad</code>.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/57753/">57753</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




