<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::274358</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>026</td><td>Charcoal</td><td>240725T125118Z</td><td><a href="https://codegolf.stackexchange.com/questions/274358/double-dequer-sort/274434#274434">Neil</a></td></tr>
<tr d-ix="1"><td>020</td><td>05AB1E</td><td>240724T080558Z</td><td><a href="https://codegolf.stackexchange.com/questions/274358/double-dequer-sort/274390#274390">Kevin Cr</a></td></tr>
<tr d-ix="2"><td>014</td><td>Nekomata + e</td><td>240724T030317Z</td><td><a href="https://codegolf.stackexchange.com/questions/274358/double-dequer-sort/274380#274380">alephalp</a></td></tr>
<tr d-ix="3"><td>226</td><td>Elisp</td><td>240723T150252Z</td><td><a href="https://codegolf.stackexchange.com/questions/274358/double-dequer-sort/274359#274359">Samuel J</a></td></tr>
<tr d-ix="4"><td>079</td><td>JavaScript Node.js</td><td>240723T200514Z</td><td><a href="https://codegolf.stackexchange.com/questions/274358/double-dequer-sort/274367#274367">l4m2</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 26 bytes</h1>
<pre><code>Ｆ³«≔⮌θθＦＬθ¿⁼§θκ⌈θ§≔θκ⁰»¬⌈θ
</code></pre>
<p><a href="https://tio.run/##S85ILErOT8z5/z8tv0hBw1hToZqL07G4ODM9TyMotSy1qDhVo1BTR6FQ05qLE6zEJzUvvSQDKKipkJmmoOFaWJqYU6zhWOKZl5JaoVGoo5ANVO6bWJGZW5oLUqWpADEOWYWOggHQvFqugKLMvBINv/wSDWQN1v//R0eb6pgAoamOMRib6RjpmMXG/tctywEA" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Outputs a Charcoal boolean, i.e. <code>-</code> for double dequer, nothing if not. Explanation: Assumes the correctness of @l4m2's polynomial time algorithm.</p>
<pre><code>Ｆ³«
</code></pre>
<p>Repeat thrice.</p>
<pre><code>≔⮌θθ
</code></pre>
<p>Reverse the array.</p>
<pre><code>ＦＬθ
</code></pre>
<p>Loop over its indices.</p>
<pre><code>¿⁼§θκ⌈θ
</code></pre>
<p>If this element is the maximum of those remaining, then...</p>
<pre><code>§≔θκ⁰
</code></pre>
<p>... replace it with <code>0</code>.</p>
<pre><code>»¬⌈θ
</code></pre>
<p>If the array only contains <code>0</code>s then the original array was double dequer.</p>
<p>Unfortunately <code>MapCommand</code> only updates the array at the end of the map, otherwise you could write something like this for 20 bytes:</p>
<pre><code>Ｆ³«≔⮌θθＵＭθ∧⁻κ⌈θκ»¬⌈θ
</code></pre>
<p>29 bytes to support all integers:</p>
<pre><code>Ｆ³«≔⮌θθＦ⮌Ｅθλ¿⁼§θκ⌊θ≔Φθ⁻μκθ»¬θ
</code></pre>
<p><a href="https://tio.run/##NY07D4IwFIVn@BUdb5O6iLAwMWjigDGuhKHBog192AfExPjba0swJ3c55zvnDk9qB01FCKO2CAqMPnnWOMcfCm5sYdYxMJggg@s8W5G/29IXGIIExhjxEcHRzFQ4aPxZ3dk7RVPstVxxOcu4EbFt98SFZzYRMZ0dyIRuP7751XLl4aJ96tQhdF1JDlElKdaryJ5UfR92i/gB" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Outputs a Charcoal boolean, i.e. <code>-</code> for double dequer, nothing if not. Explanation: Assumes the correctness of @l4m2's polynomial time algorithm.</p>
<pre><code>Ｆ³«
</code></pre>
<p>Repeat thrice.</p>
<pre><code>≔⮌θθＦ⮌Ｅθλ
</code></pre>
<p>Reverse the array and then loop over its indices in reverse. (This is because I want to be able to remove elements as I go.)</p>
<pre><code>¿⁼§θκ⌊θ
</code></pre>
<p>If this element is the minimum of those remaining, then...</p>
<pre><code>≔Φθ⁻μκθ
</code></pre>
<p>... remove that element.</p>
<pre><code>»¬θ
</code></pre>
<p>If the array is now empty then the original input was double dequer.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 20 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>&quot;.œειćRíì˜&quot;D…D{QJ.Và
</code></pre>
<p>Port of <a href="https://codegolf.stackexchange.com/a/274380/52210"><em>@alephalpha</em>'s Nekomata answer</a>, so make sure to upvote that answer as well!</p>
<p><a href="https://tio.run/##ATUAyv9vc2FiaWX//yIuxZPOtc65xIdSw63DrMucIkTigKZEe1FKLlbDoP//WzQsNSw2LDEsMiwzXQ" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/V9Waa@k8KhtkoKS/X8lvaOTz209t/NIe9DhtYfXnJ6j5PKoYZlLdaBXZbFe2OEF/3X@R0eb6JjqmOkY6hjpGMfqRBuCMIitYwJkmQBpIx2wmIEODAF5QFmguClQlxlUlSmQbwZRCdIDVWMKM1ch2hRkJIgLlDIHW4nMt9Cx1EHWEAsA" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>&quot;.œειćRíì˜&quot;           # Push this string
           D          # Duplicate it
            …D{Q      # Push string &quot;D{Q&quot;
                J     # Join the stack together: &quot;.œειćRíì˜.œειćRíì˜D{Q&quot;
                 .V   # Evaluate and execute as 05AB1E code (see below)
                   à  # Check if any is truthy by taking the flattened maximum
                      # (which is output implicitly as result)

.œ                    # Get all partitions of the (implicit) input-list
  ε                   # Map over each partition:
   ι                  #  Uninterleave it into two parts
    ć                 #  Head extracted
     R                #  Reverse the list of parts
      í               #  And also reverse each inner part itself
       ì              #  Prepend it back to the other part
        ˜             #  Flatten all of it to a single list
         .œειćRíì˜    #  Do the same for each of those inner lists
                  D   #   Duplicate each of those inner-most lists
                   {  #   Sort the copy
                    Q #   Check if the two are equal (aka it was already sorted)
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/AlephAlpha/Nekomata" rel="noreferrer">Nekomata</a> + <code>-e</code>, 14 bytes</h1>
<pre><code>o$2ᵑ{Jĭᵃjᵈ↔,}=
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70iLzU7PzexJHFNtJJurpKOgpJuqlLsgqWlJWm6FtvzVYwebp1Y7XVk7cOtzVkPt3Y8apuiU2u7pDgpuRiqZsHN5dGGsVzRhjpGOsY6JkCWkY4JkAUSA9FGYJahgQ4MAXlAdUBxUx1DHTOoKlMg3wys0hQoZwLkG4OxGUgcbDrQJKhOkD6gXWC1IL4hWMYcKG6GwrfQsdRBVg9xLwA" rel="noreferrer">Attempt This Online!</a></p>
<pre><code>o$2ᵑ{Jĭᵃjᵈ↔,}=
o               Sort the input
 $              Push the input again
  2ᵑ{       }   Apply the following function twice:
     J              Nondeterministically partition the input
                    e.g. [4,3,5,2,6,1] may become [[4,3],[5],[2],[6],[1]]
      ĭ             Uninterleave
                    e.g. [[4,3],[5],[2],[6],[1]] -&gt; [[4,3],[2],[1]], [[5],[6]]
       ᵃj           Concatenate both parts
                    e.g. [[4,3],[2],[1]], [[5],[6]] -&gt; [4,3,2,1],[5,6]
         ᵈ↔         Reverse the first part
                    e.g. [4,3,2,1],[5,6] -&gt; [1,2,3,4],[5,6]
           ,        Join the two parts
                    e.g. [1,2,3,4],[5,6] -&gt; [1,2,3,4,5,6]
             =  Check equality (comparing to the sorted input)
</code></pre>
</div>
<div id="pu3" class="pu"><h1>Elisp 226 bytes</h1>
<pre><code>(defun d(i r)(let((o(list(pop i))))(while(and i o)(let((n(pop i)))(if(&lt;= n(car o))(setq o(cons n o))(if(&gt;= n(car(last o)))(setq o(append o(list n)))(if r(progn(setq o(cons n o))(if(not i)(setq o(d o nil))))(setq o nil))))))o))
</code></pre>
<p><a href="https://tio.run/##hVLLboMwELzzFaNIVdeHSCUB0kptv6QXC0xqybFd7KifTxcIKVVNYuEDO48d26tOsg5bo4PvyXfuaNFTo9qzRUManSCjIpEjZkTyzkMLXvT9qY0iaRtouAvJXnHSLb2@wVItO4YFBRW/4Kh2NsCOFWa8XxhkZIhD8cqT3iu2nrrCTo7opoBpM@sit54x1sJqI349518hWJD1UzV2Z7WtZVABj5Th36JcJKvYYY8iiRWM7LCie8L8JXH2ZG2JHNWqd8mMasW/ZH3BjP24q4G5kp8zriYY@vP5UvhcE1k2XWArTbh5g2OqwTVPd2T8wB2ru5xnvOBOur/5GjcOD8nFKwvQSYUgjwqbh/BhN@BJYQJPxVKwONUtheh/AA" rel="nofollow noreferrer">Try it online!</a></p>
<p>ungolfed:</p>
<pre><code>(defun double-dequer-sort (input recursive)
  (let ((output (list (pop input))))
(while (and input output)
  (let ((next (pop input)))
    (if (&lt;= next (car output))
    (setq output (cons next output))
      (if (&gt;= next (car (last output)))
      (setq output (append output (list next)))
    (if recursive
        (progn
          ;; no idea whether to add to end or beginning here
          (setq output (cons next output))
          (if (not input)
          (setq output (double-dequer-sort output nil))
        )
          )
      (setq output nil)
      )
    )
      )
    )
  )
output
)
  )
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 79 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>f=([c,...x],i,...z)=&gt;c?f(x,i,...z,c)|f(x,i,c,...z):i?!z.some(t=&gt;i&gt;(i=t)):f(z,1)
</code></pre>
<p><a href="https://tio.run/##VY1NDoIwEIX3ngJ3bTI2lj@VpHAQwoJUasYgNUAMId69Tq0sTNrOzPvem97bVzvpEZ/zYbDXzjmjWK1BCLE0gL6uXJW6Mmz5jaD5O0w64AKr/Som@@jYrEosGaqZ88KwFSR3xo4MI2uielfLBuiBGBJIfZtSE0NQj7AdP5KBSAYS8s2YkZAHc0Y0JSH53tyDsJnWbWmfpY@C3QsysBOR/F84wwX@Iw3Xdphs34ne3hhCZBhy7j4" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>Brute-force</p>
<h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 82 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>f=(x,i=0)=&gt;x.map(g=(c,i)=&gt;c&gt;Math.min(...x)?++g:x[i]=1/0)&amp;&amp;g?i&lt;4:f(x.reverse(),i+1)
</code></pre>
<p><a href="https://tio.run/##VY/RjoIwEEXf9yt4MtMwW6kCKrH6BfsFhAfCtjgbpQaI6d/jdBseTNpm5p57Z9K/9tVO3UjP@Xtwv2ZZrAaPpDOhL14@2if0GjokbrvLTzvf5IMGkFJ6cU3TvvI1NVptM7HZ9Fc655UFL0fzMuNkQCClSizWjUCJs0n9VasG@cEd7jEPZc7FDqOa4XpCywYmBSosV2PBQhnNBdOchf3/LQOIk3ncmg5ZXhTtQVCRHZiUn8IRT/gZaUTnhsndjby7Hmr@MTWYWCAhljc" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>Polynomial time</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/274358/">274358</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




