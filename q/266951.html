<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::266951</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>303</td><td>sed n</td><td>231121T220045Z</td><td><a href="https://codegolf.stackexchange.com/questions/266951/get-the-bible-verse/266969#266969">Philippo</a></td></tr>
<tr d-ix="1"><td>070</td><td>Jelly</td><td>231121T211417Z</td><td><a href="https://codegolf.stackexchange.com/questions/266951/get-the-bible-verse/266968#266968">Nick Ken</a></td></tr>
<tr d-ix="2"><td>238</td><td>JavaScript Node.js</td><td>231121T210243Z</td><td><a href="https://codegolf.stackexchange.com/questions/266951/get-the-bible-verse/266967#266967">Arnauld</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>sed <code>-n</code>: <s> 330 321 </s> 303 bytes <em>(296 with GNU <code>sed -nE</code>)</em></h1>
<ul>
<li>Tested with BSD <code>sed</code>, so I could not use <code>-E</code> in combination with back references, which did cost me quite a few bytes.</li>
<li>The reference is given in the first line. In real life you can do this like <code>sed 'the script' &lt;&lt;(echo Luke 19:10;cat pg10.txt)</code></li>
<li>The DOS-style CRLF is nasty, eating some extra bytes</li>
</ul>
<pre><code>1{s/^\([123]\) /\1/;s/.* S/S/;/:/!s/ / 1:/;h;}
/\n/!N;N;s/^M//g;/^..$/!D;n;n;s/^M//;/Bi/D
/[ALR][cae]/s/ of.*//
s/The F/1/;s/The Se/2/;s/The T/3/;s/^[123].*M//
s/[^0-9]* //;s/ms$/m/;G;/^\(..*\)\n\1/!d
:1
n;G;/\(.*:.*\) .*\n.* \1$/!b1
s/\n.*//;s/.*[0-9]:[0-9]* //
:2
N;/ *[0-9]*[:*][*0-9].*/!b2
s///;s/^M\n/ /g;p
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, <s>80</s> 70 bytes</h1>
<pre><code>ḢfØDV+2ị=”JƲo1
Ḳ-ị⁹œṣ”¶x5¤¤Ỵ€¤Ḣw¥Ƈị@Ç{KœṣḲṪ¹⁾1:;$f?”:ʋ2ịwⱮØD;€”:¤œPƊḢḊ
</code></pre>
<p><a href="https://tio.run/##7VhNbxzHEb3Pr@hDbpkY4sq2LAqBQ0aCTNqSDFGOAN96dnp3WpyZ3nTPcLTMxc7FgH30JTnk4igIEAQBYgSBBAM5ULAO@RfkH1FeVXXP7lI0HCCXHJYX7vRHddWrqlfV/cTU9fL16/Pn38xe/u72r346Of/uq59ffPaHw1ffup3s/Pm3P8PAxecvvv/6/MUfMX72z6fvnD07e3b@3T8ufvtX/H/@zXD2p1dfYNUvXn7xmw95Hbadv/jL2YuLz/@1s3vrJ7P3sXH331@R7OHi73/DQbewmQbPnn3/9cevvoSU8@dfvn7559ePKqPum0E9MqHTjWk75Waqw@CHtp2rQwwFtW@L2mT0R6vvurAwtdqbTp0vaVHn1JG22HlPd9g5YN3O7o6itYVzx0ng3LTG6866lkYOTeiD@mXlbehyng8ycVuf2JJHsjiyV3hd6eYtEjtJX6owc92pg6D19JbSbSk/4/ChnrpChvlnGu5LHTIarWxQhTdd5U17S@3sXld7tJbm49qPK@1hOy3@VHtNijzCudqz2CxOy9o7wbtGjuOfcXjP64aEv83C6StNNLbVpS5usS7pK07e1zrAchEXP@LUka4bx/q@wyLlO5PJfedOScuHelrpaDyPyfSDwpQ83XeVTPIIT2bwRjAk913BgT7jPvYHO@gYzpadm2NRxpGrXSMeq4zHLDZXmk4wLa8d7MzQ7Cfe6kCH3RAj4j6R8tAVTkcs5XfCrLBahulXGgyaBL0nAAedzHFBL3B@jID4lYLA@XQA/0z4nEatbpKwjD/HHRrWjHv4IykArE@jWvQzBcSpOSZxlAjXWLk4Eufv6RZ@NUF2pq8xOpL391behRFRv50d8REPJA3NtHItfV8O7lzpwvVdRg7obGPIE0s1GG/UVHtvEQJ60EtK4n1dLGvX7tIZEz5Dzzr2ZNyRFd7186pbW5yvHT3GKACyphYTxs/omk@dd4UuaBrHSNqNYytX9@Xo675MoNZWH9tGkiZ@pB2nzrPAmGr4HNUp3TSpgp9RDTjLNqPfRjmQSidDkCQYf49zRp@m9I8foztBfLpN3uSPTSaCxJhaKzqiMDWLinOj6kNBm5Ee97Rf5vRjqMAkAwHrfCuEmdOggnunuq5NmQl/MjPu3EAmKQxfItugZsRIiTbhOsle0Jeaud53SM9sbbkYwXtkYd92VoRSwCwp4TliwPhjGJC0LElTV0v7EQk4xkV7NnRblyaGvqfuu4HFFdZ31eVqwpA5ohzgNNhgdtXjCnIwipGscR3RE6HMK01YuD4gDaCLOCSHe2bOx1SZakoaNze0LVeBiAxFBOrBsMHifMRPXaYq94Grl@pu5ZJXblIdbKNkJsboajqFkVBPeijdaEpViGwdLLB1LZU1a/Sx4W1aLfqittNjZZ7qZlGbnNVH7ShF@UXfyUKCduHtia2XUjOvqX3MDVCTREFNyWLGyAQawGGBFKpcLbUXqsyRj2JU9tGDh7eVXiwMHMMB4RTljAWoqvRGN8BFk1/zEUI6ZLOkZzNsZ/OwvSOzWBDkG/FGVy25RuzC97F@QOdpxfHu2qmxJwh5HEpWYuxqxCdCj@SnUFE6FJ6ghEi4SpNKgrMoiBUdJxOTZgtfZ4d3jj45Eh1GGUGfGF6xMA7QjwFtvQo2xuVkwnEpGUihB@@UrjW5mGLhY0uwF9je1zNLCRwNpIBCGB6bNhn1EXorVSz598K7RWW6FcY467raj87S6sT6OVBhTVEt1oJSLP0RGBDjsiLBkBEM6k6DkOxNnUcdJVqRssYvUFugu0XI3HUxCfoIwtsb8S6bvLaUYAxaqI1ZqJIIKLwRaGx2xk2DLUuIQZRFNamRHANPMpsiBScKUx@3aGIpMDjAAG5GEcCiYtES02nJzPrQMakGKndcMk2k1DEOFMcBjJqglyXHDmwXE81IyoB9H8RQm8o0zENoII2mYbKm1EuK0uwD492qXdrIMy7DjWGeUmi/V1RpdKBMQWvm@6BrAyAmaH@PYgw85r3QlROa4iuqxH17hPPQDOF9MjwbCAvEcDCMalDo9n3Sk44SmIl4p44JTw3Oh8ouCHBG4brQ6KYxjHCFxC4vcYnQpOoAPi4PEokZBdhoj8RNki6FmzGOfkOFJBvLsaYhpM2MmA1XFWl0wtTbwiQmyGJyrsiafGAQxqVJ/NzQETAylooAEqipwDN2rIiEk6SFtiu2y9XBlc5ObIWwsOSFbPC262DG5eydxOaaiWcUlCcn1LH8k9Q8076TSKYZDgWNXnAeJVqQYUiLRQH0eNHEyFkZ@1EjQ0@Mb52PNCSp7nvg1CwTnR0Er03N5t@Q/GUv5xv@iCUl5Yl09BK1uTLtr3vrGeaMYS5tbVG5O2wY6NzUe0rgpVrCR0r3TlN0/eTd1BesEGJXa7oV3nXygc2gpNUZmfjAqCXK8lzIT1oPtmAZo1@KNjtT6JAyj5hWz3GBzTNG6AC1eClZwAJWaYBIDI5Vvim5wFGykQExw3miNAu40YgiuapdPgKQZ0KqMcyGzUwcCIdVDwJtidAovJgrGAEQYpmRa2NAXzKekk@469qaqnTSqIIMefPE2amJLG6eTo3hS/0cZb1TT9xSpOys0nPtAkEY2VjEVUVtVL550JpGGR/AhZ74R9ow8e3MwLrSDbEkRcQXTMbN7sqNJJqrg1ugJyxjAe6gaehxGY9nozpRIK03KnM769CKzl0sidnM6/aYsqgNgmez9L4SU@XqI5Vr0L4V7qBCt@p3JJdi7WQKoWRFWezBwCDtmD4bYTAiBZ1hK9CDfkBDt9KRom0TBa5fhXWS8sNdmhTPmFmAeuxnr@zT9sB/JtZW6sVGb2USP@keueEn1G6x4s58uYglo5CGMhYzuSwcZJJezEaUYMJRUjqouaU6dPxGzEJwCW73bjmWBVzoHkcO0t6RxlTvqBm4vHlTYWLfltqtnG@Lmz5g7XdByPGWN0grMqrPtRvhz1cLVno3@296OPWDPVz2Rg/3QPiaVRFyOkjMCl5GXyLmv3slHUt60fuKVNnGTY/HErfGytRXrlJ68IAmsikxDDdE8bs2w3qdrREtbWzB6eK/3ufIDoqptN5pKsiMoJvlsYUZHGhXe5QpcU4G6uVAWn83HF8lBMNYadZqx1pdYRyTbYJOLFYEwcodaxeHNZ/AD@g8TLNZlLPkjgldK1HgH@pGr8UDmmtiR@F3UDi/kPJdVHhkQDPL@wkSocwG99aWx@ghDtkZ18QLhR/hjRJG9iiYUMkpkuVT3Yd4B6W2DEvE6JvxNjf2YnzRMHqNGnT7JjOokRmydR5bJ4mY1RO6MR79Dzwxd6uqkNoaaTFSsyQ2ZaR1dFWIL0ubWX3x2e@DqtHpv8XPzyr@vY4vzey27RP29gl7@4S9fcLePmFvn7C3T9jbJ@ztE/b2CXv7hL19wt4@YW@fsLdP2Nsn7O0T9vYJe/uEvX3C3j5hb5@w/3@esP8D" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<p>A pair of links that is called as a days and that takes the pg10.txt file as its right argument and the required biblical reference as its left argument. TIO fails with the full document (presumably because the POST exceeds the maximum size), and the links to TIO on CGCC are even more limited because of length. However, it should work with the full text if run locally.</p>
<h2>Explanation</h2>
<pre><code>ḢfØDV+2ị=”JƲo1                                          # Helper link: Takes a bible reference and returns which number book should be used that matches the textual part of the reference; half the code is to handle the John letters
Ḣ                                                       # Head
 fØD                                                    # Keep only digits
    V                                                   # Evaluate (will be 0 if no digits)
     +     Ʋ                                            # Add the result of the following, applied to the helper link's original argument
      2ị=”J                                             # - 1 if the second remaining character is a J, otherwise 0
            o1                                          # Or 1 (replaces 0s with ones)

Ḳ-ị⁹œṣ”¶x5¤¤Ỵ€¤Ḣw¥Ƈị@Ç{KœṣḲṪ¹⁾1:;$f?”:ʋ2ịwⱮØD;€”:¤œPƊḢḊ # Main link: takes a bible reference as its argument and returns the verse
Ḳ                                                       # Split at spaces
 -ị                                                     # Penultimate part (will be the last word of the book title)
   ⁹          ¤                                         # Using the following applied to the right argument:
    œṣ”¶x5¤¤                                            # - Split at five consecutive newlines
            Ỵ€                                          # - Split each at newlines
               Ḣw¥Ƈ                                     # Keep those where the first line includes the book title word from earlier
                   ị@Ç{                                 # Index into this using the result of calling the helper link on the original reference (so returning a single book)
                       K                                # Join with spaces
                        œṣ            Ʋ                 # Split at the substring determined by calling following on the original reference:
                          Ḳ                             # - Split at spaces
                           Ṫ                            # - Tail (i.e. the verse or chapter:verse)
                                  f?”:                  # - If contains a colon:
                            ¹                           #   - Leave as is
                             ⁾1:;$                      #   - Else: prepend &quot;1:&quot;
                                       2ị               # Take the second part (i.e. the bit immediately after the chapter:verse reference)
                                                    Ɗ   # Following as a monad:
                                         wⱮØD;€”:¤      # - Find the position of every sublist that comprises of a digit followed by a colon
                                                  œP    # - And split at these
                                                     ḢḊ # Take the first remaining part, and then remove the first character (which will be the space left just after the original chapter:verse marker)
💎
</code></pre>
<p>Created with the help of <a href="https://vyxal.github.io/Luminespire" rel="nofollow noreferrer">Luminespire</a>.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 238 bytes</h1>
<p>Expects <code>(text)(reference)</code>.</p>

<pre class="lang-javascript prettyprint-override"><code>t=&gt;s=&gt;([,s,v]=s[M='match'](/(.+) (\d.*)/),t.split(/(\r\n){5}/)[(n=t.split`
`.findIndex(r=&gt;r[M](s.replace(/\d/,n=&gt;&quot;_FSh&quot;[n]+&quot;_iei&quot;[n]+&quot;.*&quot;))))?(n-=n&gt;63)*2-46:122]+0)[M]((v[1]?v:&quot;1:&quot;+v)+&quot;\\b((.|\\r\\n)*?)\\d&quot;)[1].trim().replace(/\r\n/g,&quot; &quot;)
</code></pre>
<p><a href="https://tio.run/##hZRZk6NGFoXf/Ssq9GKp6S72rR3VDgFikZDYEdDVYbMvYgcBwjO/vUdtz8T4aSafMs85kfe7ETez8Cd/CPu8HT/VTRR/T96@j29fhrcv268fh4/Tt7fh6/nt58ofw@znb1tw@wrsXrbv0euHHbj7OL4ObZmPT/m9f693f@D/BHdft/Xbv/Xff/r9NcnrSKqjeNn2b1/6r@dv2@G1j9vSD@Mt@B6BH@u3L5vfeCPbfK2/AZvf8jj/a/f6YbN7rl@39ae3@guB7j4gnzDiM4wg3wBo9@Oi7fQV/vbr9HkDf94A0w7YvL8H2@3rP96fME@aD7/u3t@jze4Zeh37vNru/lb4iQumHzcvm933sKmH8SUZXt5e@ri753283STDZvfLT385a5kHf/d@nP/rmgfHfLo/xNe8Tkp/jHV/Nh51uGXuSRL3r0nfVNvkR9d@xOdl/KcH7V7Hxnhi1el29/FlE/hDTGDPjv8m//LTnzWaMn4tm3SbbH/U2m03QlzHQz68wJ/hze4FeNm81//h@R9Z5P9mD0sT3X9E0SfHL99bO7kE2YAeZEyGuEEjWFjLoqxNLRd/JJ5QVkc567SDLzVxd0GXWyY4jsqJV8Cx43ta0LpFzDRiH62rgkcGKxkonoSKF2BBiAU0CJJna1aIAdBOrUeoqeaDezyd7wV/W0OKboBGtRRvmvfZSjIX79ggtYBRD95hn4OaFUBkjrKkIxyvi8tCIstBl8LDse@LiN87uLVnobVT1FE3Zsq7osUdMnvnGkSmoMTebNWyURG0T8ddwVsehuPtDMusdGxtKJ0EOzbT@96pe2um7/ecqK12JueZShVkRSE4ZSIqHeh5JpxhKGewYeyuDRmdHpP9enebQrtGGgCQDF/ldRgzQXnFb2zbSkppZSnlRiCRckhh@4YL@U18se3EWctxRoEzKNDIg6tr3tKZSS0PN5xw@HNtE6hGM6fTYB10IKSJfJ86Vtxgo33tIu1AxogAWx1KZ1OAhtjpzMWWcGh70ljKOw2O7p4o7XWPyfEEVe6ZLdL25ov9PssPaiXlq1iMJECPAX2LIt0Eoikh1r4VowkeT5VmWdBpuLAP23vsvWHvX8V9auc4QhOkusKAPvp4E/Squg9LKIP6TjPpuI/WbnR6OssVb56QeKavMFaTAgZUD8Mx1oC4Hx4VT5XUcjzJSLxwtTrMdUO6npgH8iWvPRlzV8IdCeRIhd55vlwC/6jx1VXAZZnNLU0dELqKbCn2SN8UsCgds1bZC@RR6rPwFqaaWzsaHGpCN@cNVdxI@sxnTUrmKMkrmCB2huNrIx1gMn8qHkqtBcZ4c07AI2ZsjOX9BkIW3xVGkj2GhjynpKDhMYcsQMDkyKWTxVTXGOiSoFFX01qXwA8kpcup80JWwoU27RL8jnO3boWkcN@w7FDzYFXkxFEjSiGGVZSrKTHr4MEymT1Q8AaiQ@XJUEgQflyZ7KZlQhXKTWKoF8o@nyhhHQAujskzroaXMwjUjdnhiXhYRWJcI7I40lQW2ANE79m@zxWXjtzjqbgsF447SGAUVDGClTdI4QR/qvDSKGlTvp0YRiZzArXdaL0nja43WezfYw9fDUtpMc5VUEfmrYcYTGbME/1IBki8Fu7cawGfVVkXLE8@l7WP7QV@FKTZxV4WqViMs/FYl/jwnHB9rDgCGBu3FGszeNzGk2EBy1nMtPucPnSJXi2UpW2qqW8scdH1@IByp@AwUTqRVuHhGsgTluuugOD8Kt4z3njIPHi4h@YFQ/2rYt9AhpvCTkwPoMSyOpXWcvCwmMTFKzwcRijC@fvE@dFJh@U9HR0ICWDaK9/1giKjuszH5CRnx@JR6@5wQwA1mANBAt0qFemTkS0ojDYKr5sqVIEGebseOBcdr2YIzLVtLioBR9c7qBRymTwk0yNBErggsj1bxcjUpMoI@uTU3ZyWcG@ecsUcIp0l2bHV0z1SrC2ygpqEPEmSAQI8So0s21t4ePQP6wpTkDUNGXFeLyTvLFVcyzmVU4xmpc9vwCNqSPLNvWfSfVTyJx85Sy3jMAF2GaisYFZzQCM@IZYORG8ap5951KEDrhhC81GeXPNchsDhEHAYoZ9RYZ4eYGGE8PUEqJYtaMoVnro6vNFioNrjmD8foySfr2PhrVUj9kFwzqxBt3M0he3sejxOxgQokGbfUjxWr7XajTCvMdQxdXWWmAr7HAvtFVnXs@Qve5rOWL5iIBn0sDFp3dxe0hRD8kIVrUaPmgJFBNtmGBpoAnjvNDL50KqSBaHTnfRuOH4yF8cXksOAtg3Bs4s38klD5Y2erlrl70NwOPYGaOhGxx4dvfZoRr6du1EKsYjxG7C27toFu0OqAtkUHkYQJkJV3ojVoJ/W1eIr877cEfoBwY62VjCQRcvhaqic1LOX9WjTnGq0tyE@A2VeiHxZrLaAyLwy5CPOiU6EcsI4pVMuLmvPp6lP9@c5akk08KdzUlKM7DU1GxSKwl@AIIS5mCr9Ky0cwUlKsCqW4eQkYTFCsKf0bkyNlT8KgLta8dLwqtG0qoaItyW7UZgQubQzOQ6ozm9v/wI" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>(The TIO code works on a small extract of the original file.)</p>
<h3>Commented</h3>
<pre class="lang-javascript prettyprint-override"><code>t =&gt;                      // t = input text
s =&gt;                      // s = reference
(                         //
  [, s, v] = s.match(     // split s into:
    /(.+) (\d.*)/         //   s = book name
  ),                      //   v = chapter[:verse]
  t.split(                // turn t into an array of books
    /(\r\n){5}/           // by splitting on \r\n * 5
  )[(                     //
    n = t.split`\n`       // split t on new lines
      .findIndex(r =&gt;     // and find the first string r
        r.match(          //   which contains:
          s.replace(      //     the book name
            /\d/, n =&gt;    //       with the leading digit (if any)
            &quot;_FSh&quot;[n] +   //       replaced with &quot;Fi&quot;, &quot;Se&quot; or &quot;hi&quot;
            &quot;_iei&quot;[n] +   //       (for &quot;First&quot;, &quot;Second&quot;, &quot;Third&quot;)
            &quot;.*&quot;          //       followed by &quot;.*&quot;
          )               //     end of replace()
        )                 //   end of match()
      )                   // end of findIndex()
  ) ?                     // if n is not 0:
    (n -= n &gt; 63)         //   decrement n if it's greater than 63
    * 2 - 46              //   double and subtract 46
  :                       // else:
    122                   //   use 122 for &quot;James&quot;
  ] + 0                   // get the n-th book and append a &quot;0&quot;
).match(                  // then find:
  (v[1] ? v : &quot;1:&quot; + v) + //   the verse header,
  &quot;\\b((.|\\r\\n)*?)\\d&quot;  //   followed by the verse content,
                          //   followed by a trailing digit
)[1]                      // end of match(); keep the content
.trim()                   // trim it
.replace(/\r\n/g, &quot; &quot;)    // and turn line breaks into spaces
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/266951/">266951</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




