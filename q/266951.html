<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::266951</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>238</td><td>JavaScript Node.js</td><td>231121T210243Z</td><td><a href="https://codegolf.stackexchange.com/questions/266951/get-the-bible-verse/266967#266967">Arnauld</a></td></tr>
<tr d-ix="1"><td>330</td><td>sed n</td><td>231121T220045Z</td><td><a href="https://codegolf.stackexchange.com/questions/266951/get-the-bible-verse/266969#266969">Philippo</a></td></tr>
<tr d-ix="2"><td>080</td><td>Jelly</td><td>231121T211417Z</td><td><a href="https://codegolf.stackexchange.com/questions/266951/get-the-bible-verse/266968#266968">Nick Ken</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 238 bytes</h1>
<p>Expects <code>(text)(reference)</code>.</p>

<pre class="lang-javascript prettyprint-override"><code>t=&gt;s=&gt;([,s,v]=s[M='match'](/(.+) (\d.*)/),t.split(/(\r\n){5}/)[(n=t.split`
`.findIndex(r=&gt;r[M](s.replace(/\d/,n=&gt;&quot;_FSh&quot;[n]+&quot;_iei&quot;[n]+&quot;.*&quot;))))?(n-=n&gt;63)*2-46:122]+0)[M]((v[1]?v:&quot;1:&quot;+v)+&quot;\\b((.|\\r\\n)*?)\\d&quot;)[1].trim().replace(/\r\n/g,&quot; &quot;)
</code></pre>
<p><a href="https://tio.run/##hZRZk6NGFoXf/Ssq9GKp6S72rR3VDgFikZDYEdDVYbMvYgcBwjO/vUdtz8T4aSafMs85kfe7ETez8Cd/CPu8HT/VTRR/T96@j29fhrcv268fh4/Tt7fh6/nt58ofw@znb1tw@wrsXrbv0euHHbj7OL4ObZmPT/m9f693f@D/BHdft/Xbv/Xff/r9NcnrSKqjeNn2b1/6r@dv2@G1j9vSD@Mt@B6BH@u3L5vfeCPbfK2/AZvf8jj/a/f6YbN7rl@39ae3@guB7j4gnzDiM4wg3wBo9@Oi7fQV/vbr9HkDf94A0w7YvL8H2@3rP96fME@aD7/u3t@jze4Zeh37vNru/lb4iQumHzcvm933sKmH8SUZXt5e@ri753283STDZvfLT385a5kHf/d@nP/rmgfHfLo/xNe8Tkp/jHV/Nh51uGXuSRL3r0nfVNvkR9d@xOdl/KcH7V7Hxnhi1el29/FlE/hDTGDPjv8m//LTnzWaMn4tm3SbbH/U2m03QlzHQz68wJ/hze4FeNm81//h@R9Z5P9mD0sT3X9E0SfHL99bO7kE2YAeZEyGuEEjWFjLoqxNLRd/JJ5QVkc567SDLzVxd0GXWyY4jsqJV8Cx43ta0LpFzDRiH62rgkcGKxkonoSKF2BBiAU0CJJna1aIAdBOrUeoqeaDezyd7wV/W0OKboBGtRRvmvfZSjIX79ggtYBRD95hn4OaFUBkjrKkIxyvi8tCIstBl8LDse@LiN87uLVnobVT1FE3Zsq7osUdMnvnGkSmoMTebNWyURG0T8ddwVsehuPtDMusdGxtKJ0EOzbT@96pe2um7/ecqK12JueZShVkRSE4ZSIqHeh5JpxhKGewYeyuDRmdHpP9enebQrtGGgCQDF/ldRgzQXnFb2zbSkppZSnlRiCRckhh@4YL@U18se3EWctxRoEzKNDIg6tr3tKZSS0PN5xw@HNtE6hGM6fTYB10IKSJfJ86Vtxgo33tIu1AxogAWx1KZ1OAhtjpzMWWcGh70ljKOw2O7p4o7XWPyfEEVe6ZLdL25ov9PssPaiXlq1iMJECPAX2LIt0Eoikh1r4VowkeT5VmWdBpuLAP23vsvWHvX8V9auc4QhOkusKAPvp4E/Squg9LKIP6TjPpuI/WbnR6OssVb56QeKavMFaTAgZUD8Mx1oC4Hx4VT5XUcjzJSLxwtTrMdUO6npgH8iWvPRlzV8IdCeRIhd55vlwC/6jx1VXAZZnNLU0dELqKbCn2SN8UsCgds1bZC@RR6rPwFqaaWzsaHGpCN@cNVdxI@sxnTUrmKMkrmCB2huNrIx1gMn8qHkqtBcZ4c07AI2ZsjOX9BkIW3xVGkj2GhjynpKDhMYcsQMDkyKWTxVTXGOiSoFFX01qXwA8kpcup80JWwoU27RL8jnO3boWkcN@w7FDzYFXkxFEjSiGGVZSrKTHr4MEymT1Q8AaiQ@XJUEgQflyZ7KZlQhXKTWKoF8o@nyhhHQAujskzroaXMwjUjdnhiXhYRWJcI7I40lQW2ANE79m@zxWXjtzjqbgsF447SGAUVDGClTdI4QR/qvDSKGlTvp0YRiZzArXdaL0nja43WezfYw9fDUtpMc5VUEfmrYcYTGbME/1IBki8Fu7cawGfVVkXLE8@l7WP7QV@FKTZxV4WqViMs/FYl/jwnHB9rDgCGBu3FGszeNzGk2EBy1nMtPucPnSJXi2UpW2qqW8scdH1@IByp@AwUTqRVuHhGsgTluuugOD8Kt4z3njIPHi4h@YFQ/2rYt9AhpvCTkwPoMSyOpXWcvCwmMTFKzwcRijC@fvE@dFJh@U9HR0ICWDaK9/1giKjuszH5CRnx@JR6@5wQwA1mANBAt0qFemTkS0ojDYKr5sqVIEGebseOBcdr2YIzLVtLioBR9c7qBRymTwk0yNBErggsj1bxcjUpMoI@uTU3ZyWcG@ecsUcIp0l2bHV0z1SrC2ygpqEPEmSAQI8So0s21t4ePQP6wpTkDUNGXFeLyTvLFVcyzmVU4xmpc9vwCNqSPLNvWfSfVTyJx85Sy3jMAF2GaisYFZzQCM@IZYORG8ap5951KEDrhhC81GeXPNchsDhEHAYoZ9RYZ4eYGGE8PUEqJYtaMoVnro6vNFioNrjmD8foySfr2PhrVUj9kFwzqxBt3M0he3sejxOxgQokGbfUjxWr7XajTCvMdQxdXWWmAr7HAvtFVnXs@Qve5rOWL5iIBn0sDFp3dxe0hRD8kIVrUaPmgJFBNtmGBpoAnjvNDL50KqSBaHTnfRuOH4yF8cXksOAtg3Bs4s38klD5Y2erlrl70NwOPYGaOhGxx4dvfZoRr6du1EKsYjxG7C27toFu0OqAtkUHkYQJkJV3ojVoJ/W1eIr877cEfoBwY62VjCQRcvhaqic1LOX9WjTnGq0tyE@A2VeiHxZrLaAyLwy5CPOiU6EcsI4pVMuLmvPp6lP9@c5akk08KdzUlKM7DU1GxSKwl@AIIS5mCr9Ky0cwUlKsCqW4eQkYTFCsKf0bkyNlT8KgLta8dLwqtG0qoaItyW7UZgQubQzOQ6ozm9v/wI" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>(The TIO code works on a small extract of the original file.)</p>
<h3>Commented</h3>
<pre class="lang-javascript prettyprint-override"><code>t =&gt;                      // t = input text
s =&gt;                      // s = reference
(                         //
  [, s, v] = s.match(     // split s into:
    /(.+) (\d.*)/         //   s = book name
  ),                      //   v = chapter[:verse]
  t.split(                // turn t into an array of books
    /(\r\n){5}/           // by splitting on \r\n * 5
  )[(                     //
    n = t.split`\n`       // split t on new lines
      .findIndex(r =&gt;     // and find the first string r
        r.match(          //   which contains:
          s.replace(      //     the book name
            /\d/, n =&gt;    //       with the leading digit (if any)
            &quot;_FSh&quot;[n] +   //       replaced with &quot;Fi&quot;, &quot;Se&quot; or &quot;hi&quot;
            &quot;_iei&quot;[n] +   //       (for &quot;First&quot;, &quot;Second&quot;, &quot;Third&quot;)
            &quot;.*&quot;          //       followed by &quot;.*&quot;
          )               //     end of replace()
        )                 //   end of match()
      )                   // end of findIndex()
  ) ?                     // if n is not 0:
    (n -= n &gt; 63)         //   decrement n if it's greater than 63
    * 2 - 46              //   double and subtract 46
  :                       // else:
    122                   //   use 122 for &quot;James&quot;
  ] + 0                   // get the n-th book and append a &quot;0&quot;
).match(                  // then find:
  (v[1] ? v : &quot;1:&quot; + v) + //   the verse header,
  &quot;\\b((.|\\r\\n)*?)\\d&quot;  //   followed by the verse content,
                          //   followed by a trailing digit
)[1]                      // end of match(); keep the content
.trim()                   // trim it
.replace(/\r\n/g, &quot; &quot;)    // and turn line breaks into spaces
</code></pre>
</div>
<div id="pu1" class="pu"><h1>sed <code>-n</code>: 330 bytes</h1>
<ul>
<li>Tested with BSD <code>sed</code>, so I could not use <code>-E</code> in combination with back references, which did cost me quite a few bytes.</li>
<li>The reference is given in the first line. In real life you can do this like <code>sed 'the script' &lt;&lt;(echo Luke 19:10;cat pg10.txt)</code></li>
<li>The DOS-style CRLF is nasty, eating some extra bytes</li>
<li>Is Revelation 22:20 the only verse with an empty line inside? Ugly special handling, although it probably can be golfed a little.</li>
</ul>
<pre><code>1{s/^\([123]\) /\1/;s/.* S/S/;/:/!s/ / 1:/;h;}
/\n/!N;N;s/^M//g;/^..$/!D;n;n;s/^M//;/Bible/D
/[ALR][cae]/s/ of.*//
s/The First/1/;s/The Second/2/;s/The Third/3/;s/^[123].*Mose//
s/[^0-9]* //;s/ms$/m/;G;/^\(..*\)\n\1/!d
:1
n;G;/\(.*:.*\) .*\n.* \1$/!b1
s/\n.*//;s/.*[0-9]:[0-9]* //
:2
N;/Amen..\n/N;/\n.$/!b2
s/^M\n/ /g;s/ [0-9]\{1,\}:.*//;p
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 80 bytes</h1>
<pre><code>ḢfØDV‘2ị=”JƲ}¡o1
ɠ⁻⁶x8¤$Ð¿Yœṣ”¶x5¤Ỵ€
Ḳ-ị¢Ḣw¥Ƈị@ÑKœṣḲṪ¹⁾1:;$f?”:Ʋ2ịwⱮØD;€”:¤œPƊḢḊ
</code></pre>
<p><a href="https://tio.run/##pVjfixzHEX6fv6If/DgxupVtSSeMcxcJ@c6WZHRyRPzWs9O707qZ6U33zI32ICDlJeC8JPjFfggkjvISQiAiGAlBAicsyJ9x948oX1V1z@6ezjiQfZr@VV31VdVX1fvQ1PXyzZvT59/OXn194@dnj7@enL787Ydnj/@w//rZr07@5Lay//zx7MnLsyffPbp68vSdV787@fcvvv/q9MWfseXku0fvnzw9ffnPs1//LTt9/uwnOHryLWQNJ395/RsMfvrq95/wZiyevvjryYuzJ//a2r7@zuwjnN5@/YzuGs7@8XdcfR0yaPLk6fdfffb6Swg5ff7lmzf3K6PumEHdN6HTjWk75Waqw@Qntp2rfUwFtWuL2mT0o923XFiYWu1Mp86XtKlz6kBbnLytO5wcsG9re0vR3sK5wyRwblrjdWddSzP7JvRB/azyNnQ5rwdZuKGPbMkzWZzZKbyudPMuiZ2kkSrMXHdqL2g9va50W8pnnN7XU1fINH@m6b7UIaPZygZVeNNV3rTX1db2ZbVDe2k97v2s0h620@YvtNekyH3cqz2LzeKy7L0ZvGvkOv6M0zteNyT8PRZOo7TQ2FaXurjOuqRRXLyjdYDlIi4O4tKBrhvH@r7PImWcyeKuc8ek5T09rXQ0nudk@W5hSl7uu0oWeYYXM3gjGJL7geBAw3iO/cEOOoSz5eTmXJRx4GrXiMcq47GKw5WmG0zLewc7M7T6ubc60GVXxIh4TqTcc4XTEUv5TpgVVss0faXJoEnQVQE46GSOC3qB@2MExFEKAufTBfyZ8DmOWl0jYRkPxxMa1oxneJAUANbHUS36TAFxbA5JHCXCJVYuzsT127qFX02Qk2k0Rkfy/s7KuzAi6re1JT7iiaShmVaupfH54M6VLlzfZeSAzjaGPLFUg/FGTbX3FiGgB72kJN7VxbJ27TbdMeE79KxjT8YTWeFdP6@6tc352tVjjAIga2oxYRxG13zhvCt0Qcu4RtJunFu5ui9HX/dlArW2@tA2kjRxkE4cO88CY6phOKpTumlSBZ9RDTjLNqPfRjmQSjdDkCQYj8c1o49T@sfB6E4Qn26TN3mwyUSQGFNrRUcUpmZRcW5UfSjoMNLjtvbLnD6GCkwyELDOt0KYOU0quHeq69qUmfAnM@PWFWSSwvQ5sg1qRoyUaBOuk@wFfamZ632H9MzWtosRfEY29m1nRSgFzJISniMGjD@GAUnLkjR1sbQfkYBrXLRnQ7d1aWLoVXXHDSyusL6rzlcThswR5QCnwQazrR5UkINZzGSN64ieCGXeacLC9QFpAF3EITncM3M@pspUU9K4uaFjuQpEZCgiUA@GDRb3I37qMlW5j129VLcql7xyjepgGyUzMUZX0y2MhHrYQ@lGU6pCZOtgga1rqaxZow8NH9Nq0Re1nR4q80g3i9rkrD5qRynKL/pONhK0C2@PbL2UmnlJ7WJtgJokCmpKFjNGJtAELgukUOVqqb1QZY58FKOyT@/eu6H0YmHgGA4IpyhnLEBVpTe6AS6a/JqPENIlmyU9m@E4m4fjHZnFgiDfiDe6ask1Yhu@j/UDOk8rjnfXTo09QsjjUrIScxcjPhF6JD@FitKh8AQlRMJVmlQSnEVB7Og4mZg0W/g627958PmB6DDKCPrI8I6FcYB@DGjrVbAxLicTjkvJQAo9eKd0rcnFFAsfW4K9wPG@nllK4GggBRTC8NC0yahP0VupYsnfC@8WlelWGOOuy2o3OkurI@vnQIU1RbVYC0qx9EdgQIzLjgRDRjComw1Csjd1HnWUaEXKGr9AbYHuFiFzy8Uk6CMI723Euxzy2lKCMWihNmahSiKg8FagsdkZNw22LCEGURbVpEZyDDzJbIoU3ChMfdiiiaXA4AADuBlFAIuKRUtMpy0z60PHpBqo3HHJNJFSxzhQHAcwaoJelhw7sF1MNCMpA/ZdEENtKtMwD6GBNJqmyZpSLylKs4@Nd6t2aSPPuAw3hnlKof1eUaXRgTIFrZnvg64NgJig/T2IMfCAz0JXTmiKr6gS9@0Rzn0zhI/I8GwgLBDDwTCqQaHb90lPukpgJuKdOiY8NTgfKrsgwBmFy0Kjm8YwwhUSuzzHJUKTqgP4eDxIJGYUYKM9EjdJuhRuxjj6DRWSbCzHmoaQNjNiNjxVpNEJU28Lk5ggi8m5ImvygUEYlybxc0NXwMhYKgJIoKYCz9ixIhJOkhbartguV3sXOjuxFcLCkheywduugxnns3cSm2smnlFQnpxQx/JPUvNM@04imVY4FDR6wXmUaEGGIW0WBdDjRRMjZ2XsR40MPTK@dT7SkKS674FTs0x0the8NjWbf0Xyl72cb/gjlpSUJ9LRS9TmyrS/7K1nmDOGubS1ReXucGCge1PvKYGXaglfKd07LdHzk09TX7BCiF2t6VV4y8kAh0FJqzsy8YFRS5TluZCftB5swTJGvxRtdqbQIWUeMa2e4wGbZ4zQHmrxUrKABazSAJEYHKt8TXKBo2QjA2KG80JpFnCjEUVyVbt8BCDPhFRjmA2bmTgQDqseBNoSoVF4MVcwAiDEMiPXxoA@Zzwln3DXpTVV6aZRBZny5qGzUxNZ3DyaGsOP@jnKeqceuqVI2Vql59oDgjCysYiritqofPOiNY0yvoALPfGPtGHi25mBdaUbYkmKiC@YjJvtlRtJNFcHt0BPWMYC3EHT0OMxHu9GdaJAWm9U5nbWoRWdu1gSs5nX7SFlURsEz2bpfSWmytNHKtegfSvcQYVu1e9ILsXayRRCyYqy2IOBQdoxfTbCYEQKOsNWoAf9gIZupSNF2yYKXL4I6yTlh7s0KZ4xswD12M9e2KftgP9MrK3Ui43eyiR@0jtyw0@o3WLFzflyEUtGIQ1lLGbyWNjLJL2YjSjBhKOkdFBzS3Xo8K2YheAS3O7dciwLeNA9iBykvSONqd5RM3D@8KbCxL4ttVs5vxY3fcDab4OQ4ytvkFZkVJ9rN8Kfnxas9Hb2v/Rw6gd7uOytHu6u8DWrIuS0l5gVvIy@RMz/4EI6lvSi/1ekyjZuejiWuDVWpr5yldKDBzSRTYlhuCGK49oM63W2RrS0sQWnh/96nyMnKKbSfqepIDOCbpbHFmZwoF3tUabEORmolwNp/X/D8V8JwTBWmrXasVZXGMdkm6ATixVBsHLH2sNhzSfwAzoP02wW5Sy5Y0LPShT4e7rRa/GA5prYUfgdFM7/kPJbVHhkQDPL5wkSocwG79aW5@iPOGRn3BMfFH6EN0oY2aNgQiWnSJZPdR/iG5TaMmwRo6/F19zYi/FDw@g1atDt28ygRmbI1nlsnSRiVk/oxXjwf/DE3K2qQmprpMVIzZLYlJHW0VUh/rO0mdVnj78Jqkan/y7//azi7038p5nd9l8" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<p>A full program that takes the pg10.txt file via STDIN and the required biblical reference as its only argument. TIO fails with the full document (presumably because the POST exceeds the maximum size), and the links to TIO on CGCC are even more limited because of length. However, it should work with the full text if run locally.</p>
<h2>Explanation</h2>
<pre><code>ḢfØDV‘2ị=”JƲ}¡o1                             # ‎⁡Helper link 1: Takes a bible reference and returns which number book should be used that matches the textual part of the reference; half the code is to handle the John letters
Ḣ                                            # ‎⁢Head
 fØD                                         # ‎⁣Keep only digits
    V                                        # ‎⁤Evaluate (will be 0 if no digits)
      2ị=”JƲ}¡                               # ‎⁢⁡If the second remaining character is a J:
     ‘                                       # ‎⁢⁢- Increment by 1
              o1                             # ‎⁢⁣Or 1 (replaces 0s with ones)
‎⁢⁤
ɠ⁻⁶x8¤$Ð¿Yœṣ”¶x5¤Ỵ€                          # ‎⁣⁡Helper link 2: Called niladically, reads the bible from STDIN and splits up into books
ɠ     $Ð¿                                    # ‎⁣⁢Read lines from STDIN until the following is false:
 ⁻⁶x8¤                                       # ‎⁣⁣- The read line is not equal to eight spaces
         Y                                   # ‎⁣⁤Join with newlines
          œṣ”¶x5¤                            # ‎⁤⁡Split at five consecutive newlines
                 Ỵ€                          # ‎⁤⁢Split each book at newlines
‎⁤⁣
Ḳ-ị¢Ḣw¥Ƈị@ÑKœṣḲṪ¹⁾1:;$f?”:Ʋ2ịwⱮØD;€”:¤œPƊḢḊ  # ‎⁤⁤Main link: takes a bible reference as its argument and returns the verse
Ḳ                                            # ‎⁢⁡⁡Split at spaces
 -ị                                          # ‎⁢⁡⁢Penultimate part (will be the last word of the book title)
   ¢Ḣw¥Ƈ                                     # ‎⁢⁡⁣Keep those books (from helper link 2) where the first line contains this as a sublist
        ị@Ñ                                  # ‎⁢⁡⁤Index into this using the result of calling helper link 1 on the original reference (so returning a single book)
           K                                 # ‎⁢⁢⁡Join at spaces
            œṣ            Ʋ                  # ‎⁢⁢⁢Split at the substring determined by calling following on the original reference:
              Ḳ                              # ‎⁢⁢⁣- Split at spaces
               Ṫ                             # ‎⁢⁢⁤- Tail (i.e. the verse or chapter:verse)
                      f?”:                   # ‎⁢⁣⁡- If contains a colon:
                ¹                            # ‎⁢⁣⁢  - Leave as is
                 ⁾1:;$                       # ‎⁢⁣⁣  - Else: prepend &quot;1:&quot;
                           2ị                # ‎⁢⁣⁤Take the second part (i.e. the bit immediately after the chapter:verse reference)
                                        Ɗ    # ‎⁢⁤⁡Following as a monad:
                             wⱮØD;€”:¤       # - ‎⁢⁤⁡Find the position of every sublist that comprises of a digit followed by a colon
                                      œP     # ‎⁢⁤⁡- And split at these
                                         ḢḊ  # ‎⁢⁤⁢Take the first remaining part, and then remove the first character (which will be the space left just after the original chapter:verse marker)
💎
</code></pre>
<p>Created with the help of <a href="https://vyxal.github.io/Luminespire" rel="nofollow noreferrer">Luminespire</a>.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/266951/">266951</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




