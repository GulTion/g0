<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::275212</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>052</td><td>JavaScript Node.js</td><td>240829T012128Z</td><td><a href="https://codegolf.stackexchange.com/questions/275212/stuck-on-sokoban/275225#275225">l4m2</a></td></tr>
<tr d-ix="1"><td>007</td><td>Jelly</td><td>240828T234545Z</td><td><a href="https://codegolf.stackexchange.com/questions/275212/stuck-on-sokoban/275224#275224">Jonathan</a></td></tr>
<tr d-ix="2"><td>081</td><td>Python</td><td>240828T202651Z</td><td><a href="https://codegolf.stackexchange.com/questions/275212/stuck-on-sokoban/275218#275218">shape wa</a></td></tr>
<tr d-ix="3"><td>020</td><td>Charcoal</td><td>240828T225402Z</td><td><a href="https://codegolf.stackexchange.com/questions/275212/stuck-on-sokoban/275223#275223">Neil</a></td></tr>
<tr d-ix="4"><td>057</td><td>Retina 0.8.2</td><td>240828T224901Z</td><td><a href="https://codegolf.stackexchange.com/questions/275212/stuck-on-sokoban/275222#275222">Neil</a></td></tr>
<tr d-ix="5"><td>023</td><td>Uiua</td><td>240828T215710Z</td><td><a href="https://codegolf.stackexchange.com/questions/275212/stuck-on-sokoban/275221#275221">nyxbird</a></td></tr>
<tr d-ix="6"><td>053</td><td>Python</td><td>240828T210306Z</td><td><a href="https://codegolf.stackexchange.com/questions/275212/stuck-on-sokoban/275220#275220">Albert.L</a></td></tr>
<tr d-ix="7"><td>075</td><td>JavaScript ES11</td><td>240828T205810Z</td><td><a href="https://codegolf.stackexchange.com/questions/275212/stuck-on-sokoban/275219#275219">Arnauld</a></td></tr>
<tr d-ix="8"><td>009</td><td>Stax</td><td>240828T193443Z</td><td><a href="https://codegolf.stackexchange.com/questions/275212/stuck-on-sokoban/275216#275216">Khuldrae</a></td></tr>
<tr d-ix="9"><td>028</td><td>Wolfram Language Mathematica</td><td>240828T191925Z</td><td><a href="https://codegolf.stackexchange.com/questions/275212/stuck-on-sokoban/275215#275215">att</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 52 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>x=&gt;x.match(`010|0[^]{${n=x.indexOf`
`}}1[^]{${n}}0`)
</code></pre>
<p><a href="https://tio.run/##TU5LCoMwEN3nFkIXCbZxZl3sFXqAfkiI0VpsIiolYHP2NMFWfIs37zMD85RvOaqh7aeDsZUOdRlceXL8JSf1oAIQPnC53@bdbErHW1Npd64FEd7jL/YeBAtHQSBhw7hhIGkQXCqyitQTjIgJwqJWj3@frjFtxgyI4IPuO6k0LSjPr4blRbOPTytrRttp3tmGZllNHWMsfAE" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>Regex-based</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 7 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>;ZK“]»ẇ
</code></pre>
<p>A monadic Link that accepts a list of lists of characters:</p>
<ul>
<li><code>A</code> : space</li>
<li><code>B</code> : box</li>
</ul>
<p>and yields an integer:</p>
<ul>
<li><span class="math-container">\$1\$</span> : possible</li>
<li><span class="math-container">\$0\$</span> : impossible</li>
</ul>
<p><strong><a href="https://tio.run/##y0rNyan8/986yvtRw5zYQ7sf7mr///@/o6OTk6MjlyMYcDlBeGDKCQA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong> Or see the <a href="https://tio.run/##y0rNyan8/986yvtRw5zYQ7sf7mr/f3Tyw52LHzXuO7QNCLc@3L3lcLvm//@OIMCFIJ2QSEcuEMXlBJHigjNA8lxOQAAUcXKEsOB8JxgfpNsJpBIo5ggA" rel="nofollow noreferrer" title="Jelly – Try It Online">test-suite</a>.</p>
<h4>How?</h4>
<pre><code>;ZK“]»ẇ - Link: list of lists of characters, Rows
 Z      - transpose {Rows} -&gt; Columns
;       - {Rows} concatenate {Columns}
  K     - join {that} with space characters
   “]»  - compressed string = &quot;ABA&quot;
      ẇ - is {&quot;ABA&quot;} a sublist of {the space separated rows &amp; columns}?
</code></pre>
<hr />
<p>Also <span class="math-container">\$7\$</span> bytes accepting a list of lists of integers where <span class="math-container">\$1\$</span> are spaces and <span class="math-container">\$0\$</span> are boxes:</p>
<pre><code>;ZK5B¤ẇ
     ¤  - nilad followed by link(s) as a nilad:
   5    -   five
    B   -   cast to binary -&gt; [1,0,1]
</code></pre>
<p><a href="https://tio.run/##y0rNyan8/986ytvU6dCSh7va/x9uf9S05v//6OhoQx0FBIrV4VJQICRkQJQQWCMIw62AqDHAYixCKS5ZGMcARSkUIRtsgGwRkjwBPQZ49aD6xQDdJYYwXYaxsbEA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, <s>95</s> 81 bytes</h1>
<pre class="lang-python prettyprint-override"><code>lambda d:any(x&gt;d[x,y]&gt;d[x-1,y]&lt;d[x-2,y]or y&gt;d[x,y]&gt;d[x,y-1]&lt;d[x,y-2]for(x,y)in d)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=dZHBToMwHMbjtU_xD5e2CSzrToaod0_G8-BQoc1ItkJK0TVkT-KFxOgTedGnsQW2gc720I__9_0-kvb1o7JmU6ruTd4m742R0fXX45bvnnIOecyVJfu7fL0PbeqPiDlx48XKiVKDnZihjVhvOrFKZamJU7RQkNOh-PvqMxcSslI9C22IEbXJeC1ojMAtLUyjFbSOAktjYBBBoQzJNlzTPuGX9D8NQZcvzgShmp3Q3IhT2aI2uqgIXdTVtjAEJwrTOe3qfeUcd30jQekBIZ87NvrgOggCtIRxX1DsgloiR4VwQhE7I2drOhz4idXvPsJ6fvj-J8BmAYTdFLujZ4EdpZ-iNIZK-8uV-F5VjYkT1f6-wUOiEvXQGG9DK8mfZxsSeHzcrhvOHw" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Takes a dict, with keys being (x, y) coordinates and values being either 0 for box or 1 for empty space. Returns false for stuck and true for non-stuck. -14 bytes after switching from (x, y) being the center square to (x, y) being the bottom right square, taking inspiration from Arnauld's JavaScript answer where (x, y) is the top left square.</p>
<p>Explanation: as was stated in the sandbox, this challenge boils down to finding a horizontal or vertical instance of the pattern <code>[space] [box] [space]</code> (one of the spaces gets filled in by the player; the box gets pushed into the other space). The code inspects every square to see if it's either the rightmost square of a horizontal (1, 0, 1) or the bottom square of a vertical (1, 0, 1). We can write <code>(c, b, a) == (1, 0, 1)</code> as <code>c &gt; b and b &lt; a</code> -- or (ab)using Python's chained comparisons, <code>c &gt; b &lt; a</code>.</p>
<p>There's a subtle, but neat thing going on with the short circuiting in the chained comparisons here: the <code>x&gt;</code> and <code>y&gt;</code> are there to prevent out-of-bounds indexing. If x = 0, then <code>x&gt;d[x,y]</code> cannot be true, so <code>d[x-1,y]</code> and <code>d[x-2,y]</code> are never evaluated. If x = 1, then <code>x&gt;d[x,y]&gt;d[x-1,y]</code> cannot be true, so <code>d[x-2,y]</code> is never evaluated. (Recall that <code>d[a,b]</code> is always either 0 or 1.) The same logic applies to the other chain of comparisons.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 20 bytes</h1>
<pre><code>ＷＳ⊞υι⊙⁺υＥθ⭆υ§λκ№ι010
</code></pre>
<p><a href="https://tio.run/##S85ILErOT8z5/788IzMnVUHDM6@gtCS4pCgzL11DU1MhoLQ4Q6NURyFT05orAChYouGYV6kRkFNaDBL1TSzQKNRRgCgHcYBijiWeeSmpFRo5OgrZmkCgo@CcXwrUl6mjoGRgaKAEFLL@/9/Q0JDL0ACIofR/3bIcAA" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Takes input as a string of <code>0</code>s and <code>1</code>s with a newline after each row and outputs a Charcoal boolean, i.e. <code>-</code> if a box can be moved, nothing if not. Explanation:</p>
<pre><code>ＷＳ⊞υι
</code></pre>
<p>Input the level.</p>
<pre><code>⊙⁺υＥθ⭆υ§λκ№ι010
</code></pre>
<p>Concatenate it to its transpose and check any of the rows for the substring <code>010</code>.</p>
<p>(My experimental transpose branch of Charcoal could perform the transpose operation in five fewer bytes.)</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language/a950ad7d925ec9316e3e2fb2cf5d49fd15d23e3d" rel="nofollow noreferrer">Retina 0.8.2</a>, 57 bytes</h1>
<pre><code>1`010|(?&lt;=(.)*)0.*¶(?&lt;2-1&gt;.)*(?(1)^)1.*¶(?&lt;-2&gt;.)*(?(2)^)0
</code></pre>
<p><a href="https://tio.run/##K0otycxL/P/fMMHA0KBGw97GVkNPU0vTQE/r0DYgz0jX0A7I17DXMNSM0zSEiuoaQQWNgIIGQM2GhlyGBkAMoQE" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Takes input as a string of <code>0</code>s and <code>1</code>s with newlines between each row. Explanation:</p>
<pre><code>1`
</code></pre>
<p>Only bother checking for one match.</p>
<pre><code>010|
</code></pre>
<p>Search for the string <code>010</code> horizontally, or...</p>
<pre><code>(?&lt;=(.)*)0.*¶(?&lt;2-1&gt;.)*(?(1)^)1.*¶(?&lt;-2&gt;.)*(?(2)^)0
</code></pre>
<p>... search for the string <code>010</code> vertically.</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://uiua.org" rel="nofollow noreferrer">Uiua</a>, 23 bytes</h1>
<pre><code>¬≍×⍉∩(&gt;1×/+◫¯3⊂⊂,,1)⍉..
</code></pre>
<p><a href="https://www.uiua.org/pad?src=0_13_0-dev_2__ZiDihpAgwqziiY3Dl-KNieKIqSg-McOXLyvil6vCrzPiioLiioIsLDEp4o2JLi4KJHRydXRoeSAxCmZbWzAgMCAwXQogIFsxIDAgMF0KICBbMCAwIDBdXQpmW1sxIDEgMSAxXQogIFsxIDAgMSAwXQogIFsxIDEgMSAxXV0KZltbMCAxIDAgMV1dCiRmYWxzeSAwCmZbWzAgMCAwIDAgMF0KICBbMCAwIDAgMCAwXQogIFswIDAgMCAwIDFdCiAgWzAgMCAwIDAgMV0KICBbMCAwIDAgMCAwXV0KZltbMSAwIDBdCiAgWzAgMCAwXQogIFswIDAgMV1dCmZbWzEgMSAxIDFdCiAgWzEgMCAxIDFdCiAgWzEgMSAxIDFdXQpmW1sxIDBdXQpmW1swIDEgMSAwXV0K" rel="nofollow noreferrer">Try it!</a></p>
<pre><code>¬≍×⍉∩(&gt;1×/+◫¯3⊂⊂,,1)⍉..
     ∩(              )⍉.  # for both the array and its transposition:
               ⊂⊂,,1      #  join a row of 1s above and below it
          /+◫¯3            #  sum three windows of it
       &gt;1×                 #  and find the cells that are boxes have sums &gt;1
   ⍉                      # de-transpose the transposition
  ×                        # find the cells that are stuck on both
¬≍                        # and check if they don' match the original array
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 53 bytes</h1>
<pre class="lang-python prettyprint-override"><code>lambda d:&quot;010&quot;in(n:=d.find(&quot;\n&quot;))*(d+n*&quot;\n&quot;)[::n+1]+d
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=dZHBSsQwEIbxmqcYcmmyraU5CBLYB_DkA7RF6ibBQnca0lSQxSfxsiD6Tnr0SUzb7e4q3cwhk5n_mx8mb5_2xT-1uH836-Kj9-b69uumqbaPqgIlaSYyWiNDuVapqVExWiDlfMVUjKsxz6XEWJSxmuDvqx-lDWxafNbOPzRtw7zu_KbqNJcEwnHa9w4hz1fbyrIafeLSzja1Z5yXpnXgoEaYobTzrraMHySjZUnIuUdQXPA4DnHaNtVGMwo0oZTPQ-NhHCGD6SwdvHNKKcngEAuZWMgyEqgEjigRJ-TUOi9O_FlrjFEiRn56XxCIPwIShWoUrpEFMadDlZQSrAuLZia6Q9t7WeDu_35fCyzwvvdDG3aGLS53UkV8-ur9frp_AQ" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Expects a single string consisting of newline-terminated lines of 0s and 1s.</p>
<h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 65 bytes</h1>
<pre class="lang-python prettyprint-override"><code>lambda d:any((0,1,0)in[*zip(a,a[1:],a[2:])]for a in[*d,*zip(*d)])
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=dVFNSsQwFMZtTvHIpkmJQ-NKCi5cuvIAbZHYJljopCFNhXHwJG4KondS8C6mzXSmSieBvJf3_UHy9ml27qnVw7u6yT96py6vv24bsX2sBFSp0DtCEsZZQmudxS-1IYKJjKeFP6_SghaqtSBgBCs24XFFCxqMvi9-KqmgbPWztO6haRviZOdK0UmaIvDLStdbDVkWb4UhtXbMbjrT1I7QYG29NcyiTeesT6AHCs41pgVCywzPOJNxNLHSNKKUBANmGNPZFKExb2aNsRnGGCVw2CsdX-kS5FUMjlLET5ITtBwG_QKa9kThkz7czxD4HwKK_DTyZdICn9txiooUjPVvTFR0p03v0lzv_z_ta65zfd-7EYa9Iqt_F1jR4ZeHIdRf" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Expects a list-of-lists of integers.</p>
<p>Any similarities of test code with that of shape warrior t's are mere coincidence =-P</p>
<h2>How?</h2>
<p>Essentially an exercise in performing the transpose.</p>
</div>
<div id="pu7" class="pu"><h1>JavaScript (ES11), 75 bytes</h1>
<p>Expects a binary matrix (1 for empty, 0 for filled) and returns a Boolean value.</p>
<pre class="lang-javascript prettyprint-override"><code>m=&gt;m.some((r,y)=&gt;r.some((v,x)=&gt;v&amp;&amp;!r[x+1]&amp;r[x+2]|!m[y+1]?.[x]&amp;m[y+2]?.[x]))
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70kLz8ldcGiNNulpSVpuhY3vXNt7XL1ivNzUzU0inQqNW3tiqC8Mp0KIK9MTU2xKLpC2zBWDUQZxdYo5kZXArn2etEVsWogthGErakJMfIWk1Nyfl5xfk6qXk5-ukaaRjSXgkK0gqEOElKI1SFO0IBoQaB2LqAbFPT1FdISc4pTubjwuAJmgAFWmxEmlRSV4jAIl05krgFRTgKaBEWorjJAdSdcDVFuw2WiAT4T8TuS6AA2QPc8bpcawlyBbjgkKS1YAKEB" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu8" class="pu"><h1><a href="https://github.com/tomtheisen/stax" rel="nofollow noreferrer">Stax</a>, 9 <a href="https://github.com/tomtheisen/stax/blob/master/docs/packed.md#packed-stax" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>üo∟Ö╘└└⌂o
</code></pre>
<p><a href="https://staxlang.xyz/#p=816f1c99d4c0c07f6f&amp;i=%5B%5B1,1,1,1,1%5D,%5B1,1,1,1,1%5D,%5B1,1,1,1,2%5D,%5B1,1,1,1,2%5D,%5B1,1,1,1,1%5D%5D%0A%5B%5B1,1,1%5D,%5B2,1,1%5D,%5B1,1,1%5D%5D%0A%5B%5B2,1,1%5D,%5B1,1,1%5D,%5B1,1,2%5D%5D%0A%5B%5B2,2,2,2%5D,%5B2,1,2,1%5D,%5B2,2,2,2%5D%5D%0A%5B%5B2,2,2,2%5D,%5B2,1,2,2%5D,%5B2,2,2,2%5D%5D%0A%5B%5B2,1%5D%5D%0A%5B%5B1,2,1,2%5D%5D%0A%5B%5B1,2,2,1%5D%5D&amp;a=1&amp;m=2" rel="nofollow noreferrer">Run and debug it at staxlang.xyz!</a> <sup><a href="https://staxlang.xyz/#c=cM%2BJ11JE%7CI%25&amp;i=%5B%5B1,1,1,1,1%5D,%5B1,1,1,1,1%5D,%5B1,1,1,1,2%5D,%5B1,1,1,1,2%5D,%5B1,1,1,1,1%5D%5D%0A%5B%5B1,1,1%5D,%5B2,1,1%5D,%5B1,1,1%5D%5D%0A%5B%5B2,1,1%5D,%5B1,1,1%5D,%5B1,1,2%5D%5D%0A%5B%5B2,2,2,2%5D,%5B2,1,2,1%5D,%5B2,2,2,2%5D%5D%0A%5B%5B2,2,2,2%5D,%5B2,1,2,2%5D,%5B2,2,2,2%5D%5D%0A%5B%5B2,1%5D%5D%0A%5B%5B1,2,1,2%5D%5D%0A%5B%5B1,2,2,1%5D%5D&amp;a=1&amp;m=2" rel="nofollow noreferrer">with printable 0/1 output</a></sup></p>
<p>Takes input as a list of rows, each cell represented as integer 1 for empty and 2 for box. Output is falsy for stuck and truthy for not stuck.</p>
<p>I might be able to get away with <a href="https://staxlang.xyz/#p=83cfa2eacd854e05&amp;i=%5B%5B1,1,1,1,1%5D,%5B1,1,1,1,1%5D,%5B1,1,1,1,2%5D,%5B1,1,1,1,2%5D,%5B1,1,1,1,1%5D%5D%0A%5B%5B1,1,1%5D,%5B2,1,1%5D,%5B1,1,1%5D%5D%0A%5B%5B2,1,1%5D,%5B1,1,1%5D,%5B1,1,2%5D%5D%0A%5B%5B2,2,2,2%5D,%5B2,1,2,1%5D,%5B2,2,2,2%5D%5D%0A%5B%5B2,2,2,2%5D,%5B2,1,2,2%5D,%5B2,2,2,2%5D%5D%0A%5B%5B2,1%5D%5D%0A%5B%5B1,2,1,2%5D%5D%0A%5B%5B1,2,2,1%5D%5D&amp;a=1&amp;m=2" rel="nofollow noreferrer"><code>â╧óΩ═àN♣</code> for 8 bytes</a>, replacing the unpacked <code>|I</code> with just <code>I</code>. That would produce -1 for stuck and &gt;=0 for not stuck, not quite as much <code>a designated &quot;yes&quot; value or &quot;no&quot; value</code> as falsy/truthy.</p>
<h3>Unpacked (10 bytes)</h3>
<pre><code>cM+J11JE|I
cM+           concat with transposed copy
   J          join on 0
    11JE      literal [1,2,1]
        |I    all indices of subarray
</code></pre>
</div>
<div id="pu9" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, 28 bytes</h1>
<pre><code>FreeQ[#|#,{___,,1,,___}]&amp;
</code></pre>
<p><a href="https://tio.run/##y00syUjNTSzJTE78n2b7360oNTUwWrlG@X1/u051fHy8jo6hjg6Qro1V@x9QlJlXEq2sa5cWHZLvWlFQlFpcnJmf5@CckViUmFySWlTsEFwCVJMeXJCTCVSoo8SlpK@nYKBr51eakxMbC@LHqjloQRQFpRbkJCanRispKOnaKSnF1gUnJ@bVVXMpGShAIRcmyxALy0BJB6qJyxChGCSIxAWThhBBMASrNQTrAUNMKUNUKag1hjBzwEqAoly1/wE" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
<p>Input an array with <code>1</code> for boxes and <code>Null</code> for empty spaces. Returns <code>True</code> if all boxes are stuck, and <code>False</code> otherwise. <code></code> is <code>\[Transpose]</code>.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/275212/">275212</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




