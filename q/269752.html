<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::269752</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>655</td><td>C gcc</td><td>240203T234024Z</td><td><a href="https://codegolf.stackexchange.com/questions/269752/3d-hide-seek-word-puzzle/269762#269762">vengy</a></td></tr>
<tr d-ix="1"><td>056</td><td>Charcoal</td><td>240204T002932Z</td><td><a href="https://codegolf.stackexchange.com/questions/269752/3d-hide-seek-word-puzzle/269763#269763">Neil</a></td></tr>
<tr d-ix="2"><td>222</td><td>Python 3</td><td>240203T193553Z</td><td><a href="https://codegolf.stackexchange.com/questions/269752/3d-hide-seek-word-puzzle/269757#269757">enzo</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>C (gcc), 655 bytes</h1>
<p>To disable the word hint, change <code>hint=32</code> to <code>hint=0</code>.</p>
<pre><code>char w[]=&quot;CODEGOLF&quot;;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;time.h&gt;
#define r rand()
#define d r%3-1
#define s sizeof(w)-1
char u[s][s][s];
int x,y,z,a,b,c,p,i,l,m,n,hint=32;
main(){srand(time(0));if(r%2){for(i=0;i&lt;s/2;i++){char v=w[i];w[i]=w[s-1-i];w[s-1-i]=v;}};do{x=r%s;y=r%s;z=r%s;a=d;b=d;c=d;p=a||b||c;for(i=0;i&lt;s&amp;&amp;p;i++){l=x+i*a,m=y+i*b,n=z+i*c;if(l&lt;0||m&lt;0||n&lt;0||l&gt;=s||m&gt;=s||n&gt;=s)p=0;}}while(!p);for(i=0;i&lt;s;i++){u[x+i*a][y+i*b][z+i*c]=w[i]|hint;}for(x=0;x&lt;s;x++){for(y=0;y&lt;s;y++){for(z=0;z&lt;s;z++){if(!u[x][y][z])u[x][y][z]='A'+r%26;}}}for(y=0;y&lt;s;y++,puts(&quot;&quot;)){for(z=0;z&lt;s;z++,printf(&quot;   &quot;)){for(x=0;x&lt;s;x++){printf(&quot;%c &quot;,u[x][y][z]);}}}}
</code></pre>
<p><a href="https://tio.run/##ZVBNj5swEL3nV3ipsms3ps1mpb04Xqnq16XSHntAHMDAZiRjECYbIPDXS8eOsk26En6eeaN572EVvig1z2qXNOQQxTL4@vzt@8/nXz8CsfgARul9lpOtbTOoPu2erikN6TXXQpl7JssLMDlpSJOYjLI3IiPN8iG8f@stsTDkVUEPDFkfYh/Z@PSJBZiWdLznA094yhWvOXDNS274DkfyYSMWZQKGsqP1Rs6frhkTUNBmuWHHomooyLWArf28EbBasaM3eZWHCGLhACsb3oe@OxXyVUyTyKpjJ5ulFb3HwWMiM5HiUXhqmYxjOo5KXLjc3tYnGy27FXxMeCl7vFNu5IC3csn0dj2OpQPjQD9Ji71Hg8hqlJqmww50Tm9qdil/0t5HXjuOvHQceeXY/9LoHkZMbqXDlQ5XOrfiiB6JHon@TAxIDEgMjsBgNyiMoigYs3@lvPtyt8LXfMRQ0386vN63lgYBeyfI6waTFDQghJzHV4nO86UiAb8wdi7TPP9RhU5e7Bz@NlUIZa1BQRviyl8" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 56 bytes</h1>
<pre><code>Ｗ⁼⌊υ⌈υ«≔⁻Ｅ³‽⁺²Ｌθ²υ≔ＥθＥυ⎇‹μ⁰⎇⊕μ⁻⊖Ｌθλλμυ»ＥθＥθ⭆θ§⁺θ‽α⌕υ⟦κμξ
</code></pre>
<p><a href="https://tio.run/##TU9La8MwDD6vv0JHGTwY3bGnQjcotKy0gx1GDyYxiZmtNn50KWW/3ZPTsMwgLH3oe6hqla9Oyub83RqrAV@6pGzArSHjksMkJGxVP/ZCwG32sAzBNFRWEi@qMz5L2CuqTw53lqG5hI2mJrbYMYMF5lxJLCYmc7qie8Yk4V17Uv6KGx0COglPYsLWVHntNEVdoytRBs@VntDJSYIdyw2uxfFntvOG4n9H/g6RwWYclnFNte7v0bu/S1SReDVUl4ifXywqoT@K4S1y/njbr/Ljxf4C" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Enter the word in lower case if you want to make it obvious where it ended up. Explanation:</p>
<pre><code>Ｗ⁼⌊υ⌈υ«
</code></pre>
<p>Repeat until a suitable word placement is found.</p>
<pre><code>≔⁻Ｅ³‽⁺²Ｌθ²υ
</code></pre>
<p>For each axis, either select a fixed index from <code>0</code> to the length of the word, or <code>-1</code> to spread the word in the forward direction along that axis, or <code>-2</code> to spread it in the reverse direction (so for example <code>-2, -2, -2</code> would result in the word written in reverse along the main diagonal).</p>
<pre><code>≔ＥθＥυ⎇‹μ⁰⎇⊕μ⁻⊖Ｌθλλμυ
</code></pre>
<p>Use the randomly selected indices to generate a list of coordinates of each letter of the word.</p>
<pre><code>»ＥθＥθ⭆θ§⁺θ‽α⌕υ⟦κμξ
</code></pre>
<p>Output the cube, but selecting the letter from the word instead of a random letter if the current coordinates are from the selected list.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, <s>226</s> <s>213</s> <s>227</s> 222 bytes</h1>

<pre class="lang-python prettyprint-override"><code>from random import*
def f(w,g=randrange):
 W=len(w);r=range(W);G=eval('[[[chr(65+g(26))'+'for _ in r]'*3,vars());l=g(W);a=g(W);b=g(15)
 for n in r:G[[n,l][b&amp;2&gt;0]][[a,n][b!=4]][[a,n,n,W-n-1][b//4]]=w[::b%2*2-1][n]
 return G
</code></pre>
<p><a href="https://tio.run/##jU@xboMwEN35Cndo7SPQBNJkALlTJcZKLAyWVUEDxIgcyKVB/XpqO0gZuvQs6917vne@G3@m84D7ZWn0cCG6xJMBdRkHPfneqW5Iw@ag5fbB3LaGxCMF72tkM6SaO40VkGa8vpY9o0KIz7Nmx8OmZfERgG5oM2jyQRQSLam/D66l/mIAac9bayxvUBmIDuARW42uOsmEwKCXonqKX3dSClEGaNgDf1mJOUWIYWTE7daIfBZJUj3Gfmw1lB7R9fStkWTLfQg3cbSzi5iYCSe0eM/fqKO5oWZjcMR61N1zW3r12Ri1wolRm9LnblBo8jXJRSeFkuB6dH96wO2DtUH4z6Cw/AI" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
<ul>
<li><em>-13 bytes</em> by replacing <code>randint</code> with <code>randrange</code></li>
<li><em>+14 bytes</em> by implementing the reverse of a word</li>
<li><em>-5</em> bytes by creating a <code>b</code> variable to store <code>d</code>, <code>o</code> and <code>i</code>, and by using <code>eval</code></li>
</ul>
<p>A function that receives a word <span class="math-container">\$w\$</span> and returns a 3x3x3 matrix composed of lists.</p>
<p>To see where the word is, change <code>chr(65+g(26))</code> to <code>chr(97+g(26))</code>.</p>
<hr />
<p><strong>How does it work?</strong></p>
<p>The <code>g</code>enerator stores an instance of the <a href="https://docs.python.org/3/library/random.html#random.randrange" rel="nofollow noreferrer"><code>random.randrange</code></a> function.</p>
<p>The <code>r</code>ange stores the numbers from 0 to until the length of the <code>w</code>ord, exclusive.</p>
<p>We initialize the <code>G</code>rid to random uppercase letters (<code>chr(65+g(26))</code>).</p>
<p>We initialize three variables with random values:</p>
<ul>
<li><code>l</code>ayer: define the index of the layer the word will be written (UP: layer 1, APPLE: layer 2); this variable is ignored if the word is spread across layers</li>
<li><code>a</code>xis: define the index of the axis the word will be written (AND: axis 1, DOWN: axis 0, APPLE: axis 0); this variable is ignored if the word is set diagonally</li>
<li><code>b</code> a 4-bits integer, where
<ul>
<li>if the first bit is 0, the word will be put right-to-left (in reverse); otherwise, left-to-right</li>
<li>if the second bit is 0, the word will spread across layers (see AND, DOWN and ORANGE test cases); otherwise, it will be contained in a single layer (see UP and APPLE test cases)</li>
<li>if the third and fourth bits are <code>00</code>, the word will be set horizontally (AND and DOWN test cases); if <code>01</code>, the word will be set vertically (APPLE test case); if <code>10</code>, the word will be set diagonally-forward (UP and ORANGE test cases); if <code>11</code>, the word will be set diagonally-backward (see CODEGOLF test case).</li>
</ul>
</li>
</ul>
<p>Then, for each character of the <code>w</code>ord, we update the <code>G</code>rid doing some arithmetic based on <code>l</code>, <code>a</code> and <code>b</code>.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/269752/">269752</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




