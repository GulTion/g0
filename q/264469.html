<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::264469</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>041</td><td>Raku</td><td>230822T080248Z</td><td><a href="https://codegolf.stackexchange.com/questions/264469/piecing-paired-primes/264480#264480">Sean</a></td></tr>
<tr d-ix="1"><td>005</td><td>05AB1E</td><td>230822T075224Z</td><td><a href="https://codegolf.stackexchange.com/questions/264469/piecing-paired-primes/264479#264479">Kevin Cr</a></td></tr>
<tr d-ix="2"><td>525</td><td>Vyxal</td><td>230822T051811Z</td><td><a href="https://codegolf.stackexchange.com/questions/264469/piecing-paired-primes/264470#264470">lyxαl</a></td></tr>
<tr d-ix="3"><td>069</td><td>Desmos</td><td>230822T073004Z</td><td><a href="https://codegolf.stackexchange.com/questions/264469/piecing-paired-primes/264478#264478">Aiden Ch</a></td></tr>
<tr d-ix="4"><td>071</td><td>Python</td><td>230822T054332Z</td><td><a href="https://codegolf.stackexchange.com/questions/264469/piecing-paired-primes/264471#264471">bsoelch</a></td></tr>
<tr d-ix="5"><td>007</td><td>Thunno 2 S+</td><td>230822T063934Z</td><td><a href="https://codegolf.stackexchange.com/questions/264469/piecing-paired-primes/264477#264477">The Thon</a></td></tr>
<tr d-ix="6"><td>035</td><td>Factor + math.primes math.unicode</td><td>230822T062804Z</td><td><a href="https://codegolf.stackexchange.com/questions/264469/piecing-paired-primes/264475#264475">chunes</a></td></tr>
<tr d-ix="7"><td>048</td><td>Pari/GP</td><td>230822T063419Z</td><td><a href="https://codegolf.stackexchange.com/questions/264469/piecing-paired-primes/264476#264476">138 Aspe</a></td></tr>
<tr d-ix="8"><td>066</td><td>Python 3</td><td>230822T061543Z</td><td><a href="https://codegolf.stackexchange.com/questions/264469/piecing-paired-primes/264474#264474">xnor</a></td></tr>
<tr d-ix="9"><td>127</td><td>Excel</td><td>230822T060610Z</td><td><a href="https://codegolf.stackexchange.com/questions/264469/piecing-paired-primes/264473#264473">Jos Wool</a></td></tr>
<tr d-ix="10"><td>112</td><td>Python 3</td><td>230822T055305Z</td><td><a href="https://codegolf.stackexchange.com/questions/264469/piecing-paired-primes/264472#264472">UndoneSt</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://raku.org/" rel="nofollow noreferrer">Raku</a>, 41 bytes</h1>
<pre><code>[\+] {.(2)Z/.(3)}({grep &amp;is-prime,$_..*})
</code></pre>
<p><a href="https://tio.run/##K0gtyjH7n1up4FCsYPs/OkY7VqFaT8NIM0pfT8NYs1ajOr0otUBBLbNYt6AoMzdVRyVeT0@rVvO/tYJecWKlQlp@EVBntJGOoYWJjqmZsY6FiYWOpaVF7H8A" rel="nofollow noreferrer" title="Perl 6 – Try It Online">Try it online!</a></p>
<p>This is an expression for the infinite sequence of partial sums.</p>
<ul>
<li><code>{ grep &amp;is-prime, $_ .. * }</code> is an anonymous function that returns a sequence of primes starting from the number given as its argument.</li>
<li><code>{ .(2) Z/ .(3) }</code> is another anonymous function that is given the previous anonymous function as its argument in the variable <code>$_</code>, and evaluated immediately.  <code>.(2)</code> calls the first function with the number 2, generating the primes starting from 2, and likewise with <code>.(3)</code>.  <code>Z/</code> zips those sequences together with division, producing the sequence of fractions.</li>
<li><code>[\+]</code> produces the infinite sequence of partial sums.</li>
</ul>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, <s>6</s> 5 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>ÝØü/O
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f//8NzDMw7v0ff//98YAA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/V9Waa@k8KhtkoKSfeX/w3MPzzi8R9//v87/aGMdQwtTHVMzEx0LE0sdS0vLWAA" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>Ý      # Push a list in the range [0, (implicit) input]
 Ø     # Convert each to their 0-based n'th prime
  ü    # For each overlapping pair of values:
   /   #  Divide them
    O  # Them sum all these decimal values together
       # (which is output implicitly as result)
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, 42 <a href="https://github.com/Vyxal/Vyncode/blob/main/README.md" rel="nofollow noreferrer">bits<sup>v2</a></sup>, 5.25 bytes</h1>
<pre><code>ʀǎ¨p/∑
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2#WyLhuIs9IiwiIiwiyoDHjsKocC/iiJEiLCIiLCIxODUiXQ==" rel="nofollow noreferrer">Try it Online!</a></p>
<p>Works for any n &gt;= 1 (even bigger than 1000). The flag is for display purposes.</p>
<p>Can be <a href="https://vyxal.pythonanywhere.com/?v=2#WyLhuIs9cyIsIiIsIsqAx47CqHAvIiwiIiwiMTg1Il0=" rel="nofollow noreferrer">4.375 bytes</a> if you feel like it.</p>
<h2>Explained</h2>
<pre><code>ʀǎ¨p/∑­⁡​‎‎⁪⁡⁪⁠⁪⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁪‏⁠⁪⁪‏​⁡⁠⁡‌⁢​‎‎⁪⁡⁪⁠⁪⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁪‏‏​⁡⁠⁡‌⁣​‎‎⁪⁡⁪⁠⁪⁢⁢⁪‏‏​⁡⁠⁡‌­
ʀǎ      # ‎⁡nth prime for n in range [0, input]
  ¨p/   # ‎⁢Reduce each overlapping pair by division
     ∑  # ‎⁣And sum
💎
</code></pre>
<p>Created with the help of <a href="https://vyxal.github.io/Luminespire" rel="nofollow noreferrer">Luminespire</a>.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://desmos.com/calculator" rel="nofollow noreferrer">Desmos</a>, 69 bytes</h1>
<pre><code>L=[2...7920]
P=L[∏_{d=3}^Lmod(L,d-1)&gt;0]
f(k)=∑_{n=1}^kP[n]/P[n+1]
</code></pre>
<p><a href="https://www.desmos.com/calculator/haqq7zskcv" rel="nofollow noreferrer">Try It On Desmos!</a></p>
<p><a href="https://www.desmos.com/calculator/seu5vihk57" rel="nofollow noreferrer">Try It On Desmos! - Prettified</a></p>
<p>Probably golfable but this is the best I could think of for now.</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 71 bytes</h1>
<pre class="lang-python prettyprint-override"><code>lambda n:sum(p(k+1)/p(k+2)for k in range(n))
from sympy import*
p=prime
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=Tc5NCsIwFATgfU_xwE3iTzQxad8TuvYSbioaLTVpiHXRvbdwUxC9k7exRQVXw_DBMLdnaJtj7bu7zTePS2Nn-FqfCrfdFeBX54tjgVUTyedDKG7rCBWUHmLhD3vmOU9srB2cWxdaKF2oYzNOQh5i6fbfuWtffMMsA1jyKQBIQbggo3jyE4mmF5mRkEiZNjwZ_cikuidjUoGYqkz_EWrqCbUUWmpK1R8RDUQkhVJolhn_fOm6T74B" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h2>Explanation</h2>
<p><code>prime</code> computes the n-th prime</p>
<h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 105 bytes</h1>
<p>longer but faster</p>
<pre class="lang-python prettyprint-override"><code>lambda n:sum(a/b for(a,b)in i.pairwise(i.islice(sympy.primerange(4**n),n+1)))
import sympy,itertools as i
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=Tc5LTsMwEAbgfU8xS7tNHezYiY3ETdg44MBIsR3ZrlDOwiYSgitwFm5DaKnS1Ujz_fN4_5rm8hrD8jE8PH6eynDUPzha3z9bCPf55ImtexhiIrbqKQZANllMb5gdQYZ5xCdH8uynmU0JvUs2vDgi9_tAq3DglNId-immAudQhcWlEuOYwWbA_4Pf62goZCAAnFYAIOqG7ramuDYPTa2ucBtozgHOjL4zSmzCtVqFd4ZxbTqpNlGtXEWplmndik5uoqVZRUvOJJemvdlmzJ8Yw5kQWjUdvby_LJf6Cw" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h2>Explanation</h2>
<p>uses the fact that the n+1-st prime is less than 4<sup>n+1</sup> to obtain the list of the first n+1 primes from the list of the primes less than n (<code>sympy.primerange</code>), <code>pairwise</code> groups the elements in adjacent pairs</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/Thunno/Thunno2" rel="nofollow noreferrer">Thunno 2</a> <code>S+</code>, 7 <a href="https://github.com/Thunno/Thunno2/blob/main/docs/codepage.md" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>ÆpDḣµ²/
</code></pre>
<p><a href="https://Not-Thonnu.github.io/run#aGVhZGVyPSZjb2RlPSVDMyU4NnBEJUUxJUI4JUEzJUMyJUI1JUMyJUIyJTJGJmZvb3Rlcj0maW5wdXQ9MyZmbGFncz1TJTJC" rel="nofollow noreferrer">Try it online!</a></p>
<h4>Explanation</h4>
<pre class="lang-python prettyprint-override"><code>ÆpDḣµ²/  # Implicit input
Æp       # First (input + 1) primes
  Dḣ     # Zip with itself without the first item (2)
    µ²/  # Reduce each pair by division
         # Implicit output of sum
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://factorcode.org/" rel="nofollow noreferrer">Factor</a> + <code>math.primes math.unicode</code>, 35 bytes</h1>
<pre><code>[ 1 + nprimes 2 clump unzip v/ Σ ]
</code></pre>
<p><a href="https://tio.run/##LYu7CgIxEEX7/YrbCytqp2ArNjaylViEOLsGk0nITBb0d/wffyk@1ubAPdzTG6sx1@64P@zWMCLRCoYcS3I8IBi9/tCm7AIJbpSZ/KRG@qYyjcLOxgshZVK9f96s2DTNqp6wwAz875ewvoSEwg@XMM7xeuJcrfEe295Ho2jrGw" rel="nofollow noreferrer" title="Factor – Try It Online">Try it online!</a></p>
<pre><code>         ! 3
1        ! 3 1
+        ! 4
nprimes  ! { 2 3 5 7 }
2        ! { 2 3 5 7 } 2
clump    ! { { 2 3 } { 3 5 } { 5 7 } }
unzip    ! { 2 3 5 } { 3 5 7 }
v/       ! { 2/3 3/5 5/7 }
Σ        ! 1+103/105
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="http://pari.math.u-bordeaux.fr/" rel="nofollow noreferrer">Pari/GP</a>, 48 bytes</h1>
<pre><code>f(n)={s=0.0;for(k=1,n,s+=prime(k)/prime(k+1));s}
</code></pre>
<p><a href="https://tio.run/##jctBCoMwFEXRuav4OEowbQ1VUUL24AKciMYa1BjyUzooXXtqoZSWTpzdB@fZ1unDxYYwEEPlHWV6TMWwOjJJzgzDRFqnF0UmenpHwikV@AhNA7XTxoMfFTiF19kj3LQfoVeonerBOtVp1KuJ@i2Wdq7ntlMIEngqIvs6k48hAzlTBj9y2zHEDL4RL/M9LC@yPazMqj2sqv4ZFeEJ" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu8" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 66 bytes</h1>

<pre class="lang-python prettyprint-override"><code>f=lambda n,p=3,P=4,d=2:n and P%p*d/p+f(n-P%p,p+1,P*p*p,[d,p][P%p])
</code></pre>
<p><a href="https://tio.run/##DYxBCoMwEADvvmIRBI1rWxsVFdI3eBcPtlEa0HVJ0oOvtzkMDHMYPv33IHmZnQ/rwZ0uCtzc4u3y@VlnDtrMbnxaPoRosmtV27y/9QyErCQOqkKtnj3BTBqGhIW@c76mVARHzkscBAvGUSNPY2hTWBwWCAzBKBHKtkaomwqhrTqEruumPgK2hnwaJ1JD8YI4IYTwzLLrDw" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
<p>The <a href="https://codegolf.stackexchange.com/a/27022/20260">Wilson's Theorem generator</a> strikes again. Similar to <a href="https://codegolf.stackexchange.com/a/152433/20260">the template
for the first n primes here</a>, but also stores the previous prime as <code>d</code> and keeps the running sum of the ratios.</p>
</div>
<div id="pu9" class="pu"><h1>Excel, 127 bytes</h1>
<pre><code>=LET(
    a,ROW(1:7327),
    b,FILTER(a,MMULT(N(MOD(a,TOROW(a))=0),a^0)=2),
    SUM(EXP(MMULT(LN(INDEX(b,SEQUENCE(A1)+{0,1})^{1,-1}),{1;1})))
)
</code></pre>
<p>Input in cell <code>A1</code>. Fails for <code>A1&gt;932</code>.</p>
</div>
<div id="pu10" class="pu"><h1>Python 3, <s>131</s> 112 bytes</h1>
<p><em>-19 thanks to bsoelch</em></p>
<pre class="lang-py prettyprint-override"><code>lambda n:sum(x[k]/x[k+1]for k in range(n))
x=[i for i in range(2,7920)if not[i%j for j in range(2,i)if not i%j]]
</code></pre>
<p><a href="https://tio.run/##TYrLCsIwEEX3fsVshAwWtC@bCP2SmEVEo9PaSYgV6tfHWgTd3APn3PAab55LGWJy7THd7XA6W@DD4zmISfdmO88mN85H6IEYouXrRTDiamo1wcfTzxdZo4odkgP2o6Z1txy6/wN9K8zVmBQi8SicKDFzIpc1ZuBEva8WykotVEohpjc" rel="nofollow noreferrer">Try it online!</a></p>
<p>Old explanation:</p>
<pre class="lang-py prettyprint-override"><code>lambda n:                                # lambda with an argument
x:=[i for i in range(2,7920)if not[i%j for j in range(2,i)if not i%j]][:n+1]
# prime getter till 1000. 7919 is 1000th prime, slice until n+1
sum(x[k]/x[k+1]for k in range(len(x)-1)) # sum it up
[1]                                      # and return the latter
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/264469/">264469</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




