<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::QNNN</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
  <!-- TXXX -->
<tr d-ix="0"><td>011</td><td>05AB1E</td><td>230908T115030Z</td><td><a href="https://codegolf.stackexchange.com/questions/264962/decimalize-a-fraction/265039#265039">Kevin Cr</a></td></tr>
<tr d-ix="1"><td>029</td><td>sclin</td><td>230907T212213Z</td><td><a href="https://codegolf.stackexchange.com/questions/264962/decimalize-a-fraction/265022#265022">Mama Fun</a></td></tr>
<tr d-ix="2"><td>125</td><td>JavaScript ES6</td><td>230907T195639Z</td><td><a href="https://codegolf.stackexchange.com/questions/264962/decimalize-a-fraction/265021#265021">Mr. Poly</a></td></tr>
<tr d-ix="3"><td>030</td><td>Ruby</td><td>230907T002829Z</td><td><a href="https://codegolf.stackexchange.com/questions/264962/decimalize-a-fraction/264999#264999">Value In</a></td></tr>
<tr d-ix="4"><td>040</td><td>Charcoal</td><td>230906T131137Z</td><td><a href="https://codegolf.stackexchange.com/questions/264962/decimalize-a-fraction/264978#264978">Neil</a></td></tr>
<tr d-ix="5"><td>044</td><td>Factor</td><td>230906T142056Z</td><td><a href="https://codegolf.stackexchange.com/questions/264962/decimalize-a-fraction/264985#264985">chunes</a></td></tr>
<tr d-ix="6"><td>137</td><td>C gcc</td><td>230906T140556Z</td><td><a href="https://codegolf.stackexchange.com/questions/264962/decimalize-a-fraction/264983#264983">matteo_c</a></td></tr>
<tr d-ix="7"><td>1075</td><td>Vyxal</td><td>230906T062834Z</td><td><a href="https://codegolf.stackexchange.com/questions/264962/decimalize-a-fraction/264963#264963">lyxal</a></td></tr>
<tr d-ix="8"><td>047</td><td>Wolfram Language Mathematica</td><td>230906T072421Z</td><td><a href="https://codegolf.stackexchange.com/questions/264962/decimalize-a-fraction/264968#264968">ZaMoC</a></td></tr>
<tr d-ix="9"><td>024</td><td>JavaScript ES6</td><td>230906T083902Z</td><td><a href="https://codegolf.stackexchange.com/questions/264962/decimalize-a-fraction/264970#264970">Arnauld</a></td></tr>
<tr d-ix="10"><td>013</td><td>Husk</td><td>230906T093928Z</td><td><a href="https://codegolf.stackexchange.com/questions/264962/decimalize-a-fraction/264972#264972">Dominic </a></td></tr>
<tr d-ix="11"><td>246</td><td>Retina 0.8.2</td><td>230906T093304Z</td><td><a href="https://codegolf.stackexchange.com/questions/264962/decimalize-a-fraction/264971#264971">Neil</a></td></tr>
<tr d-ix="12"><td>034</td><td>Python 3</td><td>230906T064131Z</td><td><a href="https://codegolf.stackexchange.com/questions/264962/decimalize-a-fraction/264965#264965">xnor</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 11 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>`s16°*sÖi`/
</code></pre>
<p>I/O as a pair <span class="math-container">\$[nominator,denominator]\$</span>. The output is unsimplified.</p>
<p>Port of <a href="https://codegolf.stackexchange.com/a/264965/52210"><em>@xnor</em>'s Python 3 answer</a>.</p>
<p><a href="https://tio.run/##yy9OTMpM/f8/odjQ7NAGreLD0zIT9P//jzY0MzYy1zGJBQA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##JY0xCsJAEEWvEqYRJDA7M7szu1UabyFCFCxSWQSEFLYewMLeE@gZkpt4kXU3du/zePzLeDwN53ydOmi@90cD3bTB@bW8d7kfSefPdlyeQ4/51uY9kAobemiBoqJ3rhALqUdaWVidR3bub9iqUYm1ENTaoVQOKSKzUmEzDkgxcKoJCScUs/WDy0QmEjj8AA" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>`           # Pop the (implicit) input-pair, and push both items separately to the stack
 s          # Swap so the nominator is at the top
  16°       # Push 10000000000000000 (10**16)
     *      # Multiply it to the nominator
      s     # Swap so the denominator is at the top again
       Ö    # Check if the nominator with 16 trailing 0s is divisible by the denominator
        i   # Pop, and if this is truthy:
         `  #  Pop and push the input-pair separated to the stack again
          / #  And divide them
            #  (after which this decimal is output implicitly as result)
            # (implicit else)
            #  (output the implicit input-pair instead)
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/molarmanful/sclin" rel="nofollow noreferrer">sclin</a>, 29 bytes</h1>
<pre><code>16 17,.N&gt;d Q&quot;,_ =&quot;Q0.:&quot;pop&quot;?#
</code></pre>
<p><a href="https://scline.fly.dev/##H4sIALVO.mQCAzM0MjI0VjAyNDTW1.MyNFMwNNfR87NLUQhU0olXsFUKNNCzUirIL1CyVwYANfBn3yoAAAA" rel="nofollow noreferrer">Try it on scline!</a></p>
<h2>Explanation</h2>
<p>Prettified code:</p>
<pre><code>16 17,.N&gt;d Q ( ,_ = ) Q 0.: \pop ?#
</code></pre>
<p>Numbers in sclin are internally represented as rational numbers.</p>
<ul>
<li><code>16 17,.N&gt;d Q</code> represent the fraction as a decimal with 16 and 17 places</li>
<li><code>( ,_ = ) Q ... ?#</code> check if both representations are equal...
<ul>
<li><code>0.:</code> if true, then get decimal representation</li>
<li><code>\pop</code> otherwise, get rational representation</li>
</ul>
</li>
</ul>
</div>
<div id="pu2" class="pu"><h1>JavaScript (ES6), 125 bytes</h1>
<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>f=s=&gt;{[n,m]=s.split('/').map(v=&gt;+v);for(i=n&gt;m?n:m;i&gt;1;i--)if(!(n%i|m%i))[n,m]=[n/i,m/i];return n*1e16%m?`${n}/${m}`:`${n/m}`}

const testCases = [
  { input: '16327/4',     output: '4081.75'        },
  { input: '186/400',     output: '0.465'          },
  { input: '23164/100',   output: '231.64'         },
  { input: '32604/20000', output: '1.6302'         },
  { input: '22764/16384', output: '1.389404296875' },
  { input: '3/6',         output: '0.5'            },
  { input: '1/3',         output: '1/3'            },
  { input: '3598/2261',   output: '514/323'        },
  { input: '7725/18529',  output: '7725/18529'     },
  { input: '21329/3774',  output: '21329/3774'     },
  { input: '12213/2113',  output: '12213/2113'     },
];

for (let { input, output } of testCases) {
  console.log(input, '=&gt;', f(input) === output); // Equals?
}</code></pre>
<pre class="snippet-code-css lang-css prettyprint-override"><code>.as-console-wrapper { top: 0; max-height: 100% !important; }</code></pre>
</div>
</div>
</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 30 bytes</h1>
<p>Yet another xnor port. Like chunes' Factor port, it's shorter to return a <code>Rational</code> instead of an array if it can't be decimalized.</p>
<pre class="lang-ruby prettyprint-override"><code>-&gt;n,d{(n*1e16%d&gt;0?1r:1.0)*n/d}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=LZBbTsMwEEXFr9nEqFC16cP2jB3HQUpZSKmqoqRQqYQoSUGo7RJYAT8Vgm2wD1gNtlN_JDonM_dG_viqd_dvp8919r1r11P7M52Vk3w_LEdYoOnnM3mL9Q1yGY1KkR-7od_318fNtoCHom0YuPlJDRlcL3nT1puKN9V20w4FjOd3IlvAWET8aVXtD8WheFltoTgP3IpoNKjF4Mig2rUN9PpxDgL8M4OrfZut5y56cYShA94-L5ssq8P7GPWgD-ErK8q8-6nT38UlGkWJy_BHuxQtLfIkZgBoTfBaSucl1yZmpNDoYDFYx9xopshIr0nKoJ1UkhhREqZdh9VBK5tqqSk1NlQAqHO1CRWdw7NTfkUoBipOrXdEBp2LUQtFzicJxT7expQ671EEYITKKbeiksQ3BxYeGJKDkIYYGjwLD92l_AM" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 40 bytes</h1>
<pre><code>≔Ｉ⪪Ｓ/θ≧÷⌈Φ⊕⌊θ∧ι¬⌈﹪θιθ¿﹪Ｘχφ§θ¹⪫θ/Ｉ∕§θ⁰§θ¹
</code></pre>
<p><a href="https://tio.run/##bY/NqsIwEIX3PkVwNYGIKchF6EoUQaEi@gShyW0H0qQ/U/XtY9JewcWdzcCcOd@cKWvVl17ZEHbDgJWDvRoI7q1FgpNrR7pTj64CLthyveSxdTxfFKqd129Y1WmRDvhAbQQr1AubsYEjWjJ9VMreNMaR0VCgm6QuUXZOAwp28QQfS@H1aD10giGfar6Fv@wjXf0zMjMpWCalTBQ6OW1eyZNFA7vGrARnjy6NpsA5M3Ywf8r03BwVvrz/oHgeQrb9WW@kDKuHfQM" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>≔Ｉ⪪Ｓ/θ
</code></pre>
<p>Input the fraction.</p>
<pre><code>≧÷⌈Φ⊕⌊θ∧ι¬⌈﹪θιθ
</code></pre>
<p>Reduce it to its lowest terms.</p>
<pre><code>¿﹪Ｘχφ§θ¹
</code></pre>
<p>If the denominator is not a factor of <code>10¹⁰⁰⁰</code>...</p>
<pre><code>⪫θ/
</code></pre>
<p>... output as a fraction, otherwise...</p>
<pre><code>Ｉ∕§θ⁰§θ¹
</code></pre>
<p>output as a decimal.</p>
<p>81 bytes for the way overengineered version which works with arbitrary precision positive integer inputs:</p>
<pre><code>≔Ｉ⪪Ｓ/θＷ﹪§θ±²§θ±¹⊞θι≧÷⌊θθ≔Ｘχ⌈Ｅ25⌕⮌Ｘ⁰↨§θ¹Ｉι⁰η¿﹪η§θ¹⪫…θ²/⁺÷§θ⁰§θ¹⭆Ｉ⁺η﹪×§θ⁰÷η§θ¹η⎇κι.
</code></pre>
<p><a href="https://tio.run/##ZZBfb4IwFMXf/RQNTyVhE1ppMD45lyUucTHqF2ikg5tVQFr88@nZLTJ1SgIN7em5v3O2uay3pdRtOzUGsoLOpLF0XWmwdF5UjV3bGoqM@gHxhp6Py96fDI45aEXookwbXdKpnRepOtF9QL5UJq2izAmftyMfH7JsTO42AY0WsrrMXUGWu4n2HQ6QqoAsoIBds6P7fmSPtyyPqqZRiAJ56gRoQT0WewH5gCKlK3VQtVG9EHVvEv/uWCI07EKCowlIeFlynAHf10z5P/6o48YiLP0sAUs6b7Wa5WXlDtlfN5OB0kb1uqVuzC3PPUDoP3oH5NKyi9KhdZcRoYfZwE6ZR4ub9zOri@O@G1UXsj7TH2wbIV89l3XStjET4ThhYiwSHgs@EiFPGGdDfBMeihEXMU/wlCXjULC4fTnoXw" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>≔Ｉ⪪Ｓ/θ
</code></pre>
<p>Input the fraction.</p>
<pre><code>Ｗ﹪§θ±²§θ±¹⊞θι≧÷⌊θθ
</code></pre>
<p>Reduce it to its lowest terms.</p>
<pre><code>≔Ｘχ⌈Ｅ25⌕⮌Ｘ⁰↨§θ¹Ｉι⁰η
</code></pre>
<p>Find a power of <code>10</code> that the denominator might be a factor of.</p>
<pre><code>¿﹪η§θ¹⪫…θ²/
</code></pre>
<p>But if it isn't then just output the fraction.</p>
<pre><code>⁺÷§θ⁰§θ¹⭆Ｉ⁺η﹪×§θ⁰÷η§θ¹η⎇κι.
</code></pre>
<p>Convert the fraction to arbitrary precision decimal.</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://factorcode.org/" rel="nofollow noreferrer">Factor</a>, 44 bytes</h1>
<pre><code>[| x y | x 1e16 * y mod 0 &gt; x y / x y /f ? ]
</code></pre>
<p><a href="https://tio.run/##LZC7TsQwEEV7f8WlpYg941cCYikRDQ2iQhTRkiwr8lISJFbAtwc/4mKkc67la01bH9dx3l6eH58eblAvy3hc0NfrBz6beWg6THOzrpdpPg8rTvP4NZ2HE7rxWHcLboX4EeQ0e6RjcIU7GFVS4a0AqHRJK5UCVRhnBWtyJmradRCFM0KzU8GzUrsPVisWzD7eDzWl2b0uK6MMV65MNSHM/TrnUgtoW5XBMDtK0pKRmkPgPdv4M8tVCiLLhIJJBxme8T43JSEjCuIA8UGivSUKGVH8gfNqttdffOOCOKkhh@sA/fgOhUMKZJ4t7vG2tXndh76eUGz/" rel="nofollow noreferrer" title="Factor – Try It Online">Try it online!</a></p>
<p>Port of xnor's <a href="https://codegolf.stackexchange.com/a/264965/97916">Python answer</a>. The only difference is that it's shorter to return either a ratio or a float instead of bothering with lists.</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, 137 bytes</h1>

<pre class="lang-c prettyprint-override"><code>#define W(A,B)for(;d%A&lt;1;q*=10,++c)n*=B,d/=A;
f(a,b){long n=a,d=b,q=1,c=0;W(2,5)W(5,2)printf(&quot;%ld%c%0*ld&quot;,d?a:n/q,47-!d,c*!d,--d?b:n%q);}
</code></pre>
<p><a href="https://tio.run/##TZDNjoIwFIXXw1N0mJC0WOwvLciQib6Ea6BiTJwqyqyMz@60KGAXbXPOl3NPbpPsm@bx@DK79mB3YAvXeIPa0wUWJlp/s6KLS0bxYtEgG5cbbEi5LoIWVrhGt@PJ7oEtK2zKGnclw01Jiy3kOEVbmGKOzpeD7VsYRkcTNRGNjybE5qdaWdJhqZNPg5vYXUlifuqVjTpU3Kcm/e7auzGgRqB9vgU4//VXGIaoCILf6mAhArfgYwCZElwADNyR1JGEEP/LllSnb4h@IkC@IWw5IQCwTA2IpFMKXUo1AlwwJQeAzYATl0q@CMEV9QSndCacLygfM7geMlyfTM6EyHJJJc9V9lbHGa/GYiKJGG2R5pm3OVdstFMmiVvFiGjNUz8rS3k@Il4jgzI2YoLnPkhoPTUaROKVcX/cScM4xuY2XiReCe6Pfw" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, 86 <a href="https://github.com/Vyxal/Vyncode/blob/main/README.md" rel="nofollow noreferrer">bits<sup>v2</a></sup>, 10.75 bytes</h1>
<pre><code>\/€tǏ25F[|øḋ
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2#WyI9IiwiIiwiXFwv4oKsdMePMjVGW3zDuOG4iyIsIiIsIjMvNiJd" rel="nofollow noreferrer">Try it Online!</a></p>
<p>And here I thought I was being clever skipping the challenge text. Takes a fraction as input, which is automatically simplified.</p>
<h2>Explained</h2>
<pre><code>\/€tǏ25F[|øḋ­⁡​‎‎⁪⁡⁪⁠⁪⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁪‏⁠⁪⁪‏​⁡⁠⁡‌⁢​‎‎⁪⁡⁪⁠⁪⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁤⁪‏⁠⁪⁪‏​⁡⁠⁡‌⁣​‎‎⁪⁡⁪⁠⁪⁣⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁡⁪‏‏​⁡⁠⁡‌­
\/€           # ‎⁡Push a copy of the input splitted on &quot;/&quot;
   tǏ25F      # ‎⁢Push the prime factorisation of the denominator with 2s and 5s removed.
        [|øḋ  # ‎⁣If that is empty, convert to decimal.
💎
</code></pre>
<p>Created with the help of <a href="https://vyxal.github.io/Luminespire" rel="nofollow noreferrer">Luminespire</a>.</p>
</div>
<div id="pu8" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, 47 bytes</h1>
<pre><code>If[Depth[r=RealDigits@#]&gt;3,#,N[#,Tr[1^#&amp;@@r]]]&amp;
</code></pre>
<p><a href="https://tio.run/##HYqxCsIwFEV/pRBwCry899KkHSoZuriIiFuIEKS2BStSs4nfHhu3e885S0zTsMQ032Ieu3y4@354pcmv3XmIj34e5/R2IuxZCnn0Ql5Wj1exc24NIezyaZ2fCdwI7oOGyYKWFTYGtFKyIkajActkMkoDKfXnZAs33JQaeNN12wCRQVlZSzVgU1O7hcjUAltbOtoeECJ/c/4B" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
<p>-8 bytes thanx to @att</p>
</div>
<div id="pu9" class="pu"><h1>JavaScript (ES6), 24 bytes</h1>
<p>Unsurprisingly, a port of <a href="https://codegolf.stackexchange.com/a/264965/58563">xnor's method</a> probably leads to the shortest code.</p>

<pre class="lang-javascript prettyprint-override"><code>p=&gt;q=&gt;p*1e16%q?[p,q]:p/q
</code></pre>
<p><a href="https://tio.run/##bc/LbsIwEAXQfb/Cm0pJ1cbz8iNIoR9SsUA0VK0QcQDx@@mYkEVNs5ubo5nrn@11e96dvtPl7Th89tO@m1K3Hrt1esEe/fP4/pFex80q2XHaDcfzcOibw/BV7Sv0TKGujH5S18ZaIxCxCe7przMGo89OAGYHjfhSEaOXrHBRmjReCsbkQRkBLEwRA5XbKORtWjHKwji2AkKtj/9U1LvzU/jOLZeGXRvVEHmcjUOxTA8uBHJ6OjpqZ5cDe5vLlshqdHMI95a3xOa5oEj6K19HXBrmxOZ5@gU" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<hr />
<h3>Other approach (43 bytes, invalid)</h3>
<p>Expects <code>(p)(q)</code>. Returns either <code>[p,q]</code> or <code>p/q</code>.</p>
<p>We multiply by <span class="math-container">\$5\$</span> the greatest power of <span class="math-container">\$2\$</span> that divides <span class="math-container">\$q\$</span> until it's greater than or equal to <span class="math-container">\$q\$</span>.</p>
<p>This works for all test cases (<a href="https://codegolf.stackexchange.com/revisions/264962/3">at the time of posting</a>) but would fail on some others because <em>the input is not guaranteed to be in simplified form</em>.</p>

<pre class="lang-javascript prettyprint-override"><code>p=&gt;q=&gt;(g=n=&gt;n&gt;q?[p,q]:n&lt;q?g(n*5):p/q)(q&amp;-q)
</code></pre>
<p><a href="https://tio.run/##bc9NTsMwEAXgPafwCtmIxp7x@CcVSQ@CWFSljYoqJ6aI64dx0ywwZDcvn2aeP/bf@@vh8zx9bdL4fpxP3Tx1fe56OXSp61Ofd6/Tc37bppe8G2R6cmo76axkftxkNR/GdB0vx@YyDvIkwVsMSgr@SCmhtSAToQnu4bcTAqIvjoxZnGnI1woteCoKVsVJ46liFr1hhsasjJE1WG/DULZxxUgrs7ElQ9j6@E9Fvrs8xd65trWxro1sED0sxgFpi39cCOj4dHTYLq4E@jbXLcGy4c0h3FveEl3migLyr3IdYG1YEl3m@Qc" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a>, 13 bytes</h1>
<pre><code>?¤/i/¤-p*10¹³
</code></pre>
<p><a href="https://tio.run/##yygtzv7/3/7QEv1M/UNLdAu0DA0O7Ty0@f///@Z6Bv@NjPQMAA" rel="nofollow noreferrer" title="Husk – Try It Online">Try it online!</a></p>
<p>Input as two integers (den, num) represented in floating-point format: it's much easier in <a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a> to convert a float to an int than the other way around.</p>
<pre><code>?¤/i/¤-p*10¹³       # full program
?¤/i/¤-p*10⁰²⁰²     # with arg expansion:
     ¤              # combin: ¤fgxy means f(gx)(gy)
      -             #  f = - = list difference
       p            #  g = p = prime factors
        *10⁰        #  x = 10x arg1
            ²       #  y = arg2
                    # (so this simplifies the fraction,
                    # and returns list of any non-2, non-5 factors
                    # - truthy if there are any, falsy if none)
?                   # fif: ternary if for functions
                    # use the above result to choose from:
 ¤/i             ⁰² #  (if truthy) convert both args to integers &amp; divide
                    #  (Husk outputs real fractions by default)
    /            ⁰² #  (if falsy) just divide
                    #  (keeps input floating-point format)
</code></pre>
</div>
<div id="pu11" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language/a950ad7d925ec9316e3e2fb2cf5d49fd15d23e3d" rel="nofollow noreferrer">Retina 0.8.2</a>, 246 bytes</h1>
<pre><code>\d+
$*
^(1+)(\1)*/(\1)*$
1$#2$*1/$#3$*
+`/(1+)\1{9}(0*)$
/$1$+0
+`/(1+)\1{4}(0*)$
$`/$1$+0
+`/(1+)\1(0*)$
$`$`$`$`/$1$+0
+`/(11+)0
/$1$1$1$1$1$1$1$1$1$1
^(1+)(\1)*/(\1)*$
1$#2$*1/$#3$*
1+
$.&amp;
r`^(?&lt;-1&gt;.)+/1(0)+$
$#1$*00$&amp;
r`((?&lt;-2&gt;.)+)/1(0)+$
.$1
</code></pre>
<p><a href="https://tio.run/##hc7JagMxDAbgu15jlOKFjvTLng1KeuxLDGECyaGXHkJuIc8@9WSBkBxigZH9CUmH/fH3bzuv3M80j7tIHGjjEL0b4YNcbiZwZRwgXKXicZKlYsRpODsNnkkYHPUB8g14eqb7/zUetbBeOr3E241Q9q4/6DBt3PfXJ9a1j1Im@VgmVeCgyou6RW1Rf@eaMc/oW8mqZAltFpQsWatZTMshSKLUDL2YtaCus0bQNzaQIdkgqesywcpDDEj/" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Link includes faster test cases, as manipulating large numbers in unary is horribly slow. Explanation:</p>
<pre><code>\d+
$*
</code></pre>
<p>Convert to unary.</p>
<pre><code>^(1+)(\1)*/(\1)*$
1$#2$*1/$#3$*
</code></pre>
<p>Reduce to lowest terms.</p>
<pre><code>+`/(1+)\1{9}(0*)$
/$1$+0
</code></pre>
<p>Find all factors of <code>10</code> in the denominator.</p>
<pre><code>+`/(1+)\1{4}(0*)$
$`/$1$+0
+`/(1+)\1(0*)$
$`$`$`$`/$1$+0
</code></pre>
<p>Find all factors of <code>5</code> and <code>2</code> in the denominator, and multiply both numerator and denominator by <code>2</code> or <code>5</code>.</p>
<pre><code>+`/(11+)0
/$1$1$1$1$1$1$1$1$1$1
</code></pre>
<p>If the denominator turned out to have other factors, then convert it back to unary.</p>
<pre><code>^(1+)(\1)*/(\1)*$
1$#2$*1/$#3$*
</code></pre>
<p>Reduce the fraction to lowest terms again, but only if it was converted back to unary.</p>
<pre><code>1+
$.&amp;
</code></pre>
<p>Convert to decimal.</p>
<pre><code>r`^(?&lt;-1&gt;.)+/1(0)+$
$#1$*00$&amp;
</code></pre>
<p>Prepend zeros to the numerator if the denominator is a larger power of <code>10</code>.</p>
<pre><code>r`((?&lt;-2&gt;.)+)/1(0)+$
.$1
</code></pre>
<p>Divide the numerator by the denominator if it is a power of <code>10</code>.</p>
<p>179 bytes and faster for exact decimals in <a href="https://github.com/m-ender/retina/wiki/The-Language" rel="nofollow noreferrer">Retina</a> 1:</p>
<pre><code>+`.+/(.*50*)$
$.(*2*)/$.($1*2*
+`.+/(.*[2468]0*)$
$.(*5*)/$.($1*5*
+`0(/.+)0$
$1
r`^(?&lt;-1&gt;.)+/1(0)+$
0$#1*0$&amp;
r`((?&lt;-2&gt;.)+)/1(0)+$
.$1
/\//&amp;`\d+
*
^(_+)(\1)*/(\1)*$
$.(_$#2*_)/$#3
</code></pre>
<p><a href="https://tio.run/##PY1JTsNAEEX3dQ03UQ@ia3IPlhAsOQQmdiRYsGERcX9THSnZ1PRe6V@//35@L3w8@ff9SHtO6HMsFIMDl32UGNC6Y5vgjj9krv3z4ZSHU4ZDHnMKZIzhup/928szv@aQkD2F5IDcxJHcyaAfUAYMd5rtC1fE075@JYhw9lsKfuUQ8VZvkZubJG6WOulxCBbgqtJwBu4VZyIQ5Toj26RSaUYhGldp41q1m4kKWpaOIpWhNSnIvcgCwioLamvmiC0ozPoP" rel="nofollow noreferrer" title="Retina – Try It Online">Try it online!</a> Link includes test cases. Explanation:</p>
<pre><code>+`.+/(.*50*)$
$.(*2*)/$.($1*2*
</code></pre>
<p>Double the numerator and denominator while the latter ends in <code>50*</code>.</p>
<pre><code>+`.+/(.*[2468]0*)$
$.(*5*)/$.($1*5*
</code></pre>
<p>Multiply the numerator and denominator while the latter's last nonzero digit is even.</p>
<pre><code>+`0(/.+)0$
$1
</code></pre>
<p>Cancel out any power of <code>10</code> common to both numerator and denominator.</p>
<pre><code>r`^(?&lt;-1&gt;.)+/1(0)+$
0$#1*0$&amp;
</code></pre>
<p>Prepend zeros to the numerator if the denominator is a larger power of <code>10</code>.</p>
<pre><code>r`((?&lt;-2&gt;.)+)/1(0)+$
.$1
</code></pre>
<p>Divide the numerator by the denominator if it is a power of <code>10</code>.</p>
<pre><code>/\//&amp;`\d+
*
^(_+)(\1)*/(\1)*$
$.(_$#2*_)/$#3
</code></pre>
<p>Otherwise, reduce the fraction to its lowest terms.</p>
</div>
<div id="pu12" class="pu"><h1><a href="https://docs.python.org/3.8/" rel="noreferrer">Python 3</a>, 34 bytes</h1>

<pre class="lang-python prettyprint-override"><code>lambda n,d:[n/d,(n,d)][n*1e16%d&gt;0]
</code></pre>
<p><a href="https://tio.run/##LYxBCsIwEEX3OcVsxESKzcy0SVrRi6iLShULNYZaEU9fk@Cs5vH@/@E735@eXZiW2/60jN3j0nfgi749@rIvZPzU@eg3eEWz6g/6vHzuw3gFbKPZP7ogBz8Xgw/vWartK4zDLNflWqldmKKRt7ygFjRMFkpIVwkAdCZTpbUgRlNlwkhMRicirZMjm13su9SLmf8KgwCuG5eQyKAAa6lOUVdTIwiZmuTY2kogRc5JRP4B" rel="noreferrer" title="Python 3.8 (pre-release) – Try It Online">Try it online!</a></p>
</div>
