<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::119852</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>073</td><td>JavaScript Node.js</td><td>231112T160037Z</td><td><a href="https://codegolf.stackexchange.com/questions/119852/swap-indices-and-values/266676#266676">l4m2</a></td></tr>
<tr d-ix="1"><td>475</td><td>Vyxal</td><td>231109T122057Z</td><td><a href="https://codegolf.stackexchange.com/questions/119852/swap-indices-and-values/266641#266641">lyxal</a></td></tr>
<tr d-ix="2"><td>007</td><td>Japt</td><td>231109T115317Z</td><td><a href="https://codegolf.stackexchange.com/questions/119852/swap-indices-and-values/266640#266640">Shaggy</a></td></tr>
<tr d-ix="3"><td>006</td><td>Uiua</td><td>231108T180535Z</td><td><a href="https://codegolf.stackexchange.com/questions/119852/swap-indices-and-values/266615#266615">chunes</a></td></tr>
<tr d-ix="4"><td>013</td><td>k</td><td>170812T222422Z</td><td><a href="https://codegolf.stackexchange.com/questions/119852/swap-indices-and-values/138753#138753">zgrep</a></td></tr>
<tr d-ix="5"><td>091</td><td>Common Lisp</td><td>170812T213721Z</td><td><a href="https://codegolf.stackexchange.com/questions/119852/swap-indices-and-values/138751#138751">Renzo</a></td></tr>
<tr d-ix="6"><td>047</td><td>R</td><td>170511T075313Z</td><td><a href="https://codegolf.stackexchange.com/questions/119852/swap-indices-and-values/120024#120024">JAD</a></td></tr>
<tr d-ix="7"><td>010</td><td>05AB1E</td><td>170515T090554Z</td><td><a href="https://codegolf.stackexchange.com/questions/119852/swap-indices-and-values/120658#120658">kalsower</a></td></tr>
<tr d-ix="8"><td>204</td><td>GNU Make</td><td>170513T205740Z</td><td><a href="https://codegolf.stackexchange.com/questions/119852/swap-indices-and-values/120484#120484">eush77</a></td></tr>
<tr d-ix="9"><td>081</td><td>PowerShell</td><td>170512T172452Z</td><td><a href="https://codegolf.stackexchange.com/questions/119852/swap-indices-and-values/120275#120275">Andrei O</a></td></tr>
<tr d-ix="10"><td>062</td><td>JavaScript ES6</td><td>170510T000422Z</td><td><a href="https://codegolf.stackexchange.com/questions/119852/swap-indices-and-values/119873#119873">Arnauld</a></td></tr>
<tr d-ix="11"><td>055</td><td>PHP</td><td>170511T060215Z</td><td><a href="https://codegolf.stackexchange.com/questions/119852/swap-indices-and-values/120016#120016">user6395</a></td></tr>
<tr d-ix="12"><td>072</td><td>R</td><td>170510T153041Z</td><td><a href="https://codegolf.stackexchange.com/questions/119852/swap-indices-and-values/119935#119935">Giuseppe</a></td></tr>
<tr d-ix="13"><td>051</td><td>Röda</td><td>170510T184101Z</td><td><a href="https://codegolf.stackexchange.com/questions/119852/swap-indices-and-values/119970#119970">fergusq</a></td></tr>
<tr d-ix="14"><td>005</td><td>Jelly</td><td>170510T141336Z</td><td><a href="https://codegolf.stackexchange.com/questions/119852/swap-indices-and-values/119926#119926">Dennis</a></td></tr>
<tr d-ix="15"><td>nan</td><td></td><td>170510T173947Z</td><td><a href="https://codegolf.stackexchange.com/questions/119852/swap-indices-and-values/119956#119956">Brad Gil</a></td></tr>
<tr d-ix="16"><td>062</td><td>Mathematica</td><td>170509T231112Z</td><td><a href="https://codegolf.stackexchange.com/questions/119852/swap-indices-and-values/119867#119867">ZaMoC</a></td></tr>
<tr d-ix="17"><td>045</td><td>Haskell</td><td>170510T042906Z</td><td><a href="https://codegolf.stackexchange.com/questions/119852/swap-indices-and-values/119888#119888">&#216;rj</a></td></tr>
<tr d-ix="18"><td>036</td><td>Mathematica</td><td>170510T024314Z</td><td><a href="https://codegolf.stackexchange.com/questions/119852/swap-indices-and-values/119881#119881">user6198</a></td></tr>
<tr d-ix="19"><td>008</td><td>Jelly</td><td>170510T021043Z</td><td><a href="https://codegolf.stackexchange.com/questions/119852/swap-indices-and-values/119879#119879">Leaky Nu</a></td></tr>
<tr d-ix="20"><td>009</td><td>Jelly</td><td>170510T000028Z</td><td><a href="https://codegolf.stackexchange.com/questions/119852/swap-indices-and-values/119872#119872">Jonathan</a></td></tr>
<tr d-ix="21"><td>109</td><td>Bash</td><td>170509T233845Z</td><td><a href="https://codegolf.stackexchange.com/questions/119852/swap-indices-and-values/119869#119869">Max Mikh</a></td></tr>
<tr d-ix="22"><td>008</td><td>MATL</td><td>170509T221049Z</td><td><a href="https://codegolf.stackexchange.com/questions/119852/swap-indices-and-values/119853#119853">Luis Men</a></td></tr>
<tr d-ix="23"><td>069</td><td>Python</td><td>170509T231301Z</td><td><a href="https://codegolf.stackexchange.com/questions/119852/swap-indices-and-values/119868#119868">Uriel</a></td></tr>
<tr d-ix="24"><td>085</td><td>Python 2</td><td>170509T221354Z</td><td><a href="https://codegolf.stackexchange.com/questions/119852/swap-indices-and-values/119855#119855">totallyh</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 73 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>x=&gt;x.map((n,i)=&gt;A[(g=n=&gt;n&amp;&amp;g(n-1,A[n]=A[n]||[]))(n),n].push(i),A=[[]])&amp;&amp;A
</code></pre>
<p><a href="https://tio.run/##bcpBDsIgEIXhvQchQzIlou1ySDgHYUFqW2vqQIqaLnp3xK3p5i2@/z3CJ@R@ndOr4XgbykhlI7OpZ0gAjLMkYx1MxGRYiAm40Wgde/rNvjsvJbBE9iq98x1miZac814KYUsfOcdlUEucYAR3refTn51R4@XAdXV94C222GF3UKrW1tZSvg" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, 38 <a href="https://github.com/Vyxal/Vyncode/blob/main/README.md" rel="nofollow noreferrer">bits<sup>v2</a></sup>, 4.75 bytes</h1>
<pre><code>Gǒ=vT
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2&amp;c=1#WyI9IiwiIiwiR8eSPXZUIiwiIiwiWzIsMiwyXSJd" rel="nofollow noreferrer">Try it Online!</a></p>
<p>Bitstring:</p>
<pre><code>01011011100001100011111110111100010001
</code></pre>
<p>Exact same algorithm as Jelly, independently discovered.</p>
<h2>Explained</h2>
<pre><code>Gǒ=vT­⁡​‎⁪⁪⁠‎⁪⁡⁪⁠⁪⁢⁪‏⁠⁪⁪‏​⁡⁠⁡‌⁢​‎⁪⁪‏​⁢⁠⁡‌⁣​‎‎⁪⁡⁪⁠⁪⁡⁪‏‏​⁡⁠⁡‌⁤​‎‎⁪⁡⁪⁠⁪⁣⁪‏‏​⁡⁠⁡‌⁢⁡​‎⁪⁪⁠⁪⁪‏​⁢⁠⁡‌⁢⁢​‎‎⁪⁡⁪⁠⁪⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁪‏‏​⁡⁠⁡‌­
 ǒ     # ‎⁡Reduce pairs in the cartesian product of
# ‎⁢the input
G      # ‎⁣and the maximum of the input
  =    # ‎⁤by equality
# ‎⁢⁡This creates a list of [1s in places where input == x for x in range(max(input))]
   vT  # ‎⁢⁢Get the indices of those 1s for each list
💎
</code></pre>
<p>Created with the help of <a href="https://vyxal.github.io/Luminespire" rel="nofollow noreferrer">Luminespire</a>.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, 7 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<p>Output is 0-based.</p>
<pre><code>rÔõ@ð¶X
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;code=ctT1QPC2WA&amp;input=WzYsNiw1LDVdCi1R" rel="nofollow noreferrer">Try it</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://uiua.org" rel="nofollow noreferrer">Uiua</a>, 6 <a href="https://codegolf.stackexchange.com/a/265917/97916">bytes</a></h1>
<pre><code>⊕□∶⇡⧻.
</code></pre>
<p><a href="https://uiua.org/pad?src=ZiDihpAg4oqV4pah4oi24oeh4qe7LgoKZiBbM10KZiBbMCAxIDJdCmYgWzEgMSAxXQpmIFs0IDQgNSA1XQpmIFs1IDUgNCA0XQo=" rel="nofollow noreferrer">Try it!</a></p>
<p>0-indexed.</p>
<pre><code>⊕□∶⇡⧻.
     .  # duplicate
    ⧻   # length
   ⇡    # range
  ∶     # swap
⊕□      # group by box
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://en.wikipedia.org/wiki/K_(programming_language)" rel="nofollow noreferrer">k</a>, 13 bytes</h1>

<pre><code>{(=x)@!1+|/x}
</code></pre>

<p>This is 0-indexed.</p>

<p><a href="https://tio.run/##y9bNz/7/P82qWsO2QtNB0VC7Rr@i9n@aup6VuoGVkn5Kapl@cUlKZp7Sfx1jLgMFQwUjLkMgachlomCiYKpgygXEQJYJAA" rel="nofollow noreferrer" title="K (oK) – Try It Online">Try it online!</a></p>

<pre><code>{           } /function(x)
 (=x)         /make a map/dictionary of values to their indices
         |/x  /get maximum value in x
      !1+     /make a range from 0 to the value, inclusive
     @        /get map value at each of the values in the range
              /    0N is given where there is no result
</code></pre>
</div>
<div id="pu5" class="pu"><h1>Common Lisp, 91 bytes</h1>

<pre><code>(lambda(x &amp;aux(l(make-list(eval`(max,@x))))(i 0))(dolist(y x l)(push(incf i)(nth(1- y)l))))
</code></pre>

<p>1-based indexing, returns the sets as lists.</p>

<p><a href="https://tio.run/##HYpBDoJAEAS/0iftTSTRA5x9iiNgmDisG1nI8Pp1sQ@dVKp60yUVpq/GDBaazM9B6DjJ6jTO8h6b2mSOm9ijsl/uHuqouNYfPn@7w2GBaV0mauxf0MCYJ94a7MGOvpzZokWH7oAf" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu6" class="pu"><h1>R, <s>68</s> <s>49</s> 47 bytes</h1>
<pre><code>lapply(1:max(x&lt;-scan()),function(y)which(y==x)) 
</code></pre>
<p>Surprisingly, a lot more straightforward than the longer solutions. Takes a vector <code>x</code> from STDIN, creates a vector from <code>1</code> to <code>max(x)</code>, implicitly generates a list of length <code>max(x)</code>, and checks which indices in <code>x</code> correspond with those in the new list. Implicitly prints output.</p>
<h2>Older version:</h2>
<pre><code>o=vector('list',max(x&lt;-scan()));for(i in x)o[[i]]=c(o[[i]],F&lt;-F+1);o
</code></pre>
<p>Slightly different approach to the other R answer. Takes a vector to STDIN, creates a list with length equal to the maximum value in the input. Loops over the input and adds the index into the right place.</p>
<p>Uses 1-based indexing.</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, 10 bytes</h1>

<pre><code>ZFā¹N-Ïˆ}¯
</code></pre>

<p><a href="https://tio.run/nexus/05ab1e#@x/ldqTx0E4/3cP9p9tqD63//z/aTMdMx1THNBYA" rel="nofollow noreferrer" title="05AB1E – TIO Nexus">Try it online!</a></p>
</div>
<div id="pu8" class="pu"><h1><a href="https://www.gnu.org/software/make/" rel="nofollow noreferrer">GNU Make</a>, <s>214</s> <s>213</s> <s>208</s> 204 bytes</h1>

<pre><code>X=$(MAKECMDGOALS)
M=0
P=$(eval N=$(word $1,$X))$(if $N,$(if $(shell dc -e$Nd$Mds.\&gt;.p),$(eval M=$N),)$(eval A$N+=$1$(call $0,$(shell expr $1 + 1))),)
$(call P,1)$(foreach K,$(shell seq $M),$(info $(A$K)))
</code></pre>

<p>I/O: input array via arguments, output to stdout, one per line, separated by spaces.</p>

<pre><code>$ make -f swap.mk 2 2 2

3 2 1
make: *** No rule to make target `2'.  Stop.
</code></pre>

<h2>Explanation</h2>

<pre><code>X=$(MAKECMDGOALS)     # Input array
M=0                   # Max value encountered in X
P=$(eval
    N=$(word $1,$X))  # Get next word from X
  $(if $N,$(if $(shell dc -e$Nd$Mds.\&gt;.p),
    $(eval M=$N),)    # Update M
    $(eval A$N+=$1    # Append index to a variable named after value
      $(call $0,      # Recurse (call returns empty string)
        $(shell expr $1 + 1))),)
$(call P,1)           # Initial call to P. 1 is the first index
$(foreach K,          # Print all values of A* variables
  $(shell seq $M),
  $(info $(A$K)))     # Uninitialized ones default to empty strings
</code></pre>

<p>The order of indices in sets is reversed because <code>P</code> calls itself recursively before updating <code>A$2</code> (call executed in the evaluation of the right-hand side).</p>
</div>
<div id="pu9" class="pu"><h2>PowerShell, 81 bytes</h2>

<pre><code>$args[0]|%{if($_-gt($c=$r.count)){$r+=@($t)*($_-$c)}$r[--$_]+=,++$i};$r|%{"{$_}"}
</code></pre>

<p><a href="https://tio.run/nexus/powershell#FctLCoAgFAXQvcQNNJ/Rh5qE0D4iJISiScHLRubarcaHk7Dwdk3V/ORhXwWs3ryAM@DSnffhpQxgZUYBL4uf4WQET1rDzsqQUtjjAP56FmBjFlNKdUU9ddRS8wI" rel="nofollow noreferrer">Try it online!</a>
<p>1-indexed.</p>
</div>
<div id="pu10" class="pu"><h2>JavaScript (ES6), <s>64</s> 62 bytes</h2>

<p><em>Saved 2 bytes thanks to @SteveBennett</em></p>

<hr>

<p>Takes 0-indexed input. Returns a comma-separated list of sets.</p>

<pre class="lang-js prettyprint-override"><code>a=&gt;a.map((n,i)=&gt;o[n]=[i,...o[n]||[]],o=[])&amp;&amp;`{${o.join`},{`}}`
</code></pre>

<h3>Test cases</h3>

<p><div class="snippet" data-lang="js" data-hide="true" data-console="true" data-babel="false">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-js lang-js prettyprint-override"><code>let f =

a=&gt;a.map((n,i)=&gt;o[n]=[i,...o[n]||[]],o=[])&amp;&amp;`{${o.join`},{`}}`

console.log(f([3]))
console.log(f([0,1,2]))
console.log(f([1,1,1]))
console.log(f([4,4,5,5]))
console.log(f([5,5,4,4]))</code></pre>
</div>
</div>
</p>

<hr>

<h3>Alternate version, 53 bytes</h3>

<p>If a simplified output such as <code>'||||3,2|1,0'</code> is acceptable, we can just do:</p>

<pre class="lang-js prettyprint-override"><code>a=&gt;a.map((n,i)=&gt;o[n]=[i,...o[n]||[]],o=[])&amp;&amp;o.join`|`
</code></pre>
</div>
<div id="pu11" class="pu"><h1>PHP, 55 bytes</h1>
<pre><code>&lt;?while($i&lt;=max($_GET))print_r(array_keys($_GET,$i++));
</code></pre>
<p>0-indexed.</p>
</div>
<div id="pu12" class="pu"><h1>R, <s>80</s> 72 bytes</h1>

<p>1-indexed, takes <code>X</code> from stdin. Returns a list of vectors of the indices, with <code>NULL</code> as the empty set.</p>

<pre><code>X=scan();Y=vector('list',max(X));Y[X]=lapply(X,function(x)which(X==x));Y
</code></pre>

<p><a href="https://tio.run/nexus/r#@x9hW5ycmKehaR1pW5aaXJJfpKGek1lcoq6Tm1ihEaEJFI@OiLXNSSwoyKnUiNBJK81LLsnMz9Oo0CzPyEzO0Iiwta0AqfpvqmCqYKZg9h8A" rel="nofollow noreferrer">Try it online!</a></p>

<p>old version:</p>

<pre><code>X=scan();Y=vector('list',max(X));for(i in 1:length(X))Y[[X[i]]]=c(Y[[X[i]]],i);Y
</code></pre>

<p><a href="https://tio.run/nexus/r#@x9hW5ycmKehaR1pW5aaXJJfpKGek1lcoq6Tm1ihEaGpaZ0GFMpUyMxTMLTKSc1LL8kAiUZGR0dEZ8bGxtoma8DZOplAU/6bKpgqmCmY/QcA" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu13" class="pu"><h1><a href="https://github.com/fergusq/roda" rel="nofollow noreferrer">Röda</a>, 51 bytes</h1>

<pre><code>f s{seq(1,max(s))|[[s()|enum|[_2+1]if[_1=i]]]for i}
</code></pre>

<p>It's a port of the <a href="https://codegolf.stackexchange.com/a/119868/66323">Python answer by Uriel</a>.</p>

<p>Another version (88 bytes):</p>

<pre><code>f a{I=indexOf;seq(1,max(a))|{|i|b=a[:]c=[]x=1{c+=x+I(i,b)b-=i;x++}until[I(i,b)&lt;0];[c]}_}
</code></pre>

<p><a href="https://tio.run/nexus/roda#PZDNboMwEITP8BSjnCC4zU9LDqHunVMuuVlWZYxpLIFpwahUhGdPFyH14vl25Z0de7cNscX1ZtCoEdXgtLetw4/qYZ3v2nLQpkRhqrYz8HRN31RdG/dpGIrBw/ZwrQeNXPMLfo1/Jr9d@G9ErpGKMYVBgzPHflEOC/Kj0zoo2AqC@B0NZBh0xg8dzYXzo4Kacm5dacZLlfXmOzqw1S@@T3d7L7gSZ6m5kCM/TDrhY5JHlhVx8cRtNibJPDhva7E23/YyE1rOH/OjUbSYIi0hvF5SiDAIxKtkixzYkb2seCQ8rpiylJ3YaS0IqEwprkTZUqeKvI5Jvzr6tWizIS5bZ@gRfw" rel="nofollow noreferrer" title="Röda – TIO Nexus">Try it online!</a></p>

<p>Both a 1-indexed.</p>
</div>
<div id="pu14" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, <s>7</s> 5 bytes</h1>

<pre><code>=þṀT€
</code></pre>

<p><a href="https://tio.run/nexus/jelly#@297eN/DnQ0hj5rW/D/cDiQVjk56uHMGiBGp8HDH9kcNcxR8EwsUSjJSFXIy87J1FJLz88pSi0oUSvIVAipLMvLz1IsVikuKMvPSFYpSC4pSi1PzShJLMvPzdBSKUwsSixJLUhWSKhXyUsuB@lOL9f7/jzaJ1VGINtQx0jEGMYyADCMQw1THVMdMxwzEBFJAjmksAA" rel="nofollow noreferrer" title="Jelly – TIO Nexus">Try it online!</a></p>

<h3>How it works</h3>

<pre><code>=þṀT€  Main link. Argument: A (array)

  Ṁ    Yield m, the maximum of A.
=þ     Equals table; for each t in [1, ..., m], compare all elemnts of A with t,
       yielding a 2D Boolean array.
   T€  Truth each; for each Boolean array, yield all indices of 1.
</code></pre>
</div>
<div id="pu15" class="pu">

<h1><a href="https://perl6.org" rel="nofollow noreferrer">Perl 6</a>, <s> 36 32 </s> 29 bytes</h1>

<pre class="lang-perl6 prettyprint-override"><code>-&gt;\a{map {a.grep(*==$_):k},1..a.max}
</code></pre>

<p><a href="https://tio.run/nexus/perl6#bZDRboIwFIbv@xTnYq6AtQZULmQYH2CXu4NmabQaMlBiwWgIe3V32qpziwRKTv/v/Kf9W63gGPNVQqozvK72awXpZbTIZVfJGjrJtwdVe0Gavnz686@ehZxLXslTf0F@2SjdQAplsVPa83G/nncEoJrrMf4AaEbhG6igsHwrdnXbLJD28vXQD2AAlNG/lK0AWXWq1apRa4tfd5HrLNcbt6MsW6Wf2gE8lOOEwH24OaA3DHz@XuiGPYyxQnAzddUodJxbSU9ajOoDL5yQupQ7GNrbJ2SzP1yDGC3wMHYSy2/WPthAzpAflG5Lk5YJ2bOYszYnLDQ4ncGtk0FmIcG3CPFN1Xh0EMbaBOFjDplrcHJC@ks2FfD7ZF3Prm/YC5KFLGITcRdD3I/wmxgtQi0Sj42WNtKMzVjMYvHf0zHGgE0NhwySs2ecIRwtfgA" rel="nofollow noreferrer" title="Perl 6 – TIO Nexus">Try it</a></p>

<pre class="lang-perl6 prettyprint-override"><code>{map {.grep(*==$^a):k},1.. .max}
</code></pre>

<p><a href="https://tio.run/nexus/perl6#bZDRboIwFIbv@xTnYq6AtQZULmQYH2CXu8MuIVoNGSixYDSke3V32qpjiwRKTv/v/Kf9WyXhFPN1QqoLvK4PGwnptavyGjq@O8raC9L05TP351@ahZwDr/KzviK7bKRqIIWy2Evl@bhfzzsCUM3VGH8ANKPwDVRQWL4V@7ptFkh7q83QD2AAlNG/lK0AWXmu5bqRG4vfdpHrLKeN2ykvW6me2gH0ynFC4DHcHNAbBj5/L1TDemOsENxNXTUKHedWokmLMX3ghRNSl/kehvb2CdkejrcgRgs8jJ3EVndrH2wgF1gdpWpLk5YJ2LOYszYnLBQ4ncG9k0FmIcF3CPFt1Xh0EMbKBOFjDplrcHJC9DWbCvh9sk6z2xtqQbKQRWwiHmKI@xF@E6NFqEWi32hpI83YjMUsFv89HWMM2NRwyCA5e8YZwtHiBw" rel="nofollow noreferrer" title="Perl 6 – TIO Nexus">Try it</a></p>

<pre class="lang-perl6 prettyprint-override"><code>{map {.grep($^a):k},1.. .max}
</code></pre>

<p><a href="https://tio.run/nexus/perl6#bZDfboIwFMbv@xTnYq78qTWgciHT@AC73B12CdFqyECJBaMh3au701YdWyRQcvr9znfar1USTglfp6S6wOv6sJEwv3ZVXkPHd0dZey@fuT/70iziHHiVn/UVwWUjVQNzKIu9VJ6P@/WsIwDVTI3wB0AzCt9ABYXlW7Gv22aBtLfahH4AA6CM/qVsBcjKcy3XjdxY/LaLXGc5bdxOedlK9dQOoFeOUgKP4eaAXhj4/L1QDeuNsUJwN3XVMHKcW4kmLWb0gRdOSV3mewjt7VOyPRxvQQwXeBg7ia3u1j7YQC6wOkrVliYtk65nMWdtTlgocDqDeyeDzEKC7xDi26rx6CBKlAnCxxwy1@DklOhrNhHw@2SdZrc30oJkEYvZWDzECPdj/MZGi1GLRb/R0kaasilLWCL@ezrGGLCJ4ZBBcvqMM4SjxQ8" rel="nofollow noreferrer" title="Perl 6 – TIO Nexus">Try it</a></p>

<hr>

<h2>Expanded:</h2>

<pre class="lang-perl6 prettyprint-override"><code>{  # bare block lambda with implicit parameter ｢$_｣

  map

    {  # bare block lambda with placeholder parameter ｢$a｣

      .grep(  # grep for the values in ｢$_｣
        $^a   # that are equal to the currently tested value (and declare param)
      ) :k    # return the key (index) rather than the value
    },

    1 .. .max # Range from 1 to the maximum value in ｢$_｣

}
</code></pre>

<hr>

<p>Returns zero based indexes, to get 1 based <a href="https://tio.run/nexus/perl6#bZBRb4IwFIXf@yvOwxwgXRdQeZBp/AF73MMS7BKi1ZCBEgtGQ9hfd7dFnS4SKGnPd8@9PbVW2EdiEbPiiOfFdqkwOTVFWqIJ8OmL9U6V7tNX6o2/Wx4IAVGkh/ZE8KxSusIEebZR2vXovBw3DCjG@pV@gJM4@IEjHczesk1ZV1Oi3fnS9/roweHOPWV3IFYdSrWo1NLi51PiGsu1xm2f5rXSD@2Am@1rzHBtbgZ0/b4n3jNd8Zs2VuhfTO@wbmUtqymmD7pvzMo83cC3l4/Zars75/AypVlsIz6/OHuweRwx3yld5yYsE7Brsc7aDJhpdDrHpZIjsZAUa4LEqqhcpxdE2uTgUQxJV9DJMWtPyVDi70malp/foJUsCXjIB/IqBnQe0jcwWkhaKG8LLW2kER/xiEfyv2fHGAM@NBwxRI4ecYboaPkL" rel="nofollow noreferrer" title="Perl 6 – TIO Nexus">use cross operator (<code>X</code>) combined with <code>+</code> op</a>. (33 bytes)</p>

<pre class="lang-perl6 prettyprint-override"><code>{1 X+.grep($^a):k}
</code></pre>

<p>To get it to return <a href="https://docs.perl6.org/type/Set" rel="nofollow noreferrer">Set</a>s just <a href="https://tio.run/nexus/perl6#bZDRboIwFIbv@xTnYq4gXRdQuZBpfIDdbRdLsEuIVkMGSmwxGtK9ujtt1blFAiE9/3f@c/q3SsI@5YuM1Ed4XGyXEianri4a6JTUEMNHxNc72QQPn0U4/jIs5hx4XRzMCRtmWioNE6jKjVRBiPVm3BGAeqye8QdAcwrfQAWF2Uu5aVo9RTqYL6OwDz2gjP6l3AmQlYdGLrRcOvxcRa5znLFu@6JqpbprB3BzfM4IXIfbBYOoH/LXUml2M8YJ/YvpFXuT2rPEkBaTesfrZqSpig1E7u4ZWW135xiepriKm8PmF@MQXBxHmO@kaiublc04cJi3tvuVCrzO4NLJIHeQ4GuE@KrWAe3FqbIxhJhC7hu8nBFzyocCfp@8M@z8xkaQPGYJG4irGGM9wW9gtQS1RNw2OtpKIzZiKUvFf0/PWAM2tBwySI7ucZbwtPgB" rel="nofollow noreferrer" title="Perl 6 – TIO Nexus">add <code>set</code></a> in there (total 37 bytes)</p>

<pre class="lang-perl6 prettyprint-override"><code>{set 1 X+.grep($^a):k}
</code></pre>
</div>
<div id="pu16" class="pu"><h2>Mathematica 62 bytes</h2>

<pre><code>(Y={}~Table~Max@#;Y[[#[[j]]]]~AppendTo~j~Table~{j,Tr[1^#]};Y)&amp;
</code></pre>

<p>I'll run it for you</p>

<pre><code>(Y={}~Table~Max@#;Y[[#[[j]]]]~AppendTo~j~Table~{j,Tr[1^#]};Y)&amp;[{4,5,2,3,3,8,6,3}]
</code></pre>

<blockquote>
  <p>{{}, {3}, {4, 5, 8}, {1}, {2}, {7}, {}, {6}}</p>
</blockquote>

<p><a href="https://sandbox.open.wolframcloud.com/app/objects/" rel="nofollow noreferrer"><strong>Try it online</strong></a> (just paste the code with ctrl-v and press shift+enter)<br>
don't forget to paste the input list at the end like in the example above</p>
</div>
<div id="pu17" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 45 bytes</h1>

<p><code>s</code> takes a list of integers and returns a list of lists. 1-indexed to keep the test case inputs unmodified (although the output gets some extra empty lists).</p>



<pre class="lang-hs prettyprint-override"><code>s l=[[i|(i,y)&lt;-zip[1..]l,y==x]|x&lt;-[1..sum l]]
</code></pre>

<p><a href="https://tio.run/nexus/haskell#HYhBCoMwEEX3nsJFFwrjgGnjypwkzCLYQAeSVIxSLd49Trv5770fHSfDafWLm9bblgInnzG6ucmv9wczLt49W/zfJdfBWMtnw3C0Y/fl2faIFOAwZqdzH7tf5y3WgagU@6DK9qDgLlRCJdSgYYBBTFZcU3UB" rel="nofollow noreferrer" title="Haskell – TIO Nexus">Try it online!</a></p>

<p>These are pretty straightforward nested list comprehensions. The only slight tweak is taking advantage of the option to make a longer list by using <code>sum</code> instead of <code>maximum</code>.</p>
</div>
<div id="pu18" class="pu"><h2>Mathematica, 36 bytes</h2>

<pre><code>Join@@@#~Position~n~Table~{n,Max@#}&amp;
</code></pre>

<h2>Explanation</h2>

<p><a href="https://i.stack.imgur.com/LRfYZ.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/LRfYZ.png" alt="enter image description here"></a></p>

<p>For each <code>n</code> in <code>{1, 2, ..., Max@#}</code>, where <code>Max@#</code> is the largest integer in the input list, computes the <code>Position</code>s where <code>n</code> appears in the input list <code>#</code>. Since <code>Position[{6,6,5,5},5]</code> (for example) returns <code>{{3},{4}}</code>, we then <code>Apply</code> <code>Join</code> to all elements at level <code>{1}</code> of the result.</p>
</div>
<div id="pu19" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="noreferrer">Jelly</a>, 8 bytes</h1>

<pre><code>Jẋ"Ṭ€;"/
</code></pre>

<p><a href="https://tio.run/nexus/jelly#@@/1cFe30sOdax41rbFW0v///3@0mY6ZjomOSSwA" rel="noreferrer" title="Jelly – TIO Nexus">Try it online!</a></p>

<h2>How it works</h2>

<pre><code>Jẋ"Ṭ€;"/  argument: z           eg. [6,6,4,4]
J         [1 .. len(z)]             [1,2,3,4]
   Ṭ€     untruth each of z         [[0,0,0,0,0,1],
                                     [0,0,0,0,0,1],
                                     [0,0,0,1],
                                     [0,0,0,1]]
 ẋ"       repeat each of ^^         [[[],[],[],[],[],[1]],
          as many times as           [[],[],[],[],[],[2]],
          each of ^                  [[],[],[],[3]],
                                     [[],[],[],[4]]]
       /  reduce by...
     ;"   vectorized concatenation  [[],[],[],[3,4],[],[1,2]]
</code></pre>
</div>
<div id="pu20" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 9 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>

<pre><code>Ṭ+\ịĠȧ@"Ṭ
</code></pre>

<p>1-indexed, empty sets represented as <code>0</code>, sets of one item represented as <code>N</code> sets of multiple items represented as <code>[M,N,...]</code></p>

<p><strong><a href="https://tio.run/nexus/jelly#@/9w5xrtmIe7u48sOLHcQQnI@///f7SZjpmOiY5JLAA" rel="nofollow noreferrer" title="Jelly – TIO Nexus">Try it online!</a></strong></p>

<h3>How?</h3>

<pre><code>Ṭ+\ịĠȧ@"Ṭ - Main link: list a        e.g. [6,6,4,4]
Ṭ         - untruth a                     [0,0,0,1,0,1]
  \       - cumulative reduce with:
 +        -   addition                    [0,0,0,1,1,2]
    Ġ     - group indices of a by value   [[3,4],[1,2]]
   ị      - index into                    [[1,2],[1,2],[1,2],[3,4],[3,4],[1,2]]
        Ṭ - untruth a                     [0,0,0,1,0,1]
       "  - zip with:
     ȧ@   -   and with reversed @rguments [0,0,0,[3,4],0,[1,2]]
</code></pre>
</div>
<div id="pu21" class="pu"><h1><a href="https://www.gnu.org/software/bash/" rel="nofollow noreferrer">Bash</a>, 109 bytes</h1>

<p>Too bad there is no built-in for array max value.</p>

<pre><code>a=($@)
for((x=m=1;x&lt;=m;x++)){ for((y=0;y&lt;$#;)){((m&lt;a[y]))&amp;&amp;((m=a[y]));((a[y++]==x))&amp;&amp;printf "%d " $y;};echo;}
</code></pre>

<p><a href="https://tio.run/nexus/bash#@59oq6HioMmVll@koVFhm2traF1hY5trXaGtralZrQAWrrQ1sK60UVG2BopoaOTaJEZXxmpqqqkB2bYQtrWGBpChrR1ra1sBkikoyswrSVNQUk1RUFJQqbSutU5Nzsi3rv3//78ZEJr@NwUA" rel="nofollow noreferrer" title="Bash – TIO Nexus">Try it online!</a></p>
</div>
<div id="pu22" class="pu"><h1><a href="https://github.com/lmendo/MATL" rel="noreferrer">MATL</a>, 8 bytes</h1>

<pre><code>tn:IXQ&amp;D
</code></pre>

<p>Input is a column vector, with <code>;</code> as separator (for example <code>[2;2;2]</code>). Output is the string representation of a cell array of row vectors (for example <code>{[]; [1 2 3]}</code>). A row vector of a single element is the same as a number (so <code>{1; 2; 3}</code> would be output instead of <code>{[1]; [2]; [3]}</code>).</p>

<p><a href="https://tio.run/nexus/matl#@1@SZ@UZEajm8v9/tJm1mbWptWksAA" rel="noreferrer" title="MATL – TIO Nexus">Try it online!</a> Or <a href="https://tio.run/nexus/matl#S/hfkmflGRGo5vLfJeR/tEksV7ShtZG1MZA2AtJGQNrU2tTazNoMyAKSQLZpLAA" rel="noreferrer">verify all test cases</a>.</p>

<h3>Explanation</h3>

<pre><code>t     % Implicit input, say x. Duplicate
n     % Number of elements, say N
:     % Range: [1 2 ... N]
IXQ   % accumarray(x, [1 2 ... N], [], @(x){sort(x).'})
&amp;D    % String representation
</code></pre>

<p>Most of the work is done by Matlab's higher-order function <code>accumarray</code>, which groups elements in the second input according to matching values in the first, and applies a specified function to each group. The function in this case is <code>@(x){sort(x).'}</code>, which outputs the sorted elements in each group and causes the results for all groups to be packed in a cell array.</p>
</div>
<div id="pu23" class="pu"><h1>Python, 69 bytes</h1>

<pre class="lang-python prettyprint-override"><code>lambda s:[[j for j,x in enumerate(s)if x==i]for i in range(max(s)+1)]
</code></pre>

<p>Uses 0-based indexing.</p>
</div>
<div id="pu24" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, <s>91</s> <s>86</s> 85 bytes</h1>

<p>I am programming on my phone but I really liked this challenge. I can most definitely golf this further.</p>



<pre class="lang-python prettyprint-override"><code>def f(a):
 r=[[]for i in range(max(a)+1)]
 for i,j in enumerate(a):r[j]+=[i]
 print r
</code></pre>

<p><a href="https://tio.run/nexus/python2#JYtBCsMwDATvfoWONvElbppDIS8ROhgqBwfiFpFCf@/INiyI0ezWNydINrqXAdkQKX0EMuQCEsvO9ox/ldPsyEBX/miSy@9kiRe3peBB04ZZK1/J5QKpyeJCzuiZPQQPjwGhQxjw9KBZNYPXDu1Lrt4" rel="nofollow noreferrer" title="Python 2 – TIO Nexus">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/119852/">119852</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




