<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::109297</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>019</td><td>APLNARS</td><td>240305T140554Z</td><td><a href="https://codegolf.stackexchange.com/questions/109297/find-the-maximal-prime-powers/271550#271550">Rosario</a></td></tr>
<tr d-ix="1"><td>008</td><td>05AB1E</td><td>240305T130742Z</td><td><a href="https://codegolf.stackexchange.com/questions/109297/find-the-maximal-prime-powers/271549#271549">Kevin Cr</a></td></tr>
<tr d-ix="2"><td>039</td><td>Juby rprime</td><td>240304T173021Z</td><td><a href="https://codegolf.stackexchange.com/questions/109297/find-the-maximal-prime-powers/271526#271526">Jordan</a></td></tr>
<tr d-ix="3"><td>006</td><td>Vyxal</td><td>240205T000248Z</td><td><a href="https://codegolf.stackexchange.com/questions/109297/find-the-maximal-prime-powers/269787#269787">emanresu</a></td></tr>
<tr d-ix="4"><td>097</td><td>Regex ECMAScript 2018 / Pythonregex / .NET</td><td>230407T024311Z</td><td><a href="https://codegolf.stackexchange.com/questions/109297/find-the-maximal-prime-powers/259831#259831">Deadcode</a></td></tr>
<tr d-ix="5"><td>066</td><td>Haskell</td><td>170208T164654Z</td><td><a href="https://codegolf.stackexchange.com/questions/109297/find-the-maximal-prime-powers/109521#109521">Laikoni</a></td></tr>
<tr d-ix="6"><td>070</td><td>Haskell</td><td>170210T130340Z</td><td><a href="https://codegolf.stackexchange.com/questions/109297/find-the-maximal-prime-powers/109679#109679">Zgarb</a></td></tr>
<tr d-ix="7"><td>019</td><td>Brachylog</td><td>170207T105018Z</td><td><a href="https://codegolf.stackexchange.com/questions/109297/find-the-maximal-prime-powers/109380#109380">Leo</a></td></tr>
<tr d-ix="8"><td>090</td><td>Haskell</td><td>170208T134752Z</td><td><a href="https://codegolf.stackexchange.com/questions/109297/find-the-maximal-prime-powers/109488#109488">brander</a></td></tr>
<tr d-ix="9"><td>093</td><td>JavaScript ES7</td><td>170208T145038Z</td><td><a href="https://codegolf.stackexchange.com/questions/109297/find-the-maximal-prime-powers/109490#109490">George R</a></td></tr>
<tr d-ix="10"><td>015</td><td>Brachylog</td><td>170208T103731Z</td><td><a href="https://codegolf.stackexchange.com/questions/109297/find-the-maximal-prime-powers/109483#109483">Fatalize</a></td></tr>
<tr d-ix="11"><td>074</td><td>Bash + GNU utilities</td><td>170207T090954Z</td><td><a href="https://codegolf.stackexchange.com/questions/109297/find-the-maximal-prime-powers/109374#109374">Mitchell</a></td></tr>
<tr d-ix="12"><td>043</td><td>Sage</td><td>170207T003844Z</td><td><a href="https://codegolf.stackexchange.com/questions/109297/find-the-maximal-prime-powers/109350#109350">busukxua</a></td></tr>
<tr d-ix="13"><td>088</td><td>PHP</td><td>170207T131427Z</td><td><a href="https://codegolf.stackexchange.com/questions/109297/find-the-maximal-prime-powers/109385#109385">Titus</a></td></tr>
<tr d-ix="14"><td>nan</td><td>I couldn't get a shorter Mathematica solution than ngenisis's solution</td><td>170206T211047Z</td><td><a href="https://codegolf.stackexchange.com/questions/109297/find-the-maximal-prime-powers/109317#109317">Greg Mar</a></td></tr>
<tr d-ix="15"><td>105</td><td>JavaScript ES6</td><td>170206T225032Z</td><td><a href="https://codegolf.stackexchange.com/questions/109297/find-the-maximal-prime-powers/109335#109335">Micah</a></td></tr>
<tr d-ix="16"><td>008</td><td>Jelly</td><td>170206T190120Z</td><td><a href="https://codegolf.stackexchange.com/questions/109297/find-the-maximal-prime-powers/109305#109305">Dennis</a></td></tr>
<tr d-ix="17"><td>004</td><td>Jelly</td><td>170207T003428Z</td><td><a href="https://codegolf.stackexchange.com/questions/109297/find-the-maximal-prime-powers/109349#109349">Dennis</a></td></tr>
<tr d-ix="18"><td>009</td><td>Jelly</td><td>170207T000539Z</td><td><a href="https://codegolf.stackexchange.com/questions/109297/find-the-maximal-prime-powers/109346#109346">Dennis</a></td></tr>
<tr d-ix="19"><td>012</td><td>05AB1E</td><td>170206T210935Z</td><td><a href="https://codegolf.stackexchange.com/questions/109297/find-the-maximal-prime-powers/109316#109316">Emigna</a></td></tr>
<tr d-ix="20"><td>040</td><td>Mathematica</td><td>170206T192805Z</td><td><a href="https://codegolf.stackexchange.com/questions/109297/find-the-maximal-prime-powers/109309#109309">user6198</a></td></tr>
<tr d-ix="21"><td>009</td><td>Jelly</td><td>170206T185720Z</td><td><a href="https://codegolf.stackexchange.com/questions/109297/find-the-maximal-prime-powers/109303#109303">Jonathan</a></td></tr>
<tr d-ix="22"><td>020</td><td>CJam</td><td>170206T192435Z</td><td><a href="https://codegolf.stackexchange.com/questions/109297/find-the-maximal-prime-powers/109308#109308">Business</a></td></tr>
<tr d-ix="23"><td>013</td><td>Pyth</td><td>170206T184640Z</td><td><a href="https://codegolf.stackexchange.com/questions/109297/find-the-maximal-prime-powers/109301#109301">Blue</a></td></tr>
<tr d-ix="24"><td>013</td><td>MATL</td><td>170206T184138Z</td><td><a href="https://codegolf.stackexchange.com/questions/109297/find-the-maximal-prime-powers/109299#109299">Suever</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>APL(NARS), 19 chars</h1>
<pre><code>{a*⌊⍵⍟⍨a←k/⍨0πk←⍳⍵}
</code></pre>
<p>It use the fact if p is a number &gt;1 r=floor(log_p(InputNumber))
is the max number with p^r&lt;InputNumber. test:</p>
<pre><code>  f←{a*⌊⍵⍟⍨a←k/⍨0πk←⍳⍵}
  ≢f 10000
1229
  f 20
16 9 5 7 11 13 17 19 
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 8 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>LÓ0ζεZk&gt;
</code></pre>
<p>Port of <a href="https://codegolf.stackexchange.com/a/109303/52210"><em>@JonathanAllan</em>'s Jelly answer</a>.</p>
<p><a href="https://tio.run/##yy9OTMpM/f/f5/Bkg3Pbzm2Nyrb7/9/IAAA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/V9Waa@k8KhtkoKSfeV/n8OTDc5tO7c1Ktvuf63O/2hDHSMdYx0THVMdMx1zHSMDHVMDHUMDg1gA" rel="nofollow noreferrer">verify (almost) all test cases</a>.</p>
<p>Or alternatively (and faster):</p>
<pre><code>ÅPIL.¿Óm
</code></pre>
<p>Port of <a href="https://codegolf.stackexchange.com/a/109346/52210"><em>@Dennis</em>' (9-bytes) Jelly answer</a>.</p>
<p><a href="https://tio.run/##yy9OTMpM/f//cGtApY/eof2HJ@f@/29kAAA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/V9Waa@k8KhtkoKSfeX/w60BlT56h/Yfnpz7X@d/tKGOkY6xjomOqY6ZjrmOkYGOqYGOoQEYGxjEAgA" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>L         # Push a list in the range [1, (implicit) input]
 Ó        # Map each value to a list of its prime exponents
   ζ      # Zip/transpose, swapping rows/columns,
  0       # using a 0 as filler-item for unequal length rows
    ε     # Map over each inner list:
     Z    #  Push the maximum (without popping the list)
      k   #  Get the (0-based) index of this maximum in the list
       &gt;  #  Increase it by 1 to make it a 1-based index
          # (after which the resulting list is output implicitly)

ÅP        # Push a list of all primes smaller than or equal to the (implicit) input
  IL      # Push a list in the range [1,input]
    .¿    # Pop and get its Least Common Multiple (lcm)
      Ó   # Get the prime exponents of this lcm
       m  # Take each prime to each prime exponent at the same positions
          # (after which the resulting list is output implicitly)
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/cyoce/J-uby" rel="nofollow noreferrer">J-uby</a> <code>-rprime</code>, 39 bytes</h1>
<p>Port of <a href="https://codegolf.stackexchange.com/a/109346/11261">Dennis' 9-byte Jelly solution</a>; give him an upvote.</p>
<pre class="lang-ruby prettyprint-override"><code>:+|:/&amp;:lcm|:prime_division|:*&amp;(:&lt;&lt;&amp;:**)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m700K740qXJ1tJJuUUFRZm6qUuwiN9ulpSVpuhY31a20a6z01axyknNrrMCy8SmZZZnFmfl5NVZaahpWNjZqVlpamhDlqwoU3KINDYAgFiKwYAGEBgA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h2>Explanation</h2>
<pre><code>:+ | :/ &amp; :lcm | :prime_division | :* &amp; (:&lt;&lt; &amp; :**)­⁡​‎‎⁪⁡⁪⁠⁪⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁪‏⁠⁪⁪⁠⁪⁪⁠⁪⁪⁠⁪⁪⁠⁪⁪⁠⁪⁪⁠⁪⁪⁠⁪⁪⁠⁪⁪⁠⁪⁪⁠⁪⁪⁠⁪⁪‏​⁡⁠⁡‌⁢​‎‎⁪⁡⁪⁠⁪⁢⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁤⁪‏‏​⁡⁠⁡‌⁣​‎‎⁪⁡⁪⁠⁪⁢⁡⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁢⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁢⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁢⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁢⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁣⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁣⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁣⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁣⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁤⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁤⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁤⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁤⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁡⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁡⁢⁪‏‏​⁡⁠⁡‌⁤​‎‎⁪⁡⁪⁠⁪⁣⁡⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁢⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁢⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁢⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁢⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁣⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁣⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁣⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁣⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁤⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁤⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁤⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁤⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁡⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁡⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁡⁣⁪‏‏​⁡⁠⁡‌­
:+ |                                                 # ‎⁡Range 1..n, then
     :/ &amp; :lcm |                                     # ‎⁢reduce by LCM, then
                 :prime_division |                   # ‎⁣get prime factors as [factor, exponent] pairs, then
                                   :* &amp; (:&lt;&lt; &amp; :**)  # ‎⁤map each pair as exponentiation
💎
</code></pre>
<p>Created with the help of <a href="https://vyxal.github.io/Luminespire" rel="nofollow noreferrer">Luminespire</a>.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-2" rel="nofollow noreferrer">Vyxal</a>, 6 bytes</h1>
<pre><code>~æ~•⌊e
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2&amp;c=1#WyIiLCIiLCJ+w6Z+4oCi4oyKZSIsIiIsIjMyIl0=" rel="nofollow noreferrer">Try it Online!</a></p>
<pre><code>~      # Filter (implicit) range from 1 to n by
 æ     # Is prime?
  ~    # Without popping
   •   # Take the log of the input with base each of the primes
    ⌊  # Floor
     e # Raise the primes to those powers
</code></pre>
</div>
<div id="pu4" class="pu"><h1>Regex (ECMAScript 2018 / Python<sup><a href="https://github.com/mrabarnett/mrab-regex" rel="nofollow noreferrer"><code>regex</code></a></sup> / .NET), 97 bytes</h1>
<pre><code>(?=(?=(xx+?)\1*$)(((?=(x+)(\4+$))\5)*\1$))(?&lt;!(?=(?=(xx+?)(\6*$))(?=\7\1$)(?=(x+)\8+$)\8\9$)(x+))
</code></pre>
<p><a href="https://tio.run/##bVHBbhoxEL3zFQuK5BkWrDUqTcrG7KkHLjm0xzhSrF2zcWW8W9uEFYRrPqCf2B@hXhIkDpV8mHlv5s288S/5Kn3pdBumtqnUyfMsd/yHqr93LfwMTtuaOrl7PkHB@9d1aYGCjW8Q4JynCOJLeoMo5jgWLAZQ3A@vq0F8HZ9hLm77gs82cRe7xJ34FpGY4umZeqNLBWwyZTghNcHcqd9b7RQQp2RltFUEaRnjoFY2KLeWsfygbbsNi9Y1pfKe@lBpe0TaWCDnjonhy0PNDfWt0QHINOrqNYDlNTXK1uEFl7O3N@0f5ANo3krne3WoH7MnxAuhrgm7ZAVb9DSGF9fsRiv7Ko2uEidtrRbJKDX5unGQ63uucp2meLhar9kGunM6KABfEGHJghBMdUqSv@9/krid5yzv@KgbUafaaBY0nuX28W9gwx1VnSqhQxxybrfG5HvO8DD4/4h9QZKPCZvH2dPFcX@B4SY6vACOGunDylaqS9Pj8YgnNr0dzLLBPBuwLJvO5tk/" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a> - ECMAScript 2018<br />
<a href="https://tio.run/##TZBBboMwEEX3PoVrRbIHDLKT0qRQixPkBDGLSEBqiRpkWJAcoAfoEXsRapNUreTF/Jn//ow8XKf33u4W8zH0bsLjdeSuuTRzgZ1yhJCFlSq8eY5L0DLaAGOrjoHp53gDoDOItPQFK9@e/ruZfonWttL7YHhg@uApfdCvvuMlLH7LSeaJrAp8UwK1vcMdNjbcko5TbWyOcKe6dBw6MzGSEEA4mGwwubO9NMzYiXUnUQG/Vz4MYgkexKbFtxwPLgw86FfI4iEtp9@fX5Q3tlaUhmGIPa6x4Q/S1tjaTI1jjmMyk8hCficp5Ud/z9myLZxklfwJUf3GLTLZo61AmUBSiERm4gc" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a> - Python (with <code><a href="https://github.com/mrabarnett/mrab-regex" rel="nofollow noreferrer">regex</a></code>)<br />
<a href="https://tio.run/##TZDfaoMwGMXv@xROPjDRRVTm2tWFFna9JzBeiEtrIE0kplRavN0D7BH3Ii7K/kEu8jucczh8nb5w07dcygkMLQ0/8qHabhW/oH0woR2d3zBEO8zSEDBCC0cYsYcIMGY5DlnqPmj3fPffjdhjuMiUrWfDd4xtXIpt2JNTHOIp2N/7L/rUCcnffFzAlSbFQRteNy0C6QnlgVDd2eIb1BQk6TsprE/8QhwQ1HGjz8oSab1sNkQU6jKpRleAQNFSKFstSgGKSP7D6cxR5BInCiZ@rW3T8h4FQxCCwkvzFd8uRlhOWt3b0a1Kiz/2iNLuQFIo7vmgvM/3Dw/Q7@pmWX1y9U18NPrc9WVWxZKro21H7I/jlJL1KktWebJKk4RkefIF" rel="nofollow noreferrer" title="PowerShell – Try It Online">Try it online!</a> - .NET</p>
<p>Like <a href="https://codegolf.stackexchange.com/a/259550/17216">Pseudofactorial</a>, this uses <a href="https://codegolf.stackexchange.com/a/210191/17216">Neil's prime powers test</a> instead of mine, because when capturing the smallest prime factor is also needed, it results in a shorter total length.</p>
<pre><code>                              # tail = N ≤ M = input number
# Assert tail is a prime power ≥ 2
(?=                           # Atomic lookahead
    (?=(xx+?)\1*$)            # \1 = smallest prime factor of tail, 
                              #      asserting that tail ≥ 2
    (                         # \2 = tail = N
        (
            (?=(x+)(\4+$))\5  # tail = {largest proper divisor of tail}
                              #      = tail / {smallest prime factor of tail}
        )*                    # Iterate the above as many times necessary
                              # (minimum zero) to make the following match:
        \1$                   # Assert that tail == \1; if N is a prime power,
                              # the end result of the above loop will always
                              # be this. Otherwise it will be a larger prime,
                              # and this will fail to match.
    )
)
# Assert there is no prime power (of the same base prime \1)
# that is greater than N but less than or equal to M.
(?&lt;!              # Negative Lookbehind - evaluated right-to-left, so read it
                  # from bottom to top, but once entering the lookahead, go
                  # back to left-to-right (top to bottom); assert that the
                  # following cannot match:
    (?=                       # Lookahead
        (?=(xx+?)(\6*$))      # \6 = smallest prime factor of tail; \7 = tail-\6
        (?=                   # Lookahead
            \7                # tail = tail - (tail - \6) = \6
            \1$               # Assert tail == \1
        )
        (?=(x+)\8+$)          # \8 = {largest proper divisor of tail}
                              #    = tail / {smallest prime factor of tail}
        \8\9$                 # Assert tail == \8 + \9, meaning \8 == N
    )
    (x+)          # tail += \9 = any positive value, in which all possibilities
                  # are tried, until a match is found, or all have been tried
                  # and no matches were found) as long as the resulting tail ≤ M
)
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, <s>73 67</s> 66 bytes</h1>



<pre class="lang-hs prettyprint-override"><code>p n=[last[x^i|i&lt;-[1..n],x^i&lt;=n]|x&lt;-[2..n],all((&gt;0).mod x)[2..x-1]]
</code></pre>

<p><a href="https://tio.run/nexus/haskell#HcgxCoAgFADQq/xRIUWDNvUE3UAMBBsE/Yk5OHR3s8b3RgHUNvm72X7EJypmJefoliml0T19zvqPT4kQIyjPV4BOv@1MOjeyjwga6unDjmCMhlIjNuBQxiZe" rel="nofollow noreferrer" title="Haskell – TIO Nexus">Try it online!</a> Usage: </p>

<pre class="lang-hs prettyprint-override"><code>Prelude&gt; p 50
[32,27,25,49,11,13,17,19,23,29,31,37,41,43,47]
</code></pre>

<p><strong>Edit:</strong> 6 bytes off thanks to Zgarb!</p>

<p><strong>Explanation:</strong></p>

<pre class="lang-hs prettyprint-override"><code>p n=[... x|x&lt;-[2..n]                         ] -- list of all x in the range 2 to n
p n=[... x|x&lt;-[2..n],        mod x&lt;$&gt;[2..x-1]] -- where the remainders of x mod the numbers 2 to x-1
p n=[... x|x&lt;-[2..n],all(&gt;0)$mod x&lt;$&gt;[2..x-1]] -- are all greater 0. This yields all primes in the range.

p n=[    [x^i|i&lt;-[1..n]       ]|...] -- for each of those x generate the list of all x^i with i in the range 1 to n
p n=[last[x^i|i&lt;-[1..n],x^i&lt;=n]|...] -- where x^i is smaller or equal to n
p n=[last[x^i|i&lt;-[1..n],x^i&lt;=n]|...] -- and take the last (that is the largest) element
</code></pre>
</div>
<div id="pu6" class="pu"><h2><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 70 bytes</h2>



<pre class="lang-hs prettyprint-override"><code>f n=[k|k&lt;-[2..n],p:q&lt;-[[d|d&lt;-[2..k],mod k d&lt;1]],k==p*p^length q,p*k&gt;n]
</code></pre>

<p>Defines a function <code>f</code>.
<a href="https://tio.run/nexus/haskell#Jcg7CoAwEAXAq7zCSqKoYCPGi4QVhPgJq@sqKb17FOyGSQvEOn64L1xTlkJGu@uz84//i8kcpwfD9zWRYWs113GfZY0bLqM5D0LpmILAQu8gERkWtFV6AQ" rel="nofollow noreferrer" title="Haskell – TIO Nexus">Try it online!</a></p>

<h2>Explanation</h2>

<p>The idea is to filter the range <code>[2..n]</code> for those numbers <code>k</code> that satisfy <code>k == p^length(divisors k)</code> and <code>p*k &gt; n</code>, where <code>p</code> is the smallest prime divisor of <code>k</code>.</p>

<pre class="lang-hs prettyprint-override"><code>f n=                -- Define f n as
 [k|                -- the list of numbers k, where
  k&lt;-[2..n],        -- k is drawn from [2..n],
  p:q&lt;-[            -- the list p:q is drawn from
   [d|              -- those lists of numbers d where
    d&lt;-[2..k],      -- d is drawn from [2..k] and
    mod k d&lt;1]      -- d divides k
   ],               -- (so p:q are the divisors of k except 1, and p is the smallest one),
  k==p*p^length q,  -- k equals p to the power of the divisor list's length
                    -- (so it's in particular a prime power), and
  p*k&gt;n]            -- p*k, the next power of p, is not in the range [2..n].
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/JCumin/Brachylog" rel="nofollow noreferrer">Brachylog</a>, <strike>24</strike> <strike>21</strike> 19 bytes</h1>
<p><em>3+2 bytes saved thanks to Fatalize!</em></p>
<p>This is my first time using Brachylog, and I know some things could have been done in shorter ways, but I'm happy that it even works :D</p>
<pre><code>{≥.~^ℕ₁ᵐhṗ:.≜×&gt;?∧}ᶠ
</code></pre>
<p><a href="https://tio.run/nexus/brachylog2#ASwA0///e@KJpS5@XuKEleKCgeG1kGjhuZc6LuKJnMOXPj/iiKd94bag//8xMDD/Wg" rel="nofollow noreferrer" title="Brachylog – TIO Nexus">Try it online!</a> (Return values are ordered by their base primes)</p>
<h3>Explanation:</h3>
<pre><code>{................}ᶠ           #Find all possible results of what's inside.
 ≥.                           #Input is &gt;= than the output.
  .~^ℕ₁ᵐ                      #Output can be calculated as A^B, where A and B are
                              #Natural numbers &gt;=1.
        hṗ                    #The first of those numbers (A) is prime
          :.≜×&gt;?              #That same element (A), multiplied by the output
                              #is greater than the input - This means 
                              #that B is the maximal exponent for A.
                ∧             #No more restrictions on the output.
</code></pre>
</div>
<div id="pu8" class="pu"><h1>Haskell, <s>110</s> 90 bytes</h1>
<pre><code>s[]=[];s(x:t)=x:s[y|y&lt;-t,y`rem`x&gt;0];f n=[last.fst.span(&lt;=n).scanl1(*)$repeat x|x&lt;-s[2..n]]
</code></pre>
<p>--updated per Laikoni's feedback</p>
</div>
<div id="pu9" class="pu"><h1>JavaScript ES7, 93 bytes</h1>

<p>Recursively iterate <code>i</code> from 0 up to and including <code>n</code>. If <code>i</code> is prime raise it to the highest floored exponent that makes it <code>&lt;= n</code> (<code>i ^ floor(log(n) / log(i))</code>)</p>

<pre><code>F=(n,i=n)=&gt;i?[...((P=j=&gt;i%--j?P(j):1==j)(i)?[i**((l=Math.log)(n)/l(i)|0)]:[]),...F(n,--i)]:[]
</code></pre>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/JCumin/Brachylog" rel="nofollow noreferrer">Brachylog</a>, 15 bytes</h1>
<pre><code>⟧{ḋ=}ˢ⊇Xhᵐ≠∧X×ᵐ
</code></pre>
<p><a href="https://tio.run/nexus/brachylog2#@/9o/vLqhzu6bWtPL3rU1R6R8XDrhEedCx51LI84PB3I/v/fyOB/FAA" rel="nofollow noreferrer" title="Brachylog – TIO Nexus">Try it online!</a></p>
<p>This outputs the powers from biggest to smallest.</p>
<p>This is very inefficient.</p>
<h3>Explanation</h3>
<pre><code>⟧                   The Range [Input, Input - 1, ..., 1, 0]
 {  }ˢ              Select:
  ḋ=                  The elements of that range whose prime decompositions are lists of the
                      same element (e.g. [3,3,3]); output is those prime decompositions
      ⊇X            X is an ordered subset of that list of prime decompositions
       Xhᵐ≠         All first elements of the prime decompositions are different (that is,
                      X contains prime decompositions with different primes each times)
           ∧
            X×ᵐ     Output is the result of mapping multiplication to each element of X
</code></pre>
<p>This will find the biggest prime decompositions for each prime first because of the way <code>⊇</code> works: from left to right and from biggest to smallest subsets.</p>
</div>
<div id="pu11" class="pu"><h1><a href="https://www.gnu.org/software/bash/" rel="nofollow noreferrer">Bash</a> + GNU utilities, 74 bytes</h1>



<pre class="lang-bash prettyprint-override"><code>seq $1|factor|sed "s@.*: \(\w*\)\$@\1;l($1);l(\1);print \"/^p\"@"|bc -l|dc
</code></pre>

<p><a href="https://tio.run/nexus/bash#@1@cWqigYliTlphckl9UU5yaoqBU7KCnZaUQoxFTrhWjGaPiEGNonaOhYqgJJGOAZEFRZl6JQoySflxBjJKDUk1SsoJuTk1K8v///w0NDAA" rel="nofollow noreferrer" title="Bash – TIO Nexus">Try it online!</a></p>

<p>The input number is passed as an argument.  The output is printed to stdout. (As is customary, stderr is ignored.)</p>

<p>Sample output:</p>

<pre class="lang-bash prettyprint-override"><code>./maximalprimepowers 100 2&gt;/dev/null
64
81
25
49
11
13
17
19
23
29
31
37
41
43
47
53
59
61
67
71
73
79
83
89
97

./maximalprimepowers 10000 2&gt;/dev/null | wc -l
1229
</code></pre>

<p>Here's how it works:</p>

<p>Call the argument N.</p>

<p><code>seq</code> generates all the numbers from 1 to N, and <code>factor</code> factors them all.</p>

<p>The regex in the call to sed identifies those lines where the number is a prime P, and replaces those lines with lines that are of the form `</p>

<pre class="lang-bash prettyprint-override"><code>P;l(N);l(P);print "/^p"
</code></pre>

<p>(where P and N are replaced by their actual numerical values, and everything else is copied literally, even the quotes and semicolons, and the string <code>print</code>).</p>

<p>These lines are fed as input to <code>bc -l</code>; bc prints the values of the three indicated numbers, each followed by a newline, and then prints the characters <code>/^p</code> .  (In bc, l(x) denotes the natural logarithm of x.) JK K</p>

<p>The strings that bc prints are then fed as input to dc; dc prints the value of each P^(log(N)/log(P)) using integer arithmetic (truncating); that's the greatest power of P that is &lt;= N.</p>

<p>One thing that's glossed over above is what happens to lines that are produced by factors that don't correspond to primes.  Those lines don't match the regex in the call to sed, so no replacement is done on those. As a result, those lines start with a number followed by a colon, which generates an error when fed as input to <code>bc</code>.  But bc just prints to stderr then, which we ignore; it doesn't print anything to stdout.  By default, <a href="http://meta.codegolf.stackexchange.com/questions/4780/should-submissions-be-allowed-to-exit-with-an-error/4781#4781">stderr is ignored on PPCG</a>.</p>
</div>
<div id="pu12" class="pu"><h1>Sage, 43 bytes</h1>

<pre class="lang-python prettyprint-override"><code>lambda i:[x^int(ln(i,x))for x in primes(i)]
</code></pre>

<p>Maps each prime in the range <code>primes(i)</code> to its maximal prime power. <code>ln</code> is just an alias of <code>log</code> so it accepts alternate bases although its name suggests it can only use base <code>e</code>.</p>
</div>
<div id="pu13" class="pu"><h1>PHP, <s>101</s> <s>93</s> <s>91</s> 88 bytes</h1>
<p>just a little bit of real maths ...</p>
<pre class="lang-php prettyprint-override"><code>for($n=$argv[$i=1];$n&gt;$j=$i++;$j?:$r[$p=$i**~~log($n,$i)]=$p)for(;$i%$j--;);print_r($r);
</code></pre>
<p><strong>breakdown</strong></p>
<pre class="lang-php prettyprint-override"><code>for($n=$argv[$i=1];     // loop $i from 2 to $n
    $n&gt;$j=$i++;             // 0.: init $j to $i-1
    $j?:                    // 2. if $i is prime
        $r[$p=$i**~~log($n,$i)]=$p) // 3. add maximum power to results
    for(;$i%$j--;);         // 1. prime check (if $i is prime, $j will be 0)
print_r($r);            // print results
</code></pre>
</div>
<div id="pu14" class="pu"><p>I couldn't get a shorter Mathematica solution than <a href="https://codegolf.stackexchange.com/a/109309/56178">ngenisis's solution</a>, but I thought I'd offer a couple of (hopefully interesting) alternative approaches.</p>

<h2>Mathematica, 65 bytes</h2>

<pre><code>#/#2&amp;@@@({#,#}&amp;/@Range@#~Select~PrimeQ//.{a_,b_}/;a&lt;=#:&gt;{b a,b})&amp;
</code></pre>

<p>First we use <code>{#,#}&amp;/@Range@#~Select~PrimeQ</code> to build a list of all primes in the appropriate range, but with ordered pairs of each prime, like <code>{ {2,2}, {3,3}, ...}</code>. Then we operate on that list repeatedly with the replacement rule <code>{a_,b_}/;a&lt;=#:&gt;{b a,b}</code>, which multiplies the first element of the ordered pair by the second until the first element exceeds the input. Then we apply <code>#/#2&amp;@@@</code> to output, for each ordered pair, the first element divided by the second. (They end up sorted by the underlying prime: an example output is <code>{16, 9, 5, 7, 11, 13, 17, 19}</code>.)</p>

<h2>Mathematica, 44 bytes</h2>

<pre><code>Values@Rest@&lt;|MangoldtLambda@#-&gt;#&amp;~Array~#|&gt;&amp;
</code></pre>

<p>The von Mangoldt function <code>Λ(n)</code> is an interesting number theory function: it equals 0 unless <code>n</code> is a prime power p<sup>k</sup>, in which case it equals <code>log p</code> (not <code>log n</code>). (These are natural logs, but it won't matter.) Thus <code>MangoldtLambda@#-&gt;#&amp;~Array~#</code> creates an array of rules <code>{ 0-&gt;1, Log[2]-&gt;2, Log[3]-&gt;3, Log[2]-&gt;4, Log[5]-&gt;5, 0-&gt;6, ... }</code> whose length is the input integer.</p>

<p>We then turn this list of rules into an "association" using <code>&lt;|...|&gt;</code>. This has the effect of retaining only the last rule with any given left-hand value. In other words, it will throw away <code>Log[2]-&gt;2</code> and <code>Log[2]-&gt;4</code> and <code>Log[2]-&gt;8</code> and keep only <code>Log[2]-&gt;16</code> (assuming that the input is between 16 and 31 for this example). Therefore the only remaining right-hand sides are the maximal prime powers—except for the one remaining rule <code>0-&gt;n</code>, where <code>n</code> is the largest non-prime-power up to the input integer. But <code>Rest</code> throws that undesired rule away, and <code>Values</code> extracts the right-hand sides from the rules in the association. (They end up sorted as above.)</p>

<p>A slightly longer (46 bytes) version, which counts the number of appearances of each <code>log p</code> and then exponentiates to convert to the maximal prime powers:</p>

<pre><code>E^(1##)&amp;@@@Rest@Tally[MangoldtLambda~Array~#]&amp;
</code></pre>
</div>
<div id="pu15" class="pu"><h2>JavaScript (ES6), <s>118</s> <s>120</s> <s>119</s> <s>114</s> <s>112</s> 105 bytes</h2>
<pre class="lang-js prettyprint-override"><code>(n,r)=&gt;(r=k=&gt;[...Array(k-1)].map((_,i)=&gt;i+2),r(n).filter(q=&gt;r(q).every(d=&gt;q%d|!(d%(q/d)*(q/d)%d)&amp;q*d&gt;n)))
</code></pre>
<p>Suggestions welcome. This is kind of long, but it seemed worth posting because it does all the divisibility testing explicitly rather than using built-ins related to primes.</p>
<p>Notes:</p>
<ul>
<li>A natural number q is a prime power &lt;=&gt; all of q's divisors are powers of the same prime &lt;=&gt; for any d which divides q, one of d and q/d is a divisor of the other.</li>
<li>If q is a power of p, q is maximal &lt;=&gt; q * p &gt; n &lt;=&gt; q * d &gt; n for every nontrivial divisor d of q.</li>
</ul>
</div>
<div id="pu16" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 8 bytes</h1>

<pre><code>ÆR*ÆE€»/
</code></pre>

<p><a href="https://tio.run/nexus/jelly#@3@4LUjrcJvro6Y1h3br/z/cDmS4//9vqGOkY6xjomOqY6ZjrmNkoGNqoGNoYAAA" rel="nofollow noreferrer" title="Jelly – TIO Nexus">Try it online!</a></p>

<h3>How it works</h3>

<pre><code>ÆR*ÆE€»/  Main link. Argument: n

ÆR        Prime range; yield all primes in [1, ..., n].
   ÆE€    Prime exponents each; yield the exponents of 2, 3, 5, ... of the prime
          factorization of each k in [1, ..., n].
          For example, 28 = 2² × 3⁰ × 5⁰ × 7¹ yields [2, 0, 0, 1].
  *       Exponentiation; raise the elements of the prime range to the powers
          of each of the exponents arrays.
      »/  Reduce the columns by maximum.
</code></pre>
</div>
<div id="pu17" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly">Jelly</a>, <s>7</s> 4 bytes</h1>

<pre><code>æḟÆR
</code></pre>

<p><a href="https://tio.run/nexus/jelly#@3942cMd8w@3Bf0/3P6oaY37//@GOgpGOgrGOgomOgqmOgpmOgrmQBEDIAeIDQ0ghIEBAA" title="Jelly – TIO Nexus">Try it online!</a></p>

<h3>How it works</h3>

<pre><code>æḟÆR  Main link. Argument: n

  ÆR  Prime range; yield all primes in [1, ..., n].
æḟ    Power floor; round n down to the nearest power of each prime in the range.
</code></pre>
</div>
<div id="pu18" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 9 bytes</h1>

<pre><code>Ræl/ÆF*/€
</code></pre>

<p>One byte longer than <a href="https://codegolf.stackexchange.com/a/109305/12012">my other answer</a>, but finishes for input <strong>10,000</strong> is a couple of seconds.</p>

<p><a href="https://tio.run/nexus/jelly#@x90eFmO/uE2Ny39R01r/v//b2gABAA" rel="nofollow noreferrer" title="Jelly – TIO Nexus">Try it online!</a></p>

<h3>How it works</h3>

<pre><code>Ræl/ÆF*/€  Main link. Argument: n

R          Range; yield [1, ..., n].
 æl/       Reduce by least common multiple.
    ÆF     Factor the LCM into [prime, exponent] pairs.
      */€  Reduce each pair by exponentiation.
</code></pre>
</div>
<div id="pu19" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, <s>15</s> 12 bytes</h1>

<pre><code>ƒNpiN¹N.nïm,
</code></pre>

<p><a href="https://tio.run/nexus/05ab1e#@39skl9Bpt@hnX56eYfX5@r8/29kAAA" rel="nofollow noreferrer" title="05AB1E – TIO Nexus">Try it online!</a></p>

<p><strong>Explanation</strong></p>

<pre><code>ƒ             # for N in [0 ... input]
 Npi          # if N is prime
    N         # push N
     ¹N.n     # push log_N(input)
         ï    # convert to int
          m   # raise N to this power
           ,  # print
</code></pre>
</div>
<div id="pu20" class="pu"><h2>Mathematica, <strike>44</strike> <strike>43</strike> 40 bytes</h2>

<p><em>Saved 4 bytes thanks to miles and Martin Ender</em></p>

<p><strike><code>n#^⌊#~Log~n⌋&amp;/@Select[Range@n,PrimeQ]</code></strike></p>

<pre><code>(x=Prime@Range@PrimePi@#)^⌊x~Log~#⌋&amp;
</code></pre>

<p><code>⌊</code> and <code>⌋</code> are the <code>3</code> byte characters <code>U+230A</code> and <code>U+230B</code> representing <a href="https://reference.wolfram.com/language/ref/character/LeftFloor.html"><code>\[LeftFloor]</code></a> and <a href="https://reference.wolfram.com/language/ref/character/RightFloor.html"><code>\[RightFloor]</code></a>, respectively.</p>

<h2>Explanation:</h2>

<p><a href="https://i.stack.imgur.com/8igDT.png"><img src="https://i.stack.imgur.com/8igDT.png" alt="enter image description here"></a></p>

<p>Pure function. <code>#</code> is short for <code>Slot[1]</code> which represents the first argument to the <code>Function</code>. <code>PrimePi@#</code> counts the number of primes less or equal to <code>#</code>, <code>Range@PrimePi@#</code> is the list of the first <code>PrimePi[#]</code> positive integers, and so <code>Prime@Range@PrimePi@#</code> is the list of primes less than or equal to <code>#</code> (this is one byte shorter than <code>Select[Range@#,PrimeQ]</code>). The symbol <code>x</code> is <code>Set</code> equal to this list, then raised to the <code>Power</code> <code>⌊x~Log~#⌋</code>, which is the list of <code>Floor[Log[n,#]]</code> for each <code>n</code> in <code>x</code>. In Mathematica, raising a list to the <code>Power</code> of another list of the same length results in the list of the powers of their corresponding elements.</p>
</div>
<div id="pu21" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly">Jelly</a>, <s>12</s> 9 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page">bytes</a></h1>

<pre><code>RÆEz0iṀ$€
</code></pre>

<p><strong><a href="https://tio.run/nexus/jelly#@x90uM21yiDz4c4GlUdNa/7//29oYAAA">Try it online!</a></strong> (method is too slow for the 10000 case).</p>

<h3>How?</h3>

<p>Builds the list of <strong>p<sup>k</sup></strong> in order of <strong>p</strong>.</p>

<pre><code>RÆEz0iṀ$€ - Main link: n                      e.g. 7
R         - range(n)                          [1 ,2  ,3    ,4  ,5      ,6    ,7]
 ÆE       - prime factor vector (vectorises)  [[],[1],[0,1],[2],[0,0,1],[1,1],[0,0,0,1]]
   z0     - transpose with filler 0           [[0,1,0,2,0,1,0],[0,0,1,0,0,1,0],[0,0,0,0,1,0,0],[0,0,0,0,0,0,1]]
       $€ - la$t two links as a monad, for €ach       ^             ^                   ^                   ^
     i    -     first index of                        4             3                   5                   7
      Ṁ   -     maximum                       [4,3,5,7]
</code></pre>
</div>
<div id="pu22" class="pu"><h1><a href="https://sourceforge.net/p/cjam" rel="nofollow noreferrer">CJam</a>, <s>21</s> 20 bytes</h1>

<p><em>Saved 1 byte thanks to Martin Ender</em></p>

<pre><code>ri_){mp},f{\1$mLi#}p
</code></pre>

<p><a href="https://tio.run/nexus/cjam#@1@UGa9ZnVtQq5NWHWOokuuTqVxb8P@/oQEQAAA" rel="nofollow noreferrer" title="CJam – TIO Nexus">Try it online!</a></p>

<p><strong>Explanation</strong></p>

<pre><code>ri                    e# Read an integer from input (let's call it n)
  _                   e# Duplicate it
   ){mp},             e# Push the array of all prime numbers up to and including n
         f{           e# Map the following block to each prime p:
           \          e#   Swap the top two elements of the stack
            1$        e#   Copy the second element down in the stack. Stack is now [p n p]
              mL      e#   Take the base-p logatithm of n
                i     e#   Cast to int (floor)
                 #    e#   Raise p to that power
                  }   e# (end of map block)
                   p  e# Print
</code></pre>
</div>
<div id="pu23" class="pu"><h2>Pyth, 13 bytes</h2>
<pre><code>m^ds.lQdfP_TS
</code></pre>
<p><a href="http://pyth.herokuapp.com/?code=m%5Eds.lQdfP_TS&amp;input=23&amp;debug=0" rel="nofollow noreferrer">Try it here!</a></p>
<pre><code>        f   S -  filter(v, range(1, input))
         P_T  -   is_prime(T)
m             - map(v, ^)
    .lQd      -    log(input, d)
   s          -   int(^)
 ^d           -  d ** ^
</code></pre>
<p>I haven't played with Pyth in a while so any golfing tips are appreciated.</p>
</div>
<div id="pu24" class="pu"><h1>MATL, 13 bytes</h1>
<pre><code>ZqG:!^tG&gt;~*X&gt;
</code></pre>
<p><a href="https://tio.run/nexus/matl#@x9V6G6lGFfiblenFWH3/78xAA" rel="noreferrer"><strong>Try it Online!</strong></a></p>
<p><strong>Explanation</strong></p>
<pre><code>        % Implicitly grab the input as a number (N)
Zq      % Get an array of all primes below N
G:!     % Create an array from [1...N]
^       % Raise each prime to each power in this array which creates a 2D matrix
        % where the powers of each prime are down the columns
tG&gt;~    % Create a logical matrix that is TRUE where the values are less than N
*       % Perform element-wise multiplication to force values &gt; N to zero
X&gt;      % Compute the maximum value of each column
        % Implicitly display the resulting array
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/109297/">109297</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




