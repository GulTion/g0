<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::265869</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>013</td><td>K ngn/k</td><td>231023T040954Z</td><td><a href="https://codegolf.stackexchange.com/questions/265869/diagonal-binary-sequence/266170#266170">Bubbler</a></td></tr>
<tr d-ix="1"><td>012</td><td>Uiua</td><td>231023T035144Z</td><td><a href="https://codegolf.stackexchange.com/questions/265869/diagonal-binary-sequence/266169#266169">Bubbler</a></td></tr>
<tr d-ix="2"><td>2521</td><td>K ngn/k</td><td>231010T004240Z</td><td><a href="https://codegolf.stackexchange.com/questions/265869/diagonal-binary-sequence/265890#265890">doug</a></td></tr>
<tr d-ix="3"><td>014</td><td>Uiua</td><td>231009T184030Z</td><td><a href="https://codegolf.stackexchange.com/questions/265869/diagonal-binary-sequence/265886#265886">chunes</a></td></tr>
<tr d-ix="4"><td>035</td><td>Perl 5.10 n</td><td>231010T154845Z</td><td><a href="https://codegolf.stackexchange.com/questions/265869/diagonal-binary-sequence/265901#265901">Kjetil S</a></td></tr>
<tr d-ix="5"><td>008</td><td>05AB1E</td><td>231011T070244Z</td><td><a href="https://codegolf.stackexchange.com/questions/265869/diagonal-binary-sequence/265914#265914">Kevin Cr</a></td></tr>
<tr d-ix="6"><td>009</td><td>Nekomata</td><td>231011T024441Z</td><td><a href="https://codegolf.stackexchange.com/questions/265869/diagonal-binary-sequence/265911#265911">alephalp</a></td></tr>
<tr d-ix="7"><td>019</td><td>Charcoal</td><td>231009T111131Z</td><td><a href="https://codegolf.stackexchange.com/questions/265869/diagonal-binary-sequence/265881#265881">Neil</a></td></tr>
<tr d-ix="8"><td>073</td><td>Fortran GFortran</td><td>231010T214955Z</td><td><a href="https://codegolf.stackexchange.com/questions/265869/diagonal-binary-sequence/265906#265906">hbhbnr</a></td></tr>
<tr d-ix="9"><td>039</td><td>Ruby</td><td>231010T210338Z</td><td><a href="https://codegolf.stackexchange.com/questions/265869/diagonal-binary-sequence/265904#265904">G B</a></td></tr>
<tr d-ix="10"><td>014</td><td>x86 32bit machine code</td><td>231010T160614Z</td><td><a href="https://codegolf.stackexchange.com/questions/265869/diagonal-binary-sequence/265903#265903">m90</a></td></tr>
<tr d-ix="11"><td>041</td><td>JavaScript V8</td><td>231009T082338Z</td><td><a href="https://codegolf.stackexchange.com/questions/265869/diagonal-binary-sequence/265875#265875">Arnauld</a></td></tr>
<tr d-ix="12"><td>008</td><td>Husk</td><td>231010T011119Z</td><td><a href="https://codegolf.stackexchange.com/questions/265869/diagonal-binary-sequence/265891#265891">Leo</a></td></tr>
<tr d-ix="13"><td>049</td><td>Rust</td><td>231009T220738Z</td><td><a href="https://codegolf.stackexchange.com/questions/265869/diagonal-binary-sequence/265888#265888">leo848</a></td></tr>
<tr d-ix="14"><td>020</td><td>TIBasic</td><td>231009T211049Z</td><td><a href="https://codegolf.stackexchange.com/questions/265869/diagonal-binary-sequence/265887#265887">Youserna</a></td></tr>
<tr d-ix="15"><td>7515</td><td>Nibbles</td><td>231009T122907Z</td><td><a href="https://codegolf.stackexchange.com/questions/265869/diagonal-binary-sequence/265882#265882">Dominic </a></td></tr>
<tr d-ix="16"><td>040</td><td>R</td><td>231009T135517Z</td><td><a href="https://codegolf.stackexchange.com/questions/265869/diagonal-binary-sequence/265883#265883">Dominic </a></td></tr>
<tr d-ix="17"><td>084</td><td>Retina 0.8.2</td><td>231009T091416Z</td><td><a href="https://codegolf.stackexchange.com/questions/265869/diagonal-binary-sequence/265879#265879">Neil</a></td></tr>
<tr d-ix="18"><td>053</td><td>Excel</td><td>231009T075811Z</td><td><a href="https://codegolf.stackexchange.com/questions/265869/diagonal-binary-sequence/265874#265874">Jos Wool</a></td></tr>
<tr d-ix="19"><td>035</td><td>Haskell</td><td>231009T085121Z</td><td><a href="https://codegolf.stackexchange.com/questions/265869/diagonal-binary-sequence/265877#265877">Laikoni</a></td></tr>
<tr d-ix="20"><td>009</td><td>05AB1E</td><td>231009T082646Z</td><td><a href="https://codegolf.stackexchange.com/questions/265869/diagonal-binary-sequence/265876#265876">Command </a></td></tr>
<tr d-ix="21"><td>039</td><td>Python</td><td>231009T072557Z</td><td><a href="https://codegolf.stackexchange.com/questions/265869/diagonal-binary-sequence/265871#265871">bsoelch</a></td></tr>
<tr d-ix="22"><td>041</td><td>Python 2</td><td>231009T074612Z</td><td><a href="https://codegolf.stackexchange.com/questions/265869/diagonal-binary-sequence/265872#265872">dingledo</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://codeberg.org/ngn/k" rel="nofollow noreferrer">K (ngn/k)</a>, 13 bytes</h1>
<pre><code>(3|2/2,1_2\)\
</code></pre>
<p><a href="https://ngn.codeberg.page/k#eJx9kr1SwzAQhHs/RUhmsD05nPuRTrJTQEHj3h1mDE3oKaiYPDurKDVupNF8d7e758vU2a+elGTTtV+b5tTIrnxvQkaRRpJEZuSRREfSmCiK0TAM741WUClQJnEyJQ/AMjAHhqasobJW2X9ago2V9co6nkgyWSDH3RhoBhoK6qQcufKp8olESEaySI67CfgRfCx8KrxUXrQaVLyROTnUQ7s6gy5TiwOO8CV8H2FS5QuFRAkOgpEmoYjGwgYX7AYeCrJyqkV5vBVl4BF4Bm4FDwVPBdeCIw3xwBCuabxHi0Y3icVRimSM4GBGGDOVx4haKMiKyaiFLEP7e3wQzaUWBwYXlxEmQ8xYk2e8eU6KBZQluZcNIasI8+rqyOHWBH/CPMk2vzxeu/mZ2v1pXfd92z0c5omnj8/vr5+d9E03n1/PSz8deee7tJ2mGWVDOzfL1A3tk2x72q99uzTL9TK0x+5Jjod2Oc998wfDv3ww" rel="nofollow noreferrer">Try it online!</a></p>
<p>A base conversion trick that works somewhat like Husk or Nekomata answers, but keeps things in integers. This works by replacing the leading 1 with a 2 in the binary representation.</p>
<pre><code>(3|2/2,1_2\)\
(          )\    collect first k iterations:
         2\      convert to base 2
     2,1_        remove the leading 1 and attach a 2
   2/            convert from &quot;base 2&quot; to integer
 3|              max with 3 to handle 1
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://uiua.org" rel="nofollow noreferrer">Uiua</a>, 12 <a href="https://codegolf.stackexchange.com/a/265917/97916">bytes</a></h1>
<pre><code>⍥(↥3+⍜'ₙ2⌊.)
⍥(+ⁿ↥1⌊ₙ2,2)
</code></pre>
<p><a href="https://www.uiua.org/pad?src=ZiDihpAg4o2lKOKGpTMr4o2cJ-KCmTLijIouKQpnIOKGkCDijaUoK-KBv-KGpTHijIrigpkyLDIpCiMgZiDihpAg4o2lKCviioPijZzigpnijIrihqUyKQriioPiiLVmIOKItWcg4oehMTAgODkK4oqD4oi1ZiDiiLVnIOKHoTEwIDEK4oqD4oi1ZiDiiLVnIOKHoTEwIDI=" rel="nofollow noreferrer">Try it online!</a></p>
<pre><code>⍥(↥3+⍜'ₙ2⌊.)    input: repetition, initial number
⍥(         )    repeat the successor operation the given number of times:
      ⍜'ₙ2⌊      power of two &lt;= current number
   ↥3+     .     add to the current number, and maximum with 3 to handle 1

⍥(+ⁿ↥1⌊ₙ2,2)
       ⌊ₙ2,       floor(log2(current number))
     ↥1          max with 1 to handle 1
    ⁿ     2      2 raised to the power of that
   +             add to the current number
</code></pre>
<p>Could be 10 bytes if there weren't a <a href="https://github.com/uiua-lang/uiua/issues/173" rel="nofollow noreferrer">bug</a> in <code>⍜ₙ</code>:</p>
<pre><code>⍥(+⊃⍜ₙ⌊↥2)
    ⊃    2    call two functions on 2 and the current number:
      ⍜ₙ⌊      power of two &lt;= current number,
         ↥     max
   +           add the two
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://codeberg.org/ngn/k" rel="nofollow noreferrer">K (ngn/k)</a>, <sup>25</sup> 21 bytes</h1>
<pre><code>{2/?[;!2;1,x=1]@2\x}\
</code></pre>
<p><a href="https://ngn.codeberg.page/k#eJx9kr1OxDAQhPs8xXFIJNEtuf2x104iBAVN+nQEHTTQUyAkBM/O+Hw1aWxZ3+7OzOZt+tbj/dN8pbPQ1508P+j29bM1zbGRXfmehIwijSSJzMgjiY6kMVEUo2EYnhutoFKgTOJkSh6AZWAOTElYQ2Wtsv+0BBsr65V1PJFkskCOuzHQDDQU1Ek5cuVT5ROJkIxkkRx3E/Aj+Fj4VHipvGg1qHgjc3Koh3Z1Bl2mFgcc4Uv4MsKkyhcKiRIcBCNNQhGNhQ0u2A08FGTlVIvyeC7KwCPwDNwKHgqeCq4FRxrigSFc03iJFo3OEoujFMkYwcGMMGYqjxG1UJAVk1ELWYb2l/ggmkstDgwuLiNMhpixJs9485wUCyhLci8bQlYR5tXVkcO5Cf6EZZLT8nDz2y331O6P27bv2+7qepl4enn9eP/cSd90y/w4r/104J3v0uk4LSgb2qVZp25ob+W0p/3Wt2uz/r4N7aG7lcN1u85L3/wBoCd+9Q==" rel="nofollow noreferrer">Try it online!</a></p>
<p>-4 bytes - thanks to @coltim</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://uiua.org" rel="nofollow noreferrer">Uiua</a>, <s>18</s> 14 <a href="https://www.uiua.org/pad?src=U0JDUyDihpAgK0BcMOKKlwpEZWNvZGUg4oaQIOKHjOKKjy0x4pa9wrEu4o2Y4ouv4oav4oqCwq8x4qe74ouv4qe7LOKHjOKItSjihpjCrzHii68rMjU2KSAtQFwwKzEKJnAg4oqCIjggYml0IGVuY29kaW5nOlx0IiBTQkNTICLih4ziio8tMeKWvcKxLuKNmOKLr-KGr-KKgsKvMeKnu-KLr-Knuyzih4ziiLUo4oaYwq8x4ouvKzI1NikiIOKKgitAXDDih6ExMjkiLiziiLY74oiYwqzCscKv4oy14oia4peL4oyK4oyI4oGFPeKJoDziiaQ-4omlKy3Dl8O34pe_4oG_4oKZ4oan4oal4oig4qe74paz4oeh4oqi4oeM4pmt4ouv4o2J4o2P4o2W4oqa4oqb4oqd4pah4oqU4omF4oqf4oqC4oqP4oqh4oav4oaZ4oaY4oa74per4pa94oyV4oiK4oqXL-KIp1xc4oi14omh4oi64oqe4oqg4o2l4oqV4oqc4oip4oqT4oqD4oqZ4ouF4o2Y4o2c4o2a4qyaJz_ijaPijaQh4o6L4oas4pqCzrfPgM-E4oiefl9bXXt9KCnCr0AkXCLihpB8IyIKJnAg4oqCImRlY29kZWQ6XHQiIERlY29kZSAiwqPCsS0xwrjChy7DjMKlwrPCsMKIMcKfwqXCnyzCo8K_KMK1wogxwqUrMjU2KSIg4oqCK0BcMOKHoTEyOSIuLOKItjviiJjCrMKxwq_ijLXiiJril4vijIrijIjigYU94omgPOKJpD7iiaUrLcOXw7fil7_igb_igpnihqfihqXiiKDip7vilrPih6HiiqLih4zima3ii6_ijYnijY_ijZbiipriipviip3ilqHiipTiiYXiip_iioLiio_iiqHihq_ihpnihpjihrvil6vilr3ijJXiiIriipcv4oinXFziiLXiiaHiiLriip7iiqDijaXiipXiipziiKniipPiioPiipnii4XijZjijZzijZrirJonP-KNo-KNpCHijovihqzimoLOt8-Az4TiiJ5-X1tde30oKcKvQCRcIuKGkHwjIg==" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>⍥(+ⁿ∶2↥1-1⧻⋯.)
</code></pre>
<p><a href="https://www.uiua.org/pad?src=RiDihpAg4o2lKCvigb_iiLYy4oalMS0x4qe74ouvLikKCkYgMCAxCkYgNSAxCkYgNSA4OQ==" rel="nofollow noreferrer">Try it!</a></p>
<p>Returns the nth member of the sequence.</p>
<p>-4 thanks to Dominic van Essen</p>
<pre><code>⍥(+ⁿ∶2↥1-1⧻⋯.)
⍥(           )  # repeat
            .   # duplicate
           ⋯    # convert to bits
          ⧻     # length
        -1      # subtract 1
      ↥1        # max between this and 1 (need this for input of 1)
   ⁿ∶2          # 2 raised to the result
  +             # add
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a>.10 -n, 35 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>$_^=$_-1?3&lt;&lt;(1.4427*log):2while say
</code></pre>
<p><a href="https://tio.run/##K0gtyjH9/18lPs5WJV7X0N7YxkbDUM/ExMhcKyc/XdPKqDwjMydVoTix8v9/C8t/@QUlmfl5xf91fctM9QwN/uvmAQA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
<p>Finds the next elem by xor'ing the current n with <code>3 &lt;&lt; log₂(n)</code> where &lt;&lt; is the left shift operator that only cares about the integer part of log₂. Here n=1 is handled as a special case where 1 is xor'ed by 2 to get 3.</p>
<pre class="lang-perl prettyprint-override"><code> 89 xor (3 &lt;&lt; log2(89)  ) =  89 xor (3&lt;&lt;6) = 153
153 xor (3 &lt;&lt; log2(153) ) = 153 xor (3&lt;&lt;7) = 281
281 xor (3 &lt;&lt; log2(281) ) = 281 xor (3&lt;&lt;8) = 537
.
.
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 8 <a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>λb¦TìC3M
</code></pre>
<p>Now that it's been a short while, I'm gonna post my own solution.</p>
<p>Outputs the infinite sequence.</p>
<p><a href="https://tio.run/##yy9OTMpM/f//3O6kQ8tCDq9xNvb9/98QAA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/V9Waa@k8KhtkoKSfeX/c7uTDi0LObzG2dj3f23IocU6/6MNdYx0jHXMdMx1DIEMQx0LSx1DQ0MdQwMDg1gA" rel="nofollow noreferrer">verify the first ten terms of all test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>λ         # Create a recursive environment,
          # to generate the infinite sequence
          # (which will be lazily output implicitly at the end)
          # Starting with a(0) = (implicit) input
          # And where every following a(n) is calculated as:
          #  Implicitly push the previous term a(n-1)
 b        #  Convert a(n-1) to a binary string
  ¦       #  Remove its leading &quot;1&quot;
   Tì     #  Prepend &quot;10&quot; instead
     C    #  Convert it back from binary to a (base-10) integer
      3M  #  Manually fix a(1) for input=1:
      3   #   Push 3
       M  #   Push a copy of the maximum of the stack
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/AlephAlpha/Nekomata" rel="nofollow noreferrer">Nekomata</a>, 9 bytes</h1>
<pre><code>ᶦ{Ƃ2ŗɔƃ3M
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70iLzU7PzexJHFTtJJurpKOgpJuDog0NFCKXbC0tCRN12L9w23Lqo81GR2dfnLKsWZj3yXFScnFULkFuw25jLiMucy4zLkMgQxDLgtLLkNDQy5DAwMDiBIA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>A port of <a href="https://codegolf.stackexchange.com/a/265891/9288">@Leo's Husk answer</a>.</p>
<pre><code>ᶦ{Ƃ2ŗɔƃ3M
ᶦ{          Infinite loop and print the result of each iteration:
  Ƃ             Convert to base 2
   2ŗɔ          Prepend 1/2
      ƃ         Convert back from base 2
       3M       Take the maximum of the result and 3
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, <s>20</s> 19 bytes</h1>
<pre><code>ＮθＩ⁺θ×Ｘ²Ｌ⍘÷θ²¦²⊖Ｘ²Ｎ
</code></pre>
<p><a href="https://tio.run/##TY3BCsIwEETv/YoeN1BBe1J6014KIkH9gZguaaDZtsmmfn5MQdCBN6c3jB6U15MaU@pojnyL7oUeFtEU0ltiuKjAIMcYYKnKp3UYQE7vrNRVeUUyPMBZBXxwtg10xK1dbY@bXYsNkbtF7dEhMfa/9V2RQfh/Fd80KR1PxWGfduv4AQ" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Takes <code>n</code> and <code>k</code> as input and outputs the 0-indexed <code>k</code>th element but link is to version that outputs the first <code>k</code> elements at a cost of 1 byte. Explanation: Port of @Arnauld's JavaScript answer with some inspiration from @DominicvanEssen's Nibbles answer.</p>
<pre><code>Ｎθ                  Input `n` as a number
       ²            Literal integer `2`
      Ｘ             Raised to power
           θ        Input `n`
          ÷         Integer divided by
            ²       Literal integer `2`
         ⍘          Converted to base
              ²     Literal integer `2`
        Ｌ           Take the length
     ×              Multiplied by
                 ²  Literal integer `2`
                Ｘ   Raised to power
                  Ｎ Input `k` as a number
               ⊖    Decremented
   ⁺                Plus
    θ               Input `n`
  Ｉ                 Cast to string
                    Implicitly print
</code></pre>
<p>14 bytes with the original intent that the leading <code>1</code> participates in the diagonal:</p>
<pre><code>ＮθＩ｜θＸ²⁺⊖Ｌ↨θ²Ｎ
</code></pre>
<p><a href="https://tio.run/##S85ILErOT8z5/98zr6C0xK80Nym1SKNQ05oroCgzr0TDObG4RMMps6Q8szjVHyihoxCQXw5UYQRk5JQWa7ikJhel5qbmlaSmaPik5qWXZGg4JRanghQaaWpq6igEJealp2ogG64JAdb//1tYchka/NctywEA" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Takes <code>n</code> and <code>k</code> as input and outputs the 0-indexed <code>k</code>th element but link is to version that outputs the first <code>k</code> elements at a cost of 1 byte. Explanation:</p>
<pre><code>Ｎθ              Input `n` as a number
      ²         Literal integer `2`
     Ｘ          Raised to power
           θ    Input `n`
          ↨     Converted to base
            ²   Literal integer `2`
         Ｌ      Take the length
        ⊖       Decremented
       ⁺        Plus
             Ｎ  Input `k`
   ｜            Bitwise Or
    θ           Input `n`
  Ｉ             Cast to string
                Implicitly print
</code></pre>
</div>
<div id="pu8" class="pu"><h1><a href="https://gcc.gnu.org/fortran/" rel="nofollow noreferrer">Fortran (GFortran)</a>, 73 bytes body, 13 bytes header and footer</h1>
<pre><code>program x

read*,n;i=2**(31-leadz(n));n=n-i;do;print*,i+n;if(i&lt;2)n=n+1;i=i*2;end do

end
</code></pre>
<p>Try it online:
<a href="https://tio.run/##JYtLCoAwDESv0mUb20XrMnqYQj8ENJXgQrx8Dbia4c2bNuSWzKG3v8xLRpd8mmdKzQU8I@0JwK4xHApey84h7xwIy8BLiG/wtKjWLG3J6bRE/RAkrFxMGVNjxg8" rel="nofollow noreferrer" title="Fortran (GFortran) – Try It Online">n=1</a>,
<a href="https://tio.run/##JYvBCoAgEER/paOuetAuxdbHCGYs1BpLh@jnbaHTDG/e1Ca3ZA57/Uu/pO2Sz@HpsuUCnpHWBGDGGA4Fr2FrkVcOhKXhJcQ3eHKqVUNLsjq5qB@ChBuXobSu0af5Aw" rel="nofollow noreferrer" title="Fortran (GFortran) – Try It Online">n=89</a></p>
<p>Reads <code>n</code> from standard input and outputs the corresponding sequence.</p>
<p>Uses <code>leadz()</code> to count the leading zeros. Puts the highest 1 into <code>i</code> and removes it from <code>n</code>. The loop shifts the highest 1 further to the left in each iteration and outputs the sum of <code>i</code> and <code>n</code> in each cycle. Special handling for <code>n==1</code>.</p>
</div>
<div id="pu9" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 39 bytes</h1>

<pre class="lang-ruby prettyprint-override"><code>-&gt;n,k{r=1;r*=2until n&lt;r*2;n-r/2*2|r&lt;&lt;k}
</code></pre>
<p><a href="https://tio.run/##KypNqvyfZvtf1y5PJ7u6yNbQukjL1qg0ryQzRyHPpkjLyDpPt0jfSMuopsjGJrv2f4GChoGenqGBpl5uYkF1TUVNWrShTkVsLRc2CQMDA5DcfwA" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
</div>
<div id="pu10" class="pu"><h1>x86 32-bit machine code, 14 bytes</h1>
<pre><code>0F BD C8 E3 03 0F B3 C8 01 D1 0F AB C8 C3
</code></pre>
<p><a href="https://tio.run/##nVJdb9owFH22f8UtFZK9mCmEat3I6Mue@9KnSQVFxnHALDiVbbowyl9fdk1ZyVul3gfnfvic4@NYjVZKdZ30W2DwMGC0mpKld6BVK0DLlpINpn/AU7IMLnZEnFE/JbIsz9vKNk79ZUqcDpQPeE6LQobgzHIXdFEw5vTqSbotyzjnYGyAisXVilPxi@fw3BikZTzvro1V9a7U8N2H0jSf13c0btpKYxmnB0qeHNYVGwDGSxQjVePgRLiBGaQ5fq5mMM4wSRJOoRdv2OGtGQjYRPT/3tyOMJIPMo7OcYJHZNA@FM@y9o8L5DiMBWQCJgK@CLgVyIUF9r5@w3yMyThN02Nf2bwqm5NyTKIyQf@v7Di9KJgFIntGhjfmBe2FeJZ3vJAL7nwpFQtiwyP02L@cub2Xam2sBtWUevrms42sAvZYlg0cLmRp9hPZ9jPGdtabldUlqLV0n3jFH9skWfD8CL/XptbA9vFIaftj0v8fwIYGlnt0yecWmdo4xBe2cxZt0GP3V1W1XPlutJ1kuOBjniFS1/8A" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
<p>Following the <code>regparm(2)</code> calling convention, this takes <i>n</i> in EAX and a 0-index in EDX, and returns a number in EAX.</p>
<p>In assembly:</p>
<pre><code>f:  bsr ecx, eax    # Set ECX to the highest position of a 1 bit in EAX.
    jecxz s         # Jump if ECX is 0.
    btr eax, ecx    # (Otherwise) Remove that highest 1 bit.
s:  add ecx, edx    # Add the index (in EDX) to ECX.
    bts eax, ecx    # Reinsert a 1 bit into EAX at position ECX.
    ret             # Return.
</code></pre>
</div>
<div id="pu11" class="pu"><h1><a href="https://v8.dev/" rel="nofollow noreferrer">JavaScript (V8)</a>, 41 bytes</h1>
<p>Prints the sequence 'indefinitely' (in practice, until the call stack overflows).</p>

<pre class="lang-javascript prettyprint-override"><code>f=(n,k=2)=&gt;k*2&gt;n?print(n)|f(n+k):f(n,k*2)
</code></pre>
<p><a href="https://tio.run/##y0osSyxOLsosKNEts/j/P81WI08n29ZI09YuW8vILs@@oCgzr0QjT7MmTSNPO1vTKg0kr2Wk@T9Nw8JS8z8A" rel="nofollow noreferrer" title="JavaScript (V8) – Try It Online">Try it online!</a></p>
<h3>Commented</h3>
<pre class="lang-javascript prettyprint-override"><code>f = (         // f is a recursive function taking:
  n,          //   n = input
  k = 2       //   k = power of 2 to be added to n
              //       the minimum is 2, because of
              //       the edge case n = 1
) =&gt;          //
k * 2 &gt; n ?   // if k * 2 is greater than n:
  print(n)    //   print n
  | f(n + k)  //   and do a recursive call with n + k
:             // else:
  f(n, k * 2) //   do a recursive call with k doubled
</code></pre>
</div>
<div id="pu12" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="noreferrer">Husk</a>, 8 bytes</h1>
<pre><code>¡(Y3ḋ:.ḋ
</code></pre>
<p><a href="https://tio.run/##yygtzv7//9BCjUjjhzu6rfSAxP///w0B" rel="noreferrer" title="Husk – Try It Online">Try it online!</a></p>
<p>When your language does not have logarithms you need to get creative with base conversion. Here's some fun with half bits!</p>
<p>Takes a positive integer as input and outputs an infinite list of the sequence starting from that number.</p>
<h3>Explanation</h3>
<pre><code>¡(Y3ḋ:.ḋ
¡(        Infinitely repeat the following commands and collect outputs in a list:
       ḋ    Convert to base 2
     :.     Prepend 0.5 as an extra initial digit
    ḋ       Convert back from base 2
  Y3        Take the maximum between the obtained value and 3
</code></pre>
<p>As the challenge states, this sequence can be generated by replacing the leading <code>1</code> in the binary representation of each value with <code>10</code>. If we allow our &quot;binary&quot; number to have digits higher than 1, we could simply add 1 to the first digit (e.g. <span class="math-container">\$5_{10} = 101_2 \rightarrow 201_{"2"} = 1001_{2} = 9_{10}\$</span>). Even better, adding 1 to a digit in base 2 is equivalent to adding 0.5 to the digit preceding it! (<span class="math-container">\$201_{"2"} = [0.5][1][0][1]_{2.0} = 1001_2\$</span>; I think I'm starting to get <em>too</em> creative with notation here).</p>
<p>Taking the maximum between the resulting number and 3 was the shortest way I could find to fix the edge case for 1.</p>
</div>
<div id="pu13" class="pu"><h1><a href="https://www.rust-lang.org" rel="nofollow noreferrer">Rust</a>, 49 bytes</h1>
<p>Input is an integer n as a start value and an integer k for the sequence index. I tried experiencing with <code>next_power_of_two</code>, but the name turned out to be way too long.</p>
<pre class="lang-rust prettyprint-override"><code>|n:u64,k:u32|1&lt;&lt;n.ilog2()+k|n&amp;!(1&lt;&lt;n.ilog2())|n&amp;1
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=TY5BbsIwEEX3PsWESshO02AHhJBDrsCCJbvS1sjCjFGwV7ZP0k0WcChug1NaqZv50p958__3tfcXN9y3CuH0rpEyCMR8OVDQwawk8eQdoPTLRTTWnsO4Mp1Yrz_3h4Iiq7Wxh4ayFrumNBGnxThEIuXs5p16W91F_MGro_TzJmYS_5jX43hP_1tshH_BXUvIh8WLg42E_CEXEpzz7CrbgwaNwOta8FwYAM69RmewoJOXkCQEIfcJaBCJTSrQFSi6ycpYSxJJz4RheOoD" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Explanation and prettier code:</p>
<pre class="lang-rust prettyprint-override"><code>// A captureless closure with two integer arguments
// n is the seed number, k is the sequence index
|n: u64, k: u32|
// The following numbers get bit-or'ed together:
       // A one followed by zeroes whose length is the length of the original number plus the parameter k.
       // ilog2 calculates the floored base-2 logarithm.
       // This means 1 shifted by it is equivalent to setting all digits but the most significant one to zero. 
       // Adding k means shifting the most significant one, which is the only thing k is used for in this sequence. 
       1 &lt;&lt; n.ilog2() + k
       // The number n, with its most significant one bit set to zero (the replacement part). 
   |   n &amp; !(1 &lt;&lt; n.ilog2())
       // A one if the original number's least significant digit contains a one. Only relevant for n=1.
   |   n &amp; 1
</code></pre>
</div>
<div id="pu14" class="pu"><h1>TI-Basic, 20 bytes</h1>
<pre><code>While 1
Disp Ans
max(3,Ans+2^int(log(Ans,2
End
</code></pre>
<p>Takes input in <code>Ans</code>. Outputs infinitely with each number on its own line. If not using OS 2.53 MP or higher, replace <code>log(Ans,2</code> with <code>log(Ans)/log(2</code> for +2 bytes.</p>
</div>
<div id="pu15" class="pu"><h1><a href="http://golfscript.com/nibbles/index.html" rel="nofollow noreferrer">Nibbles</a>, <s>8.5</s> 7.5 bytes (15 nibbles)</h1>
<pre><code>`.$+^2,:&gt;2``@
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m708LzMpKSe1eMGCpaUlaboWaxP0VLTjjHSs7IwSEhwgYlCpJdEWlrFQNgA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre><code>`.$+^2,:&gt;2``@    # full program
`.$+^2,:&gt;2``@$$$ # with implicit arguments shown;
`.               # iterate while unique (in this case, for ever),
  $              # starting with the input:
   +             #   add
               $ #   the previous result to
    ^2           #   2 to the power of
      ,          #     the length of 
          ``@$   #     the binary digits of the previous result
        &gt;2       #     without the first two digits
       :      $  #     and appending the result so far
</code></pre>
</div>
<div id="pu16" class="pu"><h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, 40 bytes</h1>
<pre class="lang-r prettyprint-override"><code>f=\(n){m=log2(print(n))%/%1;f(n+2^m+!m)}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72waMHOlMzE9Py8xJz4pMy8xKLK-OLUwtLUvORU26WlJWm6Fjc10mxjNPI0q3Ntc_LTjTQKijLzSoB8TVV9VUPrNI08baO4XG3FXM1aiPo9uMzTsLDUhChZsABCAwA" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu17" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language/a950ad7d925ec9316e3e2fb2cf5d49fd15d23e3d" rel="nofollow noreferrer">Retina 0.8.2</a>, 84 bytes</h1>
<pre><code>^.+
$*
+`^(1+)\1
$+0
01
1
^(.)(.+)?¶(.+)
$1$3$*0$2$#2$*##
0##
0
1|0#
01
+`10
011
%`1
</code></pre>
<p><a href="https://tio.run/##HYw9DsIwFIN3XyMvUtJU1XOK@Jk4ARMrqh4DAwsDYuy5coBeLCQd/NmD7e/r9/48qw8mGHUrYiN35p3zzgN8uNtYlylBBiRbAlN8EJIUShBLmGKYUrxupRuEMsugksVlGZyDdoGruj5Ixj4kvLES8WbtC1tpOWPGESewBeJ8AVuNqvoH" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Takes <code>n</code> and <code>k</code> as input and outputs the <code>k</code>th (0-indexed) term of the sequence but link is to test suite for multiple values of <code>n</code> that sets <code>k=0..4</code> (because larger values would be too slow).</p>
<p>91 bytes to output the first <code>k</code> terms:</p>
<pre><code>^.+
$*
+`^(1+)\1
$+0
01
1
^(.)(.*)¶(.+)
$1$3$*_$2
_
$'¶1
O`
1A`
_\b
1
_
0
1
01
+`10
011
%`1
</code></pre>
<p><a href="https://tio.run/##FY27DQIxEETzqWNP@CNZO3fiF1IAooGTvSARkBAganMB15hZkqcJZt58nt/X@z6mYIKt70ctGZKQrQbmuBKSFUoQNZQYSopbDyVHCGWR1GRGg@y2TtwMvBja@vB2gzp9mI1/ATEZh/Nq7vQrzzMWHHAEPRCnM@g1quoP" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Takes <code>n</code> and <code>k</code> as input and outputs the first <code>k</code> terms of the sequence but link is to test suite for multiple values of <code>n</code> that sets <code>k=5</code> (because larger values would be too slow). Explanation:</p>
<pre><code>^.+
$*
</code></pre>
<p>Convert <code>n</code> to unary.</p>
<pre><code>+`^(1+)\1
$+0
01
1
</code></pre>
<p>Convert <code>n</code> to binary.</p>
<pre><code>^(.)(.*)¶(.+)
$1$3$*_$2
</code></pre>
<p>Convert <code>k</code> to unary as <code>_</code>s and insert it after the first digit of <code>n</code>.</p>
<pre><code>_
$'¶1
O`
1A`
</code></pre>
<p>Generate all of the first <code>k</code> terms.</p>
<pre><code>_\b
1
</code></pre>
<p>Fix the <code>n=1</code> error.</p>
<pre><code>_
0
</code></pre>
<p>Change the remaining <code>_</code>s to <code>0</code>s.</p>
<pre><code>1
01
+`10
011
</code></pre>
<p>Convert to unary.</p>
<pre><code>%`1
</code></pre>
<p>Convert to decimal.</p>
<p>54 bytes with the original intent that the leading <code>1</code> participates in the diagonal:</p>
<pre><code>.+¶
$*_
\d+
$*
+`(1+)\1
$+0
01
1
^.|1
01
+`1[0_]
011
1
</code></pre>
<p><a href="https://tio.run/##HYoxDsIwEAT7fYcjHM6KbhNE4BFUlITESFDQUCDKvMsP8MfMxc3saDXf1@/9eZTGxxka3C4nVvaVQ@UhoPHXGEonOcHtF0xPsYVET2knwolCCWLuVm4mkTdd7qb2FqK9RKuQk3mPAUeMoAlxOoNbpKp/" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Takes <code>k</code> and <code>n</code> as input and outputs the <code>k</code>th (0-indexed) term of the sequence but link is to test suite for multiple values of <code>n</code> that sets <code>k=0..4</code> (because larger values would be even slower).</p>
<p>70 bytes to output the first <code>k</code> terms:</p>
<pre><code>.+¶
$*_
\d+
$*
+`(1+)\1
$+0
01
1
M!&amp;`_.+
O`
%`^_.|1
01
+`1[0_]
011
%`1
</code></pre>
<p><a href="https://tio.run/##FYxBCoNQEEP3uYWgRR34TFps9RDSA1T9U6gLNy6ky57LA3ix73SThEeSbf4u6zsVpU1ojj0FOXbkdcTwEXeIlZRqIHJRKEH02cViEDwNhU0x/PjnYnxpHD3SMZNrb76CfxJX3HDHA/RAtB3oNarqCQ" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Takes <code>k</code> and <code>n</code> as input and outputs the first <code>k</code> terms of the sequence but link is to test suite for multiple values of <code>n</code> that sets <code>k=5</code> (because larger values would be even slower). Explanation:</p>
<pre><code>.+¶
$*_
</code></pre>
<p>Convert <code>k</code> to unary as <code>_</code>s.</p>
<pre><code>\d+
$*
</code></pre>
<p>Convert <code>n</code> to unary.</p>
<pre><code>+`(1+)\1
$+0
01
1
</code></pre>
<p>Convert <code>n</code> to binary.</p>
<pre><code>M!&amp;`_.+
O`
</code></pre>
<p>Generate the first <code>k</code> terms.</p>
<pre><code>%`^_.|1
01
+`1[0_]
011
</code></pre>
<p>Convert to unary, but the leading <code>_</code> makes the next digit <code>1</code> while any remaining <code>_</code>s are interpreted as <code>0</code>s.</p>
<pre><code>%`1
</code></pre>
<p>Convert to decimal.</p>
</div>
<div id="pu18" class="pu"><h1>Excel, <s>41</s> 53 bytes</h1>
<pre><code>=DECIMAL(10^B1&amp;TEXTAFTER(BASE(A1,2),1),2)+IF(B1,A1=1)
</code></pre>
<p>Inputs <em>n</em> and <em>k</em> in cells <code>A1</code> and <code>B1</code> respectively, where <em>k</em> represents the <em>k</em>th 0-indexed value of the sequence.</p>
</div>
<div id="pu19" class="pu"><h1><a href="https://www.haskell.org" rel="noreferrer">Haskell</a>, 35 bytes</h1>
<pre class="lang-haskell prettyprint-override"><code>(%2)
n%k|k*2&gt;n=n:(n+k)%k|l&lt;-k*2=n%l
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m708I7E4OzUnZ0W0km5yQYFS7NI0BVuFmKWlJWm6FjeVNVSNNLnyVLNrsrWM7PJs86w08rSzNYH8HBtdoJBtnmoOVKlHbmJmHlBrbmKBr4JGQVFmXomCnkJJYnaqgqEBkJWmqRBtqKNgpKNgrKNgpqNgrqNgCOIAxSwsgWxDIMPQwMAgFmLeggUQGgA" rel="noreferrer">Attempt This Online!</a></p>
<p>Port of <a href="https://codegolf.stackexchange.com/a/265875/56433">Arnauld's JavaScript answer</a>.</p>
</div>
<div id="pu20" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="noreferrer">05AB1E</a>, 9 bytes</h1>
<pre><code>λbg&lt;1Mo₁+
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f//3O6kdBtD3/xHTY3a//8bAQA" rel="noreferrer" title="05AB1E – Try It Online">Try it online!</a> or <a href="https://tio.run/##yy9OTMpM/V9Waa@koGunoGRf@f/c7qR0G0Pf/EdNjdr/a0MOLVbSUVA6vNceSOnp6Snp/I821FEw0lEw1lEw01Ew11EwBHGAYhaWQLYhkGFoYGAQCwA" rel="noreferrer" title="05AB1E – Try It Online">try all testcases.</a></p>
<h2>Explanation</h2>
<pre><code>λ         # recursively start with f(0) = n
 bg&lt;       # push floor(log2(f(i-1)))
 1M        # max(1, floor(log2(f(i-1))))
 o         # 2**max(1, floor(log2(f(i-1))))
 ₁+        # f(i) = f(i-1) + 2**max(1, floor(log2(f(i-1))))
</code></pre>
</div>
<div id="pu21" class="pu"><h1><a href="https://www.python.org" rel="noreferrer">Python</a>, 39 bytes</h1>
<pre class="lang-python prettyprint-override"><code>lambda n,k:n^-2&amp;(1^1&lt;&lt;k)&lt;&lt;len(bin(n))-3
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72soLIkIz9vweI025ilpSVpuhY31XMSc5NSEhXydLKt8uJ0jdQ0DOMMbWyyNW1sclLzNJIy8zTyNDV1jSHKbzFGFxRl5pVoRKdpGOpkaqblFylkKmTmKRQl5qWnahgaaMZqcsFVGBFUYUxQhRlBFeYEVRgS4RDCvrGwJGyRIWFjDA0MDHAogoTxggUQGgA" rel="noreferrer">Attempt This Online!</a></p>
<h2>Explanation</h2>
<pre class="lang-python prettyprint-override"><code>lambda n,k:n^-2&amp;(1^1&lt;&lt;k)&lt;&lt;len(bin(n))-3
           n^                             # change bits
             -2&amp;                          # keep lowest bit
                (1^1&lt;&lt;k)                  # 1 0000 1  (k-1 zeros)
                        &lt;&lt;len(bin(n))-3   # shifted to highest bit
</code></pre>
<hr />
<h1><a href="https://www.python.org" rel="noreferrer">Python</a>, 49 bytes</h1>
<p><em>simple string based solution, the n&amp;1 is needed to satisfy the test-case for input 1</em></p>
<pre class="lang-python prettyprint-override"><code>lambda n,k:n&amp;1|int((s:=bin(n))[:3]+k*&quot;0&quot;+s[3:],2)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72soLIkIz9vweI025ilpSVpuhY3DXMSc5NSEhXydLKt8tQMazLzSjQ0iq1skzLzNPI0NaOtjGO1s7WUDJS0i6ONrWJ1jDShGs8UFIHURqdpGOpkaqblFylkKmTmKRQl5qWnahgaaMZqcsFVGBFUYUxQhRlBFeYEVRjicgjETwsWQGgA" rel="noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu22" class="pu"><h1><a href="https://docs.python.org/2/" rel="noreferrer">Python 2</a>, 41 bytes</h1>
<p>A function that takes <span class="math-container">\$ n \$</span> as input, and outputs the sequence indefinitely.</p>

<pre class="lang-python prettyprint-override"><code>def f(n):print n;f(n^3&lt;&lt;len(bin(n))-3&amp;-2)
</code></pre>
<p><a href="https://tio.run/##K6gsycjPM/r/PyU1TSFNI0/TqqAoM69EIc8ayIkztrHJSc3TSMrMA8po6hqr6Rpp/k/TsLDU/A8A" rel="noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/265869/">265869</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




