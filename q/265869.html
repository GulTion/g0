<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::265869</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>008</td><td>Husk</td><td>231010T011119Z</td><td><a href="https://codegolf.stackexchange.com/questions/265869/diagonal-binary-sequence/265891#265891">Leo</a></td></tr>
<tr d-ix="1"><td>025</td><td>K ngn/k</td><td>231010T004240Z</td><td><a href="https://codegolf.stackexchange.com/questions/265869/diagonal-binary-sequence/265890#265890">doug</a></td></tr>
<tr d-ix="2"><td>017</td><td>Charcoal</td><td>231009T111131Z</td><td><a href="https://codegolf.stackexchange.com/questions/265869/diagonal-binary-sequence/265881#265881">Neil</a></td></tr>
<tr d-ix="3"><td>049</td><td>Rust</td><td>231009T220738Z</td><td><a href="https://codegolf.stackexchange.com/questions/265869/diagonal-binary-sequence/265888#265888">leo848</a></td></tr>
<tr d-ix="4"><td>020</td><td>TIBasic</td><td>231009T211049Z</td><td><a href="https://codegolf.stackexchange.com/questions/265869/diagonal-binary-sequence/265887#265887">Youserna</a></td></tr>
<tr d-ix="5"><td>032</td><td>Uiua</td><td>231009T184030Z</td><td><a href="https://codegolf.stackexchange.com/questions/265869/diagonal-binary-sequence/265886#265886">chunes</a></td></tr>
<tr d-ix="6"><td>7515</td><td>Nibbles</td><td>231009T122907Z</td><td><a href="https://codegolf.stackexchange.com/questions/265869/diagonal-binary-sequence/265882#265882">Dominic </a></td></tr>
<tr d-ix="7"><td>040</td><td>R</td><td>231009T135517Z</td><td><a href="https://codegolf.stackexchange.com/questions/265869/diagonal-binary-sequence/265883#265883">Dominic </a></td></tr>
<tr d-ix="8"><td>041</td><td>JavaScript V8</td><td>231009T082338Z</td><td><a href="https://codegolf.stackexchange.com/questions/265869/diagonal-binary-sequence/265875#265875">Arnauld</a></td></tr>
<tr d-ix="9"><td>084</td><td>Retina 0.8.2</td><td>231009T091416Z</td><td><a href="https://codegolf.stackexchange.com/questions/265869/diagonal-binary-sequence/265879#265879">Neil</a></td></tr>
<tr d-ix="10"><td>053</td><td>Excel</td><td>231009T075811Z</td><td><a href="https://codegolf.stackexchange.com/questions/265869/diagonal-binary-sequence/265874#265874">Jos Wool</a></td></tr>
<tr d-ix="11"><td>035</td><td>Haskell</td><td>231009T085121Z</td><td><a href="https://codegolf.stackexchange.com/questions/265869/diagonal-binary-sequence/265877#265877">Laikoni</a></td></tr>
<tr d-ix="12"><td>009</td><td>05AB1E</td><td>231009T082646Z</td><td><a href="https://codegolf.stackexchange.com/questions/265869/diagonal-binary-sequence/265876#265876">Command </a></td></tr>
<tr d-ix="13"><td>039</td><td>Python</td><td>231009T072557Z</td><td><a href="https://codegolf.stackexchange.com/questions/265869/diagonal-binary-sequence/265871#265871">bsoelch</a></td></tr>
<tr d-ix="14"><td>041</td><td>Python 2</td><td>231009T074612Z</td><td><a href="https://codegolf.stackexchange.com/questions/265869/diagonal-binary-sequence/265872#265872">dingledo</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a>, 8 bytes</h1>
<pre><code>¡(Y3ḋ:.ḋ
</code></pre>
<p><a href="https://tio.run/##yygtzv7//9BCjUjjhzu6rfSAxP///w0B" rel="nofollow noreferrer" title="Husk – Try It Online">Try it online!</a></p>
<p>When your language does not have logarithms you need to get creative with base conversion. Here's some fun with half bits!</p>
<p>Takes a positive integer as input and outputs an infinite list of the sequence starting from that number.</p>
<h3>Explanation</h3>
<pre><code>¡(Y3ḋ:.ḋ
¡(        Infinitely repeat the following commands and collect outputs in a list:
       ḋ    Convert to base 2
     :.     Prepend 0.5 as an extra initial digit
    ḋ       Convert back from base 2
  Y3        Take the maximum between the obtained value and 3
</code></pre>
<p>As the challenge states, this sequence can be generated by replacing the leading <code>1</code> in the binary representation of each value with <code>10</code>. If we allow our &quot;binary&quot; number to have digits higher than 1, we could simply add 1 to the first digit (e.g. <span class="math-container">\$5_{10} = 101_2 \rightarrow 201_{"2"} = 1001_{2} = 9_{10}\$</span>). Even better, adding 1 to a digit in base 2 is equivalent to adding 0.5 to the digit preceding it! (<span class="math-container">\$201_{"2"} = [0.5][1][0][1]_{2.0} = 1001_2\$</span>; I think I'm starting to get <em>too</em> creative with notation here).</p>
<p>Taking the maximum between the resulting number and 3 was the shortest way I could find to fix the edge case for 1.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://codeberg.org/ngn/k" rel="nofollow noreferrer">K (ngn/k)</a>, 25 bytes</h1>
<pre><code>{x{2/?[;!2;1,x=1]@2\x}\y}
</code></pre>
<p><a href="https://ngn.codeberg.page/k#eJx9kTFPw0AMhff7FaVIJFFNerbvfJdECAaW7NkIKiywM6Ai1P523vU6kyUn63v2e/bH+Hv8lf3jy3QjE9PxgV+fZD2e1p+Tc3vHm/K9MClFGogTqZJFYhlIYqLISn3fvzqpoFCgTGykQhaAZWAGTIi9hMpqZf9pCTZW1iprKBFn0kCGt3qgGWgoqJH46CufKp+ImXggjWR4K4MfwMfCp8Jz5VlqQEGN1MjgHt7FPOgytSTwEbnYX0coV/tMIVFCgqAkiSmiMXtFCm8KHg6y+FRFebiIMvAIPAPXgoeCp4JLwbENtuBhXNJwXS0aXSyWRCmSeiwOYdhjpvghQgsHWTAZWthStL+uD6Z90eKHwSVlRMgQM85kGTXLSXCAciSzciHsKiK8mBj2cGmyOjePfJif7s7t/EjNdr+u265pb27n0Y9v71+f3xvuXDtPz9PSjTu/sU067McZsr6Z3TK2fXPPhy1t165Z3HL+6Jtde8+722aZ5s79AWQegN4=" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, <s>20</s> 17 bytes</h1>
<pre><code>ＮθＩ⁺θ×Ｘ²Ｌ↨⊘θ²⊖Ｘ²…Ｎ
</code></pre>
<p><a href="https://tio.run/##S85ILErOT8z5/98zr6C0xK80Nym1SKNQ05oroCgzr0TDObG4RCMgp7RYo1BHISQzN7VYIyC/HKjESEfBJzUvvSRDwymxOFXDIzGnLDUFqFFHwUhTE0i6pCYXpeam5pUAReE6ghLz0lM1kG3ShALr//8tLLkMDf7rluUAAA" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Takes <code>n</code> and <code>k</code> as input and outputs the 0-indexed <code>k</code>th element but link is to version that outputs the first <code>k</code> elements at a cost of 1 byte. Explanation: Port of @Arnauld's JavaScript answer with some inspiration from @DominicvanEssen's Nibbles answer.</p>
<pre><code>Ｎθ                  Input `n` as a number
       ²            Literal integer `2`
      Ｘ             Raised to power
           θ        Input `n`
          ⊘         Halved
         ↨          Converted to base
             ²      Literal integer `2`
        Ｌ           Take the length
     ×              Multiplied by
               ²    Literal integer `2`
              Ｘ     Raised to power
                Ｎ   Input `k` as a number
             ⊖      Decremented
   ⁺                Plus
    θ               Input `n`
  Ｉ                 Cast to string
                    Implicitly print
</code></pre>
<p>14 bytes with the original intent that the leading <code>1</code> participates in the diagonal:</p>
<pre><code>ＮθＩ｜θＸ²⁺⊖Ｌ↨θ²Ｎ
</code></pre>
<p><a href="https://tio.run/##S85ILErOT8z5/98zr6C0xK80Nym1SKNQ05oroCgzr0TDObG4RMMps6Q8szjVHyihoxCQXw5UYQRk5JQWa7ikJhel5qbmlaSmaPik5qWXZGg4JRanghQaaWpq6igEJealp2ogG64JAdb//1tYchka/NctywEA" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Takes <code>n</code> and <code>k</code> as input and outputs the 0-indexed <code>k</code>th element but link is to version that outputs the first <code>k</code> elements at a cost of 1 byte. Explanation:</p>
<pre><code>Ｎθ              Input `n` as a number
      ²         Literal integer `2`
     Ｘ          Raised to power
           θ    Input `n`
          ↨     Converted to base
            ²   Literal integer `2`
         Ｌ      Take the length
        ⊖       Decremented
       ⁺        Plus
             Ｎ  Input `k`
   ｜            Bitwise Or
    θ           Input `n`
  Ｉ             Cast to string
                Implicitly print
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://www.rust-lang.org" rel="nofollow noreferrer">Rust</a>, 49 bytes</h1>
<p>Input is an integer n as a start value and an integer k for the sequence index. I tried experiencing with <code>next_power_of_two</code>, but the name turned out to be way too long.</p>
<pre class="lang-rust prettyprint-override"><code>|n:u64,k:u32|1&lt;&lt;n.ilog2()+k|n&amp;!(1&lt;&lt;n.ilog2())|n&amp;1
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=TY5BbsIwEEX3PsWESshO02AHhJBDrsCCJbvS1sjCjFGwV7ZP0k0WcChug1NaqZv50p958__3tfcXN9y3CuH0rpEyCMR8OVDQwawk8eQdoPTLRTTWnsO4Mp1Yrz_3h4Iiq7Wxh4ayFrumNBGnxThEIuXs5p16W91F_MGro_TzJmYS_5jX43hP_1tshH_BXUvIh8WLg42E_CEXEpzz7CrbgwaNwOta8FwYAM69RmewoJOXkCQEIfcJaBCJTSrQFSi6ycpYSxJJz4RheOoD" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Explanation and prettier code:</p>
<pre class="lang-rust prettyprint-override"><code>// A captureless closure with two integer arguments
// n is the seed number, k is the sequence index
|n: u64, k: u32|
// The following numbers get bit-or'ed together:
       // A one followed by zeroes whose length is the length of the original number plus the parameter k.
       // ilog2 calculates the floored base-2 logarithm.
       // This means 1 shifted by it is equivalent to setting all digits but the most significant one to zero. 
       // Adding k means shifting the most significant one, which is the only thing k is used for in this sequence. 
       1 &lt;&lt; n.ilog2() + k
       // The number n, with its most significant one bit set to zero (the replacement part). 
   |   n &amp; !(1 &lt;&lt; n.ilog2())
       // A one if the original number's least significant digit contains a one. Only relevant for n=1.
   |   n &amp; 1
</code></pre>
</div>
<div id="pu4" class="pu"><h1>TI-Basic, 20 bytes</h1>
<pre><code>While 1
Disp Ans
max(3,Ans+2^int(log(Ans,2
End
</code></pre>
<p>Takes input in <code>Ans</code>. Outputs infinitely with each number on its own line. If not using OS 2.53 MP or higher, replace <code>log(Ans,2</code> with <code>log(Ans)/log(2</code> for +2 bytes.</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://uiua.org" rel="nofollow noreferrer">Uiua</a>, 32 bytes</h1>
<pre><code>⍥(+ⁿ∶2↥1-1⧻⋯&amp;p..)∞
</code></pre>
<p><a href="https://uiua.org/pad?src=RiDihpAg4o2lKCvigb_iiLYy4oalMS0x4qe74ouvJnAuLiniiJ4KCkYgMQ==" rel="nofollow noreferrer">Try it!</a></p>
<pre><code>⍥(              )∞  # repeat infinitely
              ..    # duplicate input twice
            &amp;p      # print
           ⋯        # convert to bits
          ⧻         # length
        -1          # subtract 1
      ↥1            # max between this and 1 (need this for input of 1)
   ⁿ∶2              # 2 raised to the result
  +                 # add to original input
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="http://golfscript.com/nibbles/index.html" rel="nofollow noreferrer">Nibbles</a>, <s>8.5</s> 7.5 bytes (15 nibbles)</h1>
<pre><code>`.$+^2,:&gt;2``@
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m708LzMpKSe1eMGCpaUlaboWaxP0VLTjjHSs7IwSEhwgYlCpJdEWlrFQNgA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre><code>`.$+^2,:&gt;2``@    # full program
`.$+^2,:&gt;2``@$$$ # with implicit arguments shown;
`.               # iterate while unique (in this case, for ever),
  $              # starting with the input:
   +             #   add
               $ #   the previous result to
    ^2           #   2 to the power of
      ,          #     the length of 
          ``@$   #     the binary digits of the previous result
        &gt;2       #     without the first two digits
       :      $  #     and appending the result so far
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, 40 bytes</h1>
<pre class="lang-r prettyprint-override"><code>f=\(n){m=log2(print(n))%/%1;f(n+2^m+!m)}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72waMHOlMzE9Py8xJz4pMy8xKLK-OLUwtLUvORU26WlJWm6Fjc10mxjNPI0q3Ntc_LTjTQKijLzSoB8TVV9VUPrNI08baO4XG3FXM1aiPo9uMzTsLDUhChZsABCAwA" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu8" class="pu"><h1><a href="https://v8.dev/" rel="nofollow noreferrer">JavaScript (V8)</a>, 41 bytes</h1>
<p>Prints the sequence 'indefinitely' (in practice, until the call stack overflows).</p>

<pre class="lang-javascript prettyprint-override"><code>f=(n,k=2)=&gt;k*2&gt;n?print(n)|f(n+k):f(n,k*2)
</code></pre>
<p><a href="https://tio.run/##y0osSyxOLsosKNEts/j/P81WI08n29ZI09YuW8vILs@@oCgzr0QjT7MmTSNPO1vTKg0kr2Wk@T9Nw8JS8z8A" rel="nofollow noreferrer" title="JavaScript (V8) – Try It Online">Try it online!</a></p>
<h3>Commented</h3>
<pre class="lang-javascript prettyprint-override"><code>f = (         // f is a recursive function taking:
  n,          //   n = input
  k = 2       //   k = value to be added to n
              //       the minimum is 2, because of
              //       the edge case n = 1
) =&gt;          //
k * 2 &gt; n ?   // if k * 2 is greater than n:
  print(n)    //   print n
  | f(n + k)  //   and do a recursive call with n + k
:             // else:
  f(n, k * 2) //   do a recursive call with k doubled
</code></pre>
</div>
<div id="pu9" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language/a950ad7d925ec9316e3e2fb2cf5d49fd15d23e3d" rel="nofollow noreferrer">Retina 0.8.2</a>, 84 bytes</h1>
<pre><code>^.+
$*
+`^(1+)\1
$+0
01
1
^(.)(.+)?¶(.+)
$1$3$*0$2$#2$*##
0##
0
1|0#
01
+`10
011
%`1
</code></pre>
<p><a href="https://tio.run/##HYw9DsIwFIN3XyMvUtJU1XOK@Jk4ARMrqh4DAwsDYuy5coBeLCQd/NmD7e/r9/48qw8mGHUrYiN35p3zzgN8uNtYlylBBiRbAlN8EJIUShBLmGKYUrxupRuEMsugksVlGZyDdoGruj5Ixj4kvLES8WbtC1tpOWPGESewBeJ8AVuNqvoH" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Takes <code>n</code> and <code>k</code> as input and outputs the <code>k</code>th (0-indexed) term of the sequence but link is to test suite for multiple values of <code>n</code> that sets <code>k=0..4</code> (because larger values would be too slow).</p>
<p>91 bytes to output the first <code>k</code> terms:</p>
<pre><code>^.+
$*
+`^(1+)\1
$+0
01
1
^(.)(.*)¶(.+)
$1$3$*_$2
_
$'¶1
O`
1A`
_\b
1
_
0
1
01
+`10
011
%`1
</code></pre>
<p><a href="https://tio.run/##FY27DQIxEETzqWNP@CNZO3fiF1IAooGTvSARkBAganMB15hZkqcJZt58nt/X@z6mYIKt70ctGZKQrQbmuBKSFUoQNZQYSopbDyVHCGWR1GRGg@y2TtwMvBja@vB2gzp9mI1/ATEZh/Nq7vQrzzMWHHAEPRCnM@g1quoP" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Takes <code>n</code> and <code>k</code> as input and outputs the first <code>k</code> terms of the sequence but link is to test suite for multiple values of <code>n</code> that sets <code>k=5</code> (because larger values would be too slow). Explanation:</p>
<pre><code>^.+
$*
</code></pre>
<p>Convert <code>n</code> to unary.</p>
<pre><code>+`^(1+)\1
$+0
01
1
</code></pre>
<p>Convert <code>n</code> to binary.</p>
<pre><code>^(.)(.*)¶(.+)
$1$3$*_$2
</code></pre>
<p>Convert <code>k</code> to unary as <code>_</code>s and insert it after the first digit of <code>n</code>.</p>
<pre><code>_
$'¶1
O`
1A`
</code></pre>
<p>Generate all of the first <code>k</code> terms.</p>
<pre><code>_\b
1
</code></pre>
<p>Fix the <code>n=1</code> error.</p>
<pre><code>_
0
</code></pre>
<p>Change the remaining <code>_</code>s to <code>0</code>s.</p>
<pre><code>1
01
+`10
011
</code></pre>
<p>Convert to unary.</p>
<pre><code>%`1
</code></pre>
<p>Convert to decimal.</p>
<p>54 bytes with the original intent that the leading <code>1</code> participates in the diagonal:</p>
<pre><code>.+¶
$*_
\d+
$*
+`(1+)\1
$+0
01
1
^.|1
01
+`1[0_]
011
1
</code></pre>
<p><a href="https://tio.run/##HYoxDsIwEAT7fYcjHM6KbhNE4BFUlITESFDQUCDKvMsP8MfMxc3saDXf1@/9eZTGxxka3C4nVvaVQ@UhoPHXGEonOcHtF0xPsYVET2knwolCCWLuVm4mkTdd7qb2FqK9RKuQk3mPAUeMoAlxOoNbpKp/" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Takes <code>k</code> and <code>n</code> as input and outputs the <code>k</code>th (0-indexed) term of the sequence but link is to test suite for multiple values of <code>n</code> that sets <code>k=0..4</code> (because larger values would be even slower).</p>
<p>70 bytes to output the first <code>k</code> terms:</p>
<pre><code>.+¶
$*_
\d+
$*
+`(1+)\1
$+0
01
1
M!&amp;`_.+
O`
%`^_.|1
01
+`1[0_]
011
%`1
</code></pre>
<p><a href="https://tio.run/##FYxBCoNQEEP3uYWgRR34TFps9RDSA1T9U6gLNy6ky57LA3ix73SThEeSbf4u6zsVpU1ojj0FOXbkdcTwEXeIlZRqIHJRKEH02cViEDwNhU0x/PjnYnxpHD3SMZNrb76CfxJX3HDHA/RAtB3oNarqCQ" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Takes <code>k</code> and <code>n</code> as input and outputs the first <code>k</code> terms of the sequence but link is to test suite for multiple values of <code>n</code> that sets <code>k=5</code> (because larger values would be even slower). Explanation:</p>
<pre><code>.+¶
$*_
</code></pre>
<p>Convert <code>k</code> to unary as <code>_</code>s.</p>
<pre><code>\d+
$*
</code></pre>
<p>Convert <code>n</code> to unary.</p>
<pre><code>+`(1+)\1
$+0
01
1
</code></pre>
<p>Convert <code>n</code> to binary.</p>
<pre><code>M!&amp;`_.+
O`
</code></pre>
<p>Generate the first <code>k</code> terms.</p>
<pre><code>%`^_.|1
01
+`1[0_]
011
</code></pre>
<p>Convert to unary, but the leading <code>_</code> makes the next digit <code>1</code> while any remaining <code>_</code>s are interpreted as <code>0</code>s.</p>
<pre><code>%`1
</code></pre>
<p>Convert to decimal.</p>
</div>
<div id="pu10" class="pu"><h1>Excel, <s>41</s> 53 bytes</h1>
<pre><code>=DECIMAL(10^B1&amp;TEXTAFTER(BASE(A1,2),1),2)+IF(B1,A1=1)
</code></pre>
<p>Inputs <em>n</em> and <em>k</em> in cells <code>A1</code> and <code>B1</code> respectively, where <em>k</em> represents the <em>k</em>th 0-indexed value of the sequence.</p>
</div>
<div id="pu11" class="pu"><h1><a href="https://www.haskell.org" rel="noreferrer">Haskell</a>, 35 bytes</h1>
<pre class="lang-haskell prettyprint-override"><code>(%2)
n%k|k*2&gt;n=n:(n+k)%k|l&lt;-k*2=n%l
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m708I7E4OzUnZ0W0km5yQYFS7NI0BVuFmKWlJWm6FjeVNVSNNLnyVLNrsrWM7PJs86w08rSzNYH8HBtdoJBtnmoOVKlHbmJmHlBrbmKBr4JGQVFmXomCnkJJYnaqgqEBkJWmqRBtqKNgpKNgrKNgpqNgrqNgCOIAxSwsgWxDIMPQwMAgFmLeggUQGgA" rel="noreferrer">Attempt This Online!</a></p>
<p>Port of <a href="https://codegolf.stackexchange.com/a/265875/56433">Arnauld's JavaScript answer</a>.</p>
</div>
<div id="pu12" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, 9 bytes</h1>
<pre><code>λbg&lt;1Mo₁+
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f//3O6kdBtD3/xHTY3a//8bAQA" rel="nofollow noreferrer" title="05AB1E – Try It Online">Try it online!</a> or <a href="https://tio.run/##yy9OTMpM/V9Waa@koGunoGRf@f/c7qR0G0Pf/EdNjdr/a0MOLVbSUVA6vNceSOnp6Snp/I821FEw0lEw1lEw01Ew11EwBHGAYhaWQLYhkGFoYGAQCwA" rel="nofollow noreferrer" title="05AB1E – Try It Online">try all testcases.</a></p>
<h2>Explanation</h2>
<pre><code>λ         # recursively start with f(0) = n
 bg&lt;       # push floor(log2(f(i-1)))
 1M        # max(1, floor(log2(f(i-1))))
 o         # 2**max(1, floor(log2(f(i-1))))
 ₁+        # f(i) = f(i-1) + 2**max(1, floor(log2(f(i-1))))
</code></pre>
</div>
<div id="pu13" class="pu"><h1><a href="https://www.python.org" rel="noreferrer">Python</a>, 39 bytes</h1>
<pre class="lang-python prettyprint-override"><code>lambda n,k:n^-2&amp;(1^1&lt;&lt;k)&lt;&lt;len(bin(n))-3
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72soLIkIz9vweI025ilpSVpuhY31XMSc5NSEhXydLKt8uJ0jdQ0DOMMbWyyNW1sclLzNJIy8zTyNDV1jSHKbzFGFxRl5pVoRKdpGOpkaqblFylkKmTmKRQl5qWnahgaaMZqcsFVGBFUYUxQhRlBFeYEVRgS4RDCvrGwJGyRIWFjDA0MDHAogoTxggUQGgA" rel="noreferrer">Attempt This Online!</a></p>
<h2>Explanation</h2>
<pre class="lang-python prettyprint-override"><code>lambda n,k:n^-2&amp;(1^1&lt;&lt;k)&lt;&lt;len(bin(n))-3
           n^                             # change bits
             -2&amp;                          # keep lowest bit
                (1^1&lt;&lt;k)                  # 1 0000 1  (k-1 zeros)
                        &lt;&lt;len(bin(n))-3   # shifted to highest bit
</code></pre>
<hr />
<h1><a href="https://www.python.org" rel="noreferrer">Python</a>, 49 bytes</h1>
<p><em>simple string based solution, the n&amp;1 is needed to satisfy the test-case for input 1</em></p>
<pre class="lang-python prettyprint-override"><code>lambda n,k:n&amp;1|int((s:=bin(n))[:3]+k*&quot;0&quot;+s[3:],2)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72soLIkIz9vweI025ilpSVpuhY3DXMSc5NSEhXydLKt8tQMazLzSjQ0iq1skzLzNPI0NaOtjGO1s7WUDJS0i6ONrWJ1jDShGs8UFIHURqdpGOpkaqblFylkKmTmKRQl5qWnahgaaMZqcsFVGBFUYUxQhRlBFeYEVRjicgjETwsWQGgA" rel="noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu14" class="pu"><h1><a href="https://docs.python.org/2/" rel="noreferrer">Python 2</a>, 41 bytes</h1>
<p>A function that takes <span class="math-container">\$ n \$</span> as input, and outputs the sequence indefinitely.</p>

<pre class="lang-python prettyprint-override"><code>def f(n):print n;f(n^3&lt;&lt;len(bin(n))-3&amp;-2)
</code></pre>
<p><a href="https://tio.run/##K6gsycjPM/r/PyU1TSFNI0/TqqAoM69EIc8ayIkztrHJSc3TSMrMA8po6hqr6Rpp/k/TsLDU/A8A" rel="noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/265869/">265869</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




