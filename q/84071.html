<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::84071</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>007</td><td>Thunno 2 s</td><td>230819T200400Z</td><td><a href="https://codegolf.stackexchange.com/questions/84071/calculate-the-sum-of-ild/264386#264386">The Thon</a></td></tr>
<tr d-ix="1"><td>015</td><td>Add++</td><td>180310T204922Z</td><td><a href="https://codegolf.stackexchange.com/questions/84071/calculate-the-sum-of-ild/157807#157807">caird co</a></td></tr>
<tr d-ix="2"><td>078</td><td>Java 8</td><td>160630T084748Z</td><td><a href="https://codegolf.stackexchange.com/questions/84071/calculate-the-sum-of-ild/84076#84076">Kevin Cr</a></td></tr>
<tr d-ix="3"><td>007</td><td>Pyt</td><td>180218T051529Z</td><td><a href="https://codegolf.stackexchange.com/questions/84071/calculate-the-sum-of-ild/156042#156042">RaviRavi</a></td></tr>
<tr d-ix="4"><td>061</td><td>AWK</td><td>180216T164609Z</td><td><a href="https://codegolf.stackexchange.com/questions/84071/calculate-the-sum-of-ild/155933#155933">Robert B</a></td></tr>
<tr d-ix="5"><td>nan</td><td>Perl 5</td><td>180216T165522Z</td><td><a href="https://codegolf.stackexchange.com/questions/84071/calculate-the-sum-of-ild/155935#155935">Xcali</a></td></tr>
<tr d-ix="6"><td>030</td><td>RProgN</td><td>161011T031212Z</td><td><a href="https://codegolf.stackexchange.com/questions/84071/calculate-the-sum-of-ild/95875#95875">ATaco</a></td></tr>
<tr d-ix="7"><td>108</td><td>R</td><td>161011T091745Z</td><td><a href="https://codegolf.stackexchange.com/questions/84071/calculate-the-sum-of-ild/95890#95890">Billywob</a></td></tr>
<tr d-ix="8"><td>036</td><td>Bash + coreutils</td><td>160920T100333Z</td><td><a href="https://codegolf.stackexchange.com/questions/84071/calculate-the-sum-of-ild/93875#93875">seshouma</a></td></tr>
<tr d-ix="9"><td>056</td><td>dc</td><td>160920T183256Z</td><td><a href="https://codegolf.stackexchange.com/questions/84071/calculate-the-sum-of-ild/93918#93918">brhfl</a></td></tr>
<tr d-ix="10"><td>077</td><td>C#</td><td>160920T121235Z</td><td><a href="https://codegolf.stackexchange.com/questions/84071/calculate-the-sum-of-ild/93881#93881">Quintonn</a></td></tr>
<tr d-ix="11"><td>027</td><td>Perl</td><td>160714T114438Z</td><td><a href="https://codegolf.stackexchange.com/questions/84071/calculate-the-sum-of-ild/85404#85404">Dom Hast</a></td></tr>
<tr d-ix="12"><td>080</td><td>C</td><td>160706T193406Z</td><td><a href="https://codegolf.stackexchange.com/questions/84071/calculate-the-sum-of-ild/84645#84645">owacoder</a></td></tr>
<tr d-ix="13"><td>045</td><td>Javascript using external library</td><td>160706T210219Z</td><td><a href="https://codegolf.stackexchange.com/questions/84071/calculate-the-sum-of-ild/84656#84656">applejac</a></td></tr>
<tr d-ix="14"><td>016</td><td>Dyalog APL</td><td>160630T102403Z</td><td><a href="https://codegolf.stackexchange.com/questions/84071/calculate-the-sum-of-ild/84086#84086">Ad&#225;</a></td></tr>
<tr d-ix="15"><td>057</td><td>dc</td><td>160702T055502Z</td><td><a href="https://codegolf.stackexchange.com/questions/84071/calculate-the-sum-of-ild/84284#84284">Joe</a></td></tr>
<tr d-ix="16"><td>537</td><td>Perl 5  37 Bytes</td><td>160702T095552Z</td><td><a href="https://codegolf.stackexchange.com/questions/84071/calculate-the-sum-of-ild/84288#84288">Kaundur</a></td></tr>
<tr d-ix="17"><td>255</td><td>C++</td><td>160701T194536Z</td><td><a href="https://codegolf.stackexchange.com/questions/84071/calculate-the-sum-of-ild/84240#84240">tachma</a></td></tr>
<tr d-ix="18"><td>673</td><td>XSLT 1.0 without EXSLT</td><td>160630T183442Z</td><td><a href="https://codegolf.stackexchange.com/questions/84071/calculate-the-sum-of-ild/84143#84143">psmay</a></td></tr>
<tr d-ix="19"><td>106</td><td>C#</td><td>160630T193707Z</td><td><a href="https://codegolf.stackexchange.com/questions/84071/calculate-the-sum-of-ild/84148#84148">downrep_</a></td></tr>
<tr d-ix="20"><td>067</td><td>Matlab</td><td>160630T171813Z</td><td><a href="https://codegolf.stackexchange.com/questions/84071/calculate-the-sum-of-ild/84135#84135">pajonk</a></td></tr>
<tr d-ix="21"><td>102</td><td>Clojure</td><td>160701T103508Z</td><td><a href="https://codegolf.stackexchange.com/questions/84071/calculate-the-sum-of-ild/84211#84211">cliffroo</a></td></tr>
<tr d-ix="22"><td>147</td><td>SpecBAS</td><td>160701T095306Z</td><td><a href="https://codegolf.stackexchange.com/questions/84071/calculate-the-sum-of-ild/84202#84202">Brian</a></td></tr>
<tr d-ix="23"><td>118</td><td>C#</td><td>160630T192807Z</td><td><a href="https://codegolf.stackexchange.com/questions/84071/calculate-the-sum-of-ild/84147#84147">ScifiDea</a></td></tr>
<tr d-ix="24"><td>175</td><td>Factor with loadall</td><td>160630T234324Z</td><td><a href="https://codegolf.stackexchange.com/questions/84071/calculate-the-sum-of-ild/84168#84168">cat</a></td></tr>
<tr d-ix="25"><td>048</td><td>PowerShell v4</td><td>160630T194920Z</td><td><a href="https://codegolf.stackexchange.com/questions/84071/calculate-the-sum-of-ild/84150#84150">AdmBorkB</a></td></tr>
<tr d-ix="26"><td>020</td><td>MATL</td><td>160630T132321Z</td><td><a href="https://codegolf.stackexchange.com/questions/84071/calculate-the-sum-of-ild/84107#84107">Suever</a></td></tr>
<tr d-ix="27"><td>038</td><td>JavaScript ES6</td><td>160630T123437Z</td><td><a href="https://codegolf.stackexchange.com/questions/84071/calculate-the-sum-of-ild/84098#84098">Neil</a></td></tr>
<tr d-ix="28"><td>030</td><td>Perl 6</td><td>160630T124056Z</td><td><a href="https://codegolf.stackexchange.com/questions/84071/calculate-the-sum-of-ild/84099#84099">malkaroe</a></td></tr>
<tr d-ix="29"><td>032</td><td>Brachylog</td><td>160630T083545Z</td><td><a href="https://codegolf.stackexchange.com/questions/84071/calculate-the-sum-of-ild/84073#84073">Fatalize</a></td></tr>
<tr d-ix="30"><td>039</td><td>Python 2</td><td>160630T090948Z</td><td><a href="https://codegolf.stackexchange.com/questions/84071/calculate-the-sum-of-ild/84082#84082">Denker</a></td></tr>
<tr d-ix="31"><td>010</td><td>Pyth</td><td>160630T085952Z</td><td><a href="https://codegolf.stackexchange.com/questions/84071/calculate-the-sum-of-ild/84081#84081">Denker</a></td></tr>
<tr d-ix="32"><td>008</td><td>05AB1E</td><td>160630T084512Z</td><td><a href="https://codegolf.stackexchange.com/questions/84071/calculate-the-sum-of-ild/84074#84074">Emigna</a></td></tr>
<tr d-ix="33"><td>018</td><td>CJam</td><td>160630T085129Z</td><td><a href="https://codegolf.stackexchange.com/questions/84071/calculate-the-sum-of-ild/84077#84077">aditsu q</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/Thunno/Thunno2" rel="nofollow noreferrer">Thunno 2</a> <code>s</code>, 7 <a href="https://github.com/Thunno/Thunno2/blob/main/docs/codepage.md" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>Ðls'+jE
</code></pre>
<p><a href="https://Not-Thonnu.github.io/run#aGVhZGVyPSZjb2RlPSVDMyU5MGxzJyUyQmpFJmZvb3Rlcj0maW5wdXQ9ODc5MDElMjAtJTNFJTIwODc5MzElMEExMjMlMjAtJTNFJTIwMTMyJTBBOTklMjAtJTNFJTIwMTE5JTBBNSUyMC0lM0UlMjAxMSUwQTElMjAtJTNFJTIwMyUwQTAlMjAtJTNFJTIwMSUwQS0zJTIwLSUzRSUyMC00JTBBLTEyMyUyMC0lM0UlMjAtMTE1JTBBLTkwMCUyMC0lM0UlMjAtOTA1JTBBLTg3OTAxJTIwLSUzRSUyMC04Nzg4NiZmbGFncz1Dcw==" rel="nofollow noreferrer">Try it online!</a></p>
<h4>Explanation</h4>
<pre class="lang-python prettyprint-override"><code>Ðls'+jE  '# Implicit input
Ð         # Triplicate input
 l        # Push its length
  s       # Swap to get input
   '+j   '# Join on &quot;+&quot;
      E   # Evaluate as Python
          # Sum the stack
          # Implicit output
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/cairdcoinheringaahing/AddPlusPlus" rel="nofollow noreferrer">Add++</a>, 15 bytes</h1>

<pre><code>L,bU"+"jvAbLAvs
</code></pre>

<p><a href="https://tio.run/##NY7NCoJAFIXXc5/iMgy0aAb8oR9bTSW4cVu7CHUoFFFJE0Tc9CpBq56iR@lFJidqeT7Od@@JlKoqrUMe7@iUZu06DtdtrX2eRHnOJbcPAD5vyrq5pMV5BHRClcxaQ7MyLbiUKw6EqTicsyMQ19myDojcywBI//eGkbweUyOptK7yqOOjRJcLz7LRdlz0PJyhjRYKF4UBwrPG8C3Q71VkDao9xjsg79uzN/MG3BwCiZsEyOvemzUDAPs90FqIa3P6AA" rel="nofollow noreferrer" title="Add++ – Try It Online">Try it online!</a></p>

<h2>How it works</h2>

<pre><code>L,&#9;&#9;; Create a lambda function. Takes a string argument
&#9;&#9;; Example argument: &#9;['123']
&#9;bU&#9;; Unpack;&#9;STACK = ['1' '2' '3']
&#9;"+"j&#9;; Join with +;&#9;STACK = ['1+2+3']
&#9;v&#9;; Evaluate;&#9;STACK = [6]
&#9;AbL&#9;; Arg length;&#9;STACK = [6 3]
&#9;Av&#9;; Int argument;&#9;STACK = [6 3 123]
&#9;s&#9;; Sum;&#9;&#9;STACK = [132]
</code></pre>
</div>
<div id="pu2" class="pu"><h1>Java 8, <s>174</s> <s>136</s> <s>122</s> <s>107</s> <s>105</s> <s>93</s> 78 bytes</h1>

<pre class="lang-java prettyprint-override"><code>i-&gt;{int f=0;for(int j:(i+&quot;&quot;).getBytes())i+=j&lt;48?f++:f--&gt;0?50-j:j-47;return i;}
</code></pre>
<p>-14 bytes thanks to <em>@LeakyNun</em>.<br />
-15 bytes thanks to <em>@cliffroot</em>.</p>
<p><strong>Explanation:</strong></p>
<p><a href="https://tio.run/##hZCxbsMgFEV3f8VTJpCFRdJEiU2dSNmbJWPVgRKIoA62AEeKIn@7i90OXSqWJ/Hukc59GH7npO2kNZevUTTce3jj2j4zAG2DdIoLCafpOS9AoGlqzOJmyOLwgQct4AQWahg12T8nQNWUqdbNsKmQzhcLXFxlOD6C9Ahjndfmdb07qDyvFCF7ethQYipD1lvmZOidBc2GkU2Grv9souFXdG/1BW6xIjoHp@31/QM4/ul3fvggb0Xbh6KLUWgssoVAu21Jl3hu/C@zXL0kiLJMAJuUIpHTRE5SDUn6CFLSpObPdw3ZMH4D" rel="nofollow noreferrer">Try it online.</a></p>
<pre class="lang-java prettyprint-override"><code>i-&gt;{                   // Method with integer as both parameter and return-type
  int f=0;             //  Integer-flag, starting at 0
  for(int j:(i+&quot;&quot;).getBytes())
                       //  Loop over the digits as bytes
    i+=                //   Increase the input with:
       j&lt;48?           //    If the current byte is '-':
        f++            //     Increase the input with the flag-integer `f` (which is 0),
                       //     and increase the flag-integer `f` by 1 afterwards
       :               //    Else:
        f--&gt;0?         //     If the flag-integer `f` is 1,
                       //     and decrease the flag-integer `f` back to 0 afterwards
         50-j          //      Increase it with 50 minus the current byte
        :              //    Else
         j-47;         //     Increase it with the byte as digit
                       //      + 1 to cover for the length part in ILD
  return i;}           //  Return the modified input as result
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/mudkip201/pyt" rel="nofollow noreferrer">Pyt</a>, 7 bytes</h1>

<pre><code>ĐąŁ⇹ĐŚƩ
</code></pre>

<p><a href="https://tio.run/##ARsA5P9weXT//8SQxIXFgeKHucSQxZrGqf//ODc5MDE" rel="nofollow noreferrer" title="Pyt – Try It Online">Try it online!</a></p>

<p>Shortest as of now!</p>

<pre>
Đ         duplicate
 ąŁ       convert to array of digits, pop, and push length
   ⇹Đ     swap top two values and duplicate
     ŚƩ   sum of digits and sum everything on stack
</pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.gnu.org/software/gawk/manual/gawk.html" rel="nofollow noreferrer">AWK</a>, <s>64 63</s> 61 bytes</h1>

<pre><code>{s=j=0;for(;j++&lt;n=split($1,a,"");s+=$1&gt;0||j-2?a[j]:-a[j]);$0+=n+s}1
</code></pre>

<p><a href="https://tio.run/##SyzP/v@/utg2y9bAOi2/SMM6S1vbJs@2uCAns0RDxVAnUUdJSdO6WNtWxdDOoKYmS9fIPjE6K9ZKF0RqWqsYaNvmaRfXGv7/b2FuaWCo8KhtkgKQZWzIZWhkDOYZGhtxWVpCmIaWXKZQFhdErTGXAUSASxeiXNeESxemVdfQ0JRL19IAogTIAPIQ1gCZFhZmXAA" rel="nofollow noreferrer" title="AWK – Try It Online">Try it online!</a></p>

<p>TIO link has 6 extra bytes <code>s=j=0;</code> to allow for multi-line input.
This is the shortest method I could come up with.  I'm curious if it can be done shorter in <code>AWK</code>. </p>

<p>Saved 2-bytes, thanks Kevin</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a>, 22 + 1 (-p) = 23 bytes</h1>



<pre class="lang-perl prettyprint-override"><code>$_+=eval s//+/gr.y///c
</code></pre>

<p><a href="https://tio.run/##K0gtyjH9/18lXts2tSwxR6FYX19bP71Ir1JfXz/5/39DI@N/@QUlmfl5xf91CwA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu6" class="pu"><h1>RProgN, 30 Bytes</h1>
<pre><code>] '' . ] '-?.' | sum _ \ L + +
</code></pre>
<h2>Explination</h2>
<pre><code>]               # Clone the input
                #
'' . ]          # Convert it to a string, then clone it again.
'-?.' | sum     # Split it into chunks via the pattern '-?.' (A - if there is one, followed by a single character). Sum the resulting array.
_               # Floor the value, purely because I hate floats.
\ L + +         # Swap the top value with the value underneith it, to work with the string again. Get it's length, add the top, middle, and bottom, which is now the length, the sum and the input respectively.
</code></pre>
<p><a href="https://tehflamintaco.github.io/Reverse-Programmer-Notation/RProgN.html?rpn=%5D%20%27%27%20.%20%5D%20%27-%3F.%27%20%7C%20sum%20_%20%5C%20L%20%2B%20%2B&amp;input=-123" rel="nofollow noreferrer">Try it Online!</a></p>
</div>
<div id="pu7" class="pu"><h2>R, 108 bytes</h2>

<p>A bit late to the party again but here it goes:</p>

<pre><code>s=strsplit(paste(n&lt;-scan()),"")[[1]];n+nchar(n)+sum(as.integer(if(n&lt;0)c(paste0(s[1],s[2]),s[1:2*-1])else s))
</code></pre>

<p>In order to generally split the digits of any number (e.g. to sum them), R requires us to first convert to a string and subsequently split the string into a string vector. To sum up the elements, the string vector has to be converted to numeric or integer. This together with the exception with the sum of a the digits of a negative number eats up a lot of bytes.</p>

<p>The exception can be golfed a bit (to 96 bytes) if warning messages are allowed.</p>

<pre><code>s=as.integer(strsplit(paste(n&lt;-scan()),"")[[1]]);if(n&lt;0){s[2]=s[2]*-1;s=s[-1]};n+nchar(n)+sum(s)
</code></pre>

<p>In this case the string vector is converted to integer directly using <code>as.integer</code>. However, for negative numbers the first element in the vector will be a minus sign: <code>"-"</code>. This causes some trouble, e.g.: <code>as.numeric(c("-",1,2,3))</code> will return <code>NA 1 2 3</code> and a warning message. To circumvent this, remove the NA and then multiply the first element with <code>-1</code> before taking the sum. </p>
</div>
<div id="pu8" class="pu"><h2>Bash + coreutils, 36 bytes</h2>

<pre class="lang-sh prettyprint-override"><code>bc&lt;&lt;&lt;$1+${#1}+$(sed s:\\B:+:g&lt;&lt;&lt;0$1)
</code></pre>

<p><strong>Explanation:</strong></p>

<pre class="lang-sh prettyprint-override"><code>     $1+                      # the input number (+)
     ${#1}+                   # the length of the number, the '-' sign included (+)
     $(sed s:\\B:+:g&lt;&lt;&lt;0$1)   # insert '+' between two consecutive word characters
                              #A word character is any letter, digit or underscore.
bc&lt;&lt;&lt;                         # calculate the sum
</code></pre>

<p>In sed, <code>\B</code> also matches between two consecutive non-word characters, so for a negative number it matches between '^' and '-'. Note the <code>0$1</code> trick needed for <code>\B</code> to give <code>0-1+2+3</code>, for example.</p>

<p><strong>Run example:</strong> 'input.txt' contains all the test cases in the question's statement</p>

<pre class="lang-sh prettyprint-override"><code>while read N;do echo "$N -&gt; "$(./ILD_sum.sh "$N");done &lt; input.txt
</code></pre>

<p><strong>Output:</strong></p>

<pre class="lang-sh prettyprint-override"><code>87901 -&gt; 87931
123 -&gt; 132
99 -&gt; 119
5 -&gt; 11
1 -&gt; 3
0 -&gt; 1
-3 -&gt; -4
-99 -&gt; -96
-123 -&gt; -115
-900 -&gt; -905
-87901 -&gt; -87886
</code></pre>
</div>
<div id="pu9" class="pu"><h2>dc, 56 bytes</h2>
<pre><code>?dZrdd1sa[1+r0r-_1sa]sb0&gt;b[A~rd0&lt;x]dsxxrla*[+z1&lt;y]dsyxp
</code></pre>
<p>No shorter than Joe's above, but a somewhat different implementation (and one that takes negative numbers as input vs. a subtraction command). Can probably be golfed more, but lunch only lasts so long.</p>
<pre><code>?                #input
dZrdd            #find no. of digits, rotate to bottom of stack, dup input twice
1sa              #coefficient for first digit stored in register 'a'
[1+r0r-_1sa]sb   #macro 'b' executes on negative numbers. add one (for the neg. sign)
                 #rotate this value out of the way, leave a positive copy on top
0&gt;b              #run the above macro if negative
[A~rd0&lt;x]dsxx    #create and run macro 'x'; mod 10 to grab least significant digit
                 #keep doing it if quotient is greater than zero
rla*             #a zero remains in the way of our most significant digit, rotate it down
                 #and multiply said digit by our coefficient 'a' from earlier
[+z1&lt;y]dsyx      #add two top stack values (we left that zero there to ensure this always
                 #works), check stack depth and keep doing it while there's stack
p                #print!
</code></pre>
</div>
<div id="pu10" class="pu"><h1>C# 77 bytes</h1>

<p>Check it <a href="http://rextester.com/YAJDO72038" rel="nofollow">here</a></p>

<p>Golfed:</p>

<pre><code>int r(int n){return n+(n+"").Length+(n+"").Select(c=&gt;int.Parse(c+"")).Sum();}
</code></pre>

<p>Ungolfed:  </p>

<pre><code> public int r(int n)
 {
     var t = n + (n+"").Length;
     t += (n + "").Select(c =&gt; int.(c + "")).Sum();
     return t;
 }
</code></pre>
</div>
<div id="pu11" class="pu"><h2>Perl, 27 bytes</h2>

<p><strong>22 bytes code + 5 for <code>-paF</code>.</strong></p>

<pre class="lang-pl prettyprint-override"><code>$"="+";$_+=@F+eval"@F"
</code></pre>

<h3>Explanation</h3>

<p>Uses the <code>-a</code> autosplit option with an empty delimiter (<code>-F</code>) creating an array of the digits passed in. Uses the magic variable <code>$"</code> which controls which char is used to join an array when it's interpolated into a string (we use <code>"+"</code> here) and the fact that a list used in scalar context will return the length of the list (the number of digits).</p>

<h3>Usage</h3>

<pre class="lang-sh prettyprint-override"><code>echo -n 99 | perl -paF -e'$"="+";$_+=@F+eval"@F"'
119
</code></pre>

<hr>

<h2>Perl, 27 bytes</h2>

<p><strong>22 bytes code + 5 for <code>-paF</code>.</strong></p>

<p>Alternative solution, that's a lot more readable for no more bytes. I prefer the other as it looks more cryptic!</p>

<pre class="lang-pl prettyprint-override"><code>$_+=@F+eval join"+",@F
</code></pre>
</div>
<div id="pu12" class="pu"><h1>C, <s>132</s> <s>116</s> <s>113</s> 80</h1>

<pre><code>t,c;f(char*v){for(c=atoi(v+=t=*v==45);*v;t=0,++v)c+=t?50-*v-2*c:*v-47;return c;}
</code></pre>

<p>Function <code>f()</code> takes the input as a string and returns the result as an integer. Full program version (113 bytes):</p>

<pre><code>t;main(int c,char**v){char*p=v[1];c=atoi(p+=t=*p==45);for(c=t?-c:c;*p;++p,t=0)c+=t?50-*p:*p-47;printf("%d\n",c);}
</code></pre>

<p>Requires one argument.</p>
</div>
<div id="pu13" class="pu"><h2>Javascript (using external library) (45 bytes)</h2>

<p>Using a library I wrote to bring LINQ to Javascript, I was able to write the following:</p>

<pre><code>(i)=&gt;i+(i+"").length+_.From(i+"").Sum(x=&gt;x|0)
</code></pre>

<p><a href="https://i.stack.imgur.com/Hat03.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/Hat03.png" alt="enter image description here"></a></p>
</div>
<div id="pu14" class="pu"><h1><a href="http://goo.gl/9KrKoM" rel="nofollow noreferrer">Dyalog APL</a>, <s>19</s> <s>17</s> 16 <a href="http://meta.codegolf.stackexchange.com/a/9429/43319">bytes</a></h1>
<pre><code>≢+#⍎'\d'⎕R'&amp;+',⊢
</code></pre>
<p>Takes string and returns</p>
<p> <code>≢</code> length<br>
<code>+</code> plus<br>
 <code>#</code> in root namespace<br>
<code>⍎</code> evaluation of<br>
 <code>'\d'⎕R'&amp;+'</code> regex append digits with a plus<br>
<code>,</code> followed by<br>
 <code>⊢</code> the unmodified string</p>
<p>–3 thanks to ngn</p>
</div>
<div id="pu15" class="pu"><h1>dc, 57 bytes</h1>

<pre><code>dc -e"0 1?rdsc*d[1r]s+d0&gt;+dZr[+la10~lc*rdsaZ1&lt;A]sAdsaZ1&lt;Ala+++f"
</code></pre>

<p>Explained:</p>

<pre><code>0 1      # Push 0, then 1 on the stack
?        # Wait for input from stdin
         # If input is negative, the leading minus will subtract 1 from 0
r        # Swap (rotate) top two items on stack.
         # Stack status if input (`$') was...
         #       positive                    negative
         # TOP       1     &lt;- coefficient -&gt;    -1
         #           $                           $
         #           0
dsc      # Store a copy of coefficient in `c'
*        # Multiply input by coefficient:
         #  If input was positive, it stays positive.
         #  If input was negative, it's actually interpreted as positive.
         #   In this case, multiply by -1 to make it negative.
d        # Duplicate signed input
[1r]s+   # Define a function `+': Push 1 and rotate
d 0&gt;+    # If input is negative, push 1 underneath the top of the stack
         # This 1 represents the length of the `-` in the input
         # Note that the stack now has 3 items on it, regardless of input sign
dZ       # Push the length of the input (not including leading minus)
r        # Rotate, moving a copy of the input to the top
[        # Begin function definition
 +       # Add top two items of stack
 la      # Load value from `a' (which holds nothing at time of function definition)
 10~     # Slice the last digit off `a' (spoiler: `a' is going to hold the input while
         #  we gather its digits)
 lc*     # Multiply digit by coefficient
         #  Since the input is signed, the input modulo 10 will have the same sign.
         #  We want all digits to be positive, except the leftmost digit, which should
         #   have the sign of the input.
         #  This ensures that each digit is positive.
 r       # Rotate: move remaining digits to top of stack
 dsa     # Store a copy of the remaining digits in `a'
 Z 1&lt;A   # Count the number of digits left; if more than 1, execute A
]sA      # Store the function as `A'
d sa     # Store a copy of the input in `a'
         #  Props to you if you're still reading this
Z 1&lt;A    # Count the number of digits left; if more than 1, execute A
la       # Load leftmost digit of input (still signed appropriately)
+++      # Add the top four items on the stack
f        # Dump stack
</code></pre>

<p>This was far more complicated than I had expected! Good challenge :)</p>
</div>
<div id="pu16" class="pu"><h2>Perl 5 - 37 Bytes</h2>

<pre><code>warn eval(join'+',/./g)+($_+=()=/./g)
</code></pre>

<p>Input is in $_</p>
</div>
<div id="pu17" class="pu"><p><strong>C++, 255 Bytes</strong></p>

<pre><code>#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;stdlib.h&gt;
using namespace std;
int main(){
    string input;
    cin &gt;&gt; input;
    int sum = atoi(input.c_str()) + input.length();
    for(unsigned i = 0; i &lt; input.length(); ++i)
        sum += input.at(i) - 48;
    return 0;
}
</code></pre>
</div>
<div id="pu18" class="pu"><h1>XSLT 1.0 (without EXSLT), 673 bytes</h1>

<pre><code>&lt;transform xmlns="http://www.w3.org/1999/XSL/Transform" version="1.0"&gt;&lt;output method="text"/&gt;&lt;param name="i"/&gt;&lt;template match="/"&gt;&lt;variable name="d"&gt;&lt;variable name="s"&gt;0&lt;if test="0&gt;$i"&gt;1&lt;/if&gt;&lt;/variable&gt;&lt;variable name="d"&gt;&lt;call-template name="d"&gt;&lt;with-param name="i" select="substring($i,$s+2)"/&gt;&lt;/call-template&gt;&lt;/variable&gt;&lt;value-of select="substring($i,1,$s+1)+$d"/&gt;&lt;/variable&gt;&lt;value-of select="$i+string-length($i)+$d"/&gt;&lt;/template&gt;&lt;template name="d"&gt;&lt;param name="i"/&gt;0&lt;if test="$i!=''"&gt;&lt;variable name="d"&gt;&lt;call-template name="d"&gt;&lt;with-param name="i" select="substring($i,2)"/&gt;&lt;/call-template&gt;&lt;/variable&gt;&lt;value-of select="substring($i,1,1)+$d"/&gt;&lt;/if&gt;&lt;/template&gt;&lt;/transform&gt;
</code></pre>

<p>Lightly inflated:</p>

<pre><code>&lt;transform xmlns="http://www.w3.org/1999/XSL/Transform" version="1.0"&gt;
    &lt;output method="text"/&gt;
    &lt;param name="i"/&gt;
    &lt;template match="/"&gt;
        &lt;variable name="d"&gt;
            &lt;variable name="s"&gt;0&lt;if test="0&amp;gt;$i"&gt;1&lt;/if&gt;&lt;/variable&gt;
            &lt;variable name="d"&gt;
                &lt;call-template name="d"&gt;
                    &lt;with-param name="i" select="substring($i,$s+2)"/&gt;
                &lt;/call-template&gt;
            &lt;/variable&gt;
            &lt;value-of select="substring($i,1,$s+1)+$d"/&gt;
        &lt;/variable&gt;
        &lt;value-of select="$i+string-length($i)+$d"/&gt;
    &lt;/template&gt;
    &lt;template name="d"&gt;
        &lt;param name="i"/&gt;0&lt;if test="$i!=''"&gt;
            &lt;variable name="d"&gt;
                &lt;call-template name="d"&gt;
                    &lt;with-param name="i" select="substring($i,2)"/&gt;
                &lt;/call-template&gt;
            &lt;/variable&gt;
            &lt;value-of select="substring($i,1,1)+$d"/&gt;
        &lt;/if&gt;
    &lt;/template&gt;
&lt;/transform&gt;
</code></pre>

<p>Run using xsltproc:</p>

<pre><code>xsltproc --param i -87901 ild.xsl ild.xsl
</code></pre>

<p>Yes, <code>ild.xsl</code> is passed twice: Once as the XSLT document and then as the XML document to be transformed. An input document must be present because an XSLT processor generally requires one to begin running. (XSLT is designed to define a transformation from an input document to an output document; running a transform solely with command-line parameters as I've done here is atypical.) For this program, any well-formed XML document will suffice as input, and, XSLT being an application of XML, any well-formed XSLT transform is by definition a well-formed XML document.</p>
</div>
<div id="pu19" class="pu"><h1>C#, 106 bytes</h1>
<p>I beat java my a byte, my life is complete</p>
<pre><code>int r(int n){var s=n+&quot;&quot;;return n+s.Length+s.Select((k,j)=&gt;int.Parse(s[k==45?1:j]+&quot;&quot;)*(k==45?-2:1)).Sum();}
</code></pre>
<p>Ungolfed (kinda)</p>
<pre><code>    public static int r(int n)
    {
            var s = n + &quot;&quot;;
            return n + s.Length + s.Select((k, j) =&gt;int.Parse(s[k==45?1:j]+&quot;&quot;)*(k==45?-2:1)).Sum();
    }
</code></pre>
</div>
<div id="pu20" class="pu"><h2>Matlab, <s>76</s> 67 bytes</h2>

<pre><code>n=input('');t=num2str(n)-48;if(n&lt;0)t(1)=0;t(2)=-t(2);end
n+sum(t+1)
</code></pre>

<p>9 bytes saved thanks to <a href="https://codegolf.stackexchange.com/users/36398/luis-mendo">@Luis Mendo</a></p>

<p><strong>Explanation:</strong></p>

<pre><code>n=input('');     -- takes input
t=num2str(n)-48; -- makes it a string and then array of digits with "-" becoming -3 (48 is code for 0)
if(n&lt;0)
t(1)=0;          -- set first element (-3) to 0
t(2)=-t(2);      -- the second element is the most significant digit, so we have to negate it
end
n+sum(t+1)       -- take sum of n, sum of all digits and length of t
                    (guaranteed by +1 of every element)
</code></pre>
</div>
<div id="pu21" class="pu"><h1>Clojure, 102 bytes</h1>
<pre><code>(fn[n](load-string(str&quot;(+ &quot;n&quot; &quot;(count(str n))&quot; &quot;(apply str(map #(if(= % \-)%(str %&quot; &quot;))(str n)))&quot;)&quot;)))
</code></pre>
<p>Anonymous function which constructs a string that looks like <code>(+ -123 4 -1 2 3 )</code> and evals it. Everything pretty verbose as it is, construct string from number, its length, and then map each symbol of string representation of the number except minus to itself plus space and minus remains the same</p>
<p>You can see it running here: <a href="https://ideone.com/FG4lsB" rel="nofollow noreferrer">https://ideone.com/FG4lsB</a></p>
</div>
<div id="pu22" class="pu"><h1>SpecBAS - 147 bytes</h1>

<pre><code>1 INPUT a$: l=LEN a$: b$="text "+a$+"+"+STR$ l+"+": FOR i=1 TO l: b$=b$+a$(i)+("+" AND i&lt;l): NEXT i: EXECUTE b$
</code></pre>

<p>Builds up a string which then gets run. Unfortunately <code>EXECUTE</code> doesn't work with the <code>?</code> shorthand for <code>PRINT</code>, but <code>TEXT</code> saved 1 character.</p>

<p><a href="https://i.stack.imgur.com/1oYXd.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/1oYXd.png" alt="enter image description here"></a></p>
</div>
<div id="pu23" class="pu"><h2>C#, 118 bytes</h2>

<pre><code>int k(int a){var s=a.ToString();for(int i=0;i&lt;s.Length;a+=s[i]&lt;46?-(s[++i]-48)+ ++i-i:(s[i++]-48));return a+s.Length;}
</code></pre>
</div>
<div id="pu24" class="pu"><h1>Factor with <code>load-all</code>, 175 bytes</h1>
<p>Well, this is not very short. The special handling of unary minus is really annoying; I guess I could do it better and I will, maybe.</p>
<pre><code>[ dup [ 10 &gt;base length ] [ [ 10 &gt;base &gt;array [ 48 - ] V{ } map-as ] [ 0 &lt; ] bi [ reverse dup pop* dup pop swap [ neg ] dip dup [ push ] dip ] [ ] if 0 [ + ] reduce ] bi + + ]
</code></pre>
<p>Using this substitution regex:</p>
<pre><code>s/(-?[\d]+)\s*-&gt;\s*(-?[\d]+)/{ $2 } [ $1 calculate-ild ] unit-test/g
</code></pre>
<p>We can turn the OP's test cases into a Factor test suite.</p>
<pre><code>USING: arrays kernel math math.parser sequences ;
IN: sum-ild

: sum-digits ( n -- x )
    [ number&gt;string &gt;array [ 48 - ] V{ } map-as ]
    [ 0 &lt; ]
    bi
    [
      reverse dup pop* dup pop swap [ neg ] dip dup [ push ] dip
    ]
    [ ] if
    0 [ + ] reduce ;

: calculate-ild ( n -- x )
  dup
  [ number&gt;string length ]
  [ sum-digits ]
  bi + + ;

USING: tools.test sum-ild ;
IN: sum-ild.tests

{ 87931 } [ 87901 calculate-ild ] unit-test
{ 132 } [ 123 calculate-ild ] unit-test
{ 119 } [ 99 calculate-ild ] unit-test
{ 11 } [ 5 calculate-ild ] unit-test
{ 3 } [ 1 calculate-ild ] unit-test
{ 1 } [ 0 calculate-ild ] unit-test
{ -4 } [ -3 calculate-ild ] unit-test
{ -115 } [ -123 calculate-ild ] unit-test
{ -905 } [ -900 calculate-ild ] unit-test
{ -87886 } [ -87901 calculate-ild ] unit-test
</code></pre>
</div>
<div id="pu25" class="pu"><h2>PowerShell v4, 48 bytes</h2>

<pre><code>param($n)$n,"$n".length+[char[]]"$n"-join'+'|iex
</code></pre>

<p><sub>This <em>should</em> work in v2+, but I only tested in v4.</sub></p>

<p>Takes input <code>$n</code>. Creates a new array with the <code>,</code> operator consisting of <code>$n</code> and the <code>.length</code> when <code>$n</code> is converted to a string. Concatenates with that the string <code>$n</code> cast as a char-array. Then, that whole array is <code>-join</code>ed together with <code>+</code> before being piped to <code>iex</code> (similar to <code>eval</code>). The result is left on the pipeline and output is implicit.</p>

<p>For example, for input <code>-123</code>, the array would look like <code>(-123, 4, -, 1, 2, 3)</code>, and the string after the <code>-join</code> would look like <code>-123+4+-+1+2+3</code>. Then the <code>Invoke-Expression</code> happens, and the result is <code>-115</code> as expected.</p>
</div>
<div id="pu26" class="pu"><h1>MATL, 20 bytes</h1>
<pre><code>tVtnw48-PZ}t0&lt;?x_]vs
</code></pre>
<p><a href="http://matl.tryitonline.net/#code=dFZ0bnc0OC1QWn10MDw_eF9ddnM&amp;input=OTk" rel="nofollow noreferrer"><strong>Try it Online</strong></a></p>
<p><a href="http://matl.tryitonline.net/#code=YGkKdFZ0bnc0OC1QWn10MDw_eF9ddnMKRFRd&amp;input=ODc5MDEKMTIzCjk5CjUKMQowCi0zCi0xMjMKLTkwMAotODc5MDE" rel="nofollow noreferrer">All test cases</a></p>
<p><strong>Explanation</strong></p>
<pre><code>        % Implicitly grab the input
tV      % Duplicate the input and convert to a string
tn      % Duplicate and find the length of this string
w       % Flip the top two stack elements to get us the string again
48-     % Subtract 48 (ASCII 'O'). Yields a negative number for a negative sign
        % and digits otherwise
P       % Flip the resulting array
Z}      % Break the array up so each element is pushed to the stack
t0&lt;?    % If the first character was a negative sign
  x_    % Pop the negative sign off the stack and negate the first digit
]       % End of if
vs      % Vertically concatenate and sum all stack contents
        % Implicitly display the result
</code></pre>
</div>
<div id="pu27" class="pu"><h2>JavaScript (ES6), 38 bytes</h2>

<pre><code>n=&gt;eval([n+=``,n.length,...n].join`+`)
</code></pre>

<p>Uses the old join-and-eval trick. Save 4 bytes if I can insist on string input:</p>

<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>f=
n=&gt;eval([n,n.length,...n].join`+`)
;</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;input type=number oninput=o.value=f(this.value)&gt;&lt;input id=o readonly&gt;</code></pre>
</div>
</div>
</p>
</div>
<div id="pu28" class="pu"><h1>Perl 6 - 30 bytes</h1>
<p>As literal as it gets</p>
<pre><code>{$^a+$^a.chars+[+]($^a.comb)}
</code></pre>
<p>Use it as an anonymous function</p>
<pre><code>&gt; {$^a+$^a.chars+[+]($^a.comb)}(99)
119 
</code></pre>
</div>
<div id="pu29" class="pu"><h1><a href="https://github.com/JCumin/Brachylog" rel="nofollow noreferrer">Brachylog</a>, <s>35</s> 32 bytes</h1>
<pre>
<s>lL,?:ef+:?:L+I,(0>?h:2*:Ir-:1+.;I.)</s>
lL,(0>?h:1--I;I0),?b:ef+:?:L:I+.
</pre>
<h3>Explanation</h3>
<pre><code>lL,             L is the length of the Input
(
    0&gt;?         Input &lt; 0
       h:1--I   I is (First digit - 1) * -1
;               Or
    I0          I is 0
),
?b:ef+          Sum all digits of the Input
      :?:L:I+.  Output = sum of digits + (Input minus first digit) + L + I
</code></pre>
</div>
<div id="pu30" class="pu"><h1>Python 2, 39 bytes</h1>

<pre class="lang-python prettyprint-override"><code>lambda x:x+len(`x`)+eval(&quot;+&quot;.join(`x`))
</code></pre>
<p><a href="https://repl.it/C78p" rel="noreferrer">Test suite</a></p>
<p>Using the same eval-trick as in my <a href="https://codegolf.stackexchange.com/a/84081/49110">Pyth-answer</a>.</p>
</div>
<div id="pu31" class="pu"><h1>Pyth, <s>11</s> 10 bytes</h1>
<p>Thanks to @LeakyNun for a byte!</p>
<pre><code>++vj\+`Ql`
</code></pre>
<p><a href="http://pyth.herokuapp.com/?code=%2B%2Bvj%5C%2B%60Ql%60&amp;input=-123&amp;test_suite=1&amp;test_suite_input=87901%0A123%0A99%0A5%0A1%0A0%0A-3%0A-123%0A-900%0A-87901&amp;debug=0" rel="noreferrer">Test suite</a></p>
<h2>Explanation</h2>
<pre>
++vj\+`Ql`QQ  # Q = input, last two implicitly added

  vj\+`Q      # Join the input on '+' and eval it
        l`Q   # Length of the input
           Q  # The input itself
++            # Add those three values to obtain the result
</pre>
</div>
<div id="pu32" class="pu"><h2>05AB1E, <s>28</s> <s>20</s> <s>18</s> 8 bytes</h2>
<pre><code>ÐgsS'+ýO
</code></pre>
<p><strong>Explanation</strong></p>
<pre><code>Ð           # triplicate input
 g          # get length of input
  sS'+ý     # split input and merge with '+' as separator 
       O    # sum and implicitly display
</code></pre>
<p><a href="http://05ab1e.tryitonline.net/#code=w5Bnc1MnK8O9Tw&amp;input=LTEyMw" rel="noreferrer">Try it online</a></p>
<p>Saved 10 bytes thanks to @Adnan</p>
</div>
<div id="pu33" class="pu"><h1>CJam, 18</h1>

<pre><code>q_,\~__Ab(@g*\~]:+
</code></pre>

<p><a href="http://cjam.aditsu.net/#code=q_%2C%5C~__Ab(%40g*%5C~%5D%3A%2B&amp;input=-123">Try it online</a></p>

<p><strong>Explanation:</strong></p>

<pre><code>q_      read the input and make a copy
,\      get the string length and swap with the other copy
~__     evaluate the number and make 2 copies
Ab      convert to base A=10 (array of digits), it uses the absolute value
(       take out the first digit
@g*     get a copy of the number, get its sign and multiply with the digit
\~      dump the other digits on the stack
]:+     add everything together
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/84071/">84071</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




