<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::268578</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>020</td><td>05AB1E</td><td>231218T085503Z</td><td><a href="https://codegolf.stackexchange.com/questions/268578/maximal-linear-sublists/268610#268610">Kevin Cr</a></td></tr>
<tr d-ix="1"><td>053</td><td>Charcoal</td><td>231217T015509Z</td><td><a href="https://codegolf.stackexchange.com/questions/268578/maximal-linear-sublists/268588#268588">Neil</a></td></tr>
<tr d-ix="2"><td>018</td><td>Jelly</td><td>231216T192242Z</td><td><a href="https://codegolf.stackexchange.com/questions/268578/maximal-linear-sublists/268582#268582">Jonathan</a></td></tr>
<tr d-ix="3"><td>149</td><td>JavaScript ES6</td><td>231216T230414Z</td><td><a href="https://codegolf.stackexchange.com/questions/268578/maximal-linear-sublists/268586#268586">Arnauld</a></td></tr>
<tr d-ix="4"><td>252</td><td>Python3</td><td>231216T170640Z</td><td><a href="https://codegolf.stackexchange.com/questions/268578/maximal-linear-sublists/268580#268580">Ajax1234</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, <s>22</s> 20 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>ā&lt;æʒè¥Ë}©ʒ®€æ€`»sðý¢}è
</code></pre>
<p><a href="https://tio.run/##ATcAyP9vc2FiaWX//8SBPMOmypLDqMKlw4t9wqnKksKu4oKsw6bigqxgcy7Con3DqP//WzEsMyw1LDNd" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/V9Waa@k8KhtkoKSfaVL6P8jjTaHl52aFFF8eMWhpYe7aw@tPDXp0LpHTWsOLwMSCcV6hxbVHl7xX@d/dHSsTrShJYjQMdQxAtPGOqY6xmCWEZBtgsRGEo2NBQA" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>ā            # Push a list in the range [1, input-length]
 &lt;           # Decrease each by 1 to make them 0-based indices: [0,length)
  æ          # Get the powerset of this
   ʒ         # Filter it by:
    è        #  Index each into the (implicit) input-list
     ¥       #  Get their forward differences
      Ë      #  Check if all are the same
   }©        # After the filter: store the list in variable `®`
   ʒ         # Then filter once again:
    ®        #  Push list of lists `®`
     €æ      #  Get the powerset of each inner list
       €`    #  Then flatten it one level down
         s   #  Swap so the current list we're filtering is at the top
          .¢ #  Count how many times this sublist occurs in the larger list of lists
             #  (only 1 is truthy in 05AB1E)
   }è        # After the filter: index each value into the (implicit) input-list
             # (after which the resulting list of lists is output implicitly)
</code></pre>
<p><s>Unfortunately, almost all of 05AB1E builtins are vectorized, hence the need for the <code>»</code> and <code>ðý</code>.</s> -2 bytes, because luckily with the count builtin <code>¢</code>, there is a non-vectorized alternative <code>.¢</code>. :)</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, <s>58</s> 53 bytes</h1>
<pre><code>Ｆ⮌ＥＸ²Ｌθ⌕Ａ⮌⍘ι²1Ｆ›⬤υ⁻ικ⊙ι∧›λ¹↨Ｅ⁴§θ§ι⁻λ↔⊖μ±¹⊞υιＥυ⭆¹Ｅι§θν
</code></pre>
<p><a href="https://tio.run/##VY9Nb8IwDIbv@xURJ0fyDincOHWaNiHBVLEj4pC1XhstpCNJYfz64ASNab7EH49fv2kH7dtR25Q@Ry9gSyfygWCjv6EZz@ShQrEm18cBjlKieDGuq629g0860Hv0xvVgUFQZmamZ5BBF8NWTjiyTdyYUG@OmkMmvTNbukvPadXfOolA8ybLFxILHceU6@oHjX2p@lRivP8Jop0jwTK2nA7lIHRxkCRRv1LMuqFstmikM2YeRy4eGXcdyhBu3P@RCsTY/5t9hV9aXKe12Ciuc4wLn@316PNkr" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>Ｆ⮌ＥＸ²Ｌθ⌕Ａ⮌⍘ι²1
</code></pre>
<p>Loop over the sublists of the indices of the list's elements from largest to smallest.</p>
<pre><code>Ｆ›⬤υ⁻ικ⊙ι∧›λ¹↨Ｅ⁴§θ§ι⁻λ↔⊖μ±¹
</code></pre>
<p>If this isn't a sublist of an already found list but is linear, then...</p>
<pre><code>⊞υι
</code></pre>
<p>... save this as a new maximal linear sublist.</p>
<pre><code>Ｅυ⭆¹Ｅι§θν
</code></pre>
<p>Convert the lists of indices to lists of elements and pretty-print them.</p>
<p>Linearity is determined by taking a sliding window of size <code>3</code> and computing <code>x[1]-x[0]+x[1]-x[2]</code> which should be <code>0</code> in all cases.</p>
<p>This answer could be written as a single statement instead of four but it would still be <s>58</s> 53 bytes.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 18 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>JŒPịIEɗƇ⁸fƑⱮS¥ÐṂ`ị
</code></pre>
<p>A monadic Link that accepts a list of integers and yields a list of the maximal linear sublists.</p>
<p><strong><a href="https://tio.run/##ATUAyv9qZWxsef//SsWSUOG7i0lFyZfGh@KBuGbGkeKxrlPCpcOQ4bmCYOG7i////1sxLDMsNSwzXQ" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong> Or see the <a href="https://tio.run/##y0rNyan8/9/r6KSAh7u7PV1PTj/W/qhxR9qxiY82rgs@tPTwhIc7mxKAUv91DrcfnfRw54xHTWs03f//j46O5dKJNrQEkzqGOkYQhrGOqY4xhGkE5Jggc5DFY7liAQ" rel="nofollow noreferrer" title="Jelly – Try It Online">test-suite</a>.</p>
<h3>How?</h3>
<pre><code>JŒPịIEɗƇ⁸fƑⱮS¥ÐṂ`ị - Link: list of integers, A
J                  - indices of A
 ŒP                - powerset
      ɗƇ⁸          - keep those for which:
   ị               -   index back into A
    I              -   forward differences
     E             -   all equal?
             ¥ÐṂ`  - keep those minimal under:
           Ɱ       -   map with:
          Ƒ        -     is invariant under?:
         f         -       filter keep
            S      -   sum
                 ị - index back into A
</code></pre>
</div>
<div id="pu3" class="pu"><h1>JavaScript (ES6), 149 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>a=&gt;(o=[...Array(1&lt;&lt;a.length).keys(g=n=&gt;[x,y]=a[F]((_,i)=&gt;n&gt;&gt;i&amp;1))][F='filter'](n=&gt;!g(n).some(p=v=&gt;p-(p=v)+y-x)))[F](p=&gt;o.every(q=&gt;p&amp;q-p|q==p)).map(g)
</code></pre>
<p><a href="https://tio.run/##dY3LasMwEEX3/Qp3k8xQWcFxsyhkBN3kJ4QoIpVdt44kPzAx9N9duSbUThNtLjNzju6n7nRzrAvfxta9myGjQZMAR5Jz/lrXuodkv9e8NDZvP5B/mb6BnCwJeWa9Ii0PCuCNFUjCClGsEkQlD7TOirI19VpBQB9zsMgbdzLgqSPh4zHxqY/PiDj@4Ek4bjpT91CF@6qK/XdF5BH5SXvIcTg627jS8NLlkIFU0eUhRptNJNXDFZG8qCURFv8YlrCtmjNhZLNIbigp27FUzZR0ZNMpdlP8Ujfcbdg/B@SvbmGPp@iC3dEX1Ut9mu@0XmlhMfwA" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h2>Commented</h2>
<h3>Helper function</h3>
<pre class="lang-javascript prettyprint-override"><code>g =                  // g is a helper function (actually defined in the
n =&gt;                 // scope of the main function) taking an integer n
                     // and returning a sublist of a[]
[x, y] =             // save the first two entries in global variables
  a.filter((_, i) =&gt; // for each value at index i in a[]:
    n &gt;&gt; i &amp; 1       //   keep it only if the i-th bit of n is set
  )                  // end of filter()
</code></pre>
<h3>Main function</h3>
<pre class="lang-javascript prettyprint-override"><code>a =&gt; (               // a[] = input array
  o = [              // build the range going from 0 to 2**N - 1
    ...Array(        // where N is the length of a[]
      1 &lt;&lt; a.length  // (i.e. all possible bit-masks of length N)
    ).keys()         //
  ].filter(n =&gt;      // for each value n in that range:
    !g(n)            //   build the sublist for the bit-mask n
    .some(p = v =&gt;   //   for each value v in this sublist:
      p - (p = v) +  //     discard the sublist if the difference
      y - x          //     between v and the previous value is not
                     //     equal to those of the first 2 entries
    )                //   end of some()
  )                  // end of filter(); save the result in o[]
).filter(p =&gt;        // for each value p in o[]:
  o.every(q =&gt;       //   for each value q in o[]:
    p &amp; q - p |      //     make sure that either at least one bit
    q == p           //     set in p is not set in q, or q = p
  )                  //   end of every()
)                    // end of filter()
.map(g)              // translate the bit-masks back to sublists
</code></pre>
</div>
<div id="pu4" class="pu"><h1>Python3, 252 bytes</h1>
<pre class="lang-py prettyprint-override"><code>E=enumerate
def f(l):
 q,T=[([a],[],[i])for i,a in E(l)],[]
 while q:
  a,c,I=q.pop(0)
  T+=[(a,I)]
  for j,k in E(l):
   if j&gt;max(I)and(c==[]or a[-1]-k==c):q+=[(a+[k],a[-1]-k,I+[j])]
 return[a for a,b in T if not any(not{*b}-{*B}for A,B in T if B!=b)]
</code></pre>
<p><a href="https://tio.run/##bYxRa4MwFEbf/RV3b0m9jllX2AoZTOiD776FPFxtpNE2arBspfS3u6RshZVCINzD@c5wmna9zd4GN88boe3xoB1NOtrqBhq25@sIRiyFZJIUSv@M4k3vwCCBsbDxSuARfO3MXsPofSCssRDj89AP7IV7UMY@QFhw70FYt9j9rcMATAPtx4G@WcHJblkthFReI5mkKumEqPl6vDZi2Sn8xVjEslWh6fR0dFbStU1YhXYZorafgOyJ@f@8qC7JeZFfgvOJ@c3Jn0TF1Tw4YyfWMKk4j25H@v7/xBSXdyTDFWZ3bOnp60P60PRs/gE" rel="nofollow noreferrer">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/268578/">268578</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




