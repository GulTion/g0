<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::268578</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>058</td><td>Charcoal</td><td>231217T015509Z</td><td><a href="https://codegolf.stackexchange.com/questions/268578/maximal-linear-sublists/268588#268588">Neil</a></td></tr>
<tr d-ix="1"><td>149</td><td>JavaScript ES6</td><td>231216T230414Z</td><td><a href="https://codegolf.stackexchange.com/questions/268578/maximal-linear-sublists/268586#268586">Arnauld</a></td></tr>
<tr d-ix="2"><td>020</td><td>Jelly</td><td>231216T192242Z</td><td><a href="https://codegolf.stackexchange.com/questions/268578/maximal-linear-sublists/268582#268582">Jonathan</a></td></tr>
<tr d-ix="3"><td>252</td><td>Python3</td><td>231216T170640Z</td><td><a href="https://codegolf.stackexchange.com/questions/268578/maximal-linear-sublists/268580#268580">Ajax1234</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 58 bytes</h1>
<pre><code>Ｆ⮌ＥＸ²Ｌθ⌕Ａ⮌⍘ι²1Ｆ∧⬤υ⁻ικ⬤ι∨‹λ²⁼⁺§θκ§θ§ι⁻λ²⊗§θ§ι⊖λ⊞υιＥυ⭆¹Ｅι§θν
</code></pre>
<p><a href="https://tio.run/##bY9PT8MwDMXvfIpoJ0cKh3bcdioaSEibqOA47RBab40wKc2fwbcPdlFBSPgS2/q9F79usKEbLZVyGoOCJ7xgiAh7@w7t@IEBaqN26M9pgElro@6d7xuiH/DWRnxOwfkzOKNqQVbVSnOp2bDxPQifjdo7n6NQr0LJkvvHADuMEUjERt1N2VKElphs0oPv8RMmUbDgd1xat5jOai222zG/EPbwP73FLuAb@sQE6aVUm@MgFzq9uWo5S5rz8@I7mQwVf8WP@3OHn@WbUg6HytRmbW7M@ngs1xf6Ag" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>Ｆ⮌ＥＸ²Ｌθ⌕Ａ⮌⍘ι²1
</code></pre>
<p>Loop over the sublists of the indices of the list's elements from largest to smallest.</p>
<pre><code>Ｆ∧⬤υ⁻ικ⬤ι∨‹λ²⁼⁺§θκ§θ§ι⁻λ²⊗§θ§ι⊖λ
</code></pre>
<p>If this isn't a sublist of an already found list but is linear, then...</p>
<pre><code>⊞υι
</code></pre>
<p>... save this as a new maximal linear sublist.</p>
<pre><code>Ｅυ⭆¹Ｅι§θν
</code></pre>
<p>Convert the lists of indices to lists of elements and pretty-print them.</p>
</div>
<div id="pu1" class="pu"><h1>JavaScript (ES6), 149 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>a=&gt;(o=[...Array(1&lt;&lt;a.length).keys(g=n=&gt;[x,y]=a[F]((_,i)=&gt;n&gt;&gt;i&amp;1))][F='filter'](n=&gt;!g(n).some(p=v=&gt;p-(p=v)+y-x)))[F](p=&gt;o.every(q=&gt;p&amp;q-p|q==p)).map(g)
</code></pre>
<p><a href="https://tio.run/##dY3LasMwEEX3/Qp3k8xQWcFxsyhkBN3kJ4QoIpVdt44kPzAx9N9duSbUThNtLjNzju6n7nRzrAvfxta9myGjQZMAR5Jz/lrXuodkv9e8NDZvP5B/mb6BnCwJeWa9Ii0PCuCNFUjCClGsEkQlD7TOirI19VpBQB9zsMgbdzLgqSPh4zHxqY/PiDj@4Ek4bjpT91CF@6qK/XdF5BH5SXvIcTg627jS8NLlkIFU0eUhRptNJNXDFZG8qCURFv8YlrCtmjNhZLNIbigp27FUzZR0ZNMpdlP8Ujfcbdg/B@SvbmGPp@iC3dEX1Ut9mu@0XmlhMfwA" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h2>Commented</h2>
<h3>Helper function</h3>
<pre class="lang-javascript prettyprint-override"><code>g =                  // g is a helper function (actually defined in the
n =&gt;                 // scope of the main function) taking an integer n
                     // and returning a sublist of a[]
[x, y] =             // save the first two entries in global variables
  a.filter((_, i) =&gt; // for each value at index i in a[]:
    n &gt;&gt; i &amp; 1       //   keep it only if the i-th bit of n is set
  )                  // end of filter()
</code></pre>
<h3>Main function</h3>
<pre class="lang-javascript prettyprint-override"><code>a =&gt; (               // a[] = input array
  o = [              // build the range going from 0 to 2**N - 1
    ...Array(        // where N is the length of a[]
      1 &lt;&lt; a.length  // (i.e. all possible bit-masks of length N)
    ).keys()         //
  ].filter(n =&gt;      // for each value n in that range:
    !g(n)            //   build the sublist for the bit-mask n
    .some(p = v =&gt;   //   for each value v in this sublist:
      p - (p = v) +  //     discard the sublist if the difference
      y - x          //     between v and the previous value is not
                     //     equal to those of the first 2 entries
    )                //   end of some()
  )                  // end of filter(); save the result in o[]
).filter(p =&gt;        // for each value p in o[]:
  o.every(q =&gt;       //   for each value q in o[]:
    p &amp; q - p |      //     make sure that either at least one bit
    q == p           //     set in p is not set in q, or q = p
  )                  //   end of every()
)                    // end of filter()
.map(g)              // translate the bit-masks back to sublists
</code></pre>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 20 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>JŒPḊị⁹IEɗƇ⁸fƑⱮS¥ÐṂ`ị
</code></pre>
<p>A monadic Link that accepts a list of integers and yields a list of the maximal linear sublists.</p>
<p><strong><a href="https://tio.run/##ATsAxP9qZWxsef//SsWSUOG4iuG7i@KBuUlFyZfGh@KBuGbGkeKxrlPCpcOQ4bmCYOG7i////1sxLDMsNSwzXQ" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong> Or see the <a href="https://tio.run/##y0rNyan8/9/r6KSAhzu6Hu7uftS409P15PRj7Y8ad6Qdm/ho47rgQ0sPT3i4sykBKPtf53D70UkPd8541LRG0/3//@joWC6daENLMKljqGMEYRjrmOoYQ5hGQI4JMgdZPJYrFgA" rel="nofollow noreferrer" title="Jelly – Try It Online">test-suite</a>.</p>
<h3>How?</h3>
<pre><code>JŒPḊị⁹IEɗƇ⁸fƑⱮS¥ÐṂ`ị - Link: list of integers, A
J                    - indices of A
 ŒP                  - powerset
   Ḋ                 - dequeue (remove the empty sublist-of-indices)
        ɗƇ⁸          - keep those for which:
    ị⁹               -   index back into A
      I              -   forward differences
       E             -   all equal?
               ¥ÐṂ`  - keep those minimal under:
             Ɱ       -   map with:
            Ƒ        -     is invariant under?:
           f         -       filter keep
              S      -   sum
                   ị - index back into A
</code></pre>
</div>
<div id="pu3" class="pu"><h1>Python3, 252 bytes</h1>
<pre class="lang-py prettyprint-override"><code>E=enumerate
def f(l):
 q,T=[([a],[],[i])for i,a in E(l)],[]
 while q:
  a,c,I=q.pop(0)
  T+=[(a,I)]
  for j,k in E(l):
   if j&gt;max(I)and(c==[]or a[-1]-k==c):q+=[(a+[k],a[-1]-k,I+[j])]
 return[a for a,b in T if not any(not{*b}-{*B}for A,B in T if B!=b)]
</code></pre>
<p><a href="https://tio.run/##bYxRa4MwFEbf/RV3b0m9jllX2AoZTOiD776FPFxtpNE2arBspfS3u6RshZVCINzD@c5wmna9zd4GN88boe3xoB1NOtrqBhq25@sIRiyFZJIUSv@M4k3vwCCBsbDxSuARfO3MXsPofSCssRDj89AP7IV7UMY@QFhw70FYt9j9rcMATAPtx4G@WcHJblkthFReI5mkKumEqPl6vDZi2Sn8xVjEslWh6fR0dFbStU1YhXYZorafgOyJ@f@8qC7JeZFfgvOJ@c3Jn0TF1Tw4YyfWMKk4j25H@v7/xBSXdyTDFWZ3bOnp60P60PRs/gE" rel="nofollow noreferrer">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/268578/">268578</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




