<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::265768</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>013</td><td>Wolfram Language Mathematica</td><td>231006T085042Z</td><td><a href="https://codegolf.stackexchange.com/questions/265768/transpose-a-multidimensional-array/265819#265819">att</a></td></tr>
<tr d-ix="1"><td>051</td><td>Python 3</td><td>231005T055434Z</td><td><a href="https://codegolf.stackexchange.com/questions/265768/transpose-a-multidimensional-array/265770#265770">Command </a></td></tr>
<tr d-ix="2"><td>033</td><td>Python 2</td><td>231005T180959Z</td><td><a href="https://codegolf.stackexchange.com/questions/265768/transpose-a-multidimensional-array/265805#265805">loopy wa</a></td></tr>
<tr d-ix="3"><td>023</td><td>R</td><td>231005T074035Z</td><td><a href="https://codegolf.stackexchange.com/questions/265768/transpose-a-multidimensional-array/265773#265773">Nick Ken</a></td></tr>
<tr d-ix="4"><td>003</td><td>Uiua</td><td>231005T142022Z</td><td><a href="https://codegolf.stackexchange.com/questions/265768/transpose-a-multidimensional-array/265790#265790">chunes</a></td></tr>
<tr d-ix="5"><td>021</td><td>05AB1E</td><td>231005T091609Z</td><td><a href="https://codegolf.stackexchange.com/questions/265768/transpose-a-multidimensional-array/265775#265775">Kevin Cr</a></td></tr>
<tr d-ix="6"><td>042</td><td>Charcoal</td><td>231005T095506Z</td><td><a href="https://codegolf.stackexchange.com/questions/265768/transpose-a-multidimensional-array/265782#265782">Neil</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, 13 bytes</h1>
<pre><code>#0/@Thread@#&amp;
</code></pre>
<p><a href="https://tio.run/##y00syUjNTSzJTE78n2b7X9lA3yEkoyg1McVBWe1/QFFmXkm0sq5dWrSyjmNRUWKlS2pBSYaDcmysWl1wcmJeXTVXdbVhba0OkAIydIxqayEcIFPHuFan2kTHVMcMKg@S1qk21jEB8qurQeI61eY6FrUw7ZZgcUMDkBlctf8B" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
<p>Input <code>[array]</code>. <code>\[Transpose]</code> doesn't behave nicely on arrays of dimension &lt;2.</p>
<hr />
<h2><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, 23 bytes</h2>
<pre><code>D'[[0]][,{##},Listable]
</code></pre>
<p><a href="https://tio.run/##y00syUjNTSzJTE78n2b730U9OtogNjZap1pZuVbHJ7O4JDEpJzX2f0BRZl5JtLKuXZqDg3KsWl1wcmJeXTVXdbVhba0OkAIydIxqayEcIFPHuFan2kTHVMcMKg@S1qk21jEB8qurQeI61eY6FrUw7ZZgcUMDkBlctf8B" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
<p>Taking a rare chance to showcase <a href="https://reference.wolfram.com/language/ref/Function.html" rel="nofollow noreferrer"><code>Function</code></a>'s 3-argument form, which lets us set <a href="https://reference.wolfram.com/language/guide/Attributes.html" rel="nofollow noreferrer">attributes</a> on a pure function, even if this ends up being almost twice the length of the shortest solution.</p>
<p>Input <code>[array...]</code>. Append <code>@@#&amp;</code> to take <code>[array]</code> input.</p>
<p>A <a href="https://reference.wolfram.com/language/ref/Listable.html" rel="nofollow noreferrer"><code>Listable</code></a> function that enlists its arguments. <code>D'[[0]]</code> is slightly shorter than writing out <code>Function</code>.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 51 bytes</h1>

<pre class="lang-python prettyprint-override"><code>f=lambda a,b:b&lt;2and[*a]or[f(x,b-1)for x in zip(*a)]
</code></pre>
<p><a href="https://tio.run/##bY/BbsIwEETP5CvmRow2CCfQAir9EWsPG0URlohjmVRK@vOpHQonTvt2Z3ak8dNw7V01z@3lJl3dCITqc/1VimvMRrgPps1Hqgut2j5ghHX4tT7fiOLZdr4PA9xP5yfIHc5nggtMZoxmpjgiEErmx5aYUDHB7AkHwse/azHFa0XYcwKziBE@CUd@Zp0emt49A98nRkt6I5wS6x1BR58ulyfOXj3knK18sG6IBbEuvteE1DXW2EoIMuWj2rrGdkrNfw" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
<p>Takes as input the list and then the dimension.</p>
<p>If we look at the list of dimensions, a 2D transpose is equivalent to swapping the first two, so if we recursively do that we swap dimensions 0,1, then 1,2, and so on, so we move the first dimension to the last position.</p>
<p>If the output can contain have tuples in the topmost level it can be -1 by replacing <code>and[*a]or</code> with <code>and a or</code>.</p>
<h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a> + <a href="https://numpy.org/" rel="nofollow noreferrer">numpy</a>, <s>37</s> 36 bytes</h1>
<p>-1 thanks to @loopwalt</p>

<pre class="lang-python prettyprint-override"><code>lambda a,b:a.transpose(range(1-b,1))
</code></pre>
<p><a href="https://tio.run/##bY/LDoIwEEXX9ivuzpKMxIrvRH@kdjFEURIpTcEEvh4H1J2b9kzvI9PQt4/aZ0NZhTq28K8q9OAGPqjidBmeXOVXBlN@5LSN7JtQNzctcL9ps8jJJMnAOMEqa41zJJcAYeXcZxqZkDmCXRM2hO3XNZnkNSOs3Qh2EgV2hL37dR0@mln@Cv83imWMEQ4jmyXBiM@sppBTRR3RofTgo5pxjLKxD6kA97pL1CzE0re6I8wX5zmh0CIR5Ej9tazkj28" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
<p>Takes a numpy array and the dimension as input.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, 33 bytes</h1>
<pre><code>f=lambda*L:L*(L&lt;(f,))or map(f,*L)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m728oLIkIz_PaMGCpaUlaboWNxXTbHMSc5NSErV8rHy0NHxsNNJ0NDXzixRyEwuATC0fTajCz2lAwUSdZJ1Uhcw8hWhDHSMdw1idaCMdYx2TWCsuhQoFW4Xo6Ogk7RTtdAWQ2nSQuqLEvPRUjVTNWJBICkIkGSKShBBJ1IzlUigoyswrUajQSdPQqtDkgtoItg9iG4pdQKsUyDYWpMJQxwRqGEwtmlKI12FhBQA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Ports @Command Masters Python 3 (non numpy). Takes splatted input. Innermost lists will be tuples.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, 23 bytes</h1>
<pre class="lang-r prettyprint-override"><code>\(x,d)aperm(x,1:d%%d+1)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72waMGiNNulpSVpuhbbYzQqdFI0EwtSi3KBLEOrFFXVFG1DTYjsTe0KBRtdhcSiosRKDUMrIxMdhZTMXAVbhWQNIx0FYx0FE01NrgquNKBOY6iWBQsgNAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>A situation where R has a built-in that meets the requirements! A function that takes a multidimensional array and the number of dimensions as its two parameters and returns a multidimensional array with the coordinates transposed left one.</p>
<p>Note that in the printout R loops through dimensions that are 3 or above, printing a 2d matrix for each 2d plane. Within that matrix, rows are dimension 1 and columns are dimension 2.</p>
<p>Thanks to @Giuseppe for suggesting a fix that works for 1-dimensional arrays.</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://uiua.org" rel="nofollow noreferrer">Uiua</a>, 3 bytes</h1>
<pre><code>⍉
</code></pre>
<p><a href="https://uiua.org/pad?src=4o2JW1sxXV0K4o2JW1tbWzEgMl1dXV0K4o2JW1sxIDIgM10gWzQgNSA2XV0K4o2JW1tbMSAyXSBbMyA0XV0gW1s1IDZdIFs3IDhdXV0K4o2JW1tbWzldXSBbWzEwXV1dXQrijYlbW1sxIDIgM10gWzQgNSA2XV0gW1s3IDggOV0gWzEwIDExIDEyXV1d" rel="nofollow noreferrer">Try it!</a></p>
<p>(When reading the output, dashes on the left indicate the rank of the array and whitespace separates axes.)</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 21 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>JΔ€`}\N&lt;Ý®K&quot;€&quot;×'ø«J.V
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f/f69yUR01rEmpj/GwOzz20zlsJyFM6PF398I5Dq730wv7/j46ONtQx0jGO1Yk20THVMYsFMqLNdSx0LIEMQwMdQ0MdQ6PY2FgA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/V9Waa@k8KhtkoKSfaXLf69zUx41rUmojfGzOTz30DpvJSBP6fB09cM7Dq320gv7r/M/OjraMDZWRyEaxNAxio2FcIBMHeNYnWgTHVMdM6g8SFon2ljHBMiPjgaJ60Sb61jEwrRbgsUNDWBmYBgSDVKuYwlkGBroGBrqGIKtAwA" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>J         # Join each inner-most list together to a single item
 Δ€`}\N&lt;  # Then determine the depth-2 of this multidimensional list
 Δ  }     #  Loop until it no longer changes:
  €`      #   Flatten it one level down
     \    #  After the changes-loop, discard the resulting flattened list
      N   #  Push the last 0-based index
       &lt;  #  Decrease it by 1
Ý         # Push a list in the range [0,depth-2]
 ®K       # Remove -1 so [0,-1] becomes [0]
&quot;€&quot;×      # Convert each value in this list to that many &quot;€&quot; as string
    'ø«  '# Append an &quot;ø&quot; to each string
       J  # Join this list of strings together
.V        # Evaluate and execute it as 05AB1E code on the (implicit) input
          # (after which the result is output implicitly)
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/V9Waa@k8KhtkoKSfaXLf69zUx41rUmojfGzOTz30DpvJSBP6fB09cM7Dq32@q/zPzo62jA2VkchGsTQMYqNhXCATB3jWJ1oEx1THTOoPEhaJ9pYxwTIj44GietEm@tYxMK0W4LFDQ1gZmAYEg1SrmMJZBga6Bga6hiCrQMA" rel="nofollow noreferrer">Try all test cases without the <code>.V</code></a> to see which maps/transpose builtins are actually being generated by <code>JΔ€`}\N&lt;Ý®K&quot;€&quot;×'ø«J</code>, where <code>€</code> is a map (and therefore <code>€€</code> a nested map) and <code>ø</code> transposes a matrix/2D-list, swapping its rows/columns.</p>
<p><em><strong>Minor notes:</strong></em></p>
<ol>
<li>Using <code>Δ€`}\NÍ</code> (where <code>Í</code> is -2) only seems to work for the last test case: <a href="https://tio.run/##yy9OTMpM/V9Waa@k8KhtkoKSfaXL/3NTHjWtSaiN8Tvce3juoXXeSkCu0uHp6od3HFrtpRf2X@d/dHS0YWysjkI0iKFjFBsL4QCZOsaxOtEmOqY6ZlB5kLROtLGOCZAfHQ0S14k217GIhWm3BIsbGsDMwDAkGqRcxxLIMDTQMTTUMQRbBwA" rel="nofollow noreferrer">try it online</a>; and with <code>&lt;</code> but without the leading <code>J</code> it works for some of the test cases, but not the last two: <a href="https://tio.run/##yy9OTMpM/V9Waa@k8KhtkoKSfaXL/3NTHjWtSaiN8bM5PPfQOm8lIE/p8HT1wzsOrfbSC/uv8z86OtowNlZHIRrE0DGKjYVwgEwd41idaBMdUx0zqDxIWifaWMcEyI@OBonrRJvrWMTCtFuCxQ0NYGZgGBINUq5jCWQYGugYGuoYgq0DAA" rel="nofollow noreferrer">try it online</a>; so using a leading <code>J</code> and <code>&gt;</code> works for all test cases.</li>
<li>The range builtin <code>Ý</code> also accepts negative values for its <span class="math-container">\$[0,n]\$</span>-ranged list. So for singular lists, it'll result in <code>[0,-1]</code> after both the <code>J</code> and <code>Δ€`}\N&lt;</code>, for which the <code>-1</code> are ignored by the <code>×</code> and it basically evaluates <code>ø-1ø</code>: <a href="https://tio.run/##yy9OTMpM/V9Waa@k8KhtkoKSfaXLf69zUx41rUmojfGzOTxXCchUOjxd/fCOQ6u99ML@6/yPjo42jI3VUYgGMXSMYmMhHCBTxzhWJ9pEx1THDCoPktaJNtYxAfKjo0HiOtHmOhaxMO2WYHFDA5gZGIZEg5TrWAIZhgY6hoY6hmDrAA" rel="nofollow noreferrer">try it online</a>.</li>
<li>Why use <code>&quot;€&quot;</code> for string <code>€</code> but <code>'ø</code> for string <code>ø</code>? Because <code>'</code> is also used for pushing <a href="https://codegolf.stackexchange.com/a/166851/52210">a dictionary word</a>, and <code>'€×</code> is apparently the dictionary word <code>view</code>: <a href="https://tio.run/##yy9OTMpM/f9f/VHTmsPT//8HAA" rel="nofollow noreferrer">try it online</a>; whereas <code>'ø«</code> is coincidentally none: <a href="https://tio.run/##yy9OTMpM/f9f/fCOQ6v//wcA" rel="nofollow noreferrer">try it online</a>.</li>
</ol>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 42 bytes</h1>
<pre><code>⊞υθＦυ«≔Ｅ⌊ιＥι§μληＷι≔⊟ικＦη⊞ικＦη¿⁺⟦⟧⌊κ⊞υκ»⭆¹θ
</code></pre>
<p><a href="https://tio.run/##XU65asNAEK2tr3jlLIwhcnwFVy5dGAQphQrhawetJFvSJoHgb1/PCrvxNHO962DL7tCWLoTM95Y842Y2ybntQN7gP5ls@14uDe3LK@2lkdrXJIYRd2Fsh11zPP1RzXDG6N0qe/JrxZ2gODzZWXsdWVX8juLWYDSUt6OcQZnzPeWFmjwNK5XGK1@E35Osk2ag70HbJWZJY3CzCSHX0mXG@FSFfM5YMJZFnPMVY834inP6wUgVl84KrTD9cQ8" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation: Port of @CommandMaster's Python 3 answer.</p>
<pre><code>⊞υθ
</code></pre>
<p>Start by processing the input array.</p>
<pre><code>Ｆυ«
</code></pre>
<p>Loop over the arrays that need to be transposed.</p>
<pre><code>≔Ｅ⌊ιＥι§μλη
</code></pre>
<p>Transpose the top two dimensions of the current array.</p>
<pre><code>Ｗι≔⊟ικＦη⊞ικ
</code></pre>
<p>Replace the contents of the original array with that of the transposed array, thus transposing the array in-place.</p>
<pre><code>Ｆη¿⁺⟦⟧⌊κ⊞υκ
</code></pre>
<p>If the elements of the transposed arrays are themselves arrays rather than lists of numbers, then push those arrays so that they get transposed in-place.</p>
<pre><code>»⭆¹θ
</code></pre>
<p>Pretty-print the final state of the original array.</p>
<p>41 bytes using the newer version of Charcoal on ATO:</p>
<pre><code>Ｗ⁺⟦⟧ΣΣθ«⊞υＬ⌊⌊θＵＭθΣκ»≔Ｅ⌊θＥθ§λκθＦ⮌υ≔⪪θιθ⭆¹θ
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=TY_BasMwDIbPzVOInmRQYenWtaWnstNghbAcQw5Z6iamjtPEdjcYe5JdetjY3menvs1kmsEERrL0_T_S-3dZF33ZFvp0-vRuN1mcf55rpSVgor3FLCdIfYPhdUIIeI1Gibc1eoIHaSpX40YZ1fD4LwdMrKLRpjjctU1TmC12F5N96L9Fa2tVZZDn_zQE4c_g2t2brXxBTcA89zsW7doe8FEeZW8lel5j8EgPWrmgUgOY9Mo4TB2nKhjGoS1WH_aptMOBX9l4ctTj_DzLOBiYElzzmdkNwYzgNg91NidYECxDHV8RxMzF05zjYvIL" rel="nofollow noreferrer" title="Charcoal – Attempt This Online">Attempt This Online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>Ｗ⁺⟦⟧ΣΣθ«
</code></pre>
<p>Until the input array has two dimensions, ...</p>
<pre><code>⊞υＬ⌊⌊θ
</code></pre>
<p>... record the number of elements in the third dimension, and...</p>
<pre><code>ＵＭθΣκ
</code></pre>
<p>... flatten the third dimension into the second dimension.</p>
<pre><code>»≔Ｅ⌊θＥθ§λκθ
</code></pre>
<p>Transpose the array.</p>
<pre><code>Ｆ⮌υ
</code></pre>
<p>Loop over the sizes of the dimensions.</p>
<pre><code>≔⪪θιθ
</code></pre>
<p>Unflatten the array.</p>
<pre><code>⭆¹θ
</code></pre>
<p>Pretty-print the final array.</p>
<p>32 bytes by taking the dimensions of the array as a second argument:</p>
<pre><code>Ｆ✂η²ＵＭθΣκ≔Ｅ⌊θＥθ§λκθＦ⮌✂η²≔⪪θιθ⭆¹θ
</code></pre>
<p>Explanation: As above, but using the input dimensions, ignoring the first two which aren't needed.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/265768/">265768</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




