<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::122146</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>083</td><td>PowerShell Core</td><td>240209T021139Z</td><td><a href="https://codegolf.stackexchange.com/questions/122146/golf-you-an-anagram-for-great-good/269929#269929">Julian</a></td></tr>
<tr d-ix="1"><td>014</td><td>Vyxal D</td><td>240208T230816Z</td><td><a href="https://codegolf.stackexchange.com/questions/122146/golf-you-an-anagram-for-great-good/269925#269925">emanresu</a></td></tr>
<tr d-ix="2"><td>117</td><td>Python 2</td><td>170523T103804Z</td><td><a href="https://codegolf.stackexchange.com/questions/122146/golf-you-an-anagram-for-great-good/122192#122192">Dead Pos</a></td></tr>
<tr d-ix="3"><td>015</td><td>Jelly</td><td>170523T070109Z</td><td><a href="https://codegolf.stackexchange.com/questions/122146/golf-you-an-anagram-for-great-good/122151#122151">user6213</a></td></tr>
<tr d-ix="4"><td>128</td><td>Javascript ES6</td><td>170523T213307Z</td><td><a href="https://codegolf.stackexchange.com/questions/122146/golf-you-an-anagram-for-great-good/122288#122288">Tim</a></td></tr>
<tr d-ix="5"><td>428</td><td>Java 7</td><td>170523T112555Z</td><td><a href="https://codegolf.stackexchange.com/questions/122146/golf-you-an-anagram-for-great-good/122198#122198">Kevin Cr</a></td></tr>
<tr d-ix="6"><td>096</td><td>Bash</td><td>170523T144733Z</td><td><a href="https://codegolf.stackexchange.com/questions/122146/golf-you-an-anagram-for-great-good/122214#122214">DrnglVrg</a></td></tr>
<tr d-ix="7"><td>022</td><td>05AB1E</td><td>170523T151204Z</td><td><a href="https://codegolf.stackexchange.com/questions/122146/golf-you-an-anagram-for-great-good/122221#122221">Riley</a></td></tr>
<tr d-ix="8"><td>017</td><td>CJam</td><td>170523T070025Z</td><td><a href="https://codegolf.stackexchange.com/questions/122146/golf-you-an-anagram-for-great-good/122150#122150">Martin E</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/PowerShell/PowerShell" rel="nofollow noreferrer">PowerShell Core</a>, 83 bytes</h1>

<pre class="lang-powershell prettyprint-override"><code>&amp;($f={for(;$r-eq$o){$r=-join(($o=&quot;&amp;(`$f={$f})&quot;)|% t*y|sort-object{get-random})}$r})
</code></pre>
<p><a href="https://tio.run/##FcphDoIwDAbQqxBSSWvSE5jdRcEOJcinZQkhY2ef4f1@X2zm68vmWQe41doxxZAjnG/kaj@CZPKgE94LMyG0Hd/PQrFIK8elSdf9WOFJ0U82pDxaUn8sT3yKFPIitf4B" rel="nofollow noreferrer" title="PowerShell Core – Try It Online">Try it online!</a></p>
<p>This is a variation of the quine <code>&amp;($f={&quot;&amp;(`$f={$f})&quot;})</code></p>
<pre class="lang-powershell prettyprint-override"><code>&amp;($f={for(;$r-eq$o){$r=-join(($o=&quot;&amp;(`$f={$f})&quot;)|% t*y|sort-object{get-random})}$r})
                             ($o=&quot;&amp;(`$f={$f})&quot;)                                     # Stores the original quine in $o
                    $r=-join(                  |% t*y|sort-object{get-random})      # Shuffles the characters and store it in $r
      for(;$r-eq$o){                                                          }$r   # Exit the while loop and print when the shuffled quine is not the same as the origin quine
&amp;($f={                                                                           }) # Quine structure, to create a function and run it automatically
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-2" rel="nofollow noreferrer">Vyxal</a> <code>D</code>, 14 bytes</h1>
<pre><code>`q‛:Ė+:Ṗ$o℅`:Ė
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2&amp;c=1#WyJEIiwiIiwiYHHigJs6xJYrOuG5liRv4oSFYDrEliIsIiIsIiJd" rel="nofollow noreferrer">Try it Online!</a></p>
<p>For a version that doesn't require ~1.2TB of RAM:</p>
<h1><a href="https://github.com/Vyxal/Vyxal/tree/version-2" rel="nofollow noreferrer">Vyxal</a> <code>D</code>, 16 bytes</h1>
<pre><code>`q‛:Ė+D{|Þ℅~=`:Ė
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2&amp;c=1#WyJEIiwiIiwiYHHigJs6xJYrRHt8w57ihIV+PWA6xJYiLCIiLCIiXQ==" rel="nofollow noreferrer">Try it Online!</a></p>
<p>Both of these use a fairly generic quine structure combined with some &quot;generate some permutation other than the input&quot; code.</p>
<h3>Generic quine structure</h3>
<pre><code>`        `:Ė # Evaluate the previous code on itself
 q.          # Uneval
     +       # Append
  ‛:Ė        # &quot;:Ė&quot;
      ...    # Apply some transformation
</code></pre>
<pre><code> Ṗ    # Get all permutations of the input
: $o  # Remove the original string
    ℅ # Choose a random element
</code></pre>
<pre><code> {      # While   
D |  ~= # The current string equals the input
   Þ℅   # Shuffle it
</code></pre>
</div>
<div id="pu2" class="pu"><h2>Python 2, 117 bytes</h2>

<p>Surprisingly this solution is shorter than I expected. Shuffles source code, until it differs from the original.   </p>

<p>-2 bytes, thanks to @mbomb007<br>
-3 bytes, thanks to @Wondercricket</p>

<p><a href="https://tio.run/nexus/python2#LYw9DgIhEEb7PQWhGXDVA0jmBlTUNgTHLIa/DJusF7dGEq3el7x8b3RkKeWTaxbsy2Mi5lZ5PxmHMOV9Wlj7Cr8Bht4URAdj0S3HFhMJi@huFgGurxqL6j63RMqdExXltNZL41h2YWfg/x7jU@ol@LDRFw" rel="nofollow noreferrer">Try it online</a></p>

<pre><code>s=r"""from random import*;R='s=r\"""'+s+'\"""'+';exec s';L=R
while L==R:L=''.join(sample(R,len(R)))
print L""";exec s
</code></pre>

<p>This is one of the basic quines in python, that I've modified</p>

<pre><code>s = r"print 's = r\"' + s + '\"' + '\nexec(s)'"
exec(s)
</code></pre>

<p>Generating anagram is done by random module</p>

<pre><code>L=R
while L==R:L=''.join(sample(L,len(L)))
</code></pre>

<p>Where R contains sourcecode</p>

<pre><code>s=...
R='s=r\"""'+s+'\"""'+'\nexec s'
</code></pre>

<p>Triple quotes were needed as I was forced to keep actual lineseparators in code. Anagrams will have 3 lines anyway.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 15 bytes</h1>

<pre><code>“v0¡µṾ;ḢŒ!QḊX”v
</code></pre>

<p>Just to get things started; this is almost certainly beatable. This is basically just a combination of a universal quine constructor and a "pick a random permutation other than the input" function; the latter may be improvable, the former almost certainly is.</p>

<h2>Explanation</h2>

<p><strong>Universal quine constructor</strong></p>

<pre><code>“v0¡µṾ;Ḣ”v
“       ”v   Evaluate the following, given {itself} as argument:
 v0¡µ          No-op (which starts with "v")
     Ṿ         Escape string
      ;Ḣ       Append first character of {the argument}
</code></pre>

<p>This can be seen to be a quine if run by itself. It's also a proper quine by most definitions I know of; it doesn't read its own source (rather, it contains a literal that's "eval"ed, and is given a copy of itself as an argument), it can carry a payload (as seen here!), and the <code>v</code> outside the string literal is encoded by the <code>v</code> inside.</p>

<p><strong>Pick a random anagram</strong></p>

<pre><code>Œ!QḊX
Œ!     All permutations
  Q    Discard duplicates
   Ḋ   Discard the first (i.e. the string itself)
    X  Choose random element
</code></pre>

<p>This is really inefficient on a string this long, so I haven't been able to test the program as a whole, but I've tested it on shorter strings and it appears to function correctly.</p>
</div>
<div id="pu4" class="pu"><h1>Javascript (ES6), 128 bytes</h1>

<pre><code>!function a(){b="!"+a+"()",c=b.split(""),c.sort(()=&gt;Math.round(Math.random())-.5),c!=b.split("")?console.log(c.join("")):a()}();
</code></pre>

<p>Uses sort() returning random -1,0, or 1 to shuffle the output.</p>
</div>
<div id="pu5" class="pu"><h1>Java 7, <s>376</s> <s>428</s> <s>426</s> 428 bytes</h1>

<pre class="lang-java prettyprint-override"><code>import java.util.*;class M{public static void main(String[]a){String s=&quot;import java.util.*;class M{public static void main(String[]a){String s=%c%s%1$c,x=s=s.format(s,34,s);for(List l=Arrays.asList(x.split(%1$c%1$c));x.equals(s);s=s.join(%1$c%1$c,l))Collections.shuffle(l);System.out.print(s);}}&quot;,x=s=s.format(s,34,s);for(List l=Arrays.asList(x.split(&quot;&quot;));x.equals(s);s=s.join(&quot;&quot;,l))Collections.shuffle(l);System.out.print(s);}}
</code></pre>
<p>+52 and +2 bytes for two bug-fixes.. I wasn't checking (correctly) if the randomly generating String was equal to the original source-code. The chances of this are astronomical small considering the amount of characters involved, but I have to validate it regardless to comply to the challenge rules.</p>
<p>My first <a href="/questions/tagged/quine" class="post-tag" title="show questions tagged &#39;quine&#39;" rel="tag">quine</a> answer in Java..<br />
<a href="https://tio.run/nexus/java-openjdk#rY4xSwQxEIX/SgguJLI3INotW4itV10pFmPMejlmN2tmcuxx3M@2XhPE0kKxGGYew3vvW8M4xyTqgEeELIHgunOEzGp7nvMLBadYUMo6xvCqRgyT2UkK09vTM9rz16m41/@U07iGm5sr1y499wxDTCOK4fb2rmXbFWkeA4ui/j4lPDEgV20W4JmCmGqtY223gH/PSGyKr0YdYqn8/rdk7UMk8k5CnBh4n4eBvCHb7U4sfoSYBeYCJdV/ueg/Amn9E4rWv4ZY148pbhy6vf8E" rel="nofollow noreferrer">Try it here.</a></p>
<p>You can remove both <code>Collections.shuffle(l)</code> and add <code>!</code> in front of both the <code>x.equals(s)</code> to verify that the output indeed equals the program:<br />
<a href="https://tio.run/nexus/java-openjdk#rY0xC8IwEIX/SgwWEikB0a10cNepozicsUokbWruWlpKf3tNEEcdxOF49@C9982mapwndocOVEvGqlWmLSCyw9i0Z2s0QwIK0jlzYRWYWhTkTX07nkCOr5dhzv@0k@gEk/VSp32OOaqr8xWQwHSzTVFmwYq9QWI233kPAyrA6EWvsLGGRKzGkzJb9Kp8tGBRhGLcurvAfAdSGyLFgFRWyrWkmsCnmJwm/iOb849Uzr/w5vkJ" rel="nofollow noreferrer">Try it here.</a></p>
<p><strong>Explanation:</strong></p>
<ul>
<li>The <code>String s</code> contains the unformatted source code.</li>
<li><code>%s</code> is used to input this String into itself with the <code>s.format(...)</code>.</li>
<li><code>%c</code>, <code>%1$c</code> and the <code>34</code> are used to format the double-quotes.</li>
<li><code>s.format(s,34,s)</code> puts it all together</li>
</ul>
<p>And this part of the code is responsible for outputting a random anagram:</p>
<pre class="lang-java prettyprint-override"><code>// Strings `s` and `x` now both contain the source-code:
x=s=s.format(s,34,s);

// Create a list with the characters of this source-code-String and loop
for(List l=Arrays.asList(x.split(&quot;&quot;));
    // as long as String `x` equals String `s`
    x.equals(s);
    // Shuffle the list, and set it to `s` in every iteration of the loop:
    s=s.join(&quot;&quot;,l))Collections.shuffle(l);
// End of loop (implicit / single-line body)

// And then print the random anagram to STDOUT:
System.out.print(x);
</code></pre>
</div>
<div id="pu6" class="pu"><h1>Bash, <s>27</s> 96 bytes</h1>
<pre><code>i=`cat $0`&amp;&amp;e=`fold -w1 $0|shuf|tr -d '\n'`&amp;&amp;while [ &quot;$e&quot; = &quot;$i&quot; ]; do `$0`; exit; done&amp;&amp;echo $e
</code></pre>
<p><code>fold</code> divides the code in lines, <code>shuf</code> shuffles the lines, and <code>tr</code> put the code back together</p>
<p>fixed the issue of it outputing itself, now it will never output itself</p>
<p><a href="https://tio.run/##FYxBCoAgFAWv8hDJVVDr8CQVaPlDIRTKsIV3t99qeMNjNnv71oI2u82Qg@k60uZIp0NfRhb19s9R84XeQS1R8aH4cBJmCEkCmhEE1gkuwXBgAr0h/zMSx3afIKm1Dw" rel="nofollow noreferrer">Try it Online!</a></p>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, 22 bytes</h1>

<pre><code>"34çìDJœ¦.R"34çìDJœ¦.R
</code></pre>

<p>This creates a list that is too big for TIO, so the link uses a smaller string, but the idea is the same.</p>

<p><a href="https://tio.run/nexus/05ab1e#@6@UmJSsZGxyePnhNS5eRycfWqYX9P//17x83eTE5IxUAA" rel="nofollow noreferrer" title="05AB1E – TIO Nexus">Try it online!</a></p>

<pre><code>"34çìDJœ¦.R"           # Push this string
            34ç        # Push "
               ì       # Prepend
                DJ     # Duplicate and join 
                  œ¦   # Push all permutations except the original
                    .R # Pick a random element
</code></pre>
</div>
<div id="pu8" class="pu"><h2><a href="https://sourceforge.net/p/cjam" rel="nofollow noreferrer">CJam</a>, 17 bytes</h2>

<pre><code>{`"_~"+m!(a-mR}_~
</code></pre>

<p>This isn't going to finish any time soon, so no TIO link this time.</p>

<p>As a consolation, here is a 20 byte solution that does terminate very quickly:</p>

<pre><code>{`"_~"+:S{mr_S=}h}_~
</code></pre>

<p><a href="https://tio.run/nexus/cjam#@1@doBRfp6RtFVydWxQfbFubURtf9/8/AA" rel="nofollow noreferrer" title="CJam – TIO Nexus">Try it online!</a></p>

<h3>Explanation</h3>

<pre><code>{`"_~"+   e# Standard quine framework, leaves a string equal to the source
          e# code on the stack.
  m!      e# Get all permutations. The first one will always be the original order.
  (a      e# Remove that copy of the source code and wrap it in a new list.
  -       e# Remove all copies of the source code from the list of permutations.
  mR      e# Pick a random permutation.
}_~
</code></pre>

<p>The 20 byte solution instead shuffles the source code until its different from the original.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/122146/">122146</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




