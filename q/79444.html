<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::79444</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>6125</td><td>Vyxal</td><td>230927T175757Z</td><td><a href="https://codegolf.stackexchange.com/questions/79444/finite-cantors-diagonal/265533#265533">Pacmanbo</a></td></tr>
<tr d-ix="1"><td>022</td><td>J</td><td>160506T045538Z</td><td><a href="https://codegolf.stackexchange.com/questions/79444/finite-cantors-diagonal/79507#79507">miles</a></td></tr>
<tr d-ix="2"><td>nan</td><td>Retina</td><td>160505T151751Z</td><td><a href="https://codegolf.stackexchange.com/questions/79444/finite-cantors-diagonal/79456#79456">FryAmThe</a></td></tr>
<tr d-ix="3"><td>018</td><td>Perl</td><td>160509T155035Z</td><td><a href="https://codegolf.stackexchange.com/questions/79444/finite-cantors-diagonal/79659#79659">Ton Hosp</a></td></tr>
<tr d-ix="4"><td>041</td><td>JavaScript ES6</td><td>160506T141439Z</td><td><a href="https://codegolf.stackexchange.com/questions/79444/finite-cantors-diagonal/79523#79523">edc65</a></td></tr>
<tr d-ix="5"><td>021</td><td>Ruby</td><td>160506T102702Z</td><td><a href="https://codegolf.stackexchange.com/questions/79444/finite-cantors-diagonal/79515#79515">xsot</a></td></tr>
<tr d-ix="6"><td>045</td><td>Python 2</td><td>160505T163925Z</td><td><a href="https://codegolf.stackexchange.com/questions/79444/finite-cantors-diagonal/79460#79460">Dennis</a></td></tr>
<tr d-ix="7"><td>nan</td><td>PHP</td><td>160506T025156Z</td><td><a href="https://codegolf.stackexchange.com/questions/79444/finite-cantors-diagonal/79503#79503">ToXik-yo</a></td></tr>
<tr d-ix="8"><td>058</td><td>ClojureScript</td><td>160505T192054Z</td><td><a href="https://codegolf.stackexchange.com/questions/79444/finite-cantors-diagonal/79474#79474">MattPutn</a></td></tr>
<tr d-ix="9"><td>052</td><td>Mathematica</td><td>160505T165046Z</td><td><a href="https://codegolf.stackexchange.com/questions/79444/finite-cantors-diagonal/79462#79462">DavidC</a></td></tr>
<tr d-ix="10"><td>007</td><td>Jelly</td><td>160505T130607Z</td><td><a href="https://codegolf.stackexchange.com/questions/79444/finite-cantors-diagonal/79449#79449">Leaky Nu</a></td></tr>
<tr d-ix="11"><td>060</td><td>Reng v.3.3</td><td>160505T154712Z</td><td><a href="https://codegolf.stackexchange.com/questions/79444/finite-cantors-diagonal/79458#79458">Conor O&</a></td></tr>
<tr d-ix="12"><td>093</td><td>Java</td><td>160505T154630Z</td><td><a href="https://codegolf.stackexchange.com/questions/79444/finite-cantors-diagonal/79457#79457">Marv</a></td></tr>
<tr d-ix="13"><td>nan</td><td></td><td>160505T142304Z</td><td><a href="https://codegolf.stackexchange.com/questions/79444/finite-cantors-diagonal/79455#79455">Leaky Nu</a></td></tr>
<tr d-ix="14"><td>014</td><td>CJam</td><td>160505T125249Z</td><td><a href="https://codegolf.stackexchange.com/questions/79444/finite-cantors-diagonal/79446#79446">Peter Ta</a></td></tr>
<tr d-ix="15"><td>009</td><td>MATL</td><td>160505T124551Z</td><td><a href="https://codegolf.stackexchange.com/questions/79444/finite-cantors-diagonal/79445#79445">Suever</a></td></tr>
<tr d-ix="16"><td>037</td><td>J</td><td>160505T131956Z</td><td><a href="https://codegolf.stackexchange.com/questions/79444/finite-cantors-diagonal/79452#79452">Conor O&</a></td></tr>
<tr d-ix="17"><td>054</td><td>Python 2</td><td>160505T131904Z</td><td><a href="https://codegolf.stackexchange.com/questions/79444/finite-cantors-diagonal/79451#79451">orlp</a></td></tr>
<tr d-ix="18"><td>011</td><td>Pyth</td><td>160505T125621Z</td><td><a href="https://codegolf.stackexchange.com/questions/79444/finite-cantors-diagonal/79448#79448">orlp</a></td></tr>
<tr d-ix="19"><td>014</td><td>Pyth</td><td>160505T125613Z</td><td><a href="https://codegolf.stackexchange.com/questions/79444/finite-cantors-diagonal/79447#79447">Leaky Nu</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, 49 <a href="https://github.com/Vyxal/Vyncode/blob/main/README.md" rel="nofollow noreferrer">bits<sup>v2</a></sup>, 6.125 bytes</h1>
<pre><code>vfÞ/ċ›ṅ
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2#WyJhPSIsIiIsInZmw54vxIvigLrhuYUiLCIiLCIxMjM0XG40ODE1XG4xNjIzXG40MjExIl0=" rel="nofollow noreferrer">Try it Online!</a></p>
<p>Port of Jelly</p>
</div>
<div id="pu1" class="pu"><h1>J, <s>26</s> 22 bytes</h1>

<pre><code>1+1&gt;:i.@#{"_1"."0@":"0
</code></pre>

<p>Similar approach to the others using the <code>&lt;= 1</code> and <code>increment</code> method of the diagonal.</p>

<h2>Usage</h2>

<p>Only requires the list of integers as an argument.</p>

<pre><code>   f =: 1+1&gt;:i.@#{"_1"."0@":"0
   f 1234 4815 1623 4211
2 1 1 2
   f 92345678 23456789 34567890 45678901 56789012 67890123 78901234 89012345
1 1 1 1 1 2 1 1
</code></pre>
</div>
<div id="pu2" class="pu"><h1>Retina, <del>39</del> <del>38</del> 37</h1>

<pre><code>(?&lt;=(.*¶)*)(?&lt;-1&gt;.)*(.).*¶
$2
T`d`121
</code></pre>

<p>Saved 1 byte thanks Martin!</p>

<p>Requires a trailing linefeed in the input.</p>

<p>Gets diagonals and translates 0 and 2-9 to 1 and 1 to 2.</p>

<p>The basic idea for getting the diagonals is to push a capture for each row above the current row and then consume a capture to match a character, then keep the next character.</p>

<p><a href="http://retina.tryitonline.net/#code=KD88PSguKsK2KSopKD88LTE-LikqKC4pLirCtgokMgpUYGRgMTIx&amp;input=MTIzNAo0ODE1CjE2MjMKNDIxMAo" rel="nofollow">Try it online</a></p>
</div>
<div id="pu3" class="pu"><h1>Perl, 18 bytes</h1>

<p>Includes +1 for <code>-p</code></p>

<p>Run with the input lines on STDIN. Output is 1 except 2 when the diagonal is 1</p>

<p><code>cantor.pl</code></p>

<pre><code>#!/usr/bin/perl -p
pos=$.;$_=/1\G/+1
</code></pre>
</div>
<div id="pu4" class="pu"><h1>JavaScript (ES6), 41</h1>
<p>The %9+1 trick is borrowed from Suever's answer. For once, <code>.reduce</code> beats <code>.map</code>. Note, the <code>+=</code> operator is used to avoid parentheses.</p>
<pre><code>a=&gt;+a.reduce((t,n,d)=&gt;t+=(n+t)[d]%9+1,'')
</code></pre>
</div>
<div id="pu5" class="pu"><h1>Ruby, 21 bytes</h1>

<pre><code>$&gt;&lt;&lt;$_[$.-1].hex%2+1
</code></pre>

<p>A full program. Run with the <code>-n</code> flag. Uses the following mapping: <code>n -&gt; n%2+1</code>.</p>
</div>
<div id="pu6" class="pu"><h1>Python 2, <s>47</s> 45 bytes</h1>

<pre><code>lambda x,n:int(`x`[1::n+3])%(10**n/2)+10**n/9
</code></pre>

<p><em>Thanks to @xnor for golfing off 2 bytes!</em></p>

<p>Test it on <a href="http://ideone.com/B7wAft" rel="nofollow">Ideone</a>.</p>

<h3>How it works</h3>

<p><code>`x`</code> yields a string representation of the list <strong>x</strong>.</p>

<p>For the first test case, this gives the <em>string</em></p>

<pre><code>[92345678, 23456789, 34567890, 45678901, 56789012, 67890123, 78901234, 89012345]
</code></pre>

<p><code>[1::n+3]</code> retrieves every <strong>(n + 3)</strong><sup>th</sup> character – where <strong>n</strong> is the length of <strong>x</strong> starting with the second one. Accounting <strong>2</strong> characters for <code>,</code>, we retrieve the first digit of the first number, the second digit of the second number, etc.</p>

<pre><code>[92345678, 23456789, 34567890, 45678901, 56789012, 67890123, 78901234, 89012345]
 ^          ^          ^          ^          ^          ^          ^          ^
</code></pre>

<p>We now take the number modulo <strong>10<sup>n</sup> ÷ 2</strong> to map the first digit in the range <strong>[0, 4]</strong>.</p>

<p>For <strong>93579135</strong>, we get <strong>93579135 % 50000000 = 43579135</strong>.</p>

<p>Finally, we add <strong>10<sup>n</sup> ÷ 9</strong> to the last result, which increments – wrapping around from <strong>9</strong> to <strong>0</strong> – all digits by <strong>1</strong> (no carry) or <strong>2</strong> (with carry).</p>

<p>For <strong>43579135</strong>, we get <strong>43579135 + 11111111 = 54690246</strong>.</p>
</div>
<div id="pu7" class="pu"><p><strong>PHP, 46/41/40 bytes</strong></p>

<pre><code>while($a=$argv[++$i])echo($b=9-$a[$i-1])?$b:1;

while($a=$argv[++$i])echo$a[$i-1]==7?6:7;

while($a=$argv[++$i])echo($a[$i-1]%2)+1;
</code></pre>

<p>Various digit selectors for comparison. I thought "9-digit" would be shortest, but the special case needed to keep a zero out of the first digit overwhelms it.</p>

<p>Fed from CLI arguments:</p>

<pre><code>php -r "while($a=$argv[++$i])echo($b=9-$a[$i-1])?$b:1;" 12345678 23456789 34567890 45678901 56789012 67890123 78901234 89012345
86421864
</code></pre>
</div>
<div id="pu8" class="pu"><h1>ClojureScript, 58 chars</h1>

<pre><code>#(int(apply str(map-indexed(fn[i x](- 9(get(str x)i)))%)))
</code></pre>

<p>Type requirements made this a little longer than necessary, and <code>map-indexed</code> being so many chars didn't help.</p>

<p>Often my submissions are valid Clojure as well, but this is using some of ClojureScript's leakiness with JavaScript.  Subtraction of a number and string coerces the string to a number--that is, <code>(- 9 "5")</code> equals <code>4</code>.</p>
</div>
<div id="pu9" class="pu"><h1>Mathematica 52 bytes</h1>
<pre><code>FromDigits[Mod[#,2]+1&amp;/@Diagonal[IntegerDigits/@#]]&amp;
</code></pre>
<p>This follows the approach of Peter Taylor and others (without using Ascii codes).</p>
<p>Example</p>
<pre><code>FromDigits[Mod[#,2]+1&amp;/@Diagonal[IntegerDigits/@ #]]&amp;[{1234,4815,1623,4211}]
</code></pre>
<blockquote>
<p>2112</p>
</blockquote>
</div>
<div id="pu10" class="pu"><h1>Jelly, <s>8</s> 7 bytes</h1>
<p>1 byte saved thanks to Dennis.</p>
<pre><code>DŒDḢỊ‘Ḍ
</code></pre>
<p><a href="http://jelly.tryitonline.net/#code=RMWSROG4ouG7iuKAmOG4jA&amp;input=&amp;args=OTIzNDU2NzgsMjM0NTY3ODksMzQ1Njc4OTAsNDU2Nzg5MDEsNTY3ODkwMTIsNjc4OTAxMjMsNzg5MDEyMzQsODkwMTIzNDU" rel="nofollow noreferrer">Try it online!</a></p>
<h3>Explanation</h3>
<pre><code>DŒDḢỊ‘Ḍ    Main link. Takes list as argument.
D          Convert each integer to decimal.
 ŒD        Get the diagonals.
   Ḣ       Get the first diagonal.
    Ị      Check if every digit &lt;= 1.
     ‘     Increment every digit.
      Ḍ    Convert back to integer from decimal.
</code></pre>
<p>Converts each digit to <code>1</code>, except <code>0</code> and <code>1</code> becomes <code>2</code>.</p>
</div>
<div id="pu11" class="pu"><h1>Reng v.3.3, 60 bytes</h1>

<pre><code>k1-#kaiír1ø          ~; !nb$&lt;
1[å{$}k*$k1-#k)9(-#oa$;]o)ks^$
</code></pre>

<p>For Reng, that was rather simple. <a href="https://jsfiddle.net/Conor_OBrien/avnLdwtq/" rel="nofollow">Try it here!</a> Input is a space-separated list of numbers.</p>

<h2>1: init</h2>

<pre><code>k1-#kaiír1ø
</code></pre>

<p><code>k</code> is the number of inputs (number of numbers), and we decrement by 1 and restore for the loop stage. <code>aií</code> takes all input. <code>r</code> reverses the stack for the processing of input. <code>1ø</code> goes to the next line.</p>

<h2>2: loop</h2>

<pre><code>1[å{$}k*$k1-#k)9(-#oa$;]o)ks^$
</code></pre>

<p><code>1[</code> takes the top item off the stack and into a new stack. <code>å</code> splits it into digits. <code>{$}</code> pushes a code block containing the operation "drop"; this is repeated <code>k</code> times (<code>k*</code>) and the code block is dropped (<code>$</code>. <code>k1-#k</code> decrements <code>k</code>. <code>)9(</code> puts <code>9</code> at the STOS, and <code>-</code> subtracts TOS from the STOS. <code>#o</code> stores this number in <code>o</code>, and <code>a$;</code> drops all the members of the stack. <code>]</code> closes the parent stack. <code>o</code> puts <code>o</code> back at the top; this is our digit we're saving. <code>)</code> moves it to the bottom so that we can continue our looping. <code>s</code> usually checks for non-input (i.e., equality to <code>-1</code>), but we can use it to break out of our loop when <code>k == -1</code>. So <code>s^</code> goes up when <code>k == -1</code>. <code>$</code> drops <code>k</code> from the stack, and our loop begins again.</p>

<h2>3: final</h2>

<pre><code>                     ~; !nb$&lt;
</code></pre>

<p><code>&lt;</code> directs the pointer left, and <code>$</code> drops <code>k</code> from the stack. <code>b</code> is a leftway mirror, so we enter through it, but it bounce back when hitting <code>;</code>, a stack-condition mirror. <code>!n</code> prints a digit if and only if we're going left. <code>~</code> ends the program when we're done printing.</p>
</div>
<div id="pu12" class="pu"><h1>Java, 93 bytes</h1>
<pre><code>String k(int n,int[]a){String s=&quot;&quot;;for(int i=0;i&lt;n;)s+=(a[i]+s).charAt(i++)&lt;57?9:1;return s;}
</code></pre>
<h3>Ungolfed</h3>
<pre><code>String k(int n, int[] a) {
    String s = &quot;&quot;;
    for (int i = 0; i &lt; n; ) 
        s += (a[i] + s).charAt(i++) &lt; 57 ? 9 : 1;
    return s;
}
</code></pre>
<h3>Output</h3>
<pre><code>Input:
12345678
23456789
34567890
45678901
56789012
67890123
78901234
89012345

Output:
99991999

Input:
1234
4815
1623
4211

Output:
9999
</code></pre>
</div>
<div id="pu13" class="pu">

<h1>Java, 94 bytes</h1>

<pre class="lang-java prettyprint-override"><code>int c(int[]d){int p=1,r=0,l=d.length,i=0;for(;i&lt;l;p*=10)r+=(d[l-++i]/p%10==1?2:1)*p;return r;}
</code></pre>

<p>Pure numeric operations for the win! :)</p>

<h3>Sample input/output:</h3>

<pre class="lang-java prettyprint-override"><code>8            &lt;-- size
12345678     &lt;-- start of list
23456789
34567890
45678901
56789012
67890123
78901234
89012345     &lt;-- end of list
21111211     &lt;-- result from ungolfed code
21111211     &lt;-- result from golfed code
</code></pre>

<h3>Full program (with ungolfed code):</h3>

<pre class="lang-java prettyprint-override"><code>import java.util.Scanner;

public class Q79444 {
    int cantor_ungolfed(int[] data){
        int power = 1;
        int result = 0;
        for(int i=0;i&lt;data.length;i++){
            result += (((data[data.length-i-1]/power))%10==1? 2 : 1)*power;
            power *= 10;
        }
        return result;
    }
    int c(int[]d){int p=1,r=0,l=d.length,i=0;for(;i&lt;l;p*=10)r+=(d[l-++i]/p%10==1?2:1)*p;return r;}
    public static void main(String args[]){
        Scanner sc = new Scanner(System.in);
        int n = sc.nextInt();
        int[] input = new int[n];
        for(int i=0;i&lt;n;i++){
            input[i] = sc.nextInt();
        }
        System.out.println(new Q79444().cantor_ungolfed(input));
        System.out.println(new Q79444().c(input));
        sc.close();
    }
}
</code></pre>
</div>
<div id="pu14" class="pu"><h2>CJam (<strike>15</strike> 14 bytes)</h2>

<pre><code>qN/ee{:=i2%)}%
</code></pre>

<p><a href="http://cjam.aditsu.net/#code=qN%2Fee%7B%3A%3Di2%25)%7D%25&amp;input=12345678%0A23456789%0A34567890%0A45678901%0A56789012%0A67890123%0A78901234%0A89012346" rel="nofollow noreferrer">Online demo</a></p>

<p>Thanks to <a href="https://codegolf.stackexchange.com/users/34388/adnan">Adnan</a> for a one-byte saving.</p>

<h3>Dissection</h3>

<pre><code>qN/    e# Split input on newlines
ee{    e# Label each line with its index and map:
  :=i  e#   Get the character at the same index (i.e. diagonalise)
  2%)  e#   Compute (ASCII value mod 2) + 1
       e#   Maps 0 1 2 3 4 5 6 7 8 9
       e#     to 1 2 1 2 1 2 1 2 1 2
}%
</code></pre>
</div>
<div id="pu15" class="pu"><h1>MATL, <s>11</s> <s>10</s> 9 bytes</h1>
<pre><code>VXd9\QV!U
</code></pre>
<p>Takes only a column vector of integers as input. <code>N</code> is not provided.</p>
<p><a href="http://matl.tryitonline.net/#code=VlhkOVxRViFV&amp;input=WzIyMzQ1Njc4OzIzNDU2Nzg5OzM0NTY3ODkwOzQ1Njc4OTAxOzU2Nzg5MDEyOzY3ODkwMTIzOzc4OTAxMjM0Ozg5MDEyMzQ1XQ" rel="nofollow noreferrer"><strong>Try it Online</strong></a></p>
<p><strong>Explanation</strong></p>
<pre><code>    % Implicity grab input as column vector of numbers
V   % Convert the input column vector into a 2D character array
Xd  % Grab the diagonal elements of the character array
9\  % Take the modulus of each ASCII code and 9
Q   % Add 1 to remove all zeros
V   % Convert the result to a string
!   % Transpose to yield a row vector of characters
U   % Convert back to an integer (as per the rules)
    % Implicitly display result
</code></pre>
</div>
<div id="pu16" class="pu"><h1>J, 37 bytes</h1>

<pre><code>f@(9&amp;-@"."0@((&gt;:@#*i.@#){f=:[:,":"0))
</code></pre>

<p>Can probably be golfed, but I forgot if there was a command for "diagonals".</p>
</div>
<div id="pu17" class="pu"><h1>Python 2, 54 bytes</h1>

<pre><code>d,r=1,""
for n in input():r+=`1+-~n/d%9`;d*=10
print r
</code></pre>
</div>
<div id="pu18" class="pu"><h1>Pyth, 11 bytes</h1>

<pre><code>jk.eh!ts@`b
</code></pre>

<p>Simple loop, change every digit to 1, except 1 becomes 2.</p>
</div>
<div id="pu19" class="pu"><h1>Pyth, 14 bytes</h1>

<pre><code>s.e|-\1@bk\2`M
</code></pre>

<p><a href="http://pyth.herokuapp.com/?code=s.e|-%5C1%40bk%5C2%60M&amp;input=12345678%2C23456789%2C34567890%2C45678901%2C56789012%2C67890123%2C78901234%2C89012345&amp;debug=0" rel="nofollow">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/79444/">79444</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




