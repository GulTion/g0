<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::42289</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>081</td><td>Julia</td><td>230405T205225Z</td><td><a href="https://codegolf.stackexchange.com/questions/42289/return-the-clock-emoji-closest-to-the-current-time-when-run/259791#259791">Ashlin H</a></td></tr>
<tr d-ix="1"><td>265</td><td>Go</td><td>230309T203510Z</td><td><a href="https://codegolf.stackexchange.com/questions/42289/return-the-clock-emoji-closest-to-the-current-time-when-run/259000#259000">bigyihsu</a></td></tr>
<tr d-ix="2"><td>098</td><td>Wolfram Language Mathematica</td><td>230331T000302Z</td><td><a href="https://codegolf.stackexchange.com/questions/42289/return-the-clock-emoji-closest-to-the-current-time-when-run/259593#259593">138 Aspe</a></td></tr>
<tr d-ix="3"><td>098</td><td>C gcc with m32</td><td>230318T042743Z</td><td><a href="https://codegolf.stackexchange.com/questions/42289/return-the-clock-emoji-closest-to-the-current-time-when-run/259217#259217">ErikF</a></td></tr>
<tr d-ix="4"><td>047</td><td>Bash + Coreutils</td><td>141211T194421Z</td><td><a href="https://codegolf.stackexchange.com/questions/42289/return-the-clock-emoji-closest-to-the-current-time-when-run/42311#42311">Digital </a></td></tr>
<tr d-ix="5"><td>095</td><td>JavaScript – 137 117 107 102</td><td>141211T184900Z</td><td><a href="https://codegolf.stackexchange.com/questions/42289/return-the-clock-emoji-closest-to-the-current-time-when-run/42306#42306">PurkkaKo</a></td></tr>
<tr d-ix="6"><td>030</td><td>05AB1E</td><td>230310T085214Z</td><td><a href="https://codegolf.stackexchange.com/questions/42289/return-the-clock-emoji-closest-to-the-current-time-when-run/259014#259014">Kevin Cr</a></td></tr>
<tr d-ix="7"><td>134</td><td>Pascal</td><td>230309T133717Z</td><td><a href="https://codegolf.stackexchange.com/questions/42289/return-the-clock-emoji-closest-to-the-current-time-when-run/258972#258972">Kai Burg</a></td></tr>
<tr d-ix="8"><td>050</td><td>CJam</td><td>141211T204013Z</td><td><a href="https://codegolf.stackexchange.com/questions/42289/return-the-clock-emoji-closest-to-the-current-time-when-run/42312#42312">Optimize</a></td></tr>
<tr d-ix="9"><td>031</td><td>CJam</td><td>141219T141641Z</td><td><a href="https://codegolf.stackexchange.com/questions/42289/return-the-clock-emoji-closest-to-the-current-time-when-run/42528#42528">jimmy230</a></td></tr>
<tr d-ix="10"><td>054</td><td>Ruby —</td><td>141212T021237Z</td><td><a href="https://codegolf.stackexchange.com/questions/42289/return-the-clock-emoji-closest-to-the-current-time-when-run/42317#42317">colevk</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://julialang.org" rel="nofollow noreferrer">Julia</a>, 81 bytes</h1>
<pre><code>using Dates
n=now()
M=minute(n)
print('🕏'+mod1(hour(n)+(M&gt;44),12)+12(14&lt;M&lt;45))
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=lVC9TsMwEN79FCcvuVNMVYdEQlHLxNAlA2o3xBC1LjFKzsixxWMwMTHQpU_ExFvwCJgUBCs33qfv9-V4H3vbHg7HGPZnF-_XcbR8B1dtMKPgJbtHJNEsB8sxGGQSD95ywOzj9fkpywe309i56BOSY3NZlqR0QbkuUJeLZlFWRN_CbxOxZ5SAm87ANnpvOECwg4HOeAN2BKlOzrO980MbcLJXcrWqm6ZeryUpkCRJiIQDg2XYJPoMcV4X55QpuJkrXamyuiUB6Xq3bXv4G__r--8Kv6wpf0qZlAzvTtV-tvsE" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Julia is generally picky with types, but some common arithmetic statements involving <code>Char</code>, <code>Int</code>, and <code>Bool</code> are permitted. The <code>Int</code> values of the clock emojis are the range <code>128336:128359</code>. The emojis are encoded in ascending order, with all the twelve that are on the hour coming before the twelve half-past emojis. In this algorithm, <a href="https://en.wikipedia.org/wiki/Bowl_of_Hygieia" rel="nofollow noreferrer">the preceding character <code>'🕏'</code></a> is incremented by the 12-hour number (plus 1 if it's more than 44 minutes past the hour), and another 12 is added if the minute hand needs to be adjusted.</p>
<p>-17 bytes (!!) thanks to MarcMush: just use <code>Dates.minute</code> instead of parsing the time string</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://go.dev" rel="nofollow noreferrer">Go</a>, 265 bytes, function</h1>
<pre class="lang-go prettyprint-override"><code>import.&quot;time&quot;
func f()rune{N,H:=Now(),Hour/2
e,l:=N.Truncate(H),N.Round(H)
if e.Sub(N).Abs()&lt;l.Sub(N).Abs(){N=e}else{N=l}
return []rune(&quot;🕛🕧🕐🕜🕑🕝🕒🕞🕓🕟🕔🕠🕕🕡🕖🕢🕗🕣🕘🕤🕙🕥🕚🕦&quot;)[N.Hour()%12*2+N.Minute()/30]}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=VdBNToQwGAbguLSnICSaVrGjuDFGFu7Y2Bh1N5kFg4UQoUygjQvCHfwb_0YdHB09g0fRU3gEX8SNiydf-7Vp872TWZw3H6MgPAliaWVBokiSjfJCW3aUaXtudLS29bWw2DW5rZNM2iQyKrQiygqjZCUcf9sT-Slljp-boucS6aTo8CMch4GW1GeO4Ae5UcdYkiSyJD80QyoY3x2WlO2k_7aV8GQt0xIve2lNCqlNoaz-oP2M2t_T8QTe4Qwe4Bwe4QKe4BKmcAUNjOEZrmEGN_ACt_AKdzCHe3izWV_wdg7KljbcFXdV8L1EGUzBepvrg7pL5HP5N4I2L8qsiiArvl8kStNSo8QU4TBG_m43TVd_AA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Gets the current time, rounds up and down to the nearest half hour, finds the closer one, and returns the emoji that represents it.</p>
<h1><a href="https://go.dev" rel="nofollow noreferrer">Go</a>, 285 bytes, full program</h1>
<pre class="lang-go prettyprint-override"><code>package main
import.&quot;time&quot;
func main(){N,H:=Now(),Hour/2
e,l:=N.Truncate(H),N.Round(H)
if e.Sub(N).Abs()&lt;l.Sub(N).Abs(){N=e}else{N=l}
print(string([]rune(&quot;🕛🕧🕐🕜🕑🕝🕒🕞🕓🕟🕔🕠🕕🕡🕖🕢🕗🕣🕘🕤🕙🕥🕚🕦&quot;)[N.Hour()%12*2+N.Minute()/30]))}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=VdA7TsNAEAZg0foOSJElpB0wGzANQqSgc8MWQBelcJK1tcLetexdUUS-A6_wSiAmJHAnTsER-HkVFJ92djQaaf7JPDVNs3Q22dx9X1kt4sFpnMpWHivtqbwwpeW-Vbn0vcTpwXef0UgE0V5HmDNGQWRc2Q49GWTo8JMSU7GVLKJA8CPj9BClp5KW5MeuzwTxg37FaD_79x2JjqxlVkkUWe0VpdKWVRZPyro97JTM_5iNJ_AG5zCFC3iES3iCK5jBNTQwhme4gTncwgvcwQLuYQkP8OpTV_CvaxitbYfr4Ybgh0o73ELtna0eUf2T0m9Yf6F9Ag" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, 98 bytes</h1>
<pre><code>Print@FromCharacterCode[128336+Quotient[#,2]+12Mod[#,2]&amp;[Mod[Quotient[UnixTime[]-2700,900]/2,24]]]
</code></pre>
<p>Original Code is</p>
<pre><code>a = Mod[Quotient[UnixTime[] - 3 * 900, 900] / 2, 24];
result = FromCharacterCode[128336 + Quotient[a, 2] + Mod[a, 2] * 12];
Print[result]
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a> with <code>-m32</code>, <s>104</s> <s>100</s> 98 bytes</h1>
<ul>
<li>-6 thanks to ceilingcat</li>
</ul>

<pre class="lang-c prettyprint-override"><code>*t;f(i){char a[]=&quot;🕐&quot;;time(&amp;i);i=1[t=gmtime(&amp;i)]/15;a[3]=144+(t[2]+11+i/4)%12+(i-1U&lt;2)*12;puts(a);}
</code></pre>
<p><a href="https://tio.run/##TY1LCsIwGIT3niIEKkkf1KR1FeMtXIUuQjT1B1NLG92U3sGNa6/oCYxtQXA1fDPDjMlqY0KIvbAE6GDOukNaVRK/X88HFh7ciayBCpBMeVm7n1HlbCu0KirJyjIhXvEqYSyBvKQR4wmBjB12nMaMi/bme6KpGAM0HjkNDblf4UjRsEJotiCd7lczyGV@Q8UE/28zt93UtQRHPZJ7hFOke7Pkni65JZOM4WPsRdd9yFzBvw" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
<p>Ungolfed:</p>

<pre class="lang-c prettyprint-override"><code>*t; // broken-down time structure ([1]=minutes, [2]=hours)
f(i){ // time
  char a[]=&quot;🕐&quot;; // base emoji in modifiable UTF-8 string
  time(&amp;i); // get time and convert into structure
  i=1[t=gmtime(&amp;i)]/15; // get granular 15-minute chunks
  a[3]=
    144+ // base 4th byte of emoji
    (t[2]+11+i/4)%12+ // convert [0..23] to [1..24]-1 for hour, adding [0:45..1:00)
    (i-1U&lt;2)*12; // add [0:15..0.45) as half-hour
  puts(a);
}
</code></pre>
</div>
<div id="pu4" class="pu"><h1>Bash + Coreutils, <strike>60</strike> 47</h1>
<pre><code>date +%I\ 60*%M+45-30/24%%2~C*+16iF09F9590+P|dc
</code></pre>
<p><a href="https://tio.run/##S0oszvj/PyWxJFVBW9UzRsHMQEvVV9vEVNfYQN/IRFXVqM5ZS9vQLNPNwNLN0tTSQDugJiX5/38A" rel="nofollow noreferrer" title="Bash – Try It Online">Try it online!</a></p>
<p>Emojis render fine on the OSX terminal, but for Linux (Ubuntu 14.04) you'll have to <code>sudo apt-get install ttf-ancient-fonts</code></p>
<p>For testing different times, insert <code>-d $time</code> into the date command.  e.g for testing 12:59:</p>
<pre><code>date -d 12:59 +%I\ 60*%M+45-30/24%%2~C*+16iF09F9590+P|dc
</code></pre>
</div>
<div id="pu5" class="pu"><h1>JavaScript – <del>137</del> <del>117</del> <del>107</del> <del>102</del> 95 bytes</h1>
<p>This is going to get easily beaten, but I'll just try my best here.</p>
<p><strong>EDIT 1</strong>: Now prints in UTC like the Python answer to save 20 bytes.</p>
<p><strong>EDIT 2:</strong> Changed <code>new Date().getTime()</code> to <code>Date.now()</code> to save 10 bytes.</p>
<p><strong>EDIT 3:</strong> Changed <code>Math.round(x)</code> to <code>~~(x+.5)</code> to save 5 bytes.</p>
<p><strong>EDIT 4:</strong> Removed unnecessary <code>(</code> and <code>&amp;1023)</code> left from some old development version where I did a more universal UTF-16 encoding to save 7 bytes.</p>
<p><div class="snippet" data-lang="js" data-hide="false" data-console="false" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>d=~~(Date.now()/18e5+.5)%24;d+=d&lt;2?24:0;alert(String.fromCharCode(55357,56655+(d%2?23+d:d)/2));</code></pre>
</div>
</div>
</p>
<p>JavaScript <em>does</em> allow for emojis, but in UTF-16 which encodes them as two characters. Luckily, we can simply define them as two characters; the first character is also constant (<code>0xD83D</code>), while the other changes.</p>
<p><strong>Alternative, prints in local time, <del>137</del> <del>132</del> 125:</strong></p>
<p><div class="snippet" data-lang="js" data-hide="true" data-console="false" data-babel="false">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-js lang-js prettyprint-override"><code>a=new Date();d=~~(a.getHours()%12*2+a.getMinutes()/30+.5);d+=d&lt;2?24:0;alert(String.fromCharCode(55357,56655+(d%2?23+d:d)/2));</code></pre>
</div>
</div>
</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 30 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>ža60*žb+45-30÷24%2‰`12*+Žü¤·+ç
</code></pre>
<p>Port of <a href="https://codegolf.stackexchange.com/a/42528/52210"><em>@jimmy23013</em>'s CJam answer</a>, so make sure to upvote him as well!</p>
<p><a href="https://tio.run/##yy9OTMpM/X90X9LRfYlKzqVFRal5JQolmbmpVgqH91sd3q@kw6UUlFpcmlNipQABSvZA5YlmBlpATdomprrGBoe3G5moGj1q2JBgaKSlfXTv4T2Hlhzarn14@X/7/wA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##LcwxCsJAEIXhqywBG7PC7r7dGKscJARUsLCyEIR0Vh4gZxBsxSaNNgm2HiIXWcm8bf5hYOY7nXf74yFe2ipT061TWdXGwvxePqxgxt75hZuuz611y/z7Gd/Dfejz8RF1rGurTaNrJ4XUS4O0kK6lpXQjtYaD32khYjUogiRogiiogizogjCSjESD9jzUvPtSQBvk2oem@QM" rel="nofollow noreferrer">verify some manual test times</a>.</p>
<p><strong>Explanation:</strong></p>
<p>Uses the following formula to calculate the clock codepoint based on the given <span class="math-container">\$h\$</span>ours and <span class="math-container">\$m\$</span>inutes:</p>
<p><span class="math-container">$$d(h,m) = \left\lfloor\frac{60h+m-45}{30}\right\rfloor\bmod{24} \\
C(h,m) = \left\lfloor\frac{d(h,m)}{2}\right\rfloor+12(d(h,m)\bmod{2})+128336$$</span></p>

<pre class="lang-python prettyprint-override"><code>ža                              # Push the current hours
  60*                           # Multiply them by 60
     žb+                        # Add the current minutes
        45-                     # Subtract 45
           30÷                  # Integer-divided by 30
              24%               # Modulo 24
                 2‰             # Divmod by 2: [n//2,n%2]
                   `            # Pop and push n//2 and n%2 separated to the stack
                    12*         # Multiply n%2 by 12
                       +        # Add it to the n//2
                        Žü¤     # Push compressed integer 64168
                           ·    # Double it to 128336
                            +   # Add it as well
                             ç  # Convert it to a character with this codepoint
                                # (after which the result is output implicitly)
</code></pre>
<p><a href="https://codegolf.stackexchange.com/a/166851/52210">See this 05AB1E tip of mine (section <em>How to compress large integers?</em>)</a> to understand why <code>Žü¤</code> is <code>64168</code> (compressed <code>128336</code> directly is 1 byte longer: <code>•1ùθ•</code>).</p>
</div>
<div id="pu7" class="pu"><h2>Pascal, 134 characters</h2>
<p>This <code>program</code> requires a processor supporting the time-related features defined by ISO standard 10206 “Extended Pascal”.
Furthermore the <em>implementation-defined</em> set of <code>char</code> values must include said Unicode characters.</p>
<pre class="lang-pascal prettyprint-override"><code>program t(output);var t:timeStamp;begin getTimeStamp(t);write(('🕛🕧🕐🕜🕑🕝🕒🕞🕓🕟🕔🕠🕕🕡🕖🕢🕗🕣🕘🕤🕙🕥🕚🕦')[t.hour mod 12*2+round(t.minute/30)+1])end.
</code></pre>
<p>Ungolfed:</p>
<pre class="lang-pascal prettyprint-override"><code>program clock(output);
    var
        ts: timeStamp;
    begin
        getTimeStamp(ts);
        { This `program` presumes `ts.timeValid` is set to `true`. 
          Otherwise `getTimeStamp` sets the clock to midnight. Insert
          
            ts.hour := 11;
            ts.minute := 48;
        
          here to test the functionality of this `program`. }
        writeLn(('🕛🕧🕐🕜🕑🕝🕒🕞🕓🕟🕔🕠🕕🕡🕖🕢🕗🕣🕘🕤🕙🕥🕚🕦')
            [ts.hour mod 12 * 2 + round(ts.minute / 30) + 1]);
    end.
</code></pre>
</div>
<div id="pu8" class="pu"><h1>CJam, 50 bytes</h1>
<pre><code>&quot;🕐&quot;:i~et3=C%60*et4=+30d/mo2m24+24%_2%24*+2/+]:c
</code></pre>
<p>The algorithm is simple, round the time to nearest 30 minutes, count how many 30 minutes have passed since 12 AM/PM, if the number is odd, then add 24 to it, floor divide by 2 and increment the initial unicode by that many code points to get the right clock face.</p>
<p>Also, make sure that you start with 1 AM/PM instead of 12 so take an offset there.</p>
<p>For testing purposes, use the following code:</p>
<pre><code>3:H;45:M;&quot;🕐&quot;:i~HC%60*M+30d/mo2m48+48%_2%24*+2/+]:c
</code></pre>
<p>Where the <code>3:H;</code> part is the current hour and the <code>45:M;</code> part is the current minute of the hour. Simply replace <code>3</code> and <code>45</code> with the desired value.</p>
<p><a href="http://cjam.aditsu.net/" rel="nofollow noreferrer">Try it online here</a></p>
<p><em>Not all unicode characters might print correctly on the online version depending upon your browser and OS and installed fonts. But for me, all print fine on Firefox with Windows 7.</em></p>
</div>
<div id="pu9" class="pu"><h1>CJam, 31 bytes</h1>
<pre><code>&quot;🕐&quot;)et5&lt;60b675+30/24%2mdC*++
</code></pre>
<p>You can change the time in the following program to test it:</p>
<pre><code>&quot;🕐&quot;)[2014 12 19 22 14 1 901 5 -28800000]5&lt;60b675+30/24%2mdC*++
</code></pre>
</div>
<div id="pu10" class="pu"><h1>Ruby — <s>61</s> 54 bytes</h1>
<h1><s>Python 3 — 79 77 75 74 bytes</s></h1>
<p><strong>edit:</strong> Turns out this is much shorter in Ruby, because <code>Time</code> doesn't need to be imported and integer division is the default.</p>
<pre><code>a=(Time.now.to_i/900-3)/2%24
puts&quot;&quot;&lt;&lt;128336+a/2+a%2*12
</code></pre>
<p>Arithmetic:</p>
<ul>
<li><code>Time.now.to_i</code>: Seconds since epoch.</li>
<li><code>/900</code>: Combine time into 15-minute segments.</li>
<li><code>-3</code>: <code>-4</code> because characters start at 1 o'clock, <code>+1</code> so that rounding is done to nearest half hour, rather than downwards.</li>
<li><code>/2</code>: Combine into half-hour segments.</li>
<li><code>%24</code>: Get current half-hour segment out of 12 hours.</li>
<li><code>a/2 + a%2*12</code>: Account for the fact that whole-hour characters come in a block before half-hour characters.</li>
</ul>
<p><strong>Local time version, 69 bytes:</strong></p>
<pre><code>n=Time.now
a=((n.to_i+n.gmtoff)/900-3)/2%24
puts&quot;&quot;&lt;&lt;128336+a/2+a%2*12
</code></pre>
<p><strong>Original Python 3 version:</strong></p>
<pre><code>import time
a=int((time.time()/900-3)/2%24)
print(chr(128336+a//2+a%2*12))
</code></pre>
<p>Prints the current time UTC. Python 2's <code>chr</code> only accepts 0-255, and <code>unichr</code> only 0-65535. In Python 3, <code>/</code> is always floating-point division and <code>//</code> is always integer division.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/42289/">42289</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




