<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::258511</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>104</td><td>Python 3</td><td>240723T080740Z</td><td><a href="https://codegolf.stackexchange.com/questions/258511/longest-valid-parentheses/274340#274340">Jitse</a></td></tr>
<tr d-ix="1"><td>006</td><td>Vyxal</td><td>230228T035820Z</td><td><a href="https://codegolf.stackexchange.com/questions/258511/longest-valid-parentheses/258513#258513">lyxal</a></td></tr>
<tr d-ix="2"><td>013</td><td>Haskell + hgl</td><td>240723T013730Z</td><td><a href="https://codegolf.stackexchange.com/questions/258511/longest-valid-parentheses/274336#274336">Wheat Wi</a></td></tr>
<tr d-ix="3"><td>046</td><td>APLDyalog Unicode</td><td>230228T045642Z</td><td><a href="https://codegolf.stackexchange.com/questions/258511/longest-valid-parentheses/258516#258516">user1069</a></td></tr>
<tr d-ix="4"><td>242</td><td>Scala</td><td>230409T084424Z</td><td><a href="https://codegolf.stackexchange.com/questions/258511/longest-valid-parentheses/259874#259874">138 Aspe</a></td></tr>
<tr d-ix="5"><td>013</td><td>Jelly</td><td>230304T101513Z</td><td><a href="https://codegolf.stackexchange.com/questions/258511/longest-valid-parentheses/258785#258785">caird co</a></td></tr>
<tr d-ix="6"><td>016</td><td>Nekomata</td><td>230228T150447Z</td><td><a href="https://codegolf.stackexchange.com/questions/258511/longest-valid-parentheses/258549#258549">alephalp</a></td></tr>
<tr d-ix="7"><td>014</td><td>Japt h</td><td>230228T124012Z</td><td><a href="https://codegolf.stackexchange.com/questions/258511/longest-valid-parentheses/258541#258541">Shaggy</a></td></tr>
<tr d-ix="8"><td>136</td><td>Excel ms365</td><td>230228T110953Z</td><td><a href="https://codegolf.stackexchange.com/questions/258511/longest-valid-parentheses/258538#258538">JvdV</a></td></tr>
<tr d-ix="9"><td>075</td><td>JavaScript Node.js</td><td>230302T092330Z</td><td><a href="https://codegolf.stackexchange.com/questions/258511/longest-valid-parentheses/258673#258673">tsh</a></td></tr>
<tr d-ix="10"><td>072</td><td>vim</td><td>230228T223011Z</td><td><a href="https://codegolf.stackexchange.com/questions/258511/longest-valid-parentheses/258601#258601">Ray</a></td></tr>
<tr d-ix="11"><td>3534</td><td>J</td><td>230228T062523Z</td><td><a href="https://codegolf.stackexchange.com/questions/258511/longest-valid-parentheses/258519#258519">Jonah</a></td></tr>
<tr d-ix="12"><td>130</td><td>JavaScript</td><td>230228T105343Z</td><td><a href="https://codegolf.stackexchange.com/questions/258511/longest-valid-parentheses/258536#258536">EzioMerc</a></td></tr>
<tr d-ix="13"><td>035</td><td>Charcoal</td><td>230228T133702Z</td><td><a href="https://codegolf.stackexchange.com/questions/258511/longest-valid-parentheses/258544#258544">Neil</a></td></tr>
<tr d-ix="14"><td>095</td><td>JavaScript ES6</td><td>230228T113445Z</td><td><a href="https://codegolf.stackexchange.com/questions/258511/longest-valid-parentheses/258539#258539">Arnauld</a></td></tr>
<tr d-ix="15"><td>039</td><td>Retina 0.8.2</td><td>230228T101330Z</td><td><a href="https://codegolf.stackexchange.com/questions/258511/longest-valid-parentheses/258535#258535">Neil</a></td></tr>
<tr d-ix="16"><td>135</td><td>><> Fish</td><td>230228T082456Z</td><td><a href="https://codegolf.stackexchange.com/questions/258511/longest-valid-parentheses/258527#258527">mousetai</a></td></tr>
<tr d-ix="17"><td>013</td><td>05AB1E</td><td>230228T074659Z</td><td><a href="https://codegolf.stackexchange.com/questions/258511/longest-valid-parentheses/258524#258524">Kevin Cr</a></td></tr>
<tr d-ix="18"><td>030</td><td>BQN</td><td>230228T070141Z</td><td><a href="https://codegolf.stackexchange.com/questions/258511/longest-valid-parentheses/258520#258520">ovs</a></td></tr>
<tr d-ix="19"><td>030</td><td>Raku</td><td>230228T061118Z</td><td><a href="https://codegolf.stackexchange.com/questions/258511/longest-valid-parentheses/258518#258518">Jo King</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 104 bytes</h1>

<pre class="lang-python prettyprint-override"><code>f=lambda s:max(f(s[1:]),f(s[:-1]))if g(s)else len(s)
g=lambda s:g(s.replace('()',''))if'()'in s else''&lt;s
</code></pre>
<p><a href="https://tio.run/##bY7BasMwDIbveQrdLEEW2nXsYNYH2KkPUErwOrtzcWQTu9A@fSaHtaGw269P@n6UbuUn8maa3DaY4evbQNaDuaLDvF/rA7U16Jf1gcg7OGEmG7KFYFlic1okWXWjTcEcLSok1SpVlRo9Q4aqKfWRJxdHCJ4tCI5JelakG5ApwRaU6s7RMzofih3noq7vj5GL8Zz7vq0mkdyn0XORN8Ujmj45XYoGREIi2F3KPL43f5ye@dudC/73fuYP/PqoWdjqzmBBvw" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-2" rel="nofollow noreferrer">Vyxal</a>, <s>7</s> 6 bytes</h1>
<pre><code>ǎ~øβ@G
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2&amp;c=1#WyIiLCIiLCLHjn7DuM6yQEciLCIiLCIoKSgoKSkiXQ==" rel="nofollow noreferrer">Try it Online!</a></p>
<p>-1 byte thanks to modern innovations like vectorising length</p>
<h2>Explained</h2>
<pre><code>ǎ~øβ@G­⁡​‎‎⁪⁡⁪⁠⁪⁢⁪‏‏​⁡⁠⁡‌⁢​‎‎⁪⁡⁪⁠⁪⁡⁪‏‏​⁡⁠⁡‌⁣​‎‎⁪⁡⁪⁠⁪⁢⁪‏‏​⁡⁠⁡‌⁤​‎‎⁪⁡⁪⁠⁪⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁪‏‏​⁡⁠⁡‌⁢⁡​‎‎⁪⁡⁪⁠⁪⁢⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁢⁪‏‏​⁡⁠⁡‌­
 ~      # ‎⁡Get all
ǎ       # ‎⁢substrings of the input
 ~      # ‎⁣where
  øβ    # ‎⁤the brackets are balanced.
    @G  # ‎⁢⁡Get the longest length
💎
</code></pre>
<p>Created with the help of <a href="https://vyxal.github.io/Luminespire" rel="nofollow noreferrer">Luminespire</a>.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.haskell.org" rel="nofollow noreferrer">Haskell</a> + <a href="https://gitlab.com/wheatwizard/haskell-golfing-library" rel="nofollow noreferrer">hgl</a>, 13 bytes</h1>
<pre><code>xMl&lt;fl blp&lt;cG
</code></pre>
<p><em><code>blp</code> isn't on ato yet ...</em></p>
<h2>Explanation</h2>
<ul>
<li><code>cG</code> get all contiguous substrings.</li>
<li><code>fl blp</code> filter the ones that are balanced.</li>
<li><code>xMl</code> get the length of the longest one.</li>
</ul>
<h1>Reflection</h1>
<p>This is pretty short but ...</p>
<ul>
<li><p>There could definitely be functions for</p>
<ul>
<li>&quot;prefixes such that&quot;</li>
<li>&quot;suffixes such that&quot;</li>
<li>&quot;infixes such that&quot;</li>
</ul>
<p>The final one would be useful here.</p>
</li>
</ul>
</div>
<div id="pu3" class="pu"><h1><a href="https://dyalog.com" rel="nofollow noreferrer">APL(Dyalog Unicode)</a>, 46 bytes <sup><a href="https://github.com/abrudz/SBCS" rel="nofollow noreferrer">SBCS</a></sup></h1>
<pre><code>(⌈/≢¨×{0(∧.≤∧=∘⊃∘⌽)+\-⌿'()'∘.=⍵}¨)⍤⊃⍳∘≢,.(,/)⊂
</code></pre>
<p><a href="https://razetime.github.io/APLgolf/?h=AwA&amp;c=03jU06H/qHPRoRWHp1cbaDzqWK73qHMJkLJ91DHjUVcziOzZq6kdo/uoZ7@6hqY6UEDP9lHv1tpDKzQf9S4BKendDFLVuUhHT0NHX/NRVxMA&amp;f=e9Q39VHbhDQFdQ0NTQ1NTXUurkcwEU0MEaAANhEUTZrqAA&amp;i=AwA&amp;r=tryapl&amp;l=apl-dyalog&amp;m=dfn&amp;n=f" rel="nofollow noreferrer">Try it on APLgolf!</a></p>
<pre><code>⊃⍳∘≢,.(,/)⊂                 substrings
{0(∧.≤∧=∘⊃∘⌽)+\-⌿'()'∘.=⍵}¨ map balanced?
≢¨×                         times lengths
⌈/                          max

</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://scala-lang.org/" rel="nofollow noreferrer">Scala</a>, 242 bytes</h1>
<p>I first know <code>replaceAllLiterally</code> in scala, it saved several bytes.</p>
<hr />
<p>Golfed version, <a href="https://tio.run/##fZAxa8MwFIT3/IpXTXpgnKSUDg4eMnQopEtNp9JBdWRb4Vk2kig1Rr/dlexSUgzRJN13d3CypSAxdZ8XWTp4EUrDOJ1lBdWe26xwRukas2ft8rHiNrHoDzP9g0nx36UCusttamRPopRHopNy0giigTOOLGEMMXbddCQFeklWQqxLdaef2t4NOH4JApKVy4v0bLr@VdWN43s8RN3Exy@IWitck7bim4cpMYNJuMwmXMrHIiWpa9d4P20A4q42fAAXprYZHI0Rw/uy7QMzeNPKQQ5jcAL0QXWkYzXjHDliWAXbLTyuMF7jh3Ua@a30jBks@H5dHlg4C96t8Ayvsd/46Qc" rel="nofollow noreferrer">try it online!</a></p>
<pre class="lang-scala prettyprint-override"><code>def f1(s:String):Int={f(s,s)};def f(s:String,S:String):Int={if(s!=s.replaceAllLiterally(&quot;()&quot;,&quot;&quot;)){f(s.replaceAllLiterally(&quot;()&quot;,&quot;&quot;),S)}else if(s.nonEmpty){val left=S.dropRight(1);val right=S.drop(1);math.max(f1(left),f1(right))}else{S.length}}
</code></pre>
<p>Ungolfed version, <a href="https://tio.run/##fZDNSsQwFEb3fYprVvdC6TgiLgZmMQsXgm4srsRF7KQ/kqYlCWIZ@uw1aaZmpDCBQMg5uV/7mYJLPk3d55coLLzwRsEpATiKEsotmh3kVjeqoh08KQt7OJVoUkPj4kQlhXw5QtSdB9CUgAZu9mAyLXrJC3GQ8rmxQnMpB2RILAXGiM4@@LnXVZdGszuCkEaEiEx16rHt7RAHfXMJUpT@W/LsqLv@talqi1u64Npf/QmRtdzWWct/0DXhZ7hQd5pt@he@hOWZFKqydWCJ3@eeWlcscl25tg5a8@E9FPXhinpTTWyqd7dWKp/IEAmJfCubDTysMF3i@/VrwmuvZ8wg4Lv1cMfcCvh2hVn434jHZJymXw" rel="nofollow noreferrer">try it online!</a></p>
<pre class="lang-scala prettyprint-override"><code>object Main {
  def f1(s: String): Int = {f(s,s)}
  def f(s: String, S: String ): Int = {
    if (s != s.replaceAllLiterally(&quot;()&quot;, &quot;&quot;)) {
      f(s.replaceAllLiterally(&quot;()&quot;, &quot;&quot;), S)
    } else if (s.nonEmpty) {
      val left = S.dropRight(1)
      val right = S.drop(1)
      math.max(f1(left), f1(right))
    } else {
      S.length
    }
  }

  def main(args: Array[String]): Unit = {
    println(f1(&quot;(()())&quot;)) // 6
    println(f1(&quot;)()())&quot;)) // 4
    println(f1(&quot;()(())&quot;)) // 6
    println(f1(&quot;()(()&quot; )) // 2
    println(f1(&quot;))&quot;    )) // 0
    println(f1(&quot;&quot;      )) // 0
  }
}
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 13 bytes</h1>
<pre><code>ẆœṣØ(F$ÐLÐḟẈṀ
</code></pre>
<p><a href="https://tio.run/##y0rNyan8///hrrajkx/uXHx4hoabyuEJPocnPNwx/@Gujoc7G/4fbj866eHOGZqR//8raWoAoaaSjoKSBjILQoFIkAIlAA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<p>Uses <a href="https://codegolf.stackexchange.com/users/52210/kevin-cruijssen">Kevin Cruijssen</a>'s <a href="https://codegolf.stackexchange.com/a/258524/66833">05AB1E algorithm</a>, be sure to give them an upvote!</p>
<h2>How it works</h2>
<pre><code>ẆœṣØ(F$ÐLÐḟẈṀ - Main link. Takes a string S on the left
Ẇ             - All contiguous sublists of S
         Ðḟ   - Filter sublists, keeping those which return [] under:
      $       -   Group the last 2 links as a monad f(W):
   Ø(         -     Yield &quot;()&quot;
 œṣ           -     Split W on &quot;()&quot;
     F        -     Flatten
       ÐL     -   Repeatedly apply f(W) until a fixed point
           Ẉ  - Lengths of those remaining
            Ṁ - Maximum
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/AlephAlpha/Nekomata" rel="nofollow noreferrer">Nekomata</a>, 16 bytes</h1>
<pre><code>qe7%3%∫:çlR≥¤#aṀ
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70iLzU7PzexJHFZtJJurlLsgqWlJWm6FjsKU81VjVUfday2Orw8J-hR59JDS5QTH-5sWFKclFwMVbTgppaShoamhqamEpeSJowBpJEYIBkQoQTRAgA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<pre><code>qe7%3%∫:çlR≥¤#aṀ
q                     Non-deterministically choose a contiguous subsequence
 e7%3%                Convert the subsequence to a list of 2's and 0's
      ∫               Take the cumsum
       :              Duplicate
        çl            Prepend 0 and get the last item
          R           Range from 1 to this number
           ≥¤         Compare the cumsum and this range;
                        fail if the two list has different length,
                        or if any item in the cumsum is less than
                        the corresponding item in the range
             #        Get the length
              a       Get all possible values
               Ṁ      Get the maximum
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a> <a href="https://codegolf.meta.stackexchange.com/a/14339/"><code>-h</code></a>, 14 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<p>Outputs <code>undefined</code> instead of <code>0</code> (pending confirmation).</p>
<pre><code>ã ke&quot;%(%)&quot; mÊÍ
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;flags=LWg&amp;code=4yBrZSIlKCUpIiBtys0&amp;input=IigpKCgpKSI" rel="nofollow noreferrer">Try it</a></p>
<h2>9 bytes</h2>
<p>This version takes input as a string of <code>1</code>s &amp; <code>0</code>s, representing <code>(</code> &amp; <code>)</code> respectively, which the comments on the challenge would seem to allow.</p>
<pre><code>ã keA mÊÍ
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;flags=LWg&amp;header=ciIlKCIxIHIiJSkiVA&amp;code=4yBrZUEgbcrN&amp;input=IigpKCgpKSI" rel="nofollow noreferrer">Try it</a></p>
<pre><code>ã ke&quot;%(%)&quot; mÊÍ     :Implcit input of string
ã                  :Substrings
  k                :Remove items that return truthy (non-empty string)
   e               :  Recursively replace
    &quot;%(%)&quot;         :  RegEx /\(\)/ (or A=10, in the second version)
           m       :Map
            Ê      :  Length
             Í     :Sort
                   :Implicit out output of last element
</code></pre>
</div>
<div id="pu8" class="pu"><h1>Excel (ms365), 136 bytes</h1>
<p><a href="https://i.sstatic.net/ATgRk.png" rel="nofollow noreferrer"><img src="https://i.sstatic.net/ATgRk.png" alt="enter image description here" /></a></p>
<p>Formula in <code>B1</code>:</p>
<pre><code>=LET(x,ROW(A:A),y,SCAN(&quot;)&quot;&amp;A1,x,LAMBDA(a,b,SUBSTITUTE(a,&quot;(&quot;&amp;REPT(&quot;|&quot;,(b-1)*2)&amp;&quot;)&quot;,REPT(&quot;|&quot;,b*2)))),MAX(ISNUMBER(FIND(REPT(&quot;|&quot;,x),y))*x))
</code></pre>
<p>The idea here is that we create a loop to iteratively replace the fundamental base of balanced paranthesis, &quot;()&quot;. The 1st replacement is simply &quot;||&quot;. Next we replace all occurences of &quot;(||)&quot;, with &quot;||||&quot; etc, untill we can't replace any more. Finally we calculate the longest occurence of consecutive &quot;|&quot; characters.</p>
<p>Yes, 136 bytes is a lot though!</p>
</div>
<div id="pu9" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 75 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>s=&gt;[...s].map((c,i)=&gt;q=(p=c&gt;'('?i-a.pop():a.push(i+~p)*0)&gt;q?p:q,q=p=a=[])|q
</code></pre>
<p><a href="https://tio.run/##fczBCoJAFAXQfV8hbnyvdJSIFsIbP0RcDJOWYc6bplpFvz4NChEG3c1dHO49q4dy@trzLRvNofUdeUeyFkK4RlwUA@i0R5KWgEnLBJKqz5Rgw4Bl6Ls7Qb95Ma4LlLbi0qaWmBTVDT6t12Z0ZmjFYI7QQQyAgBgjRnke7VcLxW/dLTXgn@2kcTTr9uc5UMisxVIn@6h/Aw" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>Or <a href="https://tio.run/##hc1BCoMwEAXQfU8hbpxpNUopXQiJBykuJMY2RczE1C579TQVoRQCnc1f/Mefe/fsnJw1PYrJ9MoP3DsuLowx17JZ9YtUADaXuUYugLgUGWSNLhwjQ4B1yMXdQB9ehPsKhW2otjnxCr00kzOjYqO5wgCfyRQAATFtEZOyTM67CMEfcoqRIP6trCRNNnKMPgp9uI1UMbKCL/Fv" rel="nofollow noreferrer">71 bytes</a> if we take input as array of characters.</p>
<p>Let us denote the input sting as <code>s</code>. Let use denote the length of longest valid parentheses string which ends by <code>s[i]</code> as <code>d[i]</code>. Then question is asking for the greatest value in array <code>d</code>.</p>
<ul>
<li>If <code>s[i]</code> is <code>(</code>, <code>d[i]</code> is <code>0</code>
<ul>
<li>It is trivial, as the last <code>(</code> does not have a matching <code>)</code> and therefore be invalid.</li>
</ul>
</li>
<li>If <code>s[i]</code> is <code>)</code>, we first find out the matching <code>(</code> for it
<ul>
<li>If there is no matching <code>(</code> for it, <code>d[i]</code> is <code>0</code></li>
<li>If <code>s[j]</code> is some <code>(</code> character which match <code>s[i]</code>, then <code>s[j..i]</code> is a valid parentheses string. And <code>d[i]=i-j+1+d[j-1]</code>.</li>
</ul>
</li>
</ul>
<p>To find out matching <code>(</code> for <code>s[i]</code>, we use a stack named <code>a</code> in the source code, and push <code>j-1-d[j-1]</code> into it.</p>
</div>
<div id="pu10" class="pu"><h1>vim, 72 bytes</h1>
<pre><code>o:s/(\(a*\))/a\1a/g&lt;C-v&gt;&lt;CR&gt;@&quot;&lt;ESC&gt;v0dk@&quot;:s/[()]/&lt;C-v&gt;&lt;CR&gt;/g
:g/^/.!wc -c
:%!sort -nr
jdG&lt;C-x&gt;
</code></pre>
<h2>Annotated</h2>
<pre><code>o:s/(\(a*\))/a\1a/g&lt;C-v&gt;&lt;CR&gt;@&quot;&lt;ESC&gt;   # insert command that recursively replaces (a*) with aa*a as long as there are matches
v0dk@&quot;                                # pulls the above command into register &quot; and invokes it. (Any resemblance to the word &quot;vodka&quot; is entirely coincidental.)
:s/[()]/&lt;C-v&gt;&lt;CR&gt;/g                   # Any parentheses that remain are invalid. Split the string into separate lines with them as delimiters
:g/^/.!wc -c                          # strlen of each line (including newline)
:%!sort -nr                           # put the largest number on top
jdG&lt;C-x&gt;                              # delete the rest, decrement the newline away
</code></pre>
<p><code>&lt;C-v&gt;</code> is 0x16, <code>&lt;C-x&gt;</code> is 0x18 <code>&lt;ESC&gt;</code> is 0x1b, and <code>&lt;CR&gt;</code> is 0x0d.</p>
<p><a href="https://tio.run/##K/v/P9@qWF8jRiNRK0ZTUz8xxjBRP12My0FJuswgJdtBCSgZraEZqy/GpZ/OZZWuH6evp1ierKCbzGWlqlicX1SioJtXxJWV4i7x/7@mBghqgEhNDQA" rel="nofollow noreferrer" title="vim – Try It Online">Try it online!</a></p>
</div>
<div id="pu11" class="pu"><h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, <sup>35</sup> 34 bytes</h1>
<pre><code>[:&gt;./@,(#*''-:#rplc&amp;('()';'')])\\.
</code></pre>
<p><a href="https://tio.run/##y/pvqWhlGGumaGWprs6lpKeepmBrpaCuoKNgoGAFxLp6Cs5BPm7/o63s9PQddDSUtdTVda2UiwpyktU01DU01a3V1TVjNWNi9P5rcvk56SmgKkRVF2cVD1LJlZqcka@QpqCuoaGpoampDudrovGBXEw@knIQuyKzBOhwz7yC0hIrBYiBCv6lJWCuGRdMQhNVwgQuAbECiw6wBFzcCGESQtDgPwA" rel="nofollow noreferrer" title="J – Try It Online">Try it online!</a></p>
<p><em>-1 thanks to ovs</em></p>
<ul>
<li>For every every substring...</li>
<li>Continually replace <code>()</code> with the empty string</li>
<li>If the result is the empty string, return the length, otherwise 0</li>
<li>Max of all results</li>
</ul>
</div>
<div id="pu12" class="pu"><h1>JavaScript, 130 bytes</h1>
<pre><code>s=&gt;[...s,0].map((_,i,a)=&gt;a.map((_,j,$,S=s.slice(i,j),b=0)=&gt;{for(l of S)if((l==')'?--b:++b)&lt;0)break;r=b|r&gt;(l=S.length)?r:l}),r=0)|r
</code></pre>
<p>Try it:</p>
<p><div class="snippet" data-lang="js" data-hide="true" data-console="true" data-babel="false">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-js lang-js prettyprint-override"><code>f=s=&gt;[...s,0].map((_,i,a)=&gt;a.map((_,j,$,S=s.slice(i,j),b=0)=&gt;{for(l of S)if((l==')'?--b:++b)&lt;0)break;r=b|r&gt;(l=S.length)?r:l}),r=0)|r

;[
  '(()())', // 6

  ')()())', // 4

  '()(())', // 6

  '()(()', // 2

  '))', // 0

  '', // 0
].forEach(s=&gt;console.log(f(s)))</code></pre>
</div>
</div>
</p>
<p><strong>Algorithm</strong>:</p>
<p>Take the all substrings of string and check if it is balanced parentheses. If yes, then check if the length of substring is maximum? If yes then update the max value. Else don't change the max value</p>
</div>
<div id="pu13" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 35 bytes</h1>
<pre><code>⊞υ⁰≔⮌υθＦＳ«≦⊕υ≡ι(⊞υ⁰¿∧⊟υυ⊞θ⌊υ⊞υ⁰»Ｉ⌈θ
</code></pre>
<p><a href="https://tio.run/##VY69CoMwFIVn8xQXpxuw0Fkn6eQgSPsEIV41oFHzYwvFZ09D6NCuh@@c78hJGLmKOYTO2wl9AVdesdpaNWq800HGEnpewB7jYTWAjd68ezij9Iicw5tlrdi@hUZLQwtpR30BPjYy@1ROToAqkVJYghzzEn5tWU@D8LMrQQ2Ate6xW7ck9VGQyL2AVmm1@CXmvAKa49DfxslO1sVTDm/COmzFK9E7j3gIyBF5uBzzBw" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>⊞υ⁰
</code></pre>
<p>Start with no characters at the current indent level.</p>
<pre><code>≔⮌υθ
</code></pre>
<p>Also start with a maximum balanced run length of zero.</p>
<pre><code>ＦＳ«
</code></pre>
<p>Loop over the input characters.</p>
<pre><code>≦⊕υ
</code></pre>
<p>Increase the characters at all depths.</p>
<pre><code>≡ι(⊞υ⁰
</code></pre>
<p>If this is a <code>(</code> then start a new depth level. Otherwise:</p>
<pre><code>¿∧⊟υυ
</code></pre>
<p>Remove a depth level, and if there is still at least one level left, then...</p>
<pre><code>⊞θ⌊υ
</code></pre>
<p>... push the length of the deepest level left to the list of found balanced substring lengths, otherwise...</p>
<pre><code>⊞υ⁰
</code></pre>
<p>.. the <code>)</code> was unbalanced, so start a new empty indent level.</p>
<pre><code>»Ｉ⌈θ
</code></pre>
<p>Output the maximum balanced substring length found.</p>
</div>
<div id="pu14" class="pu"><h1>JavaScript (ES6), 95 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>f=(s,S=s)=&gt;s!=(s=s.split`()`.join``)?f(s,S):s?Math.max(f(S.slice(1)),f(S.slice(0,-1))):S.length
</code></pre>
<p><a href="https://tio.run/##fczBDoIwDAbgu0@BnNoEBhrjgWTyBJ54gS04YGRuxC7Gt58TEjWY2FPbr39HeZfU3vTkc@suKoSOA2UNJ@Qn2saeE6PJaC8ABRudtkJg3b1usKL6LP3ArvIBHTSMjG4V7BCzz1RmeVxg1TCjbO@H0DpLzihmXB9DKQACYoqYFEVy3KwUv/Ww1oh/srOmyaL7n8@RYi1arnW2t4Yn" rel="noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu15" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language/a950ad7d925ec9316e3e2fb2cf5d49fd15d23e3d" rel="nofollow noreferrer">Retina 0.8.2</a>, 39 bytes</h1>
<pre><code>M!`((\()|(?&lt;-2&gt;\)))+(?(2)^)
.
.
O^`
\G.
</code></pre>
<p><a href="https://tio.run/##K0otycxL/K@q4Z7w31cxQUMjRkOzRsPeRtfILkZTU1Nbw17DSDNOk0sPCP3jErhi3PX@/9fQ0NTQ1OTShFBAEk5xARkA" rel="nofollow noreferrer" title="Retina 0.8.2 – Try It Online">Try it online!</a> Link includes test cases. Explanation:</p>
<pre><code>M!`((\()|(?&lt;-2&gt;\)))+(?(2)^)
</code></pre>
<p>Find all nontrival substrings of balanced parentheses, using .NET's balancing groups; <code>?&lt;-2&gt;</code> prevents the number of matched <code>)</code>s from exceeding the number of <code>(</code>s seen so far, while the <code>?(2)</code> ensures that there are no unmatched <code>(</code>s.</p>
<pre><code>.
.
</code></pre>
<p>Take the length of each substring in unary.</p>
<pre><code>O^`
</code></pre>
<p>Sort in reverse order.</p>
<pre><code>\G.
</code></pre>
<p>Output the first length or <code>0</code> if there were no matches.</p>
</div>
<div id="pu16" class="pu"><h1><a href="https://esolangs.org/wiki/Fish" rel="nofollow noreferrer">&gt;&lt;&gt; (Fish)</a>, 135 bytes</h1>
<pre><code>0:i:0(?v$6p1+00. ;n+1-~~.?&amp;52~\
@$:@02.\~~1-:0&gt;:
&gt;0&amp;:6g2%2*1-&amp;+:0(?v&amp;1-$:@$:@)?^22.
&gt;1+$1+$:{:})?v$d1.   
 .1f0v!?:-1-$/ .55/
^~~~ \0n;
</code></pre>
<p><a href="https://mousetail.github.io/Fish/#eyJ0ZXh0IjoiMDppOjAoP3YkNnAxKzAwLiA7bisxLX5+Lj8mNTJ+XFxcbkAkOkAwMi5cXH5+MS06MD46XG4+MCY6NmcyJTIqMS0mKzowKD92JjEtJDpAJDpAKT9eMjIuXG4+MSskMSskOns6fSk/diRkMS4gICBcbiAuMWYwdiE/Oi0xLSQvIC41NS9cbl5+fn4gXFwwbjsiLCJpbnB1dCI6IikpKCgpKCkpKCIsInN0YWNrIjoiIiwic3RhY2tfZm9ybWF0IjoibnVtYmVycyIsImlucHV0X2Zvcm1hdCI6ImNoYXJzIn0=" rel="nofollow noreferrer">Try it</a></p>
<p><a href="https://i.sstatic.net/T9F5g.png" rel="nofollow noreferrer"><img src="https://i.sstatic.net/T9F5g.png" alt="enter image description here" /></a></p>
<p>Uses the classic paste the input on the source block for easy indexing trick</p>
</div>
<div id="pu17" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 13 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>Œʒ„()õ:õQ}éθg
</code></pre>
<p><a href="https://tio.run/##ASUA2v9vc2FiaWX//8WSypLigJ4oKcO1OsO1UX3Dqc64Z///KCkoKCkp" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/V9Waa@k8KhtkoKSfeX/o5NOTXrUME9D8/BWq8NbA2sPrzy3I/2/zv9oJQ0NTQ1NTSUdBSVNOAvIQGaBJcGkUiwA" rel="nofollow noreferrer">verify all test cases</a></p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>Œ        # Get all substrings of the (implicit) input
 ʒ       # Filter it by:
  „()    #  Push string &quot;()&quot;
     õ:  #  Keep replacing &quot;()&quot; with &quot;&quot; until it's no longer possible
  õQ     #  Check if what remains is an empty string &quot;&quot;
 }é      # After the filter: sort the remaining strings by length
   θ     # Pop and keep the last/longest
    g    # Pop and push its length
         # (which is output implicitly as result)
</code></pre>
</div>
<div id="pu18" class="pu"><h1><a href="https://mlochbaum.github.io/BQN/" rel="noreferrer">BQN</a>, 30 bytes<sup><a href="https://github.com/mlochbaum/BQN/blob/master/commentary/sbcs.bqn" rel="noreferrer">SBCS</a></sup></h1>
<pre class="lang-none prettyprint-override"><code>{0⌈´∾1+/¨0(=∧∧`¨∘≤)+`¨↓¯1⋆𝕩-@}
</code></pre>
<p><a href="https://mlochbaum.github.io/BQN/try.html#code=RuKGkHsw4oyIwrTiiL4xKy/CqDAoPeKIp+KIp2DCqOKImOKJpCkrYMKo4oaTwq8x4ouG8J2VqS1AfQoKPuKLiOKfnEbCqCDin6giKCgpKCkpIiwgIikoKSgpKSIsICIoKSgoKSkiLCAiKCkoKCkiLCAiKSkiLCAiIuKfqQ==" rel="noreferrer">Run online!</a></p>
<p><code>¯1⋆𝕩-@</code> Map <code>(</code> to 1 and <code>)</code> to ¯1.<br />
<code>+`¨↓</code> Take the cumulative sum of each suffix.<br />
<code>0(=∧∧`¨∘≤)</code> For each value in each suffix, is it equal to 0 and are all preceding values non-negative?<br />
<code>∾1+/¨</code> All 1-based indices of 1s.<br />
<code>0⌈´</code> Take the maximum or 0 if there is no such index.</p>
</div>
<div id="pu19" class="pu"><h1><a href="https://github.com/nxadm/rakudo-pkg" rel="nofollow noreferrer">Raku</a>, 30 bytes</h1>

<pre class="lang-perl6 prettyprint-override"><code>{m:g/(\(&lt;~~&gt;\))*/&gt;&gt;.chars.max}
</code></pre>
<p><a href="https://tio.run/##K0gtyjH7n1upoJamYKvwvzrXKl1fI0bDpq7OLkZTU0vfzk4vOSOxqFgvN7Gi9n9xYqWCHlBlWn6RQk5mXmrxfw0NTQ1NTS5NCAUk4RQXkMEFAA" rel="nofollow noreferrer" title="Raku – Try It Online">Try it online!</a></p>
<p>Uses a recursive regex to find all sets of balanced parenthesis, then takes the maximum length of those strings.</p>
<h3>Explanation</h3>
<pre class="lang-perl6 prettyprint-override"><code>{                            }   # Anonymous codeblock
 m:g/           /                # Find all non-overlapping matches in string
     (        )*                  # Zero or more of 
      \(    \)                      # Literal brackets
        &lt;~~&gt;                        # Containing balanced parenthesises
                &gt;&gt;.chars         # Map to length of string
                        .max     # Maximum
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/258511/">258511</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




