<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::271563</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>067</td><td>C gcc</td><td>240310T144558Z</td><td><a href="https://codegolf.stackexchange.com/questions/271563/one-dimensional-pinball/271671#271671">Johann S</a></td></tr>
<tr d-ix="1"><td>104</td><td>Swift 5.9</td><td>240306T163921Z</td><td><a href="https://codegolf.stackexchange.com/questions/271563/one-dimensional-pinball/271580#271580">macOSist</a></td></tr>
<tr d-ix="2"><td>022</td><td>05AB1E</td><td>240306T082205Z</td><td><a href="https://codegolf.stackexchange.com/questions/271563/one-dimensional-pinball/271571#271571">Kevin Cr</a></td></tr>
<tr d-ix="3"><td>061</td><td>Java 8</td><td>240307T091753Z</td><td><a href="https://codegolf.stackexchange.com/questions/271563/one-dimensional-pinball/271603#271603">Kevin Cr</a></td></tr>
<tr d-ix="4"><td>085</td><td>PowerShell Core</td><td>240306T194337Z</td><td><a href="https://codegolf.stackexchange.com/questions/271563/one-dimensional-pinball/271588#271588">Julian</a></td></tr>
<tr d-ix="5"><td>016</td><td>Jelly</td><td>240307T184122Z</td><td><a href="https://codegolf.stackexchange.com/questions/271563/one-dimensional-pinball/271615#271615">Jonathan</a></td></tr>
<tr d-ix="6"><td>124</td><td>Google Sheets</td><td>240306T175112Z</td><td><a href="https://codegolf.stackexchange.com/questions/271563/one-dimensional-pinball/271586#271586">doubleun</a></td></tr>
<tr d-ix="7"><td>129</td><td>Excel ms365</td><td>240306T091643Z</td><td><a href="https://codegolf.stackexchange.com/questions/271563/one-dimensional-pinball/271572#271572">JvdV</a></td></tr>
<tr d-ix="8"><td>042</td><td>Ruby</td><td>240307T075524Z</td><td><a href="https://codegolf.stackexchange.com/questions/271563/one-dimensional-pinball/271602#271602">G B</a></td></tr>
<tr d-ix="9"><td>187</td><td>Ada</td><td>240306T222020Z</td><td><a href="https://codegolf.stackexchange.com/questions/271563/one-dimensional-pinball/271593#271593">Devsman</a></td></tr>
<tr d-ix="10"><td>064</td><td>APL+WIN</td><td>240306T173122Z</td><td><a href="https://codegolf.stackexchange.com/questions/271563/one-dimensional-pinball/271583#271583">Graham</a></td></tr>
<tr d-ix="11"><td>069</td><td>Wolfram Language Mathematica</td><td>240306T173958Z</td><td><a href="https://codegolf.stackexchange.com/questions/271563/one-dimensional-pinball/271585#271585">lesobrod</a></td></tr>
<tr d-ix="12"><td>049</td><td>Perl 5 plF</td><td>240306T154742Z</td><td><a href="https://codegolf.stackexchange.com/questions/271563/one-dimensional-pinball/271579#271579">Xcali</a></td></tr>
<tr d-ix="13"><td>025</td><td>K ngn/k</td><td>240306T103055Z</td><td><a href="https://codegolf.stackexchange.com/questions/271563/one-dimensional-pinball/271575#271575">ovs</a></td></tr>
<tr d-ix="14"><td>035</td><td>PARI/GP</td><td>240306T101348Z</td><td><a href="https://codegolf.stackexchange.com/questions/271563/one-dimensional-pinball/271574#271574">alephalp</a></td></tr>
<tr d-ix="15"><td>030</td><td>JavaScript Node.js</td><td>240306T024049Z</td><td><a href="https://codegolf.stackexchange.com/questions/271563/one-dimensional-pinball/271564#271564">l4m2</a></td></tr>
<tr d-ix="16"><td>032</td><td>Uiua SBCS</td><td>240306T074146Z</td><td><a href="https://codegolf.stackexchange.com/questions/271563/one-dimensional-pinball/271570#271570">chunes</a></td></tr>
<tr d-ix="17"><td>056</td><td>Python 3</td><td>240306T054503Z</td><td><a href="https://codegolf.stackexchange.com/questions/271563/one-dimensional-pinball/271567#271567">totallyh</a></td></tr>
<tr d-ix="18"><td>024</td><td>Charcoal</td><td>240306T060306Z</td><td><a href="https://codegolf.stackexchange.com/questions/271563/one-dimensional-pinball/271568#271568">Neil</a></td></tr>
<tr d-ix="19"><td>nan</td><td>Minecraft Functions</td><td>240306T050206Z</td><td><a href="https://codegolf.stackexchange.com/questions/271563/one-dimensional-pinball/271566#271566">LostXOR</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>C (gcc), <s>98</s> <s>96</s> 67 bytes</h1>
<pre class="lang-c prettyprint-override"><code>f(g,n,p)int*g;{return p&gt;=0&amp;p&lt;n?g[p]=!g[p],f(g,n,p+=g[p]?-1:1)+1:0;}
</code></pre>
<p><a href="https://tio.run/##LYxNCsMgEIXX8RTTQEtsDCjdxdocJM2iSCMuOhVrV@LZ7QiF4cH3fsZOztpa98EJFIF7TGenc3ymb0QINyNP4YqLW8NmDk3FvzmaRsukZsVHNUtdKm3h9fA4cMisa@TWDQxkJUDSFc06@8ZPgpYhJRdyQiTah/7o79gLaO8Bqc25ZqX@AA" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
<p>Readable version:</p>
<pre class="lang-c prettyprint-override"><code>int f(int* g, int n, int p) {
    return p &gt;= 0 &amp; p &lt; n ? 
           (g[p] = !g[p], f(g, n, p += g[p] ? -1 : 1) + 1) : 
           0;
}
</code></pre>
<ul>
<li><code>g</code> is the grid with <code>0</code> corresponding to <code>&lt;</code> and <code>1</code> to <code>&gt;</code>.</li>
<li><code>n</code> is the length of the grid.</li>
<li><code>p</code> is the position of the pinball on the grid.</li>
</ul>
<h2>Edits</h2>
<p>-1 thanks to @noodle man</p>
<p>-1 by changing the data type of <code>g</code> from <code>char*</code> to <code>int*</code></p>
<p>-29 thanks to @ceilingcat</p>
</div>
<div id="pu1" class="pu"><h1>Swift 5.9, 104 bytes</h1>
<pre class="lang-swift prettyprint-override"><code>let f={(g:[Bool],i)in
var n=0,g=g,i=i+0
while i&gt;=0&amp;&amp;i&lt;g.count{g[i] = !g[i]
i-=g[i] ?1:-1
n+=1}
return n}
</code></pre>
<p><code>g</code> is the grid; <code>true</code> corresponds to <code>&quot;&gt;&quot;</code>, and <code>false</code> corresponds to <code>&quot;&lt;&quot;</code>. <code>i</code> is the starting position as an <code>Int</code>, 0-indexed.</p>
<p>When <code>f</code> is called:</p>
<ol>
<li>Three variables are created:
<ul>
<li><code>n</code>, which is simply a counter</li>
<li><code>g</code>, a mutable copy of the parameter with the same name</li>
<li><code>i</code>, similar in purpose to <code>g</code> (we add <code>0</code> to give the type checker a hint)</li>
</ul>
</li>
<li>The closure loops until <code>i</code> ceases to be a valid index of <code>g</code>. Inside this loop, we:
<ol>
<li><p>flip <code>g[I]</code></p>
<blockquote>
<p>The whitespace around the <code>=</code> operator is required so the compiler sees <code>infix operator =</code> followed by <code>prefix operator !</code>, instead of the nonexistent <code>infix operator =!</code>.</p>
</blockquote>
</li>
<li><p>increment or decrement <code>i</code> based on the new sign of <code>g[i]</code></p>
<blockquote>
<p>Using <code>-=</code> instead of <code>+=</code> allowed us to save a byte by omitting whitespace between <code>?</code> and <code>-1</code> (which was needed for the same reason as the whitespace around <code>=</code> above). The whitespace before <code>?</code> is still required to differentiate the ternary conditional operator from an attempt to optional-chain on a non-<code>Optional</code> type.</p>
</blockquote>
</li>
<li><p>increment <code>n</code></p>
</li>
</ol>
</li>
<li>Once we're out of the loop, <code>n</code> has the number of iterations it took for <code>i</code> to go out of bounds. This is exactly what we want, so we just go ahead and return it.</li>
</ol>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, <s>27</s> <s>24</s> 22 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>V[ā&lt;Yå_#DYè©(YǝY®+V¼}¾
</code></pre>
<p>Inputs in the order <span class="math-container">\$startingPosition,gridList\$</span>, where the <span class="math-container">\$gridList\$</span> is a list of <code>-1</code> and <code>1</code> for <code>&lt;</code> and <code>&gt;</code> respectively and <span class="math-container">\$startingPosition\$</span> is 0-based.</p>
<p><a href="https://tio.run/##yy9OTMpM/f8/LPpIo03k4aXxyi6Rh1ccWqkReXxu5KF12mGH9tQe2vf/vyFXtKGOLgjFAgA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/V9WmVDsYv@oYZmCnU3x4RVeSgoah/drKiTmpSgc3q/wqG2SgpJ9ZcL/sOgjjTaRh5fGK7tEHl5xaKVG5PG5kYfWaYcd2lN7aN9/Hb1DW/9HR0cb6uiCUKyOQayOAhLXEJVrBObqQvlIGlCEjGFCCEEduFkYwjhUm2AXNo2NBQA" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>V         # Store the first (implicit) input-index in variable `Y`
[         # Start an infinite loop:
 ā&lt;       #  Push a list in the range [0,length) (without popping)
          #  (which will use the second implicit input-list in the first iteration)
   Yå_    #  Check whether `Y` is NOT in this list
      #   #  If it isn't (aka it's out of bounds): stop the infinite loop
 D        #  Duplicate the current list
  Yè      #  Pop the copy, and get its 0-based `Y`'th value
    ©     #  Store this value in variable `®` (without popping)
     (    #  Pop and negate it (-1 becomes 1 and vice versa)
      Yǝ  #  Insert it back into the list at 0-based index `Y`
 Y        #  Push 0-based index `Y` again
  ®       #  Push the current value `®` again
   +      #  Add that to `Y`
    V     #  Overwrite the previous `Y` with this new position
 ¼        #  Increase counter variable `¾` by 1 (0 by default)
}¾        # After the infinite loop: push counter variable `¾`
          # (which is output implicitly as result)
</code></pre>
</div>
<div id="pu3" class="pu"><h1>Java 8, <s>70</s> <s>69</s> 61 bytes</h1>

<pre class="lang-java prettyprint-override"><code>a-&gt;s-&gt;{int c=0;try{for(;;c++)s-=a[s]*=-1;}finally{return c;}}
</code></pre>
<p>-8 bytes thanks to a tip from <em>@Neil</em> of using <code>-1,1</code> for <code>&lt;,&gt;</code> respectively, instead of <code>1,0</code>.</p>
<p>Grid input as an array with <code>-1</code> and <code>1</code> for <code>&lt;</code> and <code>&gt;</code> respectively.</p>
<p><a href="https://tio.run/##jZI9b4MwEIb3/IqTJ7sGN/RjCQEpS6UOnTJGGa4EUqfEINukQYjfTg2liqo2aSRLPt37@Pz6zjs8oL/bvHdJjsbAC0rVTACMRSsT2DlVVFbmIqtUYmWhxNMYzKWyq7V3EXlWNt2m2oMxiGPIIOrQj40fN64AJNE0tLpuskLTMEw4Z8aPcGXWN5EfhG0mFeZ53ejUVlpBErZtF06cv7J6zZ2/0eahkBvYO@t0abVU29UaWf8KAJsaS1X6AYPbJvD8frXelIUX9eAf/e5v3R@BS3f8YO7PMifKO@/nF3dtvYcruceBayenLzH0ejg2HEGvH6MZ231ADceIkK/i/VB7Vc6QDQmAI4/IPCYieUO9sJRKHrDb72Yua2PTvSgqK0o3RpsrevpdC62xNsIWXyOmyDgBSviREwaoNkC4cZmZ2zOBZZnXDhkDw8ZntN0n" rel="nofollow noreferrer">Try it online.</a></p>
<p><strong>Explanation:</strong></p>
<pre class="lang-java prettyprint-override"><code>a-&gt;s-&gt;{                 // Method with integer-array &amp; integer parameters and integer
                        // return-type
  int c=0;              //  Counter, starting at 0
  try{for(;             //  Start an infinite loop:
          ;             //    After every iteration:
           c++)         //     Increase the counter by 1
    s-=                 //   Update position `s` based on the current `s`'th value:
       a[s]*=-1;}       //    Invert the current `s`'th value (-1 to 1 and vice versa)
  finally{              //  If an error occurs (ArrayOutOfBoundsException when `s` is
                        //  out of bounds):
    return c;}}         //   Return the counter as result
</code></pre>
<p>The <code>try{...}finally{...}</code> is 1 byte shorter than a manual in-bounds check <code>s&gt;=0&amp;s&lt;a.length</code> within the loop.</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/PowerShell/PowerShell" rel="nofollow noreferrer">PowerShell Core</a>, 85 bytes</h1>

<pre class="lang-powershell prettyprint-override"><code>filter f{param($c,$s)&amp;({$c},{2*($s[$_]=!$s[$_])-1+$_|f($c+1)$s})[$_+1-in1..$s.Count]}
</code></pre>
<p><a href="https://tio.run/##bY9fT8IwFMXf@RRXUmWTbqH8MT4MgiGa@CQR3whZyuhkpKyz3SJm22efheIwwH1p@us5554m4ptJtWacO4GQrKrCiKdMQpgnVNKthQKMlH1n5Sgocd69t5CaI38xvDGn7ZA28otQ69rERqq0NW0TJ4qJ6yLlTkQWp4uyGlsN0IPHVnPkeU0MHQw9@4wRDA/nrIthcGKe92cmF7CHof8Pars3MqHXsFaTzhXex/B4BQ8OG20o4EXIZxqsnbflhgUp5ActEjL6jGLKp1G8pJxjQCqlMn2NV2ynL2yXaDFbwRCQ3zCWxEiH5173Q0zWVD5JSX8su7jNke@wr5bXKo1PMpXxdJ90WlGE4Kg60iyYT2eTTKVia5ouxqbqfmZZEDCl9hnHNL3h1LLWHRtpnbMRUXzxzVr4XncyeYeHslFWvw" rel="nofollow noreferrer" title="PowerShell Core – Try It Online">Try it online!</a></p>
<p>Recursive filter<br>
Takes an array of booleans</p>
<ul>
<li><code>true</code> for <code>&lt;</code></li>
<li><code>false</code> for <code>&gt;</code></li>
</ul>
<p>Returns an integer</p>
<h3>Explanations</h3>
<pre class="lang-powershell prettyprint-override"><code>param($c,$s)                                                    # As it is a filter, we have 3 parameters $_ the current position, $c the score, $s the pinball directions
&amp;({  },{                                 })[$_+1-in1..$s.Count] # If the ball position is outside of the array of directions
   $c                                                           # Return the count
          ($s[$_]=!$s[$_])                                      # Change the direction on the current ball position
        2*                -1+$_|f($c+1)$s                       # Increment the score by 1 and invoke the filter recursively on the new ball position
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 16 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>NJf©¥¦,®ị+ɗɗ/ƬL’
</code></pre>
<p>A monadic Link that accepts a pair, <code>[State, Position]</code> and yields the step count as an integer. <code>State</code> is a list of <code>-1</code> for left and <code>1</code> for right; <code>Position</code> is the 1-indexed index at which the ball starts.</p>
<p><strong><a href="https://tio.run/##y0rNyan8/9/PK@3QykNLDy3TObTu4e5u7ZPTT07XP7bG51HDzP///0dH6xrqKCgAsS4SVjCM1VEwiQUA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong> Or see the <a href="https://tio.run/##y0rNyan8/9/PK@3QykNLDy3TObTu4e5u7ZPTT07XP7bG51HDzP8Pd285tPXhjk3@8WZGx7rCjq191LTmUcOMw@2PGnfoZD1qmKNga6fwqGGuZuT//3Y2NgoGXCDSEEwacdnYgIXAlDGXDVDQxg4oCWXARUxgDFMA" rel="nofollow noreferrer" title="Jelly – Try It Online">test-suite</a> (transforms from the &lt;&gt; and zero-index test cases).</p>
<h3>How?</h3>
<pre><code>NJf©¥¦,®ị+ɗɗ/ƬL’ - Link: pair, [State; Position]
             Ƭ   - start with [State; Position]; collect up while distinct, applying:
           ɗ/    -   reduce by last three links as a dyad - f(S=State, P=Position):
     ¦           -     apply to...
    ¥            -     ...indices: last two links as a dyad - f(S, P):
 J               -                   indices of {S} -&gt; [1,2,...,length(S)]
  f              -                   filter keep {P} -&gt; [P] if P is in bounds
                                                         [] otherwise
   ©             -                   (&amp; copy this to the register)
N                -     ...action: negate -&gt; Next_S
          ɗ      -     last three links as a dyad - f(S, P):
       ®         -       recall from the register
        ị        -       {that} index into {S} (vectorises)
         +       -       add {P} -&gt; Next_P = [S[P]+P] if P is in bounds
                                                  [P] otherwise
      ,          -     {Next_S} pair {Next_P}
                         (the next collection all works with Next_P being
                          a singleton list, so no need to extract the value)
              L  - length
               ’ - decrement
</code></pre>
</div>
<div id="pu6" class="pu"><h1>Google Sheets, 124 bytes</h1>
<pre><code>=sort(let(v,tocol(2:2,1),i,sequence(rows(v)),_,lambda(_,g,s,p,if(or(i=p),_(_,if(i=p,-g,g),s+1,p+index(g,p)),s)),_(_,v,,A3)))
</code></pre>
<p>Takes an array of <code>-1</code> and <code>+1</code> that represent <code>&lt;</code> and <code>&gt;</code>, and the starting position as a 1-indexed positive integer.</p>
<p><img src="https://i.imgur.com/93bn4QU.png" alt="pinball.png" /></p>
<p>Based on JvdV's original <a href="https://codegolf.stackexchange.com/a/271572/119296">Excel answer</a> with some optimizations.</p>
<p>In Google Sheets, array iteration needs to be enabled by wrapping the formula in <code>arrayformula()</code>, <code>sumproduct()</code>, <code>filter()</code>, <code>index()</code>, <code>sortn()</code> or <code>sort()</code>. This formula uses <code>sort()</code> that manipulates data but that does not matter here because the final result is just one value.</p>
</div>
<div id="pu7" class="pu"><h1>Excel ms365, <sub><s>138</s></sub> 129 bytes</h1>
<ul>
<li>-9 bytes thanks to <a href="https://codegolf.stackexchange.com/users/119296/doubleunary">@DoubleUnary</a></li>
</ul>
<p>Lovely challenge! I decided to make a recursive function that will keep calling itself through <code>LAMBDA()</code>:</p>
<p><a href="https://i.stack.imgur.com/8rm1R.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/8rm1R.png" alt="enter image description here" /></a></p>
<p>Formula in <code>A3</code>:</p>
<pre><code>=LET(v,TOCOL(1:1,1)=&quot;&lt;&quot;,i,SEQUENCE(ROWS(v)),x,LAMBDA(f,g,s,p,IF(OR(i=p),f(f,IF(i=p,1-g,g),s+1,p-2*INDEX(g,p)+1),s)),x(x,v,,A2+1))
</code></pre>
<p>The answer is 0-indexed and is made in such a way you can alter the values in the 1st row and the starting position in cell <code>A2</code>.</p>
<p>The actuall <code>LAMBDA()</code> has 4 parameters;</p>
<ul>
<li><code>f</code> - A call to itself (to make this recursive);</li>
<li><code>g</code> - A grid made up of 0's and 1's based on symbol;</li>
<li><code>s</code> - Seconds elapsed;</li>
<li><code>p</code> - Current position in the grid.</li>
</ul>
</div>
<div id="pu8" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 42 bytes</h1>

<pre class="lang-ruby prettyprint-override"><code>-&gt;s,g{1.step.find{g-=s[g]*=-1;g&lt;0||!s[g]}}
</code></pre>
<p><a href="https://tio.run/##KypNqvyfZvtf165YJ73aUK@4JLVALy0zL6U6Xde2ODo9VstW19A63cagpkYRxK2t/V@gkBYdbaijC0KxOgaxXKgChugCRrH/AQ" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
</div>
<div id="pu9" class="pu"><h1>Ada, 187 bytes</h1>
<pre><code>function F(G:String;P:Integer;C:Integer:=0)return Integer is(if P&lt;0 or P&gt;=G'Last then C else F(G(1..P)&amp;(if G(P+1)='&gt;'then'&lt;'else'&gt;')&amp;G(P+2..G'Last),(if G(P+1)='&gt;'then P+1 else P-1),C+1));
</code></pre>
<p>F is a recursive expression function that:</p>
<ul>
<li>Defaults C to 0, and uses it to count iterations</li>
<li>Returns C if P (the position) is out of bounds</li>
<li>Calls itself on an altered G array and an updated position</li>
</ul>
</div>
<div id="pu10" class="pu"><h1>APL+WIN, <s>66</s>, 64 bytes</h1>
<p>2 bytes saved thanks to Mukundan</p>
<p>Prompts for grid followed by pinball position. ¯1 moves left and 1 moves right. Index origin = 1</p>
<pre><code>g←⎕⋄p←⎕⋄n←0
:while ((p&gt;0)^p≤⍴g)
g[p]←-g[p]⋄p←p-g[p]⋄n←n+1
:end
n
</code></pre>
<p><a href="https://tio.run/##SyzI0U2pTMzJT9dNzkksLs5M/v@ob6qvz6O2CcZcQJanP5BlyPWooz3tfzqQCRR61N1SAGflAVkGXFblGZk5qQoaGgV2BppxBY86lzzq3ZKuyZUeXRALVKALpiHaCmAckM48bUMuq9S8FK68/0AbuP6ncRkqHFoPxlyGXMg8IxSeMZAH46BowBA0gQmiCCtADMQqgVOHKS4JMwA" rel="nofollow noreferrer" title="APL (Dyalog Classic) – Try It Online">Try it online! Thanks to Dyalog Classic</a></p>
</div>
<div id="pu11" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, 69 bytes</h1>
<p>1-indexed, markers are <code>{-1,1}</code></p>
<pre><code>({g,c}={##};t=0;While[0&lt;c&lt;=Tr[1^g],t++;c+=(o=g[[c]]);g[[c-o]]=-o];t)&amp;
</code></pre>
<p><a href="https://tio.run/##y00syUjNTSzJTE78n2b7X6M6XSe51rZaWbnWusTWwDo8IzMnNdrAJtnGNqQo2jAuPVanRFvbOlnbViPfNj06Ojk2VtMaROvmx8baAgnrEk21/wFFmXkl0WnR1YY6uiBUq2MUG8sFFwWKQSVACChrEhv7HwA" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
</div>
<div id="pu12" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> <code>-plF</code>, 49 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>$i=&lt;&gt;;$\++,$i+=1-2*($F[$i]^=1)while$i&gt;=0&amp;&amp;$i&lt;@F}{
</code></pre>
<p><a href="https://tio.run/##K0gtyjH9/18l09bGzlolRltbRyVT29ZQ10hLQ8UtWiUzNs7WULM8IzMnVSXTztZATU0l08bBrbb6/38DQwMDA0Mu43/5BSWZ@XnF/3V9TfWAgv91C3LcAA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
<p>Uses <code>0</code> for move right and <code>1</code> for move left.</p>
</div>
<div id="pu13" class="pu"><h1><a href="https://codeberg.org/ngn/k" rel="noreferrer">K (ngn/k)</a>, 25 bytes</h1>
<p>Takes markers as 1/-1 for left and right.</p>
<pre><code>{1+.[o;(x;y-x[y]*:-1);0]}
</code></pre>
<p><a href="https://ngn.codeberg.page/k#eJxLs6o21NaLzrfWqLCu1K2IrozVstI11LQ2iK3l4iqxqk4wsNLQqdDUUVJ41DZJQUlfXaVSRz0tukJXyVYpVr0SpChayc7GRsnaQMFQwSgWxLWxgfCNITygrI2dkrWhgrGCiYJpLBdXmpWyYbxGXZyDvqZGNaq9tXqaMVwAcfYmBQ==" rel="noreferrer">Try it online!</a></p>
</div>
<div id="pu14" class="pu"><h1><a href="https://pari.math.u-bordeaux.fr" rel="nofollow noreferrer">PARI/GP</a>, 35 bytes</h1>
<pre><code>f(s,g)=iferr(1+f(s-=g[s]*=-1,g),e,)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m728ILEoMz69YMGCpaUlaboWN5XTNIp10jVtM9NSi4o0DLWBXF3b9OjiWC1bXUOghE6qjiZU6fPEgoKcSo1EBV07hYKizLwSjcRow1gFJR0FJYXEaCMgCySjpJAGFtcBi2lq6ihERxvqAJEuCMUCxaONULnGqFygYl0oHyZkgilkBBZCCOogq8QQNsUubIZFOBbqXVgIAQA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>The grid <code>g</code> is represented as a list of <code>1</code>s and <code>-1</code>s. The starting position <code>s</code> is 1-indexed.</p>
</div>
<div id="pu15" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 30 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>s=&gt;g=p=&gt;s[p]&amp;&amp;-~g(p-=s[p]*=-1)
</code></pre>
<p><a href="https://tio.run/##y0osSyxOLsosKNHNy09J/Z9m@7/Y1i7dtsDWrji6IFZNTbcuXaNA1xbE0bLVNdT8b82VnJ9XnJ@TqpeTn66RphFtqKMLQrGaGgaamnhkDfHKGgFl/wMA" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>-1B from Arnauld</p>
<p><a href="https://tio.run/##y0osSyxOLsosKNHNy09J/Z9m@7/Y1i7dtsDWrji6IFZNTbcuXaNA20RXA8SNszXT1PxvzZWcn1ecn5Oql5OfrpGmEW2qY6xjHKupYaCpiVPOEI@cEVDuPwA" rel="nofollow noreferrer">32 if it need to be one char</a></p>
</div>
<div id="pu16" class="pu"><h1><a href="https://uiua.org" rel="nofollow noreferrer">Uiua</a> <sup><a href="http://tinyurl.com/Uiua-SBCS-Feb-17" rel="nofollow noreferrer">SBCS</a></sup>, 32 bytes</h1>
<pre><code>◌◌⍢(⊙⊙(+1)+⟜⊃⊡⍜⊡¯|↧≥0,&gt;,⧻,)⊙⊙0
</code></pre>
<p><a href="https://uiua.org/pad?src=0_10_0-dev_1__ZiDihpAg4peM4peM4o2iKOKKmeKKmSgrMSkr4p-c4oqD4oqh4o2c4oqhwq984oan4omlMCw-LOKnuywp4oqZ4oqZMAoKZiAwIFsxIMKvMSDCrzFdCmYgMSBbMSDCrzEgwq8xXQpmIDIgWzEgwq8xIMKvMV0KCmYgMCBbwq8xIMKvMSDCrzEgwq8xXQpmIDMgW8KvMSDCrzEgwq8xIMKvMV0KCmYgMSBbwq8xIDEgwq8xIMKvMSDCrzEgMV0KZiAzIFvCrzEgMSDCrzEgwq8xIMKvMSAxXQpmIDQgW8KvMSAxIMKvMSDCrzEgwq8xIDFdCmYgNSBbwq8xIDEgwq8xIMKvMSDCrzEgMV0K" rel="nofollow noreferrer">Try it!</a></p>
<p>Takes 0-indexed starting index as an integer and markers as a list of <code>-1</code> for left and <code>1</code> for right.</p>
<p>Someone crush this answer, I beg of you. I tried the approach of padding the markers with a 0 at the front and back and taking a fixed point, but the best I could do was tie 32 bytes.</p>
<pre><code>◌◌⍢(⊙⊙(+1)+⟜⊃⊡⍜⊡¯|↧≥0,&gt;,⧻,)⊙⊙0
                           ⊙⊙0  # store the count under inputs
  ⍢(             |        )     # while...
                  ↧≥0,&gt;,⧻,      # index is in-bounds...
              ⍜⊡¯               # negate at index
          +⟜⊃⊡                  # and update index
    ⊙⊙(+1)                      # increment count
◌◌                              # pop markers and index
</code></pre>
</div>
<div id="pu17" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, <s>64</s> <s>60</s> 56 bytes</h1>
<p><em>-8 bytes thanks to <a href="https://codegolf.stackexchange.com/users/91267">Mukundan314</a>.</em></p>

<pre class="lang-python prettyprint-override"><code>f=lambda g,p:g[p]and-~f(g[:p]+[-g[p],*g[p+1:],0],p+g[p])
</code></pre>
<p><a href="https://tio.run/##jZDBCoMwDIbvPkWO7ZqCzu1S8ElKDx3OTthq0F687NW7WthAnGAggeT7E8JPc3gMvo6xa572dWstOCTlNBnrW/numNOKjNByGeEpVVEpg6VBEsuIx3CfwgQNaKYrBJnTIJQcC/jGGlX76LxG8sf@X93westXktRuH9hRHbt1OaS6clMU3TAmd4Gg95BdU3mTxt4HlpxOiPP4AQ" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
</div>
<div id="pu18" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 24 bytes</h1>
<pre><code>ＳＪＮ⁰≔⁰ζＷＫＫ«≦⊕ζ✳ι⁻lrι»⎚Ｉζ
</code></pre>
<p><a href="https://tio.run/##LY3LCsIwEEXXzVeErqZQoa67krqpUCnoD8Q4tINJWvJQqPjtMRJ3c@eemSNnYeUiVIyjJeOhN2vwF5/mCaqqZaeg1@uS1@egb2ihqnmTmoNzNBloar6l9JpJIYcR8ZHu@JsVg1j/SG@kRY3G4z3DRXYdyaL0tBig9HMgExyUypY1p5/6wzqFIvlalvlOOA9bqmK0SrF93D3VFw" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Takes input as a string of <code>l</code>s and <code>r</code>s. Explanation:</p>
<pre><code>Ｓ
</code></pre>
<p>Write the pinball layout to the canvas.</p>
<pre><code>ＪＮ⁰
</code></pre>
<p>Jump to the initial position of the pinball.</p>
<pre><code>≔⁰ζ
</code></pre>
<p>Start with <code>0</code> steps.</p>
<pre><code>ＷＫＫ«
</code></pre>
<p>While the pinball is on an <code>l</code> or an <code>r</code>, ...</p>
<pre><code>≦⊕ζ
</code></pre>
<p>... increment the number of steps, and...</p>
<pre><code>✳ι⁻lrι
</code></pre>
<p>... overwrite the current cell with the letter of <code>lr</code> that it isn't, moving the pinball in the appropriate direction.</p>
<pre><code>»⎚Ｉζ
</code></pre>
<p>Clear the canvas and output the final number of steps.</p>
</div>
<div id="pu19" class="pu"><h1>Minecraft Functions, 378 + 141 + 541 = 1060 bytes</h1>
<p>Made up of 3 functions in a data pack named <code>a</code>:</p>
<p><code>a.mcfunction</code>:</p>
<pre><code>scoreboard objectives add a dummy
data modify storage s a set from storage s c[0]
data remove storage s c[0]
execute at @p if data storage s {a:0} run setblock ~ ~ ~ mud
execute at @p if data storage s {a:1} run setblock ~ ~ ~ tnt
execute at @p run tp @p ~1 ~ ~
execute if data storage s c[0] run schedule function a:a 1
execute at @p unless data storage s c[0] run function a:b
</code></pre>
<p><code>b.mcfunction</code>:</p>
<pre><code>summon cat
data modify entity @e[type=cat,limit=1] Pos[0] set from storage s i
execute at @e[type=cat,limit=1] run tp @p ~.5 ~ ~
function a:c
</code></pre>
<p><code>c.mcfunction</code>:</p>
<pre><code>execute at @p if block ~ ~ ~ air run tellraw @p {&quot;score&quot;:{&quot;name&quot;:&quot;a&quot;,&quot;objective&quot;:&quot;a&quot;}}
execute at @p unless block ~ ~ ~ air run schedule function a:c 1
execute at @p if block ~ ~ ~ mud run data merge storage s {a:0}
execute at @p if block ~ ~ ~ tnt run data merge storage s {a:1}
execute at @p if data storage s {a:0} run setblock ~ ~ ~ tnt
execute at @p if data storage s {a:1} run setblock ~ ~ ~ mud
execute at @p if data storage s {a:0} run tp @p ~-1 ~ ~
execute at @p if data storage s {a:1} run tp @p ~1 ~ ~
scoreboard players add a a 1
</code></pre>
<p>The input grid is given as an array <code>c</code> of <code>0</code> (left) and <code>1</code> (right) in storage <code>s</code>. The starting position at is given as a double <code>i</code> in the same storage. They can be set with these commands:</p>
<pre><code># Set grid (&lt;&gt;&lt;&lt;&lt;&gt;)
data modify storage s c set value [0,1,0,0,0,1]
# Set starting position (position 3)
data modify storage s i set value 3.0d
</code></pre>
<p>It's run with <code>/function a:a</code> and outputs the number of seconds to chat. For best results (well, correct results), run in a void world in Spectator mode at x=0.</p>
<p>Here's a slowed down GIF of it in action for test case #7 (RIP the cat).</p>
<p><a href="https://i.stack.imgur.com/dIW6M.gif" rel="noreferrer"><img src="https://i.stack.imgur.com/dIW6M.gif" alt="GIF showing thing" /></a></p>
<p>Definitely not anywhere near optimal, but it was a fun challenge!</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/271563/">271563</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




