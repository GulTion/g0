<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::QNNN</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
  <!-- TXXX -->
<tr d-ix="0"><td>166</td><td>C GCC</td><td>230805T143102Z</td><td><a href="https://codegolf.stackexchange.com/questions/72034/how-drunk-am-i-and-when-can-i-drive-again/263744#263744">matteo_c</a></td></tr>
<tr d-ix="1"><td>111</td><td>Javascript ES6</td><td>160214T190928Z</td><td><a href="https://codegolf.stackexchange.com/questions/72034/how-drunk-am-i-and-when-can-i-drive-again/72084#72084">reubn</a></td></tr>
<tr d-ix="2"><td>206</td><td>TSQL</td><td>160214T064952Z</td><td><a href="https://codegolf.stackexchange.com/questions/72034/how-drunk-am-i-and-when-can-i-drive-again/72048#72048">Liesel</a></td></tr>
<tr d-ix="3"><td>122</td><td>Perl</td><td>160214T121309Z</td><td><a href="https://codegolf.stackexchange.com/questions/72034/how-drunk-am-i-and-when-can-i-drive-again/72052#72052">David Mo</a></td></tr>
<tr d-ix="4"><td>131</td><td>JavaScript ES6</td><td>160214T102631Z</td><td><a href="https://codegolf.stackexchange.com/questions/72034/how-drunk-am-i-and-when-can-i-drive-again/72050#72050">edc65</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://gcc.gnu.org" rel="nofollow noreferrer">C (GCC)</a>, <s>176</s> 166 bytes</h1>
<p><em>-10 bytes thanks to <a href="https://codegolf.stackexchange.com/users/52904/ceilingcat">@ceilingcat</a></em></p>
<pre class="lang-c prettyprint-override"><code>float x;main(a){for(char b[9],c[9];~scanf(&quot;%d%s%s\n&quot;,&amp;a,b,c);)x+=a*(*b-98?*b-103?.02:.2:.5)*(*c-98?c[1]-97?2:-1:c[1]-111?1:5);printf(&quot;%f %f&quot;,x&gt;0?x:0,fmax(0,x*10-5));}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=RY7RSsMwGIXv9xShUElqMpJuZWuC5sLHqEWS2GyFtpEmYlD0RbzZzfSZ9jZmThB-DvzfORzO59E87Iz5bjIyjFl7OD4HS7anLzs4FUAUo-onqNCbdTM0ezUD3dQtNknEhzdqsjDLH3Of-_spw1cKa2yQQPH6RhWw0KTeyqSMruSSlnyZrkLJMGfDNKwl9UaWnDD--zDGJOMVEk9zP4VztQW5zXC8pTJyiu2oIqQ4FoySCiHxfln7N_pwulsDv3fBA-3cawcAWDCwG5T3nQcv_ZTIokxeCEMCuuvmBFb_CRUSuXT9AA" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu1" class="pu"><h1>Javascript (ES6), 111</h1>
<p>Takes input as arrays of arrays of strings/integers e.g.</p>
<pre><code>[[4, &quot;shots&quot;, &quot;booze&quot;],
[1, &quot;glasses&quot;, &quot;wine&quot;],
[2, &quot;bottles&quot;, &quot;beer&quot;],
[3, &quot;glasses&quot;, &quot;water&quot;]]
</code></pre>
<p><strong>Outputs to simple array</strong> e.g. <code>[1.2, 7]</code></p>
<pre><code>a=&gt;(b=0,c={s:2,g:20,b:50,o:2,e:10,i:5,a:-10},a.map(([d,e,f])=&gt;b+=d*c[e[0]]/c[f[1]]),g=b&gt;0?b:0,[g/10,g&gt;5?g-5:0])
</code></pre>
<p>#Explained</p>
<pre><code>a =&gt; (
b = 0,                                           // Counter For Alcohol Level
c = {s:2, g:20, b:50, o:2, e:10, i:5, a:-10},    // Look up for values
a.map(                                           // Loops over array
  ([d, e, f]) =&gt;                                 // Sets d,e,f to respective array indexes 
     b += d * c[e[0]] / c[f[1]]                  // Increases Level by values from lookup
  ),
g = b &gt; 0 ? b : 0,                               // If Level is lower than 0 make it = 0
[g / 10, g &gt; 5 ? g - 5 : 0])                     // Output: Level / 10 and Level - 5 bound to 0
</code></pre>
</div>
<div id="pu2" class="pu"><h2>TSQL, <s>301</s>, <s>299</s>, <s>219</s>, 206 Bytes</h2>

<p>Input goes into temp table <code>#I</code> (you said any format :)</p>

<pre><code>SELECT * INTO #I FROM (
  VALUES
    (4,'shots','booze')
   ,(1,'glasses','wine')
   ,(2,'bottles','beer')
   ,(3, 'glasses','water')
) A (Q, V, N)
</code></pre>

<p>Code:</p>

<pre><code>SELECT IIF(L&lt;0,0,L),IIF(10*L-.5&lt;0,0,10*L-.5)FROM(SELECT SUM(Q*S*P)L FROM(VALUES('bo%',.5),('be%',.1),('wi%',.2),('wa%',-.1))A(W,S),(VALUES('s%',.2),('g%',2),('b%',5))B(X,P),#I WHERE N LIKE W AND V LIKE X)A;
</code></pre>

<p>Thanks for the ideas to improve it, Micky T :)</p>
</div>
<div id="pu3" class="pu"><h1>Perl, <s>133</s> 119 + 3 = <s>136</s> 122 bytes</h1>

<pre><code>%u=(o,.5,e,.1,i,.2,a,-.1,g,2,b,5,s=&gt;.2);/(\d+) (.).* .(.)/;$x+=$1*$u{$2}*$u{$3}}{$_=($x&gt;0?$x:0).$".($x-.5&gt;0?$x-.5:0)*10
</code></pre>

<p>To be run with <code>perl -p</code>. Takes line-oriented input on STDIN, produces output on STDOUT.</p>

<p>Less-golfed version:</p>

<pre class="lang-pl prettyprint-override"><code># char-&gt;number conversion table
# declared using barewords except for 's', which can't be a bareword
# because it's a keyword
%u=(o,.5, e,.1, i,.2, a,-.1, g,2, b,5, s=&gt;.2);

# extract the number, first letter of first word, second letter of
# second word
/(\d+) (.).* .(.)/;

# do unit conversion and multiply up all factors
$x += $1 * $u{$2} * $u{$3}

# hack for -p to produce an END { ... print } block
}{

# format output
$_ = ($x &gt; 0 ? $x : 0) . $" . ($x-.5 &gt; 0 ? $x-.5 : 0)*10
</code></pre>

<p>Thanks to <a href="https://codegolf.stackexchange.com/users/48657/dev-null">dev-null</a> for suggestions saving 11 bytes.</p>
</div>
<div id="pu4" class="pu"><h1>JavaScript (ES6), 131</h1>
<pre class="lang-js prettyprint-override"><code>a=&gt;a.map(s=&gt;([a,b,c]=s.split` `,t+=a*[50,20,2]['bgs'.search(b[0])]*~-'0236'['aeio'.search(c[1])]),t=0)&amp;&amp;[t&gt;0?t/100:0,t&gt;50?t/10-5:0]
</code></pre>
<p><strong>Less golfed</strong></p>
<pre class="lang-js prettyprint-override"><code>a=&gt;(
  t=0,
  a.map(s=&gt;(
    [a,b,c] = s.split` `,
    t += a * [50,20,2]['bgs'.search(b[0])] // char 0 is unique
           * [-1,1,2,5]['aeio'.search(c[1])] // char 1 is unique 
           // golfed: add 1 to get a string of dingle digits, the sub 1 using ~-
    )
  ),
  [ t&gt;0 ? t/100 : 0, t&gt;50 ? t/10-5 : 0]
)
</code></pre>
</div>
<!-- TYYY -->

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/QNNN/">QNNN</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




