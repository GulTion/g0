<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::138985</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>012</td><td>Uiua</td><td>230930T131959Z</td><td><a href="https://codegolf.stackexchange.com/questions/138985/filter-out-the-pseudo-elements/265621#265621">chunes</a></td></tr>
<tr d-ix="1"><td>5511</td><td>Nibbles</td><td>230123T170440Z</td><td><a href="https://codegolf.stackexchange.com/questions/138985/filter-out-the-pseudo-elements/257021#257021">Dominic </a></td></tr>
<tr d-ix="2"><td>019</td><td>Pip</td><td>230123T171551Z</td><td><a href="https://codegolf.stackexchange.com/questions/138985/filter-out-the-pseudo-elements/257022#257022">Baby_Boy</a></td></tr>
<tr d-ix="3"><td>009</td><td>Japt v2.0a0 f</td><td>170814T150442Z</td><td><a href="https://codegolf.stackexchange.com/questions/138985/filter-out-the-pseudo-elements/139003#139003">Shaggy</a></td></tr>
<tr d-ix="4"><td>024</td><td>Julia 0.5</td><td>230123T144138Z</td><td><a href="https://codegolf.stackexchange.com/questions/138985/filter-out-the-pseudo-elements/257018#257018">Ashlin H</a></td></tr>
<tr d-ix="5"><td>042</td><td>Arturo</td><td>230123T134519Z</td><td><a href="https://codegolf.stackexchange.com/questions/138985/filter-out-the-pseudo-elements/257016#257016">chunes</a></td></tr>
<tr d-ix="6"><td>006</td><td>Jelly</td><td>210429T010908Z</td><td><a href="https://codegolf.stackexchange.com/questions/138985/filter-out-the-pseudo-elements/224618#224618">Unrelate</a></td></tr>
<tr d-ix="7"><td>036</td><td>Factor</td><td>210429T002825Z</td><td><a href="https://codegolf.stackexchange.com/questions/138985/filter-out-the-pseudo-elements/224616#224616">chunes</a></td></tr>
<tr d-ix="8"><td>009</td><td>TIBasic</td><td>180503T124701Z</td><td><a href="https://codegolf.stackexchange.com/questions/138985/filter-out-the-pseudo-elements/164071#164071">Timtech</a></td></tr>
<tr d-ix="9"><td>026</td><td>K oK</td><td>171019T094420Z</td><td><a href="https://codegolf.stackexchange.com/questions/138985/filter-out-the-pseudo-elements/145753#145753">mkst</a></td></tr>
<tr d-ix="10"><td>008</td><td>05AB1E</td><td>170814T145403Z</td><td><a href="https://codegolf.stackexchange.com/questions/138985/filter-out-the-pseudo-elements/138992#138992">Riley</a></td></tr>
<tr d-ix="11"><td>035</td><td>Mathematica</td><td>170815T222634Z</td><td><a href="https://codegolf.stackexchange.com/questions/138985/filter-out-the-pseudo-elements/139214#139214">user6198</a></td></tr>
<tr d-ix="12"><td>081</td><td>Java 8</td><td>170815T003001Z</td><td><a href="https://codegolf.stackexchange.com/questions/138985/filter-out-the-pseudo-elements/139079#139079">Jakob</a></td></tr>
<tr d-ix="13"><td>031</td><td>R</td><td>170815T141706Z</td><td><a href="https://codegolf.stackexchange.com/questions/138985/filter-out-the-pseudo-elements/139139#139139">Giuseppe</a></td></tr>
<tr d-ix="14"><td>010</td><td>Pyth</td><td>170815T013248Z</td><td><a href="https://codegolf.stackexchange.com/questions/138985/filter-out-the-pseudo-elements/139084#139084">Maltysen</a></td></tr>
<tr d-ix="15"><td>015</td><td>J</td><td>170815T004050Z</td><td><a href="https://codegolf.stackexchange.com/questions/138985/filter-out-the-pseudo-elements/139080#139080">cole</a></td></tr>
<tr d-ix="16"><td>052</td><td>JavaScript ES6</td><td>170814T151842Z</td><td><a href="https://codegolf.stackexchange.com/questions/138985/filter-out-the-pseudo-elements/139010#139010">Shaggy</a></td></tr>
<tr d-ix="17"><td>039</td><td>Röda</td><td>170814T175613Z</td><td><a href="https://codegolf.stackexchange.com/questions/138985/filter-out-the-pseudo-elements/139030#139030">fergusq</a></td></tr>
<tr d-ix="18"><td>009</td><td>Husk</td><td>170814T165619Z</td><td><a href="https://codegolf.stackexchange.com/questions/138985/filter-out-the-pseudo-elements/139022#139022">ბიმო</a></td></tr>
<tr d-ix="19"><td>031</td><td>Perl 6</td><td>170814T182258Z</td><td><a href="https://codegolf.stackexchange.com/questions/138985/filter-out-the-pseudo-elements/139035#139035">Sean</a></td></tr>
<tr d-ix="20"><td>039</td><td>Haskell</td><td>170814T173658Z</td><td><a href="https://codegolf.stackexchange.com/questions/138985/filter-out-the-pseudo-elements/139029#139029">nimi</a></td></tr>
<tr d-ix="21"><td>084</td><td>PHP</td><td>170814T162716Z</td><td><a href="https://codegolf.stackexchange.com/questions/138985/filter-out-the-pseudo-elements/139020#139020">Titus</a></td></tr>
<tr d-ix="22"><td>nan</td><td>Perl 5</td><td>170814T153004Z</td><td><a href="https://codegolf.stackexchange.com/questions/138985/filter-out-the-pseudo-elements/139014#139014">Xcali</a></td></tr>
<tr d-ix="23"><td>066</td><td>Python 2</td><td>170814T150813Z</td><td><a href="https://codegolf.stackexchange.com/questions/138985/filter-out-the-pseudo-elements/139007#139007">totallyh</a></td></tr>
<tr d-ix="24"><td>076</td><td>Python 3</td><td>170814T150638Z</td><td><a href="https://codegolf.stackexchange.com/questions/138985/filter-out-the-pseudo-elements/139004#139004">Luis Men</a></td></tr>
<tr d-ix="25"><td>048</td><td>Python 3 with Numpy</td><td>170814T152151Z</td><td><a href="https://codegolf.stackexchange.com/questions/138985/filter-out-the-pseudo-elements/139011#139011">Luis Men</a></td></tr>
<tr d-ix="26"><td>072</td><td>Python 3</td><td>170814T151231Z</td><td><a href="https://codegolf.stackexchange.com/questions/138985/filter-out-the-pseudo-elements/139009#139009">Halvard </a></td></tr>
<tr d-ix="27"><td>008</td><td>MATL</td><td>170814T145633Z</td><td><a href="https://codegolf.stackexchange.com/questions/138985/filter-out-the-pseudo-elements/138996#138996">Luis Men</a></td></tr>
<tr d-ix="28"><td>011</td><td>Pyth</td><td>170814T145623Z</td><td><a href="https://codegolf.stackexchange.com/questions/138985/filter-out-the-pseudo-elements/138995#138995">Dave</a></td></tr>
<tr d-ix="29"><td>095</td><td>C# Mono</td><td>170814T150008Z</td><td><a href="https://codegolf.stackexchange.com/questions/138985/filter-out-the-pseudo-elements/138999#138999">TheLetha</a></td></tr>
<tr d-ix="30"><td>009</td><td>Jelly</td><td>170814T145154Z</td><td><a href="https://codegolf.stackexchange.com/questions/138985/filter-out-the-pseudo-elements/138989#138989">Leaky Nu</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://uiua.org" rel="nofollow noreferrer">Uiua</a>, 12 bytes</h1>
<pre><code>▽&lt;÷⧻∶/+.\+..
</code></pre>
<p><a href="https://uiua.org/pad?src=ZiDihpAg4pa9PMO34qe74oi2LysuXCsuLgoKZiBbMTAuM10KZiBbNS40IDUuOV0KZiBbMSA0IMKvMyAxMF0KZiBbwq8zMDAgwq8yMC45IDEwMDBdCmYgWzMuMyAzLjMgMy4zIDMuM10KZiBbwq8yODkuOTMgOTEyLjMgwq84MTkuMzkgMTAwMF0=" rel="nofollow noreferrer">Try it!</a></p>
<pre><code>▽&lt;÷⧻∶/+.\+..
          ..  # duplicate twice
        \+    # cumulative sum
  ÷⧻∶/+.      # mean
▽&lt;            # keep less than
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="http://golfscript.com/nibbles/index.html" rel="nofollow noreferrer">Nibbles</a>, 5.5 bytes (11 nibbles)</h1>
<pre><code>|$-/+`\@+,@
</code></pre>
<p><a href="http://golfscript.com/nibbles/index.html" rel="nofollow noreferrer">Nibbles</a> uses only integers, so I'm &quot;assuming that the numbers fit my language of choice&quot; by omitting decimal points from fractional inputs &amp; padding with zeros where needed.  I hope that this is not construed as &quot;abusing&quot; the lenient input rule in any way.</p>
<pre><code>|$              # filter input to retain only those that are truthy when:
  -             #   subtracting them from
    +           #     the sum of 
     `\@+       #     the cumulative sums of the input
   /            #     divided by
         ,@     #     the length of the input
</code></pre>
<p><a href="https://i.stack.imgur.com/XiyJW.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/XiyJW.png" alt="enter image description here" /></a></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/dloscutoff/pip" rel="nofollow noreferrer">Pip</a>, 19 bytes</h1>
<pre><code>_&lt;$+$+*(aH\,b)/bFIa
</code></pre>
<p>Makes use of the optional length input.</p>
<p>How?</p>
<pre><code>_&lt;$+$+*(aH\,b)/bFIa  : -xp; Two args: array and length
        a         a  : First input; array
            b  b     : Second input; length
                FIa  : Filter: keep items from iterable 'a' which return truthy
_                    : Passed element
 &lt;                   : Is less then
        aH           : Get prefix of a that is # elements long
          \,b        : Range from one to length
    $+*              : Sum of each list
  $+                 : Sum list
              /b     : Divide by length
</code></pre>
<p><a href="https://dso.surge.sh/#@WyJwaXAiLCIiLCJfPCQrJCsqKGFIXFwsYikvYkZJYSIsIiIsIiIsIidbMTs0Oy0zOzEwXScgJzQnIC14cCJd" rel="nofollow noreferrer">Try It Online!</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/ETHproductions/japt/" rel="nofollow noreferrer">Japt</a> v2.0a0 <a href="https://codegolf.meta.stackexchange.com/a/14339/"><code>-f</code></a>, <s>12</s> <s>11</s> <s>10</s> 9 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>&lt;Wå+ x÷Wl
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=2.0a0&amp;flags=LWY&amp;code=PFflKyB491ds&amp;input=WzEsIDQsIC0zLCAxMF0" rel="nofollow noreferrer">Try it</a></p>
<p>-1 byte thanks to <a href="https://codegolf.stackexchange.com/users/42545/ethproductions">ETH</a> pointing out a redundant character.</p>
<pre><code>&lt;Wå+ x÷Wl     :Implicit filter of each element in input array W
&lt;             :Is less than
 Wå+          :  Cumulatively reduce W by addition
     x        :  Reduce by addition
      ÷Wl     :  Divide by length of W
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="http://julialang.org/" rel="nofollow noreferrer">Julia 0.5</a>, 24 bytes</h1>

<pre class="lang-julia prettyprint-override"><code>~x=x[x.&lt;mean(cumsum(x))]
</code></pre>
<p><a href="https://tio.run/##bY@7asMwGIV3PcUhySCBLCSrhqhEoUMfoZvQYCcpdYnt4Av15Fd3pSYuNXQROt@5wP85XMs8m@dptKMbxaG65DU9DVU3VHRkzM8v3UfzhckpjieORHMo6cmtLev@WlNGyBZvl67vyBkWr@Wpp8QpKbSHPcJ5TlwmQjET5k5@VXBWmz/uQqKbaCnDP5XCxIB8RP7gmNIi1FfPPfYPj5vp3ggTtFFpxMleGaHX@0vk4YVauNItF085rEXBsXnGtAsCu2LD8N60oDkvGMoaZz9/Aw" rel="nofollow noreferrer" title="Julia 0.5 – Try It Online">Try it online!</a></p>
<p>In modern Julia, <code>mean</code> was moved from <code>Base</code> to the <code>Statistics</code> module:</p>
<h1><a href="http://julialang.org/" rel="nofollow noreferrer">Julia 1.0</a>, 33 bytes</h1>

<pre class="lang-julia prettyprint-override"><code>~x=x[x.&lt;sum(cumsum(x))/length(x)]
</code></pre>
<p><a href="https://tio.run/##bU9LasMwEN3rFI80CwtkVbISiEIUuugRuhNa2Pm6OE6IbaqVr@5KTVxq6GZm3hfms6vKXPph6L3x1vNN012SXXeJy1P6Wh3qU3sOpxvemvP1C72VDAuGVDFI4cjtXtZtVSeUkBd8HJq2IXsYvJe7NiFWCq4czBbWMWKXPASXXD@YXxSUSeePOjJRTZUQ4c4E19EgnpY/dHQpHuKT8bD9w8fObKW5DljLLNLpSmqupv2j5amFWPjSjh/3OYxBwTBbo58HgHkxozhe70hyVlCUNfZu@AY" rel="nofollow noreferrer" title="Julia 1.0 – Try It Online">Try it online!</a></p>
</div>
<div id="pu5" class="pu"><h1><a href="https://arturo-lang.io" rel="nofollow noreferrer">Arturo</a>, 42 bytes</h1>
<pre class="lang-arturo prettyprint-override"><code>$[a][select a'x[0x&lt;average map a=&gt;[dup+]]]
</code></pre>
<p><a href="http://arturo-lang.io/playground?VbtpQY" rel="nofollow noreferrer">Try it</a></p>
<pre><code>$[a][                      ; a function taking an argument a
    select a 'x [          ; select numbers from a and assign current number to x
        0                  ; push 0 to the stack
        x &lt;                ; is x less than...
        average            ; ...the mean...
        map a =&gt; [dup +]   ; ...of the cumulative sum of a?
    ]                      ; end select
]                          ; end function
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 6 bytes</h1>
<pre><code>&lt;ƇÄS÷ɗ
</code></pre>
<p><a href="https://tio.run/##y0rNyan8/9/mWPvhluDD209O/394uY/3sa5HTWsi//@PjjY00DOO1eGKNtUz0VEw1bMEsQ11FIAcXWMdBUMDEF/X2MAAyDcy0LMECRmABY31gPIoBFipkYWlniWQb2loBBLWtTC01DOGaYsFAA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
<p>Takes the list on the left and its length on the right, as explicitly permitted.</p>
<p>With newer builtins, Leaky Nun's <code>+\S÷L&lt;Ðf@</code> becomes <code>ÄS÷L&lt;Ƈ@</code> (which may as well be <code>ÄS÷L&gt;x@</code>, using one less piece of the present, but that's besides the point), but taking the length as the right argument trades an <code>L</code> and an <code>@</code> for one <code>ɗ</code>.</p>
<pre><code> Ƈ        Filter the left argument to elements which
&lt;         are less than
   S ɗ    the sum of
  Ä       the cumulative sums of the left argument
    ÷     divided by the right argument.
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://factorcode.org/" rel="nofollow noreferrer">Factor</a>, 36 bytes</h1>
<pre><code>[ dup cum-sum mean '[ _ &lt; ] filter ]
</code></pre>
<p><a href="https://tio.run/##bZHBisIwEIbvfYrf054S0kbBuOJV9rIX8SSyhJiyRVO7yfQg0mevwUaRtQNzmXzf/IQptaGz77ebr@/1Akfra3uC0/TLA2mqAlUmoPSX@wzB/rW2Njag8Zbo0viqJnxm2TUDrsgFl@gwXhOwVWTQ3dEZn8ZW43RCn8ywHFMwGTPGnGQkZhCYFAKsEHFDLsQ/LQkvzCDJ@IPXHpPemCGumCuuJFRexBmb54rLZ/IjLjGP1y7r@h0ObQPTOhZaB2d1jY8dfrDEHmV1Iuux751uEA9ijry/AQ" rel="nofollow noreferrer" title="Factor – Try It Online">Try it online!</a></p>
<h2>Explanation:</h2>
<p>It's a quotation (anonymous function) that takes a sequence from the data stack as input and leaves a sequence on the data stack as output. Assuming <code>{ 1 4 -3 10 }</code> is on the data stack when this quotation is called...</p>
<ul>
<li><p><code>dup</code> Duplicate an object.</p>
<p><strong>Stack:</strong> <code>{ 1 4 -3 10 } { 1 4 -3 10 }</code></p>
</li>
<li><p><code>cum-sum</code> Take the cumulative sum.</p>
<p><strong>Stack:</strong> <code>{ 1 4 -3 10 } { 1 5 2 12 }</code></p>
</li>
<li><p><code>mean</code> Take the mean.</p>
<p><strong>Stack:</strong> <code>{ 1 4 -3 10 } 5</code></p>
</li>
<li><p><code>'[ _ &lt; ] filter</code> Take the elements from a sequence that are less than the number on top of the stack.</p>
<p><strong>Stack:</strong> <code>{ 1 4 -3 }</code></p>
</li>
</ul>
</div>
<div id="pu8" class="pu"><h1>TI-Basic, 9 bytes</h1>
<pre><code>Ans*(Ans&lt;mean(cumSum(Ans
</code></pre>
</div>
<div id="pu9" class="pu"><h1><a href="https://github.com/JohnEarnest/ok" rel="nofollow noreferrer">K (oK)</a>, 26 bytes</h1>

<p><strong>Solution:</strong></p>

<pre><code>x@&amp;x&lt;(+/+/'x@!:'1+!#x)%#x:
</code></pre>

<p><a href="https://tio.run/##y9bNz/7/v8JBrcJGQ1tfW1@9wkHRSt1QW1G5QlNVucLKUMFEQddYwdDg/38A" rel="nofollow noreferrer" title="K (oK) – Try It Online">Try it online!</a></p>

<p><strong>Examples:</strong></p>

<pre><code>&gt; x@&amp;x&lt;(+/+/'x@!:'1+!#x)%#x:1 4 -3 10
1 4 -3
&gt; x@&amp;x&lt;(+/+/'x@!:'1+!#x)%#x:-289.93 912.3 -819.39 1000
-289.93 -819.39
</code></pre>

<p><strong>Explanation:</strong></p>

<p>Interpretted right-to-left. Struggled with a short way to extract prefixes:</p>

<pre><code>x@&amp;x&lt;(+/+/'x@!:'1+!#x)%#x: / the solution
                        x: / store input in x, x:1 4 -3 10
                       #   / count, return length of x, #1 4 -3 10 =&gt; 4
     (               )     / do everything in the brackets together
                   #x      / count x
                  !        / til, range 0..x, !4 =&gt; 0 1 2 3
                1+         / add 1 vectorised, 1+0 1 2 3 =&gt; 1 2 3 4
             !:'           / til each, e.g. !1, !2, !3, !4
           x@              / index into x at these indices (now we have the prefixes)
        +/'                / sum (+ over) each, e.g. 1 5 2 12
      +/                   / sum over, e.g. 20
                      %    / right divided by left, 20%4 =&gt; 5 (now we have the hyper average)
   x&lt;                      / boolean list where x less than 5
  &amp;                        / indices where true, &amp;0111b =&gt; 1 2 3
x@                         / index into x at these indices (now we have the filtered list)
</code></pre>

<p><strong>Notes:</strong></p>

<p>Alternative version taking length of input as parameter (<strong>25</strong> byte solution):</p>

<pre><code>&gt; {x@&amp;x&lt;(+/+/'x@!:'1+!y)%y}[1 4 -3 10;4]
1 4 -3
</code></pre>
</div>
<div id="pu10" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, <s>9</s> 8 bytes</h1>

<p>-1 bytes thanks to <a href="https://codegolf.stackexchange.com/users/59376/magic-octopus-urn">Magic Octopus Urn</a></p>

<pre><code>ηOO¹g/‹Ï
</code></pre>

<p><a href="https://tio.run/##MzBNTDJM/f//3HZ//0M70/UfNew83P//f7SukYWlnqWxjoKloZEekNK1MLTUM7bUUTA0MDCIBQA" rel="nofollow noreferrer">Try it online!</a></p>

<pre><code>η        # Get prefixes
 O       # Sum each
  O¹g/   # Get the mean ( length(prefix list) equals length(original list) )
      ‹Ï # Keep only the value that are less than the mean
</code></pre>

<hr>

<h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, 6 bytes</h1>

<p>Using the new <code>ÅA</code> command.</p>

<pre><code>ηOÅA‹Ï
</code></pre>

<p><a href="https://tio.run/##MzBNTDJM/f//3Hb/w62Ojxp2Hu7//z9a18jCUs/SWEfB0tBID0jpWhha6hlb6igYGhgYxAIA" rel="nofollow noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>

<pre><code>η      # Get prefixes
 O     # Sum each
  ÅA   # Get the mean
    ‹Ï #  Keep only the value that are less than the mean
</code></pre>
</div>
<div id="pu11" class="pu"><h1>Mathematica, 35 bytes</h1>

<pre><code>Cases[#,x_/;x&lt;#.Range[#2,1,-1]/#2]&amp;
</code></pre>

<p><code>Function</code> which expects a list of numbers as the first argument <code>#</code> and the length of the list as the second argument <code>#2</code>. <code>#.Range[#2,1,-1]/#2</code> takes the dot product of the input list <code>#</code> and the the list <code>Range[#2,1,-1] == {#2,#2-1,...,1}</code>, then divides by the length <code>#2</code>. Then we return the <code>Cases</code> <code>x_</code> in the input list <code>#</code> which are less than the hyper-average.</p>

<p>Without the length as a second argument, we need <code>6</code> more bytes:</p>

<pre><code>Cases[#,x_/;x&lt;#.Range[h=Tr[1^#],1,-1]/h]&amp;
</code></pre>
</div>
<div id="pu12" class="pu"><h1>Java 8, 81 bytes</h1>



<p>This lambda expression accepts a <code>List&lt;Float&gt;</code> and mutates it. The input list's iterator must support removal (<code>ArrayList</code>'s does, for example). Assign to <code>Consumer&lt;List&lt;Float&gt;&gt;</code>.</p>

<pre class="lang-java prettyprint-override"><code>a-&gt;{float l=0,t=0,u;for(float n:a)t+=n*(a.size()-l++);u=t/l;a.removeIf(n-&gt;n&gt;=u);}
</code></pre>

<h2>Ungolfed lambda</h2>

<pre class="lang-java prettyprint-override"><code>a -&gt; {
    float l = 0, t = 0, u;
    for (float n : a)
        t += n * (a.size() - l++);
    u = t / l;
    a.removeIf(n -&gt; n &gt;= u);
}
</code></pre>

<p><a href="https://tio.run/##fZJNa@MwEIbPzq/QUd7Eqh23UNe1YSm7UOhCocfSw9SRg1JZCtYoSzf4t2fHcUpK3EYgHeZ95lOzgg1Edi3NavG2W/tXrSpWaXCO/QFl2HYSrFu1AZTMISCJK3IQHpUWtTcVKmvEnTXON7K9PWoPyuHtb20By5ItJT466Rf2l5aNNOhYsYOo3Na9znQRz5Cuz2vb8sFmbiDEaWF@cBBO/ZM8jPR0Gua@wAudg2hlYzfyvuYmKk1Z@DDvdkE@oWKHDg61bqxasIb64E/YKrN8fmHQLl1IbbGTs6/1@YWICpykCpmRfz9Zxx4fZ5vEIq272ffAlbisZ@xKZGephJiei1J6kvgsG6Vx3KPzmIL2dHyeT0Uf9PQ9m2GeXYusJ7NkvveIrpNMpMd0I98uH5noRxk/DJHBHU2W3QwD7v8gCIIvN4bR4g3zP8o/2xbePzH8RHICXC/zfZYwzL9tbbSNAqpKrpErQ15U09O7Q9kI61HQ7hvUZpBG/U6CbtLt/gM" rel="nofollow noreferrer">Try It Online</a></p>

<h2>Acknowledgments</h2>

<ul>
<li>-3 bytes thanks to <em>Kevin Cruijssen</em></li>
<li>-17 bytes thanks to <em>Nevay</em></li>
</ul>
</div>
<div id="pu13" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, 31 bytes</h1>



<pre class="lang-r prettyprint-override"><code>function(l)l[l&lt;mean(cumsum(l))]
</code></pre>

<p><a href="https://tio.run/##K/qfZvs/rTQvuSQzP08jRzMnOscmNzUxTyO5NLe4NBcoohn7P00jWcNQx0RH11jH0EBT8z8A" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>
</div>
<div id="pu14" class="pu"><h1>Pyth - 10 bytes</h1>
<pre><code>&lt;#.OsM._QQ
</code></pre>
<p><a href="http://pyth.herokuapp.com/?code=%3C%23.OsM._QQ&amp;input=%5B1%2C+4%2C+-3%2C+10%5D&amp;debug=0" rel="nofollow noreferrer">Try it online here</a>.</p>
</div>
<div id="pu15" class="pu"><h1>J, 15 bytes</h1>

<pre><code>#~[&lt;[:(+/%#)+/\
</code></pre>

<p><a href="https://tio.run/##y/r/P81WT7ku2ibaSkNbX1VZU1s/hosrNTkjXyFNwVDBRCHeWMHQAC4Sb2xgoBBvZKBnCRQ1MPj/HwA" rel="nofollow noreferrer">Try it online!</a> Expects a J-style array (negatives represented using <code>_</code> instead of <code>-</code> and elements separated by spaces -- see the TIO link for examples).</p>

<p>I don't know if there's a way to remove the parentheses around the mean (<code>+/%#</code>) but removing that and the cap would be the first thing I'd try to do to golf this further.</p>

<h1>Explanation</h1>

<p>Sometimes J reads like (obfuscated) English.</p>

<pre><code>#~ [ &lt; [: (+/ % #) +/\
                   +/\  Sum prefixes
                     \   Get prefixes
                   +/    Sum each
          (+/ % #)      Mean
           +/            Sum of array
              %          Divided by
                #        Length of array
   [ &lt;                  Input array is less than?
                         (gives boolean array of pairwise comparisons)
#~                      Filter by
</code></pre>
</div>
<div id="pu16" class="pu"><h1>JavaScript (ES6), <s>56</s> <s>55</s> 52 bytes</h1>
<pre class="lang-js prettyprint-override"><code>a=&gt;a.filter(x=&gt;x&lt;t/a.length,a.map(x=&gt;t+=s+=x,s=t=0))
</code></pre>
<hr />
<h2>Test it</h2>
<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>o.innerText=(f=

a=&gt;a.filter(x=&gt;x&lt;t/a.length,a.map(x=&gt;t+=s+=x,s=t=0))

)(i.value=[1,4,-3,10]);oninput=_=&gt;o.innerText=f(i.value.split`,`.map(eval))</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;input id=i&gt;&lt;pre id=o&gt;</code></pre>
</div>
</div>
</p>
</div>
<div id="pu17" class="pu"><h1><a href="https://github.com/fergusq/roda" rel="nofollow noreferrer">Röda</a>, <s>46</s> <s>41</s> 39 bytes</h1>

<pre><code>f l{l|[_]if[_1*#l&lt;seq(1,#l)|l[:_]|sum]}
</code></pre>

<p><a href="https://tio.run/##bY3LDoIwEEXX9CsmyqKY0rRUE2r8k6YpRkokKRRB40L4dqS68rG5izPn3ul9eZznCtzDjcroulKGb9buMNgL5mTtktGpvdHjcGv0NA9nf8cJPFBUV@A720LpURT1trydLC5iQyA2RQIjdH3dXnGhYqOLBEXWDXYR33Sl9GphpW8tmhBqjnUbJiusOKNCh/r70Yvt6JbAjspvzikjsA2RipBLl307qWDsZWSMyqCwP5KggsBH/MxkuaRyuUmeBSXNuaTi7@A0PwE" rel="nofollow noreferrer" title="Röda – Try It Online">Try it online!</a></p>
</div>
<div id="pu18" class="pu"><h1><a href="https://github.com/barbuz/Husk" rel="nofollow noreferrer">Husk</a>, <s>10</s> 9 bytes</h1>

<p>Thanks @Zgarb for golfing off 1 byte!</p>

<pre><code>f&lt;/L⁰Σ∫⁰⁰
</code></pre>

<p><a href="https://tio.run/##yygtzv7/P81G3@dR44Zzix91rAbSQPT///9oXSMLSz1LYx1LQyM9Yx1dC0NLPWNLHUMDA4NYAA" rel="nofollow noreferrer" title="Husk – Try It Online">Try it online!</a></p>

<h3>Ungolfed/Explanation</h3>

<pre><code>           -- argument is ⁰ (list) 
f       ⁰  -- filter the original list with
 &lt;         --   element strictly smaller than
     Σ∫⁰   --   sum of all prefixes
  /L⁰      --   averaged out
</code></pre>
</div>
<div id="pu19" class="pu"><h1><a href="http://perl6.org/" rel="nofollow noreferrer">Perl 6</a>, 31 bytes</h1>

<pre><code>{.grep(flat([\,] $_).sum/$_&gt;*)}
</code></pre>

<p><a href="https://tio.run/##HYndCoIwGIZv5UVGzHBf31IDUXcjFcMDJ4GSbHYg4rWv7Oz5mXs/3uK04uTQxo0G38/Sjd0i74/sCWFTCp/pIqw5p3usEboVibBoDTbp/n94hWVP4N4ejWbKTYampAIlVQdqFFA5NB@icmaoK1P1C8ymjl8" rel="nofollow noreferrer" title="Perl 6 – Try It Online">Try it online!</a></p>
</div>
<div id="pu20" class="pu"><h2>Haskell, 39 bytes</h2>

<pre><code>f l=filter(&lt;sum(scanl1(+)l)/sum(1&lt;$l))l
</code></pre>

<p><a href="https://tio.run/##ZYzBDoIwEETvfsUeOLSRrt1WEprAlxgPRGlsXKoB/P5aDh4sl0lm3sw8huU5MqfkgXsfeB1n0S2fSSy3ITKJo2R52jx1FUvJaRpChB7urwMAvOcQV6jAw4U02muRNXiuoUFX5lRDBsrWQLpkymqdmdHoNqx3BYt59ye7C9M6dJk5MltFteTQ/u7SFw" rel="nofollow noreferrer" title="Haskell – Try It Online">Try it online!</a></p>

<p>Unfortunately <code>length</code> is of type <code>Int</code>, so I cannot use it with floating point division <code>/</code> and I have to use a workaround: <code>sum(1&lt;$l)</code>. </p>
</div>
<div id="pu21" class="pu"><h1>PHP, 84 bytes</h1>
<pre class="lang-php prettyprint-override"><code>for($i=--$argc;$i;)$s+=$i--/$argc*$r[]=$argv[++$k];foreach($r as$x)$x&lt;$s&amp;&amp;print$x._;
</code></pre>
<p>takes input from command line arguments. Run with <code>-nr</code> or <a href="http://sandbox.onlinephpfunctions.com/code/8433f2d14f50e8b8041814c6be3936b7c77933f1" rel="nofollow noreferrer">try it online</a>.</p>
<hr />
<p>summing up the partial lists is the same as summing up each element multiplied with the number of following elements +1 → no need to juggle with bulky array functions. It´s still long, though.</p>
</div>
<div id="pu22" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a>, 51 + 1 (-a) = 52 bytes</h1>



<pre class="lang-perl prettyprint-override"><code>$a+=$_*(@F-$c++)for@F;for(@F){print$_,$"if$_&lt;$a/@F}
</code></pre>

<p><a href="https://tio.run/##K0gtyjH9/18lUdtWJV5Lw8FNVyVZW1szLb/Iwc0aSAJFNKsLijLzSlTidVSUMtNU4m1UEvUd3Gr//9c1srDUszRWsDQ00jNW0LUwtNQztlQwNDAw@JdfUJKZn1f8X9fXVM/A0OC/biIA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu23" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, <s>78</s> <s>76</s> <s>71</s> 66 bytes</h1>

<p><em>-7 bytes thanks to Mr. Xcoder.</em></p>



<pre class="lang-python prettyprint-override"><code>lambda l:[x for x in l if x&lt;sum(sum(l[:i])for i in range(len(l)))]
</code></pre>

<p><a href="https://tio.run/##Vcy9DsIgGIXh3av4RkiA8ONQmnolyICxKMlX2mBN8OpRFqPDu5wnOdtrv69Zt3g6NwzL5RoAR1chrgUqpAwIKUKdHs@F9NCNydOuqWsJ@TYTnDNBSqlvW0l5J5E4xY6MG6akp/TwXY0w7Kc/43qwwhoGVukPAx@UFcYyUFL2l/YG" rel="nofollow noreferrer" title="Python 2 – Try It Online">Try it online!</a></p>
</div>
<div id="pu24" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 76 bytes</h1>



<pre class="lang-python prettyprint-override"><code>lambda x:[w for w in x if w&lt;sum(u*v+v for u,v in enumerate(x[::-1]))/len(x)]
</code></pre>

<p>Input and output are lists of numbers. <a href="https://tio.run/##VYvLDsIgEEX3fsUsQSlCsUkh@iXIokaITVraVPrw6xGauHAzuefcO@MnvAYvorvdY9f0j2cDm9IruGGCFVoPG7QO1ut77tF8XE7L3sxkyZ31c2@nJli0aaUKbjA@d9ajDZuYZyGPtOaMCkNAV/RCoKIyZ04gQSEIcJa5EIwlLhmVWbFdCpr6v7NPy1pSmVjyMuui5pKK35tRBxin1gfkUMA4Hr4" rel="nofollow noreferrer">Try it online!</a></p>

<p>This works in Python 2 too (with the obvious replacement for <code>print</code> syntax in the footer).</p>
</div>
<div id="pu25" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a> with <a href="http://www.numpy.org/" rel="nofollow noreferrer">Numpy</a>, 48 bytes</h1>



<pre class="lang-python prettyprint-override"><code>lambda x:x[x&lt;mean(cumsum(x))]
from numpy import*
</code></pre>

<p>Input and output are Numpy arrays. <a href="https://tio.run/##VYvLCsMgEEX3@YpZajGisYEa2i@xWdiHNFAfWAPm660GuuhmuOfcO2FLL@9EMZdreWt7e2jIU1b5bJ/aoftqP6tFGeO5M9FbcKsNGyw2@JgOxfgICRYHSnFGxUxAjfRIYKSyZU6gQi8IcNa4F4xVHhiVTbFdClr7v7NPh5OksrLkQ9P9iUsqfm/z1EGIi0vIIB2j3lDCGJfuCw" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>
</div>
<div id="pu26" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 72 bytes</h1>



<pre class="lang-python prettyprint-override"><code>lambda x:[*filter((sum(-~a*b for a,b in enumerate(x))/len(x)).__gt__,x)]
</code></pre>

<p><a href="https://tio.run/##RY1BDoMgFETXcoq/BINUY11o4kksIdhCa6Jo4JvYTa9OtQu7mnmTzMzyxtfsymjbWxz11D80bE2X2mFE4ykN60Szj057sLMHzXsYHBi3TsZrNHRj7DIad6hQ6olK8Y3JiCaguutgArTQkaQrclFKvptKXDlUov5BwWGnrORQ5JJIclyc1ePov9OQZPGDQ2rpGTIWvw" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu27" class="pu"><h1><a href="https://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, 8 bytes</h1>
<pre><code>ttYsYm&lt;)
</code></pre>
<p><a href="https://tio.run/##y00syfn/v6Qksjgy10bz//9oQx0FEx0FXWMdBUODWAA" rel="nofollow noreferrer" title="MATL – Try It Online">Try it online!</a> Or <a href="https://tio.run/##VYsxCoAwDEV3T9FNhCYkjYIBR4/gYCmC7nay96/p4OAS/nv/J1/lrmctJT4xL0PtAfp93WpiQjm6NOHo3YRqkb2zDOIdkyEIkWEg1GaoOUFrf6cNw6yohsqhWZhZUb6nFw" rel="nofollow noreferrer">verify all test cases</a>.</p>
<h3>Explanation</h3>
<pre><code>tt    % Implicitly input array. Duplicate twice
Ys    % Cumulative sum
Ym    % Arithmetic mean
&lt;     % Less than? (element-wise). Gives an array containing true / false
)     % Reference indexing : use that array as a mask to select entries 
      % from the input. Implicitly display
</code></pre>
</div>
<div id="pu28" class="pu"><h1>Pyth, <strike>12</strike> 11 bytes</h1>
<pre><code>f&lt;T.OsM._QQ
</code></pre>
<p><em>-1 byte thanks to Mr. Xcoder</em></p>
<p><a href="http://pyth.herokuapp.com/?code=f%3CT.OsM._QQ&amp;test_suite=1&amp;test_suite_input=%5B10.3%5D%0A%5B5.4%2C+5.9%5D%0A%5B1%2C+4%2C+-3%2C+10%5D%0A%5B-300%2C+-20.9%2C+1000%5D%0A%5B3.3%2C+3.3%2C+3.3%2C+3.3%5D%0A%5B-289.93%2C+912.3%2C+-819.39%2C+1000%5D&amp;debug=0" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu29" class="pu"><h1><a href="http://www.mono-project.com/" rel="nofollow noreferrer">C# (Mono)</a>, 95 bytes</h1>



<pre class="lang-cs prettyprint-override"><code>using System.Linq;a=&gt;a.Where(d=&gt;d&lt;new int[a.Length].Select((_,i)=&gt;a.Take(i+1).Sum()).Average())
</code></pre>

<p><a href="https://tio.run/##TU9fS8MwEH/Ppzh8SjALFn3bWpDhRJkgVNjDGBLTW3esTbBJJzL62esVHAzu4e74/XVx1gYfxj6Sr6H8jQnbubi@zJr891wI19gY4V2cRUw2kYNToAreLHmp@LnqvVtUof9qcLvTF@4yNA26RMFH84weO3Lm5cn3LXaWkf@EooA95KPNC2s2B@xQVnlRLTz@APm0tWaNvk6HnSlxUpPyU5OawB/2iJJuM2XKvpVKmccTC9fI68iRl2wbGjSbjhJyDZQxddzMvAZOfaOBZy8nm0twOEOm4UHD7F5DdgeDUoqFBjGMfw" rel="nofollow noreferrer" title="C# (Mono) – Try It Online">Try it online!</a></p>
</div>
<div id="pu30" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 9 bytes</h1>

<pre><code>+\S÷L&lt;Ðf@
</code></pre>

<p><a href="https://tio.run/##y0rNyan8/187Jvjwdh@bwxPSHP4fbn/UtOb//@hoQwM941gdrmhTPRMdBVM9SxDbUEcByNE11lEwNADxdY0NDIB8IwM9S5CQAVjQWA8oj0KAlRpZWOpZAvmWhkYgYV0LQ0s9Y5i2WAA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/138985/">138985</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




