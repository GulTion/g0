<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::268749</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>124</td><td>R</td><td>231227T010319Z</td><td><a href="https://codegolf.stackexchange.com/questions/268749/inscribe-a-maximal-regular-polygon-into-a-square-image/268793#268793">Nick Ken</a></td></tr>
<tr d-ix="1"><td>192</td><td>LOGO</td><td>231226T212409Z</td><td><a href="https://codegolf.stackexchange.com/questions/268749/inscribe-a-maximal-regular-polygon-into-a-square-image/268787#268787">Level Ri</a></td></tr>
<tr d-ix="2"><td>216</td><td>JavaScript ES2019</td><td>231225T210041Z</td><td><a href="https://codegolf.stackexchange.com/questions/268749/inscribe-a-maximal-regular-polygon-into-a-square-image/268760#268760">Neil</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, 124 bytes</h1>
<pre class="lang-r prettyprint-override"><code>\(n)plot(rbind(p&lt;-cbind(cos(t&lt;-(1:n/n+1/8+(!n%%8)/2/n)*2*pi),sin(t)),p[1,]),t=&quot;l&quot;,ann=F,xaxt=&quot;n&quot;,yaxt=&quot;n&quot;,xaxs=&quot;i&quot;,yaxs=&quot;i&quot;)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72waMGiNNulpSVpuhY3a2I08jQLcvJLNIqSMvNSNApsdJPBjOT8Yo0SG10NQ6s8_TxtQ30LbQ3FPFVVC019I_08TS0jrYJMTZ3izDyNEk1NnYJoQ51YTZ0SW6UcJZ3EvDxbN52KxAogN09JpxLGAIoU2yplgkXADE2IG5akaZhDmQsWQGgA" rel="nofollow noreferrer">Attempt This Online!</a> - no graphical output</p>
<ul>
<li><a href="https://rdrr.io/snippets/embed/?code=f%3Dfunction(n)plot(rbind(p%3C-cbind(cos(t%3C-(1%3An%2Fn%2B1%2F8%2B(!n%25%258)%2F2%2Fn)*%0A2*pi)%2Csin(t))%2Cp%5B1%2C%5D)%2Ct%3D%22l%22%2Cann%3DF%2Cxaxt%3D%22n%22%2Cyaxt%3D%22n%22%2Cxaxs%3D%22i%22%2Cyaxs%3D%22i%22)%0Af(15)" rel="nofollow noreferrer">Try this at RDRR!</a> - includes graphical output</li>
</ul>
<p>A function taking a single argument <span class="math-container">\$n\$</span> and plotting a polygon with <span class="math-container">\$n\$</span> sides circumscribed by a square. If <span class="math-container">\$n \bmod 8 ≠ 0\$</span> then one of the polygon’s points will be at 45°; otherwise one of them will be at 360/2n°. The points are then calculated using sin and cos. R’s plot function will plot the bounding square and maximise the polygon to that square. The rest of the code is just ensuring there’s nothing additional plotted like axes titles and ticks.</p>
<p><em>Thanks to @pajonk for saving a byte!</em></p>
</div>
<div id="pu1" class="pu"><h1>LOGO, <s>195</s> 192 bytes</h1>
<pre><code>TO p :n
make &quot;u 0make &quot;v .1 pu
for[i 0 32][make &quot;a(:i*2+not :n%8)*180/:n+45make &quot;x cos(:a)if :x&lt;:u[make &quot;u :x]if :x-:u&gt;:v [make &quot;v :x-:u]if :i&gt;15[pd]setxy (:x-:u)*99/:v ((sin :a)-:u)*99/:v]END
</code></pre>
<p>Run at <a href="https://www.calormen.com/jslogo/" rel="nofollow noreferrer">https://www.calormen.com/jslogo/</a></p>
<p>Call the procedure like this: <code>p 16</code></p>
<p>Recommended to do <code>cs p 4</code> to clear the screen and draw a bounding box. <code>ht</code> and <code>st</code> hide and show the turtle.</p>
<p>The loop starts with a <code>pu</code> to lift the pen up and always iterates 32 times. This ensures the correct minumum and maximum values of <code>x = cos a</code> are contained in <code>u</code> and <code>v</code>. After 16 iterations the pen is put down with <code>pd</code> and the polygon is drawn at the correct scale.</p>
</div>
<div id="pu2" class="pu"><h1>JavaScript (ES2019), 216 bytes</h1>
<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>f=
n=&gt;`&lt;svg xmlns="http://www.w3.org/2000/svg" viewBox="${[l=(M=Math).min(...b=(a=[...Array(n)].map((_,i)=&gt;[M.sin(w=((i*2+!(n%8))/n+.25)*M.PI),M.cos(w)])).flat()),l,l=M.max(...b)-l,l]}"&gt;&lt;path d="M${a.join`L`}Z"/&gt;&lt;/svg&gt;`</code></pre>
<pre class="snippet-code-css lang-css prettyprint-override"><code>html{height:100%;display:flex;}body{display:flex;flex-direction:column;align-items:start;}img{flex:1;}</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;input type=number min=3 max=16 oninput=o.src="data:image/svg+xml,"+f(+this.value)&gt;&lt;img id=o&gt;</code></pre>
</div>
</div>
</p>
<p>The function, here assigned to <code>f</code> for convenience of the test snippet, outputs an SVG of the polygon filled in black, which the test snippet converts to a <code>data:</code> URL so that it can set it as the source of the image.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/268749/">268749</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




