<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::151537</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>4875</td><td>Vyxal</td><td>231113T192105Z</td><td><a href="https://codegolf.stackexchange.com/questions/151537/alternating-bit-smearing/266697#266697">Pacmanbo</a></td></tr>
<tr d-ix="1"><td>019</td><td>Pari/GP</td><td>171225T175010Z</td><td><a href="https://codegolf.stackexchange.com/questions/151537/alternating-bit-smearing/151728#151728">alephalp</a></td></tr>
<tr d-ix="2"><td>056</td><td>C</td><td>171222T175140Z</td><td><a href="https://codegolf.stackexchange.com/questions/151537/alternating-bit-smearing/151550#151550">Steadybo</a></td></tr>
<tr d-ix="3"><td>013</td><td>JavaScript ES6</td><td>171225T125611Z</td><td><a href="https://codegolf.stackexchange.com/questions/151537/alternating-bit-smearing/151718#151718">l4m2</a></td></tr>
<tr d-ix="4"><td>024</td><td>AWK</td><td>171224T201130Z</td><td><a href="https://codegolf.stackexchange.com/questions/151537/alternating-bit-smearing/151688#151688">Noskcaj</a></td></tr>
<tr d-ix="5"><td>018</td><td>Rust</td><td>171224T053350Z</td><td><a href="https://codegolf.stackexchange.com/questions/151537/alternating-bit-smearing/151662#151662">Noskcaj</a></td></tr>
<tr d-ix="6"><td>015</td><td>Ruby</td><td>171224T195059Z</td><td><a href="https://codegolf.stackexchange.com/questions/151537/alternating-bit-smearing/151684#151684">Tom Laza</a></td></tr>
<tr d-ix="7"><td>018</td><td>J</td><td>171222T174249Z</td><td><a href="https://codegolf.stackexchange.com/questions/151537/alternating-bit-smearing/151545#151545">cole</a></td></tr>
<tr d-ix="8"><td>120</td><td>brainfuck</td><td>171224T152044Z</td><td><a href="https://codegolf.stackexchange.com/questions/151537/alternating-bit-smearing/151676#151676">Jo King</a></td></tr>
<tr d-ix="9"><td>056</td><td>Python 3</td><td>171222T172442Z</td><td><a href="https://codegolf.stackexchange.com/questions/151537/alternating-bit-smearing/151542#151542">Mr. Xcod</a></td></tr>
<tr d-ix="10"><td>054</td><td>Perl 5</td><td>171223T034349Z</td><td><a href="https://codegolf.stackexchange.com/questions/151537/alternating-bit-smearing/151597#151597">Xcali</a></td></tr>
<tr d-ix="11"><td>047</td><td>PHP</td><td>171222T220144Z</td><td><a href="https://codegolf.stackexchange.com/questions/151537/alternating-bit-smearing/151577#151577">NK1406</a></td></tr>
<tr d-ix="12"><td>036</td><td>PowerShell</td><td>171222T193258Z</td><td><a href="https://codegolf.stackexchange.com/questions/151537/alternating-bit-smearing/151565#151565">AdmBorkB</a></td></tr>
<tr d-ix="13"><td>058</td><td>R</td><td>171222T174721Z</td><td><a href="https://codegolf.stackexchange.com/questions/151537/alternating-bit-smearing/151548#151548">Giuseppe</a></td></tr>
<tr d-ix="14"><td>020</td><td>Python 3</td><td>171222T173225Z</td><td><a href="https://codegolf.stackexchange.com/questions/151537/alternating-bit-smearing/151543#151543">Leaky Nu</a></td></tr>
<tr d-ix="15"><td>043</td><td>APL+WIN</td><td>171222T193939Z</td><td><a href="https://codegolf.stackexchange.com/questions/151537/alternating-bit-smearing/151566#151566">Graham</a></td></tr>
<tr d-ix="16"><td>005</td><td>05AB1E</td><td>171222T175639Z</td><td><a href="https://codegolf.stackexchange.com/questions/151537/alternating-bit-smearing/151552#151552">Emigna</a></td></tr>
<tr d-ix="17"><td>012</td><td>Julia 0.6</td><td>171222T181942Z</td><td><a href="https://codegolf.stackexchange.com/questions/151537/alternating-bit-smearing/151557#151557">Dennis</a></td></tr>
<tr d-ix="18"><td>024</td><td>Wolfram Language Mathematica</td><td>171222T173604Z</td><td><a href="https://codegolf.stackexchange.com/questions/151537/alternating-bit-smearing/151544#151544">JungHwan</a></td></tr>
<tr d-ix="19"><td>005</td><td>Jelly</td><td>171222T175751Z</td><td><a href="https://codegolf.stackexchange.com/questions/151537/alternating-bit-smearing/151553#151553">Mr. Xcod</a></td></tr>
<tr d-ix="20"><td>013</td><td>Jelly</td><td>171222T175100Z</td><td><a href="https://codegolf.stackexchange.com/questions/151537/alternating-bit-smearing/151549#151549">dylnan</a></td></tr>
<tr d-ix="21"><td>039</td><td>JavaScript ES6</td><td>171222T174652Z</td><td><a href="https://codegolf.stackexchange.com/questions/151537/alternating-bit-smearing/151547#151547">Arnauld</a></td></tr>
<tr d-ix="22"><td>168</td><td>PowerShell</td><td>171222T174430Z</td><td><a href="https://codegolf.stackexchange.com/questions/151537/alternating-bit-smearing/151546#151546">AdmBorkB</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, 39 <a href="https://github.com/Vyxal/Vyncode/blob/main/README.md" rel="nofollow noreferrer">bits<sup>v2</a></sup>, 4.875 bytes</h1>
<pre><code>N⋏3ḭ+
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2&amp;c=1#WyI9IiwiIiwiTuKLjzPhuK0rIiwiIiwiNDAwIl0=" rel="nofollow noreferrer">Try it Online!</a></p>
<p>Bitstring:</p>
<pre><code>011000110010011000101101101111111101001
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="http://pari.math.u-bordeaux.fr/" rel="nofollow noreferrer">Pari/GP</a>, 19 bytes</h1>

<p>A port of Leaky Nun's approach.</p>

<pre><code>n-&gt;n+bitand(n,-n)\3
</code></pre>

<p><a href="https://tio.run/##K0gsytRNL/ifpmCr8D9P1y5POymzJDEvRSNPRzdPM8b4f0FRZl6JRpqGoaWRpuZ/AA" rel="nofollow noreferrer" title="Pari/GP – Try It Online">Try it online!</a></p>
</div>
<div id="pu2" class="pu"><h1>C, 56 bytes</h1>

<pre><code>i,k;f(n){for(k=i=1;n&gt;&gt;i&lt;&lt;i==n;k+=++i&amp;1)k*=2;return n|k;}
</code></pre>

<p><a href="https://tio.run/##fc5BCsIwEAXQfU8RCkpiKzS1C8t0ehI3Eo0MwVFCXdWePUa3Os7yP/h/3PbiXEpUB/CazexvUQcktMDjSMNAiAyhwqqitTVhgy3E8/SIrPgZYEnEk7oeibUp5kLlu8cceV2uTgcua@W1NQZ@SyvKTpRObvtDvbwkP2F72bqm@bYs6rO2f9uSXg" rel="nofollow noreferrer">Try it online!</a></p>

<h1>C (gcc), 50 bytes</h1>

<pre><code>i,k;f(n){for(k=i=1;n&gt;&gt;i&lt;&lt;i==n;k+=++i&amp;1)k*=2;k|=n;}
</code></pre>

<p><a href="https://tio.run/##fc5BCsIwEAXQfU8RCkpiKjS1C0s6PUk3EokMg1Mp7mrPHqNbO87yP/h/wvEWQkpYkY@azRKnWRMgOM/DgH2PAOzJgrW4d4YO0Hh65WhNyE91vyBrUyyFyveYcxR1ubuOXFYqameM35ZGlJMordz2hzp5SX7CdbK1df1rWdR37fyxNb0B" rel="nofollow noreferrer">Try it online!</a></p>

<p><strong><s> 51 </s> 48 bytes using <a href="https://codegolf.stackexchange.com/a/151547/61405">Arnauld's solution</a>:</strong></p>

<p><em>Thanks to @l4m2 for saving three bytes!</em></p>

<pre><code>m;f(n){return n|((n&amp;-n)&amp;(m=-1u/3*2)?m:m/2)&amp;n-1;}
</code></pre>

<p><a href="https://tio.run/##fc5BCsIwEAXQfU8xFAwzYmiTdmEN4kXcSDTSRQYJ7ar27DG61XGW/8H/4/Xd@5yjC8i0pNs0JwZ@IrLSTArjUZu56baWTvEQG0uKtXFrHnmCeBkZqVoqKPdIJQpYb65nrncQ0BC532JF6UTp5bY/NMhL8hNmkK1v228rAp@1/dvW/AI" rel="nofollow noreferrer">Try it online!</a></p>

<p><strong>43 with gcc:</strong></p>

<pre><code>m;f(n){m=n|((n&amp;-n)&amp;(m=-1u/3*2)?m:m/2)&amp;n-1;}
</code></pre>

<p><a href="https://tio.run/##S9ZNT07@/z/XOk0jT7M61zavRkMjT003T1NNI9dW17BU31jLSNM@1ypX30hTLU/X0Lr2f2ZeiUJuYmaehiZXNZcCEBQUAYXSNJRUU2LylHQU0jQMNTWtscsY4ZQxxiljgts0PFKWuG3C7QhDS9xyJgYGmHJAGQWwbRYgudr/AA" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu3" class="pu"><h1>JavaScript ES6, 13 bytes</h1>

<pre><code>n=&gt;(n&amp;-n)/3|n
</code></pre>

<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>f = 
n=&gt;(n&amp;-n)/3|n
;
console.log (f(8));
console.log (f(243));
console.log (f(1048576));
console.log (f(33554432));</code></pre>
</div>
</div>
</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.gnu.org/software/gawk/manual/gawk.html" rel="nofollow noreferrer">AWK</a>, 24 bytes</h1>

<p>A port of JungHwan Min's Mathmatica  answer</p>

<pre><code>$0=int(and($0,-$0)/3+$0)
</code></pre>

<p><a href="https://tio.run/##SyzP/v9fxcA2M69EIzEvRUPFQEdXxUBT31gbSP7/b2hpBAA" rel="nofollow noreferrer" title="AWK – Try It Online">Try it online!</a></p>
</div>
<div id="pu5" class="pu"><h1><a href="https://www.rust-lang.org/" rel="nofollow noreferrer">Rust</a>, 18 bytes</h1>

<p>A port of Leaky Nun's approach</p>



<pre class="lang-rust prettyprint-override"><code>|n:i32|(n&amp;-n)/3+n;
</code></pre>

<p><a href="https://tio.run/##KyotLvmflqeQm5iZp6GpUM2lAAQ5qSUKFQq2Cv9r8qwyjY1qNPLUdPM09Y2186z/g@QLijLzSnLyFDWUqmuVdBQqNAwtjTQ1rblq/wMA" rel="nofollow noreferrer" title="Rust – Try It Online">Try it online!</a></p>
</div>
<div id="pu6" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 15 bytes</h1>

<p>Another port of Leaky Nun's approach.</p>



<pre class="lang-ruby prettyprint-override"><code>-&gt;k{(k&amp;-k)/3+k}
</code></pre>

<p><a href="https://tio.run/##JY7NCoMwEITv@xRTpZJQtJp4qIX6JIVi/QGJVdGEUsRnT5N2mMPOt8syi3l@bGfGGjfcbVyqjakoVvwsT2q3ul316jbHN8sgIJFDOBeQAlkhkKepSxdOv8PkVc0HFl319Og5UTct8Bz9iP@jZiI4zcbNQbh5uCMuEW6@QVJXw8A85HtA7diQ/QI" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
</div>
<div id="pu7" class="pu"><h1><a href="http://jsoftware.com/" rel="nofollow noreferrer">J</a>, <sub><s>19</s></sub> 18 bytes</h1>

<pre><code>+(2|-.i.@#.-.)&amp;.#:
</code></pre>

<p><a href="https://tio.run/##y/r/P81WT1vDqCZTzyFTT83QoUZPU01P2ep/anJGvkKaQmpZalGlgqGCkYKxgomCERBZKhgbKRhaGimYGBgAeRb/AQ" rel="nofollow noreferrer" title="J – Try It Online">Try it online!</a></p>

<h1>Quick Explanation</h1>

<p>This is an old answer, but it is very similar in nature to the current one, it just counts the trailing zeroes differently. See the comments for a link explaining how it works.</p>

<pre><code>+(2|i.@i.&amp;1@|.)&amp;.#:
                 #:  Convert to binary list
       i.&amp;1@|.       Index of last 1 from right
            |.         Reverse
       i.&amp;1            Index of first 1
    i.               Range [0, index of last 1 from right)
  2|                 That range mod 2
               &amp;.    Convert back to decimal number
+                    Add to the input
</code></pre>

<h3>Other Answers:</h3>

<p>Previous answer (19 bytes).</p>

<pre><code>+(2|i.@i.&amp;1@|.)&amp;.#:
</code></pre>

<p>Longer than it should be because <code>\</code> goes right-to-left.</p>

<pre><code>+(2|#*-.#.-.)\&amp;.(|.@#:)
</code></pre>
</div>
<div id="pu8" class="pu"><h1><a href="https://esolangs.org/wiki/Brainfuck" rel="nofollow noreferrer">brainfuck</a>, 120 bytes</h1>
<pre><code>&gt;+&lt;[[&gt;-]++&gt;[[&gt;]&gt;]&lt;[&gt;+&gt;]&lt;[&lt;]&gt;-]&gt;[-&lt;+&gt;[-&lt;[&lt;]&lt;]&gt;]&gt;[&gt;]&lt;[&gt;+&lt;[-&gt;+&lt;]&lt;[-&gt;+&lt;]&lt;]&gt;&gt;[&lt;]+&gt;[-[-&lt;[-&gt;+&lt;&lt;+&gt;]&gt;[-&lt;+&gt;]]&lt;[-&gt;++&lt;]&lt;[-&gt;+&lt;]&gt;&gt;&gt;]&lt;&lt;
</code></pre>
<p><a href="https://tio.run/##dVJNb8IwDL3nV/g4qXQa0w6bGvk3cI9yCI2BiJKgJDC2P8/sfogdNh9i2X5@fq67zS7E3aU/3lcGm9FMq9vZ0Gq9pMV0axFXVt@x0cZga5sG2VvGMUxebTmLTNHIwyEnOJ4A2rT82MUxFwMEKFDJcdfcbCfUA40oYu5ctVptcoi1gIOehgGubrgQPFV3pAi7nE5AJQ0u7gtsd3B2e1IGWR7zjwugMlpGIUsVz2GLBrrPQxhoZqNbKLUoAPi9PnQnHsJz1y9SYmWt7C2im0n2GGkxC50P1@AXxu3X3CUrcC3FCpHIQz2EMi4ixWWU0ZNHwTrv4e0daoJMJ76XpzwRjVsIotSUiZnoX8SeZNytTmqkqLXi2yj@vtDRUGhWk2De8ZtyGknwD1HKqu4sVwAXPfQDuQzk@gOMSvxDBoTIwZVyIR71LOfj/2f98foD" rel="nofollow noreferrer">Try It Online!</a></p>
<p>Starts with the value in the current cell and ends on the cell with the output value. Obviously won't work on numbers above 255 as that's the cell limit for typical brainfuck, but will work if you assume infinite cell size.</p>
</div>
<div id="pu9" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, 56 bytes</h1>



<pre class="lang-python prettyprint-override"><code>lambda n:eval((bin(n).rstrip("0")+"01"*n)[:len(bin(n))])
</code></pre>

<p><a href="https://tio.run/##LcrNCoMwEATgu0@x5JRttyU/HqpgX8R6iFRpIF0lCYU@fapSGBg@ZtZvfi1sy9w9SnDv8emA2@njgpSjZ8l4jSlHv0qhBJ6F0uLE2Ldh4v@OA5Y8pZygg16TIUs1mS0NWUO6MVQrtek2VNW8RNi/4Pno1FawRs9Z7iIQl7sgmA8hlh8" rel="nofollow noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>

<p>Not really happy with this yet, but I really didn't want to use the formula... -2 thanks to <a href="https://codegolf.stackexchange.com/users/47120/rod">Rod</a>. -1 thanks to <a href="https://codegolf.stackexchange.com/users/73111/jonathan-frech">Jonathan Frech</a>.</p>
</div>
<div id="pu10" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a>, 54 bytes</h1>



<pre class="lang-perl prettyprint-override"><code>$_=sprintf'%b',&lt;&gt;;1while s/00(0*)$/01$1/;say oct"0b$_"
</code></pre>

<p><a href="https://tio.run/##K0gtyjH9/18l3ra4oCgzryRNXTVJXcfGztqwPCMzJ1WhWN/AQMNAS1NF38BQxVDfujixUiE/uUTJIEklXun/f5N/@QUlmfl5xf91fU31DAwNAA" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu11" class="pu"><h1><a href="https://php.net/" rel="nofollow noreferrer">PHP</a>, 47 bytes</h1>



<pre class="lang-php prettyprint-override"><code>&lt;?php function b($a){echo(int)(($a&amp;-$a)/3)+$a;}
</code></pre>

<p><a href="https://tio.run/##K8go@P/fxr4go0AhrTQvuSQzP08hSUMlUbM6NTkjXyMzr0RTA8hV0wUK6RtraqskWtf@T9IwMTDQtP4PAA" rel="nofollow noreferrer" title="PHP – Try It Online">Try it online!</a></p>

<p>Really just another port of @Leaky Nun's solution</p>
</div>
<div id="pu12" class="pu"><h1><a href="https://github.com/TryItOnline/TioSetup/wiki/Powershell" rel="nofollow noreferrer">PowerShell</a>, <s>41</s> 36 bytes</h1>



<pre class="lang-powershell prettyprint-override"><code>param($n)$n+(($x=$n-band-$n)-$x%3)/3
</code></pre>

<p><a href="https://tio.run/##K8gvTy0qzkjNyfn/vyCxKDFXQyVPUyVPW0NDpcJWJU83KTEvRRcopKtSoWqsqW/8//9/Q0sjAA" rel="nofollow noreferrer" title="PowerShell – Try It Online">Try it online!</a> or <a href="https://tio.run/##DcjRCoIwFIDh@57iIEfY8Izm5kVe2ItEyCpXgh1lGgnms6/Bf/P90/jtwvzqhiH6D9@XfmTwW5xccG@BLJELIXBtkNXN8UOlpXDNrTzauB/Qhed80ddfvmXYgjpDBgUID9jKPcaSDFmqyKRqsobK2lClddLpDw" rel="nofollow noreferrer" title="PowerShell – Try It Online">Verify all test cases</a></p>

<p>Port of Leaky Nun's <a href="https://codegolf.stackexchange.com/a/151543/42963">Python answer</a>.</p>

<p><em>Saved 5 bytes thanks to Leaky Nun</em></p>
</div>
<div id="pu13" class="pu"><h1><a href="https://www.r-project.org/" rel="nofollow noreferrer">R</a>, <s>71</s> 58 bytes</h1>

<p><em>thanks to NofP for -6 bytes</em></p>



<pre class="lang-r prettyprint-override"><code>function(n){n=n%/%(x=2^(0:31))%%2
n[!cumsum(n)]=1:0
n%*%x}
</code></pre>

<p><a href="https://tio.run/##K/qfpmCj@z@tNC@5JDM/TyNPszrPNk9VX1WjwtYoTsPAythQU1NV1YgrL1oxuTS3uDQXqCTW1tDKgCtPVUu1ovZ/moahpZHmfwA" rel="nofollow noreferrer" title="R – Try It Online">Try it online!</a></p>

<p>Assumes input is a 32-bit integer. R only has signed 32-bit integers (casting to <code>double</code> when an integer overflows) anyway and no 64-bit or unsigned ints.</p>
</div>
<div id="pu14" class="pu"><h1><a href="https://docs.python.org/3/" rel="noreferrer">Python 3</a>, 20 bytes</h1>



<pre class="lang-python prettyprint-override"><code>lambda n:(n&amp;-n)//3+n
</code></pre>

<p><a href="https://tio.run/##NYpBCoMwFET3OcXHRTF0RE1cVEEvYrtQ2tBA/YrJpqdPjSUwMLyZt339e2UdTH8Pn2mZnxNxl/OlYFmW@srBv5x31NNYQ0GjgTrSQivUrUJTVQfdHkKYdafokuWzXSdo2y37PBIoK4YMZE6SMn2z5f@ShDgkSYYf" rel="noreferrer" title="Python 3 – Try It Online">Try it online!</a></p>

<h2>Explanation</h2>

<p>Take <code>192</code> as an example. Its binary form is <code>11000000</code>, and we need to convert it to <code>11010101</code>.</p>

<p>We note that we need to add <code>10101</code> to the number. This is a geometric series (<code>4^0 + 4^1 + 4^2</code>), which has a closed form as <code>(4^3-1)/(4-1)</code>. This is the same as <code>4^3//3</code> where <code>//</code> denotes integer division.</p>

<p>If it were <code>101010</code>, then it would still be a geometric series (<code>2×4^0 + 2×4^1 + 2×4^2</code>), which is <code>2×4^3//3</code> for the reasons above.</p>

<p>Anyway, <code>4^3</code> and <code>2×4^3</code> would just be the least significant bit, which we obtain by <code>n&amp;-n</code>:</p>

<p>We notice that the complement of <code>n</code> is <code>00111111</code>. If we add one, it becomes <code>01000000</code>, and it only overlaps with <code>n=11000000</code> at the least significant digit. Note that "complement and add one" is just negation.</p>
</div>
<div id="pu15" class="pu"><h1>APL+WIN, 43 bytes</h1>
<pre><code>p←+/^\⌽~n←((⌊1+2⍟n)⍴2)⊤n←⎕⋄2⊥((-p)↓n),p⍴0 1
</code></pre>
<p>Prompts for screen input</p>
</div>
<div id="pu16" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, <s>13</s> <s>8</s> 5 bytes</h1>

<p>Saved 5 bytes thanks to <em>Mr. Xcoder</em> and <a href="https://codegolf.stackexchange.com/a/151544/47066">JungHwan Min's neat formula</a><br>
Saved another 3 thanks to <em>Mr. Xcoder</em></p>

<pre><code>(&amp;3÷+
</code></pre>

<p><a href="https://tio.run/##MzBNTDJM/f9fQ8348Hbt//8NLY0A" rel="nofollow noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>

<p><strong>Explanation</strong></p>

<pre><code>(      # negate input
 &amp;     # AND with input
  3÷   # integer divide by 3
    +  # add to input
</code></pre>
</div>
<div id="pu17" class="pu"><h1><a href="http://julialang.org/" rel="nofollow noreferrer">Julia 0.6</a>, 12 bytes</h1>



<pre class="lang-julia prettyprint-override"><code>!n=n|n&amp;-n÷3
</code></pre>

<p><a href="https://tio.run/##yyrNyUw0@/9fMc82ryZPTTfv8Hbj/2n5RQp5Cpl5ChqGOgpGOgrGOgomQAYIWwJ5QBFDSyBhYmAAErHQ5OJ0KCjKzCtJ01BSNS5V0LVTAFIxeUo6Cnk6Cop5mlypeSn/AQ" rel="nofollow noreferrer" title="Julia 0.6 – Try It Online">Try it online!</a></p>
</div>
<div id="pu18" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, <s>36</s> <s>28</s> <s>26</s> 24 bytes</h1>

<p><sup>-8 bytes thanks to @MartinEnder and -2 bytes thanks to @Mr.Xcoder</sup></p>

<pre><code>#+⌊(#~BitAnd~-#)/3⌋&amp;
</code></pre>

<p><a href="https://tio.run/##y00syUjNTSzJTE78n2b7X1n7UU@XhnKdU2aJY15Kna6ypr7xo55utf8BRZl5JQ5aafoO1VxchjoKRjoKxjoKJkAGCFsCeUARQ0sgYWJgABKx4OKq/Q8A" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>

<p>We only need to find the number of the trailing zeroes in the input, and find the number with alternating <code>0</code>s and <code>1</code>s with length one less than that, and add it to the input.</p>

<p>So, <code>400 -&gt; 11001000 -&gt; 110010000 + 0000 -&gt; 110010101 + 101 -&gt; 405</code></p>

<p>The explicit formula for <code>n</code>th number with alternating <code>1</code>s and <code>0</code>s was given in <a href="http://oeis.org/A000975" rel="nofollow noreferrer">A000975</a> on OEIS. We can use the <code>n</code>th number since no two different numbers can the same length in binary and have alternating digits.</p>
</div>
<div id="pu19" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="noreferrer">Jelly</a>, 5 bytes</h1>

<pre><code>&amp;N:3+
</code></pre>

<p><a href="https://tio.run/##y0rNyan8/1/Nz8pY@3@0oY6RjrGOiY4REFnqGBvpGFoa6ZgYGAB5FjrGQLaRsYVF7OH2R01rIv8DAA" rel="noreferrer" title="Jelly – Try It Online">Try it online!</a></p>

<p>This time a port of <a href="https://codegolf.stackexchange.com/a/151543/59487">Leaky Nun's approach</a> (at least I helped him golf it down a bit :P)</p>

<h1><a href="https://github.com/DennisMitchell/jelly" rel="noreferrer">Jelly</a>, 7 bytes</h1>

<pre><code>^N+4:6ạ
</code></pre>

<p><a href="https://tio.run/##y0rNyan8/z/OT9vEyuzhroX/ow11jHSMdUx0jIDIUsfYSMfQ0kjHxMAAyLPQMbY0ij3c/qhpTeR/AA" rel="noreferrer" title="Jelly – Try It Online">Try it online!</a></p>

<p>Uses <a href="https://codegolf.stackexchange.com/a/151544/59487">JungHwan Min's fantastic approach</a>, with indirect help from <a href="https://codegolf.stackexchange.com/users/8478/martin-ender">Martin Ender</a>.</p>
</div>
<div id="pu20" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 13 bytes</h1>

<pre><code>BŒgṪµ2Ḷṁ×CḄ+³
</code></pre>

<p><a href="https://tio.run/##ASYA2f9qZWxsef//QsWSZ@G5qsK1MuG4tuG5gcOXQ@G4hCvCs////zM5Mg" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></p>

<p><strong>Explanation</strong></p>

<p>Take 24 as an example input.</p>

<pre><code>BŒgṪµ2Ḷṁ×CḄ+³
B                Binary representation of the input → 11000
 Œg              Group runs of equal length → [[1,1],[0,0,0]]
   Ṫ             Tail → [0,0,0]
    µ            New monadic link
     2Ḷ          [0,1] constant
       ṁ         Mold [0,1] to the shape of [0,0,0] → [0,1,0]
        ×        Multiply [0,1,0] by...
         C       1-[0,0,0]. If last bit(s) of the original input are 1 this will add nothing to the original input
          Ḅ      Convert to decimal from binary → 2
           +³    Add this with the original input → 26
</code></pre>
</div>
<div id="pu21" class="pu"><h1>JavaScript (ES6), <s>40</s> 39 bytes</h1>

<p>Takes input as a 32-bit integer.</p>

<pre class="lang-js prettyprint-override"><code>n=&gt;n|((n&amp;=-n)&amp;(m=0xAAAAAAAA)?m:m/2)&amp;--n
</code></pre>

<h3>Test cases</h3>

<p><div class="snippet" data-lang="js" data-hide="true" data-console="true" data-babel="false">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-js lang-js prettyprint-override"><code>let f =

n=&gt;n|((n&amp;=-n)&amp;(m=0xAAAAAAAA)?m:m/2)&amp;--n

console.log(f(1))   // 1 -&gt; 1 -&gt; 1
console.log(f(2))   // 10 -&gt; 10 -&gt; 2
console.log(f(3))   // 11 -&gt; 11 -&gt; 3
console.log(f(4))   // 100 -&gt; 101 -&gt; 5
console.log(f(24))  // 11000 -&gt; 11010 -&gt; 26
console.log(f(29))  // 11101 -&gt; 11101 -&gt; 29
console.log(f(32))  // 100000 -&gt; 101010 -&gt; 42
console.log(f(192)) // 11000000 -&gt; 11010101 -&gt; 213
console.log(f(400)) // 110010000 -&gt; 110010101 -&gt; 405
console.log(f(298)) // 100101010 -&gt; 100101010 -&gt; 298</code></pre>
</div>
</div>
</p>
</div>
<div id="pu22" class="pu"><h1><a href="https://github.com/TryItOnline/TioSetup/wiki/Powershell" rel="nofollow noreferrer">PowerShell</a>, 168 bytes</h1>



<pre class="lang-powershell prettyprint-override"><code>param($n)$a=($c=[convert])::ToString($n,2);if(($x=[regex]::Match($a,'0+$').index)-gt0){$c::ToInt32(-join($a[0..($x-1)]+($a[$x..$a.length]|%{(0,1)[$i++%2]})),2)}else{$n}
</code></pre>

<p><a href="https://tio.run/##FY1BDoIwFEQv84n9KTSAKzEcwIUr3TVdNPiFmlpIaZQEOXsty8m8eTONX/LzQNbGOGmv3wwcgm4ZdK3sRvchHxQ2zX28BW9cn@q8xrN5MgZLKz31tKimuerQDQx0fig5HFAY96AFiz6UuEK3zy8uHGtWvEbjEidLIZKgqFDxPcIiBGhhyfVhUL9sZWVeoQTDeVarDTGdbmRnWsFtMcbqVP8B" rel="nofollow noreferrer" title="PowerShell – Try It Online">Try it online!</a></p>

<p>Ouch. Conversion to/from binary and array slicing are not really PowerShell's strong suits.</p>

<p>Takes input <code>$n</code> as a number. We immediately <code>convert</code> that to binary base <code>2</code> and store that into <code>$a</code>. Next we have an if/else construct. The if clause tests whether a <code>regex</code> <code>Match</code> against 1 or more <code>0</code>s at the end of the string (<code>'0+$'</code>) has its <code>index</code> at a location greater than <code>0</code> (i.e., the start of the binary string). If it does, we have something to work with, <code>else</code> we just output the number.</p>

<p>Inside the <code>if</code>, we slice of the <code>x</code>th first digits, and array-concatenate <code>+</code> those with the remaining digits. However, for the remaining digits, we loop through them and select either a <code>0</code> or <code>1</code> to be output instead, using <code>$i++%2</code> to choose. This gets us the <code>010101...</code> pattern instead of <code>0</code>s at the end. We then <code>-join</code> that back together into a string, and <code>$c</code>onvert it back into an <code>Int32</code> from base <code>2</code>.</p>

<p>In either situation, the number is left on the pipeline and output is implicit.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/151537/">151537</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




