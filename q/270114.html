<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::270114</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>144</td><td>Perl 5 Minteger n</td><td>240229T060616Z</td><td><a href="https://codegolf.stackexchange.com/questions/270114/find-the-chess960-starting-positions-from-its-integer-id/271410#271410">Xcali</a></td></tr>
<tr d-ix="1"><td>182</td><td>Funge98</td><td>240217T220145Z</td><td><a href="https://codegolf.stackexchange.com/questions/270114/find-the-chess960-starting-positions-from-its-integer-id/270128#270128">Alt Shif</a></td></tr>
<tr d-ix="2"><td>117</td><td>JavaScript ES6</td><td>240217T012648Z</td><td><a href="https://codegolf.stackexchange.com/questions/270114/find-the-chess960-starting-positions-from-its-integer-id/270115#270115">Arnauld</a></td></tr>
<tr d-ix="3"><td>146</td><td>APL+WIN</td><td>240217T194345Z</td><td><a href="https://codegolf.stackexchange.com/questions/270114/find-the-chess960-starting-positions-from-its-integer-id/270126#270126">Graham</a></td></tr>
<tr d-ix="4"><td>074</td><td>Charcoal</td><td>240217T013022Z</td><td><a href="https://codegolf.stackexchange.com/questions/270114/find-the-chess960-starting-positions-from-its-integer-id/270116#270116">Neil</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a> <code>-Minteger -n</code>, 144 bytes</h1>

<pre class="lang-perl prettyprint-override"><code>for$q($_%4*2+1,$_/4%4*2,$_/16%6,(($t=$_/96)&gt;3)+($t&gt;6)+($t&gt;8),(0..3,1..3,2,3,3)[$t],$c,$d,$e){$_||=!$q--&amp;&amp;substr BBQNNRKR,$i++,1for@r[0..7]}say@r
</code></pre>
<p><a href="https://tio.run/##JY3NCoJAGEVfpeBTnPw0x9GpFoq4jYTcikg/FkL4M06LyF69aaTNPfds7u1r8QiVunUCBgsqI1j5NkWo1sFc50K5wdGyQEZadpzEjNjaYv7HlqDluS5DOoePDBkpQJYIF4QrQk3eUE1TtITBcUxzfJ5HKRZpesyyfJ8jNLaNVN8notAzm/Iznl6JUIqz4Nv1sunaUTmH0PWop9m0sr7XQjntDw" rel="nofollow noreferrer" title="Perl 5 – Try It Online">Try it online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://esolangs.org/wiki/Funge-98" rel="nofollow noreferrer">Funge-98</a>, 182 bytes</h1>
<pre><code>&quot;RBUS&quot;4(&amp;:4%2*1+'B\9p4/:4%2*'B\9p4/:6%'Qa13C1g::7/'Na13C$:7%'Na13C00'Ra13C01'Ra13C00'Ka13C&gt;::8-6j5+1,g9_@
'&gt;1p&quot;HTRF&quot;4($ffp&gt;3k0p&gt;:9g' -3j7+1_O00g-9j7p00+1g00_'Q\9p$6/ffg1)1R
</code></pre>
<p><a href="https://tio.run/##Nc5LC4JAFIbhZeCiVtWmG6JNZYPn5HVmIWEQQVBotQukwBkwiNm06NebWq3e56y@c8/F6ylzykKq3g3LUk/jy0l3Z1PumqsFWiS@MuXazfW3b5Lkhs4GJeeBTQ61DR6YXwGQtCn@CmRfN@I8pH7hWbiULFtrrXZ30OkN@6MxiVDpu3O6rXYNIVTkPEBFnEkyoU4RWJgdASRlRaAALJQAGUmqVwzfFkLiHNOy9DDUPg" rel="nofollow noreferrer">Try it online!</a></p>
<p>Uses the <a href="https://en.wikipedia.org/wiki/Fischer_random_chess_numbering_scheme#Direct_derivation" rel="nofollow noreferrer">direct derivation method</a> from Wikipedia.</p>
<p>Contains non-printable characters, so here is a hex dump:</p>
<pre><code>00000000: 2252 4255 5322 3428 263a 3425 322a 312b  &quot;RBUS&quot;4(&amp;:4%2*1+
00000010: 2742 5c39 7034 2f3a 3425 322a 2742 5c39  'B\9p4/:4%2*'B\9
00000020: 7034 2f3a 3625 2751 6131 3343 3167 3a3a  p4/:6%'Qa13C1g::
00000030: 372f 274e 6131 3343 243a 3725 274e 6131  7/'Na13C$:7%'Na1
00000040: 3343 3030 2752 6131 3343 3031 2752 6131  3C00'Ra13C01'Ra1
00000050: 3343 3030 274b 6131 3343 3e3a 3a38 2d36  3C00'Ka13C&gt;::8-6
00000060: 6a35 2b31 2c67 395f 400a 070e 151c 0f16  j5+1,g9_@.......
00000070: 1d17 1e1f 273e 3170 2248 5452 4622 3428  ....'&gt;1p&quot;HTRF&quot;4(
00000080: 2466 6670 3e33 6b30 703e 3a39 6727 202d  $ffp&gt;3k0p&gt;:9g' -
00000090: 336a 372b 315f 4f30 3067 2d39 6a37 7030  3j7+1_O00g-9j7p0
000000a0: 302b 3167 3030 5f27 515c 3970 2436 2f66  0+1g00_'Q\9p$6/f
000000b0: 6667 3129 3152                           fg1)1R
</code></pre>
</div>
<div id="pu2" class="pu"><h1>JavaScript (ES6), 117 bytes</h1>
<p>This is based on the <em>direct derivation</em> method <a href="https://en.wikipedia.org/wiki/Fischer_random_chess_numbering_scheme" rel="nofollow noreferrer">described on Wikipedia</a>.</p>

<pre class="lang-javascript prettyprint-override"><code>f=(n,i=Q=R=N=-1)=&gt;i&lt;7?&quot;RKRNQB&quot;[i++^n%4*2&amp;&amp;i^n/2&amp;6?n/16%6^++Q?~-(j=n/96)%3+1+j%9/7^N++&amp;&amp;~-j*3/8^N?++R:3:4:5]+f(n,i):&quot;&quot;
</code></pre>
<p><a href="https://tio.run/##NY3daoNAEIXv8xTDgrKbiRpjYqpmK/S2IGguSxck0bAiu0GX3pTk1e1aW4bhzM93Zrr6qx4vg7wbT@lrM00tp2ojeckrXnAvZPxVno45qd6ronwjHxJRKGe/3rmuFCrYuXGugjB2YoFY5k@PdlwFScycCEPsnCQ4igLRdZ9et46CF1HkiFUapfv08Int/IqlhEytHmjfGFDAYZtZOUES/xbIIdwy@F4BzMBoAUIy2/1b5GKR1hLOirjQYFlrpvYESOYbfTaDVDfK/Ht9PZt6MDRidkdsILR/3DKY7z9sXrQadd/4vb7RkWWrx/QD" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>Or <a href="https://tio.run/##hZNdb6JAFIbv/RWnpCI4Ih@ytGqnpr3Y3cYsiXbvjKaIg44hh4roujH2r7sz4NfGZpcJMMz7nHPgzMs8WAfLMOXvmYHJhO2jFYYZTxDCGVsum56loQ7bEkCY4DKDrv/y7ftPCygMwKoVw86HI0YDhjWBFkeB2jkq5UbNPVzl6cKwXTqlTZNfgntK0@C3dq/XIx7HmqLoF8RYJkIogwtVcICIlKdKY0doP4JsVo/iJEk1BBNc/cieuQVcc7YnQe8MoXsNNb3iVcRrDsb2EOhx7og5KM9K@7AQpYy9LlZByrSFnmu9z7RDFwfoDvVztivAPgKg@J@lsQqt/w@t@584KbJslaJk6vOE46nvJydcROJkU7jhr7CI4@QFJ2yjrYE@ws0aVBVuBGsYuiy/K@32EdWwxmmP9qlPDVunj/zhrqP0u32/96wMOCEjLLtVR1X5CE1H9Tpo2l7ZGxHS63wY2pyiKbah3CA2mZeb5t3IJ0RVP4x5tWHej/wOIf1Wo@W2vgxJJEvpLUXZR2IDY5YJ41Cw2uL2IPZSTggpvkOKKVtKQ4so/WgDsST9dvEP5C3hkZbDNzQnjq3IZtK/b18DHrMJiJqA9HaLuxawzTsTTcQpVG63MmRXqcE0yQ6P1q7ydmhQSdo8iVk9Tqaa8roKQ1Fa7MT@Dw" rel="nofollow noreferrer">verify all results</a>, using a cleaner implementation.</p>
<h3>Knight positions</h3>
<p>Given <span class="math-container">\$j=\lfloor n/96\rfloor \in[0\dots9]\$</span>, the 0-indexed position of the first knight is:</p>
<p><span class="math-container">$$[0,0,0,0,1,1,1,2,2,3][j]$$</span></p>
<p>which can be obtained with:</p>
<pre class="lang-javascript prettyprint-override"><code>~-j * 3 / 8 | 0
</code></pre>
<p>The 0-indexed position of the second knight is:</p>
<p><span class="math-container">$$[1,2,3,4,2,3,4,3,4,4][j]$$</span></p>
<p>which can be obtained with:</p>
<pre class="lang-javascript prettyprint-override"><code>~-j % 3 + 2 + j % 9 / 7 | 0
</code></pre>
<hr />
<h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, 127 bytes</h1>

<pre class="lang-c prettyprint-override"><code>f(n,i,j,Q,R,N){for(i=Q=N=-1,R=75;i&lt;7;)putchar(i++^n%4*2&amp;&amp;i^n/2&amp;6?n/16%6^++Q?(j=n/96-1)%3+1+j%8/6^N++&amp;&amp;j*3/8^N?R^=25:78:81:66);}
</code></pre>
<p><a href="https://tio.run/##VY9Ra4MwEMff/RSHYEh6ERtdo9UGv4GgzyMgGXaRLStdxx6KX30urS1bn@7u9/9xx5l4b8w8D9Rxy0fe8o437Dx8HKlVrWpULHin8k1ld3nFDl8n89r7CFG76GmVEmK1S1Iia5cIGUmN2NZ0VC7ZyliwKEOBY1QkUjeIhIyrLCl0U3dapZsyL8pClFKyapqtO8F7bx1lcA4Arvc9cqBgXfmyg628NqhArBfpT7OLZr0mLhXxbgAcjt4YaBhlLxDyywawrLqF/u2H@S5DeENT8B8/u4VPwTT/mOGt33/O8fcv" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
</div>
<div id="pu3" class="pu"><h1>APL+WIN, 146 bytes.</h1>
<p>Prompts for layout number. Uses compressed versions of the bishops' and knights' tables.</p>
<pre><code>p←~i←(8⍴2)⊤+⎕av⍳'?è{~⍨ÏÛ|+⊤≤÷+⍉○∪'[16|n←0]⋄p[(i/⍳8)[6|n←⌊n÷16]]←2⋄p[((5⍴2)⊤¯32+⎕av⍳'8421,*)&amp;%#'[⌊n÷6])/(p=0)/⍳8]←3⋄p[((p=0)/⍳8)[0 2]]←4⋄'KBQNR'[p]
</code></pre>
<p>Unfortunately Dyalog Classic's ⎕av does not match that of my APL so no TIO available. Test cases:</p>
<pre><code>n=0 BBQNNRKR, n=518 RNBQKBNR, n=959 RKRNNQBB
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, <s>80</s> <s>76</s> 74 bytes</h1>
<pre><code>Ｎθ≔ＫＤ⁸→ηＦ²«§≔η⁻⊕⊗θιB≧÷⁴θ»§≔η§⌕ＡηωθQＦ⪪”)“∧⊟bＢ%⁰”χ§≔η§⌕ＡηωＩ§ι÷θ⁶NＦRKR§≔η⌕ηωι
</code></pre>
<p><a href="https://tio.run/##jY/fSsMwFMav16c45CqBCE2qMtxVtQhFNrQ@Qddm62FZ@i@dgvjsMXF0N/PCkHDCyff9zpeqKYeqLbVzuekmu5mOWzXQnq2idBxxb@irUocMB1VZbA1dcngocN9YxqHxol07AJUMvqLFWZ/a3NTqkzYc1mimkeamGtRRGatqmrXTVvvaM29Hf8gj8ZDFuuzO7l@0t9gMT1grDrccQpbv6Io@X5/R1KnWofXBgtpT38gc7b3TaCmJ/RJCSJnEQiZ@yyQhHETMGPyX/FSOls5vyOGSkvYc7hkLfyKby2RSvBTkD3qgzkhkK@fuxNLdnPQP" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>Ｎθ
</code></pre>
<p>Input the position number.</p>
<pre><code>≔ＫＤ⁸→η
</code></pre>
<p>Get a reference to <code>8</code> cells of the canvas. (Charcoal allows you to modify the canvas by writing to elements of this list, thus implicitly printing the result.)</p>
<pre><code>Ｆ²«§≔η⁻⊕⊗θιB≧÷⁴θ»
</code></pre>
<p>Place the bishops. This also divides the input by <code>16</code>.</p>
<pre><code>§≔η§⌕ＡηωθQ
</code></pre>
<p>Place the queen.</p>
<pre><code>Ｆ⪪”...”χ§≔η§⌕ＡηωＩ§ι÷θ⁶N
</code></pre>
<p>Place the knights by looking up their positions in a compressed string, as that was sadly golfier than computing the position directly. (Note that the second half of the look-up table has to take into account that the first knight has already been placed, so there are only four empty cells remaining.)</p>
<pre><code>ＦRKR§≔η⌕ηωι
</code></pre>
<p>Place the remaining pieces.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/270114/">270114</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




