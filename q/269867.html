<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::269867</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>052</td><td>Python</td><td>240208T071010Z</td><td><a href="https://codegolf.stackexchange.com/questions/269867/is-it-a-valid-arm-immediate-value/269894#269894">loopy wa</a></td></tr>
<tr d-ix="1"><td>052</td><td>Rust</td><td>240208T061433Z</td><td><a href="https://codegolf.stackexchange.com/questions/269867/is-it-a-valid-arm-immediate-value/269891#269891">Bubbler</a></td></tr>
<tr d-ix="2"><td>043</td><td>JavaScript Node.js</td><td>240208T004619Z</td><td><a href="https://codegolf.stackexchange.com/questions/269867/is-it-a-valid-arm-immediate-value/269886#269886">tsh</a></td></tr>
<tr d-ix="3"><td>101</td><td>Retina</td><td>240208T005555Z</td><td><a href="https://codegolf.stackexchange.com/questions/269867/is-it-a-valid-arm-immediate-value/269887#269887">Neil</a></td></tr>
<tr d-ix="4"><td>047</td><td>JavaScript ES6</td><td>240207T191904Z</td><td><a href="https://codegolf.stackexchange.com/questions/269867/is-it-a-valid-arm-immediate-value/269870#269870">Arnauld</a></td></tr>
<tr d-ix="5"><td>021</td><td>Charcoal</td><td>240208T003824Z</td><td><a href="https://codegolf.stackexchange.com/questions/269867/is-it-a-valid-arm-immediate-value/269883#269883">Neil</a></td></tr>
<tr d-ix="6"><td>157</td><td>Go</td><td>240207T193229Z</td><td><a href="https://codegolf.stackexchange.com/questions/269867/is-it-a-valid-arm-immediate-value/269871#269871">bigyihsu</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 52 bytes</h1>
<pre class="lang-python prettyprint-override"><code>f=lambda n:n&gt;4**32or 0&lt;n%~-4**16&gt;&gt;8&lt;8**8-1and f(n*4)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=jZBNSsQwGIZx21N8GyENrSROHeow0509xYAkJHEKbVLSVKcuvIibAdE76WlM0sKguPAN5D9PnuT1o5_cwejTm9rt30en8vKzULuWdVww0BtdFRivro0FstWXL7kf0XVVldsS4zKnTAtQSOMiXc7eKr-1zfA9NBo61qPB2auhbxuXmV5qRNJ0kwBAbxvtkEKhbjM_uwBOXxd7ciQxdZ2Qo_IR65Xy3bqe5xPCKYmFkiWASmCWN84yO4FvhwyUaVvzJAXwCeSj1KDHjksLRsGztGZIA4eeGb8T1gDRJWCNY87TbPNwcIFZxHs8Zdal9V1wDN7R8XjjM-vGRyhJ6B_mUT2AgI_uh7MR4n_K5-Gs7IzxX68nGHormciNB9N8lp1_-Rs" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Returns False for True and True for False.</p>
<h2>How?</h2>
<p>Uses <code>mod 0xffffffff</code> to get from a linear left shift to a cyclic left shift. Advantages of linear being 1) Python actually has it. 2) easier stopping criterion.</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.rust-lang.org" rel="nofollow noreferrer">Rust</a>, 52 bytes</h1>
<pre class="lang-rust prettyprint-override"><code>|n|(0..16).any(|i|(n&lt;&lt;33^n&lt;&lt;32^n*2^n)&lt;&lt;i*2&gt;&gt;41&lt;1u64)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=jVFLTsMwEBXbnGKSlV0llZ2EqkrTsiJbDlC1KBBbshSmVepIRU1OwqYLOAEbbsAZ4DTEiWhD2wXP8oz85uOnmZfXotzoj7njeSJTWq1w6jOfOy443p2zeJcIT6lCQmFn5UKDhOlbqaU3_gorrAgbDvmIDlN8JpWqCMZxECyN9Zc4aC6NYzXwZ7OQx7wchbSr_b76nFhyVQBBF8R2LR61yCgohLlF2Ja1SJL7MvBd0EUpqGt42SAbBbLPJUmX3eMeOGsPZ-xCjB_5U5jYIfcghCe3Lsg03_z-aLS1XXvkdQN2Shq9UjDeJ8_Esb_RM3nHZyevS7YWzT4A1oVCnaNNnF3ExtsaIthFNzUQY2mzxGa-kiCkGzDT7w178p9quy0nNtKLHWqr7va533f-Bw" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>A closure that takes an unsigned 32-bit value of type <code>u64</code> and returns a bool.</p>
<ul>
<li>A 32-bit value <code>n</code> is acceptable</li>
<li><span class="math-container">\$\Leftrightarrow\$</span> <code>n</code> has a run of 24 equal bits at an even offset, when viewed cyclically</li>
<li><span class="math-container">\$\Leftrightarrow\$</span> <code>n | n &lt;&lt; 32</code> has a run of 24 equal bits at an even offset, between 0 and 30 inclusive</li>
<li><span class="math-container">\$\Leftrightarrow\$</span> <code>(n | n &lt;&lt; 32) ^ ((n | n &lt;&lt; 32) &lt;&lt; 1)</code> has a run of 23 zero bits at an even offset between 0 and 30 inclusive, counting from the high end</li>
<li><span class="math-container">\$\Leftrightarrow\$</span> <code>n&lt;&lt;33^n&lt;&lt;32^n&lt;&lt;1^n</code> has a run of 23 zero bits at an even offset between 0 and 30 inclusive, counting from the high end</li>
<li><span class="math-container">\$\Leftrightarrow\$</span> <code>(n&lt;&lt;33^n&lt;&lt;32^n&lt;&lt;1^n)&lt;&lt;i&gt;&gt;41</code> is zero for some even <code>i</code> between 0 and 30 inclusive</li>
</ul>
</div>
<div id="pu2" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 43 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>f=n=&gt;++i&amp;31&amp;&amp;n&gt;&gt;8==n&gt;&gt;31|f(n&gt;&gt;&gt;2|n&lt;&lt;30);i=0
</code></pre>
<p><a href="https://tio.run/##y0osSyxOLsosKNHNy09J/f8/zTbP1k5bO1PN2FBNLc/OzsLWFkgaG9akaQBpO6OaPBsbYwNN60xbg//J@XnF@Tmpejn56RppGgYVBmDg5qapyYUulQYEKWbGaVik3Nwg@rBJQU1Ek8JUCFZm6OaKwww37MabAgEOm0HuTUs1MNTU/A8A" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>Note: This function will not be reusable after about 2<sup>48</sup> invokes. I would argue that should be fine according to the spirit of code-golf though. And fix the limit may <a href="https://tio.run/##y0osSyxOLsosKNHNy09J/f8/zTbP1i7TVls7U83YUE0tz87OwtYWSBob1qRpAGk7o5o8GxtjA03rTFuD/8n5ecX5Oal6OfnpGmkaBhUGYODmpqnJhS6VBgQpZsZpWKTc3CD6sElBTUSTwlQIVmbo5orDDDfsxpsCAQ6bQe5NSzUw1NT8DwA" rel="nofollow noreferrer">cost 2 more bytes</a>.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/m-ender/retina/wiki/The-Language" rel="nofollow noreferrer">Retina</a>, 101 bytes</h1>
<pre><code>.+
$.(23283064365386962890625**
16{`.+$
$.(4**
)r`(.?)(.{1,32})$
$.($1*)¶$2
A`$
¶

$
$`
0`0{12}|3{12}
</code></pre>
<p><a href="https://tio.run/##JY47DsIwEET7PYeRkoCs/duuEBXXMAUFDUVEF3KtHCAXCw5pVm9mZzU7Pj@v94O2U3evWzxDiB0LZ0FXcZPsxTkXdLZhAPKpxnPYQ9pkP9YuXvsuTnQRnvv/ItDQr0tguNUA6wLQ3ApYcSKev7LPbWMD5aLF3DE1TJkKYkZQSclBkVs3ZbMDS/sIgVTIRQrjceyeskFOZnzEFFHTDw" rel="nofollow noreferrer" title="Retina – Try It Online">Try it online!</a> Link includes test cases. Outputs <code>1</code> for valid, <code>0</code> for invalid. Explanation:</p>
<pre><code>.+
$.(23283064365386962890625**
16{`.+$
$.(4**
)r`(.?)(.{1,32})$
$.($1*)¶$2
A`$
</code></pre>
<p>Convert the input to 16 base <code>4</code> digits. (This method is required for very large integers or even for large integers where the traditional method would cause the process to run out of memory.)</p>
<pre><code>¶

$
$`
</code></pre>
<p>Join the digits together and then duplicate the string.</p>
<pre><code>0`0{12}|3{12}
</code></pre>
<p>Check for 12 repeated <code>0</code>s or <code>3</code>s. (If any non-zero output is acceptable, the <code>0`</code> can be removed to save two bytes.)</p>
</div>
<div id="pu4" class="pu"><h1>JavaScript (ES6), 47 bytes</h1>
<p>Returns <strong>0</strong> or <strong>1</strong>.</p>

<pre class="lang-javascript prettyprint-override"><code>f=(n,m=~255)=&gt;n&amp;m&amp;&amp;~n&amp;m?m%96&amp;&amp;f(n,m*4|m&gt;&gt;&gt;30):1
</code></pre>
<p><a href="https://tio.run/##y0osSyxOLsosKNHNy09J/f8/zVYjTyfXts7I1FTT1i5PLVdNrQ5I2ueqWpqpqaWBJLVManLt7OyMDTStDP8n5@cV5@ek6uXkp2ukaRhUGICBm5umJhe6VBoQpJgZp2GRcnOD6MMmBTURTQpTIViZoZsrDjPcsBtvCgQ4bAa5Ny3VwFBT8z8A" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Commented</h3>
<pre class="lang-javascript prettyprint-override"><code>f = (          // f is a recursive function taking:
  n,           //   n = input
  m = ~255     //   m = mask, initialized to ~255 (note that this gives
               //   the signed value -256 rather than 0xFFFFFF00, which
               //   is important for the modulo 96 test)
) =&gt;           //
n &amp; m &amp;&amp;       // if n &amp; m is not 0
~n &amp; m ?       // and ~n &amp; m is not 0:
  m % 96 &amp;&amp;    //   if m is not equal to 0x3FFFFFC0 (the last rotation
               //   which is the only one to be a multiple of 96):
    f(         //     do a recursive call:
      n,       //       pass n unchanged
      m * 4 |  //       rotate m by 2 positions to the left
      m &gt;&gt;&gt; 30 //       (the result is still signed)
    )          //     end of recursive call
:              // else:
  1            //   success: return 1
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 21 bytes</h1>
<pre><code>Ｎθ⊙ 3№×²◧⍘θ 123¹⁶×¹²ι
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70iOSOxKDk_MWfBgqWlJWm6FjdTPPMKSkv8SnOTUos0CjWtuQKKMvNKNBzzKjWUFIyVdBSc80uB_JDM3NRiDSMdhYDEFJ_UtBINp8Ti1OASoNp0jUIdBSUFQyNjJU0dBUMzTSAJUW0IVJ6pCQTWS4qTkouhNi6PVtIty1GKXWxqaAARAQA" rel="nofollow noreferrer">Attempt This Online!</a> Will accept input in decimal by default, but also hex with <code>0x</code> prefix and binary with <code>0b</code> prefix. Outputs a Charcoal boolean, i.e. <code>-</code> for valid, nothing if not. Explanation:</p>
<pre><code>Ｎθ                      First input as a number
    3                   Literal string ` 3`
  ⊙                     Any character satisfies
          θ             Input number
         ⍘              Converted to custom base
            123         Literal string ` 123`
        ◧               (Left) Padded to length
               ¹⁶      Literal integer `16` 
      ×                 Repeated by
       ²                Literal integer `2`
     №                  Contains
                    ι   Current character
                 ×      Repeated by
                  ¹²    Literal integer `12`
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://go.dev" rel="nofollow noreferrer">Go</a>, 157 bytes</h1>
<pre class="lang-go prettyprint-override"><code>import.&quot;math/bits&quot;
func f(n uint32)(r bool){F:=uint32(0xFF)
for k:=2;k&lt;31;k+=2{j:=RotateLeft32(n,k)
if r=j==j&amp;F||^j==^j&amp;F;r{return}}
return n==n&amp;F||^n==^n&amp;F}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=lZHRSsMwFIbxtk9xLFRarC7dUKQzguCKF0NkzgtRJ-lsZtctHWkKha5PIsIQfAjfwxt9GtNEGUov9CSQPyfn4vvI4_MkXb0uyDghkwjmJGZGPF-kXOyadC7Ml1zQnYP3p-_enIiHVhiLzDRozsZAbQZ5zESn7dgcwjSdOWXgY92yUREEjkFTDomP293ksON1k23cLqc-HqSCiKgf0XqQuYljxBQ4nmI83QqWy5EMI5m6vOSRyDmrKkMHYBgzNSLDSKZKQ35svCmk2sF2oDTOuaSYMdvEGA8Hl8PTKxlMzXPnZuBj4IRJ6-tbzVuiAqkKAhcVVNb9foe6tYXuuyj0kFoeQuuWt77-rvqtkizEx9TOlOMmgVKhUdtEhVVAC1BohYCPwBJgW8K5YaYLmdrEBcHzCByojOqHUXDcv-j91cgLerVGraaYiz1ZGl950gh5DXLNdutrg90_5SiZZU12vbMTrfb1uauVPj8B" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Input is an unsigned 32-bit integer.</p>
<h3>Explanation</h3>
<pre class="lang-go prettyprint-override"><code>import.&quot;math/bits&quot;
func f(n uint32)(r bool){
F:=uint32(0xFF)
for k:=2;k&lt;31;k+=2{              // rotation check
j:=RotateLeft32(n,k)             // rotate left an even number of times
if r=j==j&amp;F||^j==^j&amp;F;r{return}} // if 8-bit or its complement is 8-bit, return true
return n==n&amp;F||^n==^n&amp;F}         // return if 8-bit or its complement is 8-bit
</code></pre>
<h2><a href="https://go.dev" rel="nofollow noreferrer">Go</a>, 121 bytes</h2>
<pre class="lang-go prettyprint-override"><code>func f(n,k uint32)int{F:=uint32(0xFF)
if n&amp;^F&gt;0{k--
if k&lt;1{return 0}
j:=n*4|n&gt;&gt;30
if k&amp;1&gt;0{j=^n}
return f(j,k)}
return 1}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=lZHfSsMwFIfxtk9xLHSkkumJU5FiCoILXoiIzgtRJ92fjK4uG10LHbVP4s0QfAifRPRpTNPhUCfoaUj7Ownk-5rHp8F4_jIJulEw6MMoCJUVjibjONm05Sixn9NE1vffZjJVXZBE0QjSUCWNbVfPufB4lQhmQrhWKEHV2sLHPKrXyxQdsDzuJ2msAAtr6HG1sfOgfL-BZrXG9NYhb6vCWuySZEgj9zOyogJ4X3s1BCUfcSG3zmJ97r0iNue8dX7ZOr7SH7ZryXEMd3QKHoc4UNro-rYizDFDU0JQzKSu3l5D0pK76lPsMDQPQ1y22DJ-r3Kt0CyBxyWZUv1PSqlgnTPIDZ8kNmZOBluAHacD3AenB8TpuTfKpjA1I6DAXCis4ouSODy5aP5ViYlm6VG6GehsV1fFb0RlH9kKu9V6y_irHv5PD-GnX_P0qJJb3O98Xr0_AA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>A direct port of <a href="https://codegolf.stackexchange.com/a/269870/77309">@Arnauld's JS answer</a>.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/269867/">269867</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




