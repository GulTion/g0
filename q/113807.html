<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::113807</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>039</td><td>Haskell + hgl</td><td>240814T173947Z</td><td><a href="https://codegolf.stackexchange.com/questions/113807/divide-and-divide-and-conquer/274981#274981">Wheat Wi</a></td></tr>
<tr d-ix="1"><td>046</td><td>Perl 5</td><td>170325T092608Z</td><td><a href="https://codegolf.stackexchange.com/questions/113807/divide-and-divide-and-conquer/113857#113857">Dada</a></td></tr>
<tr d-ix="2"><td>069</td><td>Python 2</td><td>170326T025915Z</td><td><a href="https://codegolf.stackexchange.com/questions/113807/divide-and-divide-and-conquer/113899#113899">Dennis</a></td></tr>
<tr d-ix="3"><td>069</td><td>Python 3</td><td>170325T042923Z</td><td><a href="https://codegolf.stackexchange.com/questions/113807/divide-and-divide-and-conquer/113851#113851">Dennis</a></td></tr>
<tr d-ix="4"><td>117</td><td>Python 3</td><td>170324T211941Z</td><td><a href="https://codegolf.stackexchange.com/questions/113807/divide-and-divide-and-conquer/113819#113819">hyper-ne</a></td></tr>
<tr d-ix="5"><td>070</td><td>JavaScript ES6</td><td>170324T220359Z</td><td><a href="https://codegolf.stackexchange.com/questions/113807/divide-and-divide-and-conquer/113826#113826">Neil</a></td></tr>
<tr d-ix="6"><td>008</td><td>Brachylog 2</td><td>170325T233926Z</td><td><a href="https://codegolf.stackexchange.com/questions/113807/divide-and-divide-and-conquer/113894#113894">user6213</a></td></tr>
<tr d-ix="7"><td>010</td><td>Jelly</td><td>170325T002134Z</td><td><a href="https://codegolf.stackexchange.com/questions/113807/divide-and-divide-and-conquer/113839#113839">Dennis</a></td></tr>
<tr d-ix="8"><td>057</td><td>Haskell</td><td>170325T092404Z</td><td><a href="https://codegolf.stackexchange.com/questions/113807/divide-and-divide-and-conquer/113856#113856">Laikoni</a></td></tr>
<tr d-ix="9"><td>062</td><td>Mathematica</td><td>170325T001933Z</td><td><a href="https://codegolf.stackexchange.com/questions/113807/divide-and-divide-and-conquer/113838#113838">Not a tr</a></td></tr>
<tr d-ix="10"><td>135</td><td>C</td><td>170324T225632Z</td><td><a href="https://codegolf.stackexchange.com/questions/113807/divide-and-divide-and-conquer/113829#113829">Steadybo</a></td></tr>
<tr d-ix="11"><td>090</td><td>QBIC</td><td>170324T220215Z</td><td><a href="https://codegolf.stackexchange.com/questions/113807/divide-and-divide-and-conquer/113825#113825">steenber</a></td></tr>
<tr d-ix="12"><td>029</td><td>Retina</td><td>170324T211229Z</td><td><a href="https://codegolf.stackexchange.com/questions/113807/divide-and-divide-and-conquer/113816#113816">Martin E</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.haskell.org" rel="nofollow noreferrer">Haskell</a> + <a href="https://gitlab.com/wheatwizard/haskell-golfing-library" rel="nofollow noreferrer">hgl</a>, 39 bytes</h1>
<pre><code>ay(U$nrP.*ubs 10)&lt;fn(few[0]&lt;st)&lt;sPN&lt;bs0
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=RVC9boMwGFRXpL7DN3SAqkT-AYMjp0O3LhFLpyiKnGJSVMAJGFV5li4sVZ8pfZqiYJPl8_m-893J378fsvtUVTVcTmV91K2BUy-rsihVDlmrqj5Xnl1kXhjCWhs4KwO6AWm017QZLJfw2hh1aGUFElbP4wjteNG6umpW0JwAgxDOdHF4z396U4TpJShW8uy_PYy6xWO_7wCjQBSNX6ivDdqKzgSiy9Zi36Hpwd_dfS3LZvTMtQdQ78A_tiCgCMYbwAYonzup9so9AYssiHhiEefIIkIodSSOmYUYJxzPNMKx4zkmEWeMzEuaEJbwlBNLxA4wJ8HUZbHZM-Xc5dNbKURmltE5M0kourWNSMxpiqbO2-lXhmE6_wE" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h1>Using parsers, 39 bytes</h1>
<pre><code>ay(U$nrP.*ubS 10)&lt;uP(h_&lt;*lA(nχ 0))&lt;bS0
</code></pre>
<h1>Inverted output (invalid), 38 bytes</h1>
<pre><code>mF(U(rPr.*ubs 10)*/*few[0]&lt;st)&lt;sPN&lt;bs0
</code></pre>
<p>This outputs <code>True</code> when the number has no easy factors and <code>False</code> when it has none. Basically this behaves like a primality test.</p>
<p>The challenge doesn't permit this sort of IO but it's significantly different from the other solution so I thought I would include it.</p>
<h1>Reflection</h1>
<p>I don't have any expectation that hgl do well on number theoretic challenges like this (yet). However I feel that most the length here doesn't come from the number theory. The machinery around it seems to be a big part of the issue.</p>
<ul>
<li>Built-ins for <code>F nsw</code> and <code>F new</code>.</li>
<li>Shortcuts for <code>ubs x</code> and <code>ubS x</code> where <code>x</code> is a small integer. In particular we want <code>ubs 10</code> and <code>ubS 10</code>. Either of these would have saved <em>3 bytes</em> on our total answer.</li>
<li>There should be something for &quot;not all&quot;. This challenge doesn't allow</li>
<li>I think there should probably be shortcuts for <code>lA&lt;χ</code> and <code>lA&lt;nχ</code>. Possibly also <code>lA&lt;kB</code>.</li>
<li>I should get around to implementing functions surrounding the <code>Read</code> class.</li>
</ul>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.perl.org/" rel="nofollow noreferrer">Perl 5</a>, 46 bytes</h1>

<p>43 bytes of code + 3 bytes for <code>-p</code> flag.</p>



<pre class="lang-perl prettyprint-override"><code>s~~$\|=grep!($`%$_|$'%$_),2..$`if$`*$'~ge}{
</code></pre>

<p><a href="https://tio.run/nexus/perl5#U1YsSC3KUdAt@F9cV6cSU2ObXpRaoKihkqCqEl@jog4kNXWM9PRUEjLTVBK0VNTr0lNrq///NzQ0tzQEAA" rel="nofollow noreferrer" title="Perl 5 – TIO Nexus">Try it online!</a> or try <a href="https://tio.run/nexus/perl5#FYtLCoNAEAX37xRKOpiERPqjM2nEs@jGSMCFKLgSr24mm0dR1Lvk87BM2WuezvU4aNvbcRnm/Eb9lbqdirT3p5Yl9d8P9Q8qjnFoqGtpa2hr@TzNESpUHuHOUDWDSx0gEl0SstSoFUEgxgjJvd2h9j@wegYNlpIYjRk/" rel="nofollow noreferrer">this modified version</a> allowing multiple inputs.<br>
You probably don't want to try this on the largest input, as it might take a (very long) while.  </p>

<p><strong>Explanations:</strong><br>
We iterate through each position in the word with <code>s~~~g</code>, with <code>$`</code> containing the numbers before and <code>$'</code> the numbers after. If <code>$`*$'</code> is true (it means that none is empty, and none is <code>0</code>), then we check if a number between 2 and <code>$`</code> divides both of them (with the <code>grep!(...),2..$`</code>). If so, <code>$\|=..</code> will set <code>$\</code> to a non-zero value, which is implicitly printed at the end thanks to <code>-p</code> flag.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://docs.python.org/2/" rel="nofollow noreferrer">Python 2</a>, 69 bytes</h1>



<pre class="lang-python prettyprint-override"><code>f=lambda n,d=10,k=2:k&lt;d&lt;n and(n/d%k+n%d%k&lt;1&lt;n%d)|f(n,d,k+1)|f(n,10*d)
</code></pre>

<p>Uses recursion instead of GCD built-ins.</p>

<p><a href="https://tio.run/nexus/python2#JYzdDoIwDIWv4Sl6Y7LpovtRdASehBCDDpIFKWSMCxPfHYs2afvlnJ76YRpDhPk9p9THuY2hfS5h9iO@/OAjU5KKr135aoaHawCFK5UUfanzvnAFQoOO4cnt@gPuaBaqoM0/HaNL0R/UH5XcO/oyBriDR2BSgOR5mmwKborHaYmM5zAFjxEow9Pkx2tlrIDsLOBsrwKspazWxhCqS1an1UWTrQQoQ05mieBmKaKNvdZf" rel="nofollow noreferrer" title="Python 2 – TIO Nexus">Try it online!</a></p>

<h3>How it works</h3>

<p>When <strong>f</strong> is called with one to three arguments (<strong>d</strong> defaults to <strong>10</strong>, <strong>k</strong> to <strong>2</strong>), it first checks the value of the expression <code>k&lt;d&lt;n</code>. If the inequalities <strong>k &lt; d</strong> and <strong>d &lt; n</strong> both hold, the expression following <code>and</code> gets executed and its value is returned; otherwise, <strong>f</strong> will simply return <em>False</em>.</p>

<p>In the former case, we start by evaluating the expression <code>n/d%k+n%d%k&lt;1&lt;n%d</code>.</p>

<p><strong>d</strong> will always be a power of ten, so <code>n/d</code> and <code>n%d</code> effectively split the decimal digits on <strong>n</strong> into two slices. These slices are both divisible by <strong>k</strong> if and only if <code>n/d%k+n%d%k</code> evaluates to <strong>0</strong>, which is tested by comparing the result with <strong>1</strong>.</p>

<p>Since part of the requirements is that both slices must represent positive integers, the value of <code>n%d</code> is also compared with <strong>1</strong>. Note that <strong>1</strong> has no prime divisors, so the more expensive comparison with <strong>0</strong> is not required. Also, note that <strong>d &lt; n</strong> already ensures that <code>n/d</code> will evaluate to a positive integer.</p>

<p>Finally it recursively all <code>f(n,d,k+1)</code> (trying the next potential common divisor) and <code>f(n,10*d)</code> (trying the splitting) and returns the logical OR of all three results. This means <strong>f</strong> will return <em>True</em> if (and only if) <strong>k</strong> is a common divisor of <strong>n/d</strong> and <strong>n%d</strong> or the same is true for a larger value of <strong>k</strong> and/or a higher power of ten <strong>d</strong>.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://docs.python.org/3/" rel="nofollow noreferrer">Python 3</a>, <s>70</s> 69 bytes</h1>



<pre class="lang-python prettyprint-override"><code>import math
f=lambda n,d=1:n&gt;d and n%d*~-math.gcd(n//d,n%d)+f(n,10*d)
</code></pre>

<p><a href="https://tio.run/nexus/python3#JY3BboQwDETP5Ct8qZRs093EgQQjbX9kxSFtoEVaDEKo2lN/nSZbnzwznudjmtdl22GO@7cYr/c4f6QIrNPVdvyeIHICfkmn37dycf76TJIvl6Szp15HydqaU1LHuGzwgIlh@Il3uawDS6PO2xCTVKoTVcm55I8O1m3iXeauUqL6F@q4iermSIOvNdQUNBAZDYjO5dU2XoO1gWwRxjZZkcWavMdiuYA@UEvY64xpMGOybV0m@NKBljIaXeECGSzCu4J5TgjOPJ/V2JBrjetF/wc" rel="nofollow noreferrer" title="Python 3 – TIO Nexus">Try it online!</a></p>
</div>
<div id="pu4" class="pu"><h1>Python 3, <s>133</s> <s>118</s> 117 bytes</h1>

<pre><code>i,j=int,input()
from fractions import*
print(any(i(j[k:])*i(j[:k])*~-gcd(i(j[k:]),i(j[:k]))for k in range(1,len(j))))
</code></pre>

<p>Certainly not the shortest, probably could be shortened a bit. Works in <code>O(n)</code> time. Input is taken in format <code>\d+</code> and output is given in format <code>(True|False)</code> as per default Python boolean value<br>
-3 bytes thanks to Dead Possum<br>
-15 bytes thanks to ovs<br>
-1 byte thanks to This Guy  </p>
</div>
<div id="pu5" class="pu"><h2>JavaScript (ES6), <s>74</s> <s>71</s> 70 bytes</h2>

<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>f=(s,t='',u)=&gt;u?s%t?f(t,s%t,1):t:s&amp;&amp;f(t+=s[0],s=s.slice(1),1)&gt;1|f(s,t)</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;input oninput=o.textContent=f(this.value)&gt;&lt;span id=o&gt;</code></pre>
</div>
</div>
</p>

<p>Takes input as a string, which is handy for the snippet. Edit: Saved 3 bytes thanks to @user81655.</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/JCumin/Brachylog" rel="noreferrer">Brachylog</a> (2), 8 bytes</h1>

<pre><code>~c₂ḋᵐ∋ᵐ=
</code></pre>

<p><a href="https://tio.run/nexus/brachylog2#@1@X/Kip6eGO7odbJzzqAJG2//8bGppbGgIA" rel="noreferrer" title="Brachylog – TIO Nexus">Try it online!</a></p>

<h2>Explanation</h2>

<pre><code>~c₂ḋᵐ∋ᵐ=
~c₂       Split the input into two pieces
    ᵐ ᵐ   On each of those pieces:
   ḋ ∋      Choose a prime factor
       =  such that both the chosen factors are equal
</code></pre>

<p>Clearly, if the same number (greater than 1) divides both pieces, the same <em>prime</em> number will divide both. Requiring the factor to be prime neatly disallows 1 as a factor. It also prevents a literal <code>0</code> being chosen as a segment of a number (because <code>0</code> has no prime factorization, and will cause <code>ḋ</code> to fail).</p>

<p>There's no need to check against matching internal zeroes; if a split of <code>x</code> and <code>0y</code> is valid, <code>x0</code> and <code>y</code> will work just as well (and going the other way, if <code>x0</code> and <code>y</code> works, then we have a working solution regardless of whether <code>x</code> and <code>0y</code> would work or not).</p>

<p>A Brachylog full program, like this one, returns a Boolean; <code>true.</code> if there's some way to run it without failure (i.e. to make choices such that no error occurs), <code>false.</code> if all paths lead to failure. That's exactly what we want here.</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, <s>14</s> <s>12</s> <s>11</s> 10 bytes</h1>

<pre><code>ŒṖḌo1g/€P&gt;
</code></pre>

<p><em>Thanks to @JonathanAllan for golfing off 1 byte!</em></p>

<p><a href="https://tio.run/nexus/jelly#HY0xDgJBCEVr9xQcgMQBZmBobG3tN1NbegcbGysLT@EBtDZ7kPUiI7OEBN5PePTlsX6e6/t@ofP@d32dDv17ixl97H2edrM4gmaE7IbgnhCYRWKloghE5jQgUQly4uyqPCIxVvPq3DA0hUMTMUkYdNxA9VCzDC944gEqQ7OVmaTtWebiUpO0qf0B" rel="nofollow noreferrer" title="Jelly – TIO Nexus">Try it online!</a></p>

<h3>How it works</h3>

<pre><code>ŒṖḌo1g/€P&gt;  Main link. Argument: n

ŒṖ          Compute all partitions of n's decimal digits.
  Ḍ         Undecimal; convert each array in each partition back to integer.
   o1       OR 1; replace disallowed zeroes with ones.
     g/€    Reduce (/) each (€) partition by GCD (g).
            The last GCD corresponds to the singleton partition and will always be
            equal to n. For a falsy input, all other GCDs will be 1.
        P   Take the product of all GCDs.
         &gt;  Compare the product with n.
</code></pre>
</div>
<div id="pu8" class="pu"><h1><a href="https://www.haskell.org/" rel="nofollow noreferrer">Haskell</a>, 57 bytes</h1>



<pre class="lang-hs prettyprint-override"><code>x#n|b&lt;-mod x n=x&gt;n&amp;&amp;(b&gt;0&amp;&amp;gcd(div x n)b&gt;1||x#(10*n))
(#1)
</code></pre>

<p><a href="https://tio.run/nexus/haskell#bY1BCoMwEEX3PcWAJcQyhcyMSRyoXqS4qBWKC6OUUlx4dxv33T0e/Pf3tUhbf7tO8wArpGZtkzG2b50xr@dgh/F76LJvadvWwpK7pLLcp8eYoIFhhhMALO8xfeAM02MBW1AJd1EMFVYaUdUhswgq@YBEUSmjI4@kxJWGwFlI5BC1Vu7@9zxjICRxGPK@VkWWI@44U5Bci1Hc8VSxV6mddPsP" rel="nofollow noreferrer" title="Haskell – TIO Nexus">Try it online!</a> Usage: <code>(#1) 2156</code>, returns <code>True</code> or <code>False</code></p>
</div>
<div id="pu9" class="pu"><h2>Mathematica, <s>63</s> 62 bytes</h2>

<p>(1 byte thanks to Greg Martin)</p>

<pre><code>1&lt;Max@@GCD@@@Table[1~Max~#&amp;/@Floor@{Mod[#,t=10^n],#/t},{n,#}]&amp;
</code></pre>

<p>It's a function that takes an integer as input and returns <code>True</code> or <code>False</code>. If you test it on a big number, bring a book to read while you wait.</p>

<p>Explanation:</p>

<ul>
<li><code>Floor@{Mod[#,t=10^n],#/t}</code> arithmetically splits the input into its last <code>n</code> digits and the remaining <code>m-n</code> digits (where <code>m</code> is the total number of digits).</li>
<li><code>Table[1~Max~#&amp;/@...,{n,#}]</code> does this for every <code>n</code> up to the input number. (This is way too big. We only need to do this up to the number of <em>digits</em> of the input, but this way saves bytes and still gives the correct result.) The <code>1~Max~#&amp;/@</code> bit gets rid of zeroes, so numbers like <code>130 -&gt; {13,0}</code> don't count as <code>True</code>.</li>
<li><code>1&lt;Max@@GCD@@@...</code> finds the greatest common divisor of each of these pairs, and checks if any of these divisors are more than 1. If they are, we've found a way to factor the number by splitting it.</li>
</ul>
</div>
<div id="pu10" class="pu"><h1>C, <s>145</s> <s>142</s> <s>139</s> <s>138</s> 135 bytes</h1>

<pre><code>i,a,b;f(){char s[99];scanf("%s",s);for(char*p=s;*p++;)for(b=atoi(p),i=*p,*p=0,a=atoi(s),*p=i,i=1;i++&lt;b;)*s=a%i-b%i|b%i?*s:0;return!*s;}
</code></pre>
</div>
<div id="pu11" class="pu"><h2><a href="https://drive.google.com/drive/folders/0B0R1Jgqp8Gg4cVJCZkRkdEthZDQ" rel="nofollow noreferrer">QBIC</a>, <s>91</s> 90 bytes</h2>
<pre><code>;_LA|[a-1|B=left$(A,b)┘C=right$(A,a-b)┘x=!B!┘y=!C![2,x|~(x&gt;1)*(y&gt;1)*(x%c=0)*(y%c=0)|_Xq}?0
</code></pre>
<p>Explanation:</p>
<pre><code>;               Get A$ from the command prompt
_LA|            Get the length of A$ and place it in a% (num var)
[a-1|           for b%=1; b% &lt;= a%-1; b%++
B=left$(A,b)    break A$ in two components on index b%
C=right$(A,a-b)
x=!B!┘y=!C!     Convert both parts from string to num, assign to x% and y%
[2,x|           FOR c% = 2; c% &lt;= x%; c%++

This next IF (~ in QBIC) is a bit ... iffy. It consists of a set of comparators.
Each comparator yields a -1 or a 0. We take the product of these. At any failed
comparison this will yield 0. When successful, it yields 1, which is seen as true by QBasic.

~(x&gt;1)*(y&gt;1)        IF X&gt;1 and Y&gt;1 --&gt; this stops '00' and '1' splits.
*(x%c=0)*(y%c=0)    Trial divide the splits on loop counter c%.

|_Xq            Success? THEN END, and PRINT q (which is set to 1 in QBIC)
}               Close all language constructs (2 FOR loops and an IF)
?0              We didn't quit on match, so print 0
</code></pre>
</div>
<div id="pu12" class="pu"><h2><a href="https://github.com/m-ender/retina" rel="noreferrer">Retina</a>, <s>31</s> 29 bytes</h2>

<pre><code>
,$';$`
\d+
$*
;(11+)\1*,\1+;
</code></pre>

<p><a href="https://tio.run/nexus/retina#FcqxEYAgEETRfOvAEYWAvZPDGwqwCQID@28BNftv5i/xuidyWHu4MZ6EsKNHMm2Dex5MfU512IHDG9wLRFThrAayOVEFRlAL7NPpDtF/LfKVKesL" rel="noreferrer" title="Retina – TIO Nexus">Try it online!</a></p>

<p>Outputs a positive integer for valid inputs and zero for invalid ones.</p>

<p>I wouldn't recommend waiting for the larger test cases...</p>

<h3>Explanation</h3>

<pre><code>
,$';$`
</code></pre>

<p>At each position of the input insert a comma, then everything before that position, then a semicolon, then everything after this position. What does that do? It gives us all possible splittings of a number (split by <code>,</code>, separated by <code>;</code>), and then the input again at the end. So input <code>123</code> becomes</p>

<pre><code>,123;1,23;12,3;123,;123
     ^     ^     ^
</code></pre>

<p>where I've marked the original input characters (the stuff that isn't marked is what we inserted). Note that this creates invalid splittings that aren't actual splittings and it also doesn't care whether the trailing component is all zeros, but we'll avoid accepting those later. The benefit of creating the invalid splittings is that we know that each <em>valid</em> splitting has a <code>;</code> in front and after it, so we can save two bytes on word boundaries.</p>

<pre><code>\d+
$*
</code></pre>

<p>Convert each number to unary.</p>

<pre><code>;(11+)\1*,\1+;
</code></pre>

<p>Match a splitting by matching both halves as multiples of some number that's at least 2.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/113807/">113807</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




