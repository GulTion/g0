<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::118189</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>208</td><td>Swift</td><td>240229T231103Z</td><td><a href="https://codegolf.stackexchange.com/questions/118189/may-the-first-be-with-you/271435#271435">macOSist</a></td></tr>
<tr d-ix="1"><td>234</td><td>C#</td><td>170502T213412Z</td><td><a href="https://codegolf.stackexchange.com/questions/118189/may-the-first-be-with-you/118549#118549">Leonardo</a></td></tr>
<tr d-ix="2"><td>020</td><td>05AB1E</td><td>240228T210919Z</td><td><a href="https://codegolf.stackexchange.com/questions/118189/may-the-first-be-with-you/271394#271394">Matthew </a></td></tr>
<tr d-ix="3"><td>102</td><td>Python 3.8 prerelease</td><td>240228T150544Z</td><td><a href="https://codegolf.stackexchange.com/questions/118189/may-the-first-be-with-you/271381#271381">movatica</a></td></tr>
<tr d-ix="4"><td>018</td><td>Vyxal r</td><td>240228T165408Z</td><td><a href="https://codegolf.stackexchange.com/questions/118189/may-the-first-be-with-you/271382#271382">pacman25</a></td></tr>
<tr d-ix="5"><td>256</td><td>Java 10</td><td>170501T093546Z</td><td><a href="https://codegolf.stackexchange.com/questions/118189/may-the-first-be-with-you/118234#118234">Kevin Cr</a></td></tr>
<tr d-ix="6"><td>055</td><td>Ruby</td><td>170509T202530Z</td><td><a href="https://codegolf.stackexchange.com/questions/118189/may-the-first-be-with-you/119840#119840">Value In</a></td></tr>
<tr d-ix="7"><td>214</td><td>C clang</td><td>170501T132631Z</td><td><a href="https://codegolf.stackexchange.com/questions/118189/may-the-first-be-with-you/118264#118264">cleblanc</a></td></tr>
<tr d-ix="8"><td>269</td><td>C# 269 Bytes</td><td>170503T141405Z</td><td><a href="https://codegolf.stackexchange.com/questions/118189/may-the-first-be-with-you/118688#118688">lee</a></td></tr>
<tr d-ix="9"><td>165</td><td>Python 2.7</td><td>170501T180626Z</td><td><a href="https://codegolf.stackexchange.com/questions/118189/may-the-first-be-with-you/118325#118325">wnnmaw</a></td></tr>
<tr d-ix="10"><td>171</td><td>Python 2</td><td>170503T022656Z</td><td><a href="https://codegolf.stackexchange.com/questions/118189/may-the-first-be-with-you/118575#118575">quintopi</a></td></tr>
<tr d-ix="11"><td>041</td><td>Japt</td><td>170502T195318Z</td><td><a href="https://codegolf.stackexchange.com/questions/118189/may-the-first-be-with-you/118530#118530">ETHprodu</a></td></tr>
<tr d-ix="12"><td>273</td><td>C#</td><td>170502T093027Z</td><td><a href="https://codegolf.stackexchange.com/questions/118189/may-the-first-be-with-you/118386#118386">Mayube</a></td></tr>
<tr d-ix="13"><td>061</td><td>APL Dyalog</td><td>170501T054246Z</td><td><a href="https://codegolf.stackexchange.com/questions/118189/may-the-first-be-with-you/118207#118207">Ad&#225;</a></td></tr>
<tr d-ix="14"><td>072</td><td>Flex lexer</td><td>170501T235337Z</td><td><a href="https://codegolf.stackexchange.com/questions/118189/may-the-first-be-with-you/118358#118358">rici</a></td></tr>
<tr d-ix="15"><td>035</td><td>Pyth</td><td>170501T120131Z</td><td><a href="https://codegolf.stackexchange.com/questions/118189/may-the-first-be-with-you/118250#118250">Leaky Nu</a></td></tr>
<tr d-ix="16"><td>036</td><td>Jelly</td><td>170501T081840Z</td><td><a href="https://codegolf.stackexchange.com/questions/118189/may-the-first-be-with-you/118225#118225">Jonathan</a></td></tr>
<tr d-ix="17"><td>047</td><td>MATL</td><td>170501T111846Z</td><td><a href="https://codegolf.stackexchange.com/questions/118189/may-the-first-be-with-you/118244#118244">Luis Men</a></td></tr>
<tr d-ix="18"><td>052</td><td>Perl 5</td><td>170501T094304Z</td><td><a href="https://codegolf.stackexchange.com/questions/118189/may-the-first-be-with-you/118235#118235">Dada</a></td></tr>
<tr d-ix="19"><td>088</td><td>PHP</td><td>170501T004927Z</td><td><a href="https://codegolf.stackexchange.com/questions/118189/may-the-first-be-with-you/118193#118193">J&#246;r</a></td></tr>
<tr d-ix="20"><td>033</td><td>Retina</td><td>170501T085627Z</td><td><a href="https://codegolf.stackexchange.com/questions/118189/may-the-first-be-with-you/118229#118229">Neil</a></td></tr>
<tr d-ix="21"><td>066</td><td>CJam</td><td>170501T074701Z</td><td><a href="https://codegolf.stackexchange.com/questions/118189/may-the-first-be-with-you/118220#118220">Esolangi</a></td></tr>
<tr d-ix="22"><td>088</td><td>JavaScript ES6</td><td>170501T004131Z</td><td><a href="https://codegolf.stackexchange.com/questions/118189/may-the-first-be-with-you/118192#118192">Neil</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>Swift, <s>127</s> <s>247</s> <s>225</s> <s>219</s> 208 bytes</h1>

<pre class="lang-swift prettyprint-override"><code>var b=&quot;force&quot;,c=&quot;first&quot;,a=b,d=a,x={(a=$0,d=$3,($1+&quot;&quot;).lowercased().ranges(of:$2+&quot;&quot;).map{a.replaceSubrange($0,with:zip(d,a[$0]).map{$1.isLowercase ?$0:.init($0.uppercased())})},a).3},f={x(x($0,$0,b,c),$0,c,b)}
</code></pre>
<p>Built and tested with Swift 5.9, so TIO is out of the window. <a href="https://www.jdoodle.com/ia/Yg1" rel="nofollow noreferrer">Here's a JDoodle link instead.</a></p>
<hr />
<p><strong>The following explanation is outdated, and refers to <a href="https://www.jdoodle.com/ia/XzV" rel="nofollow noreferrer">this similar, yet slightly less complicated version</a>:</strong></p>
<pre class="lang-swift prettyprint-override"><code>let f={let b=&quot;force&quot;,c=&quot;first&quot;,s=$0+&quot;&quot;,x={var a=$0+&quot;&quot;,d=$2+&quot;&quot;
s.lowercased().ranges(of:$1+&quot;&quot;).map{a.replaceSubrange($0,with:zip(d,a[$0]).map{$1.isLowercase ?$0:.init($0.uppercased())})}
return a}
return x(x(s,b,c),c,b)}
</code></pre>
<p>The current revision isn't much different in principle; the major differences are:</p>
<ul>
<li>Tuples are exploited to allow for one-line closures, which lets us use implicit <code>return</code> statements.</li>
<li>All declarations are merged into a single <code>var</code> statement.</li>
<li>The <code>s</code> variable is no longer used, and has been replaced with an extra parameter to <code>x</code>.</li>
<li>Empty strings used for type inference have been replaced with references to other strings; this saves a byte wherever it's used.</li>
</ul>
<hr />
<p>With whitespace restored:</p>
<pre class="lang-swift prettyprint-override"><code>let f = {
  let b = &quot;force&quot;, c = &quot;first&quot;, s = $0 + &quot;&quot;, x = {
    var a = $0 + &quot;&quot;, d = $2 + &quot;&quot;
    s.lowercased().ranges(of: $1 + &quot;&quot;).map {
      a.replaceSubrange($0, with: zip(d, a[$0]).map {
        $1.isLowercase ? $0 : .init($0.uppercased())
      })
    }
    return a
  }
  return x(x(s, b, c), c, b)}
</code></pre>
<h2>Explanation</h2>
<p>There's a lot to follow here, so I'll try and step you through the least Swifty Swift code I've ever written. Knowledge of Swift's intricacies is invaluable in understanding this gibberish.</p>
<blockquote>
<p>Fair warning: Most of the identifiers used here are completely arbitrary.</p>
</blockquote>
<h3>Line 1</h3>
<pre class="lang-swift prettyprint-override"><code>let f = { /* ... */ }
</code></pre>
<p>Since function declarations are generally not small, I've opted for a closure instead, so that the compiler can infer the parameter and return types. Plus, this means we don't have any pesky argument labels to deal with.</p>
<h3>Line 2</h3>
<pre class="lang-swift prettyprint-override"><code>let b = &quot;force&quot;, c = &quot;first&quot;, s = $0 + &quot;&quot;, x = { /* ... */ }
</code></pre>
<p><code>b</code> and <code>c</code> are simply there to shave off a few bytes, since I use each of those strings twice.</p>
<p><code>s</code> serves a dual purpose. It lets me use the closure parameter (the original string) inside of more closures, since implicit closure parameters can only be used one level deep; and concatenating <code>&quot;&quot;</code> to it lets the type checker know that it's a <code>String</code>, meaning I don't have to specify that directly.</p>
<p><code>x</code> is simply another closure definition. It takes three parameters:</p>
<ul>
<li>the string to replace characters in</li>
<li>the search string</li>
<li>the replacement string</li>
</ul>
<h3>Line 3</h3>
<pre class="lang-swift prettyprint-override"><code>var a = $0 + &quot;&quot;, d = $2 + &quot;&quot;
</code></pre>
<p><code>a</code> is there so I have a mutable copy of the string to work with. I also use the trick I used with <code>s</code> above to help out the type checker.</p>
<p><code>d</code> serves the same purpose as <code>s</code> above (except for it being used differently, of course).</p>
<h3>Line 4</h3>
<pre class="lang-swift prettyprint-override"><code>s.lowercased().ranges(of: $1 + &quot;&quot;).map { /* ... */ }
</code></pre>
<p>This lowercases the original string (to effectively make the substring search case insensitive) before finding all ranges containing the search string (<code>$1</code>, with <code>&quot;&quot;</code> appended to assist the type checker). These ranges allow us to refer to discovered words in the string even after we start replacing them.</p>
<p>The call to <code>map</code> here serves the same purpose as a <code>for</code>-<code>in</code> loop, just with less bytes (and a warning since we don't use the result -- if you don't want a warning, replace <code>map</code> with <code>forEach</code>).</p>
<h3>Line 5</h3>
<pre class="lang-swift prettyprint-override"><code>a.replaceSubrange($0, with: zip(d, a[$0]).map { /* ... */ }
</code></pre>
<p>This line does the actual replacing. In this method call, <code>$0</code> is one of the ranges containing a word we want to replace. <code>a[$0]</code> gets the actual contents of the string in that range.</p>
<blockquote>
<p><code>replaceSubrange(_:with:)</code> unfortunately does not have a non-<code>mutating</code> counterpart, which is why we declare <code>a</code> above as a <code>var</code> instead of a <code>let</code>.</p>
</blockquote>
<p>The call to <code>zip</code> allows us to iterate over the original string and the replacement string simultaneously, allowing us to keep case unchanged. Speaking of which...</p>
<h3>Line 6</h3>
<pre class="lang-swift prettyprint-override"><code>$1.isLowercase ? $0 : .init($0.uppercased())
</code></pre>
<p>Here, <code>$1</code> is a character from the original string, and <code>$0</code> is the corresponding character from the replacement string.</p>
<ul>
<li>If <code>$1</code> is lowercase, we return <code>$0</code> unchanged (since I hardcoded the replacement strings to be lowercase).</li>
<li>If <code>$1</code> is uppercase (or if it isn't cased at all), we return the result of uppercasing <code>$0</code> (if it isn't cased, this call does nothing).</li>
</ul>
<blockquote>
<p>We have to wrap the call to <code>uppercased()</code> in a call to <code>Character.init(_:)</code> since <code>uppercased()</code> on <code>Character</code> returns a <code>String</code> (blame Swift's Unicode support).</p>
</blockquote>
<h3>Line 9</h3>
<pre class="lang-swift prettyprint-override"><code>return a
</code></pre>
<p>The only line of this program that actually makes sense.</p>
<h3>Line 11</h3>
<pre class="lang-swift prettyprint-override"><code>return x(x(s, b, c), c, b)
</code></pre>
<blockquote>
<p>Remember: <code>b == &quot;force&quot;</code>, and <code>c == &quot;first&quot;</code>.</p>
</blockquote>
<ul>
<li>We call our closure with the original string first, telling it to replace <code>&quot;force&quot;</code> with <code>&quot;first&quot;</code>.</li>
<li>We then call the closure again with the result, and replace <code>&quot;first&quot;</code> with <code>&quot;force&quot;</code>.
<blockquote>
<p>We avoid replacing words we've already replaced by referencing the original, unmodified string when finding ranges.</p>
</blockquote>
</li>
<li>Finally, we return the result of <em>that</em> and leave the miniature catastrophe that is the <code>f</code> closure.</li>
</ul>
<h2>But why, tho?</h2>
<p>I've probably overcomplicated a good chunk of this program, but if we're being honest here, Swift was not designed with code golfing in mind. Still, that's what makes golfing fun in the first place!</p>
</div>
<div id="pu1" class="pu"><h1>C#, 234 bytes</h1>

<pre class="lang-cs prettyprint-override"><code>string a(string s){var l=s.ToLower();int f=l.IndexOf(&quot;first&quot;),F=l.IndexOf(&quot;force&quot;),m=f&lt;F&amp;f&gt;-1?f:F&gt;-1?F:f;return ++m&gt;0?s.Substring(0,m)+(char)(s[m]^6)+s[m+1]+(char)(s[m+2]^16)+(char)(s[m+3]^17)+(s.Length-m&gt;5?a(s.Substring(m+4)):&quot;&quot;):s;}
</code></pre>
<p><a href="https://tio.run/##jVJRa8IwEH7frzj6MBqqxermoJ36IBYERWgLe3AVak1soE1GkupE/O1dW7W4J5uHS@7Ld3f57hLLbsYZL@I0khKW5xcAqSJFYyikEpTtIdJvB4nOh0hAOpJmwBf8iIWOHMoUkFFqztkO/66IrhEqpNJQx/0HchHjEsxG5NN9JeOuNSG2W22uTRyBVS4YGEY27k2k6efba0W918mQocdJJJAu11m4GSKj3A0rfECNfrixho88Y1AiHyUizQVme5V0s/H7pNTxkDoz3hCyNQ3Z0rkUAD/5Ni1F37QfON3BMqLspn0dVurL3gD4J6lwZk45kzzF5pegCi8ow3qka@5VJnKeM69dasEk3GuZk1Cvbc6ViGftmHMhg1bM77xXrtpate3XdqASDHVfgBOonOqDtEu5jE5NhIIthiNVCZx43ib6SXyL8kEVOhe@ur@8HlojY@VNZ83N3PODxuHe9D6xy8ul@AM" rel="nofollow noreferrer" title="C# (Mono C# compiler) – Try It Online">Try it online!</a></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E" rel="nofollow noreferrer">05AB1E</a>, <s>21</s> 20 bytes</h1>
<pre><code>„€Û‹›#`UVlY¡XY:Xý¹.Ï
</code></pre>
<p><a href="https://tio.run/##ATwAw/9vc2FiaWX//@KAnuKCrMOb4oC54oC6I2BVVmxZwqFYWTpYw73CuS7Dj///Rmlyc3Rmb1JjZWZJcnNU//8" rel="nofollow noreferrer" title="05AB1E – Try It Online">Try it online!</a></p>
<p>I could not figure out a way of doing this shorter without using variables, so here we are.  I'm sure someone more versed with stack manipulation can figure it out</p>
<p>How?</p>
<pre><code>„€Û‹›#`UVlY¡XY:Xý¹.Ï
„€Û‹›#`UV               X = &quot;first&quot; Y=&quot;force&quot;
         l              Lower case the input
          Y¡            Split on &quot;force&quot;
            XY:         Replace &quot;first&quot; with &quot;force&quot;
               Xý       Join on &quot;first&quot;
                 ¹.Ï    Apply capitalization of input
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://docs.python.org/3.8/" rel="nofollow noreferrer">Python 3.8 (pre-release)</a>, <s>113</s> 102 bytes</h1>
<p><em>-11 bytes thanx to naffetS</em></p>

<pre class="lang-python prettyprint-override"><code>lambda s:re.sub(&quot;(?i:first|force)&quot;,lambda m:m[0].translate(' tf Io RCE i  rceS TF  Os'*9),s)
import re
</code></pre>
<p><a href="https://tio.run/##LY09C8IwFAB3f8WjSxMpRXDRgjiIgU6Ftps6pJrQQPPBy@sg@N@jLa7HcRfeNHq3PwRM@nRPk7TDS0KsUJVxHljGzqbSBiN9tMen4lnxV2xlb7tHSShdnCQplgNpqD20lysYgJ/cQS8Amphvj7yIfGNs8EiAKgU0jphmxoWZGOc80ahgPYhmCXgNK1nOom67/gs" rel="nofollow noreferrer" title="Python 3.8 (pre-release) – Try It Online">Try it online!</a></p>
<p><em>Inspired by <a href="https://codegolf.stackexchange.com/a/118575/86751">quintopias answer</a>.</em></p>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal/tree/version-2" rel="nofollow noreferrer">Vyxal</a> <code>r</code>, <s>21 20 19</s> 18 bytes</h1>
<pre><code>⇩1∆o‛°⇩&quot;JḂǓ&quot;ƛ÷V;•F
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2&amp;c=1#WyJBciIsIiIsIuKHqTHiiIZv4oCbwrDih6lcIkrhuILHk1wixpvDt1Y74oCiRiIsIiIsIlwiRm9yY2Vmb1JjZWZPcmNFXCJcblwiRmlyc3RmaVJzdGZJcnNUXCJcblwidGhpcnN0cyBvZiBmaXJzdHNcIiJd" rel="nofollow noreferrer">Try it Online!</a></p>
<p>Neat. String compression helps here but honestly the hard part was figuring out how to set up the lists with minimal repetition.</p>
<p>-1 because I never actually use the register in my final answer</p>
<p>-1 by switching the last two elements to remove the duplication</p>
<p>-1 again for redoing how the lists are created</p>
<pre><code>⇩1∆o‛°⇩&quot;JḂǓ&quot;ƛ÷V;•F­⁡​‎‎⁪⁡⁪⁠⁪⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁪‏‏​⁡⁠⁡‌⁢​‎‎⁪⁡⁪⁠⁪⁢⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁣⁪‏‏​⁡⁠⁡‌⁣​‎‎⁪⁡⁪⁠⁪⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁤⁪‏⁠‎⁪⁡⁪⁠⁪⁣⁡⁪‏‏​⁡⁠⁡‌⁤​‎‎⁪⁡⁪⁠⁪⁣⁢⁪‏‏​⁡⁠⁡‌⁢⁡​‎‎⁪⁡⁪⁠⁪⁣⁣⁪‏‏​⁡⁠⁡‌⁢⁢​‎‎⁪⁡⁪⁠⁪⁣⁤⁪‏‏​⁡⁠⁡‌⁢⁣​‎‎⁪⁡⁪⁠⁪⁤⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁤⁪‏‏​⁡⁠⁡‌⁢⁤​‎‎⁪⁡⁪⁠⁪⁤⁢⁪‏⁠‎⁪⁡⁪⁠⁪⁤⁣⁪‏⁠⁪⁪‏​⁡⁠⁡‌⁣⁡​‎‎⁪⁡⁪⁠⁪⁢⁡⁡⁪‏⁠‎⁪⁡⁪⁠⁪⁢⁡⁢⁪‏‏​⁡⁠⁡‌­
 1∆o                # ‎⁡&quot;first&quot;
    ‛°⇩             # ‎⁢&quot;force&quot;
⇩      &quot;J           # ‎⁣pair the two and append the lowercase input
         Ḃ          # ‎⁤push [&quot;force&quot;, &quot;first&quot;, input] and its reverse
          Ǔ         # ‎⁢⁡rotate the reverse so its in the order [&quot;first&quot;, &quot;force&quot;, input]
           &quot;        # ‎⁢⁢pair the two
            ƛ  ;    # ‎⁢⁣map over each list
             ÷V     # ‎⁢⁤replacement of first/force
                •F  # ‎⁣⁡copy capitalization of input and remove the one identical to the input
💎
</code></pre>
<p>Created with the help of <a href="https://vyxal.github.io/Luminespire" rel="nofollow noreferrer">Luminespire</a>.</p>
</div>
<div id="pu5" class="pu"><h1>Java 10, <s>318</s> <s>310</s> <s>284</s> <s>279</s> <s>277</s> <s>271</s> 256 bytes</h1>

<pre class="lang-java prettyprint-override"><code>String c(String s){var x=s.toLowerCase();int i=x.indexOf(&quot;force&quot;)+1,j=x.indexOf(&quot;first&quot;)+1,t=i&gt;0&amp;j&gt;i|j&lt;1?1:-1;var y=s.toCharArray();return-j&lt;i?s.substring(0,i=t&lt;0?j:i)+(y[i++]-=t*6)+y[i++]+(y[i++]+=t*16)+(y[i++]+=t*15)+c(s.length()&gt;i?s.substring(i):&quot;&quot;):s;}
</code></pre>
<p>-34 bytes thanks to <em>@ceilingcat</em>.</p>
<p><a href="https://tio.run/##hZFNb8IwDIbv/AqrhylZR0U3jQOloAltEtIQUuHGOISSDnesmRKXUTF@O2vDh8SF5mDFzuvXyZNUbEQzXX4d4rUwBkYCs10DwJAgjOEwIY3ZJ8TstDF8txEatqHxSL2rX6kHwkjGA8wIMNx6mC3ldpwwJ1E6lg53/Yf0qozakC1TiL3WXdrDv7Tr9/1O0w8q68JaD1ZCv2gtitJaS8p11ky72DeeyRfGXoW1HjCkbqufdpC7rJih686bId23uXtMzkW3LPptfpU@czdmxlvL7JNWjPeurZF3HId3TLA/BI2Sxk@@WJc0TlA2CpfwXYI6QZnNQfAKGsCkMCS/PZWT91Me0TpjMXPejih4cEtz5HJTk6io1ifBqN5nrOPXOs1Qm2mN5iNvlctG38ZHG59oJcG@GVQCVVJ9ep3ZSBQXLcFCwi/SCgqV1/RNq56hntB5mCV5mTyOBq@Xk2E0mV4SFQ1qYNbcyrbuG/vDPw" rel="nofollow noreferrer">Try it online.</a></p>
<p><strong>Explanation:</strong></p>
<pre class="lang-java prettyprint-override"><code>String c(String s){                     // Recursive method with String as both parameter and return-type
  var x=s.toLowerCase();                //  Temp String as lowercase of the input
  int i=x.indexOf(&quot;force&quot;)+1,           //  Index of &quot;force&quot; + 1 (becomes 0 if NOT present; &gt;=1 if it is present)
      j=x.indexOf(&quot;first&quot;)+1,           //  Index of &quot;first&quot; + 1 (becomes 0 if NOT present; &gt;=1 if it is present)
      t=i&gt;0&amp;j&gt;i|j&lt;1?1:-1;               //  Temp integer: -1 if &quot;force&quot; is found first; 1 if &quot;first&quot; is found first
  var y=s.toCharArray();                //  Convert the string to a character-array
  return-j&lt;i?                           //  If either &quot;force&quot; or &quot;first&quot; is found:
    s.substring(0,i=t&lt;0?j:i)            //   Return the substring before that (if any) + ('f' or 'F')
     +(y[i++]-=t*6)                     //   + 'i'↔'o' or 'I'↔'O'
     +y[i++]                            //   + 'r' or 'R'
     +(y[i++]+=t*16)                    //   + 's'↔'c' or 'S'↔'C'
     +(y[i++]+=t*15)                    //   + 't'↔'e' or 'T'↔'E'
     +c(s.length()&gt;i?s.substring(i):&quot;&quot;) //   + a recursive call for the rest of the input-String (if any)
   :                                    //  Else:
    s;}                                 //   Return the input-String as is
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 55 bytes</h1>



<pre class="lang-ruby prettyprint-override"><code>gsub(/first|force/i){$&amp;.tr(s="iIsStTEeCcOo",s.reverse)}
</code></pre>

<p><a href="https://tio.run/nexus/ruby#U1YsKk2qVNAt@J9eXJqkoZ@WWVRcUpOWX5Scqp@pWa2ipldSpFFsq5TpWRxcEuKa6pzsn6@kU6xXlFqWWlScqln7/z9YsUJJRqqCm2dQcIiCG4jvllkUXKIANA1onAJQhbMrAA" rel="nofollow noreferrer" title="Ruby – TIO Nexus">Try it online!</a></p>
</div>
<div id="pu7" class="pu"><h1><a href="http://clang.llvm.org/" rel="nofollow noreferrer">C (clang)</a>, <s>201</s> <s>183</s> <s>226</s> 214 bytes</h1>

<p>Had some bugs...
Still needs to be golfed down quite a lot</p>

<p>(saved 12 thanks to ceilingcat)</p>



<pre class="lang-c prettyprint-override"><code>char*s,*p,*q;main(i,v)char**v;{puts(s=v[1]);do{p=strcasestr(s,"first");q=strcasestr(s,"force");if(p&amp;&amp;(!q|p&lt;q))p[1]+=6,p[3]-=16,p[4]-=15;else if(q)q[1]-=6,q[3]+=16,q[4]+=15;s=p&amp;&amp;(!q|p&lt;q)?p:q;}while(s++);puts(v[1]);}
</code></pre>

<p><a href="https://tio.run/nexus/c-clang#XY6xTwMhHIX/FbyhgYMbatVBSjp5iYNL7WKaDoickFwL3I9eY2r/bFcRzsU4vZeXLy9fUkYONbDaszrwvbQHbNlIprUe@dkfI2AQ43a@I/zNnb2AOCgJOgcGVnV2gFgRHv7vblA677bDfjbDV@HTLwMhPv9Qccf8drFrxLyUm1Juue5Bo0wHEjLTZCZkhhYmZIYWBsSfr5W/D/xyMrbXGCglfFL9Fb2klKon@YGi0ah1a6XRq0YnGw16cUfkOtRm7w2SERXRh/Zx/byZqobqW3W9fIfU7BfXXwfXKKmM/gE" rel="nofollow noreferrer" title="C (clang) – TIO Nexus">Try it online!</a></p>
</div>
<div id="pu8" class="pu"><p><strong>C# (269 Bytes)</strong></p>

<pre><code>string s(string z){var u=z.ToUpper();var a=new[]{"FIRST","FORCE"};return String.Join("",u.Split(a,StringSplitOptions.None).Aggregate((c,n)=&gt;c+(u.Substring(c.Length,5)==a[0]?a[1]:a[0])+n).Select((c,i)=&gt;Char.IsLower(z[i])?Char.ToLower(c):c));}
</code></pre>

<p>yet another c# solution, only the second-smallest because I declared two variables and so can't use lambda syntax. oh well, I had fun. :)</p>

<p>explanation: </p>

<ul>
<li><p>upshift the original string, then split on "FORCE" and "FIRST". </p></li>
<li><p>aggregate
the results and on every split, find the five-character substring that was used to split the original string using the length so far of the string being
aggregated. if it was "force" make it "first" and vice versa </p></li>
<li>select all the characters of the newly created all caps string and
check if the original string was lowercase at the same index. if yes, return lowercased character at that index in the new string, otherwise return the uppercase character</li>
</ul>
</div>
<div id="pu9" class="pu"><h1>Python 2.7, <s>173</s> 165 bytes</h1>
<p>8 bytes saved by quintopia</p>
<p>This one got gross:</p>
<pre><code>lambda S:`[(t[0],t[0].upper())[t[1]]for t in zip(&quot;&quot;.join(&quot;first&quot;.join(s.replace(&quot;first&quot;,&quot;force&quot;)for s in S.lower().split(&quot;force&quot;))),[l.isupper() for l in S])]`[2::5]
</code></pre>
<p><a href="https://tio.run/nexus/python2#RY5NC8IwDIbv@xWhpxZKUcHLYEe9Cu5YCtatZZW6ljYy8M/PdijmkI@XPHmz2s7r533U0Lc3SVHuFK9JvGI0iTImUe6VsiEBgpvh7SIlRDyCmymxLmX8DlkkE70ezE/mpECDIayyubK98GGpR0WO3iH9LTDGpRcufy2hAn4DFFM3eWjbo1p76ECScyVsuJZ0ScOpmOBU3SBY2K5lwmHTRkBT9EFnA4vDKbwQTKkmwRLSSFTz/6ttoERMbkawNDNe9K4rbR3Y@gE" rel="nofollow noreferrer">Try it online</a></p>
<p>Breaking it down step by step:</p>
<ol>
<li><code>S.lower().split(&quot;force&quot;)</code>: take the string, unify to lowercase, split into substrings separated by <code>&quot;force&quot;</code></li>
<li><code>s.replace(&quot;first&quot;,&quot;force&quot;)for s in &lt;STEP 1&gt;</code>: Replace all <code>&quot;first&quot;</code>'s with <code>&quot;force&quot;</code></li>
<li><code>_`.join(&quot;first&quot;.join(&lt;STEP 2&gt;)`[2::5]`_</code>: replace all <code>&quot;force&quot;</code>'s with <code>&quot;first&quot;</code> by recombining the <code>&quot;force&quot;</code> delineated substrings with <code>&quot;first&quot;</code> and rejoin into single string (underscores added to get tick marks correct)</li>
<li><code>zip(&lt;STEP 3&gt;,[(2,1)[l.isupper()]for l in S])</code>: zip each character of replaced phrase with case encoding of original string (2 for lowercase, 1 for uppercase)</li>
<li><code>_`[(t[0],t[0].upper())[t[1]==1]for t in &lt;STEP 4&gt;]`[2::5]`_</code>: Restore original casing, converts list to string (underscores added to get tick marks correct)</li>
</ol>
</div>
<div id="pu10" class="pu"><h1>Python 2, 171 bytes</h1>

<p>I wanted to try to do this using built-ins, but it can't beat the messy method with all the splitting and zipping.</p>

<pre><code>import re,string as g
def f(s):f="istISTECOeco";l=re.split("(first|force)",s,0,re.IGNORECASE);l[1::2]=[t.translate(g.maketrans(f,f[::-1]))for t in l[1::2]];print"".join(l)
</code></pre>

<p>I think it's pretty clear what I'm doing here. Split the string on instances of first and force (case-insensitive), replace those instances with versions translated using str.translate, and join it back into a string again.</p>

<p><a href="https://tio.run/nexus/python2#LY4xa8MwFIT3/oqHJglUE6ebjIcS3JIlgSSbY4Jw3nPVKpKRXsjS/@46pjd8cBx33ORuY0wMCXXm5MIANsPwckUCklkZqoXLvD2ems0e@ygqXycs8ugdSyHJpcy/FFOPSuisV3oOt5@7/aHZvB8bVfm2NGbd1S0XnGzI3jLKobjZH1y8JE2tMa9lp9Q8AwwuwH@pq8b5EAtRfEcXpFcTyWQfFxfGO0ulpvN9NWthuXC98I2/ED7ioUeIBE/zvHn6Aw" rel="nofollow noreferrer" title="Python 2 – TIO Nexus">Try it online!</a></p>
</div>
<div id="pu11" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, 41 bytes</h1>

<pre><code>r"first|force"_d"i1o s1c t1e"¸m²®+ZuÃq}'i
</code></pre>

<p><a href="https://tio.run/nexus/japt#@1@klJZZVFxSk5ZflJyqFJ@ilGmYr1BsmKxQYpiqdGhH7qFNh9ZpR5Uebi6sVc/8/1@pJCNVwQ2kViE/TQHEAWkPUQIA" rel="nofollow noreferrer" title="Japt – TIO Nexus">Try it online!</a></p>

<p>This would be considerably shorter if Japt had a sane transliterate function...</p>

<p>Alternate version:</p>

<pre><code>r"first|force"_d"io sc te"¸®¬¸²Ã®+ZuÃq}'i
</code></pre>

<p><a href="https://tio.run/nexus/japt#@1@klJZZVFxSk5ZflJyqFJ@ilJmvUJysUJKqdGjHoXWH1gDJTYebD63Tjio93FxYq575/79SSUaqghtIvUJ@mgKIAzIiRAkA" rel="nofollow noreferrer" title="Japt – TIO Nexus">Try it online!</a></p>
</div>
<div id="pu12" class="pu"><h1>C# 273 bytes</h1>

<pre><code>string c(string s){var x=s.ToLower();int i=x.IndexOf("force")+1,j=x.IndexOf("first")+1,t=i&gt;0&amp;j&gt;i?0:j&gt;0?1:0;return i&gt;0|j&gt;0?s.Substring(0,t&gt;0?(i=j):i)+(char)(s[i++]-(t&gt;0?-6:6))+s[i++]+(char)(s[i++]+(t&gt;0?-16:16))+(char)(s[i++]+(t&gt;0?-15:15))+c(s.Length&gt;i?s.Substring(i):""):s;}
</code></pre>

<p><a href="https://tio.run/nexus/cs-mono#jVJNi8IwEL37K4YeloRqaXfRQ0v1IC4UFKEV9uB6qDW1U9xmSVI/cP3tbj@0rLBgcxgy772ZTF4S7UIpYXbuAEgVKozgKpXAbAsRuW0kPe9DAUdXGgs@5QcmCHUwU4Du0fCyDTvOY6LFXERMo7rVTR9gFFJVsHJxaL6kQxyZdjo0R5ZtOoKpXGRQED8lJI0gX9enErOrCoSgm1IbqU6iJBSUyCXq@qpHSq43sAeU6jX0KNBrgTWwrVLyL9e3rX7BFdc0pizbqqSY7O8ASG1No7Z0LleA73y9K7y5WbTnuIFZiNnNouUKQlpaCBCcpGJfxphnku@Y8SFQsSlmjEREe68tos5zZe1aC2XM/ZY9Y/Tb9pyLaNJO6Qm5aKX8zM1iVdGq4msV31TCoPIFeAxlUn6Ydi1n4ampULBmcECVwInnbaqf1Lc4flGWeiJQ98mrR2uuMffHk4bx/GDRJNwf31/s0rlcfwE" rel="nofollow noreferrer" title="C# (Mono) – TIO Nexus">Try it online!</a></p>

<p>Direct port of <a href="https://codegolf.stackexchange.com/a/118234/44998">Kevin Cruijssen's Java answer</a>, turns out when it comes to getting the char in a string at a given index, C# is much golfier than java (<code>s[i++]</code> instead of <code>s.charAt(i++)</code>)</p>
</div>
<div id="pu13" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog)</a>, 61 bytes</h1>



<p>Requires <code>⎕IO←0</code> which is default on many systems. Can be four <em>characters</em> shorter using the Unicode symbol <code>⍠</code> instead of <code>⎕OPT </code>.</p>

<pre class="lang-apl prettyprint-override"><code>(t←'force' 'first')⎕R{(m∊⎕A)c¨t⊃⍨~t⍳(c←819⌶)⊂m←⍵.Match}⎕OPT 1
</code></pre>

<p><a href="https://tio.run/nexus/apl-dyalog#U9Z71DfV0/9R2wSD/2lAUqMESKin5Rclp6orqKdlFhWXqGsClQRVa@Q@6ugCshw1kw@tKHnU1fyod0VdyaPezRrJQC0WhpaPerZpPupqygXyHvVu1fNNLEnOqAVq8A8IUTD8/z9NQd0NbCwXiAU2GMRKyw@CiqVlBsHE/IuSXSEsz6LiEBDL3NAUZIG6UkypARCASUMwaQQmjUsyUhXA5ivkpymAOCC3hygRrxfkIrheoEGuQL0A" rel="nofollow noreferrer" title="APL (Dyalog Unicode) – TIO Nexus">Try it online!</a></p>
</div>
<div id="pu14" class="pu"><h1>Flex (lexer), 72 bytes</h1>
<pre><code>%%
 #define x(a) yytext[a]^=
(?i:first|force) x(1)6;x(3)16;x(4)17;ECHO;
</code></pre>
<p>To compile and run:</p>
<pre><code>flex first.l
gcc lex.yy.c -lfl # -ll on Macs, apparently
./a.out
</code></pre>
</div>
<div id="pu15" class="pu"><h1><a href="https://github.com/isaacg1/pyth" rel="nofollow noreferrer">Pyth</a>, <s>36</s> 35 bytes</h1>

<pre><code>K"first"srVjJ"force"mjKcdJcr0QKqVr1
</code></pre>

<p><a href="http://pyth.herokuapp.com/?code=K%22first%22srVjJ%22force%22mjKcdJcr0QKqVr1&amp;input=%22The+fIrSt+of+the+First+of+the+fORCE+of+the+FIRST+of+the+FoRCe%22&amp;debug=0" rel="nofollow noreferrer">Try it online!</a></p>

<p>Pyth is not especially good at string manipulations.</p>
</div>
<div id="pu16" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, <s>37</s> 36 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>

<p><em>Is there is a way to use a reduce across slices of length 5 instead?</em></p>

<pre><code>®‘©ị“Ɓu“¡Ḣƭ»
Œlœṣ¢œṣ€¢j€¢j¢Œu⁸=ŒuT¤¦
</code></pre>

<p><strong><a href="https://tio.run/nexus/jelly#@39o3aOGGYdWPtzd/ahhzrHGUiB5aOHDHYuOrT20m@vopJyjkx/uXHxoEZh61LTm0KIsCAkUmlT6qHGHLZAKObTk0LL///8ruWUWFZcolGSkKqSBWWn5RcmpEDJFwc0/yNlVCQA" rel="nofollow noreferrer">Try it online!</a></strong></p>

<h3>How?</h3>

<pre><code>®‘©ị“Ɓu“¡Ḣƭ» - Link 1 helper that fetches the next word to use: no arguments
®            - recall value from register (initially zero)
 ‘           - increment
  ©          - place the result into the register
    “Ɓu“¡Ḣƭ» - literal dictionary compressed string list ["first","force"]
   ị         - index into (1-indexed and modular)
             - so this link first yields "first", then "force", then "first" and so on.

Œlœṣ¢œṣ€¢j€¢j¢Œu⁸=ŒuT¤¦ - Main link: list of characters, S
Œl                      - convert S to lower case
  œṣ                    - split on sublists equal to:
    ¢                   -   call the last link (1) as a nilad ("first")
     œṣ€                - split €ach on sublists equal to:
        ¢               -   call the last link (1) as a nilad ("force")
         j€             - join €ach with:
           ¢            -   call the last link (1) as a nilad ("first")
            j           - join with:
             ¢          -   call the last link (1) as a nilad ("force")
                      ¦ - apply a link to sparse indices:
              Œu        -   convert to upper case
                     ¤  -   nilad followed by link(s) as a nilad:
                ⁸       -     chain's left argument, S
                  Œu    -     convert to upper case
                 =      -     equal to S? (vectorises)
                    T   -     truthy indexes (indexes at which input is upper case)
</code></pre>
</div>
<div id="pu17" class="pu"><h1><a href="https://github.com/lmendo/MATL" rel="nofollow noreferrer">MATL</a>, 47 bytes</h1>

<pre><code>5W:qB!"o['first';'force']@!32*-cZ}_Zt5M_6MoZt|c
</code></pre>

<p><a href="https://tio.run/nexus/matl#@28ablXopKiUH62elllUXKJurZ6WX5Scqh7roGhspKWbHFUbH1Vi6htv5psfVVKT/P@/um9ipUJJRqqCG1Cdq0JSqkJ5ZkmGQmV@qUJ@HlgizRNokEJ@mgJQpToA" rel="nofollow noreferrer" title="MATL – TIO Nexus">Try it online!</a></p>

<p>This uses negative values as the intermediate step, and after the two passes it takes the absolute value.</p>
</div>
<div id="pu18" class="pu"><h1><a href="https://www.perl.org/" rel="noreferrer">Perl 5</a>, 52 bytes</h1>

<p>51 bytes of code + <code>-p</code> flag.</p>



<pre class="lang-perl prettyprint-override"><code>s%first|force%$&amp;=~y/oceOCEistIST/istISToceOCE/r%eig
</code></pre>

<p><a href="https://tio.run/nexus/perl5#U1YsSC3KUdAt@F@smpZZVFxSk5ZflJyqqqJmW1epn5@c6u/smllc4hkcog@hIEL6Raqpmen//4dkpCq45Rc5uyokJ@amKqRlBhWHAAA" rel="noreferrer" title="Perl 5 – TIO Nexus">Try it online!</a></p>

<p>Nothing too crazy going on. Find the occurrences of <code>force</code> and <code>first</code> non-case-sensitive (<code>s%force|first%%gi</code>), and then transliterates the characters to convert one to the other.</p>
</div>
<div id="pu19" class="pu"><h1>PHP, 88 Bytes</h1>

<p><a href="http://sandbox.onlinephpfunctions.com/code/7e93753dcfb53bde47d01c4cacfb3abaeaa1a1c6" rel="nofollow noreferrer">Online Versions</a></p>

<pre><code>&lt;?=preg_replace_callback("#first|force#i",function($t){return$t[0]^first^force;},$argn);
</code></pre>

<h1>PHP, 110 Bytes</h1>

<pre class="lang-php prettyprint-override"><code>&lt;?=preg_replace_callback("#first|force#i",function($t){return strtr($t[0],iIsStToOcCeE,oOcCeEiIsStT);},$argn);
</code></pre>
</div>
<div id="pu20" class="pu"><h1><a href="https://github.com/m-ender/retina" rel="noreferrer">Retina</a>, 33 bytes</h1>

<pre><code>iT`\OC\E\ocetsiTSI`Ro`first|force
</code></pre>

<p><a href="https://tio.run/nexus/retina#@58ZkhDj7xzjGpOfnFpSnBkS7JkQlJ@QlllUXFKTll@UnPr/v29ipUJJRqqCG4irkJSqUJ5ZkqFQmV8KAA" rel="noreferrer" title="Retina – TIO Nexus">Try it online!</a></p>

<p>Edit: Saved 5 bytes thanks to @MartinEnder for pointing out what <code>Ro</code> does.</p>
</div>
<div id="pu21" class="pu"><h2>CJam, 66 bytes</h2>

<pre><code>qY5m*_"force"{f{_eu}3/:z{~?}f%}:K~\"first"K.{[\]:P~@\/\f/P~@\f*\*}
</code></pre>

<p>Goes through every case variation of "first" and "force" and tries to split on it. If it can, it then joins it back with the reverse words.</p>

<p>Pseudocode:</p>



<pre class="lang-python3 prettyprint-override"><code>input_chars = list(read_all_input()) # CJam: q
power = cartesian_power(2, 5) # CJam: Y4m*_
def case_variations(s): # CJam: {...}:K
    temp0 = [[i, j, upper(j)] for i, j in zip(power, s)] # CJam: f{_eu}3/
    temp1 = map(transpose, temp0) # CJam: :z
    ret = []
    for i in ret:
        for j in i: # CJam: {...}f%
            ret.append(j[1] if j[0] else j[2]) # CJam: ~?
    return ret
force_var = K("force") # CJam: "force"{...}:K~
first_var = K("first") # CJam: \"first"K
for force, first in zip(force_var, first_var): # CJam: .{...}
    current = [force, first] # CJam: [\]:P~
    input_chars = list_split(input_chars, force) # CJam: @\/
    input_chars = [list_split(i, first) for i in input_chars] # CJam: \f/
    input_chars = [list_join(i, force) for i in input_chars] # CJam: P~@\f*
    input_chars = list_split(input_chars, first) # CJam: \*
</code></pre>
</div>
<div id="pu22" class="pu"><h2>JavaScript (ES6), <s>93</s> 88 bytes</h2>

<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>f=
s=&gt;s.replace(/force|first/gi,s=&gt;s.replace(/./g,c=&gt;s[s.search(c)^1]||c,s="oicsetOICSET"))</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;textarea oninput=o.textContent=f(this.value)&gt;&lt;/textarea&gt;&lt;pre id=o&gt;</code></pre>
</div>
</div>
</p>

<p>Edit: Saved 5 bytes by optimising the unchanged letter case.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/118189/">118189</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




