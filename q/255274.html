<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::255274</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>018</td><td>Pip p</td><td>221207T010210Z</td><td><a href="https://codegolf.stackexchange.com/questions/255274/cgac2022-day-7-fen-the-wicked/255278#255278">jezza_99</a></td></tr>
<tr d-ix="1"><td>045</td><td>JavaScript Node.js</td><td>221216T175504Z</td><td><a href="https://codegolf.stackexchange.com/questions/255274/cgac2022-day-7-fen-the-wicked/255588#255588">l4m2</a></td></tr>
<tr d-ix="2"><td>077</td><td>Python</td><td>221216T141146Z</td><td><a href="https://codegolf.stackexchange.com/questions/255274/cgac2022-day-7-fen-the-wicked/255581#255581">Ginger</a></td></tr>
<tr d-ix="3"><td>013</td><td>Ohm v2</td><td>221216T072023Z</td><td><a href="https://codegolf.stackexchange.com/questions/255274/cgac2022-day-7-fen-the-wicked/255568#255568">lyxal</a></td></tr>
<tr d-ix="4"><td>038</td><td>Halfwit</td><td>221216T043915Z</td><td><a href="https://codegolf.stackexchange.com/questions/255274/cgac2022-day-7-fen-the-wicked/255564#255564">emanresu</a></td></tr>
<tr d-ix="5"><td>023</td><td>x8664 machine code</td><td>221210T121653Z</td><td><a href="https://codegolf.stackexchange.com/questions/255274/cgac2022-day-7-fen-the-wicked/255391#255391">m90</a></td></tr>
<tr d-ix="6"><td>011</td><td>Pyth</td><td>221208T160452Z</td><td><a href="https://codegolf.stackexchange.com/questions/255274/cgac2022-day-7-fen-the-wicked/255329#255329">CursorCo</a></td></tr>
<tr d-ix="7"><td>009</td><td>Jelly</td><td>221208T132714Z</td><td><a href="https://codegolf.stackexchange.com/questions/255274/cgac2022-day-7-fen-the-wicked/255324#255324">Jonathan</a></td></tr>
<tr d-ix="8"><td>119</td><td>Excel ms365</td><td>221207T141509Z</td><td><a href="https://codegolf.stackexchange.com/questions/255274/cgac2022-day-7-fen-the-wicked/255291#255291">JvdV</a></td></tr>
<tr d-ix="9"><td>049</td><td>C clang</td><td>221207T193019Z</td><td><a href="https://codegolf.stackexchange.com/questions/255274/cgac2022-day-7-fen-the-wicked/255300#255300">Noodle9</a></td></tr>
<tr d-ix="10"><td>035</td><td>Ruby</td><td>221207T180330Z</td><td><a href="https://codegolf.stackexchange.com/questions/255274/cgac2022-day-7-fen-the-wicked/255296#255296">Jordan</a></td></tr>
<tr d-ix="11"><td>042</td><td>Python NumPy</td><td>221207T110447Z</td><td><a href="https://codegolf.stackexchange.com/questions/255274/cgac2022-day-7-fen-the-wicked/255290#255290">loopy wa</a></td></tr>
<tr d-ix="12"><td>009</td><td>Japt</td><td>221207T145246Z</td><td><a href="https://codegolf.stackexchange.com/questions/255274/cgac2022-day-7-fen-the-wicked/255293#255293">Shaggy</a></td></tr>
<tr d-ix="13"><td>048</td><td>JavaScript ES6</td><td>221207T010613Z</td><td><a href="https://codegolf.stackexchange.com/questions/255274/cgac2022-day-7-fen-the-wicked/255279#255279">Arnauld</a></td></tr>
<tr d-ix="14"><td>007</td><td>Vyxal</td><td>221207T011413Z</td><td><a href="https://codegolf.stackexchange.com/questions/255274/cgac2022-day-7-fen-the-wicked/255280#255280">lyxal</a></td></tr>
<tr d-ix="15"><td>008</td><td>05AB1E</td><td>221207T091906Z</td><td><a href="https://codegolf.stackexchange.com/questions/255274/cgac2022-day-7-fen-the-wicked/255286#255286">Kevin Cr</a></td></tr>
<tr d-ix="16"><td>090</td><td>Factor</td><td>221207T100502Z</td><td><a href="https://codegolf.stackexchange.com/questions/255274/cgac2022-day-7-fen-the-wicked/255289#255289">Razetime</a></td></tr>
<tr d-ix="17"><td>089</td><td>Java 8</td><td>221207T100415Z</td><td><a href="https://codegolf.stackexchange.com/questions/255274/cgac2022-day-7-fen-the-wicked/255288#255288">Kevin Cr</a></td></tr>
<tr d-ix="18"><td>7515</td><td>Nibbles</td><td>221207T095722Z</td><td><a href="https://codegolf.stackexchange.com/questions/255274/cgac2022-day-7-fen-the-wicked/255287#255287">Dominic </a></td></tr>
<tr d-ix="19"><td>064</td><td>Rust</td><td>221207T070913Z</td><td><a href="https://codegolf.stackexchange.com/questions/255274/cgac2022-day-7-fen-the-wicked/255284#255284">mousetai</a></td></tr>
<tr d-ix="20"><td>041</td><td>PARI/GP</td><td>221207T020652Z</td><td><a href="https://codegolf.stackexchange.com/questions/255274/cgac2022-day-7-fen-the-wicked/255281#255281">alephalp</a></td></tr>
<tr d-ix="21"><td>095</td><td>Desmos</td><td>221207T034712Z</td><td><a href="https://codegolf.stackexchange.com/questions/255274/cgac2022-day-7-fen-the-wicked/255282#255282">Aiden Ch</a></td></tr>
<tr d-ix="22"><td>012</td><td>Charcoal</td><td>221207T005818Z</td><td><a href="https://codegolf.stackexchange.com/questions/255274/cgac2022-day-7-fen-the-wicked/255277#255277">Neil</a></td></tr>
<tr d-ix="23"><td>045</td><td>Python 3.8</td><td>221207T003729Z</td><td><a href="https://codegolf.stackexchange.com/questions/255274/cgac2022-day-7-fen-the-wicked/255276#255276">xnor</a></td></tr>
<tr d-ix="24"><td>082</td><td>Python</td><td>221207T003609Z</td><td><a href="https://codegolf.stackexchange.com/questions/255274/cgac2022-day-7-fen-the-wicked/255275#255275">jezza_99</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://github.com/dloscutoff/pip" rel="nofollow noreferrer">Pip</a> <code>-p</code>, <s>34</s> <s>27</s> <s>22</s> 18 bytes</h1>
<pre><code>$+g@(_BA_+1\,_)MEg
</code></pre>
<p><a href="https://dso.surge.sh/#@WyJwaXAiLCIiLCIkK2dAKF9CQV8rMVxcLF8pTUVnIiwiIiwiIiwiLXAgMyAxIDQgMSA1IDkgMiA2Il0=" rel="nofollow noreferrer">Try It Online!</a></p>
<p>Port of @xnor's answer. Started with a port of my own python answer, but @xnor's was much shorter</p>
<p><s>-7</s> -12 bytes thanks to @AidenChow and @DLosc<br />
-4 bytes thanks to @DLosc</p>
</div>
<div id="pu1" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 45 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>a=&gt;a.map((_,i)=&gt;(g=j=&gt;j&amp;~i?0:a[j]+g(j-1))(i))
</code></pre>
<p><a href="https://tio.run/##bcpBCsIwEIXhvafISmZw2hqTChESD1KChNqWhNoUKy69egyuivrgbX6@4J5uae9@fhRTvHap18lp48qbmwEu5FEbGHTQJmxf/rw/uSbY3QCh4IjgEVMbpyWOXTnGAXpolFKWrYbIqop98uaLCuIk7Q8VJHP@i/NrUnSgo13jnGriMnfBbXoD" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, <s>84</s> <s>83</s> 77 bytes</h1>
<p>There's probably room for improvement here. Takes both the array and the length of the array, and returns a map.</p>
<pre class="lang-python prettyprint-override"><code>lambda a,n:[sum(a[u-2**len(bin(u+1).split(&quot;1&quot;)[-1])+1:u+1])for u in range(n)]
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=NY5NCsIwEIWvEoqLmToRUn-oBe8hhCxSbDWQjiFNFp7FTTd6J29jF-3iLR7f4-O9v-GVHk-epk9Ovax_115chLdDe7PCEjeDDbDU3Ix5AKuzhKosfcfQOoa8VbiLY_AuQaEK1FIZlAqbGRikaPneASMu_k2IjhN4NyboQe9J0WHOkc5U0cmQqHHdrp_-" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/nickbclifford/Ohm" rel="nofollow noreferrer">Ohm v2</a>, 13 bytes</h1>
<pre><code>l@€^à^G€³s®;Σ
</code></pre>
<p><a href="https://tio.run/##y8/INfr/P8fhUdOauMML4tyB9KHNxYfWWZ9b/P9/tLGOoY4JEJvqWOoY6ZjFAgA" rel="nofollow noreferrer" title="Ohm v2 – Try It Online">Try it online!</a></p>
<p>Simple port of 05AB1E for the hats :p</p>
<h2>Explained</h2>
<pre><code>l@€^à^G€³s®;Σ
l@             # the range [1, len(input)]
  €----------  # to each number:
   ^à          #   bit-and with number - 1
     ^G        #   the range [number, ^]
       €---;   #   to each:
        ³s®    #     input[^]
            Σ  #   sum
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://github.com/chunkybanana/halfwit/" rel="nofollow noreferrer">Halfwit</a>, 38 bytes</h1>
<pre><code>&gt;[&lt;?(&gt;M&lt;+;M&gt;M&lt;N+JM&gt;{&lt;b(n};W;R*;(n};W&gt;{&lt;b:Nn+(:n+?i$;_WR+
</code></pre>
<p><a href="https://dso.surge.sh/#@WyJoYWxmd2l0IiwiIiwiPls8Pyg+TTwrO00+TTxOK0pNPns8YihufTtXO1IqOyhufTtXPns8YjpObisoOm4rP2kkO19XUisiLCIiLCJbWzNuLDFuLDRuLDFuLDVuLDluLDJuLDZuXV0iLCIiXQ==" rel="nofollow noreferrer">Try It Online!</a></p>
<p>Why did I create this language again? Doesn't help that several builtins that would've been useful for this are buggy or just unimplemented.</p>
<p>Uses xnor's trick.</p>
<pre><code>== range generation ==
&gt;[&lt;?(&gt;M&lt;+; # Get the length of the input (oof)
&gt;[&lt;        # Push 0
   ?(    ; # Over every item of the input...
     &gt;M&lt;+  # Increment

== The binary bit ==
M&gt;M&lt;N+JM&gt;{&lt;b(n};W;R*;(n};W&gt;{&lt;b # For each index, calculate i &amp; i-1
M                              # Over each integer from the previous...
 &gt;M&lt;N+                         # Decrement
      J                        # Pair with the decremented version
       M         ;             # Over each...
           b                   # Convert to base...     
        &gt;{&lt;                    # 2
            (  ;               # Over each binary digit
             n}                # Push it to the bottom of the stack
                W              # Get all elements of the stack i.e. the reversed binary representation
                  R*;          # Reduce by multiplication i.e. &amp; for single bits
                     (n};W     # Reverse again (see above)
                          &gt;{&lt;b # Convert back from binary

== Index into input and sum ==   
:Nn+(:n+?i$;_WR+ # For each number from i&amp;i-1 to i, get that index in the input, and sum
:Nn              # Make the stack [i&amp;i-1,i&amp;i-1,-(i&amp;i-1), i]
   +             # i - (i&amp;i-1)
    (      ;     # That many times...
     :           # Duplicate the i&amp;i-1 kept on top of the stack.
      n+         # Add that to the current index
        ?i       # Index into the input
          $      # Push under the i&amp;i-1
            _W   # Pop the i&amp;i-1 and wrap the stack
              R+ # Sum
</code></pre>
</div>
<div id="pu5" class="pu"><h1>x86-64 machine code, 23 bytes</h1>
<pre><code>31 C9 8B 04 8F 89 CA FF C1 09 CA 39 F2 73 03 01 04 97 39 F1 72 EC C3
</code></pre>
<p><a href="https://tio.run/##TVLLbsIwEDzHX7FNheQkpqVAkRqaXnrupadKkIOxHXCVOMgGGor49abr8BAHex@zO7NrWfSXQrQtdxVQ@AwpKdKgqS0o0TB/EZsGVb0DxTGeWakhgXFsRZOTU16e6wJtxMnx3desqNbnyGkSfHMFjgRcyhsu2eTM8xOXnsrFtXwBlgRWbUgURlOyq7WEgmqzgZgz8NZg@h6Vy61U8Oo2UtcPqzdCPFZxbbpibpeCgVhxC3GMwS4iBz8vIrMcMjiM2BMb43lmL2zIJsfpCS0Rc/pX1QXl0ePZizlKBphhUHYertupaKweTNHcZVCiTZII1haRgoY9DSFDNZ37lkt2bubmg4uVNgpELVXql@yUG8/FYI@hrOFwaYDeYPiFRPuM0q1xemmU7PaKoyKaNUmC9Ef4WelSAd37QQbN@@hWEiiOsthvlIvmBpkaD@IDb63B4cmxbf9EUfKla/vVZIwXfowMW1X5Dw" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>
<p>Following the standard calling convention for Unix-like systems (from the System V AMD64 ABI), this takes the address of an array of 32-bit integers in RDI and its length in ESI, and modifies the array in place.</p>
<hr />
<p>Go through each position in ascending order, and add its value to the value at the position that should immediately contain it, if that position exists within the array's bounds.</p>
<pre><code>―――――――7
   ↑ ↑↑
―――3 ||
 ↑↑  ||
―1| ―5| ―9
↑ | ↑ | ↑
0 2 4 6 8
</code></pre>
<p>With 0-indexing, if the current position is <code>n</code>, the containing position is <code>n OR n+1</code>.</p>
<hr />
<p>Assembly:</p>
<pre><code>f:  xor ecx, ecx            # Set ECX to 0.
r:  mov eax, [rdi + 4*rcx]  # Load the value at index ECX into EAX.
    mov edx, ecx            # Set EDX to the value of ECX.
    inc ecx                 # Increase the value of ECX by 1.
    or edx, ecx             # Set EDX to its bitwise OR with ECX.
    cmp edx, esi            # Compare that value to the the length.
    jae s                   # Jump if it's greater than or equal to the length.
    add [rdi + 4*rdx], eax  # (If it's less) Add EAX to the value at index EDX.
s:  cmp ecx, esi            # Compare ECX to the length.
    jb r                    # Jump back, to repeat, if it's lesser.
    ret                     # Return.
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://github.com/isaacg1/pyth" rel="nofollow noreferrer">Pyth</a>, 11 bytes</h1>
<pre><code>.es:Q.&amp;hkkh
</code></pre>
<p><a href="https://tio.run/##K6gsyfj/Xy@12CpQTy0jOxvIiTbWMdQxAWJTHUsdIx2zWAA" rel="nofollow noreferrer" title="Pyth – Try It Online">Try it online!</a></p>
<p>Uses <a href="https://codegolf.stackexchange.com/a/255276/58563">xnor's</a> trick.</p>
<h3>Explanation</h3>
<pre><code>.es:Q.&amp;hkkhkQ    # implicit k and Q added
                 # Q = eval(input()) implicitly
.e          Q    # enumerate k over the indices of Q
  s              # sum of
   :Q            # index Q from
     .&amp;hkk       # k &amp; (k+1)
          hk     # to k+1
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 9 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>J&amp;’‘rƲị⁸§
</code></pre>
<p>A monadic Link that accepts a list of positive integers and yields another.</p>
<p><strong><a href="https://tio.run/##ATIAzf9qZWxsef//SibigJnigJhyxrLhu4vigbjCp////1sxLDIsMyw0LDUsNiw3LDgsOSwxXQ" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>
<h3>How?</h3>
<p>Much like many others, uses the same bitwise trick that <a href="https://codegolf.stackexchange.com/a/255276/53748">xnor used</a>.</p>
<pre><code>J&amp;’‘rƲị⁸§ - Link: list of positive integers, A
J         - range of length (A) -&gt; [1..length(A)]
     Ʋ    - last four links as a monad - f(X=that):
  ’       -   decrement (X)
 &amp;        -   (X) bitwise AND (that)
   ‘      -   increment (that)
    r     -   inclusive range -&gt; [[startIndexForSum, endIndexForSum] for each element]
       ⁸  - chain's left argument -&gt; A
      ị   - (ranges) index into (A)
        § - sums
</code></pre>
</div>
<div id="pu8" class="pu"><h1>Excel (ms365), 119 bytes</h1>
<p><a href="https://i.stack.imgur.com/RRWAe.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/RRWAe.png" alt="enter image description here" /></a></p>
<p>Formula in <code>B1</code>:</p>
<pre><code>=IFERROR(MAP(SEQUENCE(COUNT(A:A)),LAMBDA(z,SUM(OFFSET(A1,z-1,,-BIN2DEC(TEXTAFTER(0&amp;BASE(z,2),1,-2,,,BASE(z,2))))))),&quot;&quot;)
</code></pre>
<p>I've no doubt this can be further shortened.</p>
</div>
<div id="pu9" class="pu"><h1><a href="http://clang.llvm.org/" rel="nofollow noreferrer">C (clang)</a>, 49 bytes</h1>

<pre class="lang-c prettyprint-override"><code>i;f(*a,n){for(;n;)for(i=n&amp;--n;i&lt;n;)a[n]+=a[i++];}
</code></pre>
<p><a href="https://tio.run/##rVTbjpswEH3frxghZcXFaEOAtNRL@1D1KxIeEDFb1K0TLlWjRvx66WBjbG/60IdGhLHnzMw5MwaqsHot@cs0NbR2/ZJw71afO5dy6s22yfljGHLaPKOjPPAiyMtDEwQFHaeGD/C9bLjrwe0B8Dc7BtYP0aGAHG4RgR2BmEBCICWwJ/COwHsCGYFopGv0TkYbnlh6siwznIl0YjmsmxhAagHingoSJN@PdFXGrhdWDeyk1cXiirYiIYqEvngvBW4XBpVlq1TeO6UK0GoTrVaBqQUKvllAIucVGZrn/riM7ptf7Fy7Yr7e07Lz5ZaAge5sdGejsY3GNprYaGKjqY2mnlbqC6m9lCpEEXm40sTSJNKkZp4aikxdD4noyetlrJeJXqpy1Zn3A1Rfy87HO6u@sU4WdY7XL7vjNfuM/9QhYO5jZ8nGpx3ceeYNP7Erpm3psnxWM1CEHjwpl7/6KASBiFdvg54MFpPTEXhBTRj4gvI79NIhXrvOzfG0c5XZSoktyuMzd2vymumbfnPCplv4BHPv8AEctMOhLYyy4x3rCOFHsKndAT8P1G6OoYz1CP/W36Xse4yJ/qmFNeZNK3ONx1yIhhwJ0dL/2@ymP3KMVM/NzKhSZHjHhh8dR70P4/S7ql/Ll34Kf/4B" rel="nofollow noreferrer" title="C (clang) – Try It Online">Try it online!</a></p>
<p><em>Uses <a href="https://codegolf.stackexchange.com/users/20260/xnor">xnor</a>'s idea from his <a href="https://codegolf.stackexchange.com/a/255276/9481">Python answer</a></em></p>
<p>Inputs a pointer to an array of integers and its length (because pointers in C carry no length info).<br />
Returns the Fen Wicked array through the input pointer.</p>
</div>
<div id="pu10" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 35 bytes</h1>
<p>Port of <a href="https://codegolf.stackexchange.com/a/255276/11261">xnor's approach</a> via <a href="https://codegolf.stackexchange.com/a/255279/11261">Arnauld's</a>.</p>
<pre class="lang-ruby prettyprint-override"><code>-&gt;a{i=0
a.map{eval a[i&amp;i+=1,i]*?+}}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m72kqDSpcsEiN9ulpSVpuhY3lXXtEqszbQ24EvVyEwuqU8sScxQSozPVMrVtDXUyY7XstWtroUrNChTcoqNjY7nAtKWlJYxprGOoY4LCAWJTHUsdIx2z2FiI7gULIDQA" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu11" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a> NumPy, 42 bytes</h1>
<pre class="lang-python prettyprint-override"><code>def f(a):b=a[1::2];b+=a[:-1:2];b@b&gt;0!=f(b)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=NY47DsIwEETr-BRL58AmIvyEjYK4R5RiDVikiG0Zp_BZaNLAnbgNBpFiZ14zevt4uRhu1ozjcwi62L_nl6sGzSmXqqamknLVHtQioSyqH5_UcTmrNVf5f2G73lkfwAy9i0B3MI4xbT0QdAaaFhshRMo1VriZOt0WBa5w10qWEdRpVZL3FJOaZcldnq2LPPFXxTLnOxM44aSdHv4A" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h3><a href="https://www.python.org" rel="nofollow noreferrer">Python</a> NumPy, 44 bytes</h3>
<pre class="lang-python prettyprint-override"><code>def f(a):a[1::2]+=a[:-1:2];a@a&gt;0!=f(a[1::2])
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=NU5LDoIwFFzTUzx3JT6I4Ce2psZ7NCweaiML2qbComdxw0bv5G1sIizmk0wmM6-Pj8PD2Wl6j4Mpjl-83Q0YTrkkXUlZN2tFWhZVcie60HmzUin9R_nccV3vXRjAjr2PQE-wnjHjAhB0FnSDWgiReIsV7hZN2KPAGg-NZBmBSq2SQqCYxlnWKiqvzkeevOFtYh86O3DCdp5dLv8A" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Takes a NumPy array and modifies it in-place.</p>
<h3>How?</h3>
<p>Simple recursion best explained by example:</p>
<pre><code>a1
   a2
      a3
         a4
            a5
               a6
                  a7
                     a8
                        a9

    ==&gt;

a1
a1+a2
      a3
      a3+a4
            a5
            a5+a6
                  a7
                  a7+a8
                        a9

   ==&gt;

a1
a1+a2
      a3
a1+a2+a3+a4
            a5
            a5+a6
                  a7
            a5+a6+a7+a8
                        a9

   ==&gt;

a1
a1+a2
      a3
a1+a2+a3+a4
            a5
            a5+a6
                  a7
a1+a2+a3+a4+a5+a6+a7+a8
                        a9
</code></pre>
</div>
<div id="pu12" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, 9 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>£sY°&amp;YY x
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;code=o3NZsCZZWSB4&amp;input=WzEsIDIsIDMsIDQsIDUsIDYsIDcsIDgsIDksIDFd" rel="nofollow noreferrer">Try it</a></p>
</div>
<div id="pu13" class="pu"><h1>JavaScript (ES6), 48 bytes</h1>
<p>Isolates the least significant non-zero bit of the 1-based index and uses it as a counter to recursively add previous values to the current one.</p>

<pre class="lang-javascript prettyprint-override"><code>a=&gt;a.map((_,i)=&gt;(g=j=&gt;j&amp;&amp;a[--i]+g(j-1))(++i&amp;-i))
</code></pre>
<p><a href="https://tio.run/##bcpBCoMwEIXhfU@RlczgREnVQhbJRSSUwaokWCO19Ppp6EraPnibny/wi/fh4benXONtTJNJbCxXd94AruTRWJhNMDYUBfdSelfOEKRChLL0hfSIaYjrHpexWuIME/RaaycOQxR1LT759EUbUtS6H9pQm/NfnN@RpjNd3BHn1JFqc2@US28" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<hr />
<h1>JavaScript (ES6), 47 bytes</h1>
<p>Porting <a href="https://codegolf.stackexchange.com/a/255276/58563">xnor's approach</a> is 1 byte shorter.</p>

<pre class="lang-javascript prettyprint-override"><code>a=&gt;a.map((_,i)=&gt;eval(a.slice(i&amp;++i,i).join`+`))
</code></pre>
<p><a href="https://tio.run/##bcpBCsIwEIXhvafISiZkTKlphSzai0iwQ0wlJU2KlV4/BldFffA2H/9EG6326ZfXKaa7y2OXqetJzrQA3NDzrncbBSC5Bm8d@KMQvrCcko@DGDjPNsU1BSdDesAIV621YbtxzqqKffjwlSqssTE/qcKm8N@4vEWNZ7yYfVyoxboprmqT3w" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu14" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, <s>13</s> 7 bytes</h1>
<pre><code>ẏD›⋏ṡİṠ
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/#WyIiLCIiLCLhuo9E4oC64ouP4bmhxLDhuaAiLCIiLCJbMywxLDQsMSw1LDksMiw2XSJd" rel="nofollow noreferrer">Try it Online!</a></p>
<p>Half porting python. TIL <code>ṡ</code> vectorises zip-wise between two lists.</p>
<h2>Explained</h2>
<pre><code>ẏD›⋏ṡİṠ
ẏ       # The range [0, len(input))
 D      # pushed three times to the stack
  ›     # increment the top copy
   ⋏    # and get the bitwise-and of each pair of n and n-1 in each list
# At this point the stack is: [[0, 1, 2, ..., len(input) - 1], [1 bitand 0, 2 bitand 3, 3 bitand 4, ..., len(input) bitand len(input - 1)]
    ṡ   # create the range [x, y] for each x and y pair in the top two stack items: [[0], [1, 0], [2], [3, 2, 1, 0], ...]
     İ  # get the nth item in the input at each atomic index in the above list: [[input[0]], [input[1], input[0]], ...]
      Ṡ # sum each sublist and implicitly print
</code></pre>
</div>
<div id="pu15" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, <s>9</s> 8 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>āεN&amp;NŸèO
</code></pre>
<p><a href="https://tio.run/##yy9OTMpM/f//SOO5rX5qfkd3HF7h//9/tKGOkY6xjomOqY6ZjrmOhY6ljmEsAA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/V9Waa@k8KhtkoKSfeWhlf@PNJ7b6qfmd3THoXXFh1f4/6/V@R8dbahjpGOsY6JjqmOmY65joWOpYxirEw1ElpaWQNJYx1DHBEYDsSlQgZGOWWwsAA" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>ā         # Push a list in the range [1, (implicit) input-length]
 ε        # Map over each of these 1-based indices `y`:
  N       #  Push the 0-based map index `N`
   &amp;      #  Bitwise-AND the 1-based index `y` and 0-based index `N` together
    NŸ    #  Pop and push a list in the range [y&amp;N,N]
      è   #  Index each into the (implicit) input-list
       O  #  Sum this list together
          # (after which the list is output implicitly as result)
</code></pre>
</div>
<div id="pu16" class="pu"><h1><a href="https://factorcode.org" rel="nofollow noreferrer">Factor</a>, 90 bytes</h1>
<pre><code>[ dup length [0,b) [ dup dup 1 + bitand swap 1 + rot [ &lt;slice&gt; ] keep swap sum ] map nip ]
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=dY69TgMxEIT7e4ppERAR_u9AKWhQJAhFlAJOKTbO5rDi8xnbJxQhnoTmmvBOeRs28lUgipVnvh1r9ut7RSo2vtutZ9Px5L7Amr1lg8BvLVvFATXF14EnW4m2VHNwtMfOc4wb57WNMI0ik5Ig72kTcJONJwVURSqbPj_ePT0kc5WVhuO2javj691LiWXrYNhW8rE8OVocIKH9DHGIhY5klwjvlLxvoiRug9GKR5jLsezSNrS1-FqU1Q7zvkEXo772A_hMEnKrwUBInud_4ZkUnf-Hh7hAjlNc_g70hV2X3h8" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu17" class="pu"><h1>Java 8, 89 bytes</h1>

<pre class="lang-java prettyprint-override"><code>a-&gt;{int l=a.length,r[]=new int[l],i;for(;l--&gt;0;)for(i=l&amp;l+1;i&lt;=l;)r[l]+=a[i++];return r;}
</code></pre>
<p><a href="https://tio.run/##dVDLbsIwELzzFSsOVaw4VlMKbXCDVPVcLhwjH7bBUFPjIMehQlG@Pd3wEKcevLMejWZGu8MjJrv1T19arGv4ROPaEYBxQfsNlhqWw/dMFArK6ILIJLHdiEYdMJgSluAg7zFZtKQAm6Ow2m3DN/eFyp3@PRtYxY3cVD6SNkkWj5INu8ntg41Tad5yK5knUZxjYeJYSa9D4x142fVyyDo0X5ayrpHHyqxhT4WjVfDGbQuF7FJ2sD2ih6Dr8IG1hjncKqhCtW3H2yzLaE54yp9vSG/KM/7EZ8SkhBPipnzGX/gr8WnXsbM7wOpUB70XVRPEgZKDddGO7iiaYKx49x5PtQjVpVV0K8Hi8RzG8f9CJ8q7mF0v3PV/" rel="nofollow noreferrer">Try it online.</a></p>
<p><strong>Explanation:</strong></p>
<pre class="lang-java prettyprint-override"><code>a-&gt;{                  // Method with integer-array as both parameter and return-type
  int l=a.length,     //  Length of the input-array
      r[]=new int[l], //  Result-array, starting with this length amount of 0s
      i;              //  Index-integer, uninitialized
  for(;l--&gt;0;)        //  Loop `l` in the range (length,0]:
    for(i=l&amp;l+1;      //   Set `i` to `l` bitwise-AND-ed by `l+1`
        i&lt;=l;)        //   Inner loop `i` in the range [i&amp;i+1,l]:
      r[l]+=          //    Add to the `l`'th value of the result-array:
        a[i++];       //     The `i`'th value of the input-array
  return r;}          //  After the nested loop, return the resulting array
</code></pre>
</div>
<div id="pu18" class="pu"><h1><a href="http://golfscript.com/nibbles/index.html" rel="nofollow noreferrer">Nibbles</a>, 7.5 bytes (15 nibbles)</h1>
<pre><code>.,,$+&gt;`&amp;-$~$&lt;$@
</code></pre>
<pre><code>.,,$+&gt;`&amp;-$~$&lt;$@
.                   # map over each i in
 ,                  # range from 1..
  ,                 # length of 
   $                # input,
    +               #   get the sum of:
     &gt;              #     drop the first j elements, where j is
      `&amp;            #       bitwise AND of
        -$~         #         i-1 and
           $        #         i, 
            &lt;$      #     from the first i elements of
              @     #     input     
</code></pre>
<p><a href="https://i.stack.imgur.com/lvVhX.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/lvVhX.png" alt="enter image description here" /></a></p>
</div>
<div id="pu19" class="pu"><h1><a href="https://www.rust-lang.org" rel="noreferrer">Rust</a>, 64 bytes</h1>
<pre class="lang-rust prettyprint-override"><code>|x:&amp;[_]|(0..x.len()).map(|i|x[i&amp;i+1..=i].iter().sum()).collect()
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=LcxPCoJAHIbhvaeYXMgM_RrS_plmdYhoIyIiIwyMJjoDkuNJ2rioC3SbblNqq48PHt7Hs1K17N9ZgfKEF5igVjCJMhS8lMwW7uesG88K40jjJaUNFexnCM2TEmuum5BbfG5TGvCIcskqTGit8kGkNyFYKjH5dy6-MYRj78rSg6r5nR1RgDJshfb4wImIbxhlxQspihk2W-_UmTACcGAFa9jAFnbgwh7siAy4m9p9P-0X" rel="noreferrer">Attempt This Online!</a></p>
<p>Uses XNOR's trick. Also uses blatant abuse of type annotations outside the code.</p>
</div>
<div id="pu20" class="pu"><h1><a href="https://pari.math.u-bordeaux.fr" rel="nofollow noreferrer">PARI/GP</a>, 41 bytes</h1>
<pre><code>a-&gt;a*matrix(#a,,j,i,i-j&lt;gcd(i,2^i)&amp;&amp;j&lt;=i)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=PY1dCsIwEISvEiqURCYPbe1PoO1FStVFadmgEkoFPYsvBRHP5G1MsfiwM9_OMuzj7WjgXe-mZyeq13XsdPFRpGtan2kc-CZXBFgwWNuyPxwlI96yCkNbVqyWwp6cO90lCV0LN_Bl9BjMSyA6SUpBNE3rxRgzW4IImz_4SWEQI5ujyEPiwxQZchT-ELXt8meafv4F" rel="nofollow noreferrer">Attempt This Online!</a></p>
<hr />
<h1><a href="https://pari.math.u-bordeaux.fr" rel="nofollow noreferrer">PARI/GP</a>, 42 bytes</h1>
<pre><code>a-&gt;a*matrix(#a,,j,i,j&gt;bitand(i,i-1)&amp;&amp;j&lt;=i)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=PY1hCoJAEIWvshjIrrz9sZnmQnoRkZoIY8RkkQ3qLP0RIjpTt2kl6ce8980bHvN4Oxp5f3bTsxXl6-pbXXwS0hUlF_Ij3-SKgA6Mrjqyp-EkGayNiuNuV7JaGgdyrr9LEroSbuTBB4zmJRKtJKUg6roJYq2dLYXB5g9hMliskc-RCZCGMEOOLYpwME2z_Jmmn38B" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>A port of <a href="https://codegolf.stackexchange.com/a/255276/9288">@xnor's Python answer</a>.</p>
</div>
<div id="pu21" class="pu"><h1><a href="https://desmos.com/calculator" rel="nofollow noreferrer">Desmos</a>, 95 bytes</h1>
<pre><code>f(l)=[l[i-2^{[0...i][mod(floor(i/2^{[0...i]}),2)=1].min}+1...i].totalfori=[0...l.length][2...]]
</code></pre>
<p><a href="https://www.desmos.com/calculator/da5t11smix" rel="nofollow noreferrer">Try It On Desmos!</a></p>
<p><a href="https://www.desmos.com/calculator/04vd8aqoaw" rel="nofollow noreferrer">Try It On Desmos! - Prettified</a></p>
<p>Desmos doesn't have any binary functionalities like converting to binary or bitwise anding, so basically around half the code is dedicated to converting to binary and finding the number of trailing zeroes.</p>
<p>Also, in case you were wondering, I can't simply do <code>[1...l.length]</code> instead of <code>[0...l.length][2...]</code> because <code>f([])</code> (empty list input) gives an error for <code>[1...l.length]</code>: &quot;Ranges must be arithmetic sequences.&quot;</p>
</div>
<div id="pu22" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 12 bytes</h1>
<pre><code>ＩＥθΣ✂θ＆κ⊕κ⊕κ
</code></pre>
<p><a href="https://tio.run/##S85ILErOT8z5/z@gKDOvRMM5sbhEwzexQKNQRyG4NFcjOCczORXEccosKc8sTnXMS9HI1lHwzEsuSs1NzStJBXI1NTEEQMD6///oaGMdQx0TIDbVsdQx0jGLjf2vW5YDAA" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>  θ             Input array
 Ｅ              Map over elements
     θ          Input array
    ✂           Sliced from
       κ        Current index
      ＆         Bitwise And
         κ      Current index
        ⊕       Incremented
           κ    To current index
          ⊕     Incremented
   Σ            Take the sum
Ｉ               Cast to string
                Implicitly print
</code></pre>
<p>Due to Charcoal being 0-indexed, the length of the slice is <code>(k+1&amp;-(k+1))</code> and the start position is therefore <code>k+1-(k+1&amp;-(k+1))</code>. However <code>-(k+1)</code> is the same as <code>~k</code> so that simplifies to <code>k+1-(k+1&amp;~k)</code>. Writing <code>k+1</code> as <code>(k+1&amp;k)|(k+1&amp;~k)</code> (which have no bits in common) we see that the <code>k+1&amp;~k</code>s cancel, leaving <code>k+1&amp;k</code>, at which point this degenerates into a port of @xnor's Python answer.</p>
</div>
<div id="pu23" class="pu"><h1><a href="https://docs.python.org/3.8/" rel="noreferrer">Python 3.8</a>, 45 bytes</h1>

<pre class="lang-python prettyprint-override"><code>lambda l,i=0:[sum(l[i&amp;(i:=i+1):i])for _ in l]
</code></pre>
<p><a href="https://tio.run/##NcVBDsIgEEDRPaeYlYE4C7FqhISTIDEYSzrJlBKkGk@P3bj475dvm5Y8XEvtyd06x/nxjMBI7mD9a50le9pJso72WlkKKi0V7kAZOPTPRDyCtgLYje/IknJZm1RKQKmUm0ySleo@CG@M2RxQ4@n/rTMaPOIl/AA" rel="noreferrer" title="Python 3.8 (pre-release) – Try It Online">Try it online!</a></p>
<p>The start index for the sum at one-indexed position <code>i</code> is <code>i&amp;i-1</code>, which is obtained from the binary representation of <code>i</code> by setting the rightmost 1 bit to 0.</p>
</div>
<div id="pu24" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 82 bytes</h1>
<pre class="lang-python prettyprint-override"><code>lambda A:[sum(A[i-2**len(bin(i)[2:].split(&quot;1&quot;)[-1]):i])for i in range(1,len(A)+1)]
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=ZY9BTsMwEEX3OYXVlV0mqJOkoYmURa7A1ljIpQlYct0odoXgKmwiIbgTF-AcjEmABbJGMx7_eZ7_8j48hYeTm1775ubtHPp093Ft9XF_0KytpT8feStNmq3XtnN8bxw3Qma1uvSDNYGvcCVkikrURon-NDLDjGOjdvcdR4gjrbhAoRbyZ-h8uL3TvvONTCRCBjkUsIUSrmAHFaCCRMaoqiqmHBCK34JiS6IMSmqpJNHOP3bjgsrp4IYEiATLy0jb_MMVPzgqSEHqIi6B38BhNC5wbS2XPY-riqaZ_2DRW-zAcieXz2bgf36WBy-UELPbaZrzFw" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/255274/">255274</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




