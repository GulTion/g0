<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::266208</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>273</td><td>JavaScript ES7</td><td>231025T121905Z</td><td><a href="https://codegolf.stackexchange.com/questions/266208/help-i-cant-bloody-well-memorize-this-number/266215#266215">Arnauld</a></td></tr>
<tr d-ix="1"><td>114</td><td>05AB1E</td><td>231025T145922Z</td><td><a href="https://codegolf.stackexchange.com/questions/266208/help-i-cant-bloody-well-memorize-this-number/266217#266217">Kevin Cr</a></td></tr>
<tr d-ix="2"><td>268</td><td>JavaScript Node.js</td><td>231025T114432Z</td><td><a href="https://codegolf.stackexchange.com/questions/266208/help-i-cant-bloody-well-memorize-this-number/266214#266214">l4m2</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>JavaScript (ES7), 273 bytes</h1>
<p>Expects a string and returns the partition as an array of integers.</p>
<pre class="lang-javascript prettyprint-override"><code>f=([v,...a],p=[],s=q=0,c=&quot;&quot;,[w,x,y,z]=c)=&gt;(v&amp;&amp;!z&amp;&amp;f(a,p,s,c+v),c?f(a,[...p,c++],s+=x?+w?/1(bn|c0|cx|el|ev|f2|gu|h3|ht|i9|it|k7)|2(hc|pg|ra|uy)|49[01u]|5(he|hh|y[fwz])/.test(c.toString(36))?w&gt;2?3:1&lt;&lt;16/x:w-+-x==(y+=[z])?3-!z:w*x==y?z?5:3:1/0:1/0:2,v):v||q&amp;&amp;s&gt;q||(q=s,o=p),o)
</code></pre>
<p><a href="https://tio.run/##dVLLkqIwFN3PV9AsKBgj5AGEWB35iFlSLBzG14wlKAhq5d@dG5RuNUolAXLuuee@/s7aWV3s11Uz3pZ/5pfLQrpZi3zfn@WoklmOarmTGBXStlHWoSM6oXMuC09O3dZxPs6Os3BnqEI1Kkath4pU/2bAr@BiBPSRPKajLg2I@3urCqyKo5pv1LxVC6qWB7ViatWotVDrRv3jnqLuqlDVUu1n6nDyVCgyTA65itzVXK1W6pQtunPuBX4zrxu38JvyV7Nfb5cuiz0v7aY0ZRPy@Uni4DjpxqPxUUr3NJIZcFI2/jhPup9wdUrPaTQBywD3m6LWm7RK7Rynnu6UcneyRqWsPFR6l6Lc1uVm7m/KpbtwbSI4ta2Hx/OsILAyjeQ/XpgL@505ssRLBqYPGgMDzJHFkaVxgycoSRinxDZ4GkGWxkwxyp6S@RKjzLAOw4TQl8mEyNKYyUgMhYEBCARlRpTo7MKYYNtMP7nmDmKAm2IMxDiOIswxtx/EWC8GGLJgYagi5gY/CntpRklkP0prBKQppKlRM2hOQiIwuWvcEDQgyNLYm7ZpgwgTbQFn7@CBeg2XDD5u3@9mQCRECJJci2jfzwAgMD5CT8J3IV/MA/QlZjQOCU3sp@oD1pNjXQU4wmsg4O3VXEXDtp@7CHdX5vfbcAB3EU44J7BZcp@JbiSUBVDoIif9ycwIODSKMQGrbw6P8VBXjYAPJm7HrUVgkV/@Aw" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>This gives alternate solutions for a few test cases.</p>
<h2>Scoring method</h2>
<p>We make sure that each part <span class="math-container">\$c\$</span> is made of at most 4 characters and split them into <span class="math-container">\$[w,x,y,z]\$</span>.</p>
<ul>
<li><p>If <span class="math-container">\$x\$</span> is not defined: this is a single digit ➝ the score is <span class="math-container">\$2\$</span>.</p>
</li>
<li><p>If <span class="math-container">\$w=0\$</span>, this is an illegal pattern ➝ the score is <span class="math-container">\$\infty\$</span>.</p>
</li>
<li><p>We test all special patterns at once with the following regular expression applied to the base-36 representation of <span class="math-container">\$c+1\$</span>:</p>
<pre><code>/1(bn|c0|cx|el|ev|f2|gu|h3|ht|i9|it|k7)|2(hc|pg|ra|uy)|
49[01u]|5(he|hh|y[fwz])/
</code></pre>
<p>If a match is found:</p>
<ul>
<li>if <span class="math-container">\$w&gt;2\$</span>, this is a 'symbol' ➝ the score is <span class="math-container">\$3\$</span>.</li>
<li>otherwise the score is given by the expression <code>1&lt;&lt;16/x</code> (<span class="math-container">\$1\$</span> for <code>2<b>0</b>22</code>, <span class="math-container">\$2\$</span> for <code>1<b>9</b>xx</code>, <span class="math-container">\$4\$</span> for <code>1<b>7</b>xx</code> or <code>1<b>8</b>xx</code>)</li>
</ul>
</li>
<li><p>If <code>w-+-x==y+[z]</code>, the score is either <span class="math-container">\$2\$</span> or <span class="math-container">\$3\$</span>.</p>
</li>
<li><p>If <code>w*x==y+[z]</code>, the score is either <span class="math-container">\$3\$</span> or <span class="math-container">\$5\$</span>.</p>
</li>
<li><p>If none of the above worked out, the score is <span class="math-container">\$\infty\$</span>.</p>
</li>
</ul>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 114 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>.œDεεgÐVi·ë5;÷i•иΩÅjnÃñ8ä{5pqŒΩ&amp;™ l
&amp;5ƒZtøà₆é~λãÝαB‡~hq•žEвyk©(iy¬_iëR3äí©`+QY&lt;*D_i\®`*QYD4Q+*D_I*+}ë®Žζ›₂в@O]OWkè
</code></pre>
<p><a href="https://tio.run/##AbsARP9vc2FiaWX//y7Fk0TOtc61Z8OQVmnCt8OrNTvDt2nigKLQuM6pw4VqbsODw7E4w6R7NXBxxZLOqSbihKIgbAomNcaSWnTDuMOg4oKGw6l@zrvDo8OdzrFC4oChfmhx4oCixb5F0LJ5a8KpKGl5wqxfacOrUjPDpMOtwqlgK1FZPCpEX2lcwq5gKlFZRDRRKypEX0kqK33Dq8Kuxb3OtuKAuuKCgtCyQE9dT1drw6j//zU0MjAyMjQzMjE1" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##NYzBSgJRFIb3PYW4kNCLzLlzr/cOBUZMazHItBItiJqMSopgiESsXIetgzIXDVOCgilFLeYwLQefYV5kmlFa/B@c8/N/p@e7e8Z@cGlm4zG/3YnFs6a@EQ/S7oPujbzRAd4XDGeMNl/CseE3u9OJZ@Hd0Qne4EBi74qf1d2OZyX8227seCHBfztbFzjBJ7/VRqvhfeELPnqDVb/53Dish3v3Z206NGuOtWiYzlvFKKK9rmIP3x2rmsqXlpN6xdhx@tVkvqSzfCo8i8nUNdpO3/32Pvzmp99qTYcrObSL5dxmDV@DeLpAgm3QBCURtBkVSolGQaqCAgGqEsYkUBJBJSCjnmVAIUwNH0LhXBGKIJzNCpUCJyCAgabAXKVJ0DSQ82UoDEUZlWYYUBnp@X9IGK5IISCMKst/" rel="nofollow noreferrer">verify almost all test cases</a> (the largest two are omitted because they'll timeout on TIO).</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>.œ                         # Get all partitions of the (implicit) input
  D                        # Duplicate it
   ε                       # Map over each partition:
    ε                      #  Inner map over each part:
     g                     #   Pop and push the length of the part
      Ð                    #   Triplicate this length
       V                   #   Pop one copy, and store it in variable `Y`
      i                    #   Pop another copy, and if it's 1:
       ·                   #    Double the length to 2
      ë                    #   Else (the length is &gt;=2):
       5;                  #    Push 2.5 (halve 5)
         ÷                 #    Integer-divide the length by this 2.5
       i                   #    If this is 1 (aka the length was 3 or 4):
        •иΩÅjnÃñ8ä{5pqŒΩ&amp;™ l\n&amp;5ƒZtøà₆é~λãÝαB‡~hq•
                           #     Push compressed integer 2059679753934118777767891051414020721847227706932308941504785260793787677550089063849770927917
         žEв               #     Convert it to base-8192 as list: [2022,1901,1910,1936,1952,1972,3215,3507,3573,3705,5507,5508,5537,7105,7108,7718,7735,7738,1714,1727,1760,1820,1830,1837]
             yk            #     Get the index of the current part in this list
                           #     (or -1 if it's not in this list)
               ©           #     Store this index in variable `®` (without popping)
        (i                 #     If the index is -1:
          y                #      Push the current part again
           ¬               #      Push its leading digit (without popping)
          _i               #      If this leading digit is a 0:
                           #       (use the current part implicitly)
           ë               #      Else:
            R              #       Reverse the part
             3ä            #       Split it into three parts
               í           #       Reverse each part
                           #       (converts the part to a triplet: ABC→[C,B,A] and ABCD→[CD,B,A])
                ©          #       Store this triplet in variable `®` (without popping)
                 `         #       Pop and push the parts to the stack
                  +        #       Add the top two (B+A)
                   Q       #       Check if its equal to the other integer (C or CD)
                    Y&lt;     #       Push the part's length - 1
                      *    #       Multiply it to the check
            D              #       Duplicate it
             _i            #       Pop and if it's 0:
               \           #        Discard the duplicated part
                ®          #        Push triplet `®` again
                 `*Q       #        B*A this time
                    YD4Q+  #        Push the part's length + (length==4)
                         * #        Multiply it to the check
               D           #        Duplicate it
                _          #        Pop and check whether its 0
                 I*        #        Multiply it to the input
                   +       #        Add it to the earlier value
              }            #       Close this if-statement
                           #       (implicit else: use the duplicated value)
         ë                 #     Else (the index was not -1):
          ®                #      Push the index again from variable `®`
           Žζ›             #      Push compressed integer 17749
              ₂в           #      Convert it to base-26 as list: [1,0,6,17]
                @          #      Check for each whether it's &gt;= the index
                 O         #      Sum those checks together
                           #    (implicit else: the length is 2 or &gt;=5)
                           #     (implicitly use the implicit input-integer)
   ]                       # Close all if-else statements and the nested maps
    O                      # Sum each inner list together
     W                     # Push the minimum of the sums (without popping the list)
      k                    # Get the (first) index of this minimum in the list of sums
       è                   # Use that to index into the list of partitions
                           # (after which this partition is output implicitly as result)
</code></pre>
<p><a href="https://codegolf.stackexchange.com/a/166851/52210">See this 05AB1E tip of mine (sections <em>How to compress large integers?</em> and <em>How to compress integer lists?</em>)</a> to understand how the compressed integers and lists work.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 268 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>f=([c,...x],s='')=&gt;c?Math.min(f(x,s+=c),f(x)+('171417271760182018301837190119101936195219722022321535073573370555075508553771057108771877357738'.match(/..../g).includes([A,B,C,D,E]=s)?s&lt;1900?4:s&lt;3e3?3-A:3:B?!+A|E?1/0:A- -B==C+[D]?D?3:2:A*B==C+[D]?D?5:3:1/0:2)):s?1/0:0
</code></pre>
<p><a href="https://tio.run/##dY/NTsMwEITvPAWcEhPH8XrrOrFqrPTnyBNUPURu@oPaBOGAeuDdw4YTh3L4pNHsrHbnrflqYvg4vw951@/bcTy4dBu4EOK249ElCXMvwb82w0lcz116SG88Zi4wToplaQIGZmCUATOXUCoCJwxUEqACCRXOodIKKqOUVAoVaNTSoDaIRmpNmii1RmNAaqIkQVDCYJmIazOEU1rQR6I4MnHuwuVz38Z0W/MlX/E13@xcZD4u6KT0MxsX2KLHvLZol/4pq783Hgpp6/wxXzq3yrbrnV97tMrWz38MTfkppxiz8XdDjqHvYn9pxaU/UvVkKpEw9nDHrv7xqfK9icLJHX8A" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<p>f(string left, to encode)</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/266208/">266208</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




