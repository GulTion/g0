<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::273927</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>nan</td><td>Elisp</td><td>240708T134011Z</td><td><a href="https://codegolf.stackexchange.com/questions/273927/minimum-number-of-select-all-copy-paste-steps-for-a-string-containing-n-copies-o/274014#274014">Samuel J</a></td></tr>
<tr d-ix="1"><td>041</td><td>Desmos</td><td>240706T001932Z</td><td><a href="https://codegolf.stackexchange.com/questions/273927/minimum-number-of-select-all-copy-paste-steps-for-a-string-containing-n-copies-o/273952#273952">Aiden Ch</a></td></tr>
<tr d-ix="2"><td>051</td><td>JavaScript Node.js</td><td>240705T110815Z</td><td><a href="https://codegolf.stackexchange.com/questions/273927/minimum-number-of-select-all-copy-paste-steps-for-a-string-containing-n-copies-o/273939#273939">l4m2</a></td></tr>
<tr d-ix="3"><td>015</td><td>Japt</td><td>240705T080224Z</td><td><a href="https://codegolf.stackexchange.com/questions/273927/minimum-number-of-select-all-copy-paste-steps-for-a-string-containing-n-copies-o/273933#273933">Shaggy</a></td></tr>
<tr d-ix="4"><td>2613</td><td>Nibbles</td><td>240705T145120Z</td><td><a href="https://codegolf.stackexchange.com/questions/273927/minimum-number-of-select-all-copy-paste-steps-for-a-string-containing-n-copies-o/273943#273943">Dominic </a></td></tr>
<tr d-ix="5"><td>024</td><td>Charcoal</td><td>240705T091455Z</td><td><a href="https://codegolf.stackexchange.com/questions/273927/minimum-number-of-select-all-copy-paste-steps-for-a-string-containing-n-copies-o/273935#273935">Neil</a></td></tr>
<tr d-ix="6"><td>045</td><td>Arturo</td><td>240704T210655Z</td><td><a href="https://codegolf.stackexchange.com/questions/273927/minimum-number-of-select-all-copy-paste-steps-for-a-string-containing-n-copies-o/273929#273929">chunes</a></td></tr>
<tr d-ix="7"><td>023</td><td>05AB1E</td><td>240705T084446Z</td><td><a href="https://codegolf.stackexchange.com/questions/273927/minimum-number-of-select-all-copy-paste-steps-for-a-string-containing-n-copies-o/273934#273934">Kevin Cr</a></td></tr>
<tr d-ix="8"><td>041</td><td>Picat</td><td>240705T022349Z</td><td><a href="https://codegolf.stackexchange.com/questions/273927/minimum-number-of-select-all-copy-paste-steps-for-a-string-containing-n-copies-o/273931#273931">Bubbler</a></td></tr>
<tr d-ix="9"><td>098</td><td>JavaScript ES6</td><td>240704T203314Z</td><td><a href="https://codegolf.stackexchange.com/questions/273927/minimum-number-of-select-all-copy-paste-steps-for-a-string-containing-n-copies-o/273928#273928">Arnauld</a></td></tr>
<tr d-ix="10"><td>068</td><td>Google Sheets</td><td>240705T041809Z</td><td><a href="https://codegolf.stackexchange.com/questions/273927/minimum-number-of-select-all-copy-paste-steps-for-a-string-containing-n-copies-o/273932#273932">z..</a></td></tr>
<tr d-ix="11"><td>048</td><td>Python 3</td><td>240704T235711Z</td><td><a href="https://codegolf.stackexchange.com/questions/273927/minimum-number-of-select-all-copy-paste-steps-for-a-string-containing-n-copies-o/273930#273930">xnor</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>Elisp, 93 Bytes, porting xnor's answer</h1>
<pre><code>(defun f(n)(if(&gt; n 1)(apply'min(cl-loop for i in'(2 3 4 5)collect(+ 1 i(f(/(float n)i)))))0))
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://desmos.com/calculator" rel="nofollow noreferrer">Desmos</a>, 41 bytes</h1>
<pre><code>I=[2...5]
f(n)=\{n&gt;1:\min(f(n/I)+I+1),0\}
</code></pre>
<p>Port of <a href="https://codegolf.stackexchange.com/a/273930/96039">@xnor's Python 3 answer</a> so make sure to upvote that answer too!</p>
<p><a href="https://www.desmos.com/calculator/trw3v6maj6" rel="nofollow noreferrer">Try It On Desmos!</a></p>
<p><a href="https://www.desmos.com/calculator/sju9w065b5" rel="nofollow noreferrer">Try It On Desmos! - Prettified</a></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 51 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>f=(n,i=6)=&gt;n&gt;1&amp;&amp;Math.min(i+f(n/--i),i&gt;2?f(n,i):1/0)
</code></pre>
<p><a href="https://tio.run/##ZdJRbsMgDIDh950iTxVoTYMd45BJyU6wQ0RdszF1ZFqrXT9rpFKQ4fVD/MjwNf1Nl@Ov/7nWYXk/res8qLD3A@thDCPsdm/T9fPw7YPyz7MKTV17vfcjvs7bNv0CjdHrcQmX5Xw6nJcPddsF1ba0rpqmMk85zgqrDFuBlKMVaHNkgS5HJxA4Q5A3ajFXeSWmXOWdAF2msouWk6LsWsBMZRcMUlLZRUMuqeyS6TnNWHYd9Ji06HLr6KG2mFXH7qGyy9a2HJVkF1owHUaVXWQEoqjF2yOhc1GL971Nw3Z8/zbFjzN9BxbvWs55W/FkXP8B" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h1><a href="https://nodejs.org" rel="nofollow noreferrer">JavaScript (Node.js)</a>, 50 bytes by Shaggy porting xnor</h1>

<pre class="lang-javascript prettyprint-override"><code>f=n=&gt;n&gt;1&amp;&amp;Math.min(...[2,3,4,5].map(x=&gt;x-~f(n/x)))
</code></pre>
<p><a href="https://tio.run/##ZdLBTsMwDIDhO0/R05SKLo0dx00P7RvwBIhDNVYY2tKJTagnXr0waVkjJ9dPym85@Rp@hsvu@3C@bsP0vl@WsQtdH3rYbF6G66c@HYLSWr9iZSuq3Js@DWc1d/28/R1VqOeyLJfdFC7Tca@P04d6HhUUt1OWRV0X5inFUWGRoBVIKTqBLkUW6FP0AoETBDmRxVTlSEypypkAfaKyi45XRdl1gInKLhikVWUXDflVZZdMy@uOZddDi6tmXbaeHuqyXTXsHyq77JzlqCS7YME0GFV2kRGIomZvj4TeR83e938bruH7t8l@nGkbcHjXfM@3E2/G5Q8" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a>, 15 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<p>Port of <a href="https://codegolf.stackexchange.com/a/273930/58974">xnor's Python solution</a>.</p>
<pre><code>&gt;1©5ò2ÈÒßU/XÃrm
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=1.4.6&amp;code=PjGpNfIyyNLfVS9Yw3Jt&amp;input=MzIKLU4" rel="nofollow noreferrer">Try it</a></p>
<pre><code>&gt;1©5ò2ÈÒßU/XÃrm     :Implicit input of integer U
&gt;1                  :Greater than 1
  ©                 :Logical AND with
   5ò2              :  Range [2,5]
      È             :  Map each X
       Ò            :    Subtract the bitwise NOT of
        ßU/X        :      A recursive call with argument U/X
            Ã       :  End map
             r      :  Reduce by
              m     :    Minimum
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="http://golfscript.com/nibbles/index.html" rel="nofollow noreferrer">Nibbles</a>, 26 nibbles (13 bytes)</h1>
<pre><code> `; 1 -@$ 0 `/ . +~,4 + _ * @$ +$~ [
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=LcsxDoIwAIXh_Z3iDZ0sYF8pUMLiPRwkJJqYGBdh5SIsXYxn4jaSwPrn_5bf-zkMr_snpe80PvK4GvYdxfxi6NifWdDOWaDljSdu0ZqZ1_09SFq94FEioEKNBhEt5CBBHiqhAFVQDTVQhFp4t9M_" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Another recursive 'try 1,2,3 or 4 pastes at each step' approach.</p>
<p>Nibbles only has integer arithmetic, so we can't (easily) count down &amp; divide the target at each recursive step (as used in <a href="https://codegolf.stackexchange.com/a/273930/95126">xnor's approach</a>).</p>
<p>However, Nibbles does remember the program input as a global variable across all recursive calls, so we can simply count up the string-copies-so-far (starting at 1) and stop when we reach the program input, which is more intuitive to me anyway.</p>
<pre><code>`; 1 -@$ 0 `/ . +~,4 + _ * @$ +$~ [         # full program; input is stored in variable @
`; 1                                        # launch recursive function starting with copies=1 
                                            # (stored in variable $)
     -@$                                    # stop when input &lt;= copies-so-far
         0                                  # and return zero
                                            # otherwise return
           `/                     [         # minimum of
              .                             # map over
                +~,4                        # i in 2..5
                     +                      #   sum of
                       _                    #     recursive call using
                         * @$               #       copies-so-far * i
                              +$~           #     and i+1 (steps needed to multiply copies by i)
</code></pre>
</div>
<div id="pu5" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 24 bytes</h1>
<pre><code>ＦＮ⊞υ∨¬ι⁺³⌊Ｅ⁴⁺κ§υ÷ι⁺²κＩ⊟υ
</code></pre>
<p><a href="https://tio.run/##LYs5DsIwEAB7XrHlWjJNQDRUCBoXCf6CSYyyii/Z3ojfG0XylDOaeTV5jsa19o0ZUIXEdWL/sRmFAM1lRZbwzjjFiiQkaMcFLxJGCuTZ42gSXrveJDyqCov9HZMK9UU7LRap90HCJjr3k84UKj5NqahjQj5ka8OtnXf3Bw" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation: Based on @xnor's approach but using dynamic programming instead of recursion.</p>
<pre><code>ＦＮ
</code></pre>
<p>Calculate all of the results for <code>1</code> to <code>n</code>. Note that the loop variable is <code>1</code> less than the index of the result being calculated but this actually saves bytes as <code>⌈i/k-1⌉=(i-1)//k</code> which is simply an integer division.</p>
<pre><code>⊞υ∨¬ι⁺³⌊Ｅ⁴⁺κ§υ÷ι⁺²κ
</code></pre>
<p>The result for <code>1</code> is just <code>1</code> while the result for other iterations is the best of four previously calculated results.</p>
<pre><code>Ｉ⊟υ
</code></pre>
<p>Output the result for <code>n</code>.</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://arturo-lang.io" rel="nofollow noreferrer">Arturo</a>, <sup><s>49</s></sup> 45 bytes</h1>
<pre class="lang-arturo prettyprint-override"><code>f:$-&gt;n-&gt;(n&gt;1)?[2..5|map=&gt;[+1+f//n&lt;=&amp;]|min]-&gt;0
</code></pre>
<p><a href="http://arturo-lang.io/playground?cZRVrt" rel="nofollow noreferrer">Try it!</a></p>
<p>Port of xnor's 50-byte <a href="https://codegolf.stackexchange.com/a/273930/97916">Python answer</a>.</p>
<hr />
<h1><a href="https://arturo-lang.io" rel="nofollow noreferrer">Arturo</a>, 71 bytes</h1>
<pre><code>$-&gt;n-&gt;min map[0 1 3 2 7 6 4 3 8 9 12 27 16 81 6 5]=&gt;[&amp;+5*ceil log//n&amp;4]
</code></pre>
<p><a href="http://arturo-lang.io/playground?PQK9Cx" rel="nofollow noreferrer">Try it!</a></p>
<p>The formula in the OP.</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 23 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>&quot;D1›Di4L+DŠ/®δ.V+&gt;ß&quot;©.V
</code></pre>
<p>Port of <a href="https://codegolf.stackexchange.com/a/273930/52210"><em>@xnor</em>'s Python answer</a>, so make sure to upvote that answer as well.<br />
Still pretty long, since 05AB1E is very verbose for recursive functions.</p>
<p><a href="https://tio.run/##ASoA1f9vc2FiaWX//yJEMeKAukRpNEwrRMWgL8KuzrQuVis@w58iwqkuVv//NjQ" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##AUcAuP9vc2FiaWX/MzLDnTYgMjHFuG/CqzXCsMKqdnk/IiDihpIgIj95/yJEMeKAukRpNEwrRMWgL8KuzrQuVis@w58iwqkuVv8s/w" rel="nofollow noreferrer">verify most test cases</a> (it'll time out before it has output all test cases).</p>
<p>Using the given formula would be <strong>32 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></strong> instead:</p>
<pre><code>•¬òÃ,v₅aw°Üÿ∊•82в2ôε`Š/4.nî5*+}ß
</code></pre>
<p><a href="https://tio.run/##AUAAv/9vc2FiaWX//@KAosKsw7LDgyx24oKFYXfCsMOcw7/iiIrigKI4MtCyMsO0zrVgxaAvNC5uw641Kit9w5///zY0" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##AWAAn/9vc2FiaWX/MzLDnTYgMjHFuG/CqzXCsMKqdnk/IiDihpIgIj95Vv/igKLCrMOyw4MsduKChWF3wrDDnMO/4oiK4oCiODLQsjLDtM61WXNgxaAvNC5uw641Kit9w5//LP8" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>
<p>Uses recursive method:</p>
<p><span class="math-container">$$f(n) = \begin{cases}
0, &amp; \text{if $n\leq1$} \\
\min(f(\frac{n}{2})+3, f(\frac{n}{3})+4, f(\frac{n}{4})+5, f(\frac{n}{5})+6), &amp; \text{if $n&gt;1$}
\end{cases}$$</span></p>

<pre class="lang-python prettyprint-override"><code>&quot;...&quot;             # Define the recursive string explained below
     ©            # Store it in variable `®` (without popping)
      .V          # Pop and evaluate it as 05AB1E code
                  # (after which the result is output implicitly)

D                 # Duplicate the current value n
                  # (which will use the implicit input in the first iteration)
 1›               # Pop and check whether it's larger than 1
   D              #  Duplicate this check
   i              #  Pop the copy, and if it's truthy:
    4L            #  Push list [1,2,3,4]
      +           #  Add the truthy check that's still on the stack: [2,3,4,5]
       D          #  Duplicate this list
        Š         #  Tripleswap to [2,3,4,5],n,[2,3,4,5]
         /        #  Divide [n/2,n/3,n/4,n/5]
           δ      #  Map over each value:
          ® .V    #   And do a recursive eval to `®`
              +   #  Then add the values in the two lists together:
                  #   [2+f(n/2),3+f(n/3),4+f(n/4),5+f(n/5)]
               &gt;  #  Increase each by 1
                  #   [3+f(n/2),4+f(n/3),5+f(n/4),6+f(n/5)]
                ß #  Pop and leave the minimum
                  # (implicit else: use the duplicated falsey check, aka 0)
</code></pre>

<pre class="lang-python prettyprint-override"><code>•¬òÃ,v₅aw°Üÿ∊•     # Push compressed integer 50972899172091152076282460330 
  82в              # Convert it to base-82 as list:
                   #  [1,0,2,3,3,4,5,6,6,7,9,8,27,12,81,16]
     2ô            # Split it into pairs:
                   #  [[1,0],[2,3],[3,4],[5,6],[6,7],[9,8],[27,12],[81,16]]
       ε           # Map over each pair [u,c]:
        `          #  Pop and push both values to the stack
         Š         #  Triple-swap u,c to c,i,u, where i is the implicit input
          /        #  Divide the input by u
           4.n     #  Take log_4 of it
              î    #  Ceil it
               5*  #  Multiply by 5
                 + #  Add c
       }ß          # After the map: pop and leave the minimum
                   # (which is output implicitly as result)
</code></pre>
<p><a href="https://codegolf.stackexchange.com/a/166851/52210">See this 05AB1E tip of mine (sections <em>How to compress large integers?</em> and <em>How to compress integer lists?</em>)</a> to understand why <code>•¬òÃ,v₅aw°Üÿ∊•</code> is <code>50972899172091152076282460330 </code> and <code>•¬òÃ,v₅aw°Üÿ∊•82в</code> is <code>[1,0,2,3,3,4,5,6,6,7,9,8,27,12,81,16]</code>.</p>
</div>
<div id="pu8" class="pu"><h1><a href="http://picat-lang.org" rel="nofollow noreferrer">Picat</a>, 41 bytes</h1>
<pre><code>f(1)=0.
f(N)=[f(N/&gt;I)+I+1:I in 2..5].min.
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m720IDM5sWTB0pLEpJzUpaUlaboWNzXTNAw1bQ30uNI0_DRto4Gkvp2nprantqGVp0JmnoKRnp5prF5uZp4eVMO83ESgsK0dF2daflFqYnKGhh9InaGenrGRpkJBUWZeSZqGkmqKgmpKTJ6SjoKfjgLIaE2F1LwUHTRNZnp6RobYNBlpaYH1gWi4VkxlhgYgAFIIYWlqQl25YAGEBgA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Same approach as <a href="https://codegolf.stackexchange.com/a/273930/78410">xnor's Python answer</a>: recurses through the cases of <code>ctrl+A C V{1,4}</code> to get at least N characters as a result.</p>
<p>With the help of <code>table</code> in the header section, it computes all test cases almost instantly. Thanks to the <code>/&gt;</code> operator which does ceil-ed integer division, all intermediate arguments are integers without any complications, and we can simply pattern-match the 1 as the base case.</p>
<p>Bitwise not operator <code>~</code> exists in Picat, but it doesn't like putting the two symbols <code>-~</code> side-by-side, so the usual <code>-~</code> trick does not save any bytes.</p>
</div>
<div id="pu9" class="pu"><h1>JavaScript (ES6), 98 bytes</h1>
<p>Basically a direct implementation of the (fixed) formula given in the challenge.</p>

<pre class="lang-javascript prettyprint-override"><code>with(Math)f=n=&gt;min(...[81,27,9,6,5,3,2,1].map((v,i)=&gt;ceil(log(n/v)/log(4))*5-~(37115838&gt;&gt;i*4&amp;15)))
</code></pre>
<p><a href="https://tio.run/##ZdJBboMwEEDRfU/BqrIjB5ixxzYLuEFPUHWBaNI4IhA1iO56dVqqENzBK0vP8pfGPtdjfWs@w3XYd/37YZq@wnASL/VwkseyK6tL6ESapq8eFDpVKKtIaYUK3tJLfRViVEGWVXMIrWj7D9Flo8zmjZFyR/tvoR0Aee2rKuzMM5CUcmr67ta3h3Q@dxSQ/C0pkyxL8qf/iDFqhiZGYuhj9AzBRgg8qjFWXrUmVp4F9JHyLpJdFXmXACPlXcjRrMq7mBu/Ku@avLDrGHnXQ4GrbrpWe/NQ2szKWf9Q3rVE2i5qeBc05A4X5V20CMYsyruEBr1fdPO@v9MgZ@8/Y/Op8sIB4V23c57XcjNOPw" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu10" class="pu"><h1>Google Sheets, 68 bytes</h1>
<pre class="lang-cpp prettyprint-override"><code>=SORTN(5*CEILING(LOG(A1/{1;2;6;3;9;27;81;5},4))+{1;3;7;4;8;12;16;6}) 
</code></pre>
</div>
<div id="pu11" class="pu"><h1><a href="https://docs.python.org/3.8/" rel="noreferrer">Python 3</a>, 48 bytes</h1>

<pre class="lang-python prettyprint-override"><code>f=lambda n:n&gt;1and-~min(i+f(n/i)for i in b"&#2;&#3;&#4;&#5;")
</code></pre>
<p><a href="https://tio.run/##Fcu9CoAgFAZQ6Geop5AmLxURLhHUuyhmXagvkZaWXt1qPXD8fW0n1OBDjG7a9WGsFhgx9xq2fQ6G5NpJdEzuDIIFQ5gqSbO8ovgLfgka6yL7Rikay8IHxiXRfI0ovg" rel="noreferrer" title="Python 3.8 (pre-release) – Try It Online">Try it online!</a></p>
<p><strong>50 bytes</strong></p>

<pre class="lang-python prettyprint-override"><code>f=lambda n:n&gt;1and min(i+1+f(n/i)for i in[2,3,4,5])
</code></pre>
<p><a href="https://tio.run/##FctBCoMwEAXQtZ5ilhkcKGksiGAvUlxE0uhA/YbgxtPHdPvgpevcDrgh5VLi9PP7EjxhxNt6BNoVRjvbRYOHcjwyKSk@T3HSy2vm8idUouyxfo0V53hsm5QVp4HUx1xu" rel="noreferrer" title="Python 3.8 (pre-release) – Try It Online">Try it online!</a></p>
<p>Doesn't bother with the formula. Instead, implements the <a href="https://math.stackexchange.com/a/4939642/24654">characterization from the math SE post</a> where each step creates 2, 3, 4, or 5 copies of the strings for that many operations plus one.</p>
<p>The outputs don't match the formula-derived test cases on powers of 4, but as Bubbler points out, this is due to a typo in the formula in the math SE post.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/273927/">273927</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




