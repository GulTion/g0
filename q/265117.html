<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::265117</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>117</td><td>Ruby</td><td>230911T194208Z</td><td><a href="https://codegolf.stackexchange.com/questions/265117/how-many-ways-to-cut-a-number-into-an-equation/265131#265131">Value In</a></td></tr>
<tr d-ix="1"><td>034</td><td>Jelly</td><td>230911T184123Z</td><td><a href="https://codegolf.stackexchange.com/questions/265117/how-many-ways-to-cut-a-number-into-an-equation/265130#265130">Jonathan</a></td></tr>
<tr d-ix="2"><td>200</td><td>GNU sed E</td><td>230911T172203Z</td><td><a href="https://codegolf.stackexchange.com/questions/265117/how-many-ways-to-cut-a-number-into-an-equation/265128#265128">Philippo</a></td></tr>
<tr d-ix="3"><td>133</td><td>JavaScript ES6</td><td>230911T173117Z</td><td><a href="https://codegolf.stackexchange.com/questions/265117/how-many-ways-to-cut-a-number-into-an-equation/265129#265129">Arnauld</a></td></tr>
<tr d-ix="4"><td>270</td><td>Python</td><td>230911T170855Z</td><td><a href="https://codegolf.stackexchange.com/questions/265117/how-many-ways-to-cut-a-number-into-an-equation/265127#265127">corvus_1</a></td></tr>
<tr d-ix="5"><td>180</td><td>Python</td><td>230911T152440Z</td><td><a href="https://codegolf.stackexchange.com/questions/265117/how-many-ways-to-cut-a-number-into-an-equation/265122#265122">bsoelch</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, 117 bytes</h1>
<p>Takes a string as input. Creates every possible combination of operators and counts which ones have no leading zeroes and <code>eval</code> to <code>true</code>.</p>
<p>This is probably the only time in Ruby golfing when <code>do</code>/<code>end</code> will ever be cheaper than the curly brace syntax, since that allows <code>rescue SyntaxError</code> without adding a <code>begin</code> block like it normally would. (Inline <code>rescue</code> doesn't catch SyntaxError so the longer syntax is required.)</p>
<pre class="lang-ruby prettyprint-override"><code>-&gt;s{[p].product(*[%W&quot;#{} == + - *&quot;]*s.size).count do
!p==eval(e=_1.zip(s.chars)*'')&amp;&amp;/0\d/!~e
rescue SyntaxError;end}
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=LY1fToNAGMTfv1N8QG2BBrpL21Bj1jdP4IMPlBCExZJU2OwftSV4EV-aVA_V27imTjLJZJLfzNe3NM-H07lh2x-jm2hzMdG9GjKRx0L2tam0H2Y3T643jMgYzjHC0M1DFav2yIO46k2nse7BEYzxt3Lvc1bQ-NgKX8XVrpQqCGezYDpdkG29cD45SK4qw_Hx0Ony40HKXt7xrh7_z5fvu3bP8YVrBTgp7ET_KhxAYbRCt8m8SZEjQ29oMptGFyx7RU-XeQqrBNIUKKFAE2vyF6wgXdPEVsvVGm5JQjfkyvwC" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, <s> 35 </s> 34 bytes</h1>
<pre><code>DŒṖḌD$ƑƇḌżFŒVṚṁ2ƊƑʋⱮL’“*+,-”ṗƲ$€FS
</code></pre>
<p>A monadic Link that accepts a positive integer and yields the count.</p>
<p><strong><a href="https://tio.run/##y0rNyan8/9/l6KSHO6c93NHjonJs4rF2IOPonkcb1/k8apj5qGGOlraO7qOGuQ93Tj@2ye1R05pjXUDi4a6@o5PCHu5sBGkwcgWKBP/XOdyu6f7/f7S5joKJkY6COZA2NDAEEkYgwgDMBAKgjKmhEUjY2MRUR8HSwMjQwiAWAA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>
<h3>How?</h3>
<p><em>Outdated (although similar in nature)...</em></p>
<pre><code>DŒṖḌD$ƑƇḌżⱮL’“*+,-”ṗƲF€Ɗ€ẎŒVṁƑƇ2E€S - Link: positive integer, N
D                                   - get a list of N's digits
 ŒṖ                                 - all partitions of that list
       Ƈ                            - keep those for which:
      Ƒ                             -   is invariant under?:
     $                              -     last two links as a monad:
   Ḍ                                -       convert each part from base ten
    D                               -       convert these back to digit lists
                                        - i.e. no part has a leading zero?
        Ḍ                           - convert parts of each partition from base ten
                        €           - for each:
                       Ɗ            -   last three links as a monad:
                    Ʋ               -     last four links as a monad:
           L                        -       length
            ’                       -       decrement
             “*+,-”                 -       &quot;*+,-&quot;
                   ṗ                -       Cartesian power
          Ɱ                         -     map with:
         ż                          -       zip
                     F€             -     flatten each
                         Ẏ          - tighten
                          ŒV        - evaluate each as Python code
                              Ƈ     - filter keep those for which:
                             Ƒ      -   is invariant under?:
                            ṁ  2    -     mould to length two
                                E€  - for each: all equal?
                                  S - sum
</code></pre>
</div>
<div id="pu2" class="pu"><h1>GNU <code>sed -E</code>, 200 bytes</h1>
<p>For some not-so-obvious reason, I decided to solve this by myself in <code>sed</code>, misusing the shell for expression evaluation with the <code>e</code> flag of the GNU version of the tool:</p>
<pre><code>s/$/ /;:1;s/^([^ ]*[0-9])([0-9][^ ]* )/\1_\2\1==\2/;t1;s/[^ ]*//;s/_//g;:2;s/([^ ]*[0-9])([0-9][^ ]*)/\1#\2 \1+\2 \1-\2 \1*\2/;t2;s/#//g;s/[^ ]*/+$((&amp;))/g;s/[^ ]*[ =*+-]0[0-9][^ ]*//g;s/.*/echo $((&amp;))/e
</code></pre>
<p><strong><a href="https://tio.run/##dY3NDsIgEIRfhaSN4Se4wMmWcPQpgPagTfVSmrTefHaxrH8nL7Ob2Zlvl@Esx@mWc6vtAh31HYncK9lERnGgQcm9ZgyC7oMhQTsXDNi1NPAMsG09wGhbs21/IKVfYV@gSlSOqFKrCuBDFDWlu@3l1/HEcSGj@vFe8T2H4XRJ5J0fcm6U0Qf1SPN6TdOS5fEJ" rel="nofollow noreferrer" title="sed – Try It Online">Try it online!</a></strong></p>
<ul>
<li><code>:1;s/^([^ ]*[0-9])([0-9][^ ]*( |$))/\1_\2 \1==\2/;t1</code> looping to add <code>==</code> between each pair of digits, marking already considered pairs by <code>_</code></li>
<li><code>s/[^ ]*//</code> removes the part without <code>==</code></li>
<li><code>s/_//g</code> removes the <code>_</code> marker</li>
<li><code>:2;s/([^ ]*[0-9])([0-9][^ ]*)/\1#\2 \1+\2 \1-\2 \1*\2/;t2</code> expands each pair of digits to versions with <code>+</code>, <code>-</code>, <code>*</code> and a <code>#</code> for &quot;we can also leave them together&quot;</li>
<li><code>s/#//g</code> another marker remover</li>
<li><code>s/[^ ]*/+$((&amp;))/g</code> turns each equation in to an arithmetic expansion <code>$(())</code></li>
<li><code>s/[^ ]*[ =*+-]0[0-9][^ ]*//g</code> is needed to remove all equations including a leading zero</li>
<li><code>s/.*/echo $((&amp;))/e</code> finally evaluates the whole rubbish</li>
</ul>
<p>Smells like this could be done better, but today I can't see how.</p>
</div>
<div id="pu3" class="pu"><h1>JavaScript (ES6), 133 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>f=([c,...a],s,g=o=&gt;f(a,[s]+c+o))=&gt;c?g``+g`==`+g`+`+g`-`+g`*`:RegExp(`^${p=(q=&quot;(0|[1-9]\\d*)&quot;)+`(\\D${q})*`}==${p}$`).test(s)&amp;&amp;eval(s)
</code></pre>
<p><a href="https://tio.run/##fc5Ra4MwEAfw930KCVISo2mSVmwH6V62L7BXdSSkMaxIYxcpg87P7nSUrtRu9/Dn4HfH3U4dldcf702b7N3W9H0lYK5jQogqYx9b4cSmgirOfYk1dgiJjX6yUmIrhRgTj5GMEcnHV2NfPhso38JTI@BBAEi/cpasy6LYRgggLGFRPIenQ4ci2QkxjHWhRKQ1voUezWbmqOqh6bXbe1cbUjsLKwgyEIyFUDCfB/ThRpcc/KNZdqXsVhll4KKLifIrvbP7s3xWPuGhfnn6V8r4hdPp5cUyBX/pmnK2ouD8ddZ/Aw" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>How?</h3>
<p>We recursively build all possible expressions obtained by inserting <code>&quot;&quot;</code>, <code>&quot;==&quot;</code>, <code>&quot;+&quot;</code>, <code>&quot;-&quot;</code> or <code>&quot;*&quot;</code> after each character.</p>
<p>For each final string, we test whether it matches:</p>
<pre class="lang-javascript prettyprint-override"><code>^(0|[1-9]\d*)(\D(0|[1-9]\d*))*==(0|[1-9]\d*)(\D(0|[1-9]\d*))*$
</code></pre>
<p>If it does, we can safely <code>eval()</code>'uate it and increment the result if it's truthy.</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 270 bytes</h1>
<pre class="lang-python prettyprint-override"><code>lambda s:len({q for r in range(len(s)+1)for o in combinations(&quot;+-*&quot;*len(s),r)for p in permutations([*s,&quot;==&quot;,*o])if findall(&quot;\\d&quot;,q:=&quot;&quot;.join(p))==[*s]and t(q)and not search(&quot;(^|\\D)[-+*]&quot;,q)})
def t(p):
 try:return eval(p)
 except:0
from itertools import*
from re import*
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=TdDRSsMwFIBhvO2Fz3DIbpKuk1YdSqF3vsU6IVsTF2mT7ORUHeqTeDMQfSd9GttFcVeHfPyHhLx9-h1tnN2_66r-6EnPrr9PTlvZrRoJoWyV5c9b0A4BwVhAae8UHzWIaSFGd6OvXbcyVpJxNnA2naUsjVGGh8iPkVfY9fQbLdKQsapiWeqWwmjQxjaybTmr64Zl27Ji7OzeGcu9EFU11EtpGyC-FeO0jiAoiesNZ_z2pa5vxGI2TZfDpngVSaP0kHpRJkC4K1FRjxbUg2wHTEA9rZWnMk80ug4MKSTn2gCm8w4pjYzq7xy_5evRo7HE8ww0Z1dMiOQYLs__pYjJUXNxkCIvRppEm8dqXoybMAEynQrgespg1RPERweYx-v3-zh_AA" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu5" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 180 bytes</h1>
<pre class="lang-python prettyprint-override"><code>lambda s:len(set(filter(eval,q(s,&quot;==&quot;))))
q=lambda s,c:[l+c+r for i in range(1,len(s))for l in e(s[:i])for r in e(s[i:])]
e=lambda s:[s]*(s==str(int(s)))+q(s,&quot;+&quot;)+q(s,&quot;-&quot;)+q(s,&quot;*&quot;)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=XY5NDsIgEIX3PQVhNdg2EX9SQ8JJahdVQUmQKqCJKw_iponRE3gZb2N_rAnOhnkfM2_e7Xm4-F1l6rvky8fJy3Txfulyv9qUyDEtDDjhQSrthQVxLnVyBJdgzjFpKjryYTZZs1zH69giWVmkkDLIlmYrgCadCyEt1y0X4HKmig7YAShWkCISPz-Wu2IEjnPnLSjjWwcSd8dj_G3SoRlh8s1-Pdh2WALOmoTRT80mgczCXzqmoZ6EOpvTcJ829bcxnc0b0seo6_79AA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p><em>Takes the string representation of the number as input</em></p>
<p>Generates all possible equations, uses <code>eval</code> to compare the results</p>
<p>The <code>*(s==str(int(s)))</code> part prevents leading zeros</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/265117/">265117</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




