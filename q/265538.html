<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::265538</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>287</td><td>Scala</td><td>230928T072622Z</td><td><a href="https://codegolf.stackexchange.com/questions/265538/funny-numbers-d/265553#265553">138 Aspe</a></td></tr>
<tr d-ix="1"><td>131</td><td>Python</td><td>230927T211254Z</td><td><a href="https://codegolf.stackexchange.com/questions/265538/funny-numbers-d/265540#265540">97.100.9</a></td></tr>
<tr d-ix="2"><td>3775</td><td>Vyxal</td><td>230927T233843Z</td><td><a href="https://codegolf.stackexchange.com/questions/265538/funny-numbers-d/265546#265546">lyxal</a></td></tr>
<tr d-ix="3"><td>112</td><td>Ruby</td><td>230928T102752Z</td><td><a href="https://codegolf.stackexchange.com/questions/265538/funny-numbers-d/265560#265560">G B</a></td></tr>
<tr d-ix="4"><td>188</td><td>Excel</td><td>230928T093401Z</td><td><a href="https://codegolf.stackexchange.com/questions/265538/funny-numbers-d/265555#265555">Jos Wool</a></td></tr>
<tr d-ix="5"><td>035</td><td>05AB1E</td><td>230928T071735Z</td><td><a href="https://codegolf.stackexchange.com/questions/265538/funny-numbers-d/265552#265552">Kevin Cr</a></td></tr>
<tr d-ix="6"><td>065</td><td>APLDyalog Unicode</td><td>230927T222649Z</td><td><a href="https://codegolf.stackexchange.com/questions/265538/funny-numbers-d/265545#265545">ovs</a></td></tr>
<tr d-ix="7"><td>055</td><td>Charcoal</td><td>230927T234047Z</td><td><a href="https://codegolf.stackexchange.com/questions/265538/funny-numbers-d/265547#265547">Neil</a></td></tr>
<tr d-ix="8"><td>197</td><td>Retina 0.8.2</td><td>230928T000619Z</td><td><a href="https://codegolf.stackexchange.com/questions/265538/funny-numbers-d/265548#265548">Neil</a></td></tr>
<tr d-ix="9"><td>123</td><td>JavaScript Node.js</td><td>230928T030025Z</td><td><a href="https://codegolf.stackexchange.com/questions/265538/funny-numbers-d/265549#265549">tsh</a></td></tr>
<tr d-ix="10"><td>136</td><td>JavaScript ES11</td><td>230927T220824Z</td><td><a href="https://codegolf.stackexchange.com/questions/265538/funny-numbers-d/265544#265544">Arnauld</a></td></tr>
<tr d-ix="11"><td>089</td><td>Raku</td><td>230927T215905Z</td><td><a href="https://codegolf.stackexchange.com/questions/265538/funny-numbers-d/265543#265543">Sean</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="http://www.scala-lang.org/" rel="nofollow noreferrer">Scala</a>, 287 bytes</h1>
<p>Port of <a href="https://codegolf.stackexchange.com/a/265540/110802">@97.100.97.109's Python answer</a> in Scala.</p>
<p><span class="math-container">\$\color{red}{\text{But the scala code fails on some cases. Any help would be appreciated.}}\$</span></p>
<p>e.g.</p>
<p><code>800813800813 : 0.7</code> expected <code>800813800813 : 0.3</code></p>
<hr />
<p>Golfed version. <a href="https://tio.run/##ZZBPawIxEMXvfooQpCQqafaP29WSBYuUHhRKpfQoaxw1Jd2VnSgF8bOvWaTsQg/DHN6bN78Z1LnN63LzDdqRJYFfB8UWyex4vPR65Jxboqdk5SpT7FU2L08bC0TVqLIXs5@DNj@5ZQwFWrP1FhZxoctT4dhaKRqHkvJhOGjlsCsnE69GA2Z2DJVCUcEZKoQHFBaKvTtkAQ8IWAQi@TDupCTdlFTKNIh80vieJBr@L@MO7L6/k5H8czQIrYELV95PfPxj4ALBrfyPgAWj9mTx4fc3LMtyC@Jttnhdf7634/XzwqBjdJJMPEMY@05HVPpqkEY0jKOxTKMwluP0iXKxKyvI9YEZlR39p50tGNK@IVPSv2hm@NVTXusb" rel="nofollow noreferrer">Try it online!</a></p>
<pre class="lang-scala prettyprint-override"><code>s=&gt;BigDecimal((s.sliding(3).count(_==&quot;420&quot;)+2*s.sliding(2).count(_==&quot;69&quot;)+3*(if(s==s.reverse&amp;s.length&gt;1)1 else 0)+4*s.sliding(6).count(_==&quot;800813&quot;)+5*(if(s.endsWith(&quot;420&quot;))1 else 0)+6*(if(s.endsWith(&quot;69&quot;))1 else 0)).toDouble/s.length).setScale(1,BigDecimal.RoundingMode.HALF_UP).toDouble
</code></pre>
<p>Ungolfed version. <a href="https://tio.run/##dVNda9tAEHzvrxhECKc6lWXJVm1TFxxC6UMCJSb0oZSgSGv70vOd0Z1CS/Bvd1cfUazQgpB0q52bvZmRzVKVHo/m4ZEyh5tUatBvRzq3WO73eH4H8JXTGtyYlSp1tMpMQcLOsXKF1Bt/jitTPijCom4HnlKFzJTajaOQizawSubcKWI/qOviHosFPP7s@X1EMusBoj4gmZ3071MldV6YHV0aXVrGyTWErRptUNATFZZwfs4LRXrjtviMkY8RSHE97NNOw3A6iusthGVK7VgIK7ym7vk@xi0OGA6xzB9L6yiHM6jekG0p@1XxvyBYRGmdBcvptgRbK9Vxsrx89t7YQSX5d@m2opHlH5NyRzL7H6iS5gTTgZxxqaodY1BnygAR3neKDxDz6q2eg540A0y453TwAZKm0g7VcF7KzRVlcpcq8UodONNGZNjZ4QeW3IpDRWJ0cQILbpm1Mv/G5BR8XV5/ub/75nc7MMmhYjLsbyFzqqO5Y7dEWmw4k8uiSP/8aJL5k6N5p6XrBVPqfekqBa/ZIOHNkhmfKBrz07t4sa81kddhdasM4Uc0jifhNI7G4WT6sQ3i2hQQEp8@tPv6LROw5wmc0sJ6ZxJznD2/@X@kf2j3ONRnOhyPfwE" rel="nofollow noreferrer">Try it online!</a></p>
<pre class="lang-scala prettyprint-override"><code>object Main extends App {
  
  def calculateScore(s: String): Double = {
    val count420 = s.sliding(3).count(_ == &quot;420&quot;)
    val count69 = s.sliding(2).count(_ == &quot;69&quot;)
    val palindromeBonus = if (s == s.reverse &amp;&amp; s.length &gt; 1) 1 else 0
    val count800813 = if(s.contains(&quot;800813&quot;)) 4 else 0  // Adjusted to just check if &quot;800813&quot; exists in the string
    val end420Bonus = if (s.endsWith(&quot;420&quot;)) 1 else 0
    val end69Bonus = if (s.endsWith(&quot;69&quot;)) 1 else 0

    val totalScore = count420 + 2 * count69 + 3 * palindromeBonus + count800813 + 5 * end420Bonus + 6 * end69Bonus

    BigDecimal(totalScore.toDouble / s.length).setScale(1, BigDecimal.RoundingMode.HALF_UP).toDouble
  }

  override def main(args: Array[String]): Unit = {
    val inputs = List(&quot;96942024969&quot;, &quot;800813800813&quot;, &quot;0&quot;, &quot;420&quot;, &quot;2435083240587&quot;)
    for (i &lt;- inputs) {
      println(s&quot;$i : ${calculateScore(i)}&quot;)
    }
  }
}
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, <s>136</s> 131 bytes</h1>
<p><em>-5 from <a href="https://codegolf.stackexchange.com/users/53748/jonathan-allan">@Jonathan Allan</a></em></p>
<pre class="lang-python prettyprint-override"><code>lambda s:&quot;%0.1f&quot;%(((c:=s.count)(m:=&quot;420&quot;)+2*c(&quot;69&quot;)+3*(s[:1]&lt;s*c(s[::-1]))+4*(&quot;800813&quot;in s)+5*(e:=s.endswith)(m)+6*e(&quot;69&quot;))/len(s))
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=LY5BasMwEEX3OYUYCMzYTirLsiuL-iSuF6ljEUEih0ihZJ1jdGMo7Z16m8rYm_l_Bub9__V7fYTT6KZv07z_3IPZqb_n-XD5OB6Y17Dl-9zAFhF73fh9P95dILzoBqTgQKlIeoSqjq5I0Lc67958PEWnd3lHlMoEQXGu8gKsY57SMsFhRg3u6D9tOEUapVUyLBh6OQ8OPdFapTXjjVkWX1uoqzqGChkVMrZSV3bc-TzmVlGELEquCiF5qV6h0xvGrjfrAtoMNGQGLdFmiZimRf8B" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>A crappy solution, but a solution nonetheless.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, 302 <a href="https://github.com/Vyxal/Vyncode/blob/main/README.md" rel="nofollow noreferrer">bits<sup>v2</a></sup>, 37.75 bytes</h1>
<pre><code>⁺md69&quot;₌vøEvO?₍λḂ⁼n₀&gt;*;‡800813c$WfÞż∑$L/1∆W
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/?v=2#WyI9IiwiIiwi4oG6bWQ2OVwi4oKMdsO4RXZPP+KCjc674biC4oG8buKCgD4qO+KAoTgwMDgxM2MkV2bDnsW84oiRJEwvMeKIhlciLCIiLCI4MDA4MTM4MDA4MTMiXQ==" rel="nofollow noreferrer">Try it Online!</a></p>
<p>Many more bytes added to handle single digits not being a palindrome.</p>
</div>
<div id="pu3" class="pu"><h1><a href="https://www.ruby-lang.org/" rel="nofollow noreferrer">Ruby</a>, <s>114</s> 112 bytes</h1>

<pre class="lang-ruby prettyprint-override"><code>-&gt;n{b=0;[/420/,/69/,n[1]?n.reverse: ?a,/(800813.*)+/,/420$/,/69$/].sum{|x|n.scan(x).size*b+=1.0/n.size}.round 1}
</code></pre>
<p><a href="https://tio.run/##NYxLDoIwFEXnroIQBvxsX0vBokEWQjoALYkDq2mDQYG11wbC5P5ycvXQfW1f2eNVTV0FlwYzCjjFRYlT1RBRK6TlR2ojz17dpjjkAJxkKI4SRzk2WOEAC2SG5zSPs0Lm1qpwjJB5/GTcJRVBgNXaFqRfg7p7ZLFvr2/8sijdBWXOfXFYp@1/032DPTh4j5RlOfCMMsj5yRf2Dw" rel="nofollow noreferrer" title="Ruby – Try It Online">Try it online!</a></p>
</div>
<div id="pu4" class="pu"><h1>Excel, 188 bytes</h1>
<pre><code>=LET(
    a,800813,
    b,{69,420},
    c,A1,
    d,LEN(c),
    ROUND(
        SUM(
            MMULT(d-LEN(SUBSTITUTE(c,b,&quot;&quot;)),1/{1;3}),
            3*(d&gt;1)*(c=0+CONCAT(MID(c,d-SEQUENCE(d)+1,1))),
            4*(FIND(a,c&amp;a)&lt;d),
            (0+RIGHT(c,{2,3})=b)*{6,5}
        )/d,
        1
    )
)
</code></pre>
<p>Input in cell <code>A1</code>.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/265538/">265538</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




