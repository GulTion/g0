<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::1938</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>025</td><td>APLNARS</td><td>240212T140356Z</td><td><a href="https://codegolf.stackexchange.com/questions/1938/code-golf-lattice-points-inside-a-circle/270020#270020">Rosario</a></td></tr>
<tr d-ix="1"><td>042</td><td>JavaScript ES7</td><td>240212T090520Z</td><td><a href="https://codegolf.stackexchange.com/questions/1938/code-golf-lattice-points-inside-a-circle/270014#270014">Arnauld</a></td></tr>
<tr d-ix="2"><td>009</td><td>05AB1E</td><td>240212T083040Z</td><td><a href="https://codegolf.stackexchange.com/questions/1938/code-golf-lattice-points-inside-a-circle/270011#270011">Kevin Cr</a></td></tr>
<tr d-ix="3"><td>028</td><td>APL Dyalog Unicode SBCS</td><td>240116T024922Z</td><td><a href="https://codegolf.stackexchange.com/questions/1938/code-golf-lattice-points-inside-a-circle/269282#269282">nyxbird</a></td></tr>
<tr d-ix="4"><td>116</td><td>C gcc</td><td>240112T195541Z</td><td><a href="https://codegolf.stackexchange.com/questions/1938/code-golf-lattice-points-inside-a-circle/269177#269177">vengy</a></td></tr>
<tr d-ix="5"><td>055</td><td>Scala</td><td>231014T025838Z</td><td><a href="https://codegolf.stackexchange.com/questions/1938/code-golf-lattice-points-inside-a-circle/265991#265991">138 Aspe</a></td></tr>
<tr d-ix="6"><td>013</td><td>Uiua</td><td>231013T085038Z</td><td><a href="https://codegolf.stackexchange.com/questions/1938/code-golf-lattice-points-inside-a-circle/265966#265966">Bubbler</a></td></tr>
<tr d-ix="7"><td>128</td><td>Pascal</td><td>230910T090033Z</td><td><a href="https://codegolf.stackexchange.com/questions/1938/code-golf-lattice-points-inside-a-circle/265074#265074">Kai Burg</a></td></tr>
<tr d-ix="8"><td>080</td><td>JavaScript ES6</td><td>160511T145257Z</td><td><a href="https://codegolf.stackexchange.com/questions/1938/code-golf-lattice-points-inside-a-circle/79735#79735">Neil</a></td></tr>
<tr d-ix="9"><td>014</td><td>Pyke</td><td>160511T174850Z</td><td><a href="https://codegolf.stackexchange.com/questions/1938/code-golf-lattice-points-inside-a-circle/79739#79739">Blue</a></td></tr>
<tr d-ix="10"><td>083</td><td>PHP</td><td>160514T055719Z</td><td><a href="https://codegolf.stackexchange.com/questions/1938/code-golf-lattice-points-inside-a-circle/79902#79902">axiac</a></td></tr>
<tr d-ix="11"><td>011</td><td>Stax</td><td>190208T223826Z</td><td><a href="https://codegolf.stackexchange.com/questions/1938/code-golf-lattice-points-inside-a-circle/179712#179712">recursiv</a></td></tr>
<tr d-ix="12"><td>012</td><td>Japt x</td><td>190207T211414Z</td><td><a href="https://codegolf.stackexchange.com/questions/1938/code-golf-lattice-points-inside-a-circle/179659#179659">Kamil Dr</a></td></tr>
<tr d-ix="13"><td>014</td><td>APL Dyalog Extended</td><td>190207T205947Z</td><td><a href="https://codegolf.stackexchange.com/questions/1938/code-golf-lattice-points-inside-a-circle/179656#179656">lirtosia</a></td></tr>
<tr d-ix="14"><td>060</td><td>C gcc</td><td>190207T223935Z</td><td><a href="https://codegolf.stackexchange.com/questions/1938/code-golf-lattice-points-inside-a-circle/179671#179671">ceilingc</a></td></tr>
<tr d-ix="15"><td>111</td><td>Tcl</td><td>160514T173628Z</td><td><a href="https://codegolf.stackexchange.com/questions/1938/code-golf-lattice-points-inside-a-circle/79925#79925">D&#250;t</a></td></tr>
<tr d-ix="16"><td>035</td><td>Mathematica</td><td>160514T062715Z</td><td><a href="https://codegolf.stackexchange.com/questions/1938/code-golf-lattice-points-inside-a-circle/79905#79905">Sparr</a></td></tr>
<tr d-ix="17"><td>048</td><td>Python 2</td><td>160512T163454Z</td><td><a href="https://codegolf.stackexchange.com/questions/1938/code-golf-lattice-points-inside-a-circle/79800#79800">xnor</a></td></tr>
<tr d-ix="18"><td>041</td><td>Haskell</td><td>160512T162249Z</td><td><a href="https://codegolf.stackexchange.com/questions/1938/code-golf-lattice-points-inside-a-circle/79797#79797">xnor</a></td></tr>
<tr d-ix="19"><td>044</td><td>Haskell</td><td>160511T175353Z</td><td><a href="https://codegolf.stackexchange.com/questions/1938/code-golf-lattice-points-inside-a-circle/79740#79740">Damien</a></td></tr>
<tr d-ix="20"><td>085</td><td>Clojure/ClojureScript</td><td>160511T173745Z</td><td><a href="https://codegolf.stackexchange.com/questions/1938/code-golf-lattice-points-inside-a-circle/79738#79738">MattPutn</a></td></tr>
<tr d-ix="21"><td>018</td><td>J</td><td>110403T162711Z</td><td><a href="https://codegolf.stackexchange.com/questions/1938/code-golf-lattice-points-inside-a-circle/1943#1943">Jesse Mi</a></td></tr>
<tr d-ix="22"><td>021</td><td>J</td><td>110403T151530Z</td><td><a href="https://codegolf.stackexchange.com/questions/1938/code-golf-lattice-points-inside-a-circle/1941#1941">J B</a></td></tr>
<tr d-ix="23"><td>055</td><td>Python 55 Chars</td><td>110403T144919Z</td><td><a href="https://codegolf.stackexchange.com/questions/1938/code-golf-lattice-points-inside-a-circle/1940#1940">fR0DDY</a></td></tr>
<tr d-ix="24"><td>nan</td><td>Ruby 1.9</td><td>110403T143435Z</td><td><a href="https://codegolf.stackexchange.com/questions/1938/code-golf-lattice-points-inside-a-circle/1939#1939">Ventero</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>APL(NARS), 25 chars</h1>
<pre><code>{1+4×+/⌊√(⍵*2)-¨2*⍨¯1+⍳⍵}
</code></pre>
<p>test:</p>
<pre><code>  f←{1+4×+/⌊√(⍵*2)-¨2*⍨¯1+⍳⍵}
  f 0
1
  f 1
5
  f 3
29
  f 10
317
  f 1000
3141549
  f 2000
12566345
</code></pre>
</div>
<div id="pu1" class="pu"><h1>JavaScript (ES7), 42 bytes</h1>

<pre class="lang-javascript prettyprint-override"><code>f=(n,k=n)=&gt;k--?((n*n-k*k)**.5&lt;&lt;2)+f(n,k):1
</code></pre>
<p><a href="https://tio.run/##ZctLDsIgFIXhuavokIvQ9vKo0RRdS1OLsTRgrHH7WByQiGf6/Wce3sM6Pu@PF/fhOsVoDfHMGQ/m7Di/EOKp5446oLTWfS9gb1MAJ4xj8GtYpnoJN2IJAlTbmqbSu18RWVAWJDOJY0HYfm0jiYc/a5MmY6iQaVW@RS5QMN11TCodPw" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 9 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>(Ÿn¬sãO@O
</code></pre>
<p>Port of <a href="https://codegolf.stackexchange.com/a/179659/52210"><em>@KamilDrakari</em>'s Japt answer</a>, so make sure to upvote that answer as well!</p>
<p><a href="https://tio.run/##yy9OTMpM/f9f4@iOvENrig8v9nfw///f0MDAEAA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/V9Waa@k8KhtkoKSfaXLf42jO/IOrSk@vNjfwf@/zv9oQx0jHWMdQwMgAmMwARQEsmIB" rel="nofollow noreferrer">verify all test cases</a>. (Runs <code>1001</code> in about 3.5 seconds on TIO.)</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>(          # Negate the (implicit) input-integer
 Ÿ         # Push a list in the range [(implicit) input,-input]
  n        # Square each inner value
   ¬       # Push the first item (without popping the list), which is input²
    s      # Swap so the list is at the top again
     ã     # Cartesian power of 2 to get all possible pairs
      O    # Sum all those inner pairs together
       @   # Check for each whether the input² is &gt;= this value
        O  # Sum to get the amount of truthy values
           # (which is output implicitly as result)
</code></pre>
<p><a href="https://tio.run/##VZAxSwQxEIV7f8Ww1R6soK1wKliIjSdYisXcObsJ7ia5ZOLi77G1ukKsV/xdazI5PSzCQN5737zEBlxrmufqxrjIZ1A1y@nj4qi6pQ6ZgBWB/lXqIt1ZB2iewMWgAKHXgZNHrB5NR/AgieZYxmNOfn@W6P02oicg3Ch4wT5SFk3RromF0WqfgUwD1EKYdgsYNSsbGZx1TptOjHlxzk/ve/iIrpFmXUJh3yd3CHrdEzhMULDtv1z4etsH41AqaWPIiznrq6JeKdo8Q2t98YyKEsQffmbagQ5wvkw3af696vLAZiuNcgIHGw1LEx9ZvRZ/gHpUOhdIJaNPhxN4ISWaeT49@QE" rel="nofollow noreferrer">Try it online with a step-by-step output.</a></p>
</div>
<div id="pu3" class="pu"><h1><a href="https://www.dyalog.com/" rel="nofollow noreferrer">APL (Dyalog Unicode)</a> (<a href="https://github.com/abrudz/SBCS" rel="nofollow noreferrer">SBCS</a>), 28 bytes</h1>
<pre><code>{1+4×⍵++/,(×⍨⍵)≥+/¨×⍨∘.,⍨⍳⍵}
{                          } dfn
                     ∘.,⍨⍳⍵  get cartesian square of 1..n
                   ×⍨        square each half of each pair
                +/¨          add each half of each pair
       +/,     ≥             count sums greater than
          (×⍨⍵)                  the input squared
 1+4×⍵+                      add the input, multiply by 4, and add 1
</code></pre>
<p>Finds the lattice points in one quadrant, then multiplies it by 4 and adds the points on the axes.</p>
<p><a href="https://tio.run/##SyzI0U2pTMzJT///v9pQ2@Tw9Ee9W7W19XU0QKwVQI7mo86l2vqHVkD4HTP0dMDim4FStf/dHrVNIF0b16O@qUCNbgqGcJYRnGWMkDUwMPgPAA" rel="nofollow noreferrer" title="APL (Dyalog Unicode) – Try It Online">Try it online!</a></p>
</div>
<div id="pu4" class="pu"><h1>C (gcc), 116 bytes</h1>
<pre><code>a,x,y;c(r){for(x=-r;x&lt;=r;x++)for(y=-r;y&lt;=r;a+=x*x+y*y&lt;=r*r,y++);return a;}main(r){scanf(&quot;%u&quot;,&amp;r);printf(&quot;%d&quot;,c(r));}
</code></pre>
<p><strong>How it works</strong></p>
<p>This inefficient method draws a square around the circle then iterates through all lattice points <span class="math-container">\$(x,y)\$</span> within it and checking if <span class="math-container">\$x^2+y^2 \le r^2 \$</span>.</p>
<p><a href="https://tio.run/##FY3bCsIwEER/RQJKrtA@r/mYZTWloFG2LSZIf921@zJwDsMMpYlIBGOLHciy@5YX25YTQ7vmI0JwarqargZDbr6F7pU8x340gO/rxvWEsD9xrjqzENZizXkz8cIO3jzXVflmot442EXGYRh/VB44LZI@fw" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu5" class="pu"><h1><a href="http://www.scala-lang.org/" rel="nofollow noreferrer">Scala</a>, 55 bytes</h1>
<p><a href="https://tio.run/##FY2xCsIwFEV3v@KOScXQglOhBUeHTuIkDs/a1kj6WpNXQaTfHuNyhwP3nNCSozjdnl0raMgyvhvgTQ59iSNLVadBhchVrXIsLNaBtRlpVraqG5KHCS8vijPe2cxqI1N6aBOWMdtviwjcux5jMivyQyhx8J4@l5N4y8NVlzizTYF/FZgTFMeqV0WeF1onuG7W@AM" rel="nofollow noreferrer">Try it online!</a></p>
<pre><code>n=&gt;(0 until n).map(i=&gt;Math.sqrt(n*n-i*i).toInt).sum*4+1
</code></pre>
</div>
<div id="pu6" class="pu"><h1><a href="https://www.uiua.org" rel="nofollow noreferrer">Uiua</a>, 13 bytes</h1>
<pre><code>∧+1×4⌊√×⊃+-⇡.
</code></pre>
<p><a href="https://www.uiua.org/pad?src=ZiDihpAg4oinKzHDlzTijIriiJot4oipJ8OXLuKHoS4KZiDihpAg4oinKzHDlzTijIriiJrDl-KKgyst4oehLgoKZiAxCmYgMgpmIDMKZiAxMApmIDEwMDAKZiAyMDAw" rel="nofollow noreferrer">Try it online!</a></p>
<p>Uses the formula on <a href="https://oeis.org/A057655" rel="nofollow noreferrer">A057655</a> <span class="math-container">\$ 1+4\sum_{k=0}^{n}{\left\lfloor\sqrt{n^2-k^2}\right\rfloor} \$</span>, and uses the fact that <code>k=n</code> part can be removed.</p>
<pre><code>∧+1×4⌊√×⊃+-⇡.    input: integer n
            ⇡.    keep n and generate the range for k
       ×⊃+-      (n+k) * (n-k) for each k
      ⌊√          sqrt, floor
∧+1×4            multiply 4, sum, and add 1
</code></pre>
</div>
<div id="pu7" class="pu"><h2>Pascal, 128 B</h2>
<p>This just walks the lattice grid and checks whether the distance to the origin is less than or equal to the radius.</p>
<pre class="lang-pascal prettyprint-override"><code>type Z=integer;function f(r:Z):Z;var x,y,n:Z;begin
n:=0;for x:=-r to r do for y:=-r to r do n:=n+ord(sqrt(x*x+y*y)&lt;=r);f:=n
end;
</code></pre>
<p>User time on a <em>busy</em> Linux x86‑64 machine for calculating <code>f(1001) = 3147833</code>: ca. 80 ms.
Calculate just the points in one quadrant to cut the time.</p>
</div>
<div id="pu8" class="pu"><h2>JavaScript (ES6), 80 bytes</h2>
<pre><code>n=&gt;(a=[...Array(n+n+1)].map(_=&gt;i--,i=n)).map(x=&gt;a.map(y=&gt;r+=x*x+y*y&lt;=n*n),r=0)|r
</code></pre>
<p>Alternative version, also 80 bytes:</p>
<pre><code>n=&gt;[...Array(n+n+1)].map((_,x,a)=&gt;a.map((_,y)=&gt;r+=x*x+(y-=n)*y&lt;=n*n,x-=n),r=0)|r
</code></pre>
<p>ES7 version, also 80 bytes:</p>
<pre><code>n=&gt;[...Array(n+n+1)].map((_,x,a)=&gt;a.map((_,y)=&gt;r+=(x-n)**2+(y-n)**2&lt;=n*n),r=0)|r
</code></pre>
</div>
<div id="pu9" class="pu"><h2>Pyke, 14 bytes</h2>
<pre><code>QFXQX-_,B)s}}h
</code></pre>
<p><a href="http://pyke.catbus.co.uk/?code=QFXQX-_%2CB%29s%7D%7Dh&amp;input=1" rel="nofollow noreferrer">Try it here!</a></p>
</div>
<div id="pu10" class="pu"><h1>PHP, <strike>85</strike> 83 bytes</h1>
<p>The code:</p>
<pre><code>function f($n){for($x=$n;$x;$c+=$x,$y++)for(;$n*$n&lt;$x*$x+$y*$y;$x--);return$c*4+1;}
</code></pre>
<p>Its outcome (check <a href="https://3v4l.org/bC0cY" rel="nofollow noreferrer">https://3v4l.org/bC0cY</a> for multiple PHP versions):</p>
<pre><code>f(1001)=3147833
time=0.000236 seconds.
</code></pre>
<p>The ungolfed code:</p>
<pre><code>/**
 * Count all the points having x &gt; 0, y &gt;= 0 (a quarter of the circle)
 * then multiply by 4 and add the origin.
 *
 * Walk the lattice points in zig-zag starting at ($n,0) towards (0,$n), in the
 * neighbourhood of the circle. While outside the circle, go left.
 * Go one line up and repeat until $x == 0.
 * This way it checks about 2*$n points (i.e. its complexity is linear, O(n))
 *
 * @param int $n
 * @return int
 */
function countLatticePoints2($n)
{
    $count = 0;
    // Start on the topmost right point of the circle ($n,0), go towards the topmost point (0,$n)
    // Stop when reach it (but don't count it)
    for ($y = 0, $x = $n; $x &gt; 0; $y ++) {
        // While outside the circle, go left;
        for (; $n * $n &lt; $x * $x + $y * $y; $x --) {
            // Nothing here
        }
        // ($x,$y) is the rightmost lattice point on row $y that is inside the circle
        // There are exactly $x lattice points on the row $y that have x &gt; 0
        $count += $x;
    }
    // Four quarters plus the center
    return 4 * $count + 1;
}
</code></pre>
<p>A naive implementation that checks <code>$n*($n+1)</code> points (and runs 1000 times slower but still computes <code>f(1001)</code> in less than 0.5 seconds) and the test suite (using the sample data provided in the question) can be found <a href="https://github.com/axiac/code-golf/blob/master/lattice-points-inside-a-circle.php" rel="nofollow noreferrer">on github</a>.</p>
</div>
<div id="pu11" class="pu"><h1><a href="https://github.com/tomtheisen/stax" rel="nofollow noreferrer">Stax</a>, 11 <a href="https://github.com/tomtheisen/stax/blob/master/docs/packed.md#packed-stax" rel="nofollow noreferrer">bytes</a></h1>

<pre><code>ä÷²M╨⌐■╝^₧░
</code></pre>

<p><a href="https://staxlang.xyz/#p=84f6fd4dd0a9febc5e9eb0&amp;i=1%0A2%0A3%0A10%0A1000%0A2000&amp;a=1&amp;m=2" rel="nofollow noreferrer">Run and debug it</a></p>
</div>
<div id="pu12" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a> <code>-x</code>, 12 bytes</h1>

<pre><code>òUn)ï Ëx²§U²
</code></pre>

<p><a href="https://ethproductions.github.io/japt/?v=1.4.6&amp;code=8lVuKe8gy3iyp1Wy&amp;input=MTAwCi14" rel="nofollow noreferrer">Try it online!</a></p>

<p>Explanation:</p>

<pre><code>òUn)            #Get the range [-input ... input]
    ï           #Get each pair of numbers in that range
      Ë         #For each pair:
       x        # Get the sum...
        ²       # Of the squares
         §      # Check if that sum is less than or equal to...
          U²    # The input squared
                #Output the number of pairs that passed the check
</code></pre>
</div>
<div id="pu13" class="pu"><h1><a href="https://github.com/abrudz/dyalog-apl-extended" rel="nofollow noreferrer">APL (Dyalog Extended)</a>, 14 bytes</h1>



<pre class="lang-apl prettyprint-override"><code>{≢⍸⍵≥|⌾⍀⍨⍵…-⍵}
</code></pre>

<p><a href="https://tio.run/##SyzI0U2pTMzJT9dNrShJzUtJTfn/qG@qp/@jtgkG/6sfdS561LvjUe/WR51Lax717HvU2/CodwWI37BMF0jV/k8DKnzU2wfR09V8aL3xo7aJQF5wkDOQDPHwDP6fpmBoYPAfAA" rel="nofollow noreferrer" title="APL (Dyalog Extended) – Try It Online">Try it online!</a></p>

<p>Despite lacking the <code>i:</code> (inclusive range from -n to n) builtin of J, APL Extended has shorter syntax in other areas.</p>

<pre class="lang-apl prettyprint-override"><code>{≢⍸⍵≥|⌾⍀⍨⍵…-⍵}            Monadic function taking an argument n.
           ⍵…-⍵             n, n-1, ..., -n
      ⌾⍀                   Make a table of complex numbers
                            (equivalent to ∘.{⍺+1J×⍵} in Dyalog APL)
         ⍨                  with both real and imaginary parts from that list.
      |                       Take their magnitudes.
    ⍵≥                        1 where a magnitude are is at most n, and 0 elsewhere.
 ⍸                           Get all indices of truthy values.
≢                            Find the length of the resulting list.
</code></pre>
</div>
<div id="pu14" class="pu"><h1><a href="https://gcc.gnu.org/" rel="nofollow noreferrer">C (gcc)</a>, 60 bytes</h1>



<pre class="lang-c prettyprint-override"><code>r,a;f(x){for(a=r=x*x;a--;)r-=hypot(a%x+1,a/x)&gt;x;x=4*r+1;}
</code></pre>

<p><a href="https://tio.run/##bci9CoMwEADg3ccQhDtNqLHdjvRJuhwpsYJ/nA5XxFdvunRrvvELtg8hJTFMERSPuAiwF6@1EltLKNa/3uuyA1faOMMXxbuS@lstjaMzTTzMgEdRrDLMe4Syej7m0kRwiPSXXS6vuXRtftvsd78/0yfEkfst2XH6Ag" rel="nofollow noreferrer" title="C (gcc) – Try It Online">Try it online!</a></p>

<p>Loops over the first quadrant, multiplies the result by 4 and adds one. Slightly less golfed</p>

<pre class="lang-c prettyprint-override"><code>r,a;
f(x){
  for(a=r=x*x;a--;)
    r-=hypot(a%x+1,a/x)&gt;x;
  x=4*r+1;
}
</code></pre>
</div>
<div id="pu15" class="pu"><h1>Tcl, 111 bytes</h1>

<pre><code>lassign {1001 0 -1} r R x
while {[incr x]&lt;$r} {set R [expr {$R+floor(sqrt($r*$r-$x*$x))}]}
puts [expr {4*$R+1}]
</code></pre>

<p>Simple discrete <strong>x</strong> loop over quadrant I, counting largest <strong>y</strong> using the Pythagorean Theorem at each step. Result is 4 times the sum plus one (for the center point).</p>

<p>The size of the program depends on the value of <strong>r</strong>. Replace <code>{1001 0 -1}</code> with <code>"$argv 0 -1"</code> and you can run it with any command-line argument value for <strong>r</strong>.</p>

<p>Computes f(1001) → <code>3147833.0</code> in about 1030 microseconds, AMD Sempron 130 2.6GHz 64-bit processor, Windows 7.</p>

<p><sub>Obviously, the larger the radius, the closer the approximation to PI: f(10000001) runs in about 30 seconds producing a 15-digit value, which is about the precision of a IEEE double.</sub></p>
</div>
<div id="pu16" class="pu"><h2>Mathematica, 35 characters</h2>

<pre><code>f[n_]:=Sum[SquaresR[2,k],{k,0,n^2}]
</code></pre>

<p>Lifted from <a href="https://oeis.org/A000328" rel="nofollow">https://oeis.org/A000328</a></p>

<p><a href="https://reference.wolfram.com/language/ref/SquaresR.html" rel="nofollow">https://reference.wolfram.com/language/ref/SquaresR.html</a></p>

<p><code>SquaresR[2,k]</code> is the number of ways to represent k as the sum of two squares, which is the same as the number of lattice points on a circle of radius k^2. Sum from k=0 to k=n^2 to find all the points on or inside a circle of radius n.</p>
</div>
<div id="pu17" class="pu"><h2>Python 2, 48 bytes</h2>

<pre class="lang-python prettyprint-override"><code>f=lambda n,i=0:i&gt;n or(n*n-i*i)**.5//1*4+f(n,i+1)
</code></pre>
<p>Like <a href="https://codegolf.stackexchange.com/a/1940/20260">fR0DDY's solution</a>, but recursive, and returns a float. Returning an int is 51 bytes:</p>
<pre class="lang-python prettyprint-override"><code>f=lambda n,i=0:i&gt;n or 4*int((n*n-i*i)**.5)+f(n,i+1)
</code></pre>
</div>
<div id="pu18" class="pu"><h2>Haskell, 41 bytes</h2>

<pre class="lang-haskell prettyprint-override"><code>f n=1+4*sum[floor$sqrt$n*n-x*x|x&lt;-[0..n]]
</code></pre>
<p>Counts points in the quadrant <code>x&gt;=0, y&gt;0</code>, multiplies by 4, adds 1 for the center point.</p>
</div>
<div id="pu19" class="pu"><h1>Haskell, 44 bytes</h1>



<pre class="lang-haskell prettyprint-override"><code>f n|w&lt;-[-n..n]=sum[1|x&lt;-w,y&lt;-w,x*x+y*y&lt;=n*n]
</code></pre>
</div>
<div id="pu20" class="pu"><h1>Clojure/ClojureScript, 85 chars</h1>

<pre><code>#(apply + 1(for[m[(inc %)]x(range 1 m)y(range m):when(&lt;=(+(* x x)(* y y))(* % %))]4))
</code></pre>

<p>Brute forces the first quadrant, including the y axis but not the x axis.  Generates a 4 for every point, then adds them together with 1 for the origin.  Runs in under 2 seconds for input of 1000.</p>

<p>Abuses the hell out of <code>for</code> to define a variable and save a few characters.  Doing the same to create an alias for <code>range</code> doesn't save any characters (and makes it run significantly slower), and it seems unlikely that you're going to save anything by making a square function.</p>
</div>
<div id="pu21" class="pu"><h2>J, <strike>21</strike> <strike>19</strike> 18</h2>

<pre><code>+/@,@(&gt;:|@j./~@i:)
</code></pre>

<p>Builds complexes from -x-xj to x+xj and takes magnitude. </p>

<p>Edit: With <code>&gt;:</code></p>

<p>Edit 2: With hook and monadic <code>~</code>. Runs a few times slower for some reason, but still 10-ish seconds for f(1000).</p>
</div>
<div id="pu22" class="pu"><h2>J, <s>27</s> 21</h2>

<pre><code>3 :'+/,y&gt;:%:+/~*:i:y'
</code></pre>

<p>Very brutal: computes <em>sqrt(x²+y²)</em> over the <em>[-n,n]</em> range and counts items <em>&le;n</em>.  Still very acceptable times for 1000.</p>

<p><strong>Edit</strong>: <code>i:y</code> is quite a bit shorter than <code>y-i.&gt;:+:y</code>.  Thanks <a href="https://codegolf.stackexchange.com/questions/1938/code-golf-lattice-points-inside-a-circle/1943#1943">Jesse Millikan</a>!</p>
</div>
<div id="pu23" class="pu"><p><strong>Python 55 Chars</strong></p>

<pre><code>f=lambda n:1+4*sum(int((n*n-i*i)**.5)for i in range(n))
</code></pre>
</div>
<div id="pu24" class="pu"><h2>Ruby 1.9, <del>62 58</del> 54 characters</h2>

<pre><code>f=-&gt;r{1+4*eval((0..r).map{|i|"%d"%(r*r-i*i)**0.5}*?+)}
</code></pre>

<p>Example:</p>

<pre><code>f[1001]
=&gt; 3147833

t=Time.now;f[1001];Time.now-t
=&gt; 0.003361411
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/1938/">1938</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




