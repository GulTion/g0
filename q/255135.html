<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::255135</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>022</td><td>Wolfram Mathematica</td><td>230904T022327Z</td><td><a href="https://codegolf.stackexchange.com/questions/255135/cgac2022-day-3-n-dimensional-chocolate-pyramid/264873#264873">138 Aspe</a></td></tr>
<tr d-ix="1"><td>020</td><td>APLDyalog Unicode</td><td>221204T230131Z</td><td><a href="https://codegolf.stackexchange.com/questions/255135/cgac2022-day-3-n-dimensional-chocolate-pyramid/255198#255198">att</a></td></tr>
<tr d-ix="2"><td>3029</td><td>05AB1E</td><td>221205T153335Z</td><td><a href="https://codegolf.stackexchange.com/questions/255135/cgac2022-day-3-n-dimensional-chocolate-pyramid/255230#255230">Kevin Cr</a></td></tr>
<tr d-ix="3"><td>073</td><td>JavaScript ES6</td><td>221203T033311Z</td><td><a href="https://codegolf.stackexchange.com/questions/255135/cgac2022-day-3-n-dimensional-chocolate-pyramid/255143#255143">Arnauld</a></td></tr>
<tr d-ix="4"><td>021</td><td>PARI/GP</td><td>221205T030336Z</td><td><a href="https://codegolf.stackexchange.com/questions/255135/cgac2022-day-3-n-dimensional-chocolate-pyramid/255210#255210">alephalp</a></td></tr>
<tr d-ix="5"><td>099</td><td>Python NumPy</td><td>221203T024503Z</td><td><a href="https://codegolf.stackexchange.com/questions/255135/cgac2022-day-3-n-dimensional-chocolate-pyramid/255141#255141">loopy wa</a></td></tr>
<tr d-ix="6"><td>084</td><td>Desmos</td><td>221203T062229Z</td><td><a href="https://codegolf.stackexchange.com/questions/255135/cgac2022-day-3-n-dimensional-chocolate-pyramid/255149#255149">Aiden Ch</a></td></tr>
<tr d-ix="7"><td>015</td><td>Jelly</td><td>221203T160407Z</td><td><a href="https://codegolf.stackexchange.com/questions/255135/cgac2022-day-3-n-dimensional-chocolate-pyramid/255158#255158">Jonathan</a></td></tr>
<tr d-ix="8"><td>207</td><td>Python3</td><td>221203T020751Z</td><td><a href="https://codegolf.stackexchange.com/questions/255135/cgac2022-day-3-n-dimensional-chocolate-pyramid/255140#255140">Ajax1234</a></td></tr>
<tr d-ix="9"><td>052</td><td>Charcoal</td><td>221203T120710Z</td><td><a href="https://codegolf.stackexchange.com/questions/255135/cgac2022-day-3-n-dimensional-chocolate-pyramid/255156#255156">Neil</a></td></tr>
</table>
<div id="pu0" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Mathematica</a>, 22 bytes</h1>
<p><a href="https://tio.run/##y00syUjNTSzJTE78n6ZgqxDz3yOxKDc/LzPZrzQ3KbUoukLHUFc5Vg0oqe@gEJSYl54abaijYKqjYBiroK8fUJSZV/IfAA" rel="nofollow noreferrer">Try it online!</a></p>
<pre class="lang-mathematica prettyprint-override"><code>HarmonicNumber[x,1-#]&amp;
</code></pre>
<hr />
<h3>How?</h3>
<p><code>Sum[k^(n - 1), {k, 1, x}] // FullSimplify</code> reduces to <code>HarmonicNumber[x, 1 - n]</code>.</p>
<p>Here <code>HarmonicNumber[n, r]</code> means the <span class="math-container">\$n\$</span>-th harmonic number of order <span class="math-container">\$r\$</span>: <span class="math-container">\$\ \ \ H_n^{(r)}=\sum_{i=1}^n 1 / i^r\$</span></p>
</div>
<div id="pu1" class="pu"><h1><a href="https://dyalog.com" rel="nofollow noreferrer">APL(Dyalog Unicode)</a>, <s>25 24 22</s> 20 bytes <sup><a href="https://github.com/abrudz/SBCS" rel="nofollow noreferrer">SBCS</a></sup></h1>
<p>-2 thanks to <a href="https://codegolf.stackexchange.com/posts/comments/565732">rak1507</a></p>
<pre><code>-0,⊢⌷∘⌹(1∘+!⍥-⍳)⍤0∘⍳
</code></pre>
<p><a href="https://razetime.github.io/APLgolf/?h=AwA&amp;c=0zXQedS16FHP9kcdMx717NQwBNLaio96l@o@6t2s@ah3iQFIonczAA&amp;f=40pTMORKUzACYmMgNgFiUwA&amp;i=AwA&amp;r=tryapl&amp;l=apl-dyalog&amp;m=dfn&amp;n=f" rel="nofollow noreferrer">Try it on APLgolf!</a></p>
<p>Outputs coefficients in ascending order.</p>
</div>
<div id="pu2" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, <s>39</s> 30 (or 29) <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>LIÝδcθāε!©yL/yGü-ā*}®/}*I/`a)˜
</code></pre>
<p>-9 bytes and increased both speed and floating point accuracy (up to <span class="math-container">\$n\leq20\$</span>) by porting <a href="https://codegolf.stackexchange.com/a/255156/52210"><em>@Neil</em>'s Charcoal answer</a> instead.<br />
Therefore also outputs as decimals.</p>
<p><a href="https://tio.run/##ATMAzP9vc2FiaWX//0xJw53OtGPOuMSBzrUhwql5TC95R8O8LcSBKn3Cri99KkkvYGEpy5z//zU" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##AUsAtP9vc2FiaWX/MTZFTj8iIOKGkiAiP07/TE7Dnc60Y864xIHOtSHCqXlML3lHw7wtxIEqfcKuL30qTi9gYSnLnP8s//8tLW5vLWxhenk" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p>If we're allowed to output each inner value wrapped in a list, it's 1 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">byte</a> less by removing the trailing <code>˜</code>:<br />
<a href="https://tio.run/##ATEAzv9vc2FiaWX//0xJw53OtGPOuMSBzrUhwql5TC95R8O8LcSBKn3Cri99KkkvYGEp//81" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##AUkAtv9vc2FiaWX/MTZFTj8iIOKGkiAiP07/TE7Dnc60Y864xIHOtSHCqXlML3lHw7wtxIEqfcKuL30qTi9gYSn/LP//LS1uby1sYXp5" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Original 39 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a> answer:</strong></p>
<pre><code>ÎLD&lt;δcÅl¾ζÐøU˜nO/тF©X2Føδ*O®}·s-}θ`s(s)
</code></pre>
<p>Port of <a href="https://codegolf.stackexchange.com/a/213920/52210"><em>@JonathanAllan</em>'s Jelly answer</a>, except without the builtins.. :/<br />
Therefore also outputs as decimals in reversed order.</p>
<p><a href="https://tio.run/##AU8AsP9vc2FiaWX//8OOTEQ8zrRjw4Vswr7OtsOQw7hVy5xuTy/RgkbCqVgyRsO4zrQqT8KufcK3cy19zrhgcyhzKf81LsOy/zX/LS1uby1sYXp5" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##AVwAo/9vc2FiaWX/NkVOPyIg4oaSICI//8K@TkxEPM60Y8OFbMK@zrbDkMO4Vcucbk8v0YJGwqlYMkbDuM60Kk/Crn3Ct3Mtfc64YHMocyn/NS7Dsiz//y0tbm8tbGF6eQ" rel="nofollow noreferrer">verify the first 6 test cases</a>. Very slow. Also rounds the result to 5 decimal points in the footer (feel free to remove the <code>5.ò</code> to see the actual unrounded output).</p>
<p>These kind of challenges aren't really 05AB1E's strong suit..</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>LIÝδcθ      # Get the input'th Pascal Triangle row:
L           #  Push a list in the range [1, (implicit) input]
 IÝ         #  Push another list in the range [0,input]
   δ        #  Apply double-vectorized over these two lists, creating a table of:
    c       #   Choose (binomial coefficient builtin)
     θ      #  Then only keep the last row of this matrix
āε!©yL/yGü-ā*}®/}
            # Get the first input amount of Bernoulli values:
ā           #  Push a list in the range [1,length] (without popping the list)
 ε          #  Map over each value:
  !         #   Push the factorial of this value
   ©        #   Store it in variable `®` (without popping)
    yL      #   Push a list in the range [1,value]
      /     #   Divide value! by each of these values
  yG        #   Loop the value-1 amount of times:
    ü       #    Map over each overlapping pair:
     -      #    Subtract them from one another
      ā     #    Push a list in the range [1,length] (basically [1,value])
       *    #    Multiply the values at the same positions in the lists
            #    (removing any access items of unequal length lists)
   }        #   Close the loop (resulting in a single wrapped value)
    ®/      #   Divide this wrapped result by the value! we've saved in variable `®`
 }          #  Close the map
*           # Multiply the values at the same positions in the lists together
 I/         # Divide each value by the input
   `a)      # Transform the trailing value to a 0:
   `        #  Pop the list and dump its values to the stack
    a       #  Transform the top value to 0 with an is_alphabetic builtin
     )      #  Wrap the values on the stack back into a list
      ˜     # (Optional: flatten the list of wrapped items to a list of items)
            # (after which the result is output implicitly)
</code></pre>
<p><code>!©yL/yGü-ā*}®/</code> calculates <a href="https://en.wikipedia.org/wiki/Bernoulli_number" rel="nofollow noreferrer">Bernoulli numbers</a>, based on <a href="https://codegolf.stackexchange.com/a/65537/52210">this CJam answer of @PeterTaylor</a>.<br />
(<a href="https://tio.run/##ATcAyP9vc2FiaWX/NjDGkk4/IiDihpIgIj9O/yHCqU4@TC9ORsO8LcSBKn3Cri//LP//LS1uby1sYXp5" rel="nofollow noreferrer">A 05AB1E port of his answer would start to give incorrect results from around <span class="math-container">\$n&gt;20\$</span>.</a>)</p>

<pre class="lang-python prettyprint-override"><code>Î           # Push 0 and the input-integer
 L          # Pop and push a list in the range [1,input]
  D&lt;        # Duplicate, and decrease each value to range [0,input)
    δ       # Apply double-vectorized over these two lists, creating a table of:
     c      #  Choose (binomial coefficient builtin)
 Ål         # Get the lower triangle of this matrix
    ζ       # Zip/transpose this triangular matrix,
   ¾        # using 0 as filler for the unequal length rows
 ÐøU˜nO/тF©X2Føδ*O®}·s-}
            # Calculate the Inverse of this matrix:
 Ð          #  Triplicate this matrix
  ø         #  Zip/transpose the now square matrix back in the top copy
   U        #  Pop and put this transposed copy in variable `X`
  ˜         #  Flatten another copy
   n        #  Get the square of each value in this list
    O       #  Then sum it together
     /      #  Divide the values in the matrix by this sum
тF          #  Loop 100 times:
  ©         #   Store the current matrix in variable `®`
   X        #   Push the matrix from variable `X`
    2F      #   Inner loop 2 times:
      ø     #    Zip/transpose; swapping rows/columns
       δ    #    Apply double-vectorized on the two matrices:
        *   #     Multiply the values at the same positions in the matrices together
         O  #    Sum each inner row
          ® #    Push the matrix from variable `®`
     }·     #   After the inner loop: double each inner value in the top matrix
       s    #   Swap so the other matrix is at the top
        -   #   Subtract the values at the same positions of the matrices
 }          #  Close the outer loop
  θ         # Leave the last row of this Inverted matrix
   `        # Pop and dump its values to the stack
    s       # Swap so the second last value as at the top
     (      # Negate it
      s     # Swap it back
       )    # Wrap all values (including the initial 0) on the stack into a list
            # (which is output implicitly as result)
</code></pre>
<p><code>ÐøU˜nO/тF©X2Føδ*O®}·s-</code> calculates the <a href="https://en.wikipedia.org/wiki/Invertible_matrix" rel="nofollow noreferrer">inverse of a matrix</a>, which I've done before in <a href="https://codegolf.stackexchange.com/a/213920/52210">this 05AB1E answer of mine</a>.</p>
</div>
<div id="pu3" class="pu"><h1>JavaScript (ES6), 73 bytes</h1>
<p><em>-7 bytes thanks to <a href="https://codegolf.stackexchange.com/users/17602/neil">@Neil</a></em></p>
<p>Expects <code>(n,k)</code>, with <span class="math-container">\$n\$</span> 0-indexed. Returns the coefficient of <span class="math-container">\$x^k\$</span> in the <span class="math-container">\$n\$</span>-th polynomial as a floating-point number.</p>

<pre class="lang-javascript prettyprint-override"><code>f=(n,k,p=k)=&gt;p--?f(n,k,p)*(p-n)/~p:(b=j=&gt;j--?b(j)-f(k,j):1)(k)/(n+1-k||1)
</code></pre>
<p><a href="https://tio.run/##bVTNcpswEL77KfaGFPMnASLYxZleeusTeDwdYuPU4EgMIUzapn2CzvTSY/sefZ68QB/BESCEIb5Iy@633367ksiSOnnYloeisrjYpafTPkbczM0iznG8KizrZt994ytUWBw7P4oFuo2zeJXJ2C3KsLVHuZnhBcEoxw7ic2Llz88En9KnIt1W6Q5iWM8A1kBMcGFjdrZDzW45c3lm72cjv6/90nJHoUCHvDZkSWOMYAoROIT2EGWdoULzXFILYq0ha45FXitQqPlCh/oK@5Y4UnDaC5R5QWvRJnZRMnFVkqcabpJcVUIV9RzqTmsRontlirpL6ut0uTI6ni/pGydkGFLbqdv62MQVXOiT6MPT4C6N0ma4rWSv7yLoh8EimRNO29fn7Q1yfM9hagTSpNeDW82BDQfcsPoXxhPoo1MdRWr0HSk5I1VCI918wxl1znByPclwxXzN218Jf@jBp1GLlbYfjNUqtBcMN3y2Wc64KO@T4@FrKt9QDfEK0Mek@myX4pHvUA1XQFKGwWk3uxIfDk/pDjG8nO1FibhMcpfA4R0QJvf5HMM3KVk8Vs2TtG37fVkmXyRuDhRv7PukQOiTCTluKunSqPkBSCfGdiYOHBlgyAIA8nlLmv6Rr7kiqN8S1NPUreAP4pjaR3GHpBqzk9SSwQ0Y///9evnzW64GLMB4@fuzyfp@egU" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Less golfed</h3>

<pre class="lang-javascript prettyprint-override"><code>c = (n, k) =&gt; k-- ? c(n, k) * (k - n) / ~k : 1
b = (n, k) =&gt; k-- ? b(n, k)- f(n, k) : 1
f = (n, k) =&gt; k == n + 1 ? 0 : c(n, k) * b(k, k) / (n + 1 - k)
</code></pre>
<p><a href="https://tio.run/##bY3LbsIwFET3@YrZcU2wIUh0AbhVN@z6BQgh51USg41MikAV/HpwwktIrObO3DOaUu3VLnHFtuLGplldJ5Ag04NmkJ/QnOMLyS3ogjQ4DEMfZ40xoiB@g8fXgCO/fRowfwUhJQxCRJ4feOA5EZNur77HW4B7V@fWeSsxmPjaFNGH1zBk@A@AxJqdXWdibX9pLoT4dk4d2/KQLcRGbYmW92H6UdVKOPtnUsofm1E2agYbEZWdFYcspRFjorSFoQ46jAWn@gI" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>How?</h3>
<p>As a starting point, I used:</p>
<ul>
<li><p>the first alternate expression <a href="https://en.wikipedia.org/wiki/Faulhaber%27s_formula#Alternate_expressions" rel="nofollow noreferrer">given on Wikipedia</a> for Faulhaber's formula:</p>
<p><span class="math-container">$$\color{grey}{\sum_{k=1}^n k^p=}\sum_{k=0}^p\dfrac{(-1)^{p-k}}{k+1}\binom{p}{k}B^-_{p-k}\color{grey}{n^{k+1}}$$</span></p>
<p>(note that the convention used here is <span class="math-container">\$B^-_1=-1/2\$</span> rather than <span class="math-container">\$B^+_1=+1/2\$</span>)</p>
</li>
<li><p>the following recursive formula for Bernoulli numbers (also <a href="https://en.wikipedia.org/wiki/Bernoulli_number#Recursive_definition" rel="nofollow noreferrer">from Wikipedia</a>):</p>
<p><span class="math-container">$$B^-_m=\delta_{m,0}-\sum_{k=0}^{m-1}\binom{m}{k}\dfrac{B^-_k}{m-k+1}$$</span></p>
<p>(where <span class="math-container">\$\delta\$</span> is the Kronecker delta, which means that we have <span class="math-container">\$\delta_{m,0}=1\$</span> if <span class="math-container">\$m=0\$</span> and <span class="math-container">\$\delta_{m,0}=0\$</span> otherwise)</p>
</li>
</ul>
<p>We can notice similarities between these formulae. So I've tried to factorize as much code as possible (especially the binomial and the division) and eventually came up with the following recursive functions:</p>
<p><span class="math-container">$$b(n,k)=\begin{cases}1&amp;\text{if }k=0\\
b(n,k-1)-f(n,k-1)&amp;\text{if }k&gt;0\end{cases}$$</span></p>
<p><span class="math-container">$$f(n,k)=\begin{cases}0&amp;\text{if }k=n+1\\
\dfrac{\binom{n}{k}\times b(k,k)}{n+1-k}&amp;\text{if }k&lt;n+1
\end{cases}$$</span></p>
<p>The coefficient of <span class="math-container">\$x^k\$</span> in the 0-indexed <span class="math-container">\$n\$</span>-th polynomial is given by <span class="math-container">\$f(n,k)\$</span>.</p>
<p>In the final JS code, the recursive computation of the binomial is merged into <span class="math-container">\$f\$</span> and the first argument of <span class="math-container">\$b\$</span> is actually taken from the scope of the caller.</p>
</div>
<div id="pu4" class="pu"><h1><a href="https://pari.math.u-bordeaux.fr" rel="nofollow noreferrer">PARI/GP</a>, 21 bytes</h1>
<pre><code>n-&gt;sumformal(x^n--,x)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m728ILEoMz69YMHiNAXbpaUlaboWW_N07YpLc9Pyi3ITczQq4vJ0dXUqNCFyN1WAwhp5CrYKhjoKhmY6CgVFmXklQAElBV07IJGmkaepCVW7YAGEBgA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>A built-in.</p>
<hr />
<h1><a href="https://pari.math.u-bordeaux.fr" rel="nofollow noreferrer">PARI/GP</a>, 36 bytes</h1>
<pre><code>n-&gt;(1/(1-1/matpascal(n))[,^n+1])[n,]
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m728ILEoMz69YMHiNAXbpaUlaboWN1XydO00DPU1DHUN9XMTSwoSi5MTczTyNDWjdeLytA1jNaPzdGJhatPyizTyFGwVDHUUDM10FAqKMvNKgAJKCrp2QCINpE0TonbBAggNAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Output a list of coefficients in ascending order.</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a> NumPy, 99 bytes</h1>
<pre class="lang-python prettyprint-override"><code>f=lambda n,i=1:q**~-n if i&gt;n else(X:=f(n,i+1))+(q-1)**i/i*X[i-1]
from numpy import*
q=poly1d([1,0])
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=NY4xDoIwFEB3TvHHttDI3wxJPQcJYUCh-gn9LbUMLF7EhUXv5G10wPm95L3nO6zp5nnbXkuy-vi5WDN17tx3wAUZrGalHpqBLNCJYZjug6grY8WP5ihlLmaNUik6kKob0thmNnoHvLiwArngY1LZbIKfVuxFg0XZyj0F1kcYgRhix9dBYIGlrEIkTsKKUe7ef-0L" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 103 bytes</h1>
<pre class="lang-python prettyprint-override"><code>def f(n):
 Q=8**n;D,N=1,Q**n
 while n:D*=n;s=(2*N//Q**n-~Q)//2%Q-Q//2;N=N*n+Q*(Q-1)**n*s;yield s/D;n-=1
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=NY5BCoMwFET3nuJ3UUi-hjSuxJCd60COUDDRiHxFLcVNL9KNm_ZOvU0tbVcz8B7M3J_jurQDbdvjsgRRvJraBwiMeJmAMwUi6SqzRmVurwlc29h7oLJCQ3o2LEcr5QeJm-NS5kcn3B7aGouUOmROKL5jnPUafV_DLCtNwqjf3CEME3QQCaYzNZ6pTJ14OU6RFoaBdZx_xf-_Nw" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Pure Python version using <a href="https://codegolf.stackexchange.com/a/169115/107561">this tip</a> by @xnor.</p>
<h3><a href="https://www.python.org" rel="nofollow noreferrer">Python</a> NumPy, 104 bytes</h3>
<pre class="lang-python prettyprint-override"><code>lambda n:[Q:=q**~-n,*[Q:=Q+(q-1)**i/i*Q[i-1]for i in r_[n:0:-1]]][-1]
from numpy import*
q=poly1d([1,0])
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=LY1BDoIwFET3nKLL9ksj3ZkmHIJ1aQwGKyX0tzRlwcaLuCExeidvIyibmclk8ubxDnPqPC5PU9avKRl--nRD4y5tQ1CqSpYjwJ1jDluuDnTkggHYo4VKWS608ZFYYpHEs0JZyLXSWq2amegdwcmFmVgXfEyQjWXwwyxaqkReaLb_kY3R_xgN3q5U5KJgMkSLiRras323LH__Ag" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Now doing the Gauss elimination by hand.</p>
<h3><a href="https://www.python.org" rel="nofollow noreferrer">Python</a> NumPy, 115 bytes</h3>
<pre class="lang-python prettyprint-override"><code>lambda n:-q*([q**~-n]*mat([q**n+((q-1)**i-q**i)for i in r_[n:0:-1]])[:,1:].I).A1
from numpy import*
q=poly1d([1,0])
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=RY1NCsIwFIT3PUWWSWxK304CXbj0DDFIpEYDzcuP6aIbL-KmIHonb6NowdUwfMM3t2ecyjngfLfd7jEWK9avy2D8oTcEpUicqsT5VaDm3pRvwRWlSQDj3H04d8yGTBxxSPJeoWylAK2ZkjVI3WxZs4HK5uAJjj5OxPkYcuFV6mIYJuipgrrVbLkmf5fB05FCDS2TMTss1FLHlt08__IN" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>Directly solves the linear system of equations that arises from checking terms between p(X) and p(X-1). Uses polynomial (X-1)^k to generate binomial coefficients as needed.</p>
<p>Returns actual polynomials (<code>poly1d</code> objects).</p>
<h3>More explanation:</h3>
<p>Consider the n+1 dimensional vector space of polynomials of degree &lt;= n with monomials 1,X,X^2,... as a basis. Changing variables X |-&gt; X+d for any constant d induces a linear map L_d from the vector space onto itself as evaluating a polynomial p(X) at X+d yields a new polynomial in X of the same degree. The coefficients of the matrix representing this map will be products of binomial coefficients and powers of d.</p>
<p>Now let us focus on the specific polynomial c(X) this challenge is asking for. This polynomial has the property c(j)-c(j-1)=j^(n-1) for any natural number j. As both sides of this equation are polynomials they must be identical c(X)-c(X-1) = X^(n-1). This can be written in terms of the substitution maps L_d, viz.:X^(n-1) =(L_0-L_-1) c.</p>
<p>What the code does is solving (or asking a library to solve) this equation.</p>
</div>
<div id="pu6" class="pu"><h1><a href="https://desmos.com/calculator" rel="nofollow noreferrer">Desmos</a>, <s>86</s> 84 bytes</h1>
<pre><code>K=[0...m-1]
S(m)=join(nCr(m,K)/m∑_{k=0}^K∑_{v=0}^k(-1)^vnCr(k,v)(v+1)^K/(k+1),0)
</code></pre>
<p>My outputs quickly deviate from the actual solutions due to some weird floating point issues, though that is allowed by OP.</p>
<p><a href="https://www.desmos.com/calculator/dkqxshzcco" rel="nofollow noreferrer">Try It On Desmos!</a></p>
<p><a href="https://www.desmos.com/calculator/dngxrnku6x" rel="nofollow noreferrer">Try it On Desmos! - Prettified</a></p>
<p>Copying off formulas from Wikipedia go brrr :P</p>
<h3>How?</h3>
<p>I first started off from this <a href="https://en.wikipedia.org/wiki/Bernoulli_number#Sum_of_powers" rel="nofollow noreferrer">formula</a> from Wikipedia:
<span class="math-container">$$S_m(n)=\frac1{m+1}\sum_{k=0}^m\binom{m+1}kB_k^+n^{m+1-k}$$</span>
Where (<a href="https://en.wikipedia.org/wiki/Bernoulli_number#Explicit_definition" rel="nofollow noreferrer">formula</a> also from Wikipedia):
<span class="math-container">$$B_m^+=\sum_{k=0}^m\sum_{v=0}^k(-1)^v\binom kv\frac{(v+1)^m}{k+1}$$</span>
So,
<span class="math-container">$$S_m(n)=\frac{\displaystyle\sum_{k=0}^mn^{m+1-k}\binom{m+1}k\sum_{x=0}^k\sum_{v=0}^x(-1)^v\binom xv\frac{(v+1)^k}{x+1}}{m+1}$$</span>
But this formula is shifted one to the left of what is expected; for example, <span class="math-container">\$S_3(n)\$</span> gives <span class="math-container">\$0.25n^4+0.5n^3+0.25n^2\$</span>, which is actually the expected output for <code>4</code>. To fix this, we will have to shift it back to the right; namely, we have to calculate <span class="math-container">\$S_{m-1}(n)\$</span> instead. Plugging this into our formula gives:
<span class="math-container">$$S_{m-1}(n)=\frac{\displaystyle\sum_{k=0}^{m-1}n^{m-k}\binom mk\sum_{x=0}^k\sum_{v=0}^x(-1)^v\binom xv\frac{(v+1)^k}{x+1}}m$$</span>
Notice that this is just a sum of monomials in terms of <span class="math-container">\$n\$</span>, and that the sum goes from higher powers of <span class="math-container">\$n\$</span> to lower powers of <span class="math-container">\$n\$</span>. So, the list of descending coefficients would be:
<span class="math-container">$$\frac{\displaystyle\binom mk\sum_{x=0}^k\sum_{v=0}^x(-1)^v\binom xv\frac{(v+1)^k}{x+1}}m$$</span>
for <span class="math-container">\$k=0,1,\ldots,m-1\$</span>.</p>
<p>But looking back at the formula for <span class="math-container">\$S_{m-1}(n)\$</span>, the outer sum only goes from monomials in terms of <span class="math-container">\$n^m\$</span> to <span class="math-container">\$n\$</span>; specifically, we are missing the constant term. This means that the constant term is always <span class="math-container">\$0\$</span>, which have the concatenate to the end of the list.</p>
</div>
<div id="pu7" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, <s> 24 23 </s> 15 <a href="https://github.com/DennisMitchell/jelly/wiki/Code-page" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>c×&gt;ɗþḶZæ*-ṪŻN-¦
</code></pre>
<p>A monadic Link that accepts a positive integer, <span class="math-container">\$n\$</span>, and yields the coefficients in ascending order.</p>
<p><strong><a href="https://tio.run/##ASQA2/9qZWxsef//Y8OXPsmXw77huLZaw6YqLeG5qsW7Ti3Cpv///zU" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>
<h3>How?</h3>
<pre><code>c×&gt;ɗþḶZæ*-ṪŻN-¦ - Link: positive integer, n
     Ḷ          - lowered range (n) -&gt; [0 .. n-1]
    þ           - (i in [1 .. n]) table (j in [0 .. n-1]) with operator:
   ɗ            -   last three links as a dyad f(i,j):
c               -     (i) choose (j)
  &gt;             -     (i) greater than (j)?
 ×              -     multiply -&gt; iCj if i&gt;j else 0
      Z         - transpose
         -      - -1
       æ*       - matrix power
          Ṫ     - tail
           Ż    - prepend a zero
              ¦ - sparse application...
             -  - ...to indices: -1 (penultimate)
            N   - ...action: negate
</code></pre>
</div>
<div id="pu8" class="pu"><h1>Python3, 207 bytes:</h1>
<pre class="lang-py prettyprint-override"><code>import math
R=range
C=math.comb
B=lambda n,c={0:1,1:0.5}:c[n]if n in c else 1-sum(B(k)/(n-k+1)*C(n,k)for k in R(n))
def r(N):
 d=[0]*-~N
 for i in R(N):d[N-i]+=(1/N)*(-1)**i*C(N,i)*[B(i),-.5][i==1]
 return d
</code></pre>
<p><a href="https://tio.run/##PY@xboMwEIbn@iluPDs2waqiVpa8kJ0hq@WBYEgswoEcMkRR@@rUtFLH0333/f/Nz@U60fvnnNY1jvOUFhib5cpONjV06djRbmPRTuOZVfbWjOfQAMnWvkqjpTZlcfgyrSMfeyCIBC10t3sHWt0fI1Y48D2SGnaaiyOSHHg/JRg28ITEOQtdDwlrbhgE60ov1HfNYIPiH5RXwdUq@p1Fva@5QJVdImZdLSMXrsLIpSoO3kVrtWeQuuWRCML6b/l9BXPdj5zzNqdIC6Z85oxR2vP1Bw" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu9" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, 52 bytes</h1>
<pre><code>Ｎθ≔⟦¹⟧ηＦθ«⊞υ⁻¹↨Ｅυ∕×κ§ηλ⁻⊕ιλ¹⊞η⁰ＵＭη⁺κ§η⊖λ»Ｉ∕Ｅυ×ι§ηκθ0
</code></pre>
<p><a href="https://tio.run/##XY69C8IwEMVn@1cEpwtEsINTJz@WDkoHN3GI7WlDm7TNhwji3x4TrYguB/fevd@9sua67Hjrfa56Z3dOnlDDQLNkaYy4KDikR0bqsJ87TYJB7smkcKYGx8hWKGcgZWTFDcKW91HciKuoEPZCooGGkaXNVYU3qBlpKf2EclVqlKgsViDoywozDTMb@eF@HpeAXXdSclVFqWjdP3WDX1TEhNAjKbRQFtbcWBgLjfXevcQPoYm/h1fynZvOpzTzfuFn1/YJ" rel="nofollow noreferrer" title="Charcoal – Try It Online">Try it online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>Ｎθ
</code></pre>
<p>Input <code>n</code>.</p>
<pre><code>≔⟦¹⟧η
</code></pre>
<p>Start with the first row of Pascal's Triangle.</p>
<pre><code>Ｆθ«
</code></pre>
<p>Loop <code>n</code> times.</p>
<pre><code>⊞υ⁻¹↨Ｅυ∕×κ§ηλ⁻⊕ιλ¹
</code></pre>
<p>Calculate the next Bernoulli number.</p>
<pre><code>⊞η⁰ＵＭη⁺κ§η⊖λ
</code></pre>
<p>Calculate the next row of Pascal's triangle.</p>
<pre><code>»Ｉ∕Ｅυ×ι§ηκθ
</code></pre>
<p>Output the first <code>n</code> coefficients.</p>
<pre><code>0
</code></pre>
<p>Output the constant term.</p>
<p>55 bytes for a version with less floating-point inaccuracy using the newer version of Charcoal on ATO:</p>
<pre><code>Ｎθ≔⟦¹⟧η≔Π…·¹θζＦθ«⊞υ⁻ζ↨Ｅ⮌×υη÷κ⁺²λ¹⊞η⁰ＵＭη⁺κ§η⊖λ»Ｉ∕×υη×θζ0
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=TVBNS8NAEMWj-RVD8DCBLTSCIORU20sOlVC8lR62m2mzmGya_QhS8Zd4KaLob_LXuNsE6mWY9-a9N7vz_iMqrkXL69Ppy9nd5P736iZXB2cfXbMljV2SRTNj5F7hOt0wqC640G3phMVcidoZ2dOKqz1hyqBLEgZHr9y1GnwEvEbXhTMVOgZLqZzBI4MHbgiX_IAr6kn7_kk2ZIKkCvZc2YXsZUn4zKDwC_CWQZ2EUeprNiZWDKYB-KB52zRclYE6671vZnNV0kugFiQ0NaQslRhivOktKrRUFufcWByX_XsEgwF04S9nwyCPp3GSfZqtMOPJvtfxpK_jzUd6NxB_" rel="nofollow noreferrer" title="Charcoal – Attempt This Online">Attempt This Online!</a> Link is to verbose version of code. Saves 8 bytes by being able to vectorised multiply two arrays. Explanation: Premultiplies the Bernoulli numbers by <code>n!</code> and then divides the final result by an extra <code>n!</code>.</p>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/255135/">255135</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




