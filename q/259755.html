<!DOCTYPE html>
<html>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6EBTM9J4LK"></script>
<script src="../g.js"></script>
    <title>cg::259755</title>
    <link rel="stylesheet" href="../c.css">
</head>
<body>
    <br><br>
    <div id = "content">
    <div id="container">
    <div id="mf">
        <a href="#" class="nonewtab" d-g="g">g</a> | 
        <a href="#" class="nonewtab" d-g="x">x</a> | 
        <a href="#" class="nonewtab" d-g="w">w</a> | 
        <a href="#" class="nonewtab" d-g="">all</a>
    </div>
    <input type="text" id="mi" placeholder="/">
    </div>

<table id="mt">
  <tr class="header">
    <th class="tbytes">Bytes</th>
    <th class="tlang">Lang</th>
    <th class="ttime">Time</th>
    <th class="tlink">Link</th>
  </tr>
<tr d-ix="0"><td>061</td><td>APLNARS</td><td>240211T170448Z</td><td><a href="https://codegolf.stackexchange.com/questions/259755/cosine-similarity-of-two-vectors/269996#269996">Rosario</a></td></tr>
<tr d-ix="1"><td>016</td><td>Uiua SBCS</td><td>240208T070332Z</td><td><a href="https://codegolf.stackexchange.com/questions/259755/cosine-similarity-of-two-vectors/269892#269892">chunes</a></td></tr>
<tr d-ix="2"><td>017</td><td>BQN</td><td>230406T221331Z</td><td><a href="https://codegolf.stackexchange.com/questions/259755/cosine-similarity-of-two-vectors/259829#259829">DLosc</a></td></tr>
<tr d-ix="3"><td>011</td><td>Pyth</td><td>230405T180212Z</td><td><a href="https://codegolf.stackexchange.com/questions/259755/cosine-similarity-of-two-vectors/259780#259780">CursorCo</a></td></tr>
<tr d-ix="4"><td>068</td><td>jq</td><td>230408T124326Z</td><td><a href="https://codegolf.stackexchange.com/questions/259755/cosine-similarity-of-two-vectors/259860#259860">GammaFun</a></td></tr>
<tr d-ix="5"><td>040</td><td>R</td><td>230405T201405Z</td><td><a href="https://codegolf.stackexchange.com/questions/259755/cosine-similarity-of-two-vectors/259789#259789">Giuseppe</a></td></tr>
<tr d-ix="6"><td>032</td><td>MATLAB</td><td>230407T232112Z</td><td><a href="https://codegolf.stackexchange.com/questions/259755/cosine-similarity-of-two-vectors/259849#259849">Cris Lue</a></td></tr>
<tr d-ix="7"><td>nan</td><td>Octave</td><td>230405T234518Z</td><td><a href="https://codegolf.stackexchange.com/questions/259755/cosine-similarity-of-two-vectors/259797#259797">138 Aspe</a></td></tr>
<tr d-ix="8"><td>050</td><td>Python NumPy</td><td>230407T232554Z</td><td><a href="https://codegolf.stackexchange.com/questions/259755/cosine-similarity-of-two-vectors/259850#259850">loopy wa</a></td></tr>
<tr d-ix="9"><td>013</td><td>Japt v2.0a0</td><td>230407T142655Z</td><td><a href="https://codegolf.stackexchange.com/questions/259755/cosine-similarity-of-two-vectors/259843#259843">Shaggy</a></td></tr>
<tr d-ix="10"><td>043</td><td>Julia 1.0</td><td>230406T143914Z</td><td><a href="https://codegolf.stackexchange.com/questions/259755/cosine-similarity-of-two-vectors/259821#259821">Ashlin H</a></td></tr>
<tr d-ix="11"><td>045</td><td>Raku</td><td>230406T193921Z</td><td><a href="https://codegolf.stackexchange.com/questions/259755/cosine-similarity-of-two-vectors/259828#259828">Sean</a></td></tr>
<tr d-ix="12"><td>020</td><td>Brachylog</td><td>230406T191053Z</td><td><a href="https://codegolf.stackexchange.com/questions/259755/cosine-similarity-of-two-vectors/259827#259827">DLosc</a></td></tr>
<tr d-ix="13"><td>nan</td><td>Nibbles</td><td>230406T115413Z</td><td><a href="https://codegolf.stackexchange.com/questions/259755/cosine-similarity-of-two-vectors/259814#259814">Dominic </a></td></tr>
<tr d-ix="14"><td>007</td><td>Jelly</td><td>230405T205901Z</td><td><a href="https://codegolf.stackexchange.com/questions/259755/cosine-similarity-of-two-vectors/259792#259792">Jonathan</a></td></tr>
<tr d-ix="15"><td>073</td><td>Python</td><td>230405T134738Z</td><td><a href="https://codegolf.stackexchange.com/questions/259755/cosine-similarity-of-two-vectors/259764#259764">solid.py</a></td></tr>
<tr d-ix="16"><td>042</td><td>Desmos</td><td>230405T143758Z</td><td><a href="https://codegolf.stackexchange.com/questions/259755/cosine-similarity-of-two-vectors/259767#259767">Aiden Ch</a></td></tr>
<tr d-ix="17"><td>027</td><td>Wolfram Language Mathematica</td><td>230405T153306Z</td><td><a href="https://codegolf.stackexchange.com/questions/259755/cosine-similarity-of-two-vectors/259771#259771">lesobrod</a></td></tr>
<tr d-ix="18"><td>175</td><td>JavaScript</td><td>230406T003055Z</td><td><a href="https://codegolf.stackexchange.com/questions/259755/cosine-similarity-of-two-vectors/259802#259802">code</a></td></tr>
<tr d-ix="19"><td>069</td><td>Arturo</td><td>230405T201243Z</td><td><a href="https://codegolf.stackexchange.com/questions/259755/cosine-similarity-of-two-vectors/259788#259788">chunes</a></td></tr>
<tr d-ix="20"><td>017</td><td>APLDyalog Unicode</td><td>230405T200528Z</td><td><a href="https://codegolf.stackexchange.com/questions/259755/cosine-similarity-of-two-vectors/259787#259787">att</a></td></tr>
<tr d-ix="21"><td>041</td><td>TIBASIC TI84</td><td>230405T131003Z</td><td><a href="https://codegolf.stackexchange.com/questions/259755/cosine-similarity-of-two-vectors/259756#259756">Bbrk24</a></td></tr>
<tr d-ix="22"><td>017</td><td>Factor + math.similarity</td><td>230405T185526Z</td><td><a href="https://codegolf.stackexchange.com/questions/259755/cosine-similarity-of-two-vectors/259782#259782">chunes</a></td></tr>
<tr d-ix="23"><td>014</td><td>Charcoal</td><td>230405T134640Z</td><td><a href="https://codegolf.stackexchange.com/questions/259755/cosine-similarity-of-two-vectors/259763#259763">Neil</a></td></tr>
<tr d-ix="24"><td>052</td><td>R</td><td>230405T145106Z</td><td><a href="https://codegolf.stackexchange.com/questions/259755/cosine-similarity-of-two-vectors/259770#259770">Dominic </a></td></tr>
<tr d-ix="25"><td>009</td><td>05AB1E</td><td>230405T145036Z</td><td><a href="https://codegolf.stackexchange.com/questions/259755/cosine-similarity-of-two-vectors/259769#259769">Kevin Cr</a></td></tr>
<tr d-ix="26"><td>017</td><td>Pip x</td><td>230405T160816Z</td><td><a href="https://codegolf.stackexchange.com/questions/259755/cosine-similarity-of-two-vectors/259774#259774">DLosc</a></td></tr>
<tr d-ix="27"><td>020</td><td>Pyt</td><td>230405T143809Z</td><td><a href="https://codegolf.stackexchange.com/questions/259755/cosine-similarity-of-two-vectors/259768#259768">Kip the </a></td></tr>
<tr d-ix="28"><td>007</td><td>Vyxal s</td><td>230405T131503Z</td><td><a href="https://codegolf.stackexchange.com/questions/259755/cosine-similarity-of-two-vectors/259757#259757">The Thon</a></td></tr>
<tr d-ix="29"><td>076</td><td>JavaScript ES6</td><td>230405T133725Z</td><td><a href="https://codegolf.stackexchange.com/questions/259755/cosine-similarity-of-two-vectors/259761#259761">Arnauld</a></td></tr>
<tr d-ix="30"><td>009</td><td>Vyxal</td><td>230405T131735Z</td><td><a href="https://codegolf.stackexchange.com/questions/259755/cosine-similarity-of-two-vectors/259759#259759">math sca</a></td></tr>
</table>
<div id="pu0" class="pu"><h1>APL(NARS), 61 chars</h1>
<pre><code>{⍺,←0⍴⍨a-⍨k←⌈/(a b)←≢¨⍺⍵⋄⍵,←0⍴⍨k-b⋄(√+/⍵*2)÷⍨(√+/⍺*2)÷⍨+/⍺×⍵}
</code></pre>
<p>test:</p>
<pre><code>  f←{⍺,←0⍴⍨a-⍨k←⌈/(a b)←≢¨⍺⍵⋄⍵,←0⍴⍨k-b⋄(√+/⍵*2)÷⍨(√+/⍺*2)÷⍨+/⍺×⍵}
  1 2 3 f 4 5 6
0.9746318462
  1 2 0 0 f 4 5 6 8
0.527270504
  1 2  f 4 5 6 8
0.527270504
  1 2 1 1 f 4 5 0 0
0.8263938705
  1 2 1 1 f 4 5 
0.8263938705
</code></pre>
</div>
<div id="pu1" class="pu"><h1><a href="https://uiua.org" rel="nofollow noreferrer">Uiua</a> <sup><a href="https://tinyurl.com/Uiua-SBCS-Jan-14" rel="nofollow noreferrer">SBCS</a></sup>, <s>17</s> 16 bytes</h1>
<pre><code>÷/×√∩/+⍉×.⟜/×⬚0⊟
</code></pre>
<p><a href="https://uiua.org/pad?src=0_8_0__ZiDihpAgw7cvw5fiiJriiKkvK-KNicOXLuKfnC_Dl-KsmjDiip8KCmYgWzEgMiAzXSBbNCA1IDZdCmYgWzkgNjIgMCAzXSBbMjUgMyA2XQpmIFvCrzcgNCA5IDhdIFsxNiAxIMKvMiA1XQpmIFs4MiDCrzldIFs3IDUyIDNdCg==" rel="nofollow noreferrer">Try it!</a></p>
</div>
<div id="pu2" class="pu"><h1><a href="https://mlochbaum.github.io/BQN/" rel="nofollow noreferrer">BQN</a>, <s>20</s> 17 bytes</h1>
<p><em>-3 bytes thanks to <a href="https://codegolf.stackexchange.com/users/81203/att">att</a></em></p>
<pre><code>D←+´⊣×≠⊸↑
D÷×○√○D
</code></pre>
<p>The first line defines a helper function; the second line is the solution, an anonymous tacit function that takes two lists of numbers as left and right arguments. <a href="https://mlochbaum.github.io/BQN/try.html#code=ROKGkCvCtOKKo8OX4omg4oq44oaRCkYg4oaQIETDt8OX4peL4oia4peLRAoKODLigL/CrzkgRiA34oC/NTLigL8z" rel="nofollow noreferrer">Try it at BQN online!</a></p>
<h3>Explanation</h3>
<p>The helper function <code>D</code> calculates the dot product of two vectors (or, given one argument, the dot product of a vector with itself). The default behavior of <code>↑</code> turned out to be <em>very</em> convenient here.</p>
<pre><code>D←+´⊣×≠⊸↑
D←         Assign this function to D:
      ≠⊸↑    Take (length of left arg) elements from (right arg)
               If left arg is shorter, trims right arg to that length
               If left arg is longer, pads right arg with zeros
    ⊣×       Multiply itemwise with left arg
  +´         Sum

D÷×○√○D
     ○D  Apply D to each argument (i.e. multiply it by itself and sum)
   ○√    Apply square root to each of those sums (magnitude of each vector)
  ×      Multiply those two results
D        Apply D to both arguments (i.e. get their dot product)
 ÷       Divide the dot product by the product of magnitudes
</code></pre>
</div>
<div id="pu3" class="pu"><h1><a href="https://github.com/isaacg1/pyth" rel="nofollow noreferrer">Pyth</a>, <s>13</s> 11 bytes</h1>
<p><em>-2 bytes thanks to FryAmTheEggman</em></p>
<pre><code>cF+s*MCQ.aM
</code></pre>
<p><a href="https://tio.run/##K6gsyfj/P9lNu1jL1zlQL9H3///oaAsjHQVdy1gdhWhzHQVTIMc4NhYA" rel="nofollow noreferrer" title="Pyth – Try It Online">Try it online!</a></p>
<h3>Explanation</h3>
<pre><code>cF+s*MCQ.aMQ    # implicitly add Q
                # implicitly assign Q = eval(input())
      CQ        # transpose the input, truncating to the shortest element
    *M          # map each element to its product
   s            # sum the elements
  +             # prepend this to
        .aMQ    # the input elements mapped to their norms
cF              # fold this over division
</code></pre>
</div>
<div id="pu4" class="pu"><h1><a href="https://stedolan.github.io/jq/" rel="nofollow noreferrer">jq</a>, 68 bytes</h1>
<pre><code>(transpose|map((.[0]*.[1])?)|add)/(map(map(.*.)|add|sqrt)|.[0]*.[1])
</code></pre>
<p><a href="https://tio.run/##RYwxDsMgDEX3nMIjRA4NNJBk6kEsD0jpUqltEjJyd2pYOlj6eu/Jr6MUdZ3xk/ZveuZ33JUyNHJvyLJ@6By3Td9U5fVMbxrK6Tgvnf9lKUQWHd4ZgSb0GJg7ohUhOIQRoQnnZQhqbpgRJgRJlupsQLAIg@S@@UXWsFYloXf1BXc/" rel="nofollow noreferrer" title="jq – Try It Online">Try it online!</a></p>
<p><code>transpose</code> pads the arrays with <code>null</code>s, which we then simply remove with <code>?</code> when the multiplication fails, instead of replacing with zero.</p>
</div>
<div id="pu5" class="pu"><h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, 40 bytes</h1>
<pre class="lang-r prettyprint-override"><code>\(x,y)sum(diag(z&lt;-x%*%t(y)))/norm(z,&quot;f&quot;)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=Xc_NCoJAEAfwe08xGMJszJqurh-QPUkQYRkeVPAD1EMv0sUOnXqNXqK3adPI6jTL8P_9hz1fiv4W5WWSHbZlkobXuoq5_8ANNtSysk5xn-yO2K14oy_0ClvG2DLLixQ70mKNvfP3qQIjtEiQzQgidEiSyxjMIVzDyTQCz5n9RAMCVxCYBCMQUr3U7ssI-Uu4R-AQKOkPxHIJLAKuauSHcdOw_5yvAjwYiGqQ4nVyumIKZ_xL34_zCQ" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>R port of <a href="https://codegolf.stackexchange.com/a/259849/67312">Cris Luengo's MATLAB answer</a>.</p>
<h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, 48 bytes</h1>
<pre><code>\(x,y)(x%*%x*y%*%y)^-.5*(x*y)%*%!seq(!x)-seq(!y)
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=Xc87DsIwDAbgnVO4QpXiyqnSkPQxlJMgGKoidQAEBSlduAhLGZi4BpfgNpgWUcoSx5G_38rlemjvxa6utuWqrjb57XRcy_SpFsJRg8L5ge-Chs8GlzK0geAOufXqci88h7KrDX7cY4gShYhI0wwJCmHIUowIU8jncFZhlpjJaDQjiDWBIuiBtnzjtx-j7ZjIhMAQsEw7EsUEEYHkGPtlUoWzP5fygMw6wglWv1cOW5Q2_V_atq8v" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p>A slight rearrangement and golf of <a href="https://codegolf.stackexchange.com/a/259770/67312">Dominic van Essen's answer</a>, posted at his request.</p>
<p>Works by maximizing operator precedence and vector recycling.</p>
</div>
<div id="pu6" class="pu"><h1>MATLAB, <strike>37</strike> 32 bytes</h1>
<p>-5 bytes thanks to <a href="https://codegolf.stackexchange.com/questions/259755/cosine-similarity-of-two-vectors/259849#comment572456_259849">@loopywalt</a></p>
<pre class="lang-matlab prettyprint-override"><code>@(a,b)sum(diag(a'*b))/norm(a'*b)
</code></pre>
<p>Instead of padding <code>a</code> or <code>b</code> to the length of the other, or cropping it, which should be equivalent in the numerator, we take the outer product of the two vectors, then sum the diagonal (ie trace). This is equivalent to the dot product of the two vectors cropped to the shortest length.</p>
<p>Unfortunately, this doesn't work if the two vectors have different length, <code>trace</code> requires a square matrix:</p>
<pre class="lang-matlab prettyprint-override"><code>@(a,b)trace(a'*b)/norm(a'*b)
</code></pre>
</div>
<div id="pu7" class="pu"><h1><a href="https://www.gnu.org/software/octave/" rel="nofollow noreferrer">Octave</a>, <del>110</del> 61 bytes</h1>
<p>saved 49 bytes thanks to the comment</p>
<pre><code>@(A,B)A(1:(p=min(numel(A),numel(B))))*B(1:p)'/norm(A)/norm(B)
</code></pre>
<p><a href="https://tio.run/##XY9dC4IwFIbv/RW7a4tpbVPTQmjnb0QXEgmCX5gF/Xp754So3WznnOd5D@tvU/m6zxUrWBRF85lbScJydeRD0dYd757tveFWSP8ggbMlzAex2XX92GLmbxKzVYi5KMm0ZOZ6CmipY8kSyVLUj7qtm3Ksp7cbVNwCJSWCwGoH5qBg7ld56Wmo5t/W3gZL2tnGkeFBMqxCSObspadSybAjBJn8JBifgGQyLiF2dAYszJ28lMhL1o98xdiLWESxCOYP" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu8" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a> NumPy, 50 bytes</h1>
<pre class="lang-python prettyprint-override"><code>lambda a,b:(z:=a*b[:,1&gt;0]).trace()/(z*z).sum()**.5
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=LY5BboMwEEX3nGKWNhpocDAFpPQijhWZtqhIxVjGLOAq3SBFiXql3iZ23NW8mXnzNT93s7qvSe_X_nS-La7P6j_2rcbuQ4HCriVbe1JpJ1os3g6S5s6q909CX8iWbjSfl5HQNM35_-XvMJrJOtDLaFZQM2iTJP1kQxQMGoQQBTI8SgRRIsdKBhINQsUQDgjPDeMe_Cgus1eEEsE7deiLCqFAyLzPo1B7zJqA3uQshEjZJgDGDtqRnmiT24tQEiN0ktL4777H-gA" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu9" class="pu"><h1><a href="https://github.com/ETHproductions/japt" rel="nofollow noreferrer">Japt</a> v2.0a0, 13 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>í*V x÷NËx²¬Ã×
</code></pre>
<p><a href="https://petershaggynoble.github.io/Japt-Interpreter/?v=2.0a0&amp;code=7SpWIHj3Tst4sqzD1w&amp;input=Wy03LCA0LCA5LCA4XQpbMTYsIDEsIC0yLCA1XQ" rel="nofollow noreferrer">Try it</a></p>
</div>
<div id="pu10" class="pu"><h1><a href="http://julialang.org/" rel="nofollow noreferrer">Julia 1.0</a>, <s>68</s> <s>60</s> <s>44</s> 43 bytes</h1>

<pre class="lang-julia prettyprint-override"><code>x^y=sum(prod,zip(x,y))
a\b=a^b/√(a^a*b^b)
</code></pre>
<p><a href="https://tio.run/##hc9LCoMwEAbgvaeYZSyJjbG@FkLv4QMS2oXFohiF2BP0DD1eL2InKRSE0mYRkmH45p/L3LUyNOtqmqXQ85UMY3@it3Yghi6@78lKFbJR@@f9QWQjd6pR/nqUWp/HCVotB@w3BEoIKYCgENWAp4LygH@I8Upq@wLgQZ5iUU59V/CAh773jckpJMhwJyEjLBFtGFf6zbAUW3AYapljwgQLGJGhHaPEeBD9ZzLsZrnb6L2UZWNhE33ScLFZan0B" rel="nofollow noreferrer" title="Julia 1.0 – Try It Online">Try it online!</a></p>
<ul>
<li>The power operator <code>^</code> is redefined for the intermediate function. This adds a few bytes where a square or square root is needed, but its high precedence in order of operations cuts down on parentheses used.
<ul>
<li><a href="https://docs.julialang.org/en/v1/manual/mathematical-operations/" rel="nofollow noreferrer">Documentation for operators</a></li>
<li><a href="https://github.com/JuliaLang/julia/blob/def2ddacc9a9b064d06c24d12885427fb0502465/src/julia-parser.scm" rel="nofollow noreferrer">Source code with all supported operators</a></li>
</ul>
</li>
<li><code>zip</code> is used to accommodate vectors with different lengths.
<ul>
<li>Otherwise, <code>x^y=sum(x.*y)</code> could be used.</li>
</ul>
</li>
</ul>
<p>Alternatively, <a href="https://docs.juliahub.com/LSHFunctions/nLuMy/0.1.2/similarities/cosine/" rel="nofollow noreferrer"><code>LSHFunctions.cossim</code></a> could be adapted for this challenge.</p>
<ul>
<li>-8 bytes thanks to Giuseppe: rewrite with an improved formula</li>
<li>-16 bytes (!!) thanks to Giuseppe: <code>sum</code> supports a calling function</li>
<li>-1 byte thanks to MarcMush: replace <code>sqrt</code> with <code>√</code></li>
</ul>
</div>
<div id="pu11" class="pu"><h1><a href="https://raku.org/" rel="nofollow noreferrer">Raku</a>, 45 bytes</h1>
<pre><code>-&gt;\a,\b{sum(a Z*b)/sqrt sum(a Z*a)*sum b Z*b}
</code></pre>
<p><a href="https://tio.run/##NcxBCoMwFATQqwwixUhCTTRRQXOQVpEIzUppq@1CrGdPDeLqz7yB/3pMg3LjgotF7ZhuDG36df6OkcEt7sl1fk8fnN2QeI/o/bS52SwIwu6etBT74S1qjdXiF3ZbAPucEFUcAqmmqDJIKE3obiWUQHKwkEhPZzkylCi8cwUOJiCPqRBgpfcc0j8k7g8" rel="nofollow noreferrer" title="Perl 6 – Try It Online">Try it online!</a></p>
<p>This is a straightforward translation of the cosine similarity formula.  <code>x Z* y</code> zips two lists together with multiplication, and <code>sum</code> and <code>sqrt</code> are self-explanatory.</p>
</div>
<div id="pu12" class="pu"><h1><a href="https://github.com/JCumin/Brachylog" rel="nofollow noreferrer">Brachylog</a>, 20 bytes</h1>
<pre><code>z₀×ᵐ+D&amp;{^₂ᵐ+√}ᵐ×;D↔/
</code></pre>
<p><a href="https://tio.run/##SypKTM6ozMlPN/r/v@pRU8Ph6Q@3TtB2UauOe9TUBGI@6phVC6QPT7d2edQ2Rf///@hoCyMdhXjLWB2FaHMdBVMgxzg29n8EAA" rel="nofollow noreferrer" title="Brachylog – Try It Online">Try it online!</a></p>
<h3>Explanation</h3>
<pre><code>z₀×ᵐ+D&amp;{^₂ᵐ+√}ᵐ×;D↔/
                      Input is a list of two lists representing the two vectors
z₀                    Zip the two vectors, clipping to the shorter length
  ×ᵐ                  Multiply each pair of corresponding values
    +                 Sum the products
     D                Save this value as D (for Dot product)
      &amp;               Start over with the original list of lists
       {     }ᵐ       Do this to each vector:
        ^₂ᵐ             Square each of its elements
           +            Sum the squares
            √           Get the square root of the sum
               ×      Multiply the two results
                ;D    Pair with D from earlier
                  ↔   Reverse the list, putting D first
                   /  Divide
</code></pre>
</div>
<div id="pu13" class="pu"><h1><a href="http://golfscript.com/nibbles/index.html" rel="nofollow noreferrer">Nibbles</a>, 14.5 bytes (29 nibbles)</h1>
<pre><code>^/^+*100!$_*~*;~$+.$^$~$_-2
</code></pre>
<p>Nibbles only handles integers, and perhaps isn't the ideal language to calculate a value that will always lie in the range between <code>-1</code> and <code>1</code>.
So this program outputs the cosine similarity multiplied by 100: the extra code for this costs +3.5 bytes - without it, the program would be <code>/+!$_*^*;~$+.$^$~$_-2</code> (11 bytes), but can only output to an accuracy of zero decimal places, so either <code>1</code>, <code>0</code> or <code>-1</code>.</p>
<pre><code>^/^+*100!$_*~*;~$+.$^$~$_-2
                                # First get the dot-product multiplied by 100:
        !                       #   zip together
         $_                     #   arg1 and arg2
           *                    #   by multiplication
    *100                        #   multiply each element by 100
   +                            #   and get the sum
  ^         ~                   # and then square the dot-product;
                                # Now get the squares of the product of the magnitudes:
              ;~$               #   apply to arg1 and save as function:
                  .$            #     map over each element:
                    ^$~         #       square
                 +              #     and sum the squared elements
                       $_       #   apply the same function to arg2
             *                  #   and multiply the two results together;
 /                              # Now divide the squared 100x dot-product
                                # by the squares of the product of the magnitudes
^                        -2     # and return the square-root of the result
</code></pre>
<p><a href="https://i.stack.imgur.com/0esoD.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/0esoD.png" alt="enter image description here" /></a></p>
</div>
<div id="pu14" class="pu"><h1><a href="https://github.com/DennisMitchell/jelly" rel="nofollow noreferrer">Jelly</a>, 7 bytes</h1>
<pre><code>ÆḊ€÷ƒḋ/
</code></pre>
<p>A monadic Link that accepts the pair of vectors and yields their cosine similarity.</p>
<p><strong><a href="https://tio.run/##y0rNyan8//9w28MdXY@a1hzefmzSwx3d@v@PTnq4c4bO4fasRw1zFGztFB41zNWM/P8/OjraUMdIxzhWRyHaRMdUxyw2VodLITraUkfBzEhHwUBHASxlZApkAIWgsrrmOgomOgpARRYgWUMzHQVDHQVdoAZTqAoLIFvXEiQJVGpqBDIGKBELAA" rel="nofollow noreferrer" title="Jelly – Try It Online">Try it online!</a></strong></p>
<h3>How?</h3>
<pre><code>ÆḊ€÷ƒḋ/ - Link: pair of lists, V
  €     - for each vector:
ÆḊ      -   get its norm
      / - reduce V by:
     ḋ  -   dot-product
    ƒ   - starting with the dot-product reduce the norms by:
   ÷    -   division
</code></pre>
<hr />
<p>Here's a dyadic version, also at seven bytes:</p>
<pre><code>,ÆḊ€÷ƒḋ
</code></pre>
<p><a href="https://tio.run/##y0rNyan8/1/ncNvDHV2PmtYc3n5s0sMd3f@PTnq4c4bO4eX6WY8a5ijY2ik8apirGfn/f3R0tKGOkY5xrI5CtImOqY5ZbKwOl0J0tKWOgpmRjoKBjgJYysgUyAAKQWV1zXUUTHQUgIosQLKGZjoKhjoKukANplAVFkC2riVIEqjU1AhkDFAiFgA" rel="nofollow noreferrer">Try it online!</a></p>
</div>
<div id="pu15" class="pu"><h1><a href="https://www.python.org" rel="nofollow noreferrer">Python</a>, 73 bytes</h1>
<p><em>-95 bytes thanks to <code>Neil</code>, -3 bytes thanks to <code>att</code> and -3 bytes thanks to <code>xnor</code>.</em></p>
<p>This works despite the <code>zip</code> function stopping at the shorter sequence, since we right pad with <code>0</code>. Essentially, the elements of the longer sequence do not affect the calculation.</p>
<pre class="lang-python prettyprint-override"><code>lambda a,b:d(a,b)/(d(a,a)*d(b,b))**.5;d=lambda*a:sum(map(int.__mul__,*a))
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=LY9BDoJADEX3nqLLmUlBQQYBwwE8w0jIEEIkYYAgLLyAl3BDYvRO3sYOsGn_b19-2te3f4y3rp3fVXr9TGPlRL9Lo01RatBYJCWjyvfMds1FyQqyXAhXnst05YRO7pNhRvesbkc3z83U5DkKzfkW-Ky6waZB3YJSykMfjxmCClBimFmlYoTQRzggLBtfkqDRunROCAECMZH1XojgITjEyxWISDqxlURK34ZkWbID6Ac6iVXLE9s187z2Pw" rel="nofollow noreferrer">Attempt This Online!</a></p>
<p><em>P.S. I edited out the other versions of this answer made with <code>scipy</code>, <code>numpy</code> and <code>scikit-learn</code>, because they were significantly longer.</em></p>
</div>
<div id="pu16" class="pu"><h1><a href="https://desmos.com/calculator" rel="nofollow noreferrer">Desmos</a>, 42 bytes</h1>
<p>This non-padding version miraculously works out:</p>
<pre><code>f(a,b)=total(ab)/(a^2.totalb^2.total)^{.5}
</code></pre>
<p><a href="https://www.desmos.com/calculator/7e69ztsfva" rel="nofollow noreferrer">Try It On Desmos!</a></p>
<p><a href="https://www.desmos.com/calculator/pb7kqinlej" rel="nofollow noreferrer">Try It On Desmos! - Prettified</a></p>
<p>I originally had constructed an answer that was 123 bytes (around 3 times longer than with no padding!!!) long that did actually do the padding, but then I realized, to my complete surprise, that the test case outputs were matching on both my padding and no-padding answers (which is this 42 byte answer), even for test cases that I made up myself. This led me to dig a bit deeper into why this was the case, resulting in the explanation below.</p>
<h3>Explanation</h3>
<p>The question essentially asks to pad the shorter list with zeros at the end to make both lists the same, and then multiply each element of the lists together and sum them, then divide it by the square root of the product of the sums of the elements of each of the two lists squared.</p>
<p>Now let's say that the unpadded, original input lists are <code>a=[a_1,a_2,...,a_A]</code> and <code>b=[b_1,b_2,...,b_B]</code>, where the capitalized version of the list represents the length of the list. WLOG, assume that <code>A&lt;B</code>. Now let <code>c</code> and <code>d</code> be the padded versions of <code>a</code> and <code>b</code> respectively, meaning <code>c=[a_1,a_2,...,a_A,0,...,0]</code>, where there are <code>B-A</code> zeros, and <code>d=[b_1,b_2,...,b_B]</code>, which is <code>b</code> unchanged.</p>
<p>Now to explain my non-padding answer first:</p>
<p>In Desmos, every time an operation is applied to two lists, it will almost always clip the resulting list to the length of the shorter list out of the two lists. This includes multiplication (implicitly vectorized), which is used in this answer.</p>
<p>For the numerator of the formula given in the question, it is essentially equivalent to using vectorized multiplication on the two lists (which will multiply the lists element-by-element), and then taking the total sum of that vectorized product. We know that vectorized multiplication will clip the lists to the length of the shorter lists, which means that when we take the product <code>a*b</code>, we will get the result <code>[a_1 * b_1, a_2 * b_2,...,a_A * b_A]</code>, where it is clipped off at the shorter list <code>a</code>. Taking the total of this would give <code>a_1 * b_1 + a_2 * b_2 + ... + a_A * b_A</code>.</p>
<p>Wait! Now let's take a look at what happens when we take the product <code>c*d</code> and sum that list instead. Recall that <code>c=[a_1,a_2,...,a_A,0,...,0]</code> and <code>d=[b_1,b_2,...,b_B]</code>, so <code>c*d</code> would be <code>[a_1 * b_1, a_2 * b_2,...,a_A * b_A, 0 * b_(A+1),...,0 * b_B]</code>. Taking the sum of all those terms gives <code>a_1 * b_1 + a_2 * b_2 + ... + a_A * b_A</code>, due to all the zeros vanishing from the sum. But this is the exact same sum that we got without padding!!! This indicates that padding at least does not affect the final result of the numerator of the formula, so it is fine to take the sum without padding the two lists beforehand, as it will result in the same answer as with padding anyways.</p>
<p>Now let's consider what is happening in the denominator. In my answer with no padding, I am simply just multiplying each of the lists by themselves (i.e. squaring them), and then summing the resulting elements. So basically, we have that <code>a^2 = [(a_1)^2, (a_2)^2,...,(a_A)^2]</code> and <code>b^2 = [(b_1)^2, (b_2)^2,...,(b_B)^2]</code>, which means that their sums are <code>(a_1)^2 + (a_2)^2 + ... + (a_A)^2</code> and <code>(b_1)^2 + (b_2)^2 + ... + (b_B)^2</code> respectively.</p>
<p>But now consider the sums when there is padding involved. We then have that <code>c^2 = [(a_1)^2, (a_2)^2,...,(a_A)^2, 0^2,...,0^2]</code>, and <code>d^2</code> would be the same as <code>b^2</code> because as stated earlier, <code>d</code> is the same as <code>b</code> unchanged. So, the sum of <code>d^2</code> would obviously match that of <code>b^2</code>. But what about the sum of <code>c^2</code>? We have that the sum of <code>c^2</code> is <code>(a_1)^2 + (a_2)^2 + ... + (a_A)^2 + 0^2 + ... + 0^2</code>, but because all the zeros just vanish, the sum simplifies down to <code>(a_1)^2 + (a_2)^2 + ... + (a_A)^2</code>. Comparing this to the sum that we got with no padding, we can see that they are exactly the same!!!</p>
<p>Obviously, we have assumed that <code>A&lt;B</code> at the very start of our proof. But what happens if <code>B&gt;A</code>? Then simply just switch all the <code>a</code>'s and <code>b</code>'s, <code>A</code> and <code>B</code>'s, and also <code>c</code> and <code>d</code> and you will have the proof for the <code>B&gt;A</code> case.</p>
<p>Lastly, what happens if <code>A=B</code>; in other words, what happens if they are both the same length? The clipping will shorten the longer list into the same length of the shorter list, but because they are the same length, this will not affect either of the lists. Similarly, padding will lengthen the shorter length to match the length of the longer list, but again, because the two lists are the exact same length, this won't affect either of the lists. Because both clipping and padding preserve the original lists, both of them will obviously result in the same calculations and therefore the same outputs as well.</p>
<p>Thus, by proving that the sums in both the numerator and denominator are the same with both padding (which is what the question is asking for) and with no padding (which is what is happening in my answer), my answer is valid, even though I am not actually doing any padding like the question asks for.</p>
</div>
<div id="pu17" class="pu"><h1><a href="https://www.wolfram.com/wolframscript/" rel="nofollow noreferrer">Wolfram Language (Mathematica)</a>, <s>60</s> <s>31</s>  27 bytes</h1>
<pre><code>Dot@@Normalize/@PadRight@#&amp;
</code></pre>
<p><a href="https://tio.run/##y00syUjNTSzJTE78n2b73yW/xMHBL78oNzEnsypV3yEgMSUoMz2jxEFZ7X9AUWZeiUOaQ3W1hZGOgq5lrU61uY6CKZBtXFv7HwA" rel="nofollow noreferrer" title="Wolfram Language (Mathematica) – Try It Online">Try it online!</a></p>
<p>Many thanks to @att and @
polfosol ఠ_ఠ ! They should have posted their answers (-_-)</p>
</div>
<div id="pu18" class="pu"><h1>JavaScript, 175 bytes</h1>
<pre class="lang-js prettyprint-override"><code>(e,r)=&gt;(l=&quot;length&quot;,p=(e,r)=&gt;Array.from({...e,[l]:r[l]},e=&gt;e??0),e[l]&lt;r[l]?e=p(e,r):r=p(r,e),e[_=&quot;reduce&quot;]((e,$,c)=&gt;e+$*r[c],0)/(e[_]((e,r)=&gt;e+r*r,0)*r[_]((e,r)=&gt;e+r*r,0))**.5)
</code></pre>
<p>Try it:</p>
<p><div class="snippet" data-lang="js" data-hide="true" data-console="true" data-babel="false">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-js lang-js prettyprint-override"><code>c=

// start code
(e,r)=&gt;(l="length",p=(e,r)=&gt;Array.from({...e,[l]:r[l]},e=&gt;e??0),e[l]&lt;r[l]?e=p(e,r):r=p(r,e),e[_="reduce"]((e,$,c)=&gt;e+$*r[c],0)/(e[_]((e,r)=&gt;e+r*r,0)*r[_]((e,r)=&gt;e+r*r,0))**.5)
// end code

console.log(c([1,2,3], [4,5,6]))
console.log(c([9, 62, 0, 3], [25, 3, 6]))
console.log(c([-7, 4, 9, 8], [16, 1, -2, 5]))
console.log(c([82, -9], [7, 52, 3]))</code></pre>
</div>
</div>
</p>
</div>
<div id="pu19" class="pu"><h1><a href="https://arturo-lang.io" rel="nofollow noreferrer">Arturo</a>, 69 bytes</h1>
<pre class="lang-arturo prettyprint-override"><code>$[a b][//∑map couple a b'p-&gt;∏p∏map@[a b]=&gt;[sqrt∑map&amp;'x-&gt;x^2]]
</code></pre>
<p><a href="http://arturo-lang.io/playground?5ojPMT" rel="nofollow noreferrer">Try it</a></p>
</div>
<div id="pu20" class="pu"><h1><a href="https://dyalog.com" rel="nofollow noreferrer">APL(Dyalog Unicode)</a>, <sup><s></s></sup>17 bytes <sup><a href="https://github.com/abrudz/SBCS" rel="nofollow noreferrer">SBCS</a></sup></h1>
<pre><code>↓∘↑+.×.÷.5*⍨1⊥¨×⍨
</code></pre>
<p><a href="https://razetime.github.io/APLgolf/?h=AwA&amp;c=e9Q2@VHHjEdtE7X1Dk/XO7xdz1TrUe8Kw0ddSw@tODwdyAQA&amp;f=LcyxEcAgDATB3FVcCJklkEAN0R49UBmYcfj7MzdIglIyqWJ4fgYpcOW9qEb5dc1GJeiHxRHWVOxeXc@I4w37Yhs&amp;i=AwA&amp;r=tryapl&amp;l=apl-dyalog&amp;m=train&amp;n=f" rel="nofollow noreferrer">Try it on APLgolf!</a></p>
<p>Lots of dots.. .</p>
<p>Input an array containing the two vectors.</p>
</div>
<div id="pu21" class="pu"><h1>TI-BASIC (TI-84), <s> 43</s> 41 bytes</h1>
<p>Padding is expensive.</p>
<pre><code>:Prompt A,B
:max(dim(ʟA),dim(ʟB→dim(ʟA
:Ans→dim(ʟB
:sum(ʟAʟB/√(sum(ʟB²)sum(ʟA²
</code></pre>
<p>Example usage:</p>
<pre><code>prgmCOSSIM
A=?{9,62,0,3}
B=?{25,3,6}
              .2531554274
</code></pre>
<p>For comparison:</p>
<h2>TI-BASIC (TI-84), no padding, <s>19</s> 17 bytes</h2>
<p>Errors when the inputs aren't equal length. Takes the first input via <code>Ans</code>.</p>
<pre><code>:Prompt A
:sum(ʟAAns/√(sum(Ans²)sum(ʟA²
</code></pre>
<p>Example usage:</p>
<pre><code>{1,2,3}:prgmCOSSIM
A=?{4,5,6}
               .974631462
</code></pre>
</div>
<div id="pu22" class="pu"><h1><a href="https://factorcode.org" rel="nofollow noreferrer">Factor</a> + <code>math.similarity</code>, 17 bytes</h1>
<pre><code>cosine-similarity
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70sLTG5JL9owU2r0GBPP3crhYKi1JKSyoKizLwShdzEkgy94szczJzEosySSgVrLq5qBQsjBV1LhVqFagVzBVMjBWOF2qWlJWm6FhuT84sz81J1Eeoh4gv1IPSCBRAaAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu23" class="pu"><h1><a href="https://github.com/somebody1234/Charcoal" rel="nofollow noreferrer">Charcoal</a>, <s>16</s> 14 bytes</h1>
<pre><code>Ｉ∕Σ×θη₂ΠＥ²ΣＸＡ²
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=m70iOSOxKDk_MWfBgqWlJWm6FjejA4oy80o0nBOLSzRcMssyU1I1gktzNUIyc1OLNQp1FDI0NXUUggtLE4tSg_LzSzQCivJTSpNLNHwTCzSMgDJAtQH55alFGp55BaUlGkDFRppQYL2kOCm5GGrR8mgl3bIcpdjd0dGWOgpmQK0GOgrGsToK0UamQAZQKDYWohIA" rel="nofollow noreferrer">Attempt This Online!</a> Link is to verbose version of code. Explanation:</p>
<pre><code>    θ           First input
   ×            Vectorised multiply by
     η          Second input
  Σ             Take the sum
 ∕              Divided by
         ²      Literal integer `2`
        Ｅ       Map over implicit range
            Ａ   Next input
           Ｘ    Vectorised raise to power
             ²  Literal integer `2`
          Σ     Take the sum
       Π        Take the product
      ₂         Take the square root
Ｉ               Cast to string
                Implicitly print
</code></pre>
</div>
<div id="pu24" class="pu"><h1><a href="https://www.r-project.org" rel="nofollow noreferrer">R</a>, 52 bytes</h1>
<p><em>Edit: +2 bytes to fix when either vector is length-1, thanks to Giuseppe</em></p>
<pre class="lang-r prettyprint-override"><code>\(x,y,`?`=sum)?x*y*(seq(!x)==seq(!y))/(?x^2*?y^2)^.5
</code></pre>
<p><a href="https://ato.pxeger.com/run?1=Xc9LDoIwEAbgvacY46YlU4TS8ljUXsQgCcGEBRpFErrxIm5w4cpreAlvYwUj4momk_n-yVyux-6e7-tyV2zqslK35rRl8VOsSYsGM52puqmobh3jkLo4kHlLleobQ-mS6DbljjYpp6krP_YxxpGc-MgxoAg5ESgxpBQWoFZw9twkErPJaoIQcgQPYQBc2s7OfgyXU8IiBIFgZdwTP0TwEZiNkV_GPDf4c7FdYElPbILk75PjFY-L4ZeuG-oL" rel="nofollow noreferrer">Attempt This Online!</a></p>
</div>
<div id="pu25" class="pu"><h1><a href="https://github.com/Adriandmen/05AB1E/wiki/Commands" rel="nofollow noreferrer">05AB1E</a>, 9 <a href="https://github.com/Adriandmen/05AB1E/wiki/Codepage" rel="nofollow noreferrer">bytes</a></h1>
<pre><code>`*OInOtP/
</code></pre>
<p>Input as a pair of lists.</p>
<p><a href="https://tio.run/##yy9OTMpM/f8/QcvfM8@/JED////oaEsdMyMdAx3jWJ1oI1MdYx2z2FgA" rel="nofollow noreferrer">Try it online</a> or <a href="https://tio.run/##yy9OTMpM/V9Waa@k8KhtkoKSfeX/BC3/yjz/kgD9/zr/o6OjDXWMdIxjdaJNdEx1zGJjdRSioy11zIx0DMCiRqY6xjBhXXMdEx1LHQugsKGZjqGOrpGOKUTGwkhH1xIobK5jCjIsNhYA" rel="nofollow noreferrer">verify all test cases</a>.</p>
<p><strong>Explanation:</strong></p>

<pre class="lang-python prettyprint-override"><code>`          # Push both lists of the (implicit) input-pair separately to the stack
 *         # Multiply the values at the same positions in the lists together
           # (discarding trailing items of unequal length input-lists)
  O        # Sum all these values together
   I       # Push the input-pair of lists again
    n      # Square each inner value
     O     # Sum the two inner lists
      t    # Take the square root of both sums
       P   # Take the product of this pair
        /  # Divide the earlier dot-product by this
           # (after which the result is output implicitly)
</code></pre>
<p>Here a minor equal-bytes alternative: <code>øPInOtP/O</code>. I haven't been able to find anything shorter unfortunately, but there are a lot of approaches for this at 1 or 2 bytes longer: <a href="https://tio.run/##yy9OTMpM/f8/QcvfM8@/JEBfAQh0uA7vCIBw/SF8qHRZJUi@FsSHcv3h/LJKoAiC718MEYDwgSzPBK2jC/UO7QYpgQgALfGHCIGtCA1LUIABpeLUktIChbT8IoWS8nyFnPz84lSFzLyC0hLdnMzikmIgu7gkNTFFIT9NIVGhIDGzSCmGS8s/MuJRwyyYvbU6//9HR1vqmBnpGOgYx@pEG5nqGOuYxcYCAA" rel="nofollow noreferrer">try it online</a>.</p>
</div>
<div id="pu26" class="pu"><h1><a href="https://github.com/dloscutoff/pip" rel="nofollow noreferrer">Pip</a> <code>-x</code>, 17 bytes</h1>
<pre><code>$*_MS Zg/RT$+*SQg
</code></pre>
<p>Takes the vectors as two command-line arguments, each one formatted as a Pip list. <a href="https://ato.pxeger.com/run?1=m724ILNgWbSSboVS7IKlpSVpuhYbVbTifYMVotL1g0JUtLWCA9Mh4lDp7dFK0RZG1rqWsUo6CkrR5tamRtbGsXDdAA" rel="nofollow noreferrer">Attempt This Online!</a></p>
<h3>Explanation</h3>
<p>We use the equivalent formula <span class="math-container">\$\sum_{i=1}^n\frac{A_i}{\sqrt{\sum_{i=1}^nA_i^2}}\frac{B_i}{\sqrt{\sum_{i=1}^nB_i^2}}\$</span>:</p>
<pre class="lang-lisp prettyprint-override"><code>$*_MS Zg/RT$+*SQg
                   ; g is list of command-line args, evaluated (-x flag)
              SQg  ; Square each value in the list of two vectors
           $+*     ; Sum each squared vector
         RT        ; Take the square root of each sum
       g/          ; Divide the list of two vectors by that list of two magnitudes
      Z            ; Zip (transpose) the list of two vectors, pairing up corresponding
                   ; elements and trimming the longer vector to the length of the
                   ; shorter one (which, at the dot product stage, is equivalent to
                   ; right-padding the shorter one with zeros)
   MS              ; Map this function to each pair of values and sum the results:
$*_                ;   Take the product of the values
</code></pre>
</div>
<div id="pu27" class="pu"><h1><a href="https://github.com/mudkip201/pyt" rel="nofollow noreferrer">Pyt</a>, 20 bytes</h1>
<pre><code>Đ←Đ04Ș*Ʃ⇹²Ʃ↔+²Ʃ⇹↔*√/
</code></pre>
<p><a href="https://tio.run/##K6gs@f//yIRHbROOTDAwOTFD69jKR@07D20CUm1TtMF0@04gU@tRxyz9//@jdc11THQsdSxiuaINzXQMdXSNdExjAQ" rel="nofollow noreferrer" title="Pyt – Try It Online">Try it online!</a></p>
<pre><code>Đ←Đ04Ș                       Gets stack set up for calculations
      *Ʃ                     A·B
        ⇹²Ʃ↔+²Ʃ⇹↔*√          ||A||*||B||
                   /         divide; implicit print
</code></pre>
</div>
<div id="pu28" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a> <code>s</code>, 7 bytes</h1>
<pre><code>*□²Ṡ√Π/
</code></pre>
<p><a href="https://vyxal.pythonanywhere.com/#WyJB4biLcyIsIiIsIirilqHCsuG5oOKIms6gLyIsIiIsIlsxLDIsM10sIFs0LDUsNl1cbls5LCA2MiwgMCwgM10sIFsyNSwgMywgNl1cblstNywgNCwgOSwgOF0sIFsxNiwgMSwgLTIsIDVdXG5bODIsIC05XSwgWzcsIDUyLCAzXSJd" rel="nofollow noreferrer">Try it Online!</a></p>
<p>Link includes test cases. <code>ḋ</code> flag prints numbers as decimals (for convenience) rather than as rationals, but is not needed.</p>
<p><em>-1 thanks to @lyxal</em></p>
<h4>Explanation</h4>
<pre class="lang-python prettyprint-override"><code>*□²Ṡ√Π/  # Implicit input
*        # Vectorised multiplication
 □²      # Input list squared
   Ṡ√    # Sum and square root
     Π   # Product
      /  # Divide
         # s flag sums the list
         # Implicit output
</code></pre>
<p>Old:</p>
<pre class="lang-python prettyprint-override"><code>Þ•2(?²∑√)*/  # Implicit input
Þ•           # Dot product: seems to handle the padding with 0s
  2(    )    # Repeat twice:
    ?        #  Next input
     ²       #  Squared
      ∑      #  Summed
       √     #  Square rooted
         *   # Multiply both
          /  # Divide
             # Implicit output
</code></pre>
</div>
<div id="pu29" class="pu"><h1>JavaScript (ES6), 76 bytes</h1>
<p>Expects <code>(a)(b)</code>.</p>

<pre class="lang-javascript prettyprint-override"><code>a=&gt;b=&gt;[...a+b].reduce(t=&gt;t+~~a[i]*~~b[i++]/h(...a)/h(...b),i=0,h=Math.hypot)
</code></pre>
<p><a href="https://tio.run/##Tc5NbsMgEAXgvU8xS6gHTPyTxKrwrsueALEAxw6uohA5tFI3vrqLa9cqGyT43pv5MF/m2Y7DI7C7v3RzL2cjGysbxTk3qdV87C6fbUeCbEI6TUYN@mWarBrSVGeOLIqut6U4SIFOvpvguPt@@EDnV5UAKFAHhByh0AiqRKgQjhr2E1@zDCbB61O58jqC6MUWyWOg2DM7z6tVsxNCbI2h86IPR4Q4j8WCSv9pJnix8XP8YPUiY676XevfLrCVi7xMdMJ7P76Z1hGiDILVFGQDrb8//a3jN38lPTGUWErp/AM" rel="nofollow noreferrer" title="JavaScript (Node.js) – Try It Online">Try it online!</a></p>
<h3>Commented</h3>
<pre class="lang-javascript prettyprint-override"><code>a =&gt;             // outer function taking the 1st vector a[]
b =&gt;             // inner function taking the 2nd vector b[]
[...a + b]       // build a large enough array to make sure that we
                 // iterate on all values of the largest vector
.reduce(t =&gt;     // using t as an accumulator, for each entry in there:
  t +            //   add to t:
    ~~a[i]       //     either a[i] or 0
    * ~~b[i++]   //     multiplied by either b[i] or 0 (then increment i)
    / h(...a)    //     divided by hypot(a)
    / h(...b),   //     divided by hypot(b)
  i = 0,         //   start with t = i = 0
  h = Math.hypot //   h is an alias for Math.hypot
)                // end of reduce()
</code></pre>
</div>
<div id="pu30" class="pu"><h1><a href="https://github.com/Vyxal/Vyxal" rel="nofollow noreferrer">Vyxal</a>, 9 bytes</h1>
<pre><code>Þ•∇&quot;²Ṡ√Π/
</code></pre>
<p>Edit: Thunno ninja'd me but kinda want to leave my answer here as it (was) shorter</p>
<p><a href="https://vyxal.pythonanywhere.com/#WyLhuIsiLCIiLCLDnuKAouKIh1wiwrLhuaDiiJrOoC8iLCIiLCJbOSwgNjIsIDAsIDNdXG5bMjUsIDMsIDZdIl0=" rel="nofollow noreferrer">Try it Online!</a></p>
<p><strong>How it works:</strong></p>
<pre><code>Þ•∇&quot;²Ṡ√Π/
Þ•          Calculate the dot product
  ∇         Shift stack
   &quot;        Pair the vectors
    ²Ṡ√     Square, take vectorised sum and square root
       Π/   Push product and divide
</code></pre>
</div>

<table id="st">
<!-- Popups content will be added here -->
</table>

<table id="at">
<!-- Popups content will be added here -->
</table>

</div>





  <div class="footer">
      <b><a class="nonewtab" href="../">GOLFSCORE/</a><a href="https://codegolf.stackexchange.com/questions/259755/">259755</a></b>
  </div>
<div class="footer-space">&nbsp;</div>



<script src="../c.js"> </script>
</body>
</html>




